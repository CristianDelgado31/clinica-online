var l3=Object.create;var Xy=Object.defineProperty,u3=Object.defineProperties,d3=Object.getOwnPropertyDescriptor,f3=Object.getOwnPropertyDescriptors,h3=Object.getOwnPropertyNames,Wd=Object.getOwnPropertySymbols,Qx=Object.getPrototypeOf,Jy=Object.prototype.hasOwnProperty,Yx=Object.prototype.propertyIsEnumerable,p3=Reflect.get;var Zy=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t);var Kx=(t,e,n)=>e in t?Xy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E=(t,e)=>{for(var n in e||={})Jy.call(e,n)&&Kx(t,n,e[n]);if(Wd)for(var n of Wd(e))Yx.call(e,n)&&Kx(t,n,e[n]);return t},L=(t,e)=>u3(t,f3(e));var Hs=(t,e)=>{var n={};for(var r in t)Jy.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Wd)for(var r of Wd(t))e.indexOf(r)<0&&Yx.call(t,r)&&(n[r]=t[r]);return n};var Dn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var m3=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of h3(e))!Jy.call(t,i)&&i!==n&&Xy(t,i,{get:()=>e[i],enumerable:!(r=d3(e,i))||r.enumerable});return t};var ev=(t,e,n)=>(n=t!=null?l3(Qx(t)):{},m3(e||!t||!t.__esModule?Xy(n,"default",{value:t,enumerable:!0}):n,t));var Cr=(t,e,n)=>p3(Qx(t),n,e);var g=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())}),pt=function(t,e){this[0]=t,this[1]=e},En=(t,e,n)=>{var r=(o,a,c,u)=>{try{var d=n[o](a),h=(a=d.value)instanceof pt,m=d.done;Promise.resolve(h?a[0]:a).then(y=>h?r(o==="return"?o:"next",a[1]?{done:y.done,value:y.value}:y,c,u):c({value:y,done:m})).catch(y=>r("throw",y,c,u))}catch(y){u(y)}},i=o=>s[o]=a=>new Promise((c,u)=>r(o,a,c,u)),s={};return n=n.apply(t,e),s[Zy("asyncIterator")]=()=>s,i("next"),i("throw"),i("return"),s};var ii=(t,e,n)=>(e=t[Zy("asyncIterator")])?e.call(t):(t=t[Zy("iterator")](),e={},n=(r,i)=>(i=t[r])&&(e[r]=s=>new Promise((o,a,c)=>(s=i.call(t,s),c=s.done,Promise.resolve(s.value).then(u=>o({value:u,done:c}),a)))),n("next"),n("return"),e);var tg=Dn(Li=>{"use strict";var AF=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",NQ=AF+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",TF="["+AF+"]["+NQ+"]*",MQ=new RegExp("^"+TF+"$"),PQ=function(t,e){let n=[],r=e.exec(t);for(;r;){let i=[];i.startIndex=e.lastIndex-r[0].length;let s=r.length;for(let o=0;o<s;o++)i.push(r[o]);n.push(i),r=e.exec(t)}return n},kQ=function(t){let e=MQ.exec(t);return!(e===null||typeof e>"u")};Li.isExist=function(t){return typeof t<"u"};Li.isEmptyObject=function(t){return Object.keys(t).length===0};Li.merge=function(t,e,n){if(e){let r=Object.keys(e),i=r.length;for(let s=0;s<i;s++)n==="strict"?t[r[s]]=[e[r[s]]]:t[r[s]]=e[r[s]]}};Li.getValue=function(t){return Li.isExist(t)?t:""};Li.isName=kQ;Li.getAllMatches=PQ;Li.nameRegexp=TF});var _I=Dn(PF=>{"use strict";var vI=tg(),OQ={allowBooleanAttributes:!1,unpairedTags:[]};PF.validate=function(t,e){e=Object.assign({},OQ,e);let n=[],r=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let s=0;s<t.length;s++)if(t[s]==="<"&&t[s+1]==="?"){if(s+=2,s=RF(t,s),s.err)return s}else if(t[s]==="<"){let o=s;if(s++,t[s]==="!"){s=NF(t,s);continue}else{let a=!1;t[s]==="/"&&(a=!0,s++);let c="";for(;s<t.length&&t[s]!==">"&&t[s]!==" "&&t[s]!=="	"&&t[s]!==`
`&&t[s]!=="\r";s++)c+=t[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!HQ(c)){let h;return c.trim().length===0?h="Invalid space after '<'.":h="Tag '"+c+"' is an invalid name.",ft("InvalidTag",h,mn(t,s))}let u=VQ(t,s);if(u===!1)return ft("InvalidAttr","Attributes for '"+c+"' have open quote.",mn(t,s));let d=u.value;if(s=u.index,d[d.length-1]==="/"){let h=s-d.length;d=d.substring(0,d.length-1);let m=MF(d,e);if(m===!0)r=!0;else return ft(m.err.code,m.err.msg,mn(t,h+m.err.line))}else if(a)if(u.tagClosed){if(d.trim().length>0)return ft("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",mn(t,o));if(n.length===0)return ft("InvalidTag","Closing tag '"+c+"' has not been opened.",mn(t,o));{let h=n.pop();if(c!==h.tagName){let m=mn(t,h.tagStartPos);return ft("InvalidTag","Expected closing tag '"+h.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+c+"'.",mn(t,o))}n.length==0&&(i=!0)}}else return ft("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",mn(t,s));else{let h=MF(d,e);if(h!==!0)return ft(h.err.code,h.err.msg,mn(t,s-d.length+h.err.line));if(i===!0)return ft("InvalidXml","Multiple possible root nodes found.",mn(t,s));e.unpairedTags.indexOf(c)!==-1||n.push({tagName:c,tagStartPos:o}),r=!0}for(s++;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="!"){s++,s=NF(t,s);continue}else if(t[s+1]==="?"){if(s=RF(t,++s),s.err)return s}else break;else if(t[s]==="&"){let h=jQ(t,s);if(h==-1)return ft("InvalidChar","char '&' is not expected.",mn(t,s));s=h}else if(i===!0&&!DF(t[s]))return ft("InvalidXml","Extra text at the end",mn(t,s));t[s]==="<"&&s--}}else{if(DF(t[s]))continue;return ft("InvalidChar","char '"+t[s]+"' is not expected.",mn(t,s))}if(r){if(n.length==1)return ft("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",mn(t,n[0].tagStartPos));if(n.length>0)return ft("InvalidXml","Invalid '"+JSON.stringify(n.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ft("InvalidXml","Start tag expected.",1);return!0};function DF(t){return t===" "||t==="	"||t===`
`||t==="\r"}function RF(t,e){let n=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let r=t.substr(n,e-n);if(e>5&&r==="xml")return ft("InvalidXml","XML declaration allowed only at the start of the document.",mn(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function NF(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let n=1;for(e+=8;e<t.length;e++)if(t[e]==="<")n++;else if(t[e]===">"&&(n--,n===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}var FQ='"',LQ="'";function VQ(t,e){let n="",r="",i=!1;for(;e<t.length;e++){if(t[e]===FQ||t[e]===LQ)r===""?r=t[e]:r!==t[e]||(r="");else if(t[e]===">"&&r===""){i=!0;break}n+=t[e]}return r!==""?!1:{value:n,index:e,tagClosed:i}}var BQ=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function MF(t,e){let n=vI.getAllMatches(t,BQ),r={};for(let i=0;i<n.length;i++){if(n[i][1].length===0)return ft("InvalidAttr","Attribute '"+n[i][2]+"' has no space in starting.",hd(n[i]));if(n[i][3]!==void 0&&n[i][4]===void 0)return ft("InvalidAttr","Attribute '"+n[i][2]+"' is without value.",hd(n[i]));if(n[i][3]===void 0&&!e.allowBooleanAttributes)return ft("InvalidAttr","boolean attribute '"+n[i][2]+"' is not allowed.",hd(n[i]));let s=n[i][2];if(!$Q(s))return ft("InvalidAttr","Attribute '"+s+"' is an invalid name.",hd(n[i]));if(!r.hasOwnProperty(s))r[s]=1;else return ft("InvalidAttr","Attribute '"+s+"' is repeated.",hd(n[i]))}return!0}function UQ(t,e){let n=/\d/;for(t[e]==="x"&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(n))break}return-1}function jQ(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,UQ(t,e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(t[e]===";")break;return-1}return e}function ft(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function $Q(t){return vI.isName(t)}function HQ(t){return vI.isName(t)}function mn(t,e){let n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function hd(t){return t.startIndex+t[1].length}});var OF=Dn(EI=>{"use strict";var kF={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}},qQ=function(t){return Object.assign({},kF,t)};EI.buildOptions=qQ;EI.defaultOptions=kF});var LF=Dn(($Ee,FF)=>{"use strict";var wI=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,n){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:n})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};FF.exports=wI});var BF=Dn((HEe,VF)=>{"use strict";var zQ=tg();function GQ(t,e){let n={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let r=1,i=!1,s=!1,o="";for(;e<t.length;e++)if(t[e]==="<"&&!s){if(i&&QQ(t,e))e+=7,[entityName,val,e]=WQ(t,e+1),val.indexOf("&")===-1&&(n[JQ(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(i&&YQ(t,e))e+=8;else if(i&&ZQ(t,e))e+=8;else if(i&&XQ(t,e))e+=9;else if(KQ)s=!0;else throw new Error("Invalid DOCTYPE");r++,o=""}else if(t[e]===">"){if(s?t[e-1]==="-"&&t[e-2]==="-"&&(s=!1,r--):r--,r===0)break}else t[e]==="["?i=!0:o+=t[e];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:e}}function WQ(t,e){let n="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)n+=t[e];if(n=n.trim(),n.indexOf(" ")!==-1)throw new Error("External entites are not supported");let r=t[e++],i="";for(;e<t.length&&t[e]!==r;e++)i+=t[e];return[n,i,e]}function KQ(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function QQ(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function YQ(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function ZQ(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function XQ(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function JQ(t){if(zQ.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}VF.exports=GQ});var jF=Dn((qEe,UF)=>{"use strict";var eY=/^[-+]?0x[a-fA-F0-9]+$/,tY=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var nY={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function rY(t,e={}){if(e=Object.assign({},nY,e),!t||typeof t!="string")return t;let n=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(n))return t;if(e.hex&&eY.test(n))return Number.parseInt(n,16);{let r=tY.exec(n);if(r){let i=r[1],s=r[2],o=iY(r[3]),a=r[4]||r[6];if(!e.leadingZeros&&s.length>0&&i&&n[2]!==".")return t;if(!e.leadingZeros&&s.length>0&&!i&&n[1]!==".")return t;{let c=Number(n),u=""+c;return u.search(/[eE]/)!==-1||a?e.eNotation?c:t:n.indexOf(".")!==-1?u==="0"&&o===""||u===o||i&&u==="-"+o?c:t:s?o===u||i+o===u?c:t:n===u||n===i+u?c:t}}else return t}}function iY(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}UF.exports=rY});var qF=Dn((zEe,HF)=>{"use strict";var $F=tg(),pd=LF(),sY=BF(),oY=jF(),bI=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,16))}},this.addExternalEntities=aY,this.parseXml=fY,this.parseTextData=cY,this.resolveNameSpace=lY,this.buildAttributesMap=dY,this.isItStopNode=gY,this.replaceEntitiesValue=pY,this.readStopNodeData=vY,this.saveTextToParentTag=mY,this.addChild=hY}};function aY(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function cY(t,e,n,r,i,s,o){if(t!==void 0&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){o||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,n,i,s);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?II(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?II(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function lY(t){if(this.options.removeNSPrefix){let e=t.split(":"),n=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=n+e[1])}return t}var uY=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function dY(t,e,n){if(!this.options.ignoreAttributes&&typeof t=="string"){let r=$F.getAllMatches(t,uY),i=r.length,s={};for(let o=0;o<i;o++){let a=this.resolveNameSpace(r[o][1]),c=r[o][4],u=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let d=this.options.attributeValueProcessor(a,c,e);d==null?s[u]=c:typeof d!=typeof c||d!==c?s[u]=d:s[u]=II(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[u]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let o={};return o[this.options.attributesGroupName]=s,o}return s}}var fY=function(t){t=t.replace(/\r\n?/g,`
`);let e=new pd("!xml"),n=e,r="",i="";for(let s=0;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="/"){let a=Go(t,">",s,"Closing Tag is not closed."),c=t.substring(s+2,a).trim();if(this.options.removeNSPrefix){let h=c.indexOf(":");h!==-1&&(c=c.substr(h+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&(r=this.saveTextToParentTag(r,n,i));let u=i.substring(i.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let d=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(d=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=i.lastIndexOf("."),i=i.substring(0,d),n=this.tagsNodeStack.pop(),r="",s=a}else if(t[s+1]==="?"){let a=CI(t,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new pd(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(n,c,i)}s=a.closeIndex+1}else if(t.substr(s+1,3)==="!--"){let a=Go(t,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=t.substring(s+4,a-2);r=this.saveTextToParentTag(r,n,i),n.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(t.substr(s+1,2)==="!D"){let a=sY(t,s);this.docTypeEntities=a.entities,s=a.i}else if(t.substr(s+1,2)==="!["){let a=Go(t,"]]>",s,"CDATA is not closed.")-2,c=t.substring(s+9,a);r=this.saveTextToParentTag(r,n,i);let u=this.parseTextData(c,n.tagname,i,!0,!1,!0,!0);u==null&&(u=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):n.add(this.options.textNodeName,u),s=a+2}else{let a=CI(t,s,this.options.removeNSPrefix),c=a.tagName,u=a.rawTagName,d=a.tagExp,h=a.attrExpPresent,m=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,i,!1));let y=n;if(y&&this.options.unpairedTags.indexOf(y.tagname)!==-1&&(n=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),c!==e.tagname&&(i+=i?"."+c:c),this.isItStopNode(this.options.stopNodes,i,c)){let _="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),d=c):d=d.substr(0,d.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let S=this.readStopNodeData(t,u,m+1);if(!S)throw new Error(`Unexpected end of ${u}`);s=S.i,_=S.tagContent}let D=new pd(c);c!==d&&h&&(D[":@"]=this.buildAttributesMap(d,i,c)),_&&(_=this.parseTextData(_,c,i,!0,h,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),D.add(this.options.textNodeName,_),this.addChild(n,D,i)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let _=new pd(c);c!==d&&h&&(_[":@"]=this.buildAttributesMap(d,i,c)),this.addChild(n,_,i),i=i.substr(0,i.lastIndexOf("."))}else{let _=new pd(c);this.tagsNodeStack.push(n),c!==d&&h&&(_[":@"]=this.buildAttributesMap(d,i,c)),this.addChild(n,_,i),n=_}r="",s=m}}else r+=t[s];return e.child};function hY(t,e,n){let r=this.options.updateTag(e.tagname,n,e[":@"]);r===!1||(typeof r=="string"&&(e.tagname=r),t.addChild(e))}var pY=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){let n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function mY(t,e,n,r){return t&&(r===void 0&&(r=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,n,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,r),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function gY(t,e,n){let r="*."+n;for(let i in t){let s=t[i];if(r===s||e===s)return!0}return!1}function yY(t,e,n=">"){let r,i="";for(let s=e;s<t.length;s++){let o=t[s];if(r)o===r&&(r="");else if(o==='"'||o==="'")r=o;else if(o===n[0])if(n[1]){if(t[s+1]===n[1])return{data:i,index:s}}else return{data:i,index:s};else o==="	"&&(o=" ");i+=o}}function Go(t,e,n,r){let i=t.indexOf(e,n);if(i===-1)throw new Error(r);return i+e.length-1}function CI(t,e,n,r=">"){let i=yY(t,e+1,r);if(!i)return;let s=i.data,o=i.index,a=s.search(/\s/),c=s,u=!0;a!==-1&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());let d=c;if(n){let h=c.indexOf(":");h!==-1&&(c=c.substr(h+1),u=c!==i.data.substr(h+1))}return{tagName:c,tagExp:s,closeIndex:o,attrExpPresent:u,rawTagName:d}}function vY(t,e,n){let r=n,i=1;for(;n<t.length;n++)if(t[n]==="<")if(t[n+1]==="/"){let s=Go(t,">",n,`${e} is not closed`);if(t.substring(n+2,s).trim()===e&&(i--,i===0))return{tagContent:t.substring(r,n),i:s};n=s}else if(t[n+1]==="?")n=Go(t,"?>",n+1,"StopNode is not closed.");else if(t.substr(n+1,3)==="!--")n=Go(t,"-->",n+3,"StopNode is not closed.");else if(t.substr(n+1,2)==="![")n=Go(t,"]]>",n,"StopNode is not closed.")-2;else{let s=CI(t,n,">");s&&((s&&s.tagName)===e&&s.tagExp[s.tagExp.length-1]!=="/"&&i++,n=s.closeIndex)}}function II(t,e,n){if(e&&typeof t=="string"){let r=t.trim();return r==="true"?!0:r==="false"?!1:oY(t,n)}else return $F.isExist(t)?t:""}HF.exports=bI});var WF=Dn(GF=>{"use strict";function _Y(t,e){return zF(t,e)}function zF(t,e,n){let r,i={};for(let s=0;s<t.length;s++){let o=t[s],a=EY(o),c="";if(n===void 0?c=a:c=n+"."+a,a===e.textNodeName)r===void 0?r=o[a]:r+=""+o[a];else{if(a===void 0)continue;if(o[a]){let u=zF(o[a],e,c),d=bY(u,e);o[":@"]?wY(u,o[":@"],c,e):Object.keys(u).length===1&&u[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?u=u[e.textNodeName]:Object.keys(u).length===0&&(e.alwaysCreateTextNode?u[e.textNodeName]="":u=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(u)):e.isArray(a,c,d)?i[a]=[u]:i[a]=u}}}return typeof r=="string"?r.length>0&&(i[e.textNodeName]=r):r!==void 0&&(i[e.textNodeName]=r),i}function EY(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];if(r!==":@")return r}}function wY(t,e,n,r){if(e){let i=Object.keys(e),s=i.length;for(let o=0;o<s;o++){let a=i[o];r.isArray(a,n+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function bY(t,e){let{textNodeName:n}=e,r=Object.keys(t).length;return!!(r===0||r===1&&(t[n]||typeof t[n]=="boolean"||t[n]===0))}GF.prettify=_Y});var QF=Dn((WEe,KF)=>{"use strict";var{buildOptions:CY}=OF(),IY=qF(),{prettify:SY}=WF(),xY=_I(),SI=class{constructor(e){this.externalEntities={},this.options=CY(e)}parse(e,n){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});let s=xY.validate(e,n);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let r=new IY(this.options);r.addExternalEntities(this.externalEntities);let i=r.parseXml(e);return this.options.preserveOrder||i===void 0?i:SY(i,this.options)}addEntity(e,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=n}};KF.exports=SI});var eL=Dn((KEe,JF)=>{"use strict";var AY=`
`;function TY(t,e){let n="";return e.format&&e.indentBy.length>0&&(n=AY),ZF(t,e,"",n)}function ZF(t,e,n,r){let i="",s=!1;for(let o=0;o<t.length;o++){let a=t[o],c=DY(a);if(c===void 0)continue;let u="";if(n.length===0?u=c:u=`${n}.${c}`,c===e.textNodeName){let _=a[c];RY(u,e)||(_=e.tagValueProcessor(c,_),_=XF(_,e)),s&&(i+=r),i+=_,s=!1;continue}else if(c===e.cdataPropName){s&&(i+=r),i+=`<![CDATA[${a[c][0][e.textNodeName]}]]>`,s=!1;continue}else if(c===e.commentPropName){i+=r+`<!--${a[c][0][e.textNodeName]}-->`,s=!0;continue}else if(c[0]==="?"){let _=YF(a[":@"],e),D=c==="?xml"?"":r,S=a[c][0][e.textNodeName];S=S.length!==0?" "+S:"",i+=D+`<${c}${S}${_}?>`,s=!0;continue}let d=r;d!==""&&(d+=e.indentBy);let h=YF(a[":@"],e),m=r+`<${c}${h}`,y=ZF(a[c],e,u,d);e.unpairedTags.indexOf(c)!==-1?e.suppressUnpairedNode?i+=m+">":i+=m+"/>":(!y||y.length===0)&&e.suppressEmptyNode?i+=m+"/>":y&&y.endsWith(">")?i+=m+`>${y}${r}</${c}>`:(i+=m+">",y&&r!==""&&(y.includes("/>")||y.includes("</"))?i+=r+e.indentBy+y+r:i+=y,i+=`</${c}>`),s=!0}return i}function DY(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];if(t.hasOwnProperty(r)&&r!==":@")return r}}function YF(t,e){let n="";if(t&&!e.ignoreAttributes)for(let r in t){if(!t.hasOwnProperty(r))continue;let i=e.attributeValueProcessor(r,t[r]);i=XF(i,e),i===!0&&e.suppressBooleanAttributes?n+=` ${r.substr(e.attributeNamePrefix.length)}`:n+=` ${r.substr(e.attributeNamePrefix.length)}="${i}"`}return n}function RY(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let n=t.substr(t.lastIndexOf(".")+1);for(let r in e.stopNodes)if(e.stopNodes[r]===t||e.stopNodes[r]==="*."+n)return!0;return!1}function XF(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){let r=e.entities[n];t=t.replace(r.regex,r.val)}return t}JF.exports=TY});var nL=Dn((QEe,tL)=>{"use strict";var NY=eL(),MY={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Ns(t){this.options=Object.assign({},MY,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=OY),this.processTextOrObjNode=PY,this.options.format?(this.indentate=kY,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Ns.prototype.build=function(t){return this.options.preserveOrder?NY(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};Ns.prototype.j2x=function(t,e){let n="",r="";for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i))if(typeof t[i]>"u")this.isAttribute(i)&&(r+="");else if(t[i]===null)this.isAttribute(i)?r+="":i[0]==="?"?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)r+=this.buildTextValNode(t[i],i,"",e);else if(typeof t[i]!="object"){let s=this.isAttribute(i);if(s)n+=this.buildAttrPairStr(s,""+t[i]);else if(i===this.options.textNodeName){let o=this.options.tagValueProcessor(i,""+t[i]);r+=this.replaceEntitiesValue(o)}else r+=this.buildTextValNode(t[i],i,"",e)}else if(Array.isArray(t[i])){let s=t[i].length,o="",a="";for(let c=0;c<s;c++){let u=t[i][c];if(!(typeof u>"u"))if(u===null)i[0]==="?"?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(typeof u=="object")if(this.options.oneListGroup){let d=this.j2x(u,e+1);o+=d.val,this.options.attributesGroupName&&u.hasOwnProperty(this.options.attributesGroupName)&&(a+=d.attrStr)}else o+=this.processTextOrObjNode(u,i,e);else if(this.options.oneListGroup){let d=this.options.tagValueProcessor(i,u);d=this.replaceEntitiesValue(d),o+=d}else o+=this.buildTextValNode(u,i,"",e)}this.options.oneListGroup&&(o=this.buildObjectNode(o,i,a,e)),r+=o}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){let s=Object.keys(t[i]),o=s.length;for(let a=0;a<o;a++)n+=this.buildAttrPairStr(s[a],""+t[i][s[a]])}else r+=this.processTextOrObjNode(t[i],i,e);return{attrStr:n,val:r}};Ns.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function PY(t,e,n){let r=this.j2x(t,n+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,r.attrStr,n):this.buildObjectNode(r.val,e,r.attrStr,n)}Ns.prototype.buildObjectNode=function(t,e,n,r){if(t==="")return e[0]==="?"?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar;{let i="</"+e+this.tagEndChar,s="";return e[0]==="?"&&(s="?",i=""),(n||n==="")&&t.indexOf("<")===-1?this.indentate(r)+"<"+e+n+s+">"+t+i:this.options.commentPropName!==!1&&e===this.options.commentPropName&&s.length===0?this.indentate(r)+`<!--${t}-->`+this.newLine:this.indentate(r)+"<"+e+n+s+this.tagEndChar+t+this.indentate(r)+i}};Ns.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};Ns.prototype.buildTextValNode=function(t,e,n,r){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(r)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(r)+"<"+e+n+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),i===""?this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(r)+"<"+e+n+">"+i+"</"+e+this.tagEndChar}};Ns.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t};function kY(t){return this.options.indentBy.repeat(t)}function OY(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}tL.exports=Ns});var iL=Dn((YEe,rL)=>{"use strict";var FY=_I(),LY=QF(),VY=nL();rL.exports={XMLParser:LY,XMLValidator:FY,XMLBuilder:VY}});var qS=Dn((Ad,HS)=>{"use strict";(function(t,e){typeof Ad=="object"&&typeof HS=="object"?HS.exports=e():typeof define=="function"&&define.amd?define([],e):typeof Ad=="object"?Ad.bowser=e():t.bowser=e()})(Ad,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(r,i,s){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:s})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var o in r)n.d(s,o,function(a){return r[a]}.bind(null,o));return s},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=90)}({17:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(18),i=function(){function s(){}return s.getFirstMatch=function(o,a){var c=a.match(o);return c&&c.length>0&&c[1]||""},s.getSecondMatch=function(o,a){var c=a.match(o);return c&&c.length>1&&c[2]||""},s.matchAndReturnConst=function(o,a,c){if(o.test(a))return c},s.getWindowsVersionName=function(o){switch(o){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},s.getMacOSVersionName=function(o){var a=o.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(a.push(0),a[0]===10)switch(a[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},s.getAndroidVersionName=function(o){var a=o.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(a.push(0),!(a[0]===1&&a[1]<5))return a[0]===1&&a[1]<6?"Cupcake":a[0]===1&&a[1]>=6?"Donut":a[0]===2&&a[1]<2?"Eclair":a[0]===2&&a[1]===2?"Froyo":a[0]===2&&a[1]>2?"Gingerbread":a[0]===3?"Honeycomb":a[0]===4&&a[1]<1?"Ice Cream Sandwich":a[0]===4&&a[1]<4?"Jelly Bean":a[0]===4&&a[1]>=4?"KitKat":a[0]===5?"Lollipop":a[0]===6?"Marshmallow":a[0]===7?"Nougat":a[0]===8?"Oreo":a[0]===9?"Pie":void 0},s.getVersionPrecision=function(o){return o.split(".").length},s.compareVersions=function(o,a,c){c===void 0&&(c=!1);var u=s.getVersionPrecision(o),d=s.getVersionPrecision(a),h=Math.max(u,d),m=0,y=s.map([o,a],function(_){var D=h-s.getVersionPrecision(_),S=_+new Array(D+1).join(".0");return s.map(S.split("."),function(O){return new Array(20-O.length).join("0")+O}).reverse()});for(c&&(m=h-Math.min(u,d)),h-=1;h>=m;){if(y[0][h]>y[1][h])return 1;if(y[0][h]===y[1][h]){if(h===m)return 0;h-=1}else if(y[0][h]<y[1][h])return-1}},s.map=function(o,a){var c,u=[];if(Array.prototype.map)return Array.prototype.map.call(o,a);for(c=0;c<o.length;c+=1)u.push(a(o[c]));return u},s.find=function(o,a){var c,u;if(Array.prototype.find)return Array.prototype.find.call(o,a);for(c=0,u=o.length;c<u;c+=1){var d=o[c];if(a(d,c))return d}},s.assign=function(o){for(var a,c,u=o,d=arguments.length,h=new Array(d>1?d-1:0),m=1;m<d;m++)h[m-1]=arguments[m];if(Object.assign)return Object.assign.apply(Object,[o].concat(h));var y=function(){var _=h[a];typeof _=="object"&&_!==null&&Object.keys(_).forEach(function(D){u[D]=_[D]})};for(a=0,c=h.length;a<c;a+=1)y();return o},s.getBrowserAlias=function(o){return r.BROWSER_ALIASES_MAP[o]},s.getBrowserTypeByAlias=function(o){return r.BROWSER_MAP[o]||""},s}();e.default=i,t.exports=e.default},18:function(t,e,n){"use strict";e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},s=n(18);function o(c,u){for(var d=0;d<u.length;d++){var h=u[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}var a=function(){function c(){}var u,d,h;return c.getParser=function(m,y){if(y===void 0&&(y=!1),typeof m!="string")throw new Error("UserAgent should be a string");return new i.default(m,y)},c.parse=function(m){return new i.default(m).getResult()},u=c,h=[{key:"BROWSER_MAP",get:function(){return s.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return s.ENGINE_MAP}},{key:"OS_MAP",get:function(){return s.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return s.PLATFORMS_MAP}}],(d=null)&&o(u.prototype,d),h&&o(u,h),c}();e.default=a,t.exports=e.default},91:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=c(n(92)),i=c(n(93)),s=c(n(94)),o=c(n(95)),a=c(n(17));function c(d){return d&&d.__esModule?d:{default:d}}var u=function(){function d(m,y){if(y===void 0&&(y=!1),m==null||m==="")throw new Error("UserAgent parameter can't be empty");this._ua=m,this.parsedResult={},y!==!0&&this.parse()}var h=d.prototype;return h.getUA=function(){return this._ua},h.test=function(m){return m.test(this._ua)},h.parseBrowser=function(){var m=this;this.parsedResult.browser={};var y=a.default.find(r.default,function(_){if(typeof _.test=="function")return _.test(m);if(_.test instanceof Array)return _.test.some(function(D){return m.test(D)});throw new Error("Browser's test function is not valid")});return y&&(this.parsedResult.browser=y.describe(this.getUA())),this.parsedResult.browser},h.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},h.getBrowserName=function(m){return m?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},h.getBrowserVersion=function(){return this.getBrowser().version},h.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},h.parseOS=function(){var m=this;this.parsedResult.os={};var y=a.default.find(i.default,function(_){if(typeof _.test=="function")return _.test(m);if(_.test instanceof Array)return _.test.some(function(D){return m.test(D)});throw new Error("Browser's test function is not valid")});return y&&(this.parsedResult.os=y.describe(this.getUA())),this.parsedResult.os},h.getOSName=function(m){var y=this.getOS().name;return m?String(y).toLowerCase()||"":y||""},h.getOSVersion=function(){return this.getOS().version},h.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},h.getPlatformType=function(m){m===void 0&&(m=!1);var y=this.getPlatform().type;return m?String(y).toLowerCase()||"":y||""},h.parsePlatform=function(){var m=this;this.parsedResult.platform={};var y=a.default.find(s.default,function(_){if(typeof _.test=="function")return _.test(m);if(_.test instanceof Array)return _.test.some(function(D){return m.test(D)});throw new Error("Browser's test function is not valid")});return y&&(this.parsedResult.platform=y.describe(this.getUA())),this.parsedResult.platform},h.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},h.getEngineName=function(m){return m?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},h.parseEngine=function(){var m=this;this.parsedResult.engine={};var y=a.default.find(o.default,function(_){if(typeof _.test=="function")return _.test(m);if(_.test instanceof Array)return _.test.some(function(D){return m.test(D)});throw new Error("Browser's test function is not valid")});return y&&(this.parsedResult.engine=y.describe(this.getUA())),this.parsedResult.engine},h.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},h.getResult=function(){return a.default.assign({},this.parsedResult)},h.satisfies=function(m){var y=this,_={},D=0,S={},O=0;if(Object.keys(m).forEach(function(C){var x=m[C];typeof x=="string"?(S[C]=x,O+=1):typeof x=="object"&&(_[C]=x,D+=1)}),D>0){var H=Object.keys(_),W=a.default.find(H,function(C){return y.isOS(C)});if(W){var te=this.satisfies(_[W]);if(te!==void 0)return te}var Se=a.default.find(H,function(C){return y.isPlatform(C)});if(Se){var se=this.satisfies(_[Se]);if(se!==void 0)return se}}if(O>0){var T=Object.keys(S),b=a.default.find(T,function(C){return y.isBrowser(C,!0)});if(b!==void 0)return this.compareVersion(S[b])}},h.isBrowser=function(m,y){y===void 0&&(y=!1);var _=this.getBrowserName().toLowerCase(),D=m.toLowerCase(),S=a.default.getBrowserTypeByAlias(D);return y&&S&&(D=S.toLowerCase()),D===_},h.compareVersion=function(m){var y=[0],_=m,D=!1,S=this.getBrowserVersion();if(typeof S=="string")return m[0]===">"||m[0]==="<"?(_=m.substr(1),m[1]==="="?(D=!0,_=m.substr(2)):y=[],m[0]===">"?y.push(1):y.push(-1)):m[0]==="="?_=m.substr(1):m[0]==="~"&&(D=!0,_=m.substr(1)),y.indexOf(a.default.compareVersions(S,_,D))>-1},h.isOS=function(m){return this.getOSName(!0)===String(m).toLowerCase()},h.isPlatform=function(m){return this.getPlatformType(!0)===String(m).toLowerCase()},h.isEngine=function(m){return this.getEngineName(!0)===String(m).toLowerCase()},h.is=function(m,y){return y===void 0&&(y=!1),this.isBrowser(m,y)||this.isOS(m)||this.isPlatform(m)},h.some=function(m){var y=this;return m===void 0&&(m=[]),m.some(function(_){return y.is(_)})},d}();e.default=u,t.exports=e.default},92:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(a){var c={name:"Googlebot"},u=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/opera/i],describe:function(a){var c={name:"Opera"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/opr\/|opios/i],describe:function(a){var c={name:"Opera"},u=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/SamsungBrowser/i],describe:function(a){var c={name:"Samsung Internet for Android"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/Whale/i],describe:function(a){var c={name:"NAVER Whale Browser"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/MZBrowser/i],describe:function(a){var c={name:"MZ Browser"},u=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/focus/i],describe:function(a){var c={name:"Focus"},u=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/swing/i],describe:function(a){var c={name:"Swing"},u=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/coast/i],describe:function(a){var c={name:"Opera Coast"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(a){var c={name:"Opera Touch"},u=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/yabrowser/i],describe:function(a){var c={name:"Yandex Browser"},u=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/ucbrowser/i],describe:function(a){var c={name:"UC Browser"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/Maxthon|mxios/i],describe:function(a){var c={name:"Maxthon"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/epiphany/i],describe:function(a){var c={name:"Epiphany"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/puffin/i],describe:function(a){var c={name:"Puffin"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/sleipnir/i],describe:function(a){var c={name:"Sleipnir"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/k-meleon/i],describe:function(a){var c={name:"K-Meleon"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/micromessenger/i],describe:function(a){var c={name:"WeChat"},u=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/qqbrowser/i],describe:function(a){var c={name:/qqbrowserlite/i.test(a)?"QQ Browser Lite":"QQ Browser"},u=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/msie|trident/i],describe:function(a){var c={name:"Internet Explorer"},u=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/\sedg\//i],describe:function(a){var c={name:"Microsoft Edge"},u=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/edg([ea]|ios)/i],describe:function(a){var c={name:"Microsoft Edge"},u=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/vivaldi/i],describe:function(a){var c={name:"Vivaldi"},u=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/seamonkey/i],describe:function(a){var c={name:"SeaMonkey"},u=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/sailfish/i],describe:function(a){var c={name:"Sailfish"},u=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,a);return u&&(c.version=u),c}},{test:[/silk/i],describe:function(a){var c={name:"Amazon Silk"},u=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/phantom/i],describe:function(a){var c={name:"PhantomJS"},u=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/slimerjs/i],describe:function(a){var c={name:"SlimerJS"},u=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var c={name:"BlackBerry"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var c={name:"WebOS Browser"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/bada/i],describe:function(a){var c={name:"Bada"},u=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/tizen/i],describe:function(a){var c={name:"Tizen"},u=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/qupzilla/i],describe:function(a){var c={name:"QupZilla"},u=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/firefox|iceweasel|fxios/i],describe:function(a){var c={name:"Firefox"},u=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/electron/i],describe:function(a){var c={name:"Electron"},u=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/MiuiBrowser/i],describe:function(a){var c={name:"Miui"},u=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/chromium/i],describe:function(a){var c={name:"Chromium"},u=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/chrome|crios|crmo/i],describe:function(a){var c={name:"Chrome"},u=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/GSA/i],describe:function(a){var c={name:"Google Search"},u=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:function(a){var c=!a.test(/like android/i),u=a.test(/android/i);return c&&u},describe:function(a){var c={name:"Android Browser"},u=i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/playstation 4/i],describe:function(a){var c={name:"PlayStation 4"},u=i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/safari|applewebkit/i],describe:function(a){var c={name:"Safari"},u=i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/.*/i],describe:function(a){var c=a.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(c,a),version:i.default.getSecondMatch(c,a)}}}];e.default=o,t.exports=e.default},93:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18),o=[{test:[/Roku\/DVP/],describe:function(a){var c=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,a);return{name:s.OS_MAP.Roku,version:c}}},{test:[/windows phone/i],describe:function(a){var c=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,a);return{name:s.OS_MAP.WindowsPhone,version:c}}},{test:[/windows /i],describe:function(a){var c=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,a),u=i.default.getWindowsVersionName(c);return{name:s.OS_MAP.Windows,version:c,versionName:u}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(a){var c={name:s.OS_MAP.iOS},u=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,a);return u&&(c.version=u),c}},{test:[/macintosh/i],describe:function(a){var c=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,a).replace(/[_\s]/g,"."),u=i.default.getMacOSVersionName(c),d={name:s.OS_MAP.MacOS,version:c};return u&&(d.versionName=u),d}},{test:[/(ipod|iphone|ipad)/i],describe:function(a){var c=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,a).replace(/[_\s]/g,".");return{name:s.OS_MAP.iOS,version:c}}},{test:function(a){var c=!a.test(/like android/i),u=a.test(/android/i);return c&&u},describe:function(a){var c=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,a),u=i.default.getAndroidVersionName(c),d={name:s.OS_MAP.Android,version:c};return u&&(d.versionName=u),d}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var c=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,a),u={name:s.OS_MAP.WebOS};return c&&c.length&&(u.version=c),u}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var c=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,a)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,a)||i.default.getFirstMatch(/\bbb(\d+)/i,a);return{name:s.OS_MAP.BlackBerry,version:c}}},{test:[/bada/i],describe:function(a){var c=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,a);return{name:s.OS_MAP.Bada,version:c}}},{test:[/tizen/i],describe:function(a){var c=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,a);return{name:s.OS_MAP.Tizen,version:c}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(a){var c=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,a);return{name:s.OS_MAP.PlayStation4,version:c}}}];e.default=o,t.exports=e.default},94:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(a){var c=i.default.getFirstMatch(/(can-l01)/i,a)&&"Nova",u={type:s.PLATFORMS_MAP.mobile,vendor:"Huawei"};return c&&(u.model=c),u}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(a){var c=a.test(/ipod|iphone/i),u=a.test(/like (ipod|iphone)/i);return c&&!u},describe:function(a){var c=i.default.getFirstMatch(/(ipod|iphone)/i,a);return{type:s.PLATFORMS_MAP.mobile,vendor:"Apple",model:c}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName(!0)==="blackberry"},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(a){return a.getBrowserName(!0)==="bada"},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName()==="windows phone"},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(a){var c=Number(String(a.getOSVersion()).split(".")[0]);return a.getOSName(!0)==="android"&&c>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(a){return a.getOSName(!0)==="android"},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getOSName(!0)==="macos"},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(a){return a.getOSName(!0)==="windows"},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="linux"},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="playstation 4"},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(a){return a.getOSName(!0)==="roku"},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];e.default=o,t.exports=e.default},95:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18),o=[{test:function(a){return a.getBrowserName(!0)==="microsoft edge"},describe:function(a){if(/\sedg\//i.test(a))return{name:s.ENGINE_MAP.Blink};var c=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,a);return{name:s.ENGINE_MAP.EdgeHTML,version:c}}},{test:[/trident/i],describe:function(a){var c={name:s.ENGINE_MAP.Trident},u=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:function(a){return a.test(/presto/i)},describe:function(a){var c={name:s.ENGINE_MAP.Presto},u=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:function(a){var c=a.test(/gecko/i),u=a.test(/like gecko/i);return c&&!u},describe:function(a){var c={name:s.ENGINE_MAP.Gecko},u=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(a){var c={name:s.ENGINE_MAP.WebKit},u=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}}];e.default=o,t.exports=e.default}})})});function Zx(t,e){return Object.is(t,e)}var It=null,Kd=!1,Qd=1,qi=Symbol("SIGNAL");function Ve(t){let e=It;return It=t,e}function Xx(){return It}var _l={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function rv(t){if(Kd)throw new Error("");if(It===null)return;It.consumerOnSignalRead(t);let e=It.nextProducerIndex++;if(Jd(It),e<It.producerNode.length&&It.producerNode[e]!==t&&vl(It)){let n=It.producerNode[e];Xd(n,It.producerIndexOfThis[e])}It.producerNode[e]!==t&&(It.producerNode[e]=t,It.producerIndexOfThis[e]=vl(It)?nA(t,It,e):0),It.producerLastReadVersion[e]=t.version}function g3(){Qd++}function Jx(t){if(!(vl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Qd)){if(!t.producerMustRecompute(t)&&!sv(t)){t.dirty=!1,t.lastCleanEpoch=Qd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Qd}}function eA(t){if(t.liveConsumerNode===void 0)return;let e=Kd;Kd=!0;try{for(let n of t.liveConsumerNode)n.dirty||y3(n)}finally{Kd=e}}function tA(){return It?.consumerAllowSignalWrites!==!1}function y3(t){t.dirty=!0,eA(t),t.consumerMarkedDirty?.(t)}function Zd(t){return t&&(t.nextProducerIndex=0),Ve(t)}function iv(t,e){if(Ve(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(vl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Xd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function sv(t){Jd(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Jx(n),r!==n.version))return!0}return!1}function ov(t){if(Jd(t),vl(t))for(let e=0;e<t.producerNode.length;e++)Xd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function nA(t,e,n){if(rA(t),t.liveConsumerNode.length===0&&iA(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=nA(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Xd(t,e){if(rA(t),t.liveConsumerNode.length===1&&iA(t))for(let r=0;r<t.producerNode.length;r++)Xd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Jd(i),i.producerIndexOfThis[r]=e}}function vl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Jd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function rA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function iA(t){return t.producerNode!==void 0}function sA(t){let e=Object.create(v3);e.computation=t;let n=()=>{if(Jx(e),rv(e),e.value===Yd)throw e.error;return e.value};return n[qi]=e,n}var tv=Symbol("UNSET"),nv=Symbol("COMPUTING"),Yd=Symbol("ERRORED"),v3=L(E({},_l),{value:tv,dirty:!0,error:null,equal:Zx,producerMustRecompute(t){return t.value===tv||t.value===nv},producerRecomputeValue(t){if(t.value===nv)throw new Error("Detected cycle in computations.");let e=t.value;t.value=nv;let n=Zd(t),r;try{r=t.computation()}catch(i){r=Yd,t.error=i}finally{iv(t,n)}if(e!==tv&&e!==Yd&&r!==Yd&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function _3(){throw new Error}var oA=_3;function aA(){oA()}function cA(t){oA=t}var E3=null;function lA(t){let e=Object.create(dA);e.value=t;let n=()=>(rv(e),e.value);return n[qi]=e,n}function av(t,e){tA()||aA(),t.equal(t.value,e)||(t.value=e,w3(t))}function uA(t,e){tA()||aA(),av(t,e(t.value))}var dA=L(E({},_l),{equal:Zx,value:void 0});function w3(t){t.version++,g3(),eA(t),E3?.()}function ye(t){return typeof t=="function"}function ia(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ef=ia(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function qs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var at=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ye(r))try{r()}catch(s){e=s instanceof ef?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{fA(s)}catch(o){e=e??[],o instanceof ef?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ef(e)}}add(e){var n;if(e&&e!==this)if(this.closed)fA(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&qs(n,e)}remove(e){let{_finalizers:n}=this;n&&qs(n,e),e instanceof t&&e._removeParent(this)}};at.EMPTY=(()=>{let t=new at;return t.closed=!0,t})();var cv=at.EMPTY;function tf(t){return t instanceof at||t&&"closed"in t&&ye(t.remove)&&ye(t.add)&&ye(t.unsubscribe)}function fA(t){ye(t)?t():t.unsubscribe()}var sr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var sa={setTimeout(t,e,...n){let{delegate:r}=sa;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=sa;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function nf(t){sa.setTimeout(()=>{let{onUnhandledError:e}=sr;if(e)e(t);else throw t})}function El(){}var hA=lv("C",void 0,void 0);function pA(t){return lv("E",void 0,t)}function mA(t){return lv("N",t,void 0)}function lv(t,e,n){return{kind:t,value:e,error:n}}var zs=null;function oa(t){if(sr.useDeprecatedSynchronousErrorHandling){let e=!zs;if(e&&(zs={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=zs;if(zs=null,n)throw r}}else t()}function gA(t){sr.useDeprecatedSynchronousErrorHandling&&zs&&(zs.errorThrown=!0,zs.error=t)}var Gs=class extends at{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,tf(e)&&e.add(this)):this.destination=I3}static create(e,n,r){return new aa(e,n,r)}next(e){this.isStopped?dv(mA(e),this):this._next(e)}error(e){this.isStopped?dv(pA(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?dv(hA,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},b3=Function.prototype.bind;function uv(t,e){return b3.call(t,e)}var fv=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){rf(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){rf(r)}else rf(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){rf(n)}}},aa=class extends Gs{constructor(e,n,r){super();let i;if(ye(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&sr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&uv(e.next,s),error:e.error&&uv(e.error,s),complete:e.complete&&uv(e.complete,s)}):i=e}this.destination=new fv(i)}};function rf(t){sr.useDeprecatedSynchronousErrorHandling?gA(t):nf(t)}function C3(t){throw t}function dv(t,e){let{onStoppedNotification:n}=sr;n&&sa.setTimeout(()=>n(t,e))}var I3={closed:!0,next:El,error:C3,complete:El};var ca=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Rn(t){return t}function sf(...t){return hv(t)}function hv(t){return t.length===0?Rn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var De=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=x3(n)?n:new aa(n,r,i);return oa(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=yA(r),new r((i,s)=>{let o=new aa({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ca](){return this}pipe(...n){return hv(n)(this)}toPromise(n){return n=yA(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function yA(t){var e;return(e=t??sr.Promise)!==null&&e!==void 0?e:Promise}function S3(t){return t&&ye(t.next)&&ye(t.error)&&ye(t.complete)}function x3(t){return t&&t instanceof Gs||S3(t)&&tf(t)}function pv(t){return ye(t?.lift)}function Oe(t){return e=>{if(pv(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Re(t,e,n,r,i){return new mv(t,e,n,r,i)}var mv=class extends Gs{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function la(){return Oe((t,e)=>{let n=null;t._refCount++;let r=Re(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ua=class extends De{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,pv(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new at;let n=this.getSubject();e.add(this.source.subscribe(Re(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=at.EMPTY)}return e}refCount(){return la()(this)}};var vA=ia(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Mt=(()=>{class t extends De{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new of(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new vA}next(n){oa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){oa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){oa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?cv:(this.currentObservers=null,s.push(n),new at(()=>{this.currentObservers=null,qs(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new De;return n.source=this,n}}return t.create=(e,n)=>new of(e,n),t})(),of=class extends Mt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:cv}};var St=class extends Mt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var gv={now(){return(gv.delegate||Date).now()},delegate:void 0};var af=class extends at{constructor(e,n){super()}schedule(e,n=0){return this}};var wl={setInterval(t,e,...n){let{delegate:r}=wl;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=wl;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var da=class extends af{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return wl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&wl.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,qs(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var fa=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};fa.now=gv.now;var ha=class extends fa{constructor(e,n=fa.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var yv=new ha(da);var cf=class extends da{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var lf=class extends ha{};var vv=new lf(cf);var Nn=new De(t=>t.complete());function _A(t){return t&&ye(t.schedule)}function EA(t){return t[t.length-1]}function uf(t){return ye(EA(t))?t.pop():void 0}function zi(t){return _A(EA(t))?t.pop():void 0}function _v(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Gi(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function ma(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function pa(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ws(t){return this instanceof Ws?(this.v=t,this):new Ws(t)}function wA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(_){return Promise.resolve(_).then(y,h)}}function a(y,_){r[y]&&(i[y]=function(D){return new Promise(function(S,O){s.push([y,D,S,O])>1||c(y,D)})},_&&(i[y]=_(i[y])))}function c(y,_){try{u(r[y](_))}catch(D){m(s[0][3],D)}}function u(y){y.value instanceof Ws?Promise.resolve(y.value.v).then(d,h):m(s[0][2],y)}function d(y){c("next",y)}function h(y){c("throw",y)}function m(y,_){y(_),s.shift(),s.length&&c(s[0][0],s[0][1])}}function bA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof pa=="function"?pa(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var df=t=>t&&typeof t.length=="number"&&typeof t!="function";function ff(t){return ye(t?.then)}function hf(t){return ye(t[ca])}function pf(t){return Symbol.asyncIterator&&ye(t?.[Symbol.asyncIterator])}function mf(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function A3(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gf=A3();function yf(t){return ye(t?.[gf])}function vf(t){return wA(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ws(n.read());if(i)return yield Ws(void 0);yield yield Ws(r)}}finally{n.releaseLock()}})}function _f(t){return ye(t?.getReader)}function mt(t){if(t instanceof De)return t;if(t!=null){if(hf(t))return T3(t);if(df(t))return D3(t);if(ff(t))return R3(t);if(pf(t))return CA(t);if(yf(t))return N3(t);if(_f(t))return M3(t)}throw mf(t)}function T3(t){return new De(e=>{let n=t[ca]();if(ye(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function D3(t){return new De(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function R3(t){return new De(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,nf)})}function N3(t){return new De(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function CA(t){return new De(e=>{P3(t,e).catch(n=>e.error(n))})}function M3(t){return CA(vf(t))}function P3(t,e){var n,r,i,s;return Gi(this,void 0,void 0,function*(){try{for(n=bA(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function wn(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Wi(t,e=0){return Oe((n,r)=>{n.subscribe(Re(r,i=>wn(r,t,()=>r.next(i),e),()=>wn(r,t,()=>r.complete(),e),i=>wn(r,t,()=>r.error(i),e)))})}function Ki(t,e=0){return Oe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function IA(t,e){return mt(t).pipe(Ki(e),Wi(e))}function SA(t,e){return mt(t).pipe(Ki(e),Wi(e))}function xA(t,e){return new De(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function AA(t,e){return new De(n=>{let r;return wn(n,e,()=>{r=t[gf](),wn(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>ye(r?.return)&&r.return()})}function Ef(t,e){if(!t)throw new Error("Iterable cannot be null");return new De(n=>{wn(n,e,()=>{let r=t[Symbol.asyncIterator]();wn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function TA(t,e){return Ef(vf(t),e)}function DA(t,e){if(t!=null){if(hf(t))return IA(t,e);if(df(t))return xA(t,e);if(ff(t))return SA(t,e);if(pf(t))return Ef(t,e);if(yf(t))return AA(t,e);if(_f(t))return TA(t,e)}throw mf(t)}function ct(t,e){return e?DA(t,e):mt(t)}function ve(...t){let e=zi(t);return ct(t,e)}function ga(t,e){let n=ye(t)?t:()=>t,r=i=>i.error(n());return new De(e?i=>e.schedule(r,0,i):r)}function Ev(t){return!!t&&(t instanceof De||ye(t.lift)&&ye(t.subscribe))}var si=ia(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function we(t,e){return Oe((n,r)=>{let i=0;n.subscribe(Re(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:k3}=Array;function O3(t,e){return k3(e)?t(...e):t(e)}function wf(t){return we(e=>O3(t,e))}var{isArray:F3}=Array,{getPrototypeOf:L3,prototype:V3,keys:B3}=Object;function bf(t){if(t.length===1){let e=t[0];if(F3(e))return{args:e,keys:null};if(U3(e)){let n=B3(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function U3(t){return t&&typeof t=="object"&&L3(t)===V3}function Cf(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function If(...t){let e=zi(t),n=uf(t),{args:r,keys:i}=bf(t);if(r.length===0)return ct([],e);let s=new De(j3(r,e,i?o=>Cf(i,o):Rn));return n?s.pipe(wf(n)):s}function j3(t,e,n=Rn){return r=>{RA(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)RA(e,()=>{let u=ct(t[c],e),d=!1;u.subscribe(Re(r,h=>{s[c]=h,d||(d=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function RA(t,e,n){t?wn(n,t,e):e()}function NA(t,e,n,r,i,s,o,a){let c=[],u=0,d=0,h=!1,m=()=>{h&&!c.length&&!u&&e.complete()},y=D=>u<r?_(D):c.push(D),_=D=>{s&&e.next(D),u++;let S=!1;mt(n(D,d++)).subscribe(Re(e,O=>{i?.(O),s?y(O):e.next(O)},()=>{S=!0},void 0,()=>{if(S)try{for(u--;c.length&&u<r;){let O=c.shift();o?wn(e,o,()=>_(O)):_(O)}m()}catch(O){e.error(O)}}))};return t.subscribe(Re(e,y,()=>{h=!0,m()})),()=>{a?.()}}function xt(t,e,n=1/0){return ye(e)?xt((r,i)=>we((s,o)=>e(r,s,i,o))(mt(t(r,i))),n):(typeof e=="number"&&(n=e),Oe((r,i)=>NA(r,i,t,n)))}function wv(t=1/0){return xt(Rn,t)}function MA(){return wv(1)}function ya(...t){return MA()(ct(t,zi(t)))}function Sf(t){return new De(e=>{mt(t()).subscribe(e)})}function bv(...t){let e=uf(t),{args:n,keys:r}=bf(t),i=new De(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let d=0;d<o;d++){let h=!1;mt(n[d]).subscribe(Re(s,m=>{h||(h=!0,u--),a[d]=m},()=>c--,void 0,()=>{(!c||!h)&&(u||s.next(r?Cf(r,a):a),s.complete())}))}});return e?i.pipe(wf(e)):i}function jn(t,e){return Oe((n,r)=>{let i=0;n.subscribe(Re(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Qi(t){return Oe((e,n)=>{let r=null,i=!1,s;r=e.subscribe(Re(n,void 0,void 0,o=>{s=mt(t(o,Qi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function PA(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(Re(o,d=>{let h=u++;c=a?t(c,d,h):(a=!0,d),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function va(t,e){return ye(e)?xt(t,e,1):xt(t,1)}function Yi(t){return Oe((e,n)=>{let r=!1;e.subscribe(Re(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function oi(t){return t<=0?()=>Nn:Oe((e,n)=>{let r=0;e.subscribe(Re(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Cv(t){return we(()=>t)}function xf(t=$3){return Oe((e,n)=>{let r=!1;e.subscribe(Re(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function $3(){return new si}function bl(t){return Oe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ir(t,e){let n=arguments.length>=2;return r=>r.pipe(t?jn((i,s)=>t(i,s,r)):Rn,oi(1),n?Yi(e):xf(()=>new si))}function _a(t){return t<=0?()=>Nn:Oe((e,n)=>{let r=[];e.subscribe(Re(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Iv(t,e){let n=arguments.length>=2;return r=>r.pipe(t?jn((i,s)=>t(i,s,r)):Rn,_a(1),n?Yi(e):xf(()=>new si))}function Af(t,e){return Oe(PA(t,e,arguments.length>=2,!0))}function Tf(...t){let e=zi(t);return Oe((n,r)=>{(e?ya(t,n,e):ya(t,n)).subscribe(r)})}function or(t,e){return Oe((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(Re(r,c=>{i?.unsubscribe();let u=0,d=s++;mt(t(c,d)).subscribe(i=Re(r,h=>r.next(e?e(c,h,d,u++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Sv(t){return Oe((e,n)=>{mt(t).subscribe(Re(n,()=>n.complete(),El)),!n.closed&&e.subscribe(n)})}function At(t,e,n){let r=ye(t)||e||n?{next:t,error:e,complete:n}:t;return r?Oe((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Re(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Rn}var ET="https://g.co/ng/security#xss",oe=class extends Error{constructor(e,n){super(T_(e,n)),this.code=e}};function T_(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Pl(t){return{toString:t}.toString()}var Df="__parameters__";function H3(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function wT(t,e,n){return Pl(()=>{let r=H3(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,d){let h=c.hasOwnProperty(Df)?c[Df]:Object.defineProperty(c,Df,{value:[]})[Df];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Bv=globalThis;function Ge(t){for(let e in t)if(t[e]===Ge)return e;throw Error("Could not find renamed property on target object.")}function q3(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function dn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(dn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function kA(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var z3=Ge({__forward_ref__:Ge});function Nr(t){return t.__forward_ref__=Nr,t.toString=function(){return dn(this())},t}function un(t){return bT(t)?t():t}function bT(t){return typeof t=="function"&&t.hasOwnProperty(z3)&&t.__forward_ref__===Nr}function ce(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ro(t){return{providers:t.providers||[],imports:t.imports||[]}}function lh(t){return OA(t,IT)||OA(t,ST)}function CT(t){return lh(t)!==null}function OA(t,e){return t.hasOwnProperty(e)?t[e]:null}function G3(t){let e=t&&(t[IT]||t[ST]);return e||null}function FA(t){return t&&(t.hasOwnProperty(LA)||t.hasOwnProperty(W3))?t[LA]:null}var IT=Ge({\u0275prov:Ge}),LA=Ge({\u0275inj:Ge}),ST=Ge({ngInjectableDef:Ge}),W3=Ge({ngInjectorDef:Ge}),ae=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ce({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function xT(t){return t&&!!t.\u0275providers}var K3=Ge({\u0275cmp:Ge}),Q3=Ge({\u0275dir:Ge}),Y3=Ge({\u0275pipe:Ge}),Z3=Ge({\u0275mod:Ge}),Bf=Ge({\u0275fac:Ge}),Sl=Ge({__NG_ELEMENT_ID__:Ge}),VA=Ge({__NG_ENV_ID__:Ge});function uh(t){return typeof t=="string"?t:t==null?"":String(t)}function X3(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():uh(t)}function J3(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new oe(-200,t)}function D_(t,e){throw new oe(-201,!1)}var Ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ie||{}),Uv;function AT(){return Uv}function $n(t){let e=Uv;return Uv=t,e}function TT(t,e,n){let r=lh(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Ie.Optional)return null;if(e!==void 0)return e;D_(t,"Injector")}var ej={},xl=ej,jv="__NG_DI_FLAG__",Uf="ngTempTokenPath",tj="ngTokenPath",nj=/\n/gm,rj="\u0275",BA="__source",Ca;function ij(){return Ca}function Zi(t){let e=Ca;return Ca=t,e}function sj(t,e=Ie.Default){if(Ca===void 0)throw new oe(-203,!1);return Ca===null?TT(t,void 0,e):Ca.get(t,e&Ie.Optional?null:void 0,e)}function xe(t,e=Ie.Default){return(AT()||sj)(un(t),e)}function Q(t,e=Ie.Default){return xe(t,dh(e))}function dh(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function $v(t){let e=[];for(let n=0;n<t.length;n++){let r=un(t[n]);if(Array.isArray(r)){if(r.length===0)throw new oe(900,!1);let i,s=Ie.Default;for(let o=0;o<r.length;o++){let a=r[o],c=oj(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(xe(i,s))}else e.push(xe(r))}return e}function DT(t,e){return t[jv]=e,t.prototype[jv]=e,t}function oj(t){return t[jv]}function aj(t,e,n,r){let i=t[Uf];throw e[BA]&&i.unshift(e[BA]),t.message=cj(`
`+t.message,i,n,r),t[tj]=i,t[Uf]=null,t}function cj(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==rj?t.slice(2):t;let i=dn(e);if(Array.isArray(e))i=e.map(dn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):dn(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(nj,`
  `)}`}var hn=DT(wT("Optional"),8);var RT=DT(wT("SkipSelf"),4);function Sa(t,e){let n=t.hasOwnProperty(Bf);return n?t[Bf]:null}function R_(t,e){t.forEach(n=>Array.isArray(n)?R_(n,e):e(n))}function NT(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function jf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function lj(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function uj(t,e,n){let r=kl(t,e);return r>=0?t[r|1]=n:(r=~r,lj(t,r,e,n)),r}function xv(t,e){let n=kl(t,e);if(n>=0)return t[n|1]}function kl(t,e){return dj(t,e,1)}function dj(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var xa={},Hn=[],Aa=new ae(""),MT=new ae("",-1),PT=new ae(""),$f=class{get(e,n=xl){if(n===xl){let r=new Error(`NullInjectorError: No provider for ${dn(e)}!`);throw r.name="NullInjectorError",r}return n}},kT=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(kT||{}),Ar=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ar||{}),es=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(es||{});function fj(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Hv(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];hj(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function OT(t){return t===3||t===4||t===6}function hj(t){return t.charCodeAt(0)===64}function Al(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?UA(t,n,i,null,e[++r]):UA(t,n,i,null,null))}}return t}function UA(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var FT="ng-template";function pj(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&fj(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(N_(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function N_(t){return t.type===4&&t.value!==FT}function mj(t,e,n){let r=t.type===4&&!n?FT:t.value;return e===r}function gj(t,e,n){let r=4,i=t.attrs,s=i!==null?_j(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!ar(r)&&!ar(c))return!1;if(o&&ar(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!mj(t,c,n)||c===""&&e.length===1){if(ar(r))return!1;o=!0}}else if(r&8){if(i===null||!pj(t,i,c,n)){if(ar(r))return!1;o=!0}}else{let u=e[++a],d=yj(c,i,N_(t),n);if(d===-1){if(ar(r))return!1;o=!0;continue}if(u!==""){let h;if(d>s?h="":h=i[d+1].toLowerCase(),r&2&&u!==h){if(ar(r))return!1;o=!0}}}}return ar(r)||o}function ar(t){return(t&1)===0}function yj(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return Ej(e,t)}function vj(t,e,n=!1){for(let r=0;r<e.length;r++)if(gj(t,e[r],n))return!0;return!1}function _j(t){for(let e=0;e<t.length;e++){let n=t[e];if(OT(n))return e}return t.length}function Ej(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function jA(t,e){return t?":not("+e.trim()+")":e}function wj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!ar(o)&&(e+=jA(s,i),i=""),r=o,s=s||!ar(r);n++}return i!==""&&(e+=jA(s,i)),e}function bj(t){return t.map(wj).join(",")}function Cj(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!ar(i))break;i=s}r++}return{attrs:e,classes:n}}function kt(t){return Pl(()=>{let e=jT(t),n=L(E({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===kT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ar.Emulated,styles:t.styles||Hn,_:null,schemas:t.schemas||null,tView:null,id:""});$T(n);let r=t.dependencies;return n.directiveDefs=HA(r,!1),n.pipeDefs=HA(r,!0),n.id=xj(n),n})}function Ij(t){return Qs(t)||LT(t)}function Sj(t){return t!==null}function io(t){return Pl(()=>({type:t.type,bootstrap:t.bootstrap||Hn,declarations:t.declarations||Hn,imports:t.imports||Hn,exports:t.exports||Hn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function $A(t,e){if(t==null)return xa;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=es.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==es.None?[r,a]:r,e[s]=o):n[s]=r}return n}function it(t){return Pl(()=>{let e=jT(t);return $T(e),e})}function Qs(t){return t[K3]||null}function LT(t){return t[Q3]||null}function VT(t){return t[Y3]||null}function BT(t){let e=Qs(t)||LT(t)||VT(t);return e!==null?e.standalone:!1}function UT(t,e){let n=t[Z3]||null;if(!n&&e===!0)throw new Error(`Type ${dn(t)} does not have '\u0275mod' property.`);return n}function jT(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||xa,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Hn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$A(t.inputs,e),outputs:$A(t.outputs),debugInfo:null}}function $T(t){t.features?.forEach(e=>e(t))}function HA(t,e){if(!t)return null;let n=e?VT:Ij;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Sj)}function xj(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Mr(t){return{\u0275providers:t}}function Aj(...t){return{\u0275providers:HT(!0,t),\u0275fromNgModule:!0}}function HT(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return R_(e,o=>{let a=o;qv(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&qT(i,s),n}function qT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];M_(i,s=>{e(s,r)})}}function qv(t,e,n,r){if(t=un(t),!t)return!1;let i=null,s=FA(t),o=!s&&Qs(t);if(!s&&!o){let c=t.ngModule;if(s=FA(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)qv(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{R_(s.imports,d=>{qv(d,e,n,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&qT(u,e)}if(!a){let u=Sa(i)||(()=>new i);e({provide:i,useFactory:u,deps:Hn},i),e({provide:PT,useValue:i,multi:!0},i),e({provide:Aa,useValue:()=>xe(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;M_(c,d=>{e(d,u)})}}else return!1;return i!==t&&t.providers!==void 0}function M_(t,e){for(let n of t)xT(n)&&(n=n.\u0275providers),Array.isArray(n)?M_(n,e):e(n)}var Tj=Ge({provide:String,useValue:Ge});function zT(t){return t!==null&&typeof t=="object"&&Tj in t}function Dj(t){return!!(t&&t.useExisting)}function Rj(t){return!!(t&&t.useFactory)}function Ta(t){return typeof t=="function"}function Nj(t){return!!t.useClass}var fh=new ae(""),kf={},Mj={},Av;function P_(){return Av===void 0&&(Av=new $f),Av}var Gn=class{},Tl=class extends Gn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gv(e,o=>this.processProvider(o)),this.records.set(MT,Ea(void 0,this)),i.has("environment")&&this.records.set(Gn,Ea(void 0,this));let s=this.records.get(fh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(PT,Hn,Ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Zi(this),r=$n(void 0),i;try{return e()}finally{Zi(n),$n(r)}}get(e,n=xl,r=Ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(VA))return e[VA](this);r=dh(r);let i,s=Zi(this),o=$n(void 0);try{if(!(r&Ie.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=Lj(e)&&lh(e);u&&this.injectableDefInScope(u)?c=Ea(zv(e),kf):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Ie.Self?P_():this.parent;return n=r&Ie.Optional&&n===xl?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Uf]=a[Uf]||[]).unshift(dn(e)),s)throw a;return aj(a,e,"R3InjectorError",this.source)}else throw a}finally{$n(o),Zi(s)}}resolveInjectorInitializers(){let e=Ve(null),n=Zi(this),r=$n(void 0),i;try{let s=this.get(Aa,Hn,Ie.Self);for(let o of s)o()}finally{Zi(n),$n(r),Ve(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(dn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new oe(205,!1)}processProvider(e){e=un(e);let n=Ta(e)?e:un(e&&e.provide),r=kj(e);if(!Ta(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ea(void 0,kf,!0),i.factory=()=>$v(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ve(null);try{return n.value===kf&&(n.value=Mj,n.value=n.factory()),typeof n.value=="object"&&n.value&&Fj(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ve(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=un(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function zv(t){let e=lh(t),n=e!==null?e.factory:Sa(t);if(n!==null)return n;if(t instanceof ae)throw new oe(204,!1);if(t instanceof Function)return Pj(t);throw new oe(204,!1)}function Pj(t){if(t.length>0)throw new oe(204,!1);let n=G3(t);return n!==null?()=>n.factory(t):()=>new t}function kj(t){if(zT(t))return Ea(void 0,t.useValue);{let e=GT(t);return Ea(e,kf)}}function GT(t,e,n){let r;if(Ta(t)){let i=un(t);return Sa(i)||zv(i)}else if(zT(t))r=()=>un(t.useValue);else if(Rj(t))r=()=>t.useFactory(...$v(t.deps||[]));else if(Dj(t))r=()=>xe(un(t.useExisting));else{let i=un(t&&(t.useClass||t.provide));if(Oj(t))r=()=>new i(...$v(t.deps));else return Sa(i)||zv(i)}return r}function Ea(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Oj(t){return!!t.deps}function Fj(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Lj(t){return typeof t=="function"||typeof t=="object"&&t instanceof ae}function Gv(t,e){for(let n of t)Array.isArray(n)?Gv(n,e):n&&xT(n)?Gv(n.\u0275providers,e):e(n)}function ui(t,e){t instanceof Tl&&t.assertNotDestroyed();let n,r=Zi(t),i=$n(void 0);try{return e()}finally{Zi(r),$n(i)}}function Vj(){return AT()!==void 0||ij()!=null}function Bj(t){return typeof t=="function"}var di=0,Ne=1,pe=2,fn=3,cr=4,ur=5,Hf=6,qf=7,lr=8,Da=9,Tr=10,Pt=11,Dl=12,qA=13,Va=14,Dr=15,Ra=16,wa=17,Na=18,hh=19,WT=20,Xi=21,Tv=22,qn=23,ts=25,KT=1;var Ys=7,zf=8,Gf=9,zn=10,Wf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Wf||{});function Ji(t){return Array.isArray(t)&&typeof t[KT]=="object"}function fi(t){return Array.isArray(t)&&t[KT]===!0}function QT(t){return(t.flags&4)!==0}function ph(t){return t.componentOffset>-1}function k_(t){return(t.flags&1)===1}function ns(t){return!!t.template}function Wv(t){return(t[pe]&512)!==0}var Kv=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function YT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function hi(){return ZT}function ZT(t){return t.type.prototype.ngOnChanges&&(t.setInput=jj),Uj}hi.ngInherit=!0;function Uj(){let t=JT(this),e=t?.current;if(e){let n=t.previous;if(n===xa)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function jj(t,e,n,r,i){let s=this.declaredInputs[r],o=JT(t)||$j(t,{previous:xa,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Kv(u&&u.currentValue,n,c===xa),YT(t,e,i,n)}var XT="__ngSimpleChanges__";function JT(t){return t[XT]||null}function $j(t,e){return t[XT]=e}var zA=null;var Sr=function(t,e,n){zA?.(t,e,n)},Hj="svg",qj="math";function Rr(t){for(;Array.isArray(t);)t=t[di];return t}function eD(t,e){return Rr(e[t])}function Wn(t,e){return Rr(e[t.index])}function tD(t,e){return t.data[e]}function is(t,e){let n=e[t];return Ji(n)?n:n[di]}function O_(t){return(t[pe]&128)===128}function zj(t){return fi(t[fn])}function Kf(t,e){return e==null?null:t[e]}function nD(t){t[wa]=0}function rD(t){t[pe]&1024||(t[pe]|=1024,O_(t)&&gh(t))}function Gj(t,e){for(;t>0;)e=e[Va],t--;return e}function mh(t){return!!(t[pe]&9216||t[qn]?.dirty)}function Qv(t){t[Tr].changeDetectionScheduler?.notify(8),t[pe]&64&&(t[pe]|=1024),mh(t)&&gh(t)}function gh(t){t[Tr].changeDetectionScheduler?.notify(0);let e=Zs(t);for(;e!==null&&!(e[pe]&8192||(e[pe]|=8192,!O_(e)));)e=Zs(e)}function iD(t,e){if((t[pe]&256)===256)throw new oe(911,!1);t[Xi]===null&&(t[Xi]=[]),t[Xi].push(e)}function Wj(t,e){if(t[Xi]===null)return;let n=t[Xi].indexOf(e);n!==-1&&t[Xi].splice(n,1)}function Zs(t){let e=t[fn];return fi(e)?e[fn]:e}var Ae={lFrame:hD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var sD=!1;function Kj(){return Ae.lFrame.elementDepthCount}function Qj(){Ae.lFrame.elementDepthCount++}function Yj(){Ae.lFrame.elementDepthCount--}function oD(){return Ae.bindingsEnabled}function Zj(){return Ae.skipHydrationRootTNode!==null}function Xj(t){return Ae.skipHydrationRootTNode===t}function Jj(){Ae.skipHydrationRootTNode=null}function Je(){return Ae.lFrame.lView}function Kn(){return Ae.lFrame.tView}function Pr(t){return Ae.lFrame.contextLView=t,t[lr]}function kr(t){return Ae.lFrame.contextLView=null,t}function Cn(){let t=aD();for(;t!==null&&t.type===64;)t=t.parent;return t}function aD(){return Ae.lFrame.currentTNode}function e$(){let t=Ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ol(t,e){let n=Ae.lFrame;n.currentTNode=t,n.isParent=e}function cD(){return Ae.lFrame.isParent}function t$(){Ae.lFrame.isParent=!1}function lD(){return sD}function GA(t){sD=t}function n$(){let t=Ae.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function r$(t){return Ae.lFrame.bindingIndex=t}function F_(){return Ae.lFrame.bindingIndex++}function i$(t){let e=Ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function s$(){return Ae.lFrame.inI18n}function o$(t,e){let n=Ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,Yv(e)}function a$(){return Ae.lFrame.currentDirectiveIndex}function Yv(t){Ae.lFrame.currentDirectiveIndex=t}function c$(t){let e=Ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function uD(t){Ae.lFrame.currentQueryIndex=t}function l$(t){let e=t[Ne];return e.type===2?e.declTNode:e.type===1?t[ur]:null}function dD(t,e,n){if(n&Ie.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&Ie.Host);)if(i=l$(s),i===null||(s=s[Va],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=Ae.lFrame=fD();return r.currentTNode=e,r.lView=t,!0}function L_(t){let e=fD(),n=t[Ne];Ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fD(){let t=Ae.lFrame,e=t===null?null:t.child;return e===null?hD(t):e}function hD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function pD(){let t=Ae.lFrame;return Ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var mD=pD;function V_(){let t=pD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function u$(t){return(Ae.lFrame.contextLView=Gj(t,Ae.lFrame.contextLView))[lr]}function Ba(){return Ae.lFrame.selectedIndex}function Xs(t){Ae.lFrame.selectedIndex=t}function B_(){let t=Ae.lFrame;return tD(t.tView,t.selectedIndex)}function d$(){return Ae.lFrame.currentNamespace}var gD=!0;function U_(){return gD}function j_(t){gD=t}function f$(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=ZT(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function $_(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function Of(t,e,n){yD(t,e,3,n)}function Ff(t,e,n,r){(t[pe]&3)===n&&yD(t,e,n,r)}function Dv(t,e){let n=t[pe];(n&3)===e&&(n&=16383,n+=1,t[pe]=n)}function yD(t,e,n,r){let i=r!==void 0?t[wa]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[wa]+=65536),(a<s||s==-1)&&(h$(t,n,e,c),t[wa]=(t[wa]&4294901760)+c+2),c++}function WA(t,e){Sr(4,t,e);let n=Ve(null);try{e.call(t)}finally{Ve(n),Sr(5,t,e)}}function h$(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[pe]>>14<t[wa]>>16&&(t[pe]&3)===e&&(t[pe]+=16384,WA(a,s)):WA(a,s)}var Ia=-1,Js=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function p$(t){return t instanceof Js}function m$(t){return(t.flags&8)!==0}function g$(t){return(t.flags&16)!==0}var Rv={},Zv=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=dh(r);let i=this.injector.get(e,Rv,r);return i!==Rv||n===Rv?i:this.parentInjector.get(e,n,r)}};function vD(t){return t!==Ia}function Qf(t){return t&32767}function y$(t){return t>>16}function Yf(t,e){let n=y$(t),r=e;for(;n>0;)r=r[Va],n--;return r}var Xv=!0;function KA(t){let e=Xv;return Xv=t,e}var v$=256,_D=v$-1,ED=5,_$=0,xr={};function E$(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Sl)&&(r=n[Sl]),r==null&&(r=n[Sl]=_$++);let i=r&_D,s=1<<i;e.data[t+(i>>ED)]|=s}function Zf(t,e){let n=wD(t,e);if(n!==-1)return n;let r=e[Ne];r.firstCreatePass&&(t.injectorIndex=e.length,Nv(r.data,t),Nv(e,null),Nv(r.blueprint,null));let i=H_(t,e),s=t.injectorIndex;if(vD(i)){let o=Qf(i),a=Yf(i,e),c=a[Ne].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Nv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function wD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function H_(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=xD(i),r===null)return Ia;if(n++,i=i[Va],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ia}function Jv(t,e,n){E$(t,e,n)}function w$(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(OT(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function bD(t,e,n){if(n&Ie.Optional||t!==void 0)return t;D_(e,"NodeInjector")}function CD(t,e,n,r){if(n&Ie.Optional&&r===void 0&&(r=null),!(n&(Ie.Self|Ie.Host))){let i=t[Da],s=$n(void 0);try{return i?i.get(e,r,n&Ie.Optional):TT(e,r,n&Ie.Optional)}finally{$n(s)}}return bD(r,e,n)}function ID(t,e,n,r=Ie.Default,i){if(t!==null){if(e[pe]&2048&&!(r&Ie.Self)){let o=x$(t,e,n,r,xr);if(o!==xr)return o}let s=SD(t,e,n,r,xr);if(s!==xr)return s}return CD(e,n,r,i)}function SD(t,e,n,r,i){let s=I$(n);if(typeof s=="function"){if(!dD(e,t,r))return r&Ie.Host?bD(i,n,r):CD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&Ie.Optional))D_(n);else return o}finally{mD()}}else if(typeof s=="number"){let o=null,a=wD(t,e),c=Ia,u=r&Ie.Host?e[Dr][ur]:null;for((a===-1||r&Ie.SkipSelf)&&(c=a===-1?H_(t,e):e[a+8],c===Ia||!YA(r,!1)?a=-1:(o=e[Ne],a=Qf(c),e=Yf(c,e)));a!==-1;){let d=e[Ne];if(QA(s,a,d.data)){let h=b$(a,e,n,o,r,u);if(h!==xr)return h}c=e[a+8],c!==Ia&&YA(r,e[Ne].data[a+8]===u)&&QA(s,a,e)?(o=d,a=Qf(c),e=Yf(c,e)):a=-1}}return i}function b$(t,e,n,r,i,s){let o=e[Ne],a=o.data[t+8],c=r==null?ph(a)&&Xv:r!=o&&(a.type&3)!==0,u=i&Ie.Host&&s===a,d=C$(a,o,n,c,u);return d!==null?Ma(e,o,d,a):xr}function C$(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,d=s>>20,h=r?a:a+d,m=i?a+d:u;for(let y=h;y<m;y++){let _=o[y];if(y<c&&n===_||y>=c&&_.type===n)return y}if(i){let y=o[c];if(y&&ns(y)&&y.type===n)return c}return null}function Ma(t,e,n,r){let i=t[n],s=e.data;if(p$(i)){let o=i;o.resolving&&J3(X3(s[n]));let a=KA(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?$n(o.injectImpl):null,d=dD(t,r,Ie.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&f$(n,s[n],e)}finally{u!==null&&$n(u),KA(a),o.resolving=!1,mD()}}return i}function I$(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Sl)?t[Sl]:void 0;return typeof e=="number"?e>=0?e&_D:S$:e}function QA(t,e,n){let r=1<<t;return!!(n[e+(t>>ED)]&r)}function YA(t,e){return!(t&Ie.Self)&&!(t&Ie.Host&&e)}var Ks=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return ID(this._tNode,this._lView,e,dh(r),n)}};function S$(){return new Ks(Cn(),Je())}function pi(t){return Pl(()=>{let e=t.prototype.constructor,n=e[Bf]||e_(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Bf]||e_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function e_(t){return bT(t)?()=>{let e=e_(un(t));return e&&e()}:Sa(t)}function x$(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[pe]&2048&&!(o[pe]&512);){let a=SD(s,o,n,r|Ie.Self,xr);if(a!==xr)return a;let c=s.parent;if(!c){let u=o[WT];if(u){let d=u.get(n,xr,r);if(d!==xr)return d}c=xD(o),o=o[Va]}s=c}return i}function xD(t){let e=t[Ne],n=e.type;return n===2?e.declTNode:n===1?t[ur]:null}function q_(t){return w$(Cn(),t)}function ZA(t,e=null,n=null,r){let i=AD(t,e,n,r);return i.resolveInjectorInitializers(),i}function AD(t,e=null,n=null,r,i=new Set){let s=[n||Hn,Aj(t)];return r=r||(typeof t=="object"?void 0:dn(t)),new Tl(s,e||P_(),r||null,i)}var bn=class t{static{this.THROW_IF_NOT_FOUND=xl}static{this.NULL=new $f}static create(e,n){if(Array.isArray(e))return ZA({name:""},n,e,"");{let r=e.name??"";return ZA({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=ce({token:t,providedIn:"any",factory:()=>xe(MT)})}static{this.__NG_ELEMENT_ID__=-1}};var A$=new ae("");A$.__NG_ELEMENT_ID__=t=>{let e=Cn();if(e===null)throw new oe(204,!1);if(e.type&2)return e.value;if(t&Ie.Optional)return null;throw new oe(204,!1)};var T$="ngOriginalError";function Mv(t){return t[T$]}var TD=!0,DD=(()=>{class t{static{this.__NG_ELEMENT_ID__=D$}static{this.__NG_ENV_ID__=n=>n}}return t})(),t_=class extends DD{constructor(e){super(),this._lView=e}onDestroy(e){return iD(this._lView,e),()=>Wj(this._lView,e)}};function D$(){return new t_(Je())}var Ua=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new St(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=ce({token:t,providedIn:"root",factory:()=>new t})}}return t})();var n_=class extends Mt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Vj()&&(this.destroyRef=Q(DD,{optional:!0})??void 0,this.pendingTasks=Q(Ua,{optional:!0})??void 0)}emit(e){let n=Ve(null);try{super.next(e)}finally{Ve(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof at&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},gt=n_;function Xf(...t){}function RD(t){let e,n;function r(){t=Xf;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function XA(t){return queueMicrotask(()=>t()),()=>{t=Xf}}var z_="isAngularZone",Jf=z_+"_ID",R$=0,qe=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gt(!1),this.onMicrotaskEmpty=new gt(!1),this.onStable=new gt(!1),this.onError=new gt(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=TD}=e;if(typeof Zone>"u")throw new oe(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,P$(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(z_)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new oe(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new oe(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,N$,Xf,Xf);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},N$={};function G_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function M$(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){RD(()=>{t.callbackScheduled=!1,r_(t),t.isCheckStableRunning=!0,G_(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),r_(t)}function P$(t){let e=()=>{M$(t)},n=R$++;t._inner=t._inner.fork({name:"angular",properties:{[z_]:!0,[Jf]:n,[Jf+n]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(k$(c))return r.invokeTask(s,o,a,c);try{return JA(t),r.invokeTask(s,o,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),eT(t)}},onInvoke:(r,i,s,o,a,c,u)=>{try{return JA(t),r.invoke(s,o,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!O$(c)&&e(),eT(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,r_(t),G_(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function r_(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function JA(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function eT(t){t._nesting--,G_(t)}var i_=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gt,this.onMicrotaskEmpty=new gt,this.onStable=new gt,this.onError=new gt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function k$(t){return ND(t,"__ignore_ng_zone__")}function O$(t){return ND(t,"__scheduler_tick__")}function ND(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ai=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Mv(e);for(;n&&Mv(n);)n=Mv(n);return n||null}},F$=new ae("",{providedIn:"root",factory:()=>{let t=Q(qe),e=Q(ai);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function L$(){return yh(Cn(),Je())}function yh(t,e){return new dr(Wn(t,e))}var dr=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=L$}}return t})();function MD(t){return(t.flags&128)===128}var PD=new Map,V$=0;function B$(){return V$++}function U$(t){PD.set(t[hh],t)}function s_(t){PD.delete(t[hh])}var tT="__ngContext__";function eo(t,e){Ji(e)?(t[tT]=e[hh],U$(e)):t[tT]=e}function kD(t){return FD(t[Dl])}function OD(t){return FD(t[cr])}function FD(t){for(;t!==null&&!fi(t);)t=t[cr];return t}var o_;function LD(t){o_=t}function j$(){if(o_!==void 0)return o_;if(typeof document<"u")return document;throw new oe(210,!1)}var W_=new ae("",{providedIn:"root",factory:()=>$$}),$$="ng",K_=new ae(""),ss=new ae("",{providedIn:"platform",factory:()=>"unknown"});var Q_=new ae("",{providedIn:"root",factory:()=>j$().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var H$="h",q$="b";var z$=()=>null;function Y_(t,e,n=!1){return z$(t,e,n)}var VD=!1,G$=new ae("",{providedIn:"root",factory:()=>VD});var Rf;function W$(){if(Rf===void 0&&(Rf=null,Bv.trustedTypes))try{Rf=Bv.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Rf}function nT(t){return W$()?.createScriptURL(t)||t}var eh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ET})`}};function Fl(t){return t instanceof eh?t.changingThisBreaksApplicationSecurity:t}function Z_(t,e){let n=K$(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ET})`)}return n===e}function K$(t){return t instanceof eh&&t.getTypeName()||null}var Q$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function BD(t){return t=String(t),t.match(Q$)?t:"unsafe:"+t}var vh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(vh||{});function so(t){let e=jD();return e?e.sanitize(vh.URL,t)||"":Z_(t,"URL")?Fl(t):BD(uh(t))}function Y$(t){let e=jD();if(e)return nT(e.sanitize(vh.RESOURCE_URL,t)||"");if(Z_(t,"ResourceURL"))return nT(Fl(t));throw new oe(904,!1)}function Z$(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Y$:so}function UD(t,e,n){return Z$(e,n)(t)}function jD(){let t=Je();return t&&t[Tr].sanitizer}function $D(t){return t instanceof Function?t():t}var ci=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ci||{}),X$;function X_(t,e){return X$(t,e)}function ba(t,e,n,r,i){if(r!=null){let s,o=!1;fi(r)?s=r:Ji(r)&&(o=!0,r=r[di]);let a=Rr(r);t===0&&n!==null?i==null?WD(e,n,a):th(e,n,a,i||null,!0):t===1&&n!==null?th(e,n,a,i||null,!0):t===2?h4(e,a,o):t===3&&e.destroyNode(a),s!=null&&m4(e,t,s,n,i)}}function J$(t,e){return t.createText(e)}function e4(t,e,n){t.setValue(e,n)}function HD(t,e,n){return t.createElement(e,n)}function t4(t,e){qD(t,e),e[di]=null,e[ur]=null}function n4(t,e,n,r,i,s){r[di]=i,r[ur]=e,_h(t,r,n,1,i,s)}function qD(t,e){e[Tr].changeDetectionScheduler?.notify(9),_h(t,e,e[Pt],2,null,null)}function r4(t){let e=t[Dl];if(!e)return Pv(t[Ne],t);for(;e;){let n=null;if(Ji(e))n=e[Dl];else{let r=e[zn];r&&(n=r)}if(!n){for(;e&&!e[cr]&&e!==t;)Ji(e)&&Pv(e[Ne],e),e=e[fn];e===null&&(e=t),Ji(e)&&Pv(e[Ne],e),n=e&&e[cr]}e=n}}function i4(t,e,n,r){let i=zn+r,s=n.length;r>0&&(n[i-1][cr]=e),r<s-zn?(e[cr]=n[i],NT(n,zn+r,e)):(n.push(e),e[cr]=null),e[fn]=n;let o=e[Ra];o!==null&&n!==o&&zD(o,e);let a=e[Na];a!==null&&a.insertView(t),Qv(e),e[pe]|=128}function zD(t,e){let n=t[Gf],r=e[fn];if(Ji(r))t[pe]|=Wf.HasTransplantedViews;else{let i=r[fn][Dr];e[Dr]!==i&&(t[pe]|=Wf.HasTransplantedViews)}n===null?t[Gf]=[e]:n.push(e)}function J_(t,e){let n=t[Gf],r=n.indexOf(e);n.splice(r,1)}function a_(t,e){if(t.length<=zn)return;let n=zn+e,r=t[n];if(r){let i=r[Ra];i!==null&&i!==t&&J_(i,r),e>0&&(t[n-1][cr]=r[cr]);let s=jf(t,zn+e);t4(r[Ne],r);let o=s[Na];o!==null&&o.detachView(s[Ne]),r[fn]=null,r[cr]=null,r[pe]&=-129}return r}function GD(t,e){if(!(e[pe]&256)){let n=e[Pt];n.destroyNode&&_h(t,e,n,3,null,null),r4(e)}}function Pv(t,e){if(e[pe]&256)return;let n=Ve(null);try{e[pe]&=-129,e[pe]|=256,e[qn]&&ov(e[qn]),o4(t,e),s4(t,e),e[Ne].type===1&&e[Pt].destroy();let r=e[Ra];if(r!==null&&fi(e[fn])){r!==e[fn]&&J_(r,e);let i=e[Na];i!==null&&i.detachView(t)}s_(e)}finally{Ve(n)}}function s4(t,e){let n=t.cleanup,r=e[qf];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[qf]=null);let i=e[Xi];if(i!==null){e[Xi]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function o4(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Js)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Sr(4,a,c);try{c.call(a)}finally{Sr(5,a,c)}}else{Sr(4,i,s);try{s.call(i)}finally{Sr(5,i,s)}}}}}function a4(t,e,n){return c4(t,e.parent,n)}function c4(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[di];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Ar.None||s===Ar.Emulated)return null}return Wn(r,n)}}function th(t,e,n,r,i){t.insertBefore(e,n,r,i)}function WD(t,e,n){t.appendChild(e,n)}function rT(t,e,n,r,i){r!==null?th(t,e,n,r,i):WD(t,e,n)}function KD(t,e){return t.parentNode(e)}function l4(t,e){return t.nextSibling(e)}function u4(t,e,n){return f4(t,e,n)}function d4(t,e,n){return t.type&40?Wn(t,n):null}var f4=d4,iT;function eE(t,e,n,r){let i=a4(t,r,e),s=e[Pt],o=r.parent||e[ur],a=u4(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)rT(s,i,n[c],a,!1);else rT(s,i,n,a,!1);iT!==void 0&&iT(s,r,e,n,i)}function Cl(t,e){if(e!==null){let n=e.type;if(n&3)return Wn(e,t);if(n&4)return c_(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Cl(t,r);{let i=t[e.index];return fi(i)?c_(-1,i):Rr(i)}}else{if(n&128)return Cl(t,e.next);if(n&32)return X_(e,t)()||Rr(t[e.index]);{let r=QD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Zs(t[Dr]);return Cl(i,r)}else return Cl(t,e.next)}}}return null}function QD(t,e){if(e!==null){let r=t[Dr][ur],i=e.projection;return r.projection[i]}return null}function c_(t,e){let n=zn+t+1;if(n<e.length){let r=e[n],i=r[Ne].firstChild;if(i!==null)return Cl(r,i)}return e[Ys]}function h4(t,e,n){t.removeChild(null,e,n)}function tE(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(o&&e===0&&(a&&eo(Rr(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)tE(t,e,n.child,r,i,s,!1),ba(e,t,i,a,s);else if(c&32){let u=X_(n,r),d;for(;d=u();)ba(e,t,i,d,s);ba(e,t,i,a,s)}else c&16?p4(t,e,r,n,i,s):ba(e,t,i,a,s);n=o?n.projectionNext:n.next}}function _h(t,e,n,r,i,s){tE(n,r,t.firstChild,e,i,s,!1)}function p4(t,e,n,r,i,s){let o=n[Dr],c=o[ur].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];ba(e,t,i,d,s)}else{let u=c,d=o[fn];MD(r)&&(u.flags|=128),tE(t,e,u,d,i,s,!0)}}function m4(t,e,n,r,i){let s=n[Ys],o=Rr(n);s!==o&&ba(e,t,r,s,i);for(let a=zn;a<n.length;a++){let c=n[a];_h(c[Ne],c,t,e,r,s)}}function g4(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:ci.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ci.Important),t.setStyle(n,r,i,s))}}function y4(t,e,n){t.setAttribute(e,"style",n)}function YD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ZD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Hv(t,e,r),i!==null&&YD(t,e,i),s!==null&&y4(t,e,s)}var os={};function K(t=1){XD(Kn(),Je(),Ba()+t,!1)}function XD(t,e,n,r){if(!r)if((e[pe]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Of(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Ff(e,s,0,n)}Xs(n)}function re(t,e=Ie.Default){let n=Je();if(n===null)return xe(t,e);let r=Cn();return ID(r,n,un(t),e)}function JD(t,e,n,r,i,s){let o=Ve(null);try{let a=null;i&es.SignalBased&&(a=e[r][qi]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&es.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):YT(e,a,r,s)}finally{Ve(o)}}function v4(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Xs(~i);else{let s=i,o=n[++r],a=n[++r];o$(o,s);let c=e[s];a(2,c)}}}finally{Xs(-1)}}function Eh(t,e,n,r,i,s,o,a,c,u,d){let h=e.blueprint.slice();return h[di]=i,h[pe]=r|4|128|8|64,(u!==null||t&&t[pe]&2048)&&(h[pe]|=2048),nD(h),h[fn]=h[Va]=t,h[lr]=n,h[Tr]=o||t&&t[Tr],h[Pt]=a||t&&t[Pt],h[Da]=c||t&&t[Da]||null,h[ur]=s,h[hh]=B$(),h[Hf]=d,h[WT]=u,h[Dr]=e.type==2?t[Dr]:h,h}function wh(t,e,n,r,i){let s=t.data[e];if(s===null)s=_4(t,e,n,r,i),s$()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=e$();s.injectorIndex=o===null?-1:o.injectorIndex}return Ol(s,!0),s}function _4(t,e,n,r,i){let s=aD(),o=cD(),a=o?s:s&&s.parent,c=t.data[e]=I4(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function eR(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function tR(t,e,n,r,i){let s=Ba(),o=r&2;try{Xs(-1),o&&e.length>ts&&XD(t,e,ts,!1),Sr(o?2:0,i),n(r,i)}finally{Xs(s),Sr(o?3:1,i)}}function nR(t,e,n){if(QT(e)){let r=Ve(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{Ve(r)}}}function rR(t,e,n){oD()&&(R4(t,e,n,Wn(n,e)),(n.flags&64)===64&&lR(t,e,n))}function iR(t,e,n=Wn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function sR(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=nE(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function nE(t,e,n,r,i,s,o,a,c,u,d){let h=ts+r,m=h+i,y=E4(h,m),_=typeof u=="function"?u():u;return y[Ne]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:d}}function E4(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:os);return n}function w4(t,e,n,r){let s=r.get(G$,VD)||n===Ar.ShadowDom,o=t.selectRootElement(e,s);return b4(o),o}function b4(t){C4(t)}var C4=()=>null;function I4(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Zj()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function sT(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=es.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?oT(r,n,u,a,c):oT(r,n,u,a)}return r}function oT(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function S4(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let d=r;d<i;d++){let h=s[d],m=n?n.get(h):null,y=m?m.inputs:null,_=m?m.outputs:null;c=sT(0,h.inputs,d,c,y),u=sT(1,h.outputs,d,u,_);let D=c!==null&&o!==null&&!N_(e)?j4(c,d,o):null;a.push(D)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function x4(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function oR(t,e,n,r,i,s,o,a){let c=Wn(e,n),u=e.inputs,d;!a&&u!=null&&(d=u[r])?(rE(t,n,d,r,i),ph(e)&&A4(n,e.index)):e.type&3?(r=x4(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function A4(t,e){let n=is(e,t);n[pe]&16||(n[pe]|=64)}function aR(t,e,n,r){if(oD()){let i=r===null?null:{"":-1},s=M4(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&cR(t,e,n,o,i,a),i&&P4(n,r,i)}n.mergedAttrs=Al(n.mergedAttrs,n.attrs)}function cR(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Jv(Zf(n,e),t,r[u].type);O4(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let d=r[u];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,c=eR(t,e,r.length,null);for(let u=0;u<r.length;u++){let d=r[u];n.mergedAttrs=Al(n.mergedAttrs,d.hostAttrs),F4(t,n,e,c,d),k4(c,d,i),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let h=d.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}S4(t,n,s)}function T4(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;D4(o)!=a&&o.push(a),o.push(n,r,s)}}function D4(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function R4(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;ph(n)&&L4(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Zf(n,e),eo(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Ma(e,t,a,n);if(eo(u,e),o!==null&&U4(e,a-i,u,c,n,o),ns(c)){let d=is(n.index,e);d[lr]=Ma(e,t,a,n)}}}function lR(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=a$();try{Xs(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Yv(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&N4(c,u)}}finally{Xs(-1),Yv(o)}}function N4(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function M4(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(vj(e,o.selectors,!1))if(r||(r=[]),ns(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;l_(t,e,c)}else r.unshift(o),l_(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function l_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function P4(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new oe(-301,!1);r.push(e[i],s)}}}function k4(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ns(e)&&(n[""]=t)}}function O4(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function F4(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Sa(i.type,!0)),o=new Js(s,ns(i),re);t.blueprint[r]=o,n[r]=o,T4(t,e,r,eR(t,n,i.hostVars,os),i)}function L4(t,e,n){let r=Wn(e,t),i=sR(n),s=t[Tr].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=bh(t,Eh(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function V4(t,e,n,r,i,s){let o=Wn(t,e);B4(e[Pt],o,s,t.value,n,r,i)}function B4(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?uh(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function U4(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],d=o[a++],h=o[a++];JD(r,n,c,u,d,h)}}function j4(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function uR(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function dR(t,e){let n=t.contentQueries;if(n!==null){let r=Ve(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];uD(s),a.contentQueries(2,e[o],o)}}}finally{Ve(r)}}}function bh(t,e){return t[Dl]?t[qA][cr]=e:t[Dl]=e,t[qA]=e,e}function u_(t,e,n){uD(0);let r=Ve(null);try{e(t,n)}finally{Ve(r)}}function $4(t){return t[qf]??=[]}function H4(t){return t.cleanup??=[]}function fR(t,e){let n=t[Da],r=n?n.get(ai,null):null;r&&r.handleError(e)}function rE(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],d=t.data[o];JD(d,u,r,a,c,i)}}function q4(t,e,n){let r=eD(e,t);e4(t[Pt],r,n)}function z4(t,e){let n=is(e,t),r=n[Ne];G4(r,n);let i=n[di];i!==null&&n[Hf]===null&&(n[Hf]=Y_(i,n[Da])),iE(r,n,n[lr])}function G4(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function iE(t,e,n){L_(e);try{let r=t.viewQuery;r!==null&&u_(1,r,n);let i=t.template;i!==null&&tR(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Na]?.finishViewCreation(t),t.staticContentQueries&&dR(t,e),t.staticViewQueries&&u_(2,t.viewQuery,n);let s=t.components;s!==null&&W4(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[pe]&=-5,V_()}}function W4(t,e){for(let n=0;n<e.length;n++)z4(t,e[n])}function K4(t,e,n,r){let i=Ve(null);try{let s=e.tView,a=t[pe]&4096?4096:16,c=Eh(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[Ra]=u;let d=t[Na];return d!==null&&(c[Na]=d.createEmbeddedView(s)),iE(s,c,n),c}finally{Ve(i)}}function aT(t,e){return!e||e.firstChild===null||MD(t)}function Q4(t,e,n,r=!0){let i=e[Ne];if(i4(i,e,t,n),r){let o=c_(n,t),a=e[Pt],c=KD(a,t[Ys]);c!==null&&n4(i,t[ur],a,e,c,o)}let s=e[Hf];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function nh(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Rr(s)),fi(s)&&Y4(s,r);let o=n.type;if(o&8)nh(t,e,n.child,r);else if(o&32){let a=X_(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=QD(e,n);if(Array.isArray(a))r.push(...a);else{let c=Zs(e[Dr]);nh(c[Ne],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Y4(t,e){for(let n=zn;n<t.length;n++){let r=t[n],i=r[Ne].firstChild;i!==null&&nh(r[Ne],r,i,e)}t[Ys]!==t[di]&&e.push(t[Ys])}var hR=[];function Z4(t){return t[qn]??X4(t)}function X4(t){let e=hR.pop()??Object.create(eH);return e.lView=t,e}function J4(t){t.lView[qn]!==t&&(t.lView=null,hR.push(t))}var eH=L(E({},_l),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{gh(t.lView)},consumerOnSignalRead(){this.lView[qn]=this}});function tH(t){let e=t[qn]??Object.create(nH);return e.lView=t,e}var nH=L(E({},_l),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Zs(t.lView);for(;e&&!pR(e[Ne]);)e=Zs(e);e&&rD(e)},consumerOnSignalRead(){this.lView[qn]=this}});function pR(t){return t.type!==2}var rH=100;function mR(t,e=!0,n=0){let r=t[Tr],i=r.rendererFactory,s=!1;s||i.begin?.();try{iH(t,n)}catch(o){throw e&&fR(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function iH(t,e){let n=lD();try{GA(!0),d_(t,e);let r=0;for(;mh(t);){if(r===rH)throw new oe(103,!1);r++,d_(t,1)}}finally{GA(n)}}function sH(t,e,n,r){let i=e[pe];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Tr].inlineEffectRunner?.flush(),L_(e);let a=!0,c=null,u=null;s||(pR(t)?(u=Z4(e),c=Zd(u)):Xx()===null?(a=!1,u=tH(e),c=Zd(u)):e[qn]&&(ov(e[qn]),e[qn]=null));try{nD(e),r$(t.bindingStartIndex),n!==null&&tR(t,e,n,2,r);let d=(i&3)===3;if(!s)if(d){let y=t.preOrderCheckHooks;y!==null&&Of(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Ff(e,y,0,null),Dv(e,0)}if(o||oH(e),gR(e,0),t.contentQueries!==null&&dR(t,e),!s)if(d){let y=t.contentCheckHooks;y!==null&&Of(e,y)}else{let y=t.contentHooks;y!==null&&Ff(e,y,1),Dv(e,1)}v4(t,e);let h=t.components;h!==null&&vR(e,h,0);let m=t.viewQuery;if(m!==null&&u_(2,m,r),!s)if(d){let y=t.viewCheckHooks;y!==null&&Of(e,y)}else{let y=t.viewHooks;y!==null&&Ff(e,y,2),Dv(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Tv]){for(let y of e[Tv])y();e[Tv]=null}s||(e[pe]&=-73)}catch(d){throw s||gh(e),d}finally{u!==null&&(iv(u,c),a&&J4(u)),V_()}}function gR(t,e){for(let n=kD(t);n!==null;n=OD(n))for(let r=zn;r<n.length;r++){let i=n[r];yR(i,e)}}function oH(t){for(let e=kD(t);e!==null;e=OD(e)){if(!(e[pe]&Wf.HasTransplantedViews))continue;let n=e[Gf];for(let r=0;r<n.length;r++){let i=n[r];rD(i)}}}function aH(t,e,n){let r=is(e,t);yR(r,n)}function yR(t,e){O_(t)&&d_(t,e)}function d_(t,e){let r=t[Ne],i=t[pe],s=t[qn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&sv(s)),o||=!1,s&&(s.dirty=!1),t[pe]&=-9217,o)sH(r,t,r.template,t[lr]);else if(i&8192){gR(t,1);let a=r.components;a!==null&&vR(t,a,1)}}function vR(t,e,n){for(let r=0;r<e.length;r++)aH(t,e[r],n)}function sE(t,e){let n=lD()?64:1088;for(t[Tr].changeDetectionScheduler?.notify(e);t;){t[pe]|=n;let r=Zs(t);if(Wv(t)&&!r)return t;t=r}return null}var to=class{get rootNodes(){let e=this._lView,n=e[Ne];return nh(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[lr]}set context(e){this._lView[lr]=e}get destroyed(){return(this._lView[pe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[fn];if(fi(e)){let n=e[zf],r=n?n.indexOf(this):-1;r>-1&&(a_(e,r),jf(n,r))}this._attachedToViewContainer=!1}GD(this._lView[Ne],this._lView)}onDestroy(e){iD(this._lView,e)}markForCheck(){sE(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[pe]&=-129}reattach(){Qv(this._lView),this._lView[pe]|=128}detectChanges(){this._lView[pe]|=1024,mR(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Wv(this._lView),n=this._lView[Ra];n!==null&&!e&&J_(n,this._lView),qD(this._lView[Ne],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new oe(902,!1);this._appRef=e;let n=Wv(this._lView),r=this._lView[Ra];r!==null&&!n&&zD(r,this._lView),Qv(this._lView)}},Ch=(()=>{class t{static{this.__NG_ELEMENT_ID__=uH}}return t})(),cH=Ch,lH=class extends cH{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=K4(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new to(i)}};function uH(){return dH(Cn(),Je())}function dH(t,e){return t.type&4?new lH(e,t,yh(t,e)):null}var Qoe=new RegExp(`^(\\d+)*(${q$}|${H$})*(.*)`);var fH=()=>null;function cT(t,e){return fH(t,e)}var Pa=class{},Ih=new ae("",{providedIn:"root",factory:()=>!1});var _R=new ae(""),ER=new ae(""),f_=class{},rh=class{};function hH(t){let e=Error(`No component factory found for ${dn(t)}.`);return e[pH]=t,e}var pH="ngComponent";var h_=class{resolveComponentFactory(e){throw hH(e)}},ka=class{static{this.NULL=new h_}},Oa=class{},Or=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>mH()}}return t})();function mH(){let t=Je(),e=Cn(),n=is(e.index,t);return(Ji(n)?n:t)[Pt]}var gH=(()=>{class t{static{this.\u0275prov=ce({token:t,providedIn:"root",factory:()=>null})}}return t})();function p_(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=kA(i,a);else if(s==2){let c=a,u=e[++o];r=kA(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ih=class extends ka{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Qs(e);return new Rl(n,this.ngModule)}};function lT(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:es.None;e?n.push({propName:o,templateName:r,isSignal:(a&es.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function yH(t){let e=t.toLowerCase();return e==="svg"?Hj:e==="math"?qj:null}var Rl=class extends rh{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=lT(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return lT(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=bj(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=Ve(null);try{i=i||this.ngModule;let o=i instanceof Gn?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Zv(e,o):e,c=a.get(Oa,null);if(c===null)throw new oe(407,!1);let u=a.get(gH,null),d=a.get(Pa,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:d},m=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",_=r?w4(m,r,this.componentDef.encapsulation,a):HD(m,y,yH(y)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let S=null;_!==null&&(S=Y_(_,a,!0));let O=nE(0,null,null,1,0,null,null,null,null,null,null),H=Eh(null,O,null,D,null,null,h,m,a,null,S);L_(H);let W,te,Se=null;try{let se=this.componentDef,T,b=null;se.findHostDirectiveDefs?(T=[],b=new Map,se.findHostDirectiveDefs(se,T,b),T.push(se)):T=[se];let C=vH(H,_);Se=_H(C,_,se,T,H,h,m),te=tD(O,ts),_&&bH(m,se,_,r),n!==void 0&&CH(te,this.ngContentSelectors,n),W=wH(Se,se,T,b,H,[IH]),iE(O,H,null)}catch(se){throw Se!==null&&s_(Se),s_(H),se}finally{V_()}return new m_(this.componentType,W,yh(te,H),H,te)}finally{Ve(s)}}},m_=class extends f_{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new to(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;rE(s[Ne],s,i,e,n),this.previousInputValues.set(e,n);let o=is(this._tNode.index,s);sE(o,1)}}get injector(){return new Ks(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function vH(t,e){let n=t[Ne],r=ts;return t[r]=e,wh(n,r,2,"#host",null)}function _H(t,e,n,r,i,s,o){let a=i[Ne];EH(r,t,e,o);let c=null;e!==null&&(c=Y_(e,i[Da]));let u=s.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let h=Eh(i,sR(n),null,d,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&l_(a,t,r.length-1),bh(i,h),i[t.index]=h}function EH(t,e,n,r){for(let i of t)e.mergedAttrs=Al(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(p_(e,e.mergedAttrs,!0),n!==null&&ZD(r,n,e))}function wH(t,e,n,r,i,s){let o=Cn(),a=i[Ne],c=Wn(o,i);cR(a,i,o,n,null,r);for(let d=0;d<n.length;d++){let h=o.directiveStart+d,m=Ma(i,a,h,o);eo(m,i)}lR(a,i,o),c&&eo(c,i);let u=Ma(i,a,o.directiveStart+o.componentOffset,o);if(t[lr]=i[lr]=u,s!==null)for(let d of s)d(u,e);return nR(a,o,i),u}function bH(t,e,n,r){if(r)Hv(t,n,["ng-version","18.2.9"]);else{let{attrs:i,classes:s}=Cj(e.selectors[0]);i&&Hv(t,n,i),s&&s.length>0&&YD(t,n,s.join(" "))}}function CH(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function IH(){let t=Cn();$_(Je()[Ne],t)}var ja=(()=>{class t{static{this.__NG_ELEMENT_ID__=SH}}return t})();function SH(){let t=Cn();return AH(t,Je())}var xH=ja,wR=class extends xH{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return yh(this._hostTNode,this._hostLView)}get injector(){return new Ks(this._hostTNode,this._hostLView)}get parentInjector(){let e=H_(this._hostTNode,this._hostLView);if(vD(e)){let n=Yf(e,this._hostLView),r=Qf(e),i=n[Ne].data[r+8];return new Ks(i,n)}else return new Ks(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=uT(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-zn}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=cT(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,aT(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!Bj(e),a;if(o)a=n;else{let _=n||{};a=_.index,r=_.injector,i=_.projectableNodes,s=_.environmentInjector||_.ngModuleRef}let c=o?e:new Rl(Qs(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let D=(o?u:this.parentInjector).get(Gn,null);D&&(s=D)}let d=Qs(c.componentType??{}),h=cT(this._lContainer,d?.id??null),m=h?.firstChild??null,y=c.create(u,i,m,s);return this.insertImpl(y.hostView,a,aT(this._hostTNode,h)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(zj(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[fn],u=new wR(c,c[ur],c[fn]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Q4(o,i,s,r),e.attachToViewContainerRef(),NT(kv(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=uT(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=a_(this._lContainer,n);r&&(jf(kv(this._lContainer),n),GD(r[Ne],r))}detach(e){let n=this._adjustIndex(e,-1),r=a_(this._lContainer,n);return r&&jf(kv(this._lContainer),n)!=null?new to(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function uT(t){return t[zf]}function kv(t){return t[zf]||(t[zf]=[])}function AH(t,e){let n,r=e[t.index];return fi(r)?n=r:(n=uR(r,e,null,t),e[t.index]=n,bh(e,n)),DH(n,e,t,r),new wR(n,t,e)}function TH(t,e){let n=t[Pt],r=n.createComment(""),i=Wn(e,t),s=KD(n,i);return th(n,s,r,l4(n,i),!1),r}var DH=MH,RH=()=>!1;function NH(t,e,n){return RH(t,e,n)}function MH(t,e,n,r){if(t[Ys])return;let i;n.type&8?i=Rr(r):i=TH(e,n),t[Ys]=i}var dT=new Set;function Ll(t){dT.has(t)||(dT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Vl(t,e){Ll("NgSignals");let n=lA(t),r=n[qi];return e?.equal&&(r.equal=e.equal),n.set=i=>av(r,i),n.update=i=>uA(r,i),n.asReadonly=PH.bind(n),n}function PH(){let t=this[qi];if(t.readonlyFn===void 0){let e=()=>this();e[qi]=t,t.readonlyFn=e}return t.readonlyFn}function kH(t){return Object.getPrototypeOf(t.prototype).constructor}function Qn(t){let e=kH(t.type),n=!0,r=[t];for(;e;){let i;if(ns(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new oe(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Nf(t.inputs),o.inputTransforms=Nf(t.inputTransforms),o.declaredInputs=Nf(t.declaredInputs),o.outputs=Nf(t.outputs);let a=i.hostBindings;a&&BH(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&LH(t,c),u&&VH(t,u),OH(t,i),q3(t.outputs,i.outputs),ns(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Qn&&(n=!1)}}e=Object.getPrototypeOf(e)}FH(r)}function OH(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function FH(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Al(i.hostAttrs,n=Al(n,i.hostAttrs))}}function Nf(t){return t===xa?{}:t===Hn?[]:t}function LH(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function VH(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function BH(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function oE(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var rs=class{},Nl=class{};var g_=class extends rs{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ih(this);let s=UT(e);this._bootstrapComponents=$D(s.bootstrap),this._r3Injector=AD(e,n,[{provide:rs,useValue:this},{provide:ka,useValue:this.componentFactoryResolver},...r],dn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},y_=class extends Nl{constructor(e){super(),this.moduleType=e}create(e){return new g_(this.moduleType,e,[])}};var sh=class extends rs{constructor(e){super(),this.componentFactoryResolver=new ih(this),this.instance=null;let n=new Tl([...e.providers,{provide:rs,useValue:this},{provide:ka,useValue:this.componentFactoryResolver}],e.parent||P_(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function aE(t,e,n=null){return new sh({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function bR(t){return jH(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function UH(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function jH(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function $H(t,e,n){return t[e]=n}function Fa(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function HH(t,e,n,r){let i=Fa(t,e,n);return Fa(t,e+1,r)||i}function qH(t){return(t.flags&32)===32}function zH(t,e,n,r,i,s,o,a,c){let u=e.consts,d=wh(e,t,4,o||null,a||null);aR(e,n,d,Kf(u,c)),$_(e,d);let h=d.tView=nE(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}function GH(t,e,n,r,i,s,o,a,c,u){let d=n+ts,h=e.firstCreatePass?zH(d,e,t,r,i,s,o,a,c):e.data[d];Ol(h,!1);let m=WH(e,t,h,n);U_()&&eE(e,t,m,h),eo(m,t);let y=uR(m,t,m,h);return t[d]=y,bh(t,y),NH(y,h,t),k_(h)&&rR(e,t,h),c!=null&&iR(t,h,u),h}function Fe(t,e,n,r,i,s,o,a){let c=Je(),u=Kn(),d=Kf(u.consts,s);return GH(c,u,t,e,n,r,i,d,o,a),Fe}var WH=KH;function KH(t,e,n,r){return j_(!0),e[Pt].createComment("")}var Il=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Il||{}),QH=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=ce({token:t,providedIn:"root",factory:()=>new t})}}return t})(),fT=class t{constructor(){this.ngZone=Q(qe),this.scheduler=Q(Pa),this.errorHandler=Q(ai,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Il.EarlyRead,Il.Write,Il.MixedReadWrite,Il.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=ce({token:t,providedIn:"root",factory:()=>new t})}};function Bl(t,e,n,r){let i=Je(),s=F_();if(Fa(i,s,e)){let o=Kn(),a=B_();V4(a,i,t,e,n,r)}return Bl}function CR(t,e,n,r){return Fa(t,F_(),n)?e+uh(n)+r:os}function Mf(t,e){return t<<17|e<<2}function no(t){return t>>17&32767}function YH(t){return(t&2)==2}function ZH(t,e){return t&131071|e<<17}function v_(t){return t|2}function La(t){return(t&131068)>>2}function Ov(t,e){return t&-131069|e<<2}function XH(t){return(t&1)===1}function __(t){return t|1}function JH(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=no(o),c=La(o);t[r]=n;let u=!1,d;if(Array.isArray(n)){let h=n;d=h[1],(d===null||kl(h,d)>0)&&(u=!0)}else d=n;if(i)if(c!==0){let m=no(t[a+1]);t[r+1]=Mf(m,a),m!==0&&(t[m+1]=Ov(t[m+1],r)),t[a+1]=ZH(t[a+1],r)}else t[r+1]=Mf(a,0),a!==0&&(t[a+1]=Ov(t[a+1],r)),a=r;else t[r+1]=Mf(c,0),a===0?a=r:t[c+1]=Ov(t[c+1],r),c=r;u&&(t[r+1]=v_(t[r+1])),hT(t,d,r,!0),hT(t,d,r,!1),eq(e,d,t,r,s),o=Mf(a,c),s?e.classBindings=o:e.styleBindings=o}function eq(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&kl(s,e)>=0&&(n[r+1]=__(n[r+1]))}function hT(t,e,n,r){let i=t[n+1],s=e===null,o=r?no(i):La(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];tq(c,e)&&(a=!0,t[o+1]=r?__(u):v_(u)),o=r?no(u):La(u)}a&&(t[n+1]=r?v_(i):__(i))}function tq(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?kl(t,e)>=0:!1}function ie(t,e,n){let r=Je(),i=F_();if(Fa(r,i,e)){let s=Kn(),o=B_();oR(s,o,r,t,e,r[Pt],n,!1)}return ie}function pT(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";rE(t,n,s[o],o,r)}function Sh(t,e){return nq(t,e,null,!0),Sh}function nq(t,e,n,r){let i=Je(),s=Kn(),o=i$(2);if(s.firstUpdatePass&&iq(s,t,o,r),e!==os&&Fa(i,o,e)){let a=s.data[Ba()];lq(s,a,i,i[Pt],t,i[o+1]=uq(e,n),r,o)}}function rq(t,e){return e>=t.expandoStartIndex}function iq(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ba()],o=rq(t,n);dq(s,r)&&e===null&&!o&&(e=!1),e=sq(i,s,e,r),JH(i,s,e,n,o,r)}}function sq(t,e,n,r){let i=c$(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Fv(null,t,e,n,r),n=Ml(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Fv(i,t,e,n,r),s===null){let c=oq(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Fv(null,t,e,c[1],r),c=Ml(c,e.attrs,r),aq(t,e,r,c))}else s=cq(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function oq(t,e,n){let r=n?e.classBindings:e.styleBindings;if(La(r)!==0)return t[no(r)]}function aq(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[no(i)]=r}function cq(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Ml(r,o,n)}return Ml(r,e.attrs,n)}function Fv(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ml(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ml(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),uj(t,o,n?!0:e[++s]))}return t===void 0?null:t}function lq(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],d=XH(u)?mT(c,e,n,i,La(u),o):void 0;if(!oh(d)){oh(s)||YH(u)&&(s=mT(c,null,n,i,a,o));let h=eD(Ba(),n);g4(r,o,h,i,s)}}function mT(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),d=u?c[1]:c,h=d===null,m=n[i+1];m===os&&(m=h?Hn:void 0);let y=h?xv(m,r):d===r?m:void 0;if(u&&!oh(y)&&(y=xv(c,r)),oh(y)&&(a=y,o))return a;let _=t[i+1];i=o?no(_):La(_)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=xv(c,r))}return a}function oh(t){return t!==void 0}function uq(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=dn(Fl(t)))),t}function dq(t,e){return(t.flags&(e?8:16))!==0}function fq(t,e,n,r,i,s){let o=e.consts,a=Kf(o,i),c=wh(e,t,2,r,a);return aR(e,n,c,Kf(o,s)),c.attrs!==null&&p_(c,c.attrs,!1),c.mergedAttrs!==null&&p_(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function F(t,e,n,r){let i=Je(),s=Kn(),o=ts+t,a=i[Pt],c=s.firstCreatePass?fq(o,s,i,e,n,r):s.data[o],u=hq(s,i,c,a,e,t);i[o]=u;let d=k_(c);return Ol(c,!0),ZD(a,u,c),!qH(c)&&U_()&&eE(s,i,u,c),Kj()===0&&eo(u,i),Qj(),d&&(rR(s,i,c),nR(s,c,i)),r!==null&&iR(i,c),F}function k(){let t=Cn();cD()?t$():(t=t.parent,Ol(t,!1));let e=t;Xj(e)&&Jj(),Yj();let n=Kn();return n.firstCreatePass&&($_(n,t),QT(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&m$(e)&&pT(n,e,Je(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&g$(e)&&pT(n,e,Je(),e.stylesWithoutHost,!1),k}function We(t,e,n,r){return F(t,e,n,r),k(),We}var hq=(t,e,n,r,i,s)=>(j_(!0),HD(r,i,d$()));function Fr(){return Je()}var ah="en-US";var pq=ah;function mq(t){typeof t=="string"&&(pq=t.toLowerCase().replace(/_/g,"-"))}var gq=(t,e,n)=>{};function nt(t,e,n,r){let i=Je(),s=Kn(),o=Cn();return vq(s,i,i[Pt],o,t,e,r),nt}function yq(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[qf],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function vq(t,e,n,r,i,s,o){let a=k_(r),u=t.firstCreatePass&&H4(t),d=e[lr],h=$4(e),m=!0;if(r.type&3||o){let D=Wn(r,e),S=o?o(D):D,O=h.length,H=o?te=>o(Rr(te[r.index])):r.index,W=null;if(!o&&a&&(W=yq(t,e,i,r.index)),W!==null){let te=W.__ngLastListenerFn__||W;te.__ngNextListenerFn__=s,W.__ngLastListenerFn__=s,m=!1}else{s=yT(r,e,d,s),gq(D,i,s);let te=n.listen(S,i,s);h.push(s,te),u&&u.push(i,H,O,O+1)}}else s=yT(r,e,d,s);let y=r.outputs,_;if(m&&y!==null&&(_=y[i])){let D=_.length;if(D)for(let S=0;S<D;S+=2){let O=_[S],H=_[S+1],Se=e[O][H].subscribe(s),se=h.length;h.push(s,Se),u&&u.push(i,r.index,se,-(se+1))}}}function gT(t,e,n,r){let i=Ve(null);try{return Sr(6,e,n),n(r)!==!1}catch(s){return fR(t,s),!1}finally{Sr(7,e,n),Ve(i)}}function yT(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?is(t.index,e):e;sE(o,5);let a=gT(e,n,r,s),c=i.__ngNextListenerFn__;for(;c;)a=gT(e,n,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function Ke(t=1){return u$(t)}function xh(t,e,n,r,i){let s=Je(),o=CR(s,e,n,r);if(o!==os){let a=Kn(),c=B_();oR(a,c,s,t,o,s[Pt],i,!1)}return xh}function j(t,e=""){let n=Je(),r=Kn(),i=t+ts,s=r.firstCreatePass?wh(r,i,1,e,null):r.data[i],o=_q(r,n,s,e,t);n[i]=o,U_()&&eE(r,n,o,s),Ol(s,!1)}var _q=(t,e,n,r,i)=>(j_(!0),J$(e[Pt],r));function Tt(t){return mi("",t,""),Tt}function mi(t,e,n){let r=Je(),i=CR(r,t,e,n);return i!==os&&q4(r,Ba(),i),mi}function Eq(t,e,n){let r=Kn();if(r.firstCreatePass){let i=ns(t);E_(n,r.data,r.blueprint,i,!0),E_(e,r.data,r.blueprint,i,!1)}}function E_(t,e,n,r,i){if(t=un(t),Array.isArray(t))for(let s=0;s<t.length;s++)E_(t[s],e,n,r,i);else{let s=Kn(),o=Je(),a=Cn(),c=Ta(t)?t:un(t.provide),u=GT(t),d=a.providerIndexes&1048575,h=a.directiveStart,m=a.providerIndexes>>20;if(Ta(t)||!t.multi){let y=new Js(u,i,re),_=Vv(c,e,i?d:d+m,h);_===-1?(Jv(Zf(a,o),s,c),Lv(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[_]=y,o[_]=y)}else{let y=Vv(c,e,d+m,h),_=Vv(c,e,d,d+m),D=y>=0&&n[y],S=_>=0&&n[_];if(i&&!S||!i&&!D){Jv(Zf(a,o),s,c);let O=Cq(i?bq:wq,n.length,i,r,u);!i&&S&&(n[_].providerFactory=O),Lv(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),o.push(O)}else{let O=IR(n[i?_:y],u,!i&&r);Lv(s,t,y>-1?y:_,O)}!i&&r&&S&&n[_].componentProviders++}}}function Lv(t,e,n,r){let i=Ta(e),s=Nj(e);if(i||s){let c=(s?un(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(n);d===-1?u.push(n,[r,c]):u[d+1].push(r,c)}else u.push(n,c)}}}function IR(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Vv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function wq(t,e,n,r){return w_(this.multi,[])}function bq(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ma(n,n[Ne],this.providerFactory.index,r);s=a.slice(0,o),w_(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],w_(i,s);return s}function w_(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Cq(t,e,n,r,i){let s=new Js(t,n,re);return s.multi=[],s.index=e,s.componentProviders=0,IR(s,i,r&&!n),s}function as(t,e=[]){return n=>{n.providersResolver=(r,i)=>Eq(r,i?i(t):t,e)}}var Iq=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=HT(!1,n.type),i=r.length>0?aE([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ce({token:t,providedIn:"environment",factory:()=>new t(xe(Gn))})}}return t})();function Ot(t){Ll("NgStandalone"),t.getStandaloneInjector=e=>e.get(Iq).getOrCreateStandaloneInjector(t)}function cE(t,e,n,r,i){return xq(Je(),n$(),t,e,n,r,i)}function Sq(t,e){let n=t[e];return n===os?void 0:n}function xq(t,e,n,r,i,s,o){let a=e+n;return HH(t,a,i,s)?$H(t,a+2,o?r.call(o,i,s):r(i,s)):Sq(t,a+2)}var li=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},SR=new li("18.2.9");var Ah=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var xR=new ae("");function oo(t){return!!t&&typeof t.then=="function"}function AR(t){return!!t&&typeof t.subscribe=="function"}var TR=new ae(""),DR=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Q(TR,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(oo(s))n.push(s);else if(AR(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),lE=new ae("");function Aq(){cA(()=>{throw new oe(600,!1)})}function Tq(t){return t.isBoundToModule}var Dq=10;function Rq(t,e,n){try{let r=n();return oo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ao=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Q(F$),this.afterRenderManager=Q(QH),this.zonelessEnabled=Q(Ih),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Mt,this.afterTick=new Mt,this.componentTypes=[],this.components=[],this.isStable=Q(Ua).hasPendingTasks.pipe(we(n=>!n)),this._injector=Q(Gn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof rh;if(!this._injector.get(DR).done){let m=!i&&BT(n),y=!1;throw new oe(405,y)}let o;i?o=n:o=this._injector.get(ka).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=Tq(o)?void 0:this._injector.get(rs),c=r||o.selector,u=o.create(bn.NULL,[],c,a),d=u.location.nativeElement,h=u.injector.get(xR,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Lf(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new oe(101,!1);let n=Ve(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ve(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Oa,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<Dq;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)Nq(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>mh(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Lf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(lE,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Lf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new oe(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Lf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Nq(t,e,n,r){if(!n&&!mh(t))return;mR(t,e,n&&!r?0:1)}var b_=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},uE=(()=>{class t{compileModuleSync(n){return new y_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=UT(n),s=$D(i.declarations).reduce((o,a)=>{let c=Qs(a);return c&&o.push(new Rl(c)),o},[]);return new b_(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Mq=(()=>{class t{constructor(){this.zone=Q(qe),this.changeDetectionScheduler=Q(Pa),this.applicationRef=Q(ao)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Pq=new ae("",{factory:()=>!1});function RR({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new qe(L(E({},MR()),{scheduleInRootZone:n})),[{provide:qe,useFactory:t},{provide:Aa,multi:!0,useFactory:()=>{let r=Q(Mq,{optional:!0});return()=>r.initialize()}},{provide:Aa,multi:!0,useFactory:()=>{let r=Q(kq);return()=>{r.initialize()}}},e===!0?{provide:_R,useValue:!0}:[],{provide:ER,useValue:n??TD}]}function NR(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=RR({ngZoneFactory:()=>{let i=MR(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Ll("NgZone_CoalesceEvent"),new qe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Mr([{provide:Pq,useValue:!0},{provide:Ih,useValue:!1},r])}function MR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var kq=(()=>{class t{constructor(){this.subscription=new at,this.initialized=!1,this.zone=Q(qe),this.pendingTasks=Q(Ua)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{qe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{qe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Oq=(()=>{class t{constructor(){this.appRef=Q(ao),this.taskService=Q(Ua),this.ngZone=Q(qe),this.zonelessEnabled=Q(Ih),this.disableScheduling=Q(_R,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new at,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Jf):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Q(ER,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof i_||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?XA:RD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Jf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,XA(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Fq(){return typeof $localize<"u"&&$localize.locale||ah}var dE=new ae("",{providedIn:"root",factory:()=>Q(dE,Ie.Optional|Ie.SkipSelf)||Fq()});var C_=new ae("");function Pf(t){return!t.moduleRef}function Lq(t){let e=Pf(t)?t.r3Injector:t.moduleRef.injector,n=e.get(qe);return n.run(()=>{Pf(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(ai,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Pf(t)){let s=()=>e.destroy(),o=t.platformInjector.get(C_);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(C_);o.add(s),t.moduleRef.onDestroy(()=>{Lf(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return Rq(r,n,()=>{let s=e.get(DR);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(dE,ah);if(mq(o||ah),Pf(t)){let a=e.get(ao);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return Vq(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Vq(t,e){let n=t.injector.get(ao);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new oe(-403,!1);e.push(t)}var Vf=null;function Bq(t=[],e){return bn.create({name:e,providers:[{provide:fh,useValue:"platform"},{provide:C_,useValue:new Set([()=>Vf=null])},...t]})}function Uq(t=[]){if(Vf)return Vf;let e=Bq(t);return Vf=e,Aq(),jq(e),e}function jq(t){t.get(K_,null)?.forEach(n=>n())}var $a=(()=>{class t{static{this.__NG_ELEMENT_ID__=$q}}return t})();function $q(t){return Hq(Cn(),Je(),(t&16)===16)}function Hq(t,e,n){if(ph(t)&&!n){let r=is(t.index,e);return new to(r,r)}else if(t.type&175){let r=e[Dr];return new to(r,e)}return null}var I_=class{constructor(){}supports(e){return bR(e)}create(e){return new S_(e)}},qq=(t,e)=>e,S_=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||qq}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<vT(r,i,s)?n:r,a=vT(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,d=c-i;if(u!=d){for(let m=0;m<u;m++){let y=m<s.length?s[m]:s[m]=0,_=y+m;d<=_&&_<u&&(s[m]=y+1)}let h=o.previousIndex;s[h]=d-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!bR(e))throw new oe(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,UH(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new x_(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ch),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ch),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},x_=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},A_=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ch=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new A_,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function vT(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function _T(){return new fE([new I_])}var fE=(()=>{class t{static{this.\u0275prov=ce({token:t,providedIn:"root",factory:_T})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||_T()),deps:[[t,new RT,new hn]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new oe(901,!1)}}return t})();function PR(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Uq(r),s=[RR({}),{provide:Pa,useExisting:Oq},...n||[]],o=new sh({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return Lq({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function co(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ul(t,e){Ll("NgSignals");let n=sA(t);return e?.equal&&(n[qi].equal=e.equal),n}function gi(t){let e=Ve(null);try{return t()}finally{Ve(e)}}var BR=null;function yi(){return BR}function UR(t){BR??=t}var Th=class{};var Yn=new ae(""),jR=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:()=>Q(zq),providedIn:"platform"})}}return t})();var zq=(()=>{class t extends jR{constructor(){super(),this._doc=Q(Yn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return yi().getBaseHref(this._doc)}onPopState(n){let r=yi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=yi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function $R(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function kR(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function lo(t){return t&&t[0]!=="?"?"?"+t:t}var Ha=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:()=>Q(HR),providedIn:"root"})}}return t})(),Gq=new ae(""),HR=(()=>{class t extends Ha{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Q(Yn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return $R(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+lo(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+lo(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+lo(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(xe(jR),xe(Gq,8))}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var jl=(()=>{class t{constructor(n){this._subject=new gt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Qq(kR(OR(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+lo(r))}normalize(n){return t.stripTrailingSlash(Kq(this._basePath,OR(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+lo(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+lo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=lo}static{this.joinWithSlash=$R}static{this.stripTrailingSlash=kR}static{this.\u0275fac=function(r){return new(r||t)(xe(Ha))}}static{this.\u0275prov=ce({token:t,factory:()=>Wq(),providedIn:"root"})}}return t})();function Wq(){return new jl(xe(Ha))}function Kq(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function OR(t){return t.replace(/\/index.html$/,"")}function Qq(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function qR(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var hE=/\s+/,FR=[],zR=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=FR,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(hE):FR}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(hE):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(hE).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(re(dr),re(Or))}}static{this.\u0275dir=it({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var pE=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Rh=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new pE(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),LR(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);LR(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(re(ja),re(Ch),re(fE))}}static{this.\u0275dir=it({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function LR(t,e){t.context.$implicit=e.item}var Lr=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new mE,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){VR("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){VR("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(re(ja),re(Ch))}}static{this.\u0275dir=it({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),mE=class{constructor(){this.$implicit=null,this.ngIf=null}};function VR(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${dn(e)}'.`)}var uo=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=io({type:t})}static{this.\u0275inj=ro({})}}return t})(),GR="browser",Yq="server";function gE(t){return t===Yq}var Dh=class{};var _E=class extends Th{constructor(){super(...arguments),this.supportsDOMEvents=!0}},EE=class t extends _E{static makeCurrent(){UR(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Zq();return n==null?null:Xq(n)}resetBaseElement(){$l=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qR(document.cookie,e)}},$l=null;function Zq(){return $l=$l||document.querySelector("base"),$l?$l.getAttribute("href"):null}function Xq(t){return new URL(t,document.baseURI).pathname}var Jq=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac})}}return t})(),wE=new ae(""),ZR=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new oe(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(xe(wE),xe(qe))}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac})}}return t})(),Nh=class{constructor(e){this._doc=e}},yE="ng-app-id",XR=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=gE(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${yE}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(yE),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(yE,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(xe(Yn),xe(W_),xe(Q_,8),xe(ss))}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac})}}return t})(),vE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},CE=/%COMP%/g,JR="%COMP%",e6=`_nghost-${JR}`,t6=`_ngcontent-${JR}`,n6=!0,r6=new ae("",{providedIn:"root",factory:()=>n6});function i6(t){return t6.replace(CE,t)}function s6(t){return e6.replace(CE,t)}function eN(t,e){return e.map(n=>n.replace(CE,t))}var KR=(()=>{class t{constructor(n,r,i,s,o,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=gE(a),this.defaultRenderer=new Hl(n,o,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ar.ShadowDom&&(r=L(E({},r),{encapsulation:Ar.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Mh?i.applyToHost(n):i instanceof ql&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Ar.Emulated:s=new Mh(c,u,r,this.appId,d,o,a,h);break;case Ar.ShadowDom:return new bE(c,u,n,r,o,a,this.nonce,h);default:s=new ql(c,u,r,d,o,a,h);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(xe(ZR),xe(XR),xe(W_),xe(r6),xe(Yn),xe(ss),xe(qe),xe(Q_))}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac})}}return t})(),Hl=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(vE[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(QR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(QR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new oe(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=vE[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=vE[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ci.DashCase|ci.Important)?e.style.setProperty(n,r,i&ci.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ci.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=yi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function QR(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var bE=class extends Hl{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=eN(i.id,i.styles);for(let d of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ql=class extends Hl{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?eN(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Mh=class extends ql{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=i6(u),this.hostAttr=s6(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},o6=(()=>{class t extends Nh{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(xe(Yn))}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac})}}return t})(),YR=["alt","control","meta","shift"],a6={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},c6={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},l6=(()=>{class t extends Nh{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),YR.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(n,r){let i=a6[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),YR.forEach(o=>{if(o!==i){let a=c6[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(xe(Yn))}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac})}}return t})();function tN(t,e){return PR(E({rootComponent:t},u6(e)))}function u6(t){return{appProviders:[...m6,...t?.providers??[]],platformProviders:p6}}function d6(){EE.makeCurrent()}function f6(){return new ai}function h6(){return LD(document),document}var p6=[{provide:ss,useValue:GR},{provide:K_,useValue:d6,multi:!0},{provide:Yn,useFactory:h6,deps:[]}];var m6=[{provide:fh,useValue:"root"},{provide:ai,useFactory:f6,deps:[]},{provide:wE,useClass:o6,multi:!0,deps:[Yn,qe,ss]},{provide:wE,useClass:l6,multi:!0,deps:[Yn]},KR,XR,ZR,{provide:Oa,useExisting:KR},{provide:Dh,useClass:Jq,deps:[]},[]];var nN=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(xe(Yn))}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ee="primary",ou=Symbol("RouteTitle"),TE=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Qa(t){return new TE(t)}function y6(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function v6(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vr(t[n],e[n]))return!1;return!0}function Vr(t,e){let n=t?DE(t):void 0,r=e?DE(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!uN(t[i],e[i]))return!1;return!0}function DE(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function uN(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function dN(t){return t.length>0?t[t.length-1]:null}function ls(t){return Ev(t)?t:oo(t)?ct(Promise.resolve(t)):ve(t)}var _6={exact:hN,subset:pN},fN={exact:E6,subset:w6,ignored:()=>!0};function rN(t,e,n){return _6[n.paths](t.root,e.root,n.matrixParams)&&fN[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function E6(t,e){return Vr(t,e)}function hN(t,e,n){if(!ho(t.segments,e.segments)||!Oh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!hN(t.children[r],e.children[r],n))return!1;return!0}function w6(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>uN(t[n],e[n]))}function pN(t,e,n){return mN(t,e,e.segments,n)}function mN(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ho(i,n)||e.hasChildren()||!Oh(i,n,r))}else if(t.segments.length===n.length){if(!ho(t.segments,n)||!Oh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!pN(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ho(t.segments,i)||!Oh(t.segments,i,r)||!t.children[Ee]?!1:mN(t.children[Ee],e,s,r)}}function Oh(t,e,n){return e.every((r,i)=>fN[n](t[i].parameters,r.parameters))}var _i=class{constructor(e=new $e([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Qa(this.queryParams),this._queryParamMap}toString(){return I6.serialize(this)}},$e=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fh(this)}},fo=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Qa(this.parameters),this._parameterMap}toString(){return yN(this)}};function b6(t,e){return ho(t,e)&&t.every((n,r)=>Vr(n.parameters,e[r].parameters))}function ho(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function C6(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Ee&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Ee&&(n=n.concat(e(i,r)))}),n}var tw=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:()=>new Zl,providedIn:"root"})}}return t})(),Zl=class{parse(e){let n=new NE(e);return new _i(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${zl(e.root,!0)}`,r=A6(e.queryParams),i=typeof e.fragment=="string"?`#${S6(e.fragment)}`:"";return`${n}${r}${i}`}},I6=new Zl;function Fh(t){return t.segments.map(e=>yN(e)).join("/")}function zl(t,e){if(!t.hasChildren())return Fh(t);if(e){let n=t.children[Ee]?zl(t.children[Ee],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Ee&&r.push(`${i}:${zl(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=C6(t,(r,i)=>i===Ee?[zl(t.children[Ee],!1)]:[`${i}:${zl(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Ee]!=null?`${Fh(t)}/${n[0]}`:`${Fh(t)}/(${n.join("//")})`}}function gN(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ph(t){return gN(t).replace(/%3B/gi,";")}function S6(t){return encodeURI(t)}function RE(t){return gN(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lh(t){return decodeURIComponent(t)}function iN(t){return Lh(t.replace(/\+/g,"%20"))}function yN(t){return`${RE(t.path)}${x6(t.parameters)}`}function x6(t){return Object.entries(t).map(([e,n])=>`;${RE(e)}=${RE(n)}`).join("")}function A6(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ph(n)}=${Ph(i)}`).join("&"):`${Ph(n)}=${Ph(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var T6=/^[^\/()?;#]+/;function IE(t){let e=t.match(T6);return e?e[0]:""}var D6=/^[^\/()?;=#]+/;function R6(t){let e=t.match(D6);return e?e[0]:""}var N6=/^[^=?&#]+/;function M6(t){let e=t.match(N6);return e?e[0]:""}var P6=/^[^&#]+/;function k6(t){let e=t.match(P6);return e?e[0]:""}var NE=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Ee]=new $e(e,n)),r}parseSegment(){let e=IE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new oe(4009,!1);return this.capture(e),new fo(Lh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=R6(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=IE(this.remaining);i&&(r=i,this.capture(r))}e[Lh(n)]=Lh(r)}parseQueryParam(e){let n=M6(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=k6(this.remaining);o&&(r=o,this.capture(r))}let i=iN(n),s=iN(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=IE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new oe(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ee);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[Ee]:new $e([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new oe(4011,!1)}};function vN(t){return t.segments.length>0?new $e([],{[Ee]:t}):t}function _N(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=_N(i);if(r===Ee&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new $e(t.segments,e);return O6(n)}function O6(t){if(t.numberOfChildren===1&&t.children[Ee]){let e=t.children[Ee];return new $e(t.segments.concat(e.segments),e.children)}return t}function po(t){return t instanceof _i}function F6(t,e,n=null,r=null){let i=EN(t);return wN(i,e,n,r)}function EN(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new $e(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=vN(r);return e??i}function wN(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return SE(i,i,i,n,r);let s=L6(e);if(s.toRoot())return SE(i,i,new $e([],{}),n,r);let o=V6(s,i,t),a=o.processChildren?Kl(o.segmentGroup,o.index,s.commands):CN(o.segmentGroup,o.index,s.commands);return SE(i,o.segmentGroup,a,n,r)}function Vh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Xl(t){return typeof t=="object"&&t!=null&&t.outlets}function SE(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;t===e?o=n:o=bN(t,e,n);let a=vN(_N(o));return new _i(a,s,i)}function bN(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=bN(s,e,n)}),new $e(t.segments,r)}var Bh=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Vh(r[0]))throw new oe(4003,!1);let i=r.find(Xl);if(i&&i!==dN(r))throw new oe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function L6(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Bh(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Bh(n,e,r)}var Ga=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function V6(t,e,n){if(t.isAbsolute)return new Ga(e,!0,0);if(!n)return new Ga(e,!1,NaN);if(n.parent===null)return new Ga(n,!0,0);let r=Vh(t.commands[0])?0:1,i=n.segments.length-1+r;return B6(n,i,t.numberOfDoubleDots)}function B6(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new oe(4005,!1);i=r.segments.length}return new Ga(r,!1,i-s)}function U6(t){return Xl(t[0])?t[0].outlets:{[Ee]:t}}function CN(t,e,n){if(t??=new $e([],{}),t.segments.length===0&&t.hasChildren())return Kl(t,e,n);let r=j6(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new $e(t.segments.slice(0,r.pathIndex),{});return s.children[Ee]=new $e(t.segments.slice(r.pathIndex),t.children),Kl(s,0,i)}else return r.match&&i.length===0?new $e(t.segments,{}):r.match&&!t.hasChildren()?ME(t,e,n):r.match?Kl(t,0,i):ME(t,e,n)}function Kl(t,e,n){if(n.length===0)return new $e(t.segments,{});{let r=U6(n),i={};if(Object.keys(r).some(s=>s!==Ee)&&t.children[Ee]&&t.numberOfChildren===1&&t.children[Ee].segments.length===0){let s=Kl(t.children[Ee],e,n);return new $e(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=CN(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new $e(t.segments,i)}}function j6(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Xl(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!oN(c,u,o))return s;r+=2}else{if(!oN(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ME(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Xl(s)){let c=$6(s.outlets);return new $e(r,c)}if(i===0&&Vh(n[0])){let c=t.segments[e];r.push(new fo(c.path,sN(n[0]))),i++;continue}let o=Xl(s)?s.outlets[Ee]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Vh(a)?(r.push(new fo(o,sN(a))),i+=2):(r.push(new fo(o,{})),i++)}return new $e(r,{})}function $6(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=ME(new $e([],{}),0,r))}),e}function sN(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function oN(t,e,n){return t==n.path&&Vr(e,n.parameters)}var Ql="imperative",zt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(zt||{}),Zn=class{constructor(e,n){this.id=e,this.url=n}},Jl=class extends Zn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=zt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},cs=class extends Zn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=zt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Pn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Pn||{}),PE=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(PE||{}),vi=class extends Zn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=zt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mo=class extends Zn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=zt.NavigationSkipped}},eu=class extends Zn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=zt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Uh=class extends Zn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=zt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kE=class extends Zn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=zt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},OE=class extends Zn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=zt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},FE=class extends Zn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=zt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},LE=class extends Zn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=zt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},VE=class{constructor(e){this.route=e,this.type=zt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},BE=class{constructor(e){this.route=e,this.type=zt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},UE=class{constructor(e){this.snapshot=e,this.type=zt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jE=class{constructor(e){this.snapshot=e,this.type=zt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$E=class{constructor(e){this.snapshot=e,this.type=zt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},HE=class{constructor(e){this.snapshot=e,this.type=zt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var tu=class{},Ya=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function H6(t,e){return t.providers&&!t._injector&&(t._injector=aE(t.providers,e,`Route: ${t.path}`)),t._injector??e}function fr(t){return t.outlet||Ee}function q6(t,e){let n=t.filter(r=>fr(r)===e);return n.push(...t.filter(r=>fr(r)!==e)),n}function au(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var qE=class{get injector(){return au(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Wh(this.rootInjector),this.attachRef=null}},Wh=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new qE(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(xe(Gn))}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),jh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=zE(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=zE(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=GE(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return GE(e,this._root).map(n=>n.value)}};function zE(t,e){if(t===e.value)return e;for(let n of e.children){let r=zE(t,n);if(r)return r}return null}function GE(t,e){if(t===e.value)return[e];for(let n of e.children){let r=GE(t,n);if(r.length)return r.unshift(e),r}return[]}var Mn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function za(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var $h=class extends jh{constructor(e,n){super(e),this.snapshot=n,nw(this,e)}toString(){return this.snapshot.toString()}};function IN(t){let e=z6(t),n=new St([new fo("",{})]),r=new St({}),i=new St({}),s=new St({}),o=new St(""),a=new go(n,r,s,o,i,Ee,t,e.root);return a.snapshot=e.root,new $h(new Mn(a,[]),e)}function z6(t){let e={},n={},r={},i="",s=new Wa([],e,r,i,n,Ee,t,null,{});return new qh("",new Mn(s,[]))}var go=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(we(u=>u[ou]))??ve(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(we(e=>Qa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(we(e=>Qa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Hh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),t.params),data:E(E({},e.data),t.data),resolve:E(E(E(E({},t.data),e.data),i?.data),t._resolvedData)}:r={params:E({},t.params),data:E({},t.data),resolve:E(E({},t.data),t._resolvedData??{})},i&&xN(i)&&(r.resolve[ou]=i.title),r}var Wa=class{get title(){return this.data?.[ou]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},qh=class extends jh{constructor(e,n){super(n),this.url=e,nw(this,n)}toString(){return SN(this._root)}};function nw(t,e){e.value._routerState=t,e.children.forEach(n=>nw(t,n))}function SN(t){let e=t.children.length>0?` { ${t.children.map(SN).join(", ")} } `:"";return`${t.value}${e}`}function xE(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Vr(e.params,n.params)||t.paramsSubject.next(n.params),v6(e.url,n.url)||t.urlSubject.next(n.url),Vr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function WE(t,e){let n=Vr(t.params,e.params)&&b6(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||WE(t.parent,e.parent))}function xN(t){return typeof t.title=="string"||t.title===null}var rw=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ee,this.activateEvents=new gt,this.deactivateEvents=new gt,this.attachEvents=new gt,this.detachEvents=new gt,this.parentContexts=Q(Wh),this.location=Q(ja),this.changeDetector=Q($a),this.inputBinder=Q(iw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new oe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new oe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new oe(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new oe(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new KE(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=it({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[hi]})}}return t})(),KE=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===go?this.route:e===Wh?this.childContexts:this.parent.get(e,n)}},iw=new ae("");function G6(t,e,n){let r=nu(t,e._root,n?n._root:void 0);return new $h(r,e)}function nu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=W6(t,e,n);return new Mn(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>nu(t,a)),o}}let r=K6(e.value),i=e.children.map(s=>nu(t,s));return new Mn(r,i)}}function W6(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return nu(t,r,i);return nu(t,r)})}function K6(t){return new go(new St(t.url),new St(t.params),new St(t.queryParams),new St(t.fragment),new St(t.data),t.outlet,t.component,t)}var ru=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},AN="ngNavigationCancelingError";function zh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=po(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=TN(!1,Pn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function TN(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[AN]=!0,n.cancellationCode=e,n}function Q6(t){return DN(t)&&po(t.url)}function DN(t){return!!t&&t[AN]}var Y6=(t,e,n,r)=>we(i=>(new QE(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),QE=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),xE(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=za(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=za(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=za(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=za(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new HE(s.value.snapshot))}),e.children.length&&this.forwardEvent(new jE(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(xE(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),xE(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Gh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ka=class{constructor(e,n){this.component=e,this.route=n}};function Z6(t,e,n){let r=t._root,i=e?e._root:null;return Gl(r,i,n,[r.value])}function X6(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Xa(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!CT(t)?t:e.get(t):r}function Gl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=za(e);return t.children.forEach(o=>{J6(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Yl(a,n.getContext(o),i)),i}function J6(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=ez(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Gh(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Gl(t,e,a?a.children:null,r,i):Gl(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ka(a.outlet.component,o))}else o&&Yl(e,a,i),i.canActivateChecks.push(new Gh(r)),s.component?Gl(t,null,a?a.children:null,r,i):Gl(t,null,n,r,i);return i}function ez(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ho(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ho(t.url,e.url)||!Vr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!WE(t,e)||!Vr(t.queryParams,e.queryParams);case"paramsChange":default:return!WE(t,e)}}function Yl(t,e,n){let r=za(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Yl(o,e.children.getContext(s),n):Yl(o,null,n):Yl(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ka(e.outlet.component,i)):n.canDeactivateChecks.push(new Ka(null,i)):n.canDeactivateChecks.push(new Ka(null,i))}function cu(t){return typeof t=="function"}function tz(t){return typeof t=="boolean"}function nz(t){return t&&cu(t.canLoad)}function rz(t){return t&&cu(t.canActivate)}function iz(t){return t&&cu(t.canActivateChild)}function sz(t){return t&&cu(t.canDeactivate)}function oz(t){return t&&cu(t.canMatch)}function RN(t){return t instanceof si||t?.name==="EmptyError"}var kh=Symbol("INITIAL_VALUE");function Za(){return or(t=>If(t.map(e=>e.pipe(oi(1),Tf(kh)))).pipe(we(e=>{for(let n of e)if(n!==!0){if(n===kh)return kh;if(n===!1||az(n))return n}return!0}),jn(e=>e!==kh),oi(1)))}function az(t){return po(t)||t instanceof ru}function cz(t,e){return xt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?ve(L(E({},n),{guardsResult:!0})):lz(o,r,i,t).pipe(xt(a=>a&&tz(a)?uz(r,s,t,e):ve(a)),we(a=>L(E({},n),{guardsResult:a})))})}function lz(t,e,n,r){return ct(t).pipe(xt(i=>mz(i.component,i.route,n,e,r)),Ir(i=>i!==!0,!0))}function uz(t,e,n,r){return ct(e).pipe(va(i=>ya(fz(i.route.parent,r),dz(i.route,r),pz(t,i.path,n),hz(t,i.route,n))),Ir(i=>i!==!0,!0))}function dz(t,e){return t!==null&&e&&e(new $E(t)),ve(!0)}function fz(t,e){return t!==null&&e&&e(new UE(t)),ve(!0)}function hz(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ve(!0);let i=r.map(s=>Sf(()=>{let o=au(e)??n,a=Xa(s,o),c=rz(a)?a.canActivate(e,t):ui(o,()=>a(e,t));return ls(c).pipe(Ir())}));return ve(i).pipe(Za())}function pz(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>X6(o)).filter(o=>o!==null).map(o=>Sf(()=>{let a=o.guards.map(c=>{let u=au(o.node)??n,d=Xa(c,u),h=iz(d)?d.canActivateChild(r,t):ui(u,()=>d(r,t));return ls(h).pipe(Ir())});return ve(a).pipe(Za())}));return ve(s).pipe(Za())}function mz(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ve(!0);let o=s.map(a=>{let c=au(e)??i,u=Xa(a,c),d=sz(u)?u.canDeactivate(t,e,n,r):ui(c,()=>u(t,e,n,r));return ls(d).pipe(Ir())});return ve(o).pipe(Za())}function gz(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ve(!0);let s=i.map(o=>{let a=Xa(o,t),c=nz(a)?a.canLoad(e,n):ui(t,()=>a(e,n));return ls(c)});return ve(s).pipe(Za(),NN(r))}function NN(t){return sf(At(e=>{if(typeof e!="boolean")throw zh(t,e)}),we(e=>e===!0))}function yz(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ve(!0);let s=i.map(o=>{let a=Xa(o,t),c=oz(a)?a.canMatch(e,n):ui(t,()=>a(e,n));return ls(c)});return ve(s).pipe(Za(),NN(r))}var iu=class{constructor(e){this.segmentGroup=e||null}},su=class extends Error{constructor(e){super(),this.urlTree=e}};function qa(t){return ga(new iu(t))}function vz(t){return ga(new oe(4e3,!1))}function _z(t){return ga(TN(!1,Pn.GuardRejected))}var YE=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ve(r);if(i.numberOfChildren>1||!i.children[Ee])return vz(`${e.redirectTo}`);i=i.children[Ee]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:c,fragment:u,routeConfig:d,url:h,outlet:m,params:y,data:_,title:D}=i,S=ui(s,()=>a({params:y,data:_,queryParams:c,fragment:u,routeConfig:d,url:h,outlet:m,title:D}));if(S instanceof _i)throw new su(S);n=S}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new su(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new _i(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new $e(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new oe(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ZE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ez(t,e,n,r,i){let s=MN(t,e,n);return s.matched?(r=H6(e,r),yz(r,e,n,i).pipe(we(o=>o===!0?s:E({},ZE)))):ve(s)}function MN(t,e,n){if(e.path==="**")return wz(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?E({},ZE):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||y6)(n,t,e);if(!i)return E({},ZE);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?E(E({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function wz(t){return{matched:!0,parameters:t.length>0?dN(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function aN(t,e,n,r){return n.length>0&&Iz(t,n,r)?{segmentGroup:new $e(e,Cz(r,new $e(n,t.children))),slicedSegments:[]}:n.length===0&&Sz(t,n,r)?{segmentGroup:new $e(t.segments,bz(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new $e(t.segments,t.children),slicedSegments:n}}function bz(t,e,n,r){let i={};for(let s of n)if(Kh(t,e,s)&&!r[fr(s)]){let o=new $e([],{});i[fr(s)]=o}return E(E({},r),i)}function Cz(t,e){let n={};n[Ee]=e;for(let r of t)if(r.path===""&&fr(r)!==Ee){let i=new $e([],{});n[fr(r)]=i}return n}function Iz(t,e,n){return n.some(r=>Kh(t,e,r)&&fr(r)!==Ee)}function Sz(t,e,n){return n.some(r=>Kh(t,e,r))}function Kh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function xz(t,e,n){return e.length===0&&!t.children[n]}var XE=class{};function Az(t,e,n,r,i,s,o="emptyOnly"){return new JE(t,e,n,r,i,o,s).recognize()}var Tz=31,JE=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new YE(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new oe(4002,`'${e.segmentGroup}'`)}recognize(){let e=aN(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(we(({children:n,rootSnapshot:r})=>{let i=new Mn(r,n),s=new qh("",i),o=F6(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Wa([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ee,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ee,n).pipe(we(r=>({children:r,rootSnapshot:n})),Qi(r=>{if(r instanceof su)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof iu?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(we(o=>o instanceof Mn?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return ct(s).pipe(va(o=>{let a=r.children[o],c=q6(n,o);return this.processSegmentGroup(e,c,a,o,i)}),Af((o,a)=>(o.push(...a),o)),Yi(null),Iv(),xt(o=>{if(o===null)return qa(r);let a=PN(o);return Dz(a),ve(a)}))}processSegment(e,n,r,i,s,o,a){return ct(n).pipe(va(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,s,o,a).pipe(Qi(u=>{if(u instanceof iu)return ve(null);throw u}))),Ir(c=>!!c),Qi(c=>{if(RN(c))return xz(r,i,s)?ve(new XE):qa(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,c){return fr(r)!==o&&(o===Ee||!Kh(i,s,r))?qa(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,c):qa(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:h,remainingSegments:m}=MN(n,i,s);if(!c)return qa(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Tz&&(this.allowRedirects=!1));let y=new Wa(s,u,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,cN(i),fr(i),i.component??i._loadedComponent??null,i,lN(i)),_=Hh(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(_.params),y.data=Object.freeze(_.data);let D=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,y,e);return this.applyRedirects.lineralizeSegments(i,D).pipe(xt(S=>this.processSegment(e,r,n,S.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=Ez(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(or(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(or(({routes:u})=>{let d=r._loadedInjector??e,{parameters:h,consumedSegments:m,remainingSegments:y}=c,_=new Wa(m,h,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,cN(r),fr(r),r.component??r._loadedComponent??null,r,lN(r)),D=Hh(_,o,this.paramsInheritanceStrategy);_.params=Object.freeze(D.params),_.data=Object.freeze(D.data);let{segmentGroup:S,slicedSegments:O}=aN(n,m,y,u);if(O.length===0&&S.hasChildren())return this.processChildren(d,u,S,_).pipe(we(W=>new Mn(_,W)));if(u.length===0&&O.length===0)return ve(new Mn(_,[]));let H=fr(r)===s;return this.processSegment(d,u,S,O,H?Ee:s,!0,_).pipe(we(W=>new Mn(_,W instanceof Mn?[W]:[])))}))):qa(n)))}getChildConfig(e,n,r){return n.children?ve({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ve({routes:n._loadedRoutes,injector:n._loadedInjector}):gz(e,n,r,this.urlSerializer).pipe(xt(i=>i?this.configLoader.loadChildren(e,n).pipe(At(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):_z(n))):ve({routes:[],injector:e})}};function Dz(t){t.sort((e,n)=>e.value.outlet===Ee?-1:n.value.outlet===Ee?1:e.value.outlet.localeCompare(n.value.outlet))}function Rz(t){let e=t.value.routeConfig;return e&&e.path===""}function PN(t){let e=[],n=new Set;for(let r of t){if(!Rz(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=PN(r.children);e.push(new Mn(r.value,i))}return e.filter(r=>!n.has(r))}function cN(t){return t.data||{}}function lN(t){return t.resolve||{}}function Nz(t,e,n,r,i,s){return xt(o=>Az(t,e,n,r,o.extractedUrl,i,s).pipe(we(({state:a,tree:c})=>L(E({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function Mz(t,e){return xt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ve(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of kN(c))o.add(u);let a=0;return ct(o).pipe(va(c=>s.has(c)?Pz(c,r,t,e):(c.data=Hh(c,c.parent,t).resolve,ve(void 0))),At(()=>a++),_a(1),xt(c=>a===o.size?ve(n):Nn))})}function kN(t){let e=t.children.map(n=>kN(n)).flat();return[t,...e]}function Pz(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!xN(i)&&(s[ou]=i.title),kz(s,t,e,r).pipe(we(o=>(t._resolvedData=o,t.data=Hh(t,t.parent,n).resolve,null)))}function kz(t,e,n,r){let i=DE(t);if(i.length===0)return ve({});let s={};return ct(i).pipe(xt(o=>Oz(t[o],e,n,r).pipe(Ir(),At(a=>{if(a instanceof ru)throw zh(new Zl,a);s[o]=a}))),_a(1),Cv(s),Qi(o=>RN(o)?Nn:ga(o)))}function Oz(t,e,n,r){let i=au(e)??r,s=Xa(t,i),o=s.resolve?s.resolve(e,n):ui(i,()=>s(e,n));return ls(o)}function AE(t){return or(e=>{let n=t(e);return n?ct(n).pipe(we(()=>e)):ve(e)})}var ON=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ee);return r}getResolvedTitleForRoute(n){return n.data[ou]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:()=>Q(Fz),providedIn:"root"})}}return t})(),Fz=(()=>{class t extends ON{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(xe(nN))}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),sw=new ae("",{providedIn:"root",factory:()=>({})}),Lz=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=kt({type:t,selectors:[["ng-component"]],standalone:!0,features:[Ot],decls:1,vars:0,template:function(r,i){r&1&&We(0,"router-outlet")},dependencies:[rw],encapsulation:2})}}return t})();function ow(t){let e=t.children&&t.children.map(ow),n=e?L(E({},t),{children:e}):E({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ee&&(n.component=Lz),n}var aw=new ae(""),Vz=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Q(uE)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ve(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ls(n.loadComponent()).pipe(we(FN),At(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),bl(()=>{this.componentLoaders.delete(n)})),i=new ua(r,()=>new Mt).pipe(la());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Bz(r,this.compiler,n,this.onLoadEndListener).pipe(bl(()=>{this.childrenLoaders.delete(r)})),o=new ua(s,()=>new Mt).pipe(la());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Bz(t,e,n,r){return ls(t.loadChildren()).pipe(we(FN),xt(i=>i instanceof Nl||Array.isArray(i)?ve(i):ct(e.compileModuleAsync(i))),we(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(aw,[],{optional:!0,self:!0}).flat()),{routes:o.map(ow),injector:s}}))}function Uz(t){return t&&typeof t=="object"&&"default"in t}function FN(t){return Uz(t)?t.default:t}var cw=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:()=>Q(jz),providedIn:"root"})}}return t})(),jz=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$z=new ae("");var Hz=new ae(""),qz=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Mt,this.transitionAbortSubject=new Mt,this.configLoader=Q(Vz),this.environmentInjector=Q(Gn),this.urlSerializer=Q(tw),this.rootContexts=Q(Wh),this.location=Q(jl),this.inputBindingEnabled=Q(iw,{optional:!0})!==null,this.titleStrategy=Q(ON),this.options=Q(sw,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Q(cw),this.createViewTransition=Q($z,{optional:!0}),this.navigationErrorHandler=Q(Hz,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ve(void 0),this.rootComponentType=null;let n=i=>this.events.next(new VE(i)),r=i=>this.events.next(new BE(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(L(E(E({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new St({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ql,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(jn(s=>s.id!==0),we(s=>L(E({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),or(s=>{let o=!1,a=!1;return ve(s).pipe(or(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Pn.SupersededByNewNavigation),Nn;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?L(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new mo(c.id,this.urlSerializer.serialize(c.rawUrl),h,PE.IgnoredSameUrlNavigation)),c.resolve(!1),Nn}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ve(c).pipe(or(h=>{let m=this.transitions?.getValue();return this.events.next(new Jl(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),m!==this.transitions?.getValue()?Nn:Promise.resolve(h)}),Nz(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),At(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=L(E({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let m=new Uh(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:m,source:y,restoredState:_,extras:D}=c,S=new Jl(h,this.urlSerializer.serialize(m),y,_);this.events.next(S);let O=IN(this.rootComponentType).snapshot;return this.currentTransition=s=L(E({},c),{targetSnapshot:O,urlAfterRedirects:m,extras:L(E({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,ve(s)}else{let h="";return this.events.next(new mo(c.id,this.urlSerializer.serialize(c.extractedUrl),h,PE.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Nn}}),At(c=>{let u=new kE(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),we(c=>(this.currentTransition=s=L(E({},c),{guards:Z6(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),cz(this.environmentInjector,c=>this.events.next(c)),At(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw zh(this.urlSerializer,c.guardsResult);let u=new OE(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),jn(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Pn.GuardRejected),!1)),AE(c=>{if(c.guards.canActivateChecks.length)return ve(c).pipe(At(u=>{let d=new FE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),or(u=>{let d=!1;return ve(u).pipe(Mz(this.paramsInheritanceStrategy,this.environmentInjector),At({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Pn.NoDataFromResolver)}}))}),At(u=>{let d=new LE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),AE(c=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(At(m=>{d.component=m}),we(()=>{})));for(let m of d.children)h.push(...u(m));return h};return If(u(c.targetSnapshot.root)).pipe(Yi(null),oi(1))}),AE(()=>this.afterPreactivation()),or(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?ct(d).pipe(we(()=>s)):ve(s)}),we(c=>{let u=G6(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=L(E({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),At(()=>{this.events.next(new tu)}),Y6(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),oi(1),At({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),Sv(this.transitionAbortSubject.pipe(At(c=>{throw c}))),bl(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Pn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Qi(c=>{if(a=!0,DN(c))this.events.next(new vi(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),Q6(c)?this.events.next(new Ya(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let u=new eu(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let d=ui(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof ru){let{message:h,cancellationCode:m}=zh(this.urlSerializer,d);this.events.next(new vi(s.id,this.urlSerializer.serialize(s.extractedUrl),h,m)),this.events.next(new Ya(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let h=n.errorHandler(c);s.resolve(!!h)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Nn}))}))}cancelNavigationTransition(n,r,i){let s=new vi(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function zz(t){return t!==Ql}var Gz=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:()=>Q(Wz),providedIn:"root"})}}return t})(),ew=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Wz=(()=>{class t extends ew{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pi(t)))(i||t)}})()}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),LN=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:()=>Q(Kz),providedIn:"root"})}}return t})(),Kz=(()=>{class t extends LN{constructor(){super(...arguments),this.location=Q(jl),this.urlSerializer=Q(tw),this.options=Q(sw,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Q(cw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new _i,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=IN(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Jl)this.stateMemento=this.createStateMemento();else if(n instanceof mo)this.rawUrlTree=r.initialUrl;else if(n instanceof Uh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof tu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof vi&&(n.code===Pn.GuardRejected||n.code===Pn.NoDataFromResolver)?this.restoreHistory(r):n instanceof eu?this.restoreHistory(r,!0):n instanceof cs&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof _i?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=E(E({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pi(t)))(i||t)}})()}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Wl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Wl||{});function Qz(t,e){t.events.pipe(jn(n=>n instanceof cs||n instanceof vi||n instanceof eu||n instanceof mo),we(n=>n instanceof cs||n instanceof mo?Wl.COMPLETE:(n instanceof vi?n.code===Pn.Redirect||n.code===Pn.SupersededByNewNavigation:!1)?Wl.REDIRECTING:Wl.FAILED),jn(n=>n!==Wl.REDIRECTING),oi(1)).subscribe(()=>{e()})}function Yz(t){throw t}var Zz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},hr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Q(Ah),this.stateManager=Q(LN),this.options=Q(sw,{optional:!0})||{},this.pendingTasks=Q(Ua),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Q(qz),this.urlSerializer=Q(tw),this.location=Q(jl),this.urlHandlingStrategy=Q(cw),this._events=new Mt,this.errorHandler=this.options.errorHandler||Yz,this.navigated=!1,this.routeReuseStrategy=Q(Gz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Q(aw,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Q(iw,{optional:!0}),this.eventsSubscription=new at,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof vi&&r.code!==Pn.Redirect&&r.code!==Pn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof cs)this.navigated=!0;else if(r instanceof Ya){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||zz(i.source)},o);this.scheduleNavigation(a,Ql,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}e8(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ql,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=E({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ow),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=E(E({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let m=i?i.snapshot:this.routerState.snapshot.root;h=EN(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),h=this.currentUrlTree.root}return wN(h,n,d,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=po(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ql,null,r)}navigate(n,r={skipLocationChange:!1}){return Jz(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=E({},Zz):r===!1?i=E({},Xz):i=r,po(n))return rN(this.currentUrlTree,n,i);let s=this.parseUrl(n);return rN(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((h,m)=>{a=h,c=m});let d=this.pendingTasks.add();return Qz(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Jz(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new oe(4008,!1)}function e8(t){return!(t instanceof tu)&&!(t instanceof Ya)}var VN=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.onChanges=new Mt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof cs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(po(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:UD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:po(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(re(hr),re(go),q_("tabindex"),re(Or),re(dr),re(Ha))}}static{this.\u0275dir=it({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&nt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Bl("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",co],skipLocationChange:[2,"skipLocationChange","skipLocationChange",co],replaceUrl:[2,"replaceUrl","replaceUrl",co],routerLink:"routerLink"},standalone:!0,features:[oE,hi]})}}return t})();var t8=new ae("");function BN(t,...e){return Mr([{provide:aw,multi:!0,useValue:t},[],{provide:go,useFactory:n8,deps:[hr]},{provide:lE,multi:!0,useFactory:r8},e.map(n=>n.\u0275providers)])}function n8(t){return t.routerState.root}function r8(){let t=Q(bn);return e=>{let n=t.get(ao);if(e!==n.components[0])return;let r=t.get(hr),i=t.get(i8);t.get(s8)===1&&r.initialNavigation(),t.get(o8,null,Ie.Optional)?.setUpPreloading(),t.get(t8,null,Ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var i8=new ae("",{factory:()=>new Mt}),s8=new ae("",{providedIn:"root",factory:()=>1});var o8=new ae("");function a8(t,e){if(t&1&&(F(0,"div",7)(1,"div",8)(2,"div",9)(3,"h5",10),j(4),k(),F(5,"p",11),j(6),k()()()()),t&2){let n=e.$implicit;K(4),Tt(n.name),K(2),Tt(n.description)}}var Yh=class t{services=[{name:"Consulta M\xE9dica",description:"Atenci\xF3n m\xE9dica personalizada."},{name:"Ex\xE1menes de Laboratorio",description:"Realizamos ex\xE1menes de sangre y otros."},{name:"Radiolog\xEDa",description:"Servicios de rayos X y ultrasonido."},{name:"Vacunaci\xF3n",description:"Vacunas para todas las edades."}];static \u0275fac=function(n){return new(n||t)};static \u0275cmp=kt({type:t,selectors:[["app-home"]],standalone:!0,features:[Ot],decls:18,vars:1,consts:[[1,"container","mt-5","text-center"],[1,"text-light"],[1,"services","mt-4"],[1,"row"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"contact-section","mt-4"],["routerLink","/contact",1,"text-warning"],[1,"col-md-6"],[1,"card","mb-3"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(n,r){n&1&&(F(0,"div",0)(1,"h2",1),j(2,"Bienvenido a Nuestra Cl\xEDnica"),k(),F(3,"p",1),j(4,"Su salud es nuestra prioridad."),k(),F(5,"div",2)(6,"h3",1),j(7,"Servicios Ofrecidos"),k(),F(8,"div",3),Fe(9,a8,7,2,"div",4),k()(),F(10,"div",5)(11,"h3",1),j(12,"Cont\xE1ctenos"),k(),F(13,"p",1),j(14,"Si tiene preguntas, no dude en "),F(15,"a",6),j(16,"contactarnos"),k(),j(17,"."),k()()()),n&2&&(K(9),ie("ngForOf",r.services))},dependencies:[Rh],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:auto;background:#00000080;border-radius:10px;padding:20px;box-shadow:0 4px 20px #0003}.card[_ngcontent-%COMP%]{background:#ffffffe6}.text-light[_ngcontent-%COMP%]{color:#f8f9fa}.text-warning[_ngcontent-%COMP%]{color:#ffc107}"]})};var QN=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(re(Or),re(dr))}}static{this.\u0275dir=it({type:t})}}return t})(),ap=(()=>{class t extends QN{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pi(t)))(i||t)}})()}static{this.\u0275dir=it({type:t,features:[Qn]})}}return t})(),pu=new ae("");var c8={provide:pu,useExisting:Nr(()=>rc),multi:!0};function l8(){let t=yi()?yi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var u8=new ae(""),rc=(()=>{class t extends QN{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!l8())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(re(Or),re(dr),re(u8,8))}}static{this.\u0275dir=it({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&nt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[as([c8]),Qn]})}}return t})();function us(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function YN(t){return t!=null&&typeof t.length=="number"}var pw=new ae(""),ZN=new ae(""),d8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,je=class{static min(e){return f8(e)}static max(e){return h8(e)}static required(e){return XN(e)}static requiredTrue(e){return p8(e)}static email(e){return m8(e)}static minLength(e){return g8(e)}static maxLength(e){return y8(e)}static pattern(e){return v8(e)}static nullValidator(e){return Jh(e)}static compose(e){return iM(e)}static composeAsync(e){return oM(e)}};function f8(t){return e=>{if(us(e.value)||us(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function h8(t){return e=>{if(us(e.value)||us(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function XN(t){return us(t.value)?{required:!0}:null}function p8(t){return t.value===!0?null:{required:!0}}function m8(t){return us(t.value)||d8.test(t.value)?null:{email:!0}}function g8(t){return e=>us(e.value)||!YN(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function y8(t){return e=>YN(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function v8(t){if(!t)return Jh;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(us(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Jh(t){return null}function JN(t){return t!=null}function eM(t){return oo(t)?ct(t):t}function tM(t){let e={};return t.forEach(n=>{e=n!=null?E(E({},e),n):e}),Object.keys(e).length===0?null:e}function nM(t,e){return e.map(n=>n(t))}function _8(t){return!t.validate}function rM(t){return t.map(e=>_8(e)?e:n=>e.validate(n))}function iM(t){if(!t)return null;let e=t.filter(JN);return e.length==0?null:function(n){return tM(nM(n,e))}}function sM(t){return t!=null?iM(rM(t)):null}function oM(t){if(!t)return null;let e=t.filter(JN);return e.length==0?null:function(n){let r=nM(n,e).map(eM);return bv(r).pipe(we(tM))}}function aM(t){return t!=null?oM(rM(t)):null}function UN(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function cM(t){return t._rawValidators}function lM(t){return t._rawAsyncValidators}function lw(t){return t?Array.isArray(t)?t:[t]:[]}function ep(t,e){return Array.isArray(t)?t.includes(e):t===e}function jN(t,e){let n=lw(e);return lw(t).forEach(i=>{ep(n,i)||n.push(i)}),n}function $N(t,e){return lw(e).filter(n=>!ep(t,n))}var tp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=aM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},tc=class extends tp{get formDirective(){return null}get path(){return null}},hu=class extends tp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},np=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},E8={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Lce=L(E({},E8),{"[class.ng-submitted]":"isSubmitted"}),cp=(()=>{class t extends np{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(re(hu,2))}}static{this.\u0275dir=it({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Sh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Qn]})}}return t})(),lp=(()=>{class t extends np{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(re(tc,10))}}static{this.\u0275dir=it({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Sh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Qn]})}}return t})();var lu="VALID",Zh="INVALID",Ja="PENDING",uu="DISABLED",ds=class{},rp=class extends ds{constructor(e,n){super(),this.value=e,this.source=n}},du=class extends ds{constructor(e,n){super(),this.pristine=e,this.source=n}},fu=class extends ds{constructor(e,n){super(),this.touched=e,this.source=n}},ec=class extends ds{constructor(e,n){super(),this.status=e,this.source=n}},uw=class extends ds{constructor(e){super(),this.source=e}},dw=class extends ds{constructor(e){super(),this.source=e}};function mw(t){return(up(t)?t.validators:t)||null}function w8(t){return Array.isArray(t)?sM(t):t||null}function gw(t,e){return(up(e)?e.asyncValidators:t)||null}function b8(t){return Array.isArray(t)?aM(t):t||null}function up(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function uM(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new oe(1e3,"");if(!r[n])throw new oe(1001,"")}function dM(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new oe(1002,"")})}var nc=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ul(()=>this.statusReactive()),this.statusReactive=Vl(void 0),this._pristine=Ul(()=>this.pristineReactive()),this.pristineReactive=Vl(!0),this._touched=Ul(()=>this.touchedReactive()),this.touchedReactive=Vl(!1),this._events=new Mt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return gi(this.statusReactive)}set status(e){gi(()=>this.statusReactive.set(e))}get valid(){return this.status===lu}get invalid(){return this.status===Zh}get pending(){return this.status==Ja}get disabled(){return this.status===uu}get enabled(){return this.status!==uu}get pristine(){return gi(this.pristineReactive)}set pristine(e){gi(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return gi(this.touchedReactive)}set touched(e){gi(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($N(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($N(e,this._rawAsyncValidators))}hasValidator(e){return ep(this._rawValidators,e)}hasAsyncValidator(e){return ep(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(L(E({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new fu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new fu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(L(E({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new du(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new du(!0,r))}markAsPending(e={}){this.status=Ja;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ec(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(L(E({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=uu,this.errors=null,this._forEachChild(i=>{i.disable(L(E({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rp(this.value,r)),this._events.next(new ec(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(L(E({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=lu,this._forEachChild(r=>{r.enable(L(E({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(L(E({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lu||this.status===Ja)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rp(this.value,n)),this._events.next(new ec(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(L(E({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uu:lu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ja,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=eM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ec(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new gt,this.statusChanges=new gt}_calculateStatus(){return this._allControlsDisabled()?uu:this.errors?Zh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ja)?Ja:this._anyControlsHaveStatus(Zh)?Zh:lu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new du(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new fu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){up(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=w8(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=b8(this._rawAsyncValidators)}},ip=class extends nc{constructor(e,n,r){super(mw(n),gw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){dM(this,!0,e),Object.keys(e).forEach(r=>{uM(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var fw=class extends ip{};var fM=new ae("CallSetDisabledState",{providedIn:"root",factory:()=>yw}),yw="always";function C8(t,e){return[...e.path,t]}function HN(t,e,n=yw){vw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),S8(t,e),A8(t,e),x8(t,e),I8(t,e)}function qN(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),op(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function sp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function I8(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function vw(t,e){let n=cM(t);e.validator!==null?t.setValidators(UN(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=lM(t);e.asyncValidator!==null?t.setAsyncValidators(UN(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();sp(e._rawValidators,i),sp(e._rawAsyncValidators,i)}function op(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=cM(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=lM(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return sp(e._rawValidators,r),sp(e._rawAsyncValidators,r),n}function S8(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&hM(t,e)})}function x8(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&hM(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function hM(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function A8(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function T8(t,e){t==null,vw(t,e)}function D8(t,e){return op(t,e)}function R8(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function N8(t){return Object.getPrototypeOf(t.constructor)===ap}function M8(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function P8(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===rc?n=s:N8(s)?r=s:i=s}),i||r||n||null}function k8(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function zN(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function GN(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Xh=class extends nc{constructor(e=null,n,r){super(mw(n),gw(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),up(n)&&(n.nonNullable||n.initialValueIsDefault)&&(GN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){GN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var O8=t=>t instanceof Xh;var dp=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=it({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),F8={provide:pu,useExisting:Nr(()=>_w),multi:!0},_w=(()=>{class t extends ap{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pi(t)))(i||t)}})()}static{this.\u0275dir=it({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&nt("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[as([F8]),Qn]})}}return t})();var pM=new ae("");var L8={provide:tc,useExisting:Nr(()=>mu)},mu=(()=>{class t extends tc{get submitted(){return gi(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Ul(()=>this._submittedReactive()),this._submittedReactive=Vl(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new gt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(op(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return HN(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){qN(n.control||null,n,!1),k8(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),M8(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new uw(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new dw(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(qN(r||null,n),O8(i)&&(HN(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);T8(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&D8(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vw(this.form,this),this._oldForm&&op(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(re(pw,10),re(ZN,10),re(fM,8))}}static{this.\u0275dir=it({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&nt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[as([L8]),Qn,hi]})}}return t})();var V8={provide:hu,useExisting:Nr(()=>gu)},gu=(()=>{class t extends hu{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new gt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=P8(this,s)}ngOnChanges(n){this._added||this._setUpControl(),R8(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return C8(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(re(tc,13),re(pw,10),re(ZN,10),re(pu,10),re(pM,8))}}static{this.\u0275dir=it({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[as([V8]),Qn,hi]})}}return t})(),B8={provide:pu,useExisting:Nr(()=>fp),multi:!0};function mM(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function U8(t){return t.split(":")[0]}var fp=(()=>{class t extends ap{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=mM(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=U8(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pi(t)))(i||t)}})()}static{this.\u0275dir=it({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&nt("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[as([B8]),Qn]})}}return t})(),gM=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(mM(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(re(dr),re(Or),re(fp,9))}}static{this.\u0275dir=it({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),j8={provide:pu,useExisting:Nr(()=>yM),multi:!0};function WN(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function $8(t){return t.split(":")[0]}var yM=(()=>{class t extends ap{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let c=o[a],u=this._getOptionValue(c.value);i.push(u)}}else{let o=r.options;for(let a=0;a<o.length;a++){let c=o[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=$8(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pi(t)))(i||t)}})()}static{this.\u0275dir=it({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&nt("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[as([j8]),Qn]})}}return t})(),vM=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(WN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(WN(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(re(dr),re(Or),re(yM,9))}}static{this.\u0275dir=it({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var H8=(()=>{class t{constructor(){this._validator=Jh}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Jh,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=it({type:t,features:[hi]})}}return t})();var q8={provide:pw,useExisting:Nr(()=>yu),multi:!0};var yu=(()=>{class t extends H8{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=co,this.createValidator=n=>XN}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pi(t)))(i||t)}})()}static{this.\u0275dir=it({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Bl("required",i._enabled?"":null)},inputs:{required:"required"},features:[as([q8]),Qn]})}}return t})();var z8=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=io({type:t})}static{this.\u0275inj=ro({})}}return t})(),hw=class extends nc{constructor(e,n,r){super(mw(n),gw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){dM(this,!1,e),e.forEach((r,i)=>{uM(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function KN(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var hp=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),s={};return KN(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new ip(i,s)}record(n,r=null){let i=this._reduceControls(n);return new fw(i,r)}control(n,r,i){let s={};return this.useNonNullable?(KN(r)?s=r:(s.validators=r,s.asyncValidators=i),new Xh(n,L(E({},s),{nonNullable:!0}))):new Xh(n,r,i)}array(n,r,i){let s=n.map(o=>this._createControl(o));return new hw(s,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Xh)return n;if(n instanceof nc)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(r,i,s)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var pp=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:pM,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:fM,useValue:n.callSetDisabledState??yw}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=io({type:t})}static{this.\u0275inj=ro({imports:[z8]})}}return t})();var wM=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},G8=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},bM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4,m=(a&15)<<2|u>>6,y=u&63;c||(y=64,o||(m=64)),r.push(n[d],n[h],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):G8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new ww;let m=s<<2|a>>4;if(r.push(m),u!==64){let y=a<<4&240|u>>2;if(r.push(y),h!==64){let _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ww=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},W8=function(t){let e=wM(t);return bM.encodeByteArray(e,!0)},vu=function(t){return W8(t).replace(/\./g,"")},Cw=function(t){try{return bM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function K8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Q8=()=>K8().__FIREBASE_DEFAULTS__,Y8=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Z8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Cw(t[1]);return e&&JSON.parse(e)},gp=()=>{try{return Q8()||Y8()||Z8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Iw=t=>{var e,n;return(n=(e=gp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},CM=t=>{let e=Iw(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Sw=()=>{var t;return(t=gp())===null||t===void 0?void 0:t.config},xw=t=>{var e;return(e=gp())===null||e===void 0?void 0:e[`_${t}`]};var mp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function IM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vu(JSON.stringify(n)),vu(JSON.stringify(o)),""].join(".")}function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function X8(){var t;let e=(t=gp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AM(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DM(){let t=Ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RM(){return!X8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Aw(){try{return typeof indexedDB=="object"}catch{return!1}}function NM(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var J8="FirebaseError",kn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=J8,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ei.prototype.create)}},Ei=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?eG(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new kn(i,a,r)}};function eG(t,e){return t.replace(tG,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var tG=/\{\$([^}]+)}/g;function MM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(EM(s)&&EM(o)){if(!vo(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function EM(t){return t!==null&&typeof t=="object"}function _u(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ic(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function sc(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function PM(t,e){let n=new bw(t,e);return n.subscribe.bind(n)}var bw=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nG(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ew),i.error===void 0&&(i.error=Ew),i.complete===void 0&&(i.complete=Ew);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function nG(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ew(){}var Uce=4*60*60*1e3;function yt(t){return t&&t._delegate?t._delegate:t}var Xn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var _o="[DEFAULT]";var Tw=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new mp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iG(e))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return g(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=_o){return this.instances.has(e)}getOptions(e=_o){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_o){return this.component?this.component.multipleInstances?e:_o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function rG(t){return t===_o?void 0:t}function iG(t){return t.instantiationMode==="EAGER"}var yp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Tw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var sG=[],Me=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Me||{}),oG={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},aG=Me.INFO,cG={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},lG=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=cG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},fs=class{constructor(e){this.name=e,this._logLevel=aG,this._logHandler=lG,this._userLogHandler=null,sG.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}};var uG=(t,e)=>e.some(n=>t instanceof n),kM,OM;function dG(){return kM||(kM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fG(){return OM||(OM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var FM=new WeakMap,Rw=new WeakMap,LM=new WeakMap,Dw=new WeakMap,Mw=new WeakMap;function hG(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Br(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FM.set(n,t)}).catch(()=>{}),Mw.set(e,t),e}function pG(t){if(Rw.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Rw.set(t,e)}var Nw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VM(t){Nw=t(Nw)}function mG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(vp(this),e,...n);return LM.set(r,e.sort?e.sort():[e]),Br(r)}:fG().includes(t)?function(...e){return t.apply(vp(this),e),Br(FM.get(this))}:function(...e){return Br(t.apply(vp(this),e))}}function gG(t){return typeof t=="function"?mG(t):(t instanceof IDBTransaction&&pG(t),uG(t,dG())?new Proxy(t,Nw):t)}function Br(t){if(t instanceof IDBRequest)return hG(t);if(Dw.has(t))return Dw.get(t);let e=gG(t);return e!==t&&(Dw.set(t,e),Mw.set(e,t)),e}var vp=t=>Mw.get(t);function UM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Br(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Br(o.result),c.oldVersion,c.newVersion,Br(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var yG=["get","getKey","getAll","getAllKeys","count"],vG=["put","add","delete","clear"],Pw=new Map;function BM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pw.get(e))return Pw.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=vG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yG.includes(n)))return;let s=function(o,...a){return g(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Pw.set(e,s),s}VM(t=>L(E({},t),{get:(e,n,r)=>BM(e,n)||t.get(e,n,r),has:(e,n)=>!!BM(e,n)||t.has(e,n)}));var Ow=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_G(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function _G(t){let e=t.getComponent();return e?.type==="VERSION"}var Fw="@firebase/app",jM="0.10.13";var wi=new fs("@firebase/app"),EG="@firebase/app-compat",wG="@firebase/analytics-compat",bG="@firebase/analytics",CG="@firebase/app-check-compat",IG="@firebase/app-check",SG="@firebase/auth",xG="@firebase/auth-compat",AG="@firebase/database",TG="@firebase/data-connect",DG="@firebase/database-compat",RG="@firebase/functions",NG="@firebase/functions-compat",MG="@firebase/installations",PG="@firebase/installations-compat",kG="@firebase/messaging",OG="@firebase/messaging-compat",FG="@firebase/performance",LG="@firebase/performance-compat",VG="@firebase/remote-config",BG="@firebase/remote-config-compat",UG="@firebase/storage",jG="@firebase/storage-compat",$G="@firebase/firestore",HG="@firebase/vertexai-preview",qG="@firebase/firestore-compat",zG="firebase",GG="10.14.1";var Lw="[DEFAULT]",WG={[Fw]:"fire-core",[EG]:"fire-core-compat",[bG]:"fire-analytics",[wG]:"fire-analytics-compat",[IG]:"fire-app-check",[CG]:"fire-app-check-compat",[SG]:"fire-auth",[xG]:"fire-auth-compat",[AG]:"fire-rtdb",[TG]:"fire-data-connect",[DG]:"fire-rtdb-compat",[RG]:"fire-fn",[NG]:"fire-fn-compat",[MG]:"fire-iid",[PG]:"fire-iid-compat",[kG]:"fire-fcm",[OG]:"fire-fcm-compat",[FG]:"fire-perf",[LG]:"fire-perf-compat",[VG]:"fire-rc",[BG]:"fire-rc-compat",[UG]:"fire-gcs",[jG]:"fire-gcs-compat",[$G]:"fire-fst",[qG]:"fire-fst-compat",[HG]:"fire-vertex","fire-js":"fire-js",[zG]:"fire-js-all"};var Eu=new Map,KG=new Map,Vw=new Map;function $M(t,e){try{t.container.addComponent(e)}catch(n){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ps(t){let e=t.name;if(Vw.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;Vw.set(e,t);for(let n of Eu.values())$M(n,t);for(let n of KG.values())$M(n,t);return!0}function bu(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pr(t){return t.settings!==void 0}var QG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new Ei("app","Firebase",QG);var Bw=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}};var ms=GG;function $w(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Lw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw hs.create("bad-app-name",{appName:String(i)});if(n||(n=Sw()),!n)throw hs.create("no-options");let s=Eu.get(i);if(s){if(vo(n,s.options)&&vo(r,s.config))return s;throw hs.create("duplicate-app",{appName:i})}let o=new yp(i);for(let c of Vw.values())o.addComponent(c);let a=new Bw(n,r,o);return Eu.set(i,a),a}function oc(t=Lw){let e=Eu.get(t);if(!e&&t===Lw&&Sw())return $w();if(!e)throw hs.create("no-app",{appName:t});return e}function _p(){return Array.from(Eu.values())}function Dt(t,e,n){var r;let i=(r=WG[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(a.join(" "));return}ps(new Xn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var YG="firebase-heartbeat-database",ZG=1,wu="firebase-heartbeat-store",kw=null;function GM(){return kw||(kw=UM(YG,ZG,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wu)}catch(n){console.warn(n)}}}}).catch(t=>{throw hs.create("idb-open",{originalErrorMessage:t.message})})),kw}function XG(t){return g(this,null,function*(){try{let n=(yield GM()).transaction(wu),r=yield n.objectStore(wu).get(WM(t));return yield n.done,r}catch(e){if(e instanceof kn)wi.warn(e.message);else{let n=hs.create("idb-get",{originalErrorMessage:e?.message});wi.warn(n.message)}}})}function HM(t,e){return g(this,null,function*(){try{let r=(yield GM()).transaction(wu,"readwrite");yield r.objectStore(wu).put(e,WM(t)),yield r.done}catch(n){if(n instanceof kn)wi.warn(n.message);else{let r=hs.create("idb-set",{originalErrorMessage:n?.message});wi.warn(r.message)}}})}function WM(t){return`${t.name}!${t.options.appId}`}var JG=1024,e5=30*24*60*60*1e3,Uw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new jw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return g(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qM();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=e5}),this._storage.overwrite(this._heartbeatsCache))}catch(r){wi.warn(r)}})}getHeartbeatsHeader(){return g(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=qM(),{heartbeatsToSend:r,unsentEntries:i}=t5(this._heartbeatsCache.heartbeats),s=vu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return wi.warn(n),""}})}};function qM(){return new Date().toISOString().substring(0,10)}function t5(t,e=JG){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zM(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var jw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(this,null,function*(){return Aw()?NM().then(()=>!0).catch(()=>!1):!1})}read(){return g(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield XG(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return HM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return HM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function zM(t){return vu(JSON.stringify({version:2,heartbeats:t})).length}function n5(t){ps(new Xn("platform-logger",e=>new Ow(e),"PRIVATE")),ps(new Xn("heartbeat",e=>new Uw(e),"PRIVATE")),Dt(Fw,jM,t),Dt(Fw,jM,"esm2017"),Dt("fire-js","")}n5("");var r5="firebase",i5="10.14.1";Dt(r5,i5,"app");var wo=new li("ANGULARFIRE2_VERSION");function wp(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Cu=(t,e)=>{let n=e?[e]:_p(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},cc=class{constructor(){return Cu(s5)}},s5="app-check";function ac(){}var Ep=class{zone;delegate;constructor(e,n=vv){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Hw=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ac,{},ac,ac)),n.pipe(At({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},lc=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Ep(Zone.current)),this.insideAngular=n.run(()=>new Ep(Zone.current,yv)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(xe(qe))};static \u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bp(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function o5(t){return bp().ngZone.runOutsideAngular(()=>t())}function Eo(t){return bp().ngZone.run(()=>t())}function a5(t){return c5(bp())(t)}function c5(t){return function(n){return n=n.lift(new Hw(t.ngZone)),n.pipe(Ki(t.outsideAngular),Wi(t.insideAngular))}}var l5=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Eo(()=>t.apply(void 0,r))},Lt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Eo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ac,{},ac,ac))),r[s]=l5(r[s],n));let i=o5(()=>t.apply(this,r));if(!e)if(i instanceof De){let s=bp();return i.pipe(Ki(s.outsideAngular),Wi(s.insideAngular))}else return Eo(()=>i);return i instanceof De?i.pipe(a5):i instanceof Promise?Eo(()=>new Promise((s,o)=>i.then(a=>Eo(()=>s(a)),a=>Eo(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Eo(()=>i)};var bi=class{constructor(e){return e}},bo=class{constructor(){return _p()}};function u5(t){return t&&t.length===1?t[0]:new bi(oc())}var qw=new ae("angularfire2._apps"),d5={provide:bi,useFactory:u5,deps:[[new hn,qw]]},f5={provide:bo,deps:[[new hn,qw]]};function h5(t){return(e,n)=>{let r=n.get(ss);Dt("angularfire",wo.full,"core"),Dt("angularfire",wo.full,"app"),Dt("angular",SR.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new bi(i)}}function KM(t,...e){return Mr([d5,f5,{provide:qw,useFactory:h5(t),multi:!0,deps:[qe,bn,lc,...e]}])}var QM=Lt($w,!0);function fP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var hP=fP,pP=new Ei("auth","Firebase",fP());var Tp=new fs("@firebase/auth");function p5(t,...e){Tp.logLevel<=Me.WARN&&Tp.warn(`Auth (${ms}): ${t}`,...e)}function Ip(t,...e){Tp.logLevel<=Me.ERROR&&Tp.error(`Auth (${ms}): ${t}`,...e)}function jr(t,...e){throw h0(t,...e)}function Co(t,...e){return h0(t,...e)}function mP(t,e,n){let r=Object.assign(Object.assign({},hP()),{[e]:n});return new Ei("auth","Firebase",r).create(e,{appName:t.name})}function Si(t){return mP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function h0(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pP.create(t,...e)}function ue(t,e,...n){if(!t)throw h0(e,...n)}function Ci(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ip(e),new Error(e)}function ys(t,e){t||Ci(e)}function Kw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function m5(){return YM()==="http:"||YM()==="https:"}function YM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function g5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m5()||AM()||"connection"in navigator)?navigator.onLine:!0}function y5(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Io=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ys(n>e,"Short delay should be less than long delay!"),this.isMobile=SM()||TM()}get(){return g5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function p0(t,e){ys(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Dp=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var v5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var _5=new Io(3e4,6e4);function xi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ai(s,o,a,c){return g(this,arguments,function*(t,e,n,r,i={}){return gP(t,i,()=>g(this,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let h=_u(Object.assign({key:t.config.apiKey},d)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},u);return xM()||(y.referrerPolicy="no-referrer"),Dp.fetch()(yP(t,t.config.apiHost,n,h),y)}))})}function gP(t,e,n){return g(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},v5),e);try{let i=new Qw(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Cp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cp(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Cp(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Cp(t,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw mP(t,d,u);jr(t,d)}}catch(i){if(i instanceof kn)throw i;jr(t,"network-request-failed",{message:String(i)})}})}function Nu(s,o,a,c){return g(this,arguments,function*(t,e,n,r,i={}){let u=yield Ai(t,e,n,r,i);return"mfaPendingCredential"in u&&jr(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function yP(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?p0(t.config,i):`${t.config.apiScheme}://${i}`}function E5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Qw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Co(this.auth,"network-request-failed")),_5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Cp(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Co(t,e,r);return i.customData._tokenResponse=n,i}function ZM(t){return t!==void 0&&t.enterprise!==void 0}var Yw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return E5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function w5(t,e){return g(this,null,function*(){return Ai(t,"GET","/v2/recaptchaConfig",xi(t,e))})}function b5(t,e){return g(this,null,function*(){return Ai(t,"POST","/v1/accounts:delete",e)})}function vP(t,e){return g(this,null,function*(){return Ai(t,"POST","/v1/accounts:lookup",e)})}function Iu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function m0(t,e=!1){return g(this,null,function*(){let n=yt(t),r=yield n.getIdToken(e),i=g0(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Iu(zw(i.auth_time)),issuedAtTime:Iu(zw(i.iat)),expirationTime:Iu(zw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function zw(t){return Number(t)*1e3}function g0(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ip("JWT malformed, contained fewer than 3 sections"),null;try{let i=Cw(n);return i?JSON.parse(i):(Ip("Failed to decode base64 JWT payload"),null)}catch(i){return Ip("Caught error parsing JWT payload as JSON",i?.toString()),null}}function XM(t){let e=g0(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function xu(t,e,n=!1){return g(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof kn&&C5(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function C5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Zw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>g(this,null,function*(){yield this.iteration()}),n)}iteration(){return g(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Au=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Iu(this.lastLoginAt),this.creationTime=Iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Rp(t){return g(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield xu(t,vP(n,{idToken:r}));ue(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?_P(s.providerUserInfo):[],a=I5(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,d=c?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Au(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)})}function y0(t){return g(this,null,function*(){let e=yt(t);yield Rp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function I5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _P(t){return t.map(e=>{var{providerId:n}=e,r=_v(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function S5(t,e){return g(this,null,function*(){let n=yield gP(t,{},()=>g(this,null,function*(){let r=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=yP(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Dp.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function x5(t,e){return g(this,null,function*(){return Ai(t,"POST","/v2/accounts:revokeToken",xi(t,e))})}var Su=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");let n=XM(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return g(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return g(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield S5(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ue(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ci("not implemented")}};function gs(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var uc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=_v(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Au(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return g(this,null,function*(){let n=yield xu(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return m0(this,e)}reload(){return y0(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return g(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Rp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return g(this,null,function*(){if(pr(this.auth.app))return Promise.reject(Si(this.auth));let e=yield this.getIdToken();return yield xu(this,b5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,d;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,D=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,O=(u=n.createdAt)!==null&&u!==void 0?u:void 0,H=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:W,emailVerified:te,isAnonymous:Se,providerData:se,stsTokenManager:T}=n;ue(W&&T,e,"internal-error");let b=Su.fromJSON(this.name,T);ue(typeof W=="string",e,"internal-error"),gs(h,e.name),gs(m,e.name),ue(typeof te=="boolean",e,"internal-error"),ue(typeof Se=="boolean",e,"internal-error"),gs(y,e.name),gs(_,e.name),gs(D,e.name),gs(S,e.name),gs(O,e.name),gs(H,e.name);let C=new t({uid:W,auth:e,email:m,emailVerified:te,displayName:h,isAnonymous:Se,photoURL:_,phoneNumber:y,tenantId:D,stsTokenManager:b,createdAt:O,lastLoginAt:H});return se&&Array.isArray(se)&&(C.providerData=se.map(x=>Object.assign({},x))),S&&(C._redirectEventId=S),C}static _fromIdTokenResponse(e,n,r=!1){return g(this,null,function*(){let i=new Su;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rp(s),s})}static _fromGetAccountInfoResponse(e,n,r){return g(this,null,function*(){let i=n.users[0];ue(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?_P(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Su;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Au(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var JM=new Map;function Ii(t){ys(t instanceof Function,"Expected a class definition");let e=JM.get(t);return e?(ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JM.set(t,e),e)}var A5=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(this,null,function*(){return!0})}_set(n,r){return g(this,null,function*(){this.storage[n]=r})}_get(n){return g(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return g(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Xw=A5;function Sp(t,e,n){return`firebase:${t}:${e}:${n}`}var Np=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Sp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Sp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return g(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?uc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return g(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(this,null,function*(){if(!n.length)return new t(Ii(Xw),e,r);let i=(yield Promise.all(n.map(u=>g(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Ii(Xw),o=Sp(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let d=yield u._get(o);if(d){let h=uc._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>g(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function eP(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SP(e))return"Blackberry";if(xP(e))return"Webos";if(wP(e))return"Safari";if((e.includes("chrome/")||bP(e))&&!e.includes("edge/"))return"Chrome";if(IP(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function EP(t=Ft()){return/firefox\//i.test(t)}function wP(t=Ft()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bP(t=Ft()){return/crios\//i.test(t)}function CP(t=Ft()){return/iemobile/i.test(t)}function IP(t=Ft()){return/android/i.test(t)}function SP(t=Ft()){return/blackberry/i.test(t)}function xP(t=Ft()){return/webos/i.test(t)}function v0(t=Ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function T5(t=Ft()){var e;return v0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function D5(){return DM()&&document.documentMode===10}function AP(t=Ft()){return v0(t)||IP(t)||xP(t)||SP(t)||/windows phone/i.test(t)||CP(t)}function TP(t,e=[]){let n;switch(t){case"Browser":n=eP(Ft());break;case"Worker":n=`${eP(Ft())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ms}/${r}`}var Jw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return g(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function R5(n){return g(this,arguments,function*(t,e={}){return Ai(t,"GET","/v2/passwordPolicy",xi(t,e))})}var N5=6,e0=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:N5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var t0=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mp(this),this.idTokenSubscription=new Mp(this),this.beforeStateQueue=new Jw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(()=>g(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Np.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return g(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return g(this,null,function*(){try{let n=yield vP(this,{idToken:e}),r=yield uc._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return g(this,null,function*(){var n;if(pr(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return g(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return g(this,null,function*(){try{yield Rp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=y5()}_delete(){return g(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return g(this,null,function*(){if(pr(this.app))return Promise.reject(Si(this));let n=e?yt(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return g(this,null,function*(){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>g(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return g(this,null,function*(){return pr(this.app)?Promise.reject(Si(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return pr(this.app)?Promise.reject(Si(this)):this.queue(()=>g(this,null,function*(){yield this.assertedPersistence.setPersistence(Ii(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return g(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return g(this,null,function*(){let e=yield R5(this),n=new e0(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ei("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return g(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield x5(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return g(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return g(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ii(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=yield Np.create(this,[Ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return g(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>g(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return g(this,null,function*(){if(e===this.currentUser)return this.queue(()=>g(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return g(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return g(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return g(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&p5(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function xo(t){return yt(t)}var Mp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=PM(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Bp={loadJS(){return g(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M5(t){Bp=t}function DP(t){return Bp.loadJS(t)}function P5(){return Bp.recaptchaEnterpriseScript}function k5(){return Bp.gapiScript}function RP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var O5="recaptcha-enterprise",F5="NO_RECAPTCHA",n0=class{constructor(e){this.type=O5,this.auth=xo(e)}verify(e="verify",n=!1){return g(this,null,function*(){function r(s){return g(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>g(this,null,function*(){w5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Yw(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;ZM(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(F5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&ZM(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=P5();c.length!==0&&(c+=a),DP(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function tP(t,e,n,r=!1){return g(this,null,function*(){let i=new n0(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function r0(t,e,n,r){return g(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield tP(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>g(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield tP(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function _0(t,e){let n=bu(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(vo(s,e??{}))return i;jr(i,"already-initialized")}return n.initialize({options:e})}function L5(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ii);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function E0(t,e,n){let r=xo(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=NP(e),{host:o,port:a}=V5(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||B5()}function NP(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function V5(t){let e=NP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:nP(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:nP(o)}}}function nP(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function B5(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Tu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,n){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}};function U5(t,e){return g(this,null,function*(){return Ai(t,"POST","/v1/accounts:signUp",e)})}function j5(t,e){return g(this,null,function*(){return Nu(t,"POST","/v1/accounts:signInWithPassword",xi(t,e))})}function $5(t,e){return g(this,null,function*(){return Ai(t,"POST","/v1/accounts:sendOobCode",xi(t,e))})}function H5(t,e){return g(this,null,function*(){return $5(t,e)})}function q5(t,e){return g(this,null,function*(){return Nu(t,"POST","/v1/accounts:signInWithEmailLink",xi(t,e))})}function z5(t,e){return g(this,null,function*(){return Nu(t,"POST","/v1/accounts:signInWithEmailLink",xi(t,e))})}var Du=class t extends Tu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return g(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return r0(e,n,"signInWithPassword",j5);case"emailLink":return q5(e,{email:this._email,oobCode:this._password});default:jr(e,"internal-error")}})}_linkToIdToken(e,n){return g(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return r0(e,r,"signUpPassword",U5);case"emailLink":return z5(e,{idToken:n,email:this._email,oobCode:this._password});default:jr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Gw(t,e){return g(this,null,function*(){return Nu(t,"POST","/v1/accounts:signInWithIdp",xi(t,e))})}function G5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function W5(t){let e=ic(sc(t)).link,n=e?ic(sc(e)).deep_link_id:null,r=ic(sc(t)).deep_link_id;return(r?ic(sc(r)).link:null)||r||n||e||t}var Pp=class t{constructor(e){var n,r,i,s,o,a;let c=ic(sc(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,h=G5((i=c.mode)!==null&&i!==void 0?i:null);ue(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=W5(e);try{return new t(n)}catch{return null}}};var MP=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Du._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Pp.parseLink(r);return ue(i,"argument-error"),Du._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),kp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var i0=class extends kp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function K5(t,e){return g(this,null,function*(){return Nu(t,"POST","/v1/accounts:signUp",xi(t,e))})}var dc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(this,null,function*(){let s=yield uc._fromIdTokenResponse(e,r,i),o=rP(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return g(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=rP(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function rP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var s0=class t extends kn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function PP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?s0._fromErrorAndOperation(t,s,e,r):s})}function Q5(t,e,n=!1){return g(this,null,function*(){let r=yield xu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return dc._forOperation(t,"link",r)})}function Y5(t,e,n=!1){return g(this,null,function*(){let{auth:r}=t;if(pr(r.app))return Promise.reject(Si(r));let i="reauthenticate";try{let s=yield xu(t,PP(r,i,e,t),n);ue(s.idToken,r,"internal-error");let o=g0(s.idToken);ue(o,r,"internal-error");let{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),dc._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&jr(r,"user-mismatch"),s}})}function kP(t,e,n=!1){return g(this,null,function*(){if(pr(t.app))return Promise.reject(Si(t));let r="signIn",i=yield PP(t,r,e),s=yield dc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function w0(t,e){return g(this,null,function*(){return kP(xo(t),e)})}function Z5(t,e,n){var r;ue(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ue(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ue(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ue(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function OP(t){return g(this,null,function*(){let e=xo(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function b0(t,e,n){return g(this,null,function*(){if(pr(t.app))return Promise.reject(Si(t));let r=xo(t),o=yield r0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",K5).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&OP(t),c}),a=yield dc._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function C0(t,e,n){return pr(t.app)?Promise.reject(Si(t)):w0(yt(t),MP.credential(e,n)).catch(r=>g(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&OP(t),r}))}function I0(t,e){return g(this,null,function*(){let n=yt(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&Z5(n.auth,i,e);let{email:s}=yield H5(n.auth,i);s!==t.email&&(yield t.reload())})}function S0(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function x0(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}var Op="__sak";var Fp=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Op,"1"),this.storage.removeItem(Op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var X5=1e3,J5=10,e9=(()=>{class t extends Fp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AP(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);D5()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,J5):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},X5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return g(this,null,function*(){yield Cr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return g(this,null,function*(){let r=yield Cr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return g(this,null,function*(){yield Cr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),FP=e9;var t9=(()=>{class t extends Fp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),A0=t9;function n9(t){return Promise.all(t.map(e=>g(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var r9=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return g(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(d=>g(this,null,function*(){return d(r.origin,o)})),u=yield n9(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function LP(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var o0=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return g(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=LP("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){let m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Ur(){return window}function i9(t){Ur().location.href=t}function VP(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}function s9(){return g(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function o9(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function a9(){return VP()?self:null}var BP="firebaseLocalStorageDb",c9=1,Lp="firebaseLocalStorage",UP="fbase_key",So=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Up(t,e){return t.transaction([Lp],e?"readwrite":"readonly").objectStore(Lp)}function l9(){let t=indexedDB.deleteDatabase(BP);return new So(t).toPromise()}function a0(){let t=indexedDB.open(BP,c9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Lp,{keyPath:UP})}catch(i){n(i)}}),t.addEventListener("success",()=>g(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Lp)?e(r):(r.close(),yield l9(),e(yield a0()))}))})}function iP(t,e,n){return g(this,null,function*(){let r=Up(t,!0).put({[UP]:e,value:n});return new So(r).toPromise()})}function u9(t,e){return g(this,null,function*(){let n=Up(t,!1).get(e),r=yield new So(n).toPromise();return r===void 0?null:r.value})}function sP(t,e){let n=Up(t,!0).delete(e);return new So(n).toPromise()}var d9=800,f9=3,h9=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return g(this,null,function*(){return this.db?this.db:(this.db=yield a0(),this.db)})}_withRetries(n){return g(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>f9)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return g(this,null,function*(){return VP()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return g(this,null,function*(){this.receiver=r9._getInstance(a9()),this.receiver._subscribe("keyChanged",(n,r)=>g(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>g(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return g(this,null,function*(){var n,r;if(this.activeServiceWorker=yield s9(),!this.activeServiceWorker)return;this.sender=new o0(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return g(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||o9()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return g(this,null,function*(){try{if(!indexedDB)return!1;let n=yield a0();return yield iP(n,Op,"1"),yield sP(n,Op),!0}catch{}return!1})}_withPendingWrite(n){return g(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(i=>iP(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return g(this,null,function*(){let r=yield this._withRetries(i=>u9(i,n));return this.localCache[n]=r,r})}_remove(n){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(r=>sP(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return g(this,null,function*(){let n=yield this._withRetries(s=>{let o=Up(s,!1).getAll();return new So(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>g(this,null,function*(){return this._poll()}),d9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),jP=h9;var Ple=RP("rcb"),kle=new Io(3e4,6e4);function p9(t,e){return e?Ii(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ru=class extends Tu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gw(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Gw(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Gw(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function m9(t){return kP(t.auth,new Ru(t),t.bypassAuthState)}function g9(t){let{auth:e,user:n}=t;return ue(n,e,"internal-error"),Y5(n,new Ru(t),t.bypassAuthState)}function y9(t){return g(this,null,function*(){let{auth:e,user:n}=t;return ue(n,e,"internal-error"),Q5(n,new Ru(t),t.bypassAuthState)})}var c0=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>g(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return g(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return m9;case"linkViaPopup":case"linkViaRedirect":return y9;case"reauthViaPopup":case"reauthViaRedirect":return g9;default:jr(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Ole=new Io(2e3,1e4);var v9="pendingRedirect",xp=new Map,l0=class t extends c0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return g(this,null,function*(){let e=xp.get(this.auth._key());if(!e){try{let r=(yield _9(this.resolver,this.auth))?yield Cr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xp.set(this.auth._key(),e)}return this.bypassAuthState||xp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return g(this,null,function*(){if(e.type==="signInViaRedirect")return Cr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Cr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return g(this,null,function*(){})}cleanUp(){}};function _9(t,e){return g(this,null,function*(){let n=b9(e),r=w9(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function E9(t,e){xp.set(t._key(),e)}function w9(t){return Ii(t._redirectPersistence)}function b9(t){return Sp(v9,t.config.apiKey,t.name)}function C9(t,e,n=!1){return g(this,null,function*(){if(pr(t.app))return Promise.reject(Si(t));let r=xo(t),i=p9(r,e),o=yield new l0(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var I9=10*60*1e3,u0=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$P(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Co(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=I9&&this.cachedEventUids.clear(),this.cachedEventUids.has(oP(e))}saveEventToCache(e){this.cachedEventUids.add(oP(e)),this.lastProcessedEventTime=Date.now()}};function oP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $P({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function S9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $P(t);default:return!1}}function x9(n){return g(this,arguments,function*(t,e={}){return Ai(t,"GET","/v1/projects",e)})}var A9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T9=/^https?/;function D9(t){return g(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield x9(t);for(let n of e)try{if(R9(n))return}catch{}jr(t,"unauthorized-domain")})}function R9(t){let e=Kw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!T9.test(n))return!1;if(A9.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var N9=new Io(3e4,6e4);function aP(){let t=Ur().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function M9(t){return new Promise((e,n)=>{var r,i,s;function o(){aP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aP(),n(Co(t,"network-request-failed"))},timeout:N9.get()})}if(!((i=(r=Ur().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ur().gapi)===null||s===void 0)&&s.load)o();else{let a=RP("iframefcb");return Ur()[a]=()=>{gapi.load?o():n(Co(t,"network-request-failed"))},DP(`${k5()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Ap=null,e})}var Ap=null;function P9(t){return Ap=Ap||M9(t),Ap}var k9=new Io(5e3,15e3),O9="__/auth/iframe",F9="emulator/auth/iframe",L9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B9(t){let e=t.config;ue(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?p0(e,F9):`https://${t.config.authDomain}/${O9}`,r={apiKey:e.apiKey,appName:t.name,v:ms},i=V9.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${_u(r).slice(1)}`}function U9(t){return g(this,null,function*(){let e=yield P9(t),n=Ur().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:B9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L9,dontclear:!0},r=>new Promise((i,s)=>g(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Co(t,"network-request-failed"),a=Ur().setTimeout(()=>{s(o)},k9.get());function c(){Ur().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var j9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$9=500,H9=600,q9="_blank",z9="http://localhost",Vp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function G9(t,e,n,r=$9,i=H9){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},j9),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ft().toLowerCase();n&&(a=bP(u)?q9:n),EP(u)&&(e=e||z9,c.scrollbars="yes");let d=Object.entries(c).reduce((m,[y,_])=>`${m}${y}=${_},`,"");if(T5(u)&&a!=="_self")return W9(e||"",a),new Vp(null);let h=window.open(e||"",a,d);ue(h,t,"popup-blocked");try{h.focus()}catch{}return new Vp(h)}function W9(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var K9="__/auth/handler",Q9="emulator/auth/handler",Y9=encodeURIComponent("fac");function cP(t,e,n,r,i,s){return g(this,null,function*(){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ms,eventId:i};if(e instanceof kp){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",MM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof i0){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield t._getAppCheckToken(),u=c?`#${Y9}=${encodeURIComponent(c)}`:"";return`${Z9(t)}?${_u(a).slice(1)}${u}`})}function Z9({config:t}){return t.emulator?p0(t,Q9):`https://${t.authDomain}/${K9}`}var Ww="webStorageSupport",d0=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A0,this._completeRedirectFn=C9,this._overrideRedirectResult=E9}_openPopup(e,n,r,i){return g(this,null,function*(){var s;ys((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield cP(e,n,r,Kw(),i);return G9(e,o,LP())})}_openRedirect(e,n,r,i){return g(this,null,function*(){yield this._originValidation(e);let s=yield cP(e,n,r,Kw(),i);return i9(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ys(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return g(this,null,function*(){let n=yield U9(e),r=new u0(e);return n.register("authEvent",i=>(ue(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ww,{type:Ww},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Ww];o!==void 0&&n(!!o),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=D9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AP()||wP()||v0()}},HP=d0;var lP="@firebase/auth",uP="1.7.9";var f0=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return g(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function X9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function J9(t){ps(new Xn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TP(t)},u=new t0(r,i,s,c);return L5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ps(new Xn("auth-internal",e=>{let n=xo(e.getProvider("auth").getImmediate());return(r=>new f0(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dt(lP,uP,X9(t)),Dt(lP,uP,"esm2017")}var eW=5*60,tW=xw("authIdTokenMaxAge")||eW,dP=null,nW=t=>e=>g(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tW)return;let i=n?.token;dP!==i&&(dP=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function T0(t=oc()){let e=bu(t,"auth");if(e.isInitialized())return e.getImmediate();let n=_0(t,{popupRedirectResolver:HP,persistence:[jP,FP,A0]}),r=xw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=nW(s.toString());x0(n,o,()=>o(n.currentUser)),S0(n,a=>o(a))}}let i=Iw("auth");return i&&E0(n,`http://${i}`),n}function rW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}M5({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Co("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",rW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});J9("Browser");var qP="auth",Ti=class{constructor(e){return e}},Mu=class{constructor(){return Cu(qP)}};var D0=new ae("angularfire2.auth-instances");function WW(t,e){let n=wp(qP,t,e);return n&&new Ti(n)}function KW(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ti(r)}}var QW={provide:Mu,deps:[[new hn,D0]]},YW={provide:Ti,useFactory:WW,deps:[[new hn,D0],bi]};function zP(t,...e){return Dt("angularfire",wo.full,"auth"),Mr([YW,QW,{provide:D0,useFactory:KW(t),multi:!0,deps:[qe,bn,lc,bo,[new hn,cc],...e]}])}var GP=Lt(b0,!0);var WP=Lt(T0,!0);var KP=Lt(I0,!0);var QP=Lt(C0,!0);var ZP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},XP={};var vs,R0;(function(){var t;function e(T,b){function C(){}C.prototype=b.prototype,T.D=b.prototype,T.prototype=new C,T.prototype.constructor=T,T.C=function(x,R,M){for(var I=Array(arguments.length-2),ti=2;ti<arguments.length;ti++)I[ti-2]=arguments[ti];return b.prototype[R].apply(x,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,b,C){C||(C=0);var x=Array(16);if(typeof b=="string")for(var R=0;16>R;++R)x[R]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(R=0;16>R;++R)x[R]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=T.g[0],C=T.g[1],R=T.g[2];var M=T.g[3],I=b+(M^C&(R^M))+x[0]+3614090360&4294967295;b=C+(I<<7&4294967295|I>>>25),I=M+(R^b&(C^R))+x[1]+3905402710&4294967295,M=b+(I<<12&4294967295|I>>>20),I=R+(C^M&(b^C))+x[2]+606105819&4294967295,R=M+(I<<17&4294967295|I>>>15),I=C+(b^R&(M^b))+x[3]+3250441966&4294967295,C=R+(I<<22&4294967295|I>>>10),I=b+(M^C&(R^M))+x[4]+4118548399&4294967295,b=C+(I<<7&4294967295|I>>>25),I=M+(R^b&(C^R))+x[5]+1200080426&4294967295,M=b+(I<<12&4294967295|I>>>20),I=R+(C^M&(b^C))+x[6]+2821735955&4294967295,R=M+(I<<17&4294967295|I>>>15),I=C+(b^R&(M^b))+x[7]+4249261313&4294967295,C=R+(I<<22&4294967295|I>>>10),I=b+(M^C&(R^M))+x[8]+1770035416&4294967295,b=C+(I<<7&4294967295|I>>>25),I=M+(R^b&(C^R))+x[9]+2336552879&4294967295,M=b+(I<<12&4294967295|I>>>20),I=R+(C^M&(b^C))+x[10]+4294925233&4294967295,R=M+(I<<17&4294967295|I>>>15),I=C+(b^R&(M^b))+x[11]+2304563134&4294967295,C=R+(I<<22&4294967295|I>>>10),I=b+(M^C&(R^M))+x[12]+1804603682&4294967295,b=C+(I<<7&4294967295|I>>>25),I=M+(R^b&(C^R))+x[13]+4254626195&4294967295,M=b+(I<<12&4294967295|I>>>20),I=R+(C^M&(b^C))+x[14]+2792965006&4294967295,R=M+(I<<17&4294967295|I>>>15),I=C+(b^R&(M^b))+x[15]+1236535329&4294967295,C=R+(I<<22&4294967295|I>>>10),I=b+(R^M&(C^R))+x[1]+4129170786&4294967295,b=C+(I<<5&4294967295|I>>>27),I=M+(C^R&(b^C))+x[6]+3225465664&4294967295,M=b+(I<<9&4294967295|I>>>23),I=R+(b^C&(M^b))+x[11]+643717713&4294967295,R=M+(I<<14&4294967295|I>>>18),I=C+(M^b&(R^M))+x[0]+3921069994&4294967295,C=R+(I<<20&4294967295|I>>>12),I=b+(R^M&(C^R))+x[5]+3593408605&4294967295,b=C+(I<<5&4294967295|I>>>27),I=M+(C^R&(b^C))+x[10]+38016083&4294967295,M=b+(I<<9&4294967295|I>>>23),I=R+(b^C&(M^b))+x[15]+3634488961&4294967295,R=M+(I<<14&4294967295|I>>>18),I=C+(M^b&(R^M))+x[4]+3889429448&4294967295,C=R+(I<<20&4294967295|I>>>12),I=b+(R^M&(C^R))+x[9]+568446438&4294967295,b=C+(I<<5&4294967295|I>>>27),I=M+(C^R&(b^C))+x[14]+3275163606&4294967295,M=b+(I<<9&4294967295|I>>>23),I=R+(b^C&(M^b))+x[3]+4107603335&4294967295,R=M+(I<<14&4294967295|I>>>18),I=C+(M^b&(R^M))+x[8]+1163531501&4294967295,C=R+(I<<20&4294967295|I>>>12),I=b+(R^M&(C^R))+x[13]+2850285829&4294967295,b=C+(I<<5&4294967295|I>>>27),I=M+(C^R&(b^C))+x[2]+4243563512&4294967295,M=b+(I<<9&4294967295|I>>>23),I=R+(b^C&(M^b))+x[7]+1735328473&4294967295,R=M+(I<<14&4294967295|I>>>18),I=C+(M^b&(R^M))+x[12]+2368359562&4294967295,C=R+(I<<20&4294967295|I>>>12),I=b+(C^R^M)+x[5]+4294588738&4294967295,b=C+(I<<4&4294967295|I>>>28),I=M+(b^C^R)+x[8]+2272392833&4294967295,M=b+(I<<11&4294967295|I>>>21),I=R+(M^b^C)+x[11]+1839030562&4294967295,R=M+(I<<16&4294967295|I>>>16),I=C+(R^M^b)+x[14]+4259657740&4294967295,C=R+(I<<23&4294967295|I>>>9),I=b+(C^R^M)+x[1]+2763975236&4294967295,b=C+(I<<4&4294967295|I>>>28),I=M+(b^C^R)+x[4]+1272893353&4294967295,M=b+(I<<11&4294967295|I>>>21),I=R+(M^b^C)+x[7]+4139469664&4294967295,R=M+(I<<16&4294967295|I>>>16),I=C+(R^M^b)+x[10]+3200236656&4294967295,C=R+(I<<23&4294967295|I>>>9),I=b+(C^R^M)+x[13]+681279174&4294967295,b=C+(I<<4&4294967295|I>>>28),I=M+(b^C^R)+x[0]+3936430074&4294967295,M=b+(I<<11&4294967295|I>>>21),I=R+(M^b^C)+x[3]+3572445317&4294967295,R=M+(I<<16&4294967295|I>>>16),I=C+(R^M^b)+x[6]+76029189&4294967295,C=R+(I<<23&4294967295|I>>>9),I=b+(C^R^M)+x[9]+3654602809&4294967295,b=C+(I<<4&4294967295|I>>>28),I=M+(b^C^R)+x[12]+3873151461&4294967295,M=b+(I<<11&4294967295|I>>>21),I=R+(M^b^C)+x[15]+530742520&4294967295,R=M+(I<<16&4294967295|I>>>16),I=C+(R^M^b)+x[2]+3299628645&4294967295,C=R+(I<<23&4294967295|I>>>9),I=b+(R^(C|~M))+x[0]+4096336452&4294967295,b=C+(I<<6&4294967295|I>>>26),I=M+(C^(b|~R))+x[7]+1126891415&4294967295,M=b+(I<<10&4294967295|I>>>22),I=R+(b^(M|~C))+x[14]+2878612391&4294967295,R=M+(I<<15&4294967295|I>>>17),I=C+(M^(R|~b))+x[5]+4237533241&4294967295,C=R+(I<<21&4294967295|I>>>11),I=b+(R^(C|~M))+x[12]+1700485571&4294967295,b=C+(I<<6&4294967295|I>>>26),I=M+(C^(b|~R))+x[3]+2399980690&4294967295,M=b+(I<<10&4294967295|I>>>22),I=R+(b^(M|~C))+x[10]+4293915773&4294967295,R=M+(I<<15&4294967295|I>>>17),I=C+(M^(R|~b))+x[1]+2240044497&4294967295,C=R+(I<<21&4294967295|I>>>11),I=b+(R^(C|~M))+x[8]+1873313359&4294967295,b=C+(I<<6&4294967295|I>>>26),I=M+(C^(b|~R))+x[15]+4264355552&4294967295,M=b+(I<<10&4294967295|I>>>22),I=R+(b^(M|~C))+x[6]+2734768916&4294967295,R=M+(I<<15&4294967295|I>>>17),I=C+(M^(R|~b))+x[13]+1309151649&4294967295,C=R+(I<<21&4294967295|I>>>11),I=b+(R^(C|~M))+x[4]+4149444226&4294967295,b=C+(I<<6&4294967295|I>>>26),I=M+(C^(b|~R))+x[11]+3174756917&4294967295,M=b+(I<<10&4294967295|I>>>22),I=R+(b^(M|~C))+x[2]+718787259&4294967295,R=M+(I<<15&4294967295|I>>>17),I=C+(M^(R|~b))+x[9]+3951481745&4294967295,T.g[0]=T.g[0]+b&4294967295,T.g[1]=T.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+M&4294967295}r.prototype.u=function(T,b){b===void 0&&(b=T.length);for(var C=b-this.blockSize,x=this.B,R=this.h,M=0;M<b;){if(R==0)for(;M<=C;)i(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<b;)if(x[R++]=T.charCodeAt(M++),R==this.blockSize){i(this,x),R=0;break}}else for(;M<b;)if(x[R++]=T[M++],R==this.blockSize){i(this,x),R=0;break}}this.h=R,this.o+=b},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var b=1;b<T.length-8;++b)T[b]=0;var C=8*this.o;for(b=T.length-8;b<T.length;++b)T[b]=C&255,C/=256;for(this.u(T),T=Array(16),b=C=0;4>b;++b)for(var x=0;32>x;x+=8)T[C++]=this.g[b]>>>x&255;return T};function s(T,b){var C=a;return Object.prototype.hasOwnProperty.call(C,T)?C[T]:C[T]=b(T)}function o(T,b){this.h=b;for(var C=[],x=!0,R=T.length-1;0<=R;R--){var M=T[R]|0;x&&M==b||(C[R]=M,x=!1)}this.g=C}var a={};function c(T){return-128<=T&&128>T?s(T,function(b){return new o([b|0],0>b?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return S(u(-T));for(var b=[],C=1,x=0;T>=C;x++)b[x]=T/C|0,C*=4294967296;return new o(b,0)}function d(T,b){if(T.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T.charAt(0)=="-")return S(d(T.substring(1),b));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(b,8)),x=h,R=0;R<T.length;R+=8){var M=Math.min(8,T.length-R),I=parseInt(T.substring(R,R+M),b);8>M?(M=u(Math.pow(b,M)),x=x.j(M).add(u(I))):(x=x.j(C),x=x.add(u(I)))}return x}var h=c(0),m=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(D(this))return-S(this).m();for(var T=0,b=1,C=0;C<this.g.length;C++){var x=this.i(C);T+=(0<=x?x:4294967296+x)*b,b*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(_(this))return"0";if(D(this))return"-"+S(this).toString(T);for(var b=u(Math.pow(T,6)),C=this,x="";;){var R=te(C,b).g;C=O(C,R.j(b));var M=((0<C.g.length?C.g[0]:C.h)>>>0).toString(T);if(C=R,_(C))return M+x;for(;6>M.length;)M="0"+M;x=M+x}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function _(T){if(T.h!=0)return!1;for(var b=0;b<T.g.length;b++)if(T.g[b]!=0)return!1;return!0}function D(T){return T.h==-1}t.l=function(T){return T=O(this,T),D(T)?-1:_(T)?0:1};function S(T){for(var b=T.g.length,C=[],x=0;x<b;x++)C[x]=~T.g[x];return new o(C,~T.h).add(m)}t.abs=function(){return D(this)?S(this):this},t.add=function(T){for(var b=Math.max(this.g.length,T.g.length),C=[],x=0,R=0;R<=b;R++){var M=x+(this.i(R)&65535)+(T.i(R)&65535),I=(M>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);x=I>>>16,M&=65535,I&=65535,C[R]=I<<16|M}return new o(C,C[C.length-1]&-2147483648?-1:0)};function O(T,b){return T.add(S(b))}t.j=function(T){if(_(this)||_(T))return h;if(D(this))return D(T)?S(this).j(S(T)):S(S(this).j(T));if(D(T))return S(this.j(S(T)));if(0>this.l(y)&&0>T.l(y))return u(this.m()*T.m());for(var b=this.g.length+T.g.length,C=[],x=0;x<2*b;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(var R=0;R<T.g.length;R++){var M=this.i(x)>>>16,I=this.i(x)&65535,ti=T.i(R)>>>16,Jc=T.i(R)&65535;C[2*x+2*R]+=I*Jc,H(C,2*x+2*R),C[2*x+2*R+1]+=M*Jc,H(C,2*x+2*R+1),C[2*x+2*R+1]+=I*ti,H(C,2*x+2*R+1),C[2*x+2*R+2]+=M*ti,H(C,2*x+2*R+2)}for(x=0;x<b;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=b;x<2*b;x++)C[x]=0;return new o(C,0)};function H(T,b){for(;(T[b]&65535)!=T[b];)T[b+1]+=T[b]>>>16,T[b]&=65535,b++}function W(T,b){this.g=T,this.h=b}function te(T,b){if(_(b))throw Error("division by zero");if(_(T))return new W(h,h);if(D(T))return b=te(S(T),b),new W(S(b.g),S(b.h));if(D(b))return b=te(T,S(b)),new W(S(b.g),b.h);if(30<T.g.length){if(D(T)||D(b))throw Error("slowDivide_ only works with positive integers.");for(var C=m,x=b;0>=x.l(T);)C=Se(C),x=Se(x);var R=se(C,1),M=se(x,1);for(x=se(x,2),C=se(C,2);!_(x);){var I=M.add(x);0>=I.l(T)&&(R=R.add(C),M=I),x=se(x,1),C=se(C,1)}return b=O(T,R.j(b)),new W(R,b)}for(R=h;0<=T.l(b);){for(C=Math.max(1,Math.floor(T.m()/b.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),M=u(C),I=M.j(b);D(I)||0<I.l(T);)C-=x,M=u(C),I=M.j(b);_(M)&&(M=m),R=R.add(M),T=O(T,I)}return new W(R,T)}t.A=function(T){return te(this,T).h},t.and=function(T){for(var b=Math.max(this.g.length,T.g.length),C=[],x=0;x<b;x++)C[x]=this.i(x)&T.i(x);return new o(C,this.h&T.h)},t.or=function(T){for(var b=Math.max(this.g.length,T.g.length),C=[],x=0;x<b;x++)C[x]=this.i(x)|T.i(x);return new o(C,this.h|T.h)},t.xor=function(T){for(var b=Math.max(this.g.length,T.g.length),C=[],x=0;x<b;x++)C[x]=this.i(x)^T.i(x);return new o(C,this.h^T.h)};function Se(T){for(var b=T.g.length+1,C=[],x=0;x<b;x++)C[x]=T.i(x)<<1|T.i(x-1)>>>31;return new o(C,T.h)}function se(T,b){var C=b>>5;b%=32;for(var x=T.g.length-C,R=[],M=0;M<x;M++)R[M]=0<b?T.i(M+C)>>>b|T.i(M+C+1)<<32-b:T.i(M+C);return new o(R,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,R0=XP.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,vs=XP.Integer=o}).apply(typeof ZP<"u"?ZP:typeof self<"u"?self:typeof window<"u"?window:{});var jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Di={};var N0,ZW,fc,M0,Pu,$p,P0,k0,O0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,p){return l==Array.prototype||l==Object.prototype||(l[f]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof jp=="object"&&jp];for(var f=0;f<l.length;++f){var p=l[f];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(l,f){if(f)e:{var p=r;l=l.split(".");for(var v=0;v<l.length-1;v++){var N=l[v];if(!(N in p))break e;p=p[N]}l=l[l.length-1],v=p[l],f=f(v),f!=v&&f!=null&&e(p,l,{configurable:!0,writable:!0,value:f})}}function s(l,f){l instanceof String&&(l+="");var p=0,v=!1,N={next:function(){if(!v&&p<l.length){var P=p++;return{value:f(P,l[P]),done:!1}}return v=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(l){return l||function(){return s(this,function(f,p){return p})}});var o=o||{},a=this||self;function c(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function u(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function d(l,f,p){return l.call.apply(l.bind,arguments)}function h(l,f,p){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,v),l.apply(f,N)}}return function(){return l.apply(f,arguments)}}function m(l,f,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,m.apply(null,arguments)}function y(l,f){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function _(l,f){function p(){}p.prototype=f.prototype,l.aa=f.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(v,N,P){for(var G=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)G[ze-2]=arguments[ze];return f.prototype[N].apply(v,G)}}function D(l){let f=l.length;if(0<f){let p=Array(f);for(let v=0;v<f;v++)p[v]=l[v];return p}return[]}function S(l,f){for(let p=1;p<arguments.length;p++){let v=arguments[p];if(c(v)){let N=l.length||0,P=v.length||0;l.length=N+P;for(let G=0;G<P;G++)l[N+G]=v[G]}else l.push(v)}}class O{constructor(f,p){this.i=f,this.j=p,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function H(l){return/^[\s\xa0]*$/.test(l)}function W(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function te(l){return te[" "](l),l}te[" "]=function(){};var Se=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function se(l,f,p){for(let v in l)f.call(p,l[v],v,l)}function T(l,f){for(let p in l)f.call(void 0,l[p],p,l)}function b(l){let f={};for(let p in l)f[p]=l[p];return f}let C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,f){let p,v;for(let N=1;N<arguments.length;N++){v=arguments[N];for(p in v)l[p]=v[p];for(let P=0;P<C.length;P++)p=C[P],Object.prototype.hasOwnProperty.call(v,p)&&(l[p]=v[p])}}function R(l){var f=1;l=l.split(":");let p=[];for(;0<f&&l.length;)p.push(l.shift()),f--;return l.length&&p.push(l.join(":")),p}function M(l){a.setTimeout(()=>{throw l},0)}function I(){var l=xy;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class ti{constructor(){this.h=this.g=null}add(f,p){let v=Jc.get();v.set(f,p),this.h?this.h.next=v:this.g=v,this.h=v}}var Jc=new O(()=>new DU,l=>l.reset());class DU{constructor(){this.next=this.g=this.h=null}set(f,p){this.h=f,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let el,tl=!1,xy=new ti,WS=()=>{let l=a.Promise.resolve(void 0);el=()=>{l.then(RU)}};var RU=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(p){M(p)}var f=Jc;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}tl=!1};function Ui(){this.s=this.s,this.C=this.C}Ui.prototype.s=!1,Ui.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ui.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Qt(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}Qt.prototype.h=function(){this.defaultPrevented=!0};var NU=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,f),a.removeEventListener("test",p,f)}catch{}return l}();function nl(l,f){if(Qt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Se){e:{try{te(f.nodeName);var N=!0;break e}catch{}N=!1}N||(f=null)}}else p=="mouseover"?f=l.fromElement:p=="mouseout"&&(f=l.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:MU[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&nl.aa.h.call(this)}}_(nl,Qt);var MU={2:"touch",3:"pen",4:"mouse"};nl.prototype.h=function(){nl.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var rl="closure_listenable_"+(1e6*Math.random()|0),PU=0;function kU(l,f,p,v,N){this.listener=l,this.proxy=null,this.src=f,this.type=p,this.capture=!!v,this.ha=N,this.key=++PU,this.da=this.fa=!1}function Rd(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Nd(l){this.src=l,this.g={},this.h=0}Nd.prototype.add=function(l,f,p,v,N){var P=l.toString();l=this.g[P],l||(l=this.g[P]=[],this.h++);var G=Ty(l,f,v,N);return-1<G?(f=l[G],p||(f.fa=!1)):(f=new kU(f,this.src,P,!!v,N),f.fa=p,l.push(f)),f};function Ay(l,f){var p=f.type;if(p in l.g){var v=l.g[p],N=Array.prototype.indexOf.call(v,f,void 0),P;(P=0<=N)&&Array.prototype.splice.call(v,N,1),P&&(Rd(f),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Ty(l,f,p,v){for(var N=0;N<l.length;++N){var P=l[N];if(!P.da&&P.listener==f&&P.capture==!!p&&P.ha==v)return N}return-1}var Dy="closure_lm_"+(1e6*Math.random()|0),Ry={};function KS(l,f,p,v,N){if(v&&v.once)return YS(l,f,p,v,N);if(Array.isArray(f)){for(var P=0;P<f.length;P++)KS(l,f[P],p,v,N);return null}return p=ky(p),l&&l[rl]?l.K(f,p,u(v)?!!v.capture:!!v,N):QS(l,f,p,!1,v,N)}function QS(l,f,p,v,N,P){if(!f)throw Error("Invalid event type");var G=u(N)?!!N.capture:!!N,ze=My(l);if(ze||(l[Dy]=ze=new Nd(l)),p=ze.add(f,p,v,G,P),p.proxy)return p;if(v=OU(),p.proxy=v,v.src=l,v.listener=p,l.addEventListener)NU||(N=G),N===void 0&&(N=!1),l.addEventListener(f.toString(),v,N);else if(l.attachEvent)l.attachEvent(XS(f.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function OU(){function l(p){return f.call(l.src,l.listener,p)}let f=FU;return l}function YS(l,f,p,v,N){if(Array.isArray(f)){for(var P=0;P<f.length;P++)YS(l,f[P],p,v,N);return null}return p=ky(p),l&&l[rl]?l.L(f,p,u(v)?!!v.capture:!!v,N):QS(l,f,p,!0,v,N)}function ZS(l,f,p,v,N){if(Array.isArray(f))for(var P=0;P<f.length;P++)ZS(l,f[P],p,v,N);else v=u(v)?!!v.capture:!!v,p=ky(p),l&&l[rl]?(l=l.i,f=String(f).toString(),f in l.g&&(P=l.g[f],p=Ty(P,p,v,N),-1<p&&(Rd(P[p]),Array.prototype.splice.call(P,p,1),P.length==0&&(delete l.g[f],l.h--)))):l&&(l=My(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Ty(f,p,v,N)),(p=-1<l?f[l]:null)&&Ny(p))}function Ny(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[rl])Ay(f.i,l);else{var p=l.type,v=l.proxy;f.removeEventListener?f.removeEventListener(p,v,l.capture):f.detachEvent?f.detachEvent(XS(p),v):f.addListener&&f.removeListener&&f.removeListener(v),(p=My(f))?(Ay(p,l),p.h==0&&(p.src=null,f[Dy]=null)):Rd(l)}}}function XS(l){return l in Ry?Ry[l]:Ry[l]="on"+l}function FU(l,f){if(l.da)l=!0;else{f=new nl(f,this);var p=l.listener,v=l.ha||l.src;l.fa&&Ny(l),l=p.call(v,f)}return l}function My(l){return l=l[Dy],l instanceof Nd?l:null}var Py="__closure_events_fn_"+(1e9*Math.random()>>>0);function ky(l){return typeof l=="function"?l:(l[Py]||(l[Py]=function(f){return l.handleEvent(f)}),l[Py])}function Yt(){Ui.call(this),this.i=new Nd(this),this.M=this,this.F=null}_(Yt,Ui),Yt.prototype[rl]=!0,Yt.prototype.removeEventListener=function(l,f,p,v){ZS(this,l,f,p,v)};function cn(l,f){var p,v=l.F;if(v)for(p=[];v;v=v.F)p.push(v);if(l=l.M,v=f.type||f,typeof f=="string")f=new Qt(f,l);else if(f instanceof Qt)f.target=f.target||l;else{var N=f;f=new Qt(v,l),x(f,N)}if(N=!0,p)for(var P=p.length-1;0<=P;P--){var G=f.g=p[P];N=Md(G,v,!0,f)&&N}if(G=f.g=l,N=Md(G,v,!0,f)&&N,N=Md(G,v,!1,f)&&N,p)for(P=0;P<p.length;P++)G=f.g=p[P],N=Md(G,v,!1,f)&&N}Yt.prototype.N=function(){if(Yt.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var p=l.g[f],v=0;v<p.length;v++)Rd(p[v]);delete l.g[f],l.h--}}this.F=null},Yt.prototype.K=function(l,f,p,v){return this.i.add(String(l),f,!1,p,v)},Yt.prototype.L=function(l,f,p,v){return this.i.add(String(l),f,!0,p,v)};function Md(l,f,p,v){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var N=!0,P=0;P<f.length;++P){var G=f[P];if(G&&!G.da&&G.capture==p){var ze=G.listener,qt=G.ha||G.src;G.fa&&Ay(l.i,G),N=ze.call(qt,v)!==!1&&N}}return N&&!v.defaultPrevented}function JS(l,f,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function ex(l){l.g=JS(()=>{l.g=null,l.i&&(l.i=!1,ex(l))},l.l);let f=l.h;l.h=null,l.m.apply(null,f)}class LU extends Ui{constructor(f,p){super(),this.m=f,this.l=p,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ex(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function il(l){Ui.call(this),this.h=l,this.g={}}_(il,Ui);var tx=[];function nx(l){se(l.g,function(f,p){this.g.hasOwnProperty(p)&&Ny(f)},l),l.g={}}il.prototype.N=function(){il.aa.N.call(this),nx(this)},il.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oy=a.JSON.stringify,VU=a.JSON.parse,BU=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Fy(){}Fy.prototype.h=null;function rx(l){return l.h||(l.h=l.i())}function ix(){}var sl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ly(){Qt.call(this,"d")}_(Ly,Qt);function Vy(){Qt.call(this,"c")}_(Vy,Qt);var Bs={},sx=null;function Pd(){return sx=sx||new Yt}Bs.La="serverreachability";function ox(l){Qt.call(this,Bs.La,l)}_(ox,Qt);function ol(l){let f=Pd();cn(f,new ox(f))}Bs.STAT_EVENT="statevent";function ax(l,f){Qt.call(this,Bs.STAT_EVENT,l),this.stat=f}_(ax,Qt);function ln(l){let f=Pd();cn(f,new ax(f,l))}Bs.Ma="timingevent";function cx(l,f){Qt.call(this,Bs.Ma,l),this.size=f}_(cx,Qt);function al(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function cl(){this.g=!0}cl.prototype.xa=function(){this.g=!1};function UU(l,f,p,v,N,P){l.info(function(){if(l.g)if(P)for(var G="",ze=P.split("&"),qt=0;qt<ze.length;qt++){var Be=ze[qt].split("=");if(1<Be.length){var Zt=Be[0];Be=Be[1];var Xt=Zt.split("_");G=2<=Xt.length&&Xt[1]=="type"?G+(Zt+"="+Be+"&"):G+(Zt+"=redacted&")}}else G=null;else G=P;return"XMLHTTP REQ ("+v+") [attempt "+N+"]: "+f+`
`+p+`
`+G})}function jU(l,f,p,v,N,P,G){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+N+"]: "+f+`
`+p+`
`+P+" "+G})}function ea(l,f,p,v){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+HU(l,p)+(v?" "+v:"")})}function $U(l,f){l.info(function(){return"TIMEOUT: "+f})}cl.prototype.info=function(){};function HU(l,f){if(!l.g)return f;if(!f)return null;try{var p=JSON.parse(f);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var v=p[l];if(!(2>v.length)){var N=v[1];if(Array.isArray(N)&&!(1>N.length)){var P=N[0];if(P!="noop"&&P!="stop"&&P!="close")for(var G=1;G<N.length;G++)N[G]=""}}}}return Oy(p)}catch{return f}}var kd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},By;function Od(){}_(Od,Fy),Od.prototype.g=function(){return new XMLHttpRequest},Od.prototype.i=function(){return{}},By=new Od;function ji(l,f,p,v){this.j=l,this.i=f,this.l=p,this.R=v||1,this.U=new il(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ux}function ux(){this.i=null,this.g="",this.h=!1}var dx={},Uy={};function jy(l,f,p){l.L=1,l.v=Bd(ni(f)),l.m=p,l.P=!0,fx(l,null)}function fx(l,f){l.F=Date.now(),Fd(l),l.A=ni(l.v);var p=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),xx(p.i,"t",v),l.C=0,p=l.j.J,l.h=new ux,l.g=qx(l.j,p?f:null,!l.m),0<l.O&&(l.M=new LU(m(l.Y,l,l.g),l.O)),f=l.U,p=l.g,v=l.ca;var N="readystatechange";Array.isArray(N)||(N&&(tx[0]=N.toString()),N=tx);for(var P=0;P<N.length;P++){var G=KS(p,N[P],v||f.handleEvent,!1,f.h||f);if(!G)break;f.g[G.key]=G}f=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),ol(),UU(l.i,l.u,l.A,l.l,l.R,l.m)}ji.prototype.ca=function(l){l=l.target;let f=this.M;f&&ri(l)==3?f.j():this.Y(l)},ji.prototype.Y=function(l){try{if(l==this.g)e:{let Xt=ri(this.g);var f=this.g.Ba();let ra=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||Px(this.g)))){this.J||Xt!=4||f==7||(f==8||0>=ra?ol(3):ol(2)),$y(this);var p=this.g.Z();this.X=p;t:if(hx(this)){var v=Px(this.g);l="";var N=v.length,P=ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Us(this),ll(this);var G="";break t}this.h.i=new a.TextDecoder}for(f=0;f<N;f++)this.h.h=!0,l+=this.h.i.decode(v[f],{stream:!(P&&f==N-1)});v.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=p==200,jU(this.i,this.u,this.A,this.l,this.R,Xt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,qt=this.g;if((ze=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(ze)){var Be=ze;break t}}Be=null}if(p=Be)ea(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hy(this,p);else{this.o=!1,this.s=3,ln(12),Us(this),ll(this);break e}}if(this.P){p=!0;let ir;for(;!this.J&&this.C<G.length;)if(ir=qU(this,G),ir==Uy){Xt==4&&(this.s=4,ln(14),p=!1),ea(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==dx){this.s=4,ln(15),ea(this.i,this.l,G,"[Invalid Chunk]"),p=!1;break}else ea(this.i,this.l,ir,null),Hy(this,ir);if(hx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||G.length!=0||this.h.h||(this.s=1,ln(16),p=!1),this.o=this.o&&p,!p)ea(this.i,this.l,G,"[Invalid Chunked Response]"),Us(this),ll(this);else if(0<G.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Qy(Zt),Zt.M=!0,ln(11))}}else ea(this.i,this.l,G,null),Hy(this,G);Xt==4&&Us(this),this.o&&!this.J&&(Xt==4?Ux(this.j,this):(this.o=!1,Fd(this)))}else a3(this.g),p==400&&0<G.indexOf("Unknown SID")?(this.s=3,ln(12)):(this.s=0,ln(13)),Us(this),ll(this)}}}catch{}finally{}};function hx(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function qU(l,f){var p=l.C,v=f.indexOf(`
`,p);return v==-1?Uy:(p=Number(f.substring(p,v)),isNaN(p)?dx:(v+=1,v+p>f.length?Uy:(f=f.slice(v,v+p),l.C=v+p,f)))}ji.prototype.cancel=function(){this.J=!0,Us(this)};function Fd(l){l.S=Date.now()+l.I,px(l,l.I)}function px(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=al(m(l.ba,l),f)}function $y(l){l.B&&(a.clearTimeout(l.B),l.B=null)}ji.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?($U(this.i,this.A),this.L!=2&&(ol(),ln(17)),Us(this),this.s=2,ll(this)):px(this,this.S-l)};function ll(l){l.j.G==0||l.J||Ux(l.j,l)}function Us(l){$y(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,nx(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Hy(l,f){try{var p=l.j;if(p.G!=0&&(p.g==l||qy(p.h,l))){if(!l.K&&qy(p.h,l)&&p.G==3){try{var v=p.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var N=v;if(N[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)qd(p),$d(p);else break e;Ky(p),ln(18)}}else p.za=N[1],0<p.za-p.T&&37500>N[2]&&p.F&&p.v==0&&!p.C&&(p.C=al(m(p.Za,p),6e3));if(1>=yx(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else $s(p,11)}else if((l.K||p.g==l)&&qd(p),!H(f))for(N=p.Da.g.parse(f),f=0;f<N.length;f++){let Be=N[f];if(p.T=Be[0],Be=Be[1],p.G==2)if(Be[0]=="c"){p.K=Be[1],p.ia=Be[2];let Zt=Be[3];Zt!=null&&(p.la=Zt,p.j.info("VER="+p.la));let Xt=Be[4];Xt!=null&&(p.Aa=Xt,p.j.info("SVER="+p.Aa));let ra=Be[5];ra!=null&&typeof ra=="number"&&0<ra&&(v=1.5*ra,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;let ir=l.g;if(ir){let Gd=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gd){var P=v.h;P.g||Gd.indexOf("spdy")==-1&&Gd.indexOf("quic")==-1&&Gd.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(zy(P,P.h),P.h=null))}if(v.D){let Yy=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Yy&&(v.ya=Yy,Xe(v.I,v.D,Yy))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var G=l;if(v.qa=Hx(v,v.J?v.ia:null,v.W),G.K){vx(v.h,G);var ze=G,qt=v.L;qt&&(ze.I=qt),ze.B&&($y(ze),Fd(ze)),v.g=G}else Vx(v);0<p.i.length&&Hd(p)}else Be[0]!="stop"&&Be[0]!="close"||$s(p,7);else p.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?$s(p,7):Wy(p):Be[0]!="noop"&&p.l&&p.l.ta(Be),p.v=0)}}ol(4)}catch{}}var zU=class{constructor(l,f){this.g=l,this.map=f}};function mx(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gx(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function yx(l){return l.h?1:l.g?l.g.size:0}function qy(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function zy(l,f){l.g?l.g.add(f):l.h=f}function vx(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}mx.prototype.cancel=function(){if(this.i=_x(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function _x(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(let p of l.g.values())f=f.concat(p.D);return f}return D(l.i)}function GU(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var f=[],p=l.length,v=0;v<p;v++)f.push(l[v]);return f}f=[],p=0;for(v in l)f[p++]=l[v];return f}function WU(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var f=[];l=l.length;for(var p=0;p<l;p++)f.push(p);return f}f=[],p=0;for(let v in l)f[p++]=v;return f}}}function Ex(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var p=WU(l),v=GU(l),N=v.length,P=0;P<N;P++)f.call(void 0,v[P],p&&p[P],l)}var wx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KU(l,f){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var v=l[p].indexOf("="),N=null;if(0<=v){var P=l[p].substring(0,v);N=l[p].substring(v+1)}else P=l[p];f(P,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function js(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof js){this.h=l.h,Ld(this,l.j),this.o=l.o,this.g=l.g,Vd(this,l.s),this.l=l.l;var f=l.i,p=new fl;p.i=f.i,f.g&&(p.g=new Map(f.g),p.h=f.h),bx(this,p),this.m=l.m}else l&&(f=String(l).match(wx))?(this.h=!1,Ld(this,f[1]||"",!0),this.o=ul(f[2]||""),this.g=ul(f[3]||"",!0),Vd(this,f[4]),this.l=ul(f[5]||"",!0),bx(this,f[6]||"",!0),this.m=ul(f[7]||"")):(this.h=!1,this.i=new fl(null,this.h))}js.prototype.toString=function(){var l=[],f=this.j;f&&l.push(dl(f,Cx,!0),":");var p=this.g;return(p||f=="file")&&(l.push("//"),(f=this.o)&&l.push(dl(f,Cx,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(dl(p,p.charAt(0)=="/"?ZU:YU,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",dl(p,JU)),l.join("")};function ni(l){return new js(l)}function Ld(l,f,p){l.j=p?ul(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Vd(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function bx(l,f,p){f instanceof fl?(l.i=f,e3(l.i,l.h)):(p||(f=dl(f,XU)),l.i=new fl(f,l.h))}function Xe(l,f,p){l.i.set(f,p)}function Bd(l){return Xe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ul(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function dl(l,f,p){return typeof l=="string"?(l=encodeURI(l).replace(f,QU),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function QU(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Cx=/[#\/\?@]/g,YU=/[#\?:]/g,ZU=/[#\?]/g,XU=/[#\?@]/g,JU=/#/g;function fl(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function $i(l){l.g||(l.g=new Map,l.h=0,l.i&&KU(l.i,function(f,p){l.add(decodeURIComponent(f.replace(/\+/g," ")),p)}))}t=fl.prototype,t.add=function(l,f){$i(this),this.i=null,l=ta(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(f),this.h+=1,this};function Ix(l,f){$i(l),f=ta(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Sx(l,f){return $i(l),f=ta(l,f),l.g.has(f)}t.forEach=function(l,f){$i(this),this.g.forEach(function(p,v){p.forEach(function(N){l.call(f,N,v,this)},this)},this)},t.na=function(){$i(this);let l=Array.from(this.g.values()),f=Array.from(this.g.keys()),p=[];for(let v=0;v<f.length;v++){let N=l[v];for(let P=0;P<N.length;P++)p.push(f[v])}return p},t.V=function(l){$i(this);let f=[];if(typeof l=="string")Sx(this,l)&&(f=f.concat(this.g.get(ta(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)f=f.concat(l[p])}return f},t.set=function(l,f){return $i(this),this.i=null,l=ta(this,l),Sx(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function xx(l,f,p){Ix(l,f),0<p.length&&(l.i=null,l.g.set(ta(l,f),D(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],f=Array.from(this.g.keys());for(var p=0;p<f.length;p++){var v=f[p];let P=encodeURIComponent(String(v)),G=this.V(v);for(v=0;v<G.length;v++){var N=P;G[v]!==""&&(N+="="+encodeURIComponent(String(G[v]))),l.push(N)}}return this.i=l.join("&")};function ta(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function e3(l,f){f&&!l.j&&($i(l),l.i=null,l.g.forEach(function(p,v){var N=v.toLowerCase();v!=N&&(Ix(this,v),xx(this,N,p))},l)),l.j=f}function t3(l,f){let p=new cl;if(a.Image){let v=new Image;v.onload=y(Hi,p,"TestLoadImage: loaded",!0,f,v),v.onerror=y(Hi,p,"TestLoadImage: error",!1,f,v),v.onabort=y(Hi,p,"TestLoadImage: abort",!1,f,v),v.ontimeout=y(Hi,p,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else f(!1)}function n3(l,f){let p=new cl,v=new AbortController,N=setTimeout(()=>{v.abort(),Hi(p,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:v.signal}).then(P=>{clearTimeout(N),P.ok?Hi(p,"TestPingServer: ok",!0,f):Hi(p,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(N),Hi(p,"TestPingServer: error",!1,f)})}function Hi(l,f,p,v,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),v(p)}catch{}}function r3(){this.g=new BU}function i3(l,f,p){let v=p||"";try{Ex(l,function(N,P){let G=N;u(N)&&(G=Oy(N)),f.push(v+P+"="+encodeURIComponent(G))})}catch(N){throw f.push(v+"type="+encodeURIComponent("_badmap")),N}}function hl(l){this.l=l.Ub||null,this.j=l.eb||!1}_(hl,Fy),hl.prototype.g=function(){return new Ud(this.l,this.j)},hl.prototype.i=function(l){return function(){return l}}({});function Ud(l,f){Yt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Ud,Yt),t=Ud.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,ml(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pl(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ml(this)),this.g&&(this.readyState=3,ml(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ax(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ax(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?pl(this):ml(this),this.readyState==3&&Ax(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,pl(this))},t.Qa=function(l){this.g&&(this.response=l,pl(this))},t.ga=function(){this.g&&pl(this)};function pl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ml(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],f=this.h.entries();for(var p=f.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=f.next();return l.join(`\r
`)};function ml(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ud.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Tx(l){let f="";return se(l,function(p,v){f+=v,f+=":",f+=p,f+=`\r
`}),f}function Gy(l,f,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=Tx(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Xe(l,f,p))}function ot(l){Yt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(ot,Yt);var s3=/^https?$/i,o3=["POST","PUT"];t=ot.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():By.g(),this.v=this.o?rx(this.o):rx(By),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(P){Dx(this,P);return}if(l=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var N in v)p.set(N,v[N]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let P of v.keys())p.set(P,v.get(P));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),N=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(o3,f,void 0))||v||N||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,G]of p)this.g.setRequestHeader(P,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mx(this),this.u=!0,this.g.send(l),this.u=!1}catch(P){Dx(this,P)}};function Dx(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Rx(l),jd(l)}function Rx(l){l.A||(l.A=!0,cn(l,"complete"),cn(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,cn(this,"complete"),cn(this,"abort"),jd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jd(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Nx(this):this.bb())},t.bb=function(){Nx(this)};function Nx(l){if(l.h&&typeof o<"u"&&(!l.v[1]||ri(l)!=4||l.Z()!=2)){if(l.u&&ri(l)==4)JS(l.Ea,0,l);else if(cn(l,"readystatechange"),ri(l)==4){l.h=!1;try{let G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var v;if(v=G===0){var N=String(l.D).match(wx)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),v=!s3.test(N?N.toLowerCase():"")}p=v}if(p)cn(l,"complete"),cn(l,"success");else{l.m=6;try{var P=2<ri(l)?l.g.statusText:""}catch{P=""}l.l=P+" ["+l.Z()+"]",Rx(l)}}finally{jd(l)}}}}function jd(l,f){if(l.g){Mx(l);let p=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||cn(l,"ready");try{p.onreadystatechange=v}catch{}}}function Mx(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function ri(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<ri(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),VU(f)}};function Px(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function a3(l){let f={};l=(l.g&&2<=ri(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(H(l[v]))continue;var p=R(l[v]);let N=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let P=f[N]||[];f[N]=P,P.push(p)}T(f,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gl(l,f,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||f}function kx(l){this.Aa=0,this.i=[],this.j=new cl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gl("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gl("baseRetryDelayMs",5e3,l),this.cb=gl("retryDelaySeedMs",1e4,l),this.Wa=gl("forwardChannelMaxRetries",2,l),this.wa=gl("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new mx(l&&l.concurrentRequestLimit),this.Da=new r3,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=kx.prototype,t.la=8,t.G=1,t.connect=function(l,f,p,v){ln(0),this.W=l,this.H=f||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=Hx(this,null,this.W),Hd(this)};function Wy(l){if(Ox(l),l.G==3){var f=l.U++,p=ni(l.I);if(Xe(p,"SID",l.K),Xe(p,"RID",f),Xe(p,"TYPE","terminate"),yl(l,p),f=new ji(l,l.j,f),f.L=2,f.v=Bd(ni(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=f.v,p=!0),p||(f.g=qx(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Fd(f)}$x(l)}function $d(l){l.g&&(Qy(l),l.g.cancel(),l.g=null)}function Ox(l){$d(l),l.u&&(a.clearTimeout(l.u),l.u=null),qd(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Hd(l){if(!gx(l.h)&&!l.s){l.s=!0;var f=l.Ga;el||WS(),tl||(el(),tl=!0),xy.add(f,l),l.B=0}}function c3(l,f){return yx(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=al(m(l.Ga,l,f),jx(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let N=new ji(this,this.j,l),P=this.o;if(this.S&&(P?(P=b(P),x(P,this.S)):P=this.S),this.m!==null||this.O||(N.H=P,P=null),this.P)e:{for(var f=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=p;break e}if(f===4096||p===this.i.length-1){f=p+1;break e}}f=1e3}else f=1e3;f=Lx(this,N,f),p=ni(this.I),Xe(p,"RID",l),Xe(p,"CVER",22),this.D&&Xe(p,"X-HTTP-Session-Id",this.D),yl(this,p),P&&(this.O?f="headers="+encodeURIComponent(String(Tx(P)))+"&"+f:this.m&&Gy(p,this.m,P)),zy(this.h,N),this.Ua&&Xe(p,"TYPE","init"),this.P?(Xe(p,"$req",f),Xe(p,"SID","null"),N.T=!0,jy(N,p,null)):jy(N,p,f),this.G=2}}else this.G==3&&(l?Fx(this,l):this.i.length==0||gx(this.h)||Fx(this))};function Fx(l,f){var p;f?p=f.l:p=l.U++;let v=ni(l.I);Xe(v,"SID",l.K),Xe(v,"RID",p),Xe(v,"AID",l.T),yl(l,v),l.m&&l.o&&Gy(v,l.m,l.o),p=new ji(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Lx(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),zy(l.h,p),jy(p,v,f)}function yl(l,f){l.H&&se(l.H,function(p,v){Xe(f,v,p)}),l.l&&Ex({},function(p,v){Xe(f,v,p)})}function Lx(l,f,p){p=Math.min(l.i.length,p);var v=l.l?m(l.l.Na,l.l,l):null;e:{var N=l.i;let P=-1;for(;;){let G=["count="+p];P==-1?0<p?(P=N[0].g,G.push("ofs="+P)):P=0:G.push("ofs="+P);let ze=!0;for(let qt=0;qt<p;qt++){let Be=N[qt].g,Zt=N[qt].map;if(Be-=P,0>Be)P=Math.max(0,N[qt].g-100),ze=!1;else try{i3(Zt,G,"req"+Be+"_")}catch{v&&v(Zt)}}if(ze){v=G.join("&");break e}}}return l=l.i.splice(0,p),f.D=l,v}function Vx(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;el||WS(),tl||(el(),tl=!0),xy.add(f,l),l.v=0}}function Ky(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=al(m(l.Fa,l),jx(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Bx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=al(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ln(10),$d(this),Bx(this))};function Qy(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Bx(l){l.g=new ji(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=ni(l.qa);Xe(f,"RID","rpc"),Xe(f,"SID",l.K),Xe(f,"AID",l.T),Xe(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Xe(f,"TO",l.ja),Xe(f,"TYPE","xmlhttp"),yl(l,f),l.m&&l.o&&Gy(f,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=Bd(ni(f)),p.m=null,p.P=!0,fx(p,l)}t.Za=function(){this.C!=null&&(this.C=null,$d(this),Ky(this),ln(19))};function qd(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Ux(l,f){var p=null;if(l.g==f){qd(l),Qy(l),l.g=null;var v=2}else if(qy(l.h,f))p=f.D,vx(l.h,f),v=1;else return;if(l.G!=0){if(f.o)if(v==1){p=f.m?f.m.length:0,f=Date.now()-f.F;var N=l.B;v=Pd(),cn(v,new cx(v,p)),Hd(l)}else Vx(l);else if(N=f.s,N==3||N==0&&0<f.X||!(v==1&&c3(l,f)||v==2&&Ky(l)))switch(p&&0<p.length&&(f=l.h,f.i=f.i.concat(p)),N){case 1:$s(l,5);break;case 4:$s(l,10);break;case 3:$s(l,6);break;default:$s(l,2)}}}function jx(l,f){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*f}function $s(l,f){if(l.j.info("Error code "+f),f==2){var p=m(l.fb,l),v=l.Xa;let N=!v;v=new js(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ld(v,"https"),Bd(v),N?t3(v.toString(),p):n3(v.toString(),p)}else ln(2);l.G=0,l.l&&l.l.sa(f),$x(l),Ox(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ln(2)):(this.j.info("Failed to ping google.com"),ln(1))};function $x(l){if(l.G=0,l.ka=[],l.l){let f=_x(l.h);(f.length!=0||l.i.length!=0)&&(S(l.ka,f),S(l.ka,l.i),l.h.i.length=0,D(l.i),l.i.length=0),l.l.ra()}}function Hx(l,f,p){var v=p instanceof js?ni(p):new js(p);if(v.g!="")f&&(v.g=f+"."+v.g),Vd(v,v.s);else{var N=a.location;v=N.protocol,f=f?f+"."+N.hostname:N.hostname,N=+N.port;var P=new js(null);v&&Ld(P,v),f&&(P.g=f),N&&Vd(P,N),p&&(P.l=p),v=P}return p=l.D,f=l.ya,p&&f&&Xe(v,p,f),Xe(v,"VER",l.la),yl(l,v),v}function qx(l,f,p){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new ot(new hl({eb:p})):new ot(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zx(){}t=zx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zd(){}zd.prototype.g=function(l,f){return new Tn(l,f)};function Tn(l,f){Yt.call(this),this.g=new kx(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!H(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!H(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new na(this)}_(Tn,Yt),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Wy(this.g)},Tn.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=Oy(l),l=p);f.i.push(new zU(f.Ya++,l)),f.G==3&&Hd(f)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Wy(this.g),delete this.g,Tn.aa.N.call(this)};function Gx(l){Ly.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(let p in f){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}_(Gx,Ly);function Wx(){Vy.call(this),this.status=1}_(Wx,Vy);function na(l){this.g=l}_(na,zx),na.prototype.ua=function(){cn(this.g,"a")},na.prototype.ta=function(l){cn(this.g,new Gx(l))},na.prototype.sa=function(l){cn(this.g,new Wx)},na.prototype.ra=function(){cn(this.g,"b")},zd.prototype.createWebChannel=zd.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,O0=Di.createWebChannelTransport=function(){return new zd},k0=Di.getStatEventTarget=function(){return Pd()},P0=Di.Event=Bs,$p=Di.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kd.NO_ERROR=0,kd.TIMEOUT=8,kd.HTTP_ERROR=6,Pu=Di.ErrorCode=kd,lx.COMPLETE="complete",M0=Di.EventType=lx,ix.EventType=sl,sl.OPEN="a",sl.CLOSE="b",sl.ERROR="c",sl.MESSAGE="d",Yt.prototype.listen=Yt.prototype.K,fc=Di.WebChannel=ix,ZW=Di.FetchXmlHttpFactory=hl,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,N0=Di.XhrIo=ot}).apply(typeof jp<"u"?jp:typeof self<"u"?self:typeof window<"u"?window:{});var JP="@firebase/firestore";var Vt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");var Nc="10.14.0";var Ro=new fs("@firebase/firestore");function ku(){return Ro.logLevel}function ne(t,...e){if(Ro.logLevel<=Me.DEBUG){let n=e.map(vC);Ro.debug(`Firestore (${Nc}): ${t}`,...n)}}function Ni(t,...e){if(Ro.logLevel<=Me.ERROR){let n=e.map(vC);Ro.error(`Firestore (${Nc}): ${t}`,...n)}}function _c(t,...e){if(Ro.logLevel<=Me.WARN){let n=e.map(vC);Ro.warn(`Firestore (${Nc}): ${t}`,...n)}}function vC(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function he(t="Unexpected state"){let e=`FIRESTORE (${Nc}) INTERNAL ASSERTION FAILED: `+t;throw Ni(e),new Error(e)}function He(t,e){t||he()}function me(t,e){return t}var U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},J=class extends kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Hr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Wp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},U0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}},j0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},$0=class{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>g(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new Wp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Vt(e)}},H0=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},q0=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new H0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},z0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},G0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){He(this.o===void 0);let r=s=>{s.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new z0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function XW(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Kp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=XW(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Ue(t,e){return t<e?-1:t>e?1:0}function Ec(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Rt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var _e=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Rt(0,0))}static max(){return new t(new Rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Qp=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},st=class t extends Qp{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new J(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},JW=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fn=class t extends Qp{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return JW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new J(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var le=class t{constructor(e){this.path=e}static fromPath(e){return new t(st.fromString(e))}static fromName(e){return new t(st.fromString(e).popFirst(5))}static empty(){return new t(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new st(e.slice()))}};var W0=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};W0.UNKNOWN_ID=-1;function eK(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new No(i,le.empty(),e)}function tK(t){return new No(t.readTime,t.key,-1)}var No=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(_e.min(),le.empty(),-1)}static max(){return new t(_e.max(),le.empty(),-1)}};function nK(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}var rK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",K0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ju(t){return g(this,null,function*(){if(t.code!==U.FAILED_PRECONDITION||t.message!==rK)throw t;ne("LocalStore","Unexpectedly lost primary lease")})}var z=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function iK(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ed(t){return t.name==="IndexedDbTransactionError"}var kk=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Tm(t){return t==null}function Uu(t){return t===0&&1/t==-1/0}function sK(t){return typeof t=="number"&&Number.isInteger(t)&&!Uu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var oK=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Rue=[...oK,"documentOverlays"],aK=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cK=aK,lK=[...cK,"indexConfiguration","indexState","indexEntries"];var Nue=[...lK,"globals"];function ek(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ok(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var lt=class t{constructor(e,n){this.comparator=e,this.root=n||qr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gc(this.root,e,this.comparator,!0)}},gc=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},qr=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();let e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}};qr.EMPTY=null,qr.RED=!0,qr.BLACK=!1;qr.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,i,s){return this}insert(e,n,r){return new qr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var en=class t{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yp(this.data.getIterator())}getIteratorFrom(e){return new Yp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Yp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Jn=class t{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new t([])}unionWith(e){let n=new en(Fn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ec(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Zp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var tn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Zp("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};tn.EMPTY_BYTE_STRING=new tn("");var uK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(t){if(He(!!t),typeof t=="string"){let e=0,n=uK.exec(t);if(He(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ws(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}function _C(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function EC(t){let e=t.mapValue.fields.__previous_value__;return _C(e)?EC(e):e}function ju(t){let e=Mi(t.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}var Q0=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Xp=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Hp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_C(t)?4:Lk(t)?9007199254740991:Fk(t)?10:11:he()}function Wr(t,e){if(t===e)return!0;let n=Mo(t);if(n!==Mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ju(t).isEqual(ju(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Mi(i.timestampValue),a=Mi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ws(i.bytesValue).isEqual(ws(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return rt(i.geoPointValue.latitude)===rt(s.geoPointValue.latitude)&&rt(i.geoPointValue.longitude)===rt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return rt(i.integerValue)===rt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=rt(i.doubleValue),a=rt(s.doubleValue);return o===a?Uu(o)===Uu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ec(t.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ek(o)!==ek(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Wr(o[c],a[c])))return!1;return!0}(t,e);default:return he()}}function $u(t,e){return(t.values||[]).find(n=>Wr(n,e))!==void 0}function wc(t,e){if(t===e)return 0;let n=Mo(t),r=Mo(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=rt(s.integerValue||s.doubleValue),c=rt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return tk(t.timestampValue,e.timestampValue);case 4:return tk(ju(t),ju(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(s,o){let a=ws(s),c=ws(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=Ue(a[u],c[u]);if(d!==0)return d}return Ue(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Ue(rt(s.latitude),rt(o.latitude));return a!==0?a:Ue(rt(s.longitude),rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nk(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,u,d;let h=s.fields||{},m=o.fields||{},y=(a=h.value)===null||a===void 0?void 0:a.arrayValue,_=(c=m.value)===null||c===void 0?void 0:c.arrayValue,D=Ue(((u=y?.values)===null||u===void 0?void 0:u.length)||0,((d=_?.values)===null||d===void 0?void 0:d.length)||0);return D!==0?D:nk(y,_)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Hp.mapValue&&o===Hp.mapValue)return 0;if(s===Hp.mapValue)return 1;if(o===Hp.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){let m=Ue(c[h],d[h]);if(m!==0)return m;let y=wc(a[c[h]],u[d[h]]);if(y!==0)return y}return Ue(c.length,d.length)}(t.mapValue,e.mapValue);default:throw he()}}function tk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);let n=Mi(t),r=Mi(e),i=Ue(n.seconds,r.seconds);return i!==0?i:Ue(n.nanos,r.nanos)}function nk(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=wc(n[i],r[i]);if(s)return s}return Ue(n.length,r.length)}function bc(t){return Y0(t)}function Y0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Mi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ws(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Y0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Y0(n.fields[o])}`;return i+"}"}(t.mapValue):he()}function rk(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Z0(t){return!!t&&"integerValue"in t}function wC(t){return!!t&&"arrayValue"in t}function ik(t){return!!t&&"nullValue"in t}function sk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zp(t){return!!t&&"mapValue"in t}function Fk(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Fu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Lo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Lk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var On=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fu(n)}setAll(e){let n=Fn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Fu(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());zp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Lo(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Fu(this.value))}};function Vk(t){let e=[];return Lo(t.fields,(n,r)=>{let i=new Fn([n]);if(zp(r)){let s=Vk(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Jn(e)}var mr=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,_e.min(),_e.min(),_e.min(),On.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,_e.min(),_e.min(),On.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,_e.min(),_e.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Cc=class{constructor(e,n){this.position=e,this.inclusive=n}};function ok(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=wc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ak(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wr(t.position[n],e.position[n]))return!1;return!0}var Po=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function dK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Jp=class{},Et=class t extends Jp{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new J0(e,n,r):n==="array-contains"?new nb(e,r):n==="in"?new rb(e,r):n==="not-in"?new ib(e,r):n==="array-contains-any"?new sb(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eb(e,r):new tb(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wc(n,this.value)):n!==null&&Mo(this.value)===Mo(n)&&this.matchesComparison(wc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},gr=class t extends Jp{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Bk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Bk(t){return t.op==="and"}function Uk(t){return fK(t)&&Bk(t)}function fK(t){for(let e of t.filters)if(e instanceof gr)return!1;return!0}function X0(t){if(t instanceof Et)return t.field.canonicalString()+t.op.toString()+bc(t.value);if(Uk(t))return t.filters.map(e=>X0(e)).join(",");{let e=t.filters.map(n=>X0(n)).join(",");return`${t.op}(${e})`}}function jk(t,e){return t instanceof Et?function(r,i){return i instanceof Et&&r.op===i.op&&r.field.isEqual(i.field)&&Wr(r.value,i.value)}(t,e):t instanceof gr?function(r,i){return i instanceof gr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&jk(o,i.filters[a]),!0):!1}(t,e):void he()}function $k(t){return t instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${bc(n.value)}`}(t):t instanceof gr?function(n){return n.op.toString()+" {"+n.getFilters().map($k).join(" ,")+"}"}(t):"Filter"}var J0=class extends Et{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){let n=le.comparator(e.key,this.key);return this.matchesComparison(n)}},eb=class extends Et{constructor(e,n){super(e,"in",n),this.keys=Hk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},tb=class extends Et{constructor(e,n){super(e,"not-in",n),this.keys=Hk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Hk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}var nb=class extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return wC(n)&&$u(n.arrayValue,this.value)}},rb=class extends Et{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&$u(this.value.arrayValue,n)}},ib=class extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!$u(this.value.arrayValue,n)}},sb=class extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!wC(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$u(this.value.arrayValue,r))}};var ob=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function ck(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ob(t,e,n,r,i,s,o)}function bC(t){let e=me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>X0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Tm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bc(r)).join(",")),e.ue=n}return e.ue}function CC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ak(t.startAt,e.startAt)&&ak(t.endAt,e.endAt)}function ab(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var bs=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function hK(t,e,n,r,i,s,o,a){return new bs(t,e,n,r,i,s,o,a)}function IC(t){return new bs(t)}function lk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qk(t){return t.collectionGroup!==null}function Lu(t){let e=me(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new en(Fn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Po(s,r))}),n.has(Fn.keyField().canonicalString())||e.ce.push(new Po(Fn.keyField(),r))}return e.ce}function zr(t){let e=me(t);return e.le||(e.le=pK(e,Lu(t))),e.le}function pK(t,e){if(t.limitType==="F")return ck(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Po(i.field,s)});let n=t.endAt?new Cc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cc(t.startAt.position,t.startAt.inclusive):null;return ck(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cb(t,e){let n=t.filters.concat([e]);return new bs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lb(t,e,n){return new bs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dm(t,e){return CC(zr(t),zr(e))&&t.limitType===e.limitType}function zk(t){return`${bC(zr(t))}|lt:${t.limitType}`}function hc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$k(i)).join(", ")}]`),Tm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>bc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>bc(i)).join(",")),`Target(${r})`}(zr(t))}; limitType=${t.limitType})`}function Rm(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):le.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Lu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=ok(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Lu(r),i)||r.endAt&&!function(o,a,c){let u=ok(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Lu(r),i))}(t,e)}function mK(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Gk(t){return(e,n)=>{let r=!1;for(let i of Lu(t)){let s=gK(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function gK(t,e,n){let r=t.field.isKeyField()?le.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?wc(c,u):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}var Cs=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Lo(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Ok(this.inner)}size(){return this.innerSize}};var yK=new lt(le.comparator);function Pi(){return yK}var Wk=new lt(le.comparator);function Ou(...t){let e=Wk;for(let n of t)e=e.insert(n.key,n);return e}function Kk(t){let e=Wk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ao(){return Vu()}function Qk(){return Vu()}function Vu(){return new Cs(t=>t.toString(),(t,e)=>t.isEqual(e))}var vK=new lt(le.comparator),_K=new en(le.comparator);function Pe(...t){let e=_K;for(let n of t)e=e.add(n);return e}var EK=new en(Ue);function wK(){return EK}function SC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uu(e)?"-0":e}}function Yk(t){return{integerValue:""+t}}function bK(t,e){return sK(e)?Yk(e):SC(t,e)}var Ic=class{constructor(){this._=void 0}};function CK(t,e,n){return t instanceof Sc?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_C(s)&&(s=EC(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ko?Xk(t,e):t instanceof Oo?Jk(t,e):function(i,s){let o=Zk(i,s),a=uk(o)+uk(i.Pe);return Z0(o)&&Z0(i.Pe)?Yk(a):SC(i.serializer,a)}(t,e)}function IK(t,e,n){return t instanceof ko?Xk(t,e):t instanceof Oo?Jk(t,e):n}function Zk(t,e){return t instanceof xc?function(r){return Z0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Sc=class extends Ic{},ko=class extends Ic{constructor(e){super(),this.elements=e}};function Xk(t,e){let n=eO(e);for(let r of t.elements)n.some(i=>Wr(i,r))||n.push(r);return{arrayValue:{values:n}}}var Oo=class extends Ic{constructor(e){super(),this.elements=e}};function Jk(t,e){let n=eO(e);for(let r of t.elements)n=n.filter(i=>!Wr(i,r));return{arrayValue:{values:n}}}var xc=class extends Ic{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function uk(t){return rt(t.integerValue||t.doubleValue)}function eO(t){return wC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function SK(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ko&&i instanceof ko||r instanceof Oo&&i instanceof Oo?Ec(r.elements,i.elements,Wr):r instanceof xc&&i instanceof xc?Wr(r.Pe,i.Pe):r instanceof Sc&&i instanceof Sc}(t.transform,e.transform)}var ub=class{constructor(e,n){this.version=e,this.transformResults=n}},_s=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Gp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ac=class{};function tO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new em(t.key,_s.none()):new Fo(t.key,t.data,_s.none());{let n=t.data,r=On.empty(),i=new en(Fn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Kr(t.key,r,new Jn(i.toArray()),_s.none())}}function xK(t,e,n){t instanceof Fo?function(i,s,o){let a=i.value.clone(),c=fk(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Kr?function(i,s,o){if(!Gp(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=fk(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(nO(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Bu(t,e,n,r){return t instanceof Fo?function(s,o,a,c){if(!Gp(s.precondition,o))return a;let u=s.value.clone(),d=hk(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Kr?function(s,o,a,c){if(!Gp(s.precondition,o))return a;let u=hk(s.fieldTransforms,c,o),d=o.data;return d.setAll(nO(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Gp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function AK(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=Zk(r.transform,i||null);s!=null&&(n===null&&(n=On.empty()),n.set(r.field,s))}return n||null}function dk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ec(r,i,(s,o)=>SK(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Fo=class extends Ac{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Kr=class extends Ac{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function nO(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function fk(t,e,n){let r=new Map;He(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,IK(o,a,n[i]))}return r}function hk(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,CK(s,o,e))}return r}var em=class extends Ac{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},db=class extends Ac{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var fb=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&xK(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Bu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Qk();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=tO(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Ec(this.mutations,e.mutations,(n,r)=>dk(n,r))&&Ec(this.baseMutations,e.baseMutations,(n,r)=>dk(n,r))}},hb=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length);let i=function(){return vK}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var pb=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var mb=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var vt,Le;function TK(t){switch(t){default:return he();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function rO(t){if(t===void 0)return Ni("GRPC error has no .code"),U.UNKNOWN;switch(t){case vt.OK:return U.OK;case vt.CANCELLED:return U.CANCELLED;case vt.UNKNOWN:return U.UNKNOWN;case vt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case vt.INTERNAL:return U.INTERNAL;case vt.UNAVAILABLE:return U.UNAVAILABLE;case vt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case vt.NOT_FOUND:return U.NOT_FOUND;case vt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case vt.ABORTED:return U.ABORTED;case vt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case vt.DATA_LOSS:return U.DATA_LOSS;default:return he()}}(Le=vt||(vt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";var pk=null;function DK(){return new TextEncoder}var RK=new vs([4294967295,4294967295],0);function mk(t){let e=DK().encode(t),n=new R0;return n.update(e),new Uint8Array(n.digest())}function gk(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new vs([n,r],0),new vs([i,s],0)]}var gb=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new To(`Invalid padding: ${n}`);if(r<0)throw new To(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new To(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new To(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=vs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(vs.fromNumber(r)));return i.compare(RK)===1&&(i=new vs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=mk(e),[r,i]=gk(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=mk(e),[r,i]=gk(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},To=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var tm=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(_e.min(),i,new lt(Ue),Pi(),Pe())}},Hu=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Pe(),Pe(),Pe())}};var yc=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},nm=class{constructor(e,n){this.targetId=e,this.me=n}},rm=class{constructor(e,n,r=tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},im=class{constructor(){this.fe=0,this.ge=vk(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pe(),n=Pe(),r=Pe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new Hu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=vk()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,He(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},yb=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pi(),this.qe=yk(),this.Qe=new lt(Ue)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(ab(s))if(r===0){let o=new le(s.path);this.Ue(n,o,mr.newNoDocument(o,_e.min()))}else He(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}pk?.et(function(d,h,m,y,_){var D,S,O,H,W,te;let Se={localCacheCount:d,existenceFilterCount:h.count,databaseId:m.database,projectId:m.projectId},se=h.unchangedNames;return se&&(Se.bloomFilter={applied:_===0,hashCount:(D=se?.hashCount)!==null&&D!==void 0?D:0,bitmapLength:(H=(O=(S=se?.bits)===null||S===void 0?void 0:S.bitmap)===null||O===void 0?void 0:O.length)!==null&&H!==void 0?H:0,padding:(te=(W=se?.bits)===null||W===void 0?void 0:W.padding)!==null&&te!==void 0?te:0,mightContain:T=>{var b;return(b=y?.mightContain(T))!==null&&b!==void 0&&b}}),Se}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=ws(r).toUint8Array()}catch(c){if(c instanceof Zp)return _c("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new gb(o,i,s)}catch(c){return _c(c instanceof To?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&ab(a.target)){let c=new le(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,mr.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Pe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new tm(e,n,this.Qe,this.ke,r);return this.ke=Pi(),this.qe=yk(),this.Qe=new lt(Ue),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new im,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new en(Ue),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new im),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function yk(){return new lt(le.comparator)}function vk(){return new lt(le.comparator)}var NK={asc:"ASCENDING",desc:"DESCENDING"},MK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PK={and:"AND",or:"OR"},vb=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function _b(t,e){return t.useProto3Json||Tm(e)?e:{value:e}}function sm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kK(t,e){return sm(t,e.toTimestamp())}function Gr(t){return He(!!t),_e.fromTimestamp(function(n){let r=Mi(n);return new Rt(r.seconds,r.nanos)}(t))}function xC(t,e){return Eb(t,e).canonicalString()}function Eb(t,e){let n=function(i){return new st(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sO(t){let e=st.fromString(t);return He(uO(e)),e}function wb(t,e){return xC(t.databaseId,e.path)}function F0(t,e){let n=sO(e);if(n.get(1)!==t.databaseId.projectId)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(aO(n))}function oO(t,e){return xC(t.databaseId,e)}function OK(t){let e=sO(t);return e.length===4?st.emptyPath():aO(e)}function bb(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aO(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _k(t,e,n){return{name:wb(t,e),fields:n.value.mapValue.fields}}function FK(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(He(d===void 0||typeof d=="string"),tn.fromBase64String(d||"")):(He(d===void 0||d instanceof Buffer||d instanceof Uint8Array),tn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let d=u.code===void 0?U.UNKNOWN:rO(u.code);return new J(d,u.message||"")}(o);n=new rm(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=F0(t,r.document.name),s=Gr(r.document.updateTime),o=r.document.createTime?Gr(r.document.createTime):_e.min(),a=new On({mapValue:{fields:r.document.fields}}),c=mr.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new yc(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=F0(t,r.document),s=r.readTime?Gr(r.readTime):_e.min(),o=mr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new yc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=F0(t,r.document),s=r.removedTargetIds||[];n=new yc([],s,i,null)}else{if(!("filter"in e))return he();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new mb(i,s),a=r.targetId;n=new nm(a,o)}}return n}function LK(t,e){let n;if(e instanceof Fo)n={update:_k(t,e.key,e.value)};else if(e instanceof em)n={delete:wb(t,e.key)};else if(e instanceof Kr)n={update:_k(t,e.key,e.data),updateMask:GK(e.fieldMask)};else{if(!(e instanceof db))return he();n={verify:wb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Sc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ko)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:kK(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:he()}(t,e.precondition)),n}function VK(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Gr(i.updateTime):Gr(s);return o.isEqual(_e.min())&&(o=Gr(s)),new ub(o,i.transformResults||[])}(n,e))):[]}function BK(t,e){return{documents:[oO(t,e.path)]}}function UK(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oO(t,i);let s=function(u){if(u.length!==0)return lO(gr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:pc(m.field),direction:HK(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=_b(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function jK(t){let e=OK(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){He(r===1);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){let m=cO(h);return m instanceof gr&&Uk(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(_){return new Po(mc(_.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Tm(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(h){let m=!!h.before,y=h.values||[];return new Cc(y,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){let m=!h.before,y=h.values||[];return new Cc(y,m)}(n.endAt)),hK(e,i,o,s,a,"F",c,u)}function $K(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=mc(n.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=mc(n.unaryFilter.field);return Et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=mc(n.unaryFilter.field);return Et.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=mc(n.unaryFilter.field);return Et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return Et.create(mc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gr.create(n.compositeFilter.filters.map(r=>cO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function HK(t){return NK[t]}function qK(t){return MK[t]}function zK(t){return PK[t]}function pc(t){return{fieldPath:t.canonicalString()}}function mc(t){return Fn.fromServerFormat(t.fieldPath)}function lO(t){return t instanceof Et?function(n){if(n.op==="=="){if(sk(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NAN"}};if(ik(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sk(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NOT_NAN"}};if(ik(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pc(n.field),op:qK(n.op),value:n.value}}}(t):t instanceof gr?function(n){let r=n.getFilters().map(i=>lO(i));return r.length===1?r[0]:{compositeFilter:{op:zK(n.op),filters:r}}}(t):he()}function GK(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var qu=class t{constructor(e,n,r,i,s=_e.min(),o=_e.min(),a=tn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Cb=class{constructor(e){this.ct=e}};function WK(t){let e=jK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lb(e,e.limit,"L"):e}var om=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(rt(e.integerValue));else if("doubleValue"in e){let r=rt(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Uu(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Mi(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(ws(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?Lk(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Fk(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):he()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(rt(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),le.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};om.vt=new om;var Ib=class{constructor(){this.un=new Sb}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(No.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(No.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}},Sb=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new en(st.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new en(st.comparator)).toArray()}};var Pue=new Uint8Array(0);var $r=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};$r.DEFAULT_COLLECTION_PERCENTILE=10,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$r.DEFAULT=new $r(41943040,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$r.DISABLED=new $r(-1,0,0);var zu=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var xb=class{constructor(){this.changes=new Cs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Ab=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Tb=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bu(r.mutation,i,Jn.empty(),Rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Pe()){let i=Ao();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ou();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ao();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Pe()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Pi(),o=Vu(),a=function(){return Vu()}();return n.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Kr)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Bu(d.mutation,u,d.mutation.getFieldMask(),Rt.now())):o.set(u.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new Ab(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Vu(),i=new lt((o,a)=>o-a),s=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let d=r.get(c)||Jn.empty();d=a.applyToLocalView(u,d),r.set(c,d);let h=(i.get(a.batchId)||Pe()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,h=Qk();d.forEach(m=>{if(!s.has(m)){let y=tO(n.get(m),r.get(m));y!==null&&h.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(Ao()),a=-1,c=s;return o.next(u=>z.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Pe())).next(d=>({batchId:a,changes:Kk(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let i=Ou();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Ou();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,c=>{let u=function(h,m){return new bs(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,mr.newInvalidDocument(d)))});let a=Ou();return o.forEach((c,u)=>{let d=s.get(c);d!==void 0&&Bu(d.mutation,u,Jn.empty(),Rt.now()),Rm(n,u)&&(a=a.insert(c,u))}),a})}};var Db=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gr(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:WK(i.bundledQuery),readTime:Gr(i.readTime)}}(n)),z.resolve()}};var Rb=class{constructor(){this.overlays=new lt(le.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ao();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){let i=Ao(),s=n.length+1,o=new le(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new lt((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Ao(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=Ao(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return z.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new pb(n,r));let s=this.Ir.get(n);s===void 0&&(s=Pe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var Nb=class{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}};var Gu=class{constructor(){this.Tr=new en(_t.Er),this.dr=new en(_t.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new _t(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new _t(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new le(new st([])),r=new _t(n,e),i=new _t(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new le(new st([])),r=new _t(n,e),i=new _t(n,e+1),s=Pe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new _t(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},_t=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return le.comparator(e.key,n.key)||Ue(e.wr,n.wr)}static Ar(e,n){return Ue(e.wr,n.wr)||le.comparator(e.key,n.key)}};var Mb=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new en(_t.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new fb(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new _t(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new _t(n,0),i=new _t(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new en(Ue);return n.forEach(i=>{let s=new _t(i,0),o=new _t(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;le.isDocumentKey(s)||(s=s.child(""));let o=new _t(new le(s),0),a=new en(Ue);return this.br.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.wr)),!0)},o),z.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){He(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(n.mutations,i=>{let s=new _t(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new _t(n,0),i=this.br.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Pb=class{constructor(e){this.Mr=e,this.docs=function(){return new lt(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():mr.newInvalidDocument(n))}getEntries(e,n){let r=Pi();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():mr.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Pi(),o=n.path,a=new le(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||nK(tK(d),r)<=0||(i.has(d.key)||Rm(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){he()}Or(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new kb(this)}getSize(e){return z.resolve(this.size)}},kb=class extends xb{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Ob=class{constructor(e){this.persistence=e,this.Nr=new Cs(n=>bC(n),CC),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Gu,this.targetCount=0,this.kr=zu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new zu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}};var Fb=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new kk(0),this.Kr=!1,this.Kr=!0,this.$r=new Nb,this.referenceDelegate=e(this),this.Ur=new Ob(this),this.indexManager=new Ib,this.remoteDocumentCache=function(i){return new Pb(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Cb(n),this.Gr=new Db(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Rb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Mb(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);let i=new Lb(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Lb=class extends K0{constructor(e){super(),this.currentSequenceNumber=e}},Vb=class t{constructor(e){this.persistence=e,this.Jr=new Gu,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{let i=le.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,_e.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Bb=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Pe(),i=Pe();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Ub=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var jb=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return RM()?8:iK(Ft())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Ub;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ku()<=Me.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",hc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(ku()<=Me.DEBUG&&ne("QueryEngine","Query:",hc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ku()<=Me.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",hc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(n))):z.resolve())}Yi(e,n){if(lk(n))return z.resolve(null);let r=zr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=lb(n,null,"F"),r=zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Pe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.ts(n,a);return this.ns(n,u,o,c.readTime)?this.Yi(e,lb(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,i){return lk(n)||i.isEqual(_e.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?z.resolve(null):(ku()<=Me.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hc(n)),this.rs(e,o,n,eK(i,-1)).next(a=>a))})}ts(e,n){let r=new en(Gk(e));return n.forEach((i,s)=>{Rm(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ku()<=Me.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",hc(n)),this.Ji.getDocumentsMatchingQuery(e,n,No.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var $b=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new lt(Ue),this._s=new Cs(s=>bC(s),CC),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tb(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function KK(t,e,n,r){return new $b(t,e,n,r)}function dO(t,e){return g(this,null,function*(){let n=me(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Pe();for(let u of i){o.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of s){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})})}function QK(t,e){let n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let h=u.batch,m=h.keys(),y=z.resolve();return m.forEach(_=>{y=y.next(()=>d.getEntry(c,_)).next(D=>{let S=u.docVersions.get(_);He(S!==null),D.version.compareTo(S)<0&&(h.applyToRemoteDocument(D,u),D.isValidDocument()&&(D.setReadTime(u.commitVersion),d.addEntry(D)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Pe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fO(t){let e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function YK(t,e){let n=me(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((d,h)=>{let m=i.get(h);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(tn.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(h,y),function(D,S,O){return D.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,y,d)&&a.push(n.Ur.updateTargetData(s,y))});let c=Pi(),u=Pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(ZK(s,o,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(_e.min())){let d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.os=i,s))}function ZK(t,e,n){let r=Pe(),i=Pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Pi();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(_e.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function XK(t,e){let n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function JK(t,e){let n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new qu(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Hb(t,e,n){return g(this,null,function*(){let r=me(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ed(o))throw o;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Ek(t,e,n){let r=me(t),i=_e.min(),s=Pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){let h=me(c),m=h._s.get(d);return m!==void 0?z.resolve(h.os.get(m)):h.Ur.getTargetData(u,d)}(r,o,zr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:_e.min(),n?s:Pe())).next(a=>(e7(r,mK(e),a),{documents:a,Ts:s})))}function e7(t,e,n){let r=t.us.get(e)||_e.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var am=class{constructor(){this.activeTargetIds=wK()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var qb=class{constructor(){this.so=new am,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new am,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var zb=class{_o(e){}shutdown(){}};var cm=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var qp=null;function L0(){return qp===null?qp=function(){return 268435456+Math.round(2147483648*Math.random())}():qp++,"0x"+qp.toString(16)}var t7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Gb=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Jt="WebChannelConnection",Wb=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=L0(),c=this.xo(n,r.toUriEncodedString());ne("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,c,u,i).then(d=>(ne("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw _c("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=t7[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=L0();return new Promise((o,a)=>{let c=new N0;c.setWithCredentials(!0),c.listenOnce(M0.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Pu.NO_ERROR:let d=c.getResponseJson();ne(Jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Pu.TIMEOUT:ne(Jt,`RPC '${e}' ${s} timed out`),a(new J(U.DEADLINE_EXCEEDED,"Request time out"));break;case Pu.HTTP_ERROR:let h=c.getStatus();if(ne(Jt,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let _=function(S){let O=S.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(O)>=0?O:U.UNKNOWN}(y.status);a(new J(_,y.message))}else a(new J(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new J(U.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{ne(Jt,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);ne(Jt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Bo(e,n,r){let i=L0(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=O0(),a=k0(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let d=s.join("");ne(Jt,`Creating RPC '${e}' stream ${i}: ${d}`,c);let h=o.createWebChannel(d,c),m=!1,y=!1,_=new Gb({Io:S=>{y?ne(Jt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||(ne(Jt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),ne(Jt,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},To:()=>h.close()}),D=(S,O,H)=>{S.listen(O,W=>{try{H(W)}catch(te){setTimeout(()=>{throw te},0)}})};return D(h,fc.EventType.OPEN,()=>{y||(ne(Jt,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),D(h,fc.EventType.CLOSE,()=>{y||(y=!0,ne(Jt,`RPC '${e}' stream ${i} transport closed`),_.So())}),D(h,fc.EventType.ERROR,S=>{y||(y=!0,_c(Jt,`RPC '${e}' stream ${i} transport errored:`,S),_.So(new J(U.UNAVAILABLE,"The operation could not be completed")))}),D(h,fc.EventType.MESSAGE,S=>{var O;if(!y){let H=S.data[0];He(!!H);let W=H,te=W.error||((O=W[0])===null||O===void 0?void 0:O.error);if(te){ne(Jt,`RPC '${e}' stream ${i} received error:`,te);let Se=te.status,se=function(C){let x=vt[C];if(x!==void 0)return rO(x)}(Se),T=te.message;se===void 0&&(se=U.INTERNAL,T="Unknown error status: "+Se+" with message "+te.message),y=!0,_.So(new J(se,T)),h.close()}else ne(Jt,`RPC '${e}' stream ${i} received:`,H),_.bo(H)}}),D(a,P0.STAT_EVENT,S=>{S.stat===$p.PROXY?ne(Jt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===$p.NOPROXY&&ne(Jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}};function V0(){return typeof document<"u"?document:null}function Nm(t){return new vb(t,!0)}var lm=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var um=class{constructor(e,n,r,i,s,o,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new lm(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return g(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return g(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return g(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Ni(n.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new J(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>g(this,null,function*(){this.state=0,this.start()}))}I_(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Kb=class extends um{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=FK(this.serializer,e),r=function(s){if(!("targetChange"in s))return _e.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?_e.min():o.readTime?Gr(o.readTime):_e.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=bb(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=ab(c)?{documents:BK(s,c)}:{query:UK(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=iO(s,o.resumeToken);let u=_b(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(_e.min())>0){a.readTime=sm(s,o.snapshotVersion.toTimestamp());let u=_b(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=$K(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=bb(this.serializer),n.removeTarget=e,this.a_(n)}},Qb=class extends um{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=VK(e.writeResults,e.commitTime),r=Gr(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=bb(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>LK(this.serializer,r))};this.a_(n)}};var Yb=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Eb(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(U.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Eb(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(U.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Zb=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ni(n),this.D_=!1):ne("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Xb=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>g(this,null,function*(){Vo(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),yield function(c){return g(this,null,function*(){let u=me(c);u.L_.add(4),yield td(u),u.q_.set("Unknown"),u.L_.delete(4),yield Mm(u)})}(this))}))}),this.q_=new Zb(r,i)}};function Mm(t){return g(this,null,function*(){if(Vo(t))for(let e of t.B_)yield e(!0)})}function td(t){return g(this,null,function*(){for(let e of t.B_)yield e(!1)})}function hO(t,e){let n=me(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),RC(n)?DC(n):Mc(n).r_()&&TC(n,e))}function AC(t,e){let n=me(t),r=Mc(n);n.N_.delete(e),r.r_()&&pO(n,e),n.N_.size===0&&(r.r_()?r.o_():Vo(n)&&n.q_.set("Unknown"))}function TC(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mc(t).A_(e)}function pO(t,e){t.Q_.xe(e),Mc(t).R_(e)}function DC(t){t.Q_=new yb({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Mc(t).start(),t.q_.v_()}function RC(t){return Vo(t)&&!Mc(t).n_()&&t.N_.size>0}function Vo(t){return me(t).L_.size===0}function mO(t){t.Q_=void 0}function n7(t){return g(this,null,function*(){t.q_.set("Online")})}function r7(t){return g(this,null,function*(){t.N_.forEach((e,n)=>{TC(t,e)})})}function i7(t,e){return g(this,null,function*(){mO(t),RC(t)?(t.q_.M_(e),DC(t)):t.q_.set("Unknown")})}function s7(t,e,n){return g(this,null,function*(){if(t.q_.set("Online"),e instanceof rm&&e.state===2&&e.cause)try{yield function(i,s){return g(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield dm(t,r)}else if(e instanceof yc?t.Q_.Ke(e):e instanceof nm?t.Q_.He(e):t.Q_.We(e),!n.isEqual(_e.min()))try{let r=yield fO(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let d=s.N_.get(c);if(!d)return;s.N_.set(c,d.withResumeToken(tn.EMPTY_BYTE_STRING,d.snapshotVersion)),pO(s,c);let h=new qu(d.target,c,u,d.sequenceNumber);TC(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),yield dm(t,r)}})}function dm(t,e,n){return g(this,null,function*(){if(!ed(e))throw e;t.L_.add(1),yield td(t),t.q_.set("Offline"),n||(n=()=>fO(t.localStore)),t.asyncQueue.enqueueRetryable(()=>g(this,null,function*(){ne("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Mm(t)}))})}function gO(t,e){return e().catch(n=>dm(t,n,e))}function Pm(t){return g(this,null,function*(){let e=me(t),n=Is(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;o7(e);)try{let i=yield XK(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,a7(e,i)}catch(i){yield dm(e,i)}yO(e)&&vO(e)})}function o7(t){return Vo(t)&&t.O_.length<10}function a7(t,e){t.O_.push(e);let n=Is(t);n.r_()&&n.V_&&n.m_(e.mutations)}function yO(t){return Vo(t)&&!Is(t).n_()&&t.O_.length>0}function vO(t){Is(t).start()}function c7(t){return g(this,null,function*(){Is(t).p_()})}function l7(t){return g(this,null,function*(){let e=Is(t);for(let n of t.O_)e.m_(n.mutations)})}function u7(t,e,n){return g(this,null,function*(){let r=t.O_.shift(),i=hb.from(r,e,n);yield gO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Pm(t)})}function d7(t,e){return g(this,null,function*(){e&&Is(t).V_&&(yield function(r,i){return g(this,null,function*(){if(function(o){return TK(o)&&o!==U.ABORTED}(i.code)){let s=r.O_.shift();Is(r).s_(),yield gO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Pm(r)}})}(t,e)),yO(t)&&vO(t)})}function wk(t,e){return g(this,null,function*(){let n=me(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");let r=Vo(n);n.L_.add(3),yield td(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Mm(n)})}function f7(t,e){return g(this,null,function*(){let n=me(t);e?(n.L_.delete(2),yield Mm(n)):e||(n.L_.add(2),yield td(n),n.q_.set("Unknown"))})}function Mc(t){return t.K_||(t.K_=function(n,r,i){let s=me(n);return s.w_(),new Kb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:n7.bind(null,t),Ro:r7.bind(null,t),mo:i7.bind(null,t),d_:s7.bind(null,t)}),t.B_.push(e=>g(this,null,function*(){e?(t.K_.s_(),RC(t)?DC(t):t.q_.set("Unknown")):(yield t.K_.stop(),mO(t))}))),t.K_}function Is(t){return t.U_||(t.U_=function(n,r,i){let s=me(n);return s.w_(),new Qb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:c7.bind(null,t),mo:d7.bind(null,t),f_:l7.bind(null,t),g_:u7.bind(null,t)}),t.B_.push(e=>g(this,null,function*(){e?(t.U_.s_(),yield Pm(t)):(yield t.U_.stop(),t.O_.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Jb=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function NC(t,e){if(Ni("AsyncQueue",`${e}: ${t}`),ed(t))return new J(U.UNAVAILABLE,`${e}: ${t}`);throw t}var fm=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=Ou(),this.sortedSet=new lt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var hm=class{constructor(){this.W_=new lt(le.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):he():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Tc=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,fm.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var eC=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},tC=class{constructor(){this.queries=bk(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=me(n),s=i.queries;i.queries=bk(),s.forEach((o,a)=>{for(let c of a.j_)c.onError(r)})})(this,new J(U.ABORTED,"Firestore shutting down"))}};function bk(){return new Cs(t=>zk(t),Dm)}function _O(t,e){return g(this,null,function*(){let n=me(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new eC,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=NC(o,`Initialization of query '${hc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&MC(n)})}function EO(t,e){return g(this,null,function*(){let n=me(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function h7(t,e){let n=me(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&MC(n)}function p7(t,e,n){let r=me(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function MC(t){t.Y_.forEach(e=>{e.next()})}var nC,Ck;(Ck=nC||(nC={})).ea="default",Ck.Cache="cache";var pm=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Tc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==nC.Cache}};var mm=class{constructor(e){this.key=e}},gm=class{constructor(e){this.key=e}},rC=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Pe(),this.mutatedKeys=Pe(),this.Aa=Gk(e),this.Ra=new fm(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new hm,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{let m=i.get(d),y=Rm(this.query,h)?h:null,_=!!m&&this.mutatedKeys.has(m.key),D=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),S=!1;m&&y?m.data.isEqual(y.data)?_!==D&&(r.track({type:3,doc:y}),S=!0):this.ga(m,y)||(r.track({type:2,doc:y}),S=!0,(c&&this.Aa(y,c)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),S=!0):m&&!y&&(r.track({type:1,doc:m}),S=!0,(c||u)&&(a=!0)),S&&(y?(o=o.add(y),s=D?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((d,h)=>function(y,_){let D=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return D(y)-D(_)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new Tc(this.query,e.Ra,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new hm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new gm(r))}),this.da.forEach(r=>{e.has(r)||n.push(new mm(r))}),n}ba(e){this.Ta=e.Ts,this.da=Pe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Tc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},iC=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},sC=class{constructor(e){this.key=e,this.va=!1}},oC=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Cs(a=>zk(a),Dm),this.Ma=new Map,this.xa=new Set,this.Oa=new lt(le.comparator),this.Na=new Map,this.La=new Gu,this.Ba={},this.ka=new Map,this.qa=zu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function m7(t,e,n=!0){return g(this,null,function*(){let r=xO(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield wO(r,e,n,!0),i})}function g7(t,e){return g(this,null,function*(){let n=xO(t);yield wO(n,e,!0,!1)})}function wO(t,e,n,r){return g(this,null,function*(){let i=yield JK(t.localStore,zr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield y7(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&hO(t.remoteStore,i),a})}function y7(t,e,n,r,i){return g(this,null,function*(){t.Ka=(h,m,y)=>function(D,S,O,H){return g(this,null,function*(){let W=S.view.ma(O);W.ns&&(W=yield Ek(D.localStore,S.query,!1).then(({documents:T})=>S.view.ma(T,W)));let te=H&&H.targetChanges.get(S.targetId),Se=H&&H.targetMismatches.get(S.targetId)!=null,se=S.view.applyChanges(W,D.isPrimaryClient,te,Se);return Sk(D,S.targetId,se.wa),se.snapshot})}(t,h,m,y);let s=yield Ek(t.localStore,e,!0),o=new rC(e,s.Ts),a=o.ma(s.documents),c=Hu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);Sk(t,n,u.wa);let d=new iC(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot})}function v7(t,e,n){return g(this,null,function*(){let r=me(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Dm(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Hb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&AC(r.remoteStore,i.targetId),aC(r,i.targetId)}).catch(Ju))):(aC(r,i.targetId),yield Hb(r.localStore,i.targetId,!0))})}function _7(t,e){return g(this,null,function*(){let n=me(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),AC(n.remoteStore,r.targetId))})}function E7(t,e,n){return g(this,null,function*(){let r=A7(t);try{let i=yield function(o,a){let c=me(o),u=Rt.now(),d=a.reduce((y,_)=>y.add(_.key),Pe()),h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let _=Pi(),D=Pe();return c.cs.getEntries(y,d).next(S=>{_=S,_.forEach((O,H)=>{H.isValidDocument()||(D=D.add(O))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,_)).next(S=>{h=S;let O=[];for(let H of a){let W=AK(H,h.get(H.key).overlayedDocument);W!=null&&O.push(new Kr(H.key,W,Vk(W.value.mapValue),_s.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,O,a)}).next(S=>{m=S;let O=S.applyToLocalDocumentSet(h,D);return c.documentOverlayCache.saveOverlays(y,S.batchId,O)})}).then(()=>({batchId:m.batchId,changes:Kk(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new lt(Ue)),u=u.insert(a,c),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),yield nd(r,i.changes),yield Pm(r.remoteStore)}catch(i){let s=NC(i,"Failed to persist write");n.reject(s)}})}function bO(t,e){return g(this,null,function*(){let n=me(t);try{let r=yield YK(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?He(o.va):i.removedDocuments.size>0&&(He(o.va),o.va=!1))}),yield nd(n,r,e)}catch(r){yield Ju(r)}})}function Ik(t,e,n){let r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=me(o);c.onlineState=a;let u=!1;c.queries.forEach((d,h)=>{for(let m of h.j_)m.Z_(a)&&(u=!0)}),u&&MC(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function w7(t,e,n){return g(this,null,function*(){let r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new lt(le.comparator);o=o.insert(s,mr.newNoDocument(s,_e.min()));let a=Pe().add(s),c=new tm(_e.min(),new Map,new lt(Ue),o,a);yield bO(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),PC(r)}else yield Hb(r.localStore,e,!1).then(()=>aC(r,e,n)).catch(Ju)})}function b7(t,e){return g(this,null,function*(){let n=me(t),r=e.batch.batchId;try{let i=yield QK(n.localStore,e);IO(n,r,null),CO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield nd(n,i)}catch(i){yield Ju(i)}})}function C7(t,e,n){return g(this,null,function*(){let r=me(t);try{let i=yield function(o,a){let c=me(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(h=>(He(h!==null),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);IO(r,e,n),CO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield nd(r,i)}catch(i){yield Ju(i)}})}function CO(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function IO(t,e,n){let r=me(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function aC(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||SO(t,r)})}function SO(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(AC(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),PC(t))}function Sk(t,e,n){for(let r of n)r instanceof mm?(t.La.addReference(r.key,e),I7(t,r)):r instanceof gm?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||SO(t,r.key)):he()}function I7(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.xa.add(r),PC(t))}function PC(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new le(st.fromString(e)),r=t.qa.next();t.Na.set(r,new sC(n)),t.Oa=t.Oa.insert(n,r),hO(t.remoteStore,new qu(zr(IC(n.path)),r,"TargetPurposeLimboResolution",kk.oe))}}function nd(t,e,n){return g(this,null,function*(){let r=me(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{o.push(r.Ka(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){let h=u?!u.fromCache:(d=n?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){i.push(u);let h=Bb.Wi(c.targetId,u);s.push(h)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(c,u){return g(this,null,function*(){let d=me(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(u,m=>z.forEach(m.$i,y=>d.persistence.referenceDelegate.addReference(h,m.targetId,y)).next(()=>z.forEach(m.Ui,y=>d.persistence.referenceDelegate.removeReference(h,m.targetId,y)))))}catch(h){if(!ed(h))throw h;ne("LocalStore","Failed to update sequence numbers: "+h)}for(let h of u){let m=h.targetId;if(!h.fromCache){let y=d.os.get(m),_=y.snapshotVersion,D=y.withLastLimboFreeSnapshotVersion(_);d.os=d.os.insert(m,D)}}})}(r.localStore,s))})}function S7(t,e){return g(this,null,function*(){let n=me(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());let r=yield dO(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(c=>{c.reject(new J(U.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield nd(n,r.hs)}})}function x7(t,e){let n=me(t),r=n.Na.get(e);if(r&&r.va)return Pe().add(r.key);{let i=Pe(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function xO(t){let e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w7.bind(null,e),e.Ca.d_=h7.bind(null,e.eventManager),e.Ca.$a=p7.bind(null,e.eventManager),e}function A7(t){let e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C7.bind(null,e),e}var xk=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return g(this,null,function*(){this.serializer=Nm(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return KK(this.persistence,new jb,n.initialUser,this.serializer)}Ga(n){return new Fb(Vb.Zr,this.serializer)}Wa(n){return new qb}terminate(){return g(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var T7=(()=>{class t{initialize(n,r){return g(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ik(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=S7.bind(null,this.syncEngine),yield f7(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new tC}()}createDatastore(n){let r=Nm(n.databaseInfo.databaseId),i=function(o){return new Wb(o)}(n.databaseInfo);return function(o,a,c,u){return new Yb(o,a,c,u)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,a,c){return new Xb(i,s,o,a,c)}(this.localStore,this.datastore,n.asyncQueue,r=>Ik(this.syncEngine,r,0),function(){return cm.D()?new cm:new zb}())}createSyncEngine(n,r){return function(s,o,a,c,u,d,h){let m=new oC(s,o,a,c,u,d);return h&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return g(this,null,function*(){var n,r;yield function(s){return g(this,null,function*(){let o=me(s);ne("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield td(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var ym=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ni("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var cC=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vt.UNAUTHENTICATED,this.clientId=Kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>g(this,null,function*(){ne("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(ne("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>g(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=NC(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function B0(t,e){return g(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>g(this,null,function*(){r.isEqual(i)||(yield dO(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Ak(t,e){return g(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield D7(t);ne("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>wk(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>wk(e.remoteStore,i)),t._onlineComponents=e})}function D7(t){return g(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{yield B0(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;_c("Error using user provided cache. Falling back to memory cache: "+n),yield B0(t,new xk)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),yield B0(t,new xk);return t._offlineComponents})}function AO(t){return g(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ak(t,t._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),yield Ak(t,new T7))),t._onlineComponents})}function R7(t){return AO(t).then(e=>e.syncEngine)}function lC(t){return g(this,null,function*(){let e=yield AO(t),n=e.eventManager;return n.onListen=m7.bind(null,e.syncEngine),n.onUnlisten=v7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=g7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_7.bind(null,e.syncEngine),n})}function N7(t,e,n={}){let r=new Hr;return t.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return function(s,o,a,c,u){let d=new ym({next:m=>{d.Za(),o.enqueueAndForget(()=>EO(s,h)),m.fromCache&&c.source==="server"?u.reject(new J(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new pm(a,d,{includeMetadataChanges:!0,_a:!0});return _O(s,h)}(yield lC(t),t.asyncQueue,e,n,r)})),r.promise}function TO(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Tk=new Map;function DO(t,e,n){if(!n)throw new J(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function M7(t,e,n,r){if(e===!0&&r===!0)throw new J(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Dk(t){if(!le.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Rk(t){if(le.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function km(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function Ri(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=km(t);throw new J(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var vm=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Dc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new U0;switch(r.type){case"firstParty":return new q0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return g(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Tk.get(n);r&&(ne("ComponentProvider","Removing Datastore"),Tk.delete(n),r.terminate())}(this),Promise.resolve()}};function RO(t,e,n,r={}){var i;let s=(t=Ri(t,Dc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&_c("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Vt.MOCK_USER;else{a=IM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new J(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Vt(u)}t._authCredentials=new j0(new Wp(a,c))}}var Ss=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},In=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Es=class t extends Ss{constructor(e,n,r){super(e,n,IC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new le(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function NO(t,e,...n){if(t=yt(t),DO("collection","path",e),t instanceof Dc){let r=st.fromString(e,...n);return Rk(r),new Es(t,null,r)}{if(!(t instanceof In||t instanceof Es))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(st.fromString(e,...n));return Rk(r),new Es(t.firestore,null,r)}}function kC(t,e,...n){if(t=yt(t),arguments.length===1&&(e=Kp.newId()),DO("doc","path",e),t instanceof Dc){let r=st.fromString(e,...n);return Dk(r),new In(t,null,new le(r))}{if(!(t instanceof In||t instanceof Es))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(st.fromString(e,...n));return Dk(r),new In(t.firestore,t instanceof Es?t.converter:null,new le(r))}}var _m=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new lm(this,"async_queue_retry"),this.Vu=()=>{let r=V0();r&&ne("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=V0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=V0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Hr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return g(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ed(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ni("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Jb.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&he()}verifyOperationInProgress(){}wu(){return g(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function Nk(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var xs=class extends Dc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _m,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return g(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new _m(e),this._firestoreClient=void 0,yield e}})}};function MO(t,e){let n=typeof t=="object"?t:oc(),r=typeof t=="string"?t:e||"(default)",i=bu(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=CM("firestore");s&&RO(i,...s)}return i}function OC(t){if(t._terminated)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||P7(t),t._firestoreClient}function P7(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,d){return new Q0(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,TO(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new cC(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(t._componentsProvider))}var Wu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(tn.fromBase64String(e))}catch(n){throw new J(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Rc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ku=class{constructor(e){this._methodName=e}};var Qu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}};var Yu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var k7=/^__.*__$/,uC=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Kr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fo(e,this.data,n,this.fieldTransforms)}},Em=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Kr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function PO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}var dC=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return bm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(PO(this.Cu)&&k7.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},fC=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nm(e)}Qu(e,n,r,i=!1){return new dC({Cu:e,methodName:n,qu:r,path:Fn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function FC(t){let e=t._freezeSettings(),n=Nm(t._databaseId);return new fC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function O7(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);LC("Data must be an object, but it was:",o,r);let a=kO(r,o),c,u;if(s.merge)c=new Jn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let h of s.mergeFields){let m=hC(e,h,n);if(!o.contains(m))throw new J(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);FO(d,m)||d.push(m)}c=new Jn(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new uC(new On(a),c,u)}var wm=class t extends Ku{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function F7(t,e,n,r){let i=t.Qu(1,e,n);LC("Data must be an object, but it was:",i,r);let s=[],o=On.empty();Lo(r,(c,u)=>{let d=VC(e,c,n);u=yt(u);let h=i.Nu(d);if(u instanceof wm)s.push(d);else{let m=rd(u,h);m!=null&&(s.push(d),o.set(d,m))}});let a=new Jn(s);return new Em(o,a,i.fieldTransforms)}function L7(t,e,n,r,i,s){let o=t.Qu(1,e,n),a=[hC(e,r,n)],c=[i];if(s.length%2!=0)throw new J(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(hC(e,s[m])),c.push(s[m+1]);let u=[],d=On.empty();for(let m=a.length-1;m>=0;--m)if(!FO(u,a[m])){let y=a[m],_=c[m];_=yt(_);let D=o.Nu(y);if(_ instanceof wm)u.push(y);else{let S=rd(_,D);S!=null&&(u.push(y),d.set(y,S))}}let h=new Jn(u);return new Em(d,h,o.fieldTransforms)}function V7(t,e,n,r=!1){return rd(n,t.Qu(r?4:3,e))}function rd(t,e){if(OO(t=yt(t)))return LC("Unsupported field value:",e,t),kO(t,e);if(t instanceof Ku)return function(r,i){if(!PO(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=rd(a,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Rt.fromDate(r);return{timestampValue:sm(i.serializer,s)}}if(r instanceof Rt){let s=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sm(i.serializer,s)}}if(r instanceof Qu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wu)return{bytesValue:iO(i.serializer,r._byteString)};if(r instanceof In){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yu)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return SC(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${km(r)}`)}(t,e)}function kO(t,e){let n={};return Ok(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(t,(r,i)=>{let s=rd(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function OO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof Qu||t instanceof Wu||t instanceof In||t instanceof Ku||t instanceof Yu)}function LC(t,e,n){if(!OO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=km(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function hC(t,e,n){if((e=yt(e))instanceof Rc)return e._internalPath;if(typeof e=="string")return VC(t,e);throw bm("Field path arguments must be of type string or ",t,!1,void 0,n)}var B7=new RegExp("[~\\*/\\[\\]]");function VC(t,e,n){if(e.search(B7)>=0)throw bm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rc(...e.split("."))._internalPath}catch{throw bm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bm(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new J(U.INVALID_ARGUMENT,a+t+c)}function FO(t,e){return t.some(n=>n.isEqual(e))}var Cm=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new pC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Om("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},pC=class extends Cm{data(){return super.data()}};function Om(t,e){return typeof e=="string"?VC(t,e):e instanceof Rc?e._internalPath:e._delegate._internalPath}function LO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Zu=class{},Im=class extends Zu{};function VO(t,e,...n){let r=[];e instanceof Zu&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof mC).length,a=s.filter(c=>c instanceof Sm).length;if(o>1||o>0&&a>0)throw new J(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Sm=class t extends Im{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return jO(e._query,n),new Ss(e.firestore,e.converter,cb(e._query,n))}_parse(e){let n=FC(e.firestore);return function(s,o,a,c,u,d,h){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new J(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Pk(h,d);let y=[];for(let _ of h)y.push(Mk(c,s,_));m={arrayValue:{values:y}}}else m=Mk(c,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Pk(h,d),m=V7(a,o,h,d==="in"||d==="not-in");return Et.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function BO(t,e,n){let r=e,i=Om("where",t);return Sm._create(i,r,n)}var mC=class t extends Zu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gr.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)jO(o,c),o=cb(o,c)}(e._query,n),new Ss(e.firestore,e.converter,cb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var gC=class t extends Im{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new J(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new J(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Po(s,o)}(e._query,this._field,this._direction);return new Ss(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new bs(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function UO(t,e="asc"){let n=e,r=Om("orderBy",t);return gC._create(r,n)}function Mk(t,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new J(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qk(e)&&n.indexOf("/")!==-1)throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(st.fromString(n));if(!le.isDocumentKey(r))throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rk(t,new le(r))}if(n instanceof In)return rk(t,n._key);throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${km(n)}.`)}function Pk(t,e){if(!Array.isArray(t)||t.length===0)throw new J(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jO(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var yC=class{convertValue(e,n="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Lo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>rt(o.doubleValue));return new Yu(s)}convertGeoPoint(e){return new Qu(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=EC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ju(e));default:return null}}convertTimestamp(e){let n=Mi(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=st.fromString(e);He(uO(r));let i=new Xp(r.get(1),r.get(3)),s=new le(r.popFirst(5));return i.isEqual(n)||Ni(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function U7(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Do=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},xm=class extends Cm{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Om("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},vc=class extends xm{data(e={}){return super.data(e)}},Am=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Do(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vc(this._firestore,this._userDataWriter,r.key,r,new Do(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new vc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Do(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new vc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Do(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:j7(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function j7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}var Xu=class extends yC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,n)}};function $O(t){t=Ri(t,Ss);let e=Ri(t.firestore,xs),n=OC(e),r=new Xu(e);return LO(t._query),N7(n,t._query).then(i=>new Am(e,r,t,i))}function HO(t,e,n,...r){t=Ri(t,In);let i=Ri(t.firestore,xs),s=FC(i),o;return o=typeof(e=yt(e))=="string"||e instanceof Rc?L7(s,"updateDoc",t._key,e,n,r):F7(s,"updateDoc",t._key,e),zO(i,[o.toMutation(t._key,_s.exists(!0))])}function qO(t,e){let n=Ri(t.firestore,xs),r=kC(t),i=U7(t.converter,e);return zO(n,[O7(FC(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,_s.exists(!1))]).then(()=>r)}function BC(t,...e){var n,r,i;t=yt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Nk(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Nk(e[o])){let h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let c,u,d;if(t instanceof In)u=Ri(t.firestore,xs),d=IC(t._key.path),c={next:h=>{e[o]&&e[o]($7(u,t,h))},error:e[o+1],complete:e[o+2]};else{let h=Ri(t,Ss);u=Ri(h.firestore,xs),d=h._query;let m=new Xu(u);c={next:y=>{e[o]&&e[o](new Am(u,m,h,y))},error:e[o+1],complete:e[o+2]},LO(t._query)}return function(m,y,_,D){let S=new ym(D),O=new pm(y,S,_);return m.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return _O(yield lC(m),O)})),()=>{S.Za(),m.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return EO(yield lC(m),O)}))}}(OC(u),d,a,c)}function zO(t,e){return function(r,i){let s=new Hr;return r.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return E7(yield R7(r),i,s)})),s.promise}(OC(t),e)}function $7(t,e,n){let r=n.docs.get(e._key),i=new Xu(t);return new xm(t,i,e._key,r,new Do(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Nc=i})(ms),ps(new Xn("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new xs(new $0(r.getProvider("auth-internal")),new G0(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xp(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Dt(JP,"4.7.3",e),Dt(JP,"4.7.3","esm2017")})();var Fm=function(){return Fm=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fm.apply(this,arguments)};var z7={includeMetadataChanges:!1};function GO(t,e){return e===void 0&&(e=z7),new De(function(n){var r=BC(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function WO(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Fm(Fm({},r),(n={},n[e.idField]=t.id,n))}function KO(t){return GO(t,{includeMetadataChanges:!0}).pipe(we(function(e){return e.docs}))}function QO(t,e){return e===void 0&&(e={}),KO(t).pipe(we(function(n){return n.map(function(r){return WO(r,e)})}))}var yr=class{constructor(e){return e}},YO="firestore",UC=class{constructor(){return Cu(YO)}};var jC=new ae("angularfire2.firestore-instances");function G7(t,e){let n=wp(YO,t,e);return n&&new yr(n)}function W7(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new yr(r)}}var K7={provide:UC,deps:[[new hn,jC]]},Q7={provide:yr,useFactory:G7,deps:[[new hn,jC],bi]};function ZO(t,...e){return Dt("angularfire",wo.full,"fst"),Mr([Q7,K7,{provide:jC,useFactory:W7(t),multi:!0,deps:[qe,bn,lc,bo,[new hn,Mu],[new hn,cc],...e]}])}var XO=Lt(QO,!0);var JO=Lt(qO,!0);var Pc=Lt(NO,!0);var e1=Lt(kC,!0);var t1=Lt($O,!0);var n1=Lt(MO,!0);var r1=Lt(UO,!0);var Lm=Lt(VO,!0);var i1=Lt(HO,!0);var s1=Lt(BO,!0);var o1=t=>{let e=t.httpHandler;return{setHttpHandler(n){e=n},httpHandler(){return e},updateHttpClientConfig(n,r){e.updateHttpClientConfig(n,r)},httpHandlerConfigs(){return e.httpHandlerConfigs()}}},a1=t=>({httpHandler:t.httpHandler()});var id=function(t){return t.HTTP="http",t.HTTPS="https",t}(id||{});var sd=function(t){return t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256",t}(sd||{});var kc="__smithy_context";var be=class t{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let n=new t(L(E({},e),{headers:E({},e.headers)}));return n.query&&(n.query=Y7(n.query)),n}static isInstance(e){if(!e)return!1;let n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){return t.clone(this)}};function Y7(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return L(E({},e),{[n]:Array.isArray(r)?[...r]:r})},{})}var Sn=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let n=e;return typeof n.statusCode=="number"&&typeof n.headers=="object"}};function Z7(t){return e=>n=>g(this,null,function*(){let{request:r}=n;return be.isInstance(r)&&r.body&&t.runtime==="node"&&t.requestHandler?.constructor?.name!=="FetchHttpHandler"&&(r.headers=L(E({},r.headers),{Expect:"100-continue"})),e(L(E({},n),{request:r}))})}var X7={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},c1=t=>({applyToStack:e=>{e.add(Z7(t),X7)}});var HC={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},qC=HC.WHEN_SUPPORTED;var zC=HC.WHEN_SUPPORTED,et=function(t){return t.MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.SHA1="SHA1",t.SHA256="SHA256",t}(et||{});var l1=et.MD5,u1=et.CRC32;function d1(t,e,n){return t.$source||(t.$source={}),t.$source[e]=n,t}function Bt(t,e,n){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=n}var GC=t=>Sn.isInstance(t)?t.headers?.date??t.headers?.Date:void 0;var Oc=t=>new Date(Date.now()+t);var f1=(t,e)=>Math.abs(Oc(e).getTime()-t)>=3e5;var WC=(t,e)=>{let n=Date.parse(t);return f1(n,e)?n-Date.now():e};var od=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},Vm=t=>g(void 0,null,function*(){let e=od("context",t.context),n=od("config",t.config),r=e.endpointV2?.properties?.authSchemes?.[0],s=yield od("signer",n.signer)(r),o=t?.signingRegion,a=t?.signingRegionSet,c=t?.signingName;return{config:n,signer:s,signingRegion:o,signingRegionSet:a,signingName:c}}),Bo=class{sign(e,n,r){return g(this,null,function*(){if(!be.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let i=yield Vm(r),{config:s,signer:o}=i,{signingRegion:a,signingName:c}=i,u=r.context;if(u?.authSchemes?.length??!1){let[h,m]=u.authSchemes;h?.name==="sigv4a"&&m?.name==="sigv4"&&(a=m?.signingRegion??a,c=m?.signingName??c)}return yield o.sign(e,{signingDate:Oc(s.systemClockOffset),signingRegion:a,signingService:c})})}errorHandler(e){return n=>{let r=n.ServerTime??GC(n.$response);if(r){let i=od("config",e.config),s=i.systemClockOffset;i.systemClockOffset=WC(r,i.systemClockOffset),i.systemClockOffset!==s&&n.$metadata&&(n.$metadata.clockSkewCorrected=!0)}throw n}}successHandler(e,n){let r=GC(e);if(r){let i=od("config",n.config);i.systemClockOffset=WC(r,i.systemClockOffset)}}};var ad=class extends Bo{sign(e,n,r){return g(this,null,function*(){if(!be.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:i,signer:s,signingRegion:o,signingRegionSet:a,signingName:c}=yield Vm(r),d=((yield i.sigv4aSigningRegionSet?.())??a??[o]).join(",");return yield s.sign(e,{signingDate:Oc(i.systemClockOffset),signingRegion:d,signingService:c})})}};var vr=t=>t[kc]||(t[kc]={});var Gt=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};function tQ(t){let e=new Map;for(let n of t)e.set(n.schemeId,n);return e}var KC=(t,e)=>(n,r)=>i=>g(void 0,null,function*(){let s=t.httpAuthSchemeProvider(yield e.httpAuthSchemeParametersProvider(t,r,i.input)),o=tQ(t.httpAuthSchemes),a=vr(r),c=[];for(let u of s){let d=o.get(u.schemeId);if(!d){c.push(`HttpAuthScheme \`${u.schemeId}\` was not enabled for this service.`);continue}let h=d.identityProvider(yield e.identityProviderConfigProvider(t));if(!h){c.push(`HttpAuthScheme \`${u.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:m={},signingProperties:y={}}=u.propertiesExtractor?.(t,r)||{};u.identityProperties=Object.assign(u.identityProperties||{},m),u.signingProperties=Object.assign(u.signingProperties||{},y),a.selectedHttpAuthScheme={httpAuthOption:u,identity:yield h(u.identityProperties),signer:d.signer};break}if(!a.selectedHttpAuthScheme)throw new Error(c.join(`
`));return n(i)});var nQ={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},h1=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n})=>({applyToStack:r=>{r.addRelativeTo(KC(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n}),nQ)}});var p1=(t,e)=>n=>r=>g(void 0,null,function*(){let{response:i}=yield n(r);try{let s=yield e(i,t);return{response:i,output:s}}catch(s){if(Object.defineProperty(s,"$response",{value:i}),!("$metadata"in s)){let o="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";s.message+=`
  `+o,typeof s.$responseBodyText<"u"&&s.$response&&(s.$response.body=s.$responseBodyText)}throw s}});var m1=(t,e)=>(n,r)=>i=>g(void 0,null,function*(){let s=r.endpointV2?.url&&t.urlParser?()=>g(void 0,null,function*(){return t.urlParser(r.endpointV2.url)}):t.endpoint;if(!s)throw new Error("No valid endpoint provider available.");let o=yield e(i.input,L(E({},t),{endpoint:s}));return n(L(E({},i),{request:o}))});var rQ={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},cd={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Bm(t,e,n){return{applyToStack:r=>{r.add(p1(t,n),rQ),r.add(m1(t,e),cd)}}}var Jpe={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:cd.name};var iQ=t=>e=>{throw e},sQ=(t,e)=>{},g1=t=>(e,n)=>r=>g(void 0,null,function*(){if(!be.isInstance(r.request))return e(r);let s=vr(n).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=s,u=yield e(L(E({},r),{request:yield c.sign(r.request,a,o)})).catch((c.errorHandler||iQ)(o));return(c.successHandler||sQ)(u.response,o),u});var QC={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},y1=t=>({applyToStack:e=>{e.addRelativeTo(g1(t),QC)}});var ki=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};var Oi={},Uo=new Array(64);for(let t=0,e=65,n=90;t+e<=n;t++){let r=String.fromCharCode(t+e);Oi[r]=t,Uo[t]=r}for(let t=0,e=97,n=122;t+e<=n;t++){let r=String.fromCharCode(t+e),i=t+26;Oi[r]=i,Uo[i]=r}for(let t=0;t<10;t++){Oi[t.toString(10)]=t+52;let e=t.toString(10),n=t+52;Oi[e]=n,Uo[n]=e}Oi["+"]=62;Uo[62]="+";Oi["/"]=63;Uo[63]="/";var As=6,jo=8,v1=63;var Fc=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;let n=new ArrayBuffer(e),r=new DataView(n);for(let i=0;i<t.length;i+=4){let s=0,o=0;for(let u=i,d=i+3;u<=d;u++)if(t[u]!=="="){if(!(t[u]in Oi))throw new TypeError(`Invalid character ${t[u]} in base64 string.`);s|=Oi[t[u]]<<(d-u)*As,o+=As}else s>>=As;let a=i/4*3;s>>=o%jo;let c=Math.floor(o/jo);for(let u=0;u<c;u++){let d=(c-u-1)*jo;r.setUint8(a+u,(s&255<<d)>>d)}}return new Uint8Array(n)};var Ln=t=>new TextEncoder().encode(t);var Qr=t=>typeof t=="string"?Ln(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t);var Lc=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)};function $o(t){let e;typeof t=="string"?e=Ln(t):e=t;let n=typeof e=="object"&&typeof e.length=="number",r=typeof e=="object"&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let s=0;s<e.length;s+=3){let o=0,a=0;for(let u=s,d=Math.min(s+3,e.length);u<d;u++)o|=e[u]<<(d-u-1)*jo,a+=jo;let c=Math.ceil(a/As);o<<=c*As-a;for(let u=1;u<=c;u++){let d=(c-u)*As;i+=Uo[(o&v1<<d)>>d]}i+="==".slice(0,4-c)}return i}function _1(t,e="utf-8"){return e==="base64"?$o(t):Lc(t)}function E1(t,e){return e==="base64"?Fi.mutate(Fc(t)):Fi.mutate(Ln(t))}var Fi=class t extends Uint8Array{static fromString(e,n="utf-8"){switch(typeof e){case"string":return E1(e,n);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,t.prototype),e}transformToString(e="utf-8"){return _1(this,e)}};var w1=(t,e)=>{let{base64Encoder:n,bodyLengthChecker:r,checksumAlgorithmFn:i,checksumLocationName:s,streamHasher:o}=e,a=n!==void 0&&r!==void 0&&i!==void 0&&s!==void 0&&o!==void 0,c=a?o(i,t):void 0,u=t.getReader();return new ReadableStream({pull(h){return g(this,null,function*(){let{value:m,done:y}=yield u.read();if(y){if(h.enqueue(`0\r
`),a){let _=n(yield c);h.enqueue(`${s}:${_}\r
`),h.enqueue(`\r
`)}h.close()}else h.enqueue(`${(r(m)||0).toString(16)}\r
${m}\r
`)})}})};var _r=t=>encodeURIComponent(t).replace(/[!'()*]/g,oQ),oQ=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function YC(t){let e=[];for(let n of Object.keys(t).sort()){let r=t[n];if(n=_r(n),Array.isArray(r))for(let i=0,s=r.length;i<s;i++)e.push(`${n}=${_r(r[i])}`);else{let i=n;(r||typeof r=="string")&&(i+=`=${_r(r)}`),e.push(i)}}return e.join("&")}var b1=t=>g(void 0,null,function*(){return typeof Blob=="function"&&t instanceof Blob?new Uint8Array(yield t.arrayBuffer()):aQ(t)});function aQ(t){return g(this,null,function*(){let e=[],n=t.getReader(),r=!1,i=0;for(;!r;){let{done:a,value:c}=yield n.read();c&&(e.push(c),i+=c.length),r=a}let s=new Uint8Array(i),o=0;for(let a of e)s.set(a,o),o+=a.length;return s})}var C1={},ZC={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),C1[t]=e,ZC[e]=t}function Um(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){let r=t.slice(n,n+2).toLowerCase();if(r in ZC)e[n/2]=ZC[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return e}function dt(t){let e="";for(let n=0;n<t.byteLength;n++)e+=C1[t[n]];return e}var jm=t=>typeof ReadableStream=="function"&&(t?.constructor?.name===ReadableStream.name||t instanceof ReadableStream);var I1="The stream has already been transformed.",x1=t=>{if(!S1(t)&&!jm(t)){let i=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let e=!1,n=()=>g(void 0,null,function*(){if(e)throw new Error(I1);return e=!0,yield b1(t)}),r=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(t,{transformToByteArray:n,transformToString:i=>g(void 0,null,function*(){let s=yield n();if(i==="base64")return $o(s);if(i==="hex")return dt(s);if(i===void 0||i==="utf8"||i==="utf-8")return Lc(s);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(s);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")}),transformToWebStream:()=>{if(e)throw new Error(I1);if(e=!0,S1(t))return r(t);if(jm(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},S1=t=>typeof Blob=="function"&&t instanceof Blob;function A1(t){return g(this,null,function*(){return typeof t.stream=="function"&&(t=t.stream()),t.tee()})}function T1(t,e){return g(this,null,function*(){let n=0,r=[],i=t.getReader(),s=!1;for(;!s;){let{done:c,value:u}=yield i.read();if(u&&(r.push(u),n+=u?.byteLength??0),n>=e)break;s=c}i.releaseLock();let o=new Uint8Array(Math.min(e,n)),a=0;for(let c of r){if(c.byteLength>o.byteLength-a){o.set(c.subarray(0,o.byteLength-a),a);break}else o.set(c,a);a+=c.length}return o})}var ld=(...n)=>g(void 0,[...n],function*(t=new Uint8Array,e){if(t instanceof Uint8Array)return Fi.mutate(t);if(!t)return Fi.mutate(new Uint8Array);let r=e.streamCollector(t);return Fi.mutate(yield r)});function $m(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Hm(t,e){return new XC(t,e)}var XC=class{constructor(e,n){this.input=e,this.context=n,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}build(){return g(this,null,function*(){let{hostname:e,protocol:n="https",port:r,path:i}=yield this.context.endpoint();this.path=i;for(let s of this.resolvePathStack)s(this.path);return new be({protocol:n,hostname:this.hostname||e,port:r,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(n=>{this.path=`${n?.endsWith("/")?n.slice(0,-1):n||""}`+e}),this}p(e,n,r,i){return this.resolvePathStack.push(s=>{this.path=JC(s,this.input,e,n,r,i)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}};var JC=(t,e,n,r,i,s)=>{if(e!=null&&e[n]!==void 0){let o=r();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");t=t.replace(i,s?o.split("/").map(a=>$m(a)).join("/"):$m(o))}else throw new Error("No value provided for input HTTP label: "+n+".");return t};function D1(t,e,n){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=n}var qm=class{constructor(e){this.authSchemes=new Map;for(let[n,r]of Object.entries(e))r!==void 0&&this.authSchemes.set(n,r)}getIdentityProvider(e){return this.authSchemes.get(e)}};var cQ=t=>e=>eI(e)&&e.expiration.getTime()-Date.now()<t;var R1=cQ(3e5),eI=t=>t.expiration!==void 0,N1=(t,e,n)=>{if(t===void 0)return;let r=typeof t!="function"?()=>g(void 0,null,function*(){return Promise.resolve(t)}):t,i,s,o,a=!1,c=u=>g(void 0,null,function*(){s||(s=r(u));try{i=yield s,o=!0,a=!1}finally{s=void 0}return i});return e===void 0?u=>g(void 0,null,function*(){return(!o||u?.forceRefresh)&&(i=yield c(u)),i}):u=>g(void 0,null,function*(){return(!o||u?.forceRefresh)&&(i=yield c(u)),a?i:n(i)?(e(i)&&(yield c(u)),i):(a=!0,i)})};var M1=(t,e,n)=>{let r,i,s,o=!1,a=()=>g(void 0,null,function*(){i||(i=t());try{r=yield i,s=!0,o=!1}finally{i=void 0}return r});return e===void 0?c=>g(void 0,null,function*(){return(!s||c?.forceRefresh)&&(r=yield a()),r}):c=>g(void 0,null,function*(){return(!s||c?.forceRefresh)&&(r=yield a()),o?r:n&&!n(r)?(o=!0,r):(e(r)&&(yield a()),r)})};var P1=t=>(t.sigv4aSigningRegionSet=ki(t.sigv4aSigningRegionSet),t);var k1="X-Amz-Algorithm",O1="X-Amz-Credential",nI="X-Amz-Date",F1="X-Amz-SignedHeaders",L1="X-Amz-Expires",rI="X-Amz-Signature",iI="X-Amz-Security-Token";var sI="authorization",oI=nI.toLowerCase(),lQ="date",V1=[sI,oI,lQ],B1=rI.toLowerCase(),ud="x-amz-content-sha256",U1=iI.toLowerCase();var j1={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},$1=/^proxy-/,H1=/^sec-/;var zm="AWS4-HMAC-SHA256";var q1="AWS4-HMAC-SHA256-PAYLOAD",z1="UNSIGNED-PAYLOAD",G1=50,aI="aws4_request",W1=60*60*24*7;var Gm={},cI=[],Wm=(t,e,n)=>`${t}/${e}/${n}/${aI}`,Q1=(t,e,n,r,i)=>g(void 0,null,function*(){let s=yield K1(t,e.secretAccessKey,e.accessKeyId),o=`${n}:${r}:${i}:${dt(s)}:${e.sessionToken}`;if(o in Gm)return Gm[o];for(cI.push(o);cI.length>G1;)delete Gm[cI.shift()];let a=`AWS4${e.secretAccessKey}`;for(let c of[n,r,i,aI])a=yield K1(t,a,c);return Gm[o]=a});var K1=(t,e,n)=>{let r=new t(e);return r.update(Qr(n)),r.digest()};var Km=({headers:t},e,n)=>{let r={};for(let i of Object.keys(t).sort()){if(t[i]==null)continue;let s=i.toLowerCase();(s in j1||e?.has(s)||$1.test(s)||H1.test(s))&&(!n||n&&!n.has(s))||(r[s]=t[i].trim().replace(/\s+/g," "))}return r};var lI=({query:t={}})=>{let e=[],n={};for(let r of Object.keys(t)){if(r.toLowerCase()===B1)continue;let i=_r(r);e.push(i);let s=t[r];typeof s=="string"?n[i]=`${i}=${_r(s)}`:Array.isArray(s)&&(n[i]=s.slice(0).reduce((o,a)=>o.concat([`${i}=${_r(a)}`]),[]).sort().join("&"))}return e.sort().map(r=>n[r]).filter(r=>r).join("&")};var Qm=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]";var dd=(r,i)=>g(void 0,[r,i],function*({headers:t,body:e},n){for(let s of Object.keys(t))if(s.toLowerCase()===ud)return t[s];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||Qm(e)){let s=new n;return s.update(Qr(e)),dt(yield s.digest())}return z1});var Ym=class{format(e){let n=[];for(let s of Object.keys(e)){let o=Ln(s);n.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[s]))}let r=new Uint8Array(n.reduce((s,o)=>s+o.byteLength,0)),i=0;for(let s of n)r.set(s,i),i+=s.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let o=new Uint8Array(s.buffer);return o.set(e.value,3),o;case"string":let a=Ln(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":let d=new Uint8Array(9);return d[0]=8,d.set(uI.fromNumber(e.value.valueOf()).bytes,1),d;case"uuid":if(!uQ.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let h=new Uint8Array(17);return h[0]=9,h.set(Um(e.value.replace(/\-/g,"")),1),h}}};var uQ=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,uI=class t{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let n=new Uint8Array(8);for(let r=7,i=Math.abs(Math.round(e));r>-1&&i>0;r--,i/=256)n[r]=i;return e<0&&Y1(n),new t(n)}valueOf(){let e=this.bytes.slice(0),n=e[0]&128;return n&&Y1(e),parseInt(dt(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function Y1(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var Z1=(t,e)=>{t=t.toLowerCase();for(let n of Object.keys(e))if(t===n.toLowerCase())return!0;return!1};var dI=(t,e={})=>{let{headers:n,query:r={}}=be.clone(t);for(let i of Object.keys(n)){let s=i.toLowerCase();(s.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(s)||e.hoistableHeaders?.has(s))&&(r[i]=n[i],delete n[i])}return L(E({},t),{headers:n,query:r})};var Zm=t=>{t=be.clone(t);for(let e of Object.keys(t.headers))V1.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t};var X1=t=>dQ(t).toISOString().replace(/\.\d{3}Z$/,"Z"),dQ=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;var Ho=class{constructor({applyChecksum:e,credentials:n,region:r,service:i,sha256:s,uriEscapePath:o=!0}){this.headerFormatter=new Ym,this.service=i,this.sha256=s,this.uriEscapePath=o,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=Gt(r),this.credentialProvider=Gt(n)}presign(r){return g(this,arguments,function*(e,n={}){let{signingDate:i=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:a,signableHeaders:c,hoistableHeaders:u,signingRegion:d,signingService:h}=n,m=yield this.credentialProvider();this.validateResolvedCredentials(m);let y=d??(yield this.regionProvider()),{longDate:_,shortDate:D}=Xm(i);if(s>W1)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let S=Wm(D,y,h??this.service),O=dI(Zm(e),{unhoistableHeaders:a,hoistableHeaders:u});m.sessionToken&&(O.query[iI]=m.sessionToken),O.query[k1]=zm,O.query[O1]=`${m.accessKeyId}/${S}`,O.query[nI]=_,O.query[L1]=s.toString(10);let H=Km(O,o,c);return O.query[F1]=J1(H),O.query[rI]=yield this.getSignature(_,S,this.getSigningKey(m,y,D,h),this.createCanonicalRequest(O,H,yield dd(e,this.sha256))),O})}sign(e,n){return g(this,null,function*(){return typeof e=="string"?this.signString(e,n):e.headers&&e.payload?this.signEvent(e,n):e.message?this.signMessage(e,n):this.signRequest(e,n)})}signEvent(a,c){return g(this,arguments,function*({headers:e,payload:n},{signingDate:r=new Date,priorSignature:i,signingRegion:s,signingService:o}){let u=s??(yield this.regionProvider()),{shortDate:d,longDate:h}=Xm(r),m=Wm(d,u,o??this.service),y=yield dd({headers:{},body:n},this.sha256),_=new this.sha256;_.update(e);let D=dt(yield _.digest()),S=[q1,h,m,i,D,y].join(`
`);return this.signString(S,{signingDate:r,signingRegion:u,signingService:o})})}signMessage(s,o){return g(this,arguments,function*(e,{signingDate:n=new Date,signingRegion:r,signingService:i}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:n,signingRegion:r,signingService:i,priorSignature:e.priorSignature}).then(c=>({message:e.message,signature:c}))})}signString(s){return g(this,arguments,function*(e,{signingDate:n=new Date,signingRegion:r,signingService:i}={}){let o=yield this.credentialProvider();this.validateResolvedCredentials(o);let a=r??(yield this.regionProvider()),{shortDate:c}=Xm(n),u=new this.sha256(yield this.getSigningKey(o,a,c,i));return u.update(Qr(e)),dt(yield u.digest())})}signRequest(a){return g(this,arguments,function*(e,{signingDate:n=new Date,signableHeaders:r,unsignableHeaders:i,signingRegion:s,signingService:o}={}){let c=yield this.credentialProvider();this.validateResolvedCredentials(c);let u=s??(yield this.regionProvider()),d=Zm(e),{longDate:h,shortDate:m}=Xm(n),y=Wm(m,u,o??this.service);d.headers[oI]=h,c.sessionToken&&(d.headers[U1]=c.sessionToken);let _=yield dd(d,this.sha256);!Z1(ud,d.headers)&&this.applyChecksum&&(d.headers[ud]=_);let D=Km(d,i,r),S=yield this.getSignature(h,y,this.getSigningKey(c,u,m,o),this.createCanonicalRequest(d,D,_));return d.headers[sI]=`${zm} Credential=${c.accessKeyId}/${y}, SignedHeaders=${J1(D)}, Signature=${S}`,d})}createCanonicalRequest(e,n,r){let i=Object.keys(n).sort();return`${e.method}
${this.getCanonicalPath(e)}
${lI(e)}
${i.map(s=>`${s}:${n[s]}`).join(`
`)}

${i.join(";")}
${r}`}createStringToSign(e,n,r){return g(this,null,function*(){let i=new this.sha256;i.update(Qr(r));let s=yield i.digest();return`${zm}
${e}
${n}
${dt(s)}`})}getCanonicalPath({path:e}){if(this.uriEscapePath){let n=[];for(let s of e.split("/"))s?.length!==0&&s!=="."&&(s===".."?n.pop():n.push(s));let r=`${e?.startsWith("/")?"/":""}${n.join("/")}${n.length>0&&e?.endsWith("/")?"/":""}`;return _r(r).replace(/%2F/g,"/")}return e}getSignature(e,n,r,i){return g(this,null,function*(){let s=yield this.createStringToSign(e,n,i),o=new this.sha256(yield r);return o.update(Qr(s)),dt(yield o.digest())})}getSigningKey(e,n,r,i){return Q1(this.sha256,e,r,n,i||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},Xm=t=>{let e=X1(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},J1=t=>Object.keys(t).sort().join(";");var eF=t=>{let e=!1,n;t.credentials&&(e=!0,n=N1(t.credentials,R1,eI)),n||(t.credentialDefaultProvider?n=ki(t.credentialDefaultProvider(Object.assign({},t,{parentClientConfig:t}))):n=()=>g(void 0,null,function*(){throw new Error("`credentials` is missing")}));let{signingEscapePath:r=!0,systemClockOffset:i=t.systemClockOffset||0,sha256:s}=t,o;return t.signer?o=ki(t.signer):t.regionInfoProvider?o=()=>ki(t.region)().then(a=>g(void 0,null,function*(){return[(yield t.regionInfoProvider(a,{useFipsEndpoint:yield t.useFipsEndpoint(),useDualstackEndpoint:yield t.useDualstackEndpoint()}))||{},a]})).then(([a,c])=>{let{signingRegion:u,signingService:d}=a;t.signingRegion=t.signingRegion||u||c,t.signingName=t.signingName||d||t.serviceId;let h=L(E({},t),{credentials:n,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:r}),m=t.signerConstructor||Ho;return new m(h)}):o=a=>g(void 0,null,function*(){a=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:yield ki(t.region)(),properties:{}},a);let c=a.signingRegion,u=a.signingName;t.signingRegion=t.signingRegion||c,t.signingName=t.signingName||u||t.serviceId;let d=L(E({},t),{credentials:n,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:r}),h=t.signerConstructor||Ho;return new h(d)}),L(E({},t),{systemClockOffset:i,signingEscapePath:r,credentials:e?()=>g(void 0,null,function*(){return n().then(a=>d1(a,"CREDENTIALS_CODE","e"))}):n,signer:o})};var qo=(t,e)=>{let n=[];if(t&&n.push(t),e)for(let r of e)n.push(r);return n},Ts=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,Vc=()=>{let t=[],e=[],n=!1,r=new Set,i=h=>h.sort((m,y)=>tF[y.step]-tF[m.step]||nF[y.priority||"normal"]-nF[m.priority||"normal"]),s=h=>{let m=!1,y=_=>{let D=qo(_.name,_.aliases);if(D.includes(h)){m=!0;for(let S of D)r.delete(S);return!1}return!0};return t=t.filter(y),e=e.filter(y),m},o=h=>{let m=!1,y=_=>{if(_.middleware===h){m=!0;for(let D of qo(_.name,_.aliases))r.delete(D);return!1}return!0};return t=t.filter(y),e=e.filter(y),m},a=h=>(t.forEach(m=>{h.add(m.middleware,E({},m))}),e.forEach(m=>{h.addRelativeTo(m.middleware,E({},m))}),h.identifyOnResolve?.(d.identifyOnResolve()),h),c=h=>{let m=[];return h.before.forEach(y=>{y.before.length===0&&y.after.length===0?m.push(y):m.push(...c(y))}),m.push(h),h.after.reverse().forEach(y=>{y.before.length===0&&y.after.length===0?m.push(y):m.push(...c(y))}),m},u=(h=!1)=>{let m=[],y=[],_={};return t.forEach(S=>{let O=L(E({},S),{before:[],after:[]});for(let H of qo(O.name,O.aliases))_[H]=O;m.push(O)}),e.forEach(S=>{let O=L(E({},S),{before:[],after:[]});for(let H of qo(O.name,O.aliases))_[H]=O;y.push(O)}),y.forEach(S=>{if(S.toMiddleware){let O=_[S.toMiddleware];if(O===void 0){if(h)return;throw new Error(`${S.toMiddleware} is not found when adding ${Ts(S.name,S.aliases)} middleware ${S.relation} ${S.toMiddleware}`)}S.relation==="after"&&O.after.push(S),S.relation==="before"&&O.before.push(S)}}),i(m).map(c).reduce((S,O)=>(S.push(...O),S),[])},d={add:(h,m={})=>{let{name:y,override:_,aliases:D}=m,S=E({step:"initialize",priority:"normal",middleware:h},m),O=qo(y,D);if(O.length>0){if(O.some(H=>r.has(H))){if(!_)throw new Error(`Duplicate middleware name '${Ts(y,D)}'`);for(let H of O){let W=t.findIndex(Se=>Se.name===H||Se.aliases?.some(se=>se===H));if(W===-1)continue;let te=t[W];if(te.step!==S.step||S.priority!==te.priority)throw new Error(`"${Ts(te.name,te.aliases)}" middleware with ${te.priority} priority in ${te.step} step cannot be overridden by "${Ts(y,D)}" middleware with ${S.priority} priority in ${S.step} step.`);t.splice(W,1)}}for(let H of O)r.add(H)}t.push(S)},addRelativeTo:(h,m)=>{let{name:y,override:_,aliases:D}=m,S=E({middleware:h},m),O=qo(y,D);if(O.length>0){if(O.some(H=>r.has(H))){if(!_)throw new Error(`Duplicate middleware name '${Ts(y,D)}'`);for(let H of O){let W=e.findIndex(Se=>Se.name===H||Se.aliases?.some(se=>se===H));if(W===-1)continue;let te=e[W];if(te.toMiddleware!==S.toMiddleware||te.relation!==S.relation)throw new Error(`"${Ts(te.name,te.aliases)}" middleware ${te.relation} "${te.toMiddleware}" middleware cannot be overridden by "${Ts(y,D)}" middleware ${S.relation} "${S.toMiddleware}" middleware.`);e.splice(W,1)}}for(let H of O)r.add(H)}e.push(S)},clone:()=>a(Vc()),use:h=>{h.applyToStack(d)},remove:h=>typeof h=="string"?s(h):o(h),removeByTag:h=>{let m=!1,y=_=>{let{tags:D,name:S,aliases:O}=_;if(D&&D.includes(h)){let H=qo(S,O);for(let W of H)r.delete(W);return m=!0,!1}return!0};return t=t.filter(y),e=e.filter(y),m},concat:h=>{let m=a(Vc());return m.use(h),m.identifyOnResolve(n||m.identifyOnResolve()||(h.identifyOnResolve?.()??!1)),m},applyToStack:a,identify:()=>u(!0).map(h=>{let m=h.step??h.relation+" "+h.toMiddleware;return Ts(h.name,h.aliases)+" - "+m}),identifyOnResolve(h){return typeof h=="boolean"&&(n=h),n},resolve:(h,m)=>{for(let y of u().map(_=>_.middleware).reverse())h=y(h,m);return n&&console.log(d.identify()),h}};return d},tF={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},nF={high:3,normal:2,low:1};var Jm=class{constructor(e){this.config=e,this.middlewareStack=Vc()}send(e,n,r){let i=typeof n!="function"?n:void 0,s=typeof n=="function"?n:r,o=i===void 0&&this.config.cacheMiddleware===!0,a;if(o){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(e.constructor)?a=c.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,i),c.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,i);if(s)a(e).then(c=>s(null,c.output),c=>s(c)).catch(()=>{});else return a(e).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}};var zo=class{constructor(){this.middlewareStack=Vc()}static classBuilder(){return new fI}resolveMiddlewareWithContext(e,n,r,{middlewareFn:i,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:u,additionalContext:d,CommandCtor:h}){for(let S of i.bind(this)(h,e,n,r))this.middlewareStack.use(S);let m=e.concat(this.middlewareStack),{logger:y}=n,_=E({logger:y,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[kc]:E({commandInstance:this},u)},d),{requestHandler:D}=n;return m.resolve(S=>D.handle(S.request,r||{}),_)}},fI=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,n,r={}){return this._smithyContext=E({service:e,operation:n},r),this}c(e={}){return this._additionalContext=e,this}n(e,n){return this._clientName=e,this._commandName=n,this}f(e=r=>r,n=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=n,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){let e=this,n;return n=class extends zo{static getEndpointParameterInstructions(){return e._ep}constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this)}resolveMiddleware(r,i,s){return this.resolveMiddlewareWithContext(r,i,s,{CommandCtor:n,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}};var Vn="***SensitiveInformation***";var hI=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}};var fQ=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&fF.warn(dF(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},hQ=Math.ceil(34028234663852886e22),rF=t=>{let e=fQ(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>hQ)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},pQ=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}};var iF=t=>oF(t,16),sF=t=>oF(t,8),oF=(t,e)=>{let n=pQ(t);if(n!==void 0&&mQ(n,e)!==n)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return n},mQ=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},pI=(t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t},aF=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;let e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},Bc=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return fF.warn(dF(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}};var cF=t=>rF(typeof t=="string"?mI(t):t),gQ=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,mI=t=>{let e=t.match(gQ);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)};var lF=t=>iF(typeof t=="string"?mI(t):t),uF=t=>sF(typeof t=="string"?mI(t):t),dF=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),fF={warn:console.warn};var yQ=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],hF=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function pF(t){let e=t.getUTCFullYear(),n=t.getUTCMonth(),r=t.getUTCDay(),i=t.getUTCDate(),s=t.getUTCHours(),o=t.getUTCMinutes(),a=t.getUTCSeconds(),c=i<10?`0${i}`:`${i}`,u=s<10?`0${s}`:`${s}`,d=o<10?`0${o}`:`${o}`,h=a<10?`0${a}`:`${a}`;return`${yQ[r]}, ${c} ${hF[n]} ${e} ${u}:${d}:${h} GMT`}var R_e=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var vQ=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),mF=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=vQ.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[n,r,i,s,o,a,c,u,d]=e,h=lF(gF(r)),m=fd(i,"month",1,12),y=fd(s,"day",1,31),_=_Q(h,m,y,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:u});return d.toUpperCase()!="Z"&&_.setTime(_.getTime()-IQ(d)),_},N_e=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),M_e=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),P_e=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/);var _Q=(t,e,n,r)=>{let i=e-1;return wQ(t,i,n),new Date(Date.UTC(t,i,n,fd(r.hours,"hour",0,23),fd(r.minutes,"minute",0,59),fd(r.seconds,"seconds",0,60),CQ(r.fractionalMilliseconds)))};var k_e=50*365*24*60*60*1e3;var EQ=[31,28,31,30,31,30,31,31,30,31,30,31],wQ=(t,e,n)=>{let r=EQ[e];if(e===1&&bQ(t)&&(r=29),n>r)throw new TypeError(`Invalid day for ${hF[e]} in ${t}: ${n}`)},bQ=t=>t%4===0&&(t%100!==0||t%400===0),fd=(t,e,n,r)=>{let i=uF(gF(t));if(i<n||i>r)throw new TypeError(`${e} must be between ${n} and ${r}, inclusive`);return i},CQ=t=>t==null?0:cF("0."+t)*1e3,IQ=t=>{let e=t[0],n=1;if(e=="+")n=1;else if(e=="-")n=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let r=Number(t.substring(1,3)),i=Number(t.substring(4,6));return n*(r*60+i)*60*1e3},gF=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)};var eg=class t extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,t.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}},er=(t,e={})=>{Object.entries(e).filter(([,r])=>r!==void 0).forEach(([r,i])=>{(t[r]==null||t[r]==="")&&(t[r]=i)});let n=t.message||t.Message||"UnknownError";return t.message=n,delete t.Message,t};var SQ=({output:t,parsedBody:e,exceptionCtor:n,errorCode:r})=>{let i=xQ(t),s=i.httpStatusCode?i.httpStatusCode+"":void 0,o=new n({name:e?.code||e?.Code||r||s||"UnknownError",$fault:"client",$metadata:i});throw er(o,e)},yF=t=>({output:e,parsedBody:n,errorCode:r})=>{SQ({output:e,parsedBody:n,exceptionCtor:t,errorCode:r})},xQ=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]});var vF=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};var _F=t=>{let e=[];for(let n in sd){let r=sd[n];t[r]!==void 0&&e.push({algorithmId:()=>r,checksumConstructor:()=>t[r]})}return{_checksumAlgorithms:e,addChecksumAlgorithm(n){this._checksumAlgorithms.push(n)},checksumAlgorithms(){return this._checksumAlgorithms}}},EF=t=>{let e={};return t.checksumAlgorithms().forEach(n=>{e[n.algorithmId()]=n.checksumConstructor()}),e};var wF=t=>{let e=t.retryStrategy;return{setRetryStrategy(n){e=n},retryStrategy(){return e}}},bF=t=>{let e={};return e.retryStrategy=t.retryStrategy(),e};var CF=t=>E(E({},_F(t)),wF(t));var IF=t=>E(E({},EF(t)),bF(t));var gI=t=>{let e="#text";for(let n in t)t.hasOwnProperty(n)&&t[n][e]!==void 0?t[n]=t[n][e]:typeof t[n]=="object"&&t[n]!==null&&(t[n]=gI(t[n]));return t};var Ds=t=>t!=null;var yI=function(){let t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),n=new e;return Object.setPrototypeOf(n,t.prototype),n};yI.prototype=Object.create(String.prototype,{constructor:{value:yI,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(yI,String);var Rs=class{trace(){}debug(){}info(){}warn(){}error(){}};function Wt(t,e,n){let r,i,s;if(typeof e>"u"&&typeof n>"u")r={},s=t;else{if(r=t,typeof e=="function")return i=e,s=n,AQ(r,i,s);s=e}for(let o of Object.keys(s)){if(!Array.isArray(s[o])){r[o]=s[o];continue}TQ(r,null,s,o)}return r}var AQ=(t,e,n)=>Wt(t,Object.entries(n).reduce((r,[i,s])=>(Array.isArray(s)?r[i]=s:typeof s=="function"?r[i]=[e,s()]:r[i]=[e,s],r),{})),TQ=(t,e,n,r)=>{if(e!==null){let o=n[r];typeof o=="function"&&(o=[,o]);let[a=DQ,c=RQ,u=r]=o;(typeof a=="function"&&a(e[u])||typeof a!="function"&&a)&&(t[r]=c(e[u]));return}let[i,s]=n[r];if(typeof s=="function"){let o,a=i===void 0&&(o=s())!=null,c=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;a?t[r]=o:c&&(t[r]=s())}else{let o=i===void 0&&s!=null,a=typeof i=="function"&&!!i(s)||typeof i!="function"&&!!i;(o||a)&&(t[r]=s)}},DQ=t=>t!=null,RQ=t=>t;var SF=t=>t.toISOString().replace(".000Z","Z");var xF=(t,e)=>ld(t,e).then(n=>e.utf8Encoder(n));var sL=ev(iL());var xI=(t,e)=>xF(t,e).then(n=>{if(n.length){let r=new sL.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,u)=>u.trim()===""&&u.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let i;try{i=r.parse(n,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:n}),c}let s="#text",o=Object.keys(i)[0],a=i[o];return a[s]&&(a[o]=a[s],delete a[s]),gI(a)}return{}}),oL=(t,e)=>g(void 0,null,function*(){let n=yield xI(t,e);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n}),aL=(t,e)=>{if(e?.Error?.Code!==void 0)return e.Error.Code;if(e?.Code!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"};var md=[et.CRC32,et.CRC32C,et.SHA1,et.SHA256],cL=[et.SHA256,et.SHA1,et.CRC32,et.CRC32C];var lL=(t,{requestChecksumRequired:e,requestAlgorithmMember:n},r)=>{let i=r?u1:l1;if(!n||!t[n])return e?i:void 0;let s=t[n];if(!md.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${md}.`);return s};var Uc=t=>t===et.MD5?"content-md5":`x-amz-checksum-${t.toLowerCase()}`;var uL=(t,e)=>{let n=t.toLowerCase();for(let r of Object.keys(e))if(n===r.toLowerCase())return!0;return!1};var jc=t=>t!==void 0&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!Qm(t);var AI=t=>new TextEncoder().encode(t);var BY=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:AI;function gn(t){return t instanceof Uint8Array?t:typeof t=="string"?BY(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function Yr(t){return typeof t=="string"?t.length===0:t.byteLength===0}function gd(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}function yd(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),n=0;n<t.length;)e[n]=t[n],n+=1;return e}return Uint32Array.from(t)}var TI=function(){function t(){this.crc32=new Wo}return t.prototype.update=function(e){Yr(e)||this.crc32.update(gn(e))},t.prototype.digest=function(){return Gi(this,void 0,void 0,function(){return ma(this,function(e){return[2,gd(this.crc32.digest())]})})},t.prototype.reset=function(){this.crc32=new Wo},t}();var Wo=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var n,r;try{for(var i=pa(e),s=i.next();!s.done;s=i.next()){var o=s.value;this.checksum=this.checksum>>>8^jY[(this.checksum^o)&255]}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();var UY=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],jY=yd(UY);var RI=function(){function t(){this.crc32c=new DI}return t.prototype.update=function(e){Yr(e)||this.crc32c.update(gn(e))},t.prototype.digest=function(){return Gi(this,void 0,void 0,function(){return ma(this,function(e){return[2,gd(this.crc32c.digest())]})})},t.prototype.reset=function(){this.crc32c=new DI},t}();var DI=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var n,r;try{for(var i=pa(e),s=i.next();!s.done;s=i.next()){var o=s.value;this.checksum=this.checksum>>>8^HY[(this.checksum^o)&255]}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();var $Y=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],HY=yd($Y);var ng=(t,e)=>({[et.MD5]:e.md5,[et.CRC32]:TI,[et.CRC32C]:RI,[et.SHA1]:e.sha1,[et.SHA256]:e.sha256})[t];var rg=(t,e)=>{let n=new t;return n.update(Qr(e||"")),n.digest()};var dL={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},fL=(t,e)=>(n,r)=>i=>g(void 0,null,function*(){if(!be.isInstance(i.request))return n(i);let{request:s}=i,{body:o,headers:a}=s,{base64Encoder:c,streamHasher:u}=t,{input:d,requestChecksumRequired:h,requestAlgorithmMember:m}=e,y=lL(d,{requestChecksumRequired:h,requestAlgorithmMember:m},!!r.isS3ExpressBucket),_=o,D=a;if(y){switch(y){case et.CRC32:Bt(r,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case et.CRC32C:Bt(r,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case et.SHA1:Bt(r,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case et.SHA256:Bt(r,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}let O=Uc(y),H=ng(y,t);if(jc(o)){let{getAwsChunkedEncodingStream:W,bodyLengthChecker:te}=t;_=W(o,{base64Encoder:c,bodyLengthChecker:te,checksumLocationName:O,checksumAlgorithmFn:H,streamHasher:u}),D=L(E({},a),{"content-encoding":a["content-encoding"]?`${a["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":a["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":O}),delete D["content-length"]}else if(!uL(O,a)){let W=yield rg(H,o);D=L(E({},a),{[O]:c(W)})}}return yield n(L(E({},i),{request:L(E({},s),{headers:D,body:_})}))});var ig=(t=[])=>{let e=[];for(let n of cL)!t.includes(n)||!md.includes(n)||e.push(n);return e};var hL=t=>{let e=t.lastIndexOf("-");if(e!==-1){let n=t.slice(e+1);if(!n.startsWith("0")){let r=parseInt(n,10);if(!isNaN(r)&&r>=1&&r<=1e4)return!0}}return!1};function NI(t){return new Blob([t]).stream()}var pL=(i,s)=>g(void 0,[i,s],function*(t,{streamHasher:e,checksumAlgorithmFn:n,base64Encoder:r}){let o=jc(t)?e(n,t):rg(n,t);return r(yield o)});var mL=(r,i)=>g(void 0,[r,i],function*(t,{config:e,responseAlgorithms:n}){let s=ig(n),{body:o,headers:a}=t;for(let c of s){let u=Uc(c),d=a[u];if(d){let h=ng(c,e),{streamHasher:m,base64Encoder:y}=e,_=yield pL(o,{streamHasher:m,checksumAlgorithmFn:h,base64Encoder:y});if(_===d)break;throw new Error(`Checksum mismatch: expected "${_}" but received "${d}" in response header "${u}".`)}}});var gL={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},yL=(t,e)=>(n,r)=>i=>g(void 0,null,function*(){if(!be.isInstance(i.request))return n(i);let s=i.input,o=yield n(i),a=o.response,c,{requestValidationModeMember:u,responseAlgorithms:d}=e;if(u&&s[u]==="ENABLED"){let{clientName:h,commandName:m}=r;if(h==="S3Client"&&m==="GetObjectCommand"&&ig(d).every(D=>{let S=Uc(D),O=a.headers[S];return!O||hL(O)}))return o;let _=jc(a.body);_&&(c=yield t.streamCollector(a.body),a.body=NI(c)),yield mL(o.response,{config:t,responseAlgorithms:d}),_&&c&&(a.body=NI(c))}return o});var vL=(t,e)=>({applyToStack:n=>{n.add(fL(t,e),dL),n.addRelativeTo(yL(t,e),gL)}});var _L=t=>L(E({},t),{requestChecksumCalculation:Gt(t.requestChecksumCalculation??qC),responseChecksumValidation:Gt(t.responseChecksumValidation??zC)});var qY=t=>e=>n=>g(void 0,null,function*(){if(!be.isInstance(n.request))return e(n);let{request:r}=n,{handlerProtocol:i=""}=t.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let s=r.hostname;r.port!=null&&(s+=`:${r.port}`),r.headers.host=s}return e(n)}),zY={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},EL=t=>({applyToStack:e=>{e.add(qY(t),zY)}});var GY=()=>(t,e)=>n=>g(void 0,null,function*(){try{let i=yield t(n),{clientName:s,commandName:o,logger:a,dynamoDbDocumentClientOptions:c={}}=e,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:d}=c,h=u??e.inputFilterSensitiveLog,m=d??e.outputFilterSensitiveLog,r=i.output,{$metadata:y}=r,_=Hs(r,["$metadata"]);return a?.info?.({clientName:s,commandName:o,input:h(n.input),output:m(_),metadata:y}),i}catch(i){let{clientName:s,commandName:o,logger:a,dynamoDbDocumentClientOptions:c={}}=e,{overrideInputFilterSensitiveLog:u}=c,d=u??e.inputFilterSensitiveLog;throw a?.error?.({clientName:s,commandName:o,input:d(n.input),error:i,metadata:i.$metadata}),i}}),WY={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},wL=t=>({applyToStack:e=>{e.add(GY(),WY)}});var bL="X-Amzn-Trace-Id",KY="AWS_LAMBDA_FUNCTION_NAME",QY="_X_AMZN_TRACE_ID",YY=t=>e=>n=>g(void 0,null,function*(){let{request:r}=n;if(!be.isInstance(r)||t.runtime!=="node"||r.headers.hasOwnProperty(bL))return e(n);let i=process.env[KY],s=process.env[QY],o=a=>typeof a=="string"&&a.length>0;return o(i)&&o(s)&&(r.headers[bL]=s),e(L(E({},n),{request:r}))}),ZY={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},CL=t=>({applyToStack:e=>{e.add(YY(t),ZY)}});var XY="content-length";function JY(){return(t,e)=>n=>g(this,null,function*(){let{request:r}=n;if(be.isInstance(r)&&!(XY in r.headers)){let i="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof e?.logger?.warn=="function"&&!(e.logger instanceof Rs)?e.logger.warn(i):console.warn(i)}return t(E({},n))})}var eZ={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},IL=t=>({applyToStack:e=>{e.add(JY(),eZ)}});var SL=t=>(e,n)=>r=>g(void 0,null,function*(){let i=yield t.region(),s=t.region,o=()=>{};n.__s3RegionRedirect&&(Object.defineProperty(t,"region",{writable:!1,value:()=>g(void 0,null,function*(){return n.__s3RegionRedirect})}),o=()=>Object.defineProperty(t,"region",{writable:!0,value:s}));try{let a=yield e(r);if(n.__s3RegionRedirect){o();let c=yield t.region();if(i!==c)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw o(),a}}),xL={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function tZ(t){return(e,n)=>r=>g(this,null,function*(){try{return yield e(r)}catch(i){if(t.followRegionRedirects&&(i?.$metadata?.httpStatusCode===301||i?.$metadata?.httpStatusCode===400&&i?.name==="IllegalLocationConstraintException")){try{let s=i.$response.headers["x-amz-bucket-region"];n.logger?.debug(`Redirecting from ${yield t.region()} to ${s}`),n.__s3RegionRedirect=s}catch(s){throw new Error("Region redirect failed: "+s)}return e(r)}throw i}})}var nZ={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},AL=t=>({applyToStack:e=>{e.add(tZ(t),nZ),e.addRelativeTo(SL(t),xL)}});var MI=(()=>{class t{constructor(n={}){this.data=n,this.lastPurgeTime=Date.now()}get(n){let r=this.data[n];if(r)return r}set(n,r){return this.data[n]=r,r}delete(n){delete this.data[n]}purgeExpired(){return g(this,null,function*(){let n=Date.now();if(!(this.lastPurgeTime+t.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>n))for(let r in this.data){let i=this.data[r];if(!i.isRefreshing){let s=yield i.identity;s.expiration&&s.expiration.getTime()<n&&delete this.data[r]}}})}}return t.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4,t})();var Ko=class{constructor(e,n=!1,r=Date.now()){this._identity=e,this.isRefreshing=n,this.accessed=r}get identity(){return this.accessed=Date.now(),this._identity}};var PI=(()=>{class t{constructor(n,r=new MI){this.createSessionFn=n,this.cache=r}getS3ExpressIdentity(n,r){return g(this,null,function*(){let i=r.Bucket,{cache:s}=this,o=s.get(i);return o?o.identity.then(a=>(a.expiration?.getTime()??0)<Date.now()?s.set(i,new Ko(this.getIdentity(i))).identity:((a.expiration?.getTime()??0)<Date.now()+t.REFRESH_WINDOW_MS&&!o.isRefreshing&&(o.isRefreshing=!0,this.getIdentity(i).then(d=>{s.set(i,new Ko(Promise.resolve(d)))})),a)):s.set(i,new Ko(this.getIdentity(i))).identity})}getIdentity(n){return g(this,null,function*(){yield this.cache.purgeExpired().catch(s=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+s)});let r=yield this.createSessionFn(n);if(!r.Credentials?.AccessKeyId||!r.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}})}}return t.REFRESH_WINDOW_MS=6e4,t})();var RL="Directory",NL="S3Express",ML="sigv4-s3express",sg="X-Amz-S3session-Token",vd=sg.toLowerCase();var _d=class extends Ho{signWithCredentials(e,n,r){return g(this,null,function*(){let i=PL(n);e.headers[vd]=n.sessionToken;let s=this;return kL(s,i),s.signRequest(e,r??{})})}presignWithCredentials(e,n,r){return g(this,null,function*(){let i=PL(n);return delete e.headers[vd],e.headers[sg]=n.sessionToken,e.query=e.query??{},e.query[sg]=n.sessionToken,kL(this,i),this.presign(e,r)})}};function PL(t){return{accessKeyId:t.accessKeyId,secretAccessKey:t.secretAccessKey,expiration:t.expiration}}function kL(t,e){let n=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),r=t.credentialProvider,i=()=>(clearTimeout(n),t.credentialProvider=r,Promise.resolve(e));t.credentialProvider=i}var OL=t=>(e,n)=>r=>g(void 0,null,function*(){if(n.endpointV2){let i=n.endpointV2,s=i.properties?.authSchemes?.[0]?.name===ML;if((i.properties?.backend===NL||i.properties?.bucketType===RL)&&(Bt(n,"S3_EXPRESS_BUCKET","J"),n.isS3ExpressBucket=!0),s){let a=r.input.Bucket;if(a){let c=yield t.s3ExpressIdentityProvider.getS3ExpressIdentity(yield t.credentials(),{Bucket:a});n.s3ExpressIdentity=c,be.isInstance(r.request)&&c.sessionToken&&(r.request.headers[vd]=c.sessionToken)}}}return e(r)}),FL={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},kI=t=>({applyToStack:e=>{e.add(OL(t),FL)}});var LL=(t,e,n,r)=>g(void 0,null,function*(){let i=yield r.signWithCredentials(n,t,{});if(i.headers["X-Amz-Security-Token"]||i.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return i});var iZ=t=>e=>{throw e},sZ=(t,e)=>{};var VL=t=>(e,n)=>r=>g(void 0,null,function*(){if(!be.isInstance(r.request))return e(r);let s=vr(n).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=s,u;n.s3ExpressIdentity?u=yield LL(n.s3ExpressIdentity,o,r.request,yield t.signer()):u=yield c.sign(r.request,a,o);let d=yield e(L(E({},r),{request:u})).catch((c.errorHandler||iZ)(o));return(c.successHandler||sZ)(d.response,o),d}),OI=t=>({applyToStack:e=>{e.addRelativeTo(VL(t),QC)}});var BL=(t,{session:e})=>{let[n,r]=e;return L(E({},t),{forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,followRegionRedirects:t.followRegionRedirects??!1,s3ExpressIdentityProvider:t.s3ExpressIdentityProvider??new PI(i=>g(void 0,null,function*(){return n().send(new r({Bucket:i,SessionMode:"ReadWrite"}))})),bucketEndpoint:t.bucketEndpoint??!1})};var oZ={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},aZ=3e3,cZ=t=>(e,n)=>r=>g(void 0,null,function*(){let i=yield e(r),{response:s}=i;if(!Sn.isInstance(s))return i;let{statusCode:o,body:a}=s;if(o<200||o>=300||!(typeof a?.stream=="function"||typeof a?.pipe=="function"||typeof a?.tee=="function"))return i;let u=a,d=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([u,d]=yield A1(a)),s.body=d;let h=yield lZ(u,{streamCollector:y=>g(void 0,null,function*(){return T1(y,aZ)})});typeof u?.destroy=="function"&&u.destroy();let m=t.utf8Encoder(h.subarray(h.length-16));if(h.length===0&&oZ[n.commandName]){let y=new Error("S3 aborted request");throw y.name="InternalError",y}return m&&m.endsWith("</Error>")&&(s.statusCode=400),i}),lZ=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),uZ={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},og=t=>({applyToStack:e=>{e.addRelativeTo(cZ(t),uZ)}});var UL=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6;function jL(t){return(e,n)=>r=>g(this,null,function*(){if(t.bucketEndpoint){let i=n.endpointV2;if(i){let s=r.input.Bucket;if(typeof s=="string")try{let o=new URL(s);n.endpointV2=L(E({},i),{url:o})}catch(o){let a=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${s} could not be parsed as URL.`;throw n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a),o}}}return e(r)})}var $L={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function dZ({bucketEndpoint:t}){return e=>n=>g(this,null,function*(){let{input:{Bucket:r}}=n;if(!t&&typeof r=="string"&&!UL(r)&&r.indexOf("/")>=0){let i=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw i.name="InvalidBucketName",i}return e(E({},n))})}var fZ={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},HL=t=>({applyToStack:e=>{e.add(dZ(t),fZ),e.addRelativeTo(jL(t),$L)}});var hZ=void 0;function pZ(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function qL(t){let e=ki(t.userAgentAppId??hZ);return L(E({},t),{customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent,userAgentAppId:()=>g(this,null,function*(){let n=yield e();if(!pZ(n)){let r=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console:t.logger;typeof n!="string"?r?.warn("userAgentAppId must be a string or undefined."):n.length>50&&r?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n})})}var ag=class{constructor({size:e,params:n}){this.data=new Map,this.parameters=[],this.capacity=e??50,n&&(this.parameters=n)}get(e,n){let r=this.hash(e);if(r===!1)return n();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let i=this.data.keys(),s=0;for(;;){let{value:o,done:a}=i.next();if(this.data.delete(o),a||++s>10)break}}this.data.set(r,n())}return this.data.get(r)}size(){return this.data.size}hash(e){let n="",{parameters:r}=this;if(r.length===0)return!1;for(let i of r){let s=String(e[i]??"");if(s.includes("|;"))return!1;n+=s+"|;"}return n}};var mZ=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Ed=t=>mZ.test(t)||t.startsWith("[")&&t.endsWith("]");var gZ=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),wd=(t,e=!1)=>{if(!e)return gZ.test(t);let n=t.split(".");for(let r of n)if(!wd(r))return!1;return!0};var Qo={};var Vi="endpoints";function tr(t){return typeof t!="object"||t==null?t:"ref"in t?`$${tr(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(tr).join(", ")})`:JSON.stringify(t,null,2)}var Qe=class extends Error{constructor(e){super(e),this.name="EndpointError"}};var zL=(t,e)=>t===e;var GL=t=>{let e=t.split("."),n=[];for(let r of e){let i=r.indexOf("[");if(i!==-1){if(r.indexOf("]")!==r.length-1)throw new Qe(`Path: '${t}' does not end with ']'`);let s=r.slice(i+1,-1);if(Number.isNaN(parseInt(s)))throw new Qe(`Invalid array index: '${s}' in path: '${t}'`);i!==0&&n.push(r.slice(0,i)),n.push(s)}else n.push(r)}return n};var cg=(t,e)=>GL(e).reduce((n,r)=>{if(typeof n!="object")throw new Qe(`Index '${r}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]},t);var WL=t=>t!=null;var KL=t=>!t;var FI={[id.HTTP]:80,[id.HTTPS]:443},QL=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:m,port:y,protocol:_="",path:D="",query:S={}}=t,O=new URL(`${_}//${m}${y?`:${y}`:""}${D}`);return O.search=Object.entries(S).map(([H,W])=>`${H}=${W}`).join("&"),O}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let n=e.href,{host:r,hostname:i,pathname:s,protocol:o,search:a}=e;if(a)return null;let c=o.slice(0,-1);if(!Object.values(id).includes(c))return null;let u=Ed(i),d=n.includes(`${r}:${FI[c]}`)||typeof t=="string"&&t.includes(`${r}:${FI[c]}`),h=`${r}${d?`:${FI[c]}`:""}`;return{scheme:c,authority:h,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:u}};var YL=(t,e)=>t===e;var ZL=(t,e,n,r)=>e>=n||t.length<n?null:r?t.substring(t.length-n,t.length-e):t.substring(e,n);var XL=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`);var JL={booleanEquals:zL,getAttr:cg,isSet:WL,isValidHostLabel:wd,not:KL,parseURL:QL,stringEquals:YL,substring:ZL,uriEncode:XL};var lg=(t,e)=>{let n=[],r=E(E({},e.endpointParams),e.referenceRecord),i=0;for(;i<t.length;){let s=t.indexOf("{",i);if(s===-1){n.push(t.slice(i));break}n.push(t.slice(i,s));let o=t.indexOf("}",s);if(o===-1){n.push(t.slice(s));break}t[s+1]==="{"&&t[o+1]==="}"&&(n.push(t.slice(s+1,o)),i=o+2);let a=t.substring(s+1,o);if(a.includes("#")){let[c,u]=a.split("#");n.push(cg(r[c],u))}else n.push(r[a]);i=o+1}return n.join("")};var eV=({ref:t},e)=>E(E({},e.endpointParams),e.referenceRecord)[t];var Ms=(t,e,n)=>{if(typeof t=="string")return lg(t,n);if(t.fn)return ug(t,n);if(t.ref)return eV(t,n);throw new Qe(`'${e}': ${String(t)} is not a string, function or reference.`)};var ug=({fn:t,argv:e},n)=>{let r=e.map(s=>["boolean","number"].includes(typeof s)?s:Ms(s,"arg",n)),i=t.split(".");return i[0]in Qo&&i[1]!=null?Qo[i[0]][i[1]](...r):JL[t](...r)};var tV=(r,n)=>{var i=r,{assign:t}=i,e=Hs(i,["assign"]);if(t&&t in n.referenceRecord)throw new Qe(`'${t}' is already defined in Reference Record.`);let s=ug(e,n);return n.logger?.debug?.(`${Vi} evaluateCondition: ${tr(e)} = ${tr(s)}`),E({result:s===""?!0:!!s},t!=null&&{toAssign:{name:t,value:s}})};var $c=(t=[],e)=>{let n={};for(let r of t){let{result:i,toAssign:s}=tV(r,L(E({},e),{referenceRecord:E(E({},e.referenceRecord),n)}));if(!i)return{result:i};s&&(n[s.name]=s.value,e.logger?.debug?.(`${Vi} assign: ${s.name} := ${tr(s.value)}`))}return{result:!0,referenceRecord:n}};var nV=(t,e)=>Object.entries(t).reduce((n,[r,i])=>L(E({},n),{[r]:i.map(s=>{let o=Ms(s,"Header value entry",e);if(typeof o!="string")throw new Qe(`Header '${r}' value '${o}' is not a string`);return o})}),{});var LI=(t,e)=>{if(Array.isArray(t))return t.map(n=>LI(n,e));switch(typeof t){case"string":return lg(t,e);case"object":if(t===null)throw new Qe(`Unexpected endpoint property: ${t}`);return dg(t,e);case"boolean":return t;default:throw new Qe(`Unexpected endpoint property type: ${typeof t}`)}};var dg=(t,e)=>Object.entries(t).reduce((n,[r,i])=>L(E({},n),{[r]:LI(i,e)}),{});var rV=(t,e)=>{let n=Ms(t,"Endpoint URL",e);if(typeof n=="string")try{return new URL(n)}catch(r){throw console.error(`Failed to construct URL with ${n}`,r),r}throw new Qe(`Endpoint URL must be a string, got ${typeof n}`)};var iV=(t,e)=>{let{conditions:n,endpoint:r}=t,{result:i,referenceRecord:s}=$c(n,e);if(!i)return;let o=L(E({},e),{referenceRecord:E(E({},e.referenceRecord),s)}),{url:a,properties:c,headers:u}=r;return e.logger?.debug?.(`${Vi} Resolving endpoint from template: ${tr(r)}`),L(E(E({},u!=null&&{headers:nV(u,o)}),c!=null&&{properties:dg(c,o)}),{url:rV(a,o)})};var sV=(t,e)=>{let{conditions:n,error:r}=t,{result:i,referenceRecord:s}=$c(n,e);if(i)throw new Qe(Ms(r,"Error",L(E({},e),{referenceRecord:E(E({},e.referenceRecord),s)})))};var oV=(t,e)=>{let{conditions:n,rules:r}=t,{result:i,referenceRecord:s}=$c(n,e);if(i)return fg(r,L(E({},e),{referenceRecord:E(E({},e.referenceRecord),s)}))};var fg=(t,e)=>{for(let n of t)if(n.type==="endpoint"){let r=iV(n,e);if(r)return r}else if(n.type==="error")sV(n,e);else if(n.type==="tree"){let r=oV(n,e);if(r)return r}else throw new Qe(`Unknown endpoint rule: ${n}`);throw new Qe("Rules evaluation failed")};var VI=(t,e)=>{let{endpointParams:n,logger:r}=e,{parameters:i,rules:s}=t;e.logger?.debug?.(`${Vi} Initial EndpointParams: ${tr(n)}`);let o=Object.entries(i).filter(([,u])=>u.default!=null).map(([u,d])=>[u,d.default]);if(o.length>0)for(let[u,d]of o)n[u]=n[u]??d;let a=Object.entries(i).filter(([,u])=>u.required).map(([u])=>u);for(let u of a)if(n[u]==null)throw new Qe(`Missing required parameter: '${u}'`);let c=fg(s,{endpointParams:n,logger:r,referenceRecord:{}});return e.logger?.debug?.(`${Vi} Resolved endpoint: ${tr(c)}`),c};var BI=(t,e=!1)=>{if(e){for(let n of t.split("."))if(!BI(n))return!1;return!0}return!(!wd(t)||t.length<3||t.length>63||t!==t.toLowerCase()||Ed(t))};var aV=":",yZ="/",cV=t=>{let e=t.split(aV);if(e.length<6)return null;let[n,r,i,s,o,...a]=e;if(n!=="arn"||r===""||i===""||a.join(aV)==="")return null;let c=a.map(u=>u.split(yZ)).flat();return{partition:r,service:i,region:s,accountId:o,resourceId:c}};var lV={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"};var _Z=lV,EZ="",uV=t=>{let{partitions:e}=_Z;for(let r of e){let{regions:i,outputs:s}=r;for(let[o,a]of Object.entries(i))if(o===t)return E(E({},s),a)}for(let r of e){let{regionRegex:i,outputs:s}=r;if(new RegExp(i).test(t))return E({},s)}let n=e.find(r=>r.id==="aws");if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return E({},n.outputs)};var dV=()=>EZ;var UI={isVirtualHostableS3Bucket:BI,parseArn:cV,partition:uV};Qo.aws=UI;var wZ=/\d{12}\.ddb/;function fV(t,e,n){return g(this,null,function*(){if(n.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Bt(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){let s=yield e.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?Bt(t,"RETRY_MODE_ADAPTIVE","F"):Bt(t,"RETRY_MODE_STANDARD","E"):Bt(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){let s=t.endpointV2;switch(String(s?.url?.hostname).match(wZ)&&Bt(t,"ACCOUNT_ID_ENDPOINT","O"),yield e.accountIdEndpointMode?.()){case"disabled":Bt(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Bt(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Bt(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let i=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(i?.$source){let s=i;s.accountId&&Bt(t,"RESOLVED_ACCOUNT_ID","T");for(let[o,a]of Object.entries(s.$source??{}))Bt(t,o,a)}})}var jI="user-agent",hg="x-amz-user-agent",$I=" ",pg="/",hV=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,pV=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,HI="-";function mV(t){let e="";for(let n in t){let r=t[n];if(e.length+r.length+1<=1024){e.length?e+=","+r:e+=r;continue}break}return e}var bZ=t=>(e,n)=>r=>g(void 0,null,function*(){let{request:i}=r;if(!be.isInstance(i))return e(r);let{headers:s}=i,o=n?.userAgent?.map(mg)||[],a=(yield t.defaultUserAgentProvider()).map(mg);yield fV(n,t,r);let c=n;a.push(`m/${mV(Object.assign({},n.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let u=t?.customUserAgent?.map(mg)||[],d=yield t.userAgentAppId();d&&a.push(mg([`app/${d}`]));let h=dV(),m=(h?[h]:[]).concat([...a,...o,...u]).join($I),y=[...a.filter(_=>_.startsWith("aws-sdk-")),...u].join($I);return t.runtime!=="browser"?(y&&(s[hg]=s[hg]?`${s[jI]} ${y}`:y),s[jI]=m):s[hg]=m,e(L(E({},r),{request:i}))}),mg=t=>{let e=t[0].split(pg).map(o=>o.replace(hV,HI)).join(pg),n=t[1]?.replace(pV,HI),r=e.indexOf(pg),i=e.substring(0,r),s=e.substring(r+1);return i==="api"&&(s=s.toLowerCase()),[i,s,n].filter(o=>o&&o.length>0).reduce((o,a,c)=>{switch(c){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},CZ={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},gV=t=>({applyToStack:e=>{e.add(bZ(t),CZ)}});var yV=!1;var vV=!1;var gg=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"));var qI=t=>gg(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t;var _V=t=>{let{region:e,useFipsEndpoint:n}=t;if(!e)throw new Error("Region is missing");return L(E({},t),{region:()=>g(void 0,null,function*(){if(typeof e=="string")return qI(e);let r=yield e();return qI(r)}),useFipsEndpoint:()=>g(void 0,null,function*(){let r=typeof e=="string"?e:yield e();return gg(r)?!0:typeof n!="function"?Promise.resolve(!!n):n()})})};var EV=t=>L(E({},t),{eventStreamMarshaller:t.eventStreamSerdeProvider(t)});var wV="content-length";function IZ(t){return e=>n=>g(this,null,function*(){let r=n.request;if(be.isInstance(r)){let{body:i,headers:s}=r;if(i&&Object.keys(s).map(o=>o.toLowerCase()).indexOf(wV)===-1)try{let o=t(i);r.headers=L(E({},r.headers),{[wV]:String(o)})}catch{}}return e(L(E({},n),{request:r}))})}var SZ={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},bV=t=>({applyToStack:e=>{e.add(IZ(t.bodyLengthChecker),SZ)}});var CV=t=>g(void 0,null,function*(){let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),RZ(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!DZ(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t}),xZ=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,AZ=/(\d+\.){3}\d+/,TZ=/\.\./;var DZ=t=>xZ.test(t)&&!AZ.test(t)&&!TZ.test(t),RZ=t=>{let[e,n,r,,,i]=t.split(":"),s=e==="arn"&&t.split(":").length>=6,o=!!(s&&n&&r&&i);if(s&&!o)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return o};var IV=(t,e,n)=>{let r=()=>g(void 0,null,function*(){let i=n[t]??n[e];return typeof i=="function"?i():i});return t==="credentialScope"||e==="CredentialScope"?()=>g(void 0,null,function*(){let i=typeof n.credentials=="function"?yield n.credentials():n.credentials;return i?.credentialScope??i?.CredentialScope}):t==="accountId"||e==="AccountId"?()=>g(void 0,null,function*(){let i=typeof n.credentials=="function"?yield n.credentials():n.credentials;return i?.accountId??i?.AccountId}):t==="endpoint"||e==="endpoint"?()=>g(void 0,null,function*(){let i=yield r();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){let{protocol:s,hostname:o,port:a,path:c}=i;return`${s}//${o}${a?":"+a:""}${c}`}}return i}):r};var yg=t=>g(void 0,null,function*(){});function SV(t){let e={};if(t=t.replace(/^\?/,""),t)for(let n of t.split("&")){let[r,i=null]=n.split("=");r=decodeURIComponent(r),i&&(i=decodeURIComponent(i)),r in e?Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i}return e}var Hc=t=>{if(typeof t=="string")return Hc(new URL(t));let{hostname:e,pathname:n,port:r,protocol:i,search:s}=t,o;return s&&(o=SV(s)),{hostname:e,port:r?parseInt(r):void 0,protocol:i,path:n,query:o}};var vg=t=>typeof t=="object"?"url"in t?Hc(t.url):t:Hc(t);var xV=(t,e,n,r)=>g(void 0,null,function*(){if(!n.endpoint){let o;n.serviceConfiguredEndpoint?o=yield n.serviceConfiguredEndpoint():o=yield yg(n.serviceId),o&&(n.endpoint=()=>Promise.resolve(vg(o)))}let i=yield zI(t,e,n);if(typeof n.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return n.endpointProvider(i,r)}),zI=(t,e,n)=>g(void 0,null,function*(){let r={},i=e?.getEndpointParameterInstructions?.()||{};for(let[s,o]of Object.entries(i))switch(o.type){case"staticContextParams":r[s]=o.value;break;case"contextParams":r[s]=t[o.name];break;case"clientContextParams":case"builtInParams":r[s]=yield IV(o.name,s,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return Object.keys(i).length===0&&Object.assign(r,n),String(n.serviceId).toLowerCase()==="s3"&&(yield CV(r)),r});var AV=({config:t,instructions:e})=>(n,r)=>i=>g(void 0,null,function*(){t.endpoint&&D1(r,"ENDPOINT_OVERRIDE","N");let s=yield xV(i.input,{getEndpointParameterInstructions(){return e}},E({},t),r);r.endpointV2=s,r.authSchemes=s.properties?.authSchemes;let o=r.authSchemes?.[0];if(o){r.signing_region=o.signingRegion,r.signing_service=o.signingName;let c=vr(r)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return n(E({},i))});var NZ={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:cd.name},_g=(t,e)=>({applyToStack:n=>{n.addRelativeTo(AV({config:t,instructions:e}),NZ)}});var TV=t=>{let e=t.tls??!0,{endpoint:n}=t,r=n!=null?()=>g(void 0,null,function*(){return vg(yield Gt(n)())}):void 0,i=!!n,s=L(E({},t),{endpoint:r,tls:e,isCustomEndpoint:i,useDualstackEndpoint:Gt(t.useDualstackEndpoint??!1),useFipsEndpoint:Gt(t.useFipsEndpoint??!1)}),o;return s.serviceConfiguredEndpoint=()=>g(void 0,null,function*(){return t.serviceId&&!o&&(o=yg(t.serviceId)),o}),s};var Zr=function(t){return t.STANDARD="standard",t.ADAPTIVE="adaptive",t}(Zr||{}),Ps=3,GI=Zr.STANDARD;var DV=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],RV=["TimeoutError","RequestTimeout","RequestTimeoutException"],NV=[500,502,503,504],MV=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"];var MZ=t=>t.$metadata?.clockSkewCorrected,qc=t=>t.$metadata?.httpStatusCode===429||DV.includes(t.name)||t.$retryable?.throttling==!0,Eg=t=>MZ(t)||RV.includes(t.name)||MV.includes(t?.code||"")||NV.includes(t.$metadata?.httpStatusCode||0),PV=t=>{if(t.$metadata?.httpStatusCode!==void 0){let e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!Eg(t)}return!1};var bd=class{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let n=this.getCurrentTimeInSeconds();this.lastThrottleTime=n,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}getSendToken(){return g(this,null,function*(){return this.acquireTokenBucket(1)})}acquireTokenBucket(e){return g(this,null,function*(){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let n=(e-this.currentCapacity)/this.fillRate*1e3;yield new Promise(r=>setTimeout(r,n))}this.currentCapacity=this.currentCapacity-e}})}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let n=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+n),this.lastTimestamp=e}updateClientSendingRate(e){let n;if(this.updateMeasuredRate(),qc(e)){let i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),n=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),n=this.cubicSuccess(this.getCurrentTimeInSeconds());let r=Math.min(n,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),n=Math.floor(e*2)/2;if(this.requestCount++,n>this.lastTxRateBucket){let r=this.requestCount/(n-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=n}}getPrecise(e){return parseFloat(e.toFixed(8))}};var wg="amz-sdk-invocation-id",bg="amz-sdk-request";var kV=()=>{let t=100;return{computeNextBackoffDelay:r=>Math.floor(Math.min(2e4,Math.random()*2**r*t)),setDelayBase:r=>{t=r}}};var WI=({retryDelay:t,retryCount:e,retryCost:n})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(2e4,t),getRetryCost:()=>n});var Yo=class{constructor(e){this.maxAttempts=e,this.mode=Zr.STANDARD,this.capacity=500,this.retryBackoffStrategy=kV(),this.maxAttemptsProvider=typeof e=="function"?e:()=>g(this,null,function*(){return e})}acquireInitialRetryToken(e){return g(this,null,function*(){return WI({retryDelay:100,retryCount:0})})}refreshRetryTokenForRetry(e,n){return g(this,null,function*(){let r=yield this.getMaxAttempts();if(this.shouldRetry(e,n,r)){let i=n.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?500:100);let s=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),o=n.retryAfterHint?Math.max(n.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(i);return this.capacity-=a,WI({retryDelay:o,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")})}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}getMaxAttempts(){return g(this,null,function*(){try{return yield this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Ps}`),Ps}})}shouldRetry(e,n,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(n.errorType)&&this.isRetryableError(n.errorType)}getCapacityCost(e){return e==="TRANSIENT"?10:5}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}};var Ig=class{constructor(e,n){this.maxAttemptsProvider=e,this.mode=Zr.ADAPTIVE;let{rateLimiter:r}=n??{};this.rateLimiter=r??new bd,this.standardRetryStrategy=new Yo(e)}acquireInitialRetryToken(e){return g(this,null,function*(){return yield this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)})}refreshRetryTokenForRetry(e,n){return g(this,null,function*(){return this.rateLimiter.updateClientSendingRate(n),this.standardRetryStrategy.refreshRetryTokenForRetry(e,n)})}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}};var Sg,PZ=new Uint8Array(16);function QI(){if(!Sg&&(Sg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Sg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Sg(PZ)}var Kt=[];for(let t=0;t<256;++t)Kt.push((t+256).toString(16).slice(1));function BV(t,e=0){return Kt[t[e+0]]+Kt[t[e+1]]+Kt[t[e+2]]+Kt[t[e+3]]+"-"+Kt[t[e+4]]+Kt[t[e+5]]+"-"+Kt[t[e+6]]+Kt[t[e+7]]+"-"+Kt[t[e+8]]+Kt[t[e+9]]+"-"+Kt[t[e+10]]+Kt[t[e+11]]+Kt[t[e+12]]+Kt[t[e+13]]+Kt[t[e+14]]+Kt[t[e+15]]}var kZ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),YI={randomUUID:kZ};function OZ(t,e,n){if(YI.randomUUID&&!e&&!t)return YI.randomUUID();t=t||{};let r=t.random||(t.rng||QI)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return BV(r)}var ZI=OZ;var XI=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`);var UV=t=>{let{retryStrategy:e}=t,n=Gt(t.maxAttempts??Ps);return L(E({},t),{maxAttempts:n,retryStrategy:()=>g(void 0,null,function*(){return e||((yield Gt(t.retryMode)())===Zr.ADAPTIVE?new Ig(n):new Yo(n))})})};var jV=t=>t?.body instanceof ReadableStream;var FZ=t=>(e,n)=>r=>g(void 0,null,function*(){let i=yield t.retryStrategy(),s=yield t.maxAttempts();if(LZ(i)){i=i;let o=yield i.acquireInitialRetryToken(n.partition_id),a=new Error,c=0,u=0,{request:d}=r,h=be.isInstance(d);for(h&&(d.headers[wg]=ZI());;)try{h&&(d.headers[bg]=`attempt=${c+1}; max=${s}`);let{response:m,output:y}=yield e(r);return i.recordSuccess(o),y.$metadata.attempts=c+1,y.$metadata.totalRetryDelay=u,{response:m,output:y}}catch(m){let y=VZ(m);if(a=XI(m),h&&jV(d))throw(n.logger instanceof Rs?console:n.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{o=yield i.refreshRetryTokenForRetry(o,y)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=u,a}c=o.getRetryCount();let _=o.getRetryDelay();u+=_,yield new Promise(D=>setTimeout(D,_))}}else return i=i,i?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(e,r)}),LZ=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",VZ=t=>{let e={error:t,errorType:BZ(t)},n=jZ(t.$response);return n&&(e.retryAfterHint=n),e},BZ=t=>qc(t)?"THROTTLING":Eg(t)?"TRANSIENT":PV(t)?"SERVER_ERROR":"CLIENT_ERROR",UZ={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},$V=t=>({applyToStack:e=>{e.add(FZ(t),UZ)}}),jZ=t=>{if(!Sn.isInstance(t))return;let e=Object.keys(t.headers).find(s=>s.toLowerCase()==="retry-after");if(!e)return;let n=t.headers[e],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(r*1e3)};var xg={CrtSignerV4:null};var Ag=class{constructor(e){this.sigv4Signer=new _d(e),this.signerOptions=e}sign(r){return g(this,arguments,function*(e,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(e,n)}return this.sigv4Signer.sign(e,n)})}signWithCredentials(i,s){return g(this,arguments,function*(e,n,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().signWithCredentials(e,n,r)}return this.sigv4Signer.signWithCredentials(e,n,r)})}presign(r){return g(this,arguments,function*(e,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(e,n)}return this.sigv4Signer.presign(e,n)})}presignWithCredentials(i,s){return g(this,arguments,function*(e,n,r={}){if(r.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(e,n,r)})}getSigv4aSigner(){if(!this.sigv4aSigner){let e=null;try{if(e=xg.CrtSignerV4,typeof e!="function")throw new Error}catch(n){throw n.message=`${n.message}
Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,n}this.sigv4aSigner=new e(L(E({},this.signerOptions),{signingAlgorithm:1}))}return this.sigv4aSigner}};var IS="required",w="type",A="conditions",V="fn",B="argv",de="ref",ut="assign",Y="url",Z="properties",H2="backend",wr="authSchemes",Bn="disableDoubleEncoding",Un="signingName",ei="signingRegion",X="headers",SS="signingRegionSet";var nr="isSet",Ht="booleanEquals",ee="error",kg="aws.partition",tt="stringEquals",ht="getAttr",nn="name",Xr="substring",HV="bucketSuffix",q2="parseURL",qV="{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",q="endpoint",$="tree",z2="aws.isVirtualHostableS3Bucket",Ng="{url#scheme}://{Bucket}.{url#authority}{url#path}",Jr="not",Mg="{url#scheme}://{url#authority}{url#path}",G2="hardwareType",W2="regionPrefix",zV="bucketAliasSuffix",bS="outpostId",Xo="isValidHostLabel",xS="sigv4a",Sd="s3-outposts",Qc="s3",K2="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",Q2="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",GV="https://{Bucket}.s3.{partitionResult#dnsSuffix}",Y2="aws.parseArn",Z2="bucketArn",X2="arnType",Og="",AS="s3-object-lambda",J2="accesspoint",TS="accessPointName",WV="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",KV="mrapPartition",QV="outpostType",YV="arnPrefix",eB="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",ZV="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",XV="https://s3.{partitionResult#dnsSuffix}",Gc={[IS]:!1,[w]:"String"},Wc={[IS]:!0,default:!1,[w]:"Boolean"},Cd={[IS]:!1,[w]:"Boolean"},Er={[V]:Ht,[B]:[{[de]:"Accelerate"},!0]},Ze={[V]:Ht,[B]:[{[de]:"UseFIPS"},!0]},Ye={[V]:Ht,[B]:[{[de]:"UseDualStack"},!0]},bt={[V]:nr,[B]:[{[de]:"Endpoint"}]},tB={[V]:kg,[B]:[{[de]:"Region"}],[ut]:"partitionResult"},JV={[V]:tt,[B]:[{[V]:ht,[B]:[{[de]:"partitionResult"},nn]},"aws-cn"]},Fg={[V]:nr,[B]:[{[de]:"Bucket"}]},vn={[de]:"Bucket"},yn={[V]:q2,[B]:[{[de]:"Endpoint"}],[ut]:"url"},Pg={[V]:Ht,[B]:[{[V]:ht,[B]:[{[de]:"url"},"isIp"]},!0]},nB={[de]:"url"},rB={[V]:"uriEncode",[B]:[vn],[ut]:"uri_encoded_bucket"},Bi={[H2]:"S3Express",[wr]:[{[Bn]:!0,[nn]:"sigv4",[Un]:"s3express",[ei]:"{Region}"}]},fe={},iB={[V]:z2,[B]:[vn,!1]},JI={[ee]:"S3Express bucket name is not a valid virtual hostable name.",[w]:ee},Lg={[H2]:"S3Express",[wr]:[{[Bn]:!0,[nn]:"sigv4-s3express",[Un]:"s3express",[ei]:"{Region}"}]},e2={[V]:nr,[B]:[{[de]:"UseS3ExpressControlEndpoint"}]},t2={[V]:Ht,[B]:[{[de]:"UseS3ExpressControlEndpoint"},!0]},ge={[V]:Jr,[B]:[bt]},n2={[ee]:"Unrecognized S3Express bucket name format.",[w]:ee},r2={[V]:Jr,[B]:[Fg]},i2={[de]:G2},s2={[A]:[ge],[ee]:"Expected a endpoint to be specified but no endpoint was found",[w]:ee},Tg={[wr]:[{[Bn]:!0,[nn]:xS,[Un]:Sd,[SS]:["*"]},{[Bn]:!0,[nn]:"sigv4",[Un]:Sd,[ei]:"{Region}"}]},eS={[V]:Ht,[B]:[{[de]:"ForcePathStyle"},!1]},$Z={[de]:"ForcePathStyle"},wt={[V]:Ht,[B]:[{[de]:"Accelerate"},!1]},Nt={[V]:tt,[B]:[{[de]:"Region"},"aws-global"]},Ut={[wr]:[{[Bn]:!0,[nn]:"sigv4",[Un]:Qc,[ei]:"us-east-1"}]},ke={[V]:Jr,[B]:[Nt]},jt={[V]:Ht,[B]:[{[de]:"UseGlobalEndpoint"},!0]},o2={[Y]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Z]:{[wr]:[{[Bn]:!0,[nn]:"sigv4",[Un]:Qc,[ei]:"{Region}"}]},[X]:{}},Ct={[wr]:[{[Bn]:!0,[nn]:"sigv4",[Un]:Qc,[ei]:"{Region}"}]},$t={[V]:Ht,[B]:[{[de]:"UseGlobalEndpoint"},!1]},Te={[V]:Ht,[B]:[{[de]:"UseDualStack"},!1]},a2={[Y]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[Z]:Ct,[X]:{}},Ce={[V]:Ht,[B]:[{[de]:"UseFIPS"},!1]},c2={[Y]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[Z]:Ct,[X]:{}},l2={[Y]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Z]:Ct,[X]:{}},tS={[V]:Ht,[B]:[{[V]:ht,[B]:[nB,"isIp"]},!1]},nS={[Y]:K2,[Z]:Ct,[X]:{}},CS={[Y]:Ng,[Z]:Ct,[X]:{}},u2={[q]:CS,[w]:q},rS={[Y]:Q2,[Z]:Ct,[X]:{}},d2={[Y]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[Z]:Ct,[X]:{}},Dg={[ee]:"Invalid region: region was not a valid DNS name.",[w]:ee},xn={[de]:Z2},sB={[de]:X2},iS={[V]:ht,[B]:[xn,"service"]},DS={[de]:TS},f2={[A]:[Ye],[ee]:"S3 Object Lambda does not support Dual-stack",[w]:ee},h2={[A]:[Er],[ee]:"S3 Object Lambda does not support S3 Accelerate",[w]:ee},p2={[A]:[{[V]:nr,[B]:[{[de]:"DisableAccessPoints"}]},{[V]:Ht,[B]:[{[de]:"DisableAccessPoints"},!0]}],[ee]:"Access points are not supported for this operation",[w]:ee},sS={[A]:[{[V]:nr,[B]:[{[de]:"UseArnRegion"}]},{[V]:Ht,[B]:[{[de]:"UseArnRegion"},!1]},{[V]:Jr,[B]:[{[V]:tt,[B]:[{[V]:ht,[B]:[xn,"region"]},"{Region}"]}]}],[ee]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[w]:ee},oB={[V]:ht,[B]:[{[de]:"bucketPartition"},nn]},aB={[V]:ht,[B]:[xn,"accountId"]},oS={[wr]:[{[Bn]:!0,[nn]:"sigv4",[Un]:AS,[ei]:"{bucketArn#region}"}]},m2={[ee]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[w]:ee},aS={[ee]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[w]:ee},cS={[ee]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[w]:ee},lS={[ee]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[w]:ee},g2={[ee]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[w]:ee},y2={[ee]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[w]:ee},Id={[wr]:[{[Bn]:!0,[nn]:"sigv4",[Un]:Qc,[ei]:"{bucketArn#region}"}]},v2={[wr]:[{[Bn]:!0,[nn]:xS,[Un]:Sd,[SS]:["*"]},{[Bn]:!0,[nn]:"sigv4",[Un]:Sd,[ei]:"{bucketArn#region}"}]},_2={[V]:Y2,[B]:[vn]},E2={[Y]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Z]:Ct,[X]:{}},w2={[Y]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Z]:Ct,[X]:{}},b2={[Y]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Z]:Ct,[X]:{}},uS={[Y]:eB,[Z]:Ct,[X]:{}},C2={[Y]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Z]:Ct,[X]:{}},I2={[de]:"UseObjectLambdaEndpoint"},dS={[wr]:[{[Bn]:!0,[nn]:"sigv4",[Un]:AS,[ei]:"{Region}"}]},S2={[Y]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Z]:Ct,[X]:{}},x2={[Y]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[Z]:Ct,[X]:{}},A2={[Y]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Z]:Ct,[X]:{}},fS={[Y]:Mg,[Z]:Ct,[X]:{}},T2={[Y]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[Z]:Ct,[X]:{}},hS=[{[de]:"Region"}],HZ=[{[de]:"Endpoint"}],qZ=[vn],pS=[Ye],Rg=[Er],Zo=[bt,yn],D2=[{[V]:nr,[B]:[{[de]:"DisableS3ExpressSessionAuth"}]},{[V]:Ht,[B]:[{[de]:"DisableS3ExpressSessionAuth"},!0]}],R2=[Pg],mS=[rB],gS=[iB],Kc=[Ze],N2=[{[V]:Xr,[B]:[vn,6,14,!0],[ut]:"s3expressAvailabilityZoneId"},{[V]:Xr,[B]:[vn,14,16,!0],[ut]:"s3expressAvailabilityZoneDelim"},{[V]:tt,[B]:[{[de]:"s3expressAvailabilityZoneDelim"},"--"]}],M2=[{[A]:[Ze],[q]:{[Y]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[Z]:Bi,[X]:{}},[w]:q},{[q]:{[Y]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[Z]:Bi,[X]:{}},[w]:q}],P2=[{[V]:Xr,[B]:[vn,6,15,!0],[ut]:"s3expressAvailabilityZoneId"},{[V]:Xr,[B]:[vn,15,17,!0],[ut]:"s3expressAvailabilityZoneDelim"},{[V]:tt,[B]:[{[de]:"s3expressAvailabilityZoneDelim"},"--"]}],k2=[{[A]:[Ze],[q]:{[Y]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[Z]:Lg,[X]:{}},[w]:q},{[q]:{[Y]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[Z]:Lg,[X]:{}},[w]:q}],zZ=[Fg],O2=[{[V]:Xo,[B]:[{[de]:bS},!1]}],F2=[{[V]:tt,[B]:[{[de]:W2},"beta"]}],GZ=["*"],ks=[tB],L2=[{[V]:Xo,[B]:[{[de]:"Region"},!1]}],Os=[{[V]:tt,[B]:[{[de]:"Region"},"us-east-1"]}],yS=[{[V]:tt,[B]:[sB,J2]}],V2=[{[V]:ht,[B]:[xn,"resourceId[1]"],[ut]:TS},{[V]:Jr,[B]:[{[V]:tt,[B]:[DS,Og]}]}],WZ=[xn,"resourceId[1]"],vS=[{[V]:Jr,[B]:[{[V]:tt,[B]:[{[V]:ht,[B]:[xn,"region"]},Og]}]}],B2=[{[V]:Jr,[B]:[{[V]:nr,[B]:[{[V]:ht,[B]:[xn,"resourceId[2]"]}]}]}],KZ=[xn,"resourceId[2]"],_S=[{[V]:kg,[B]:[{[V]:ht,[B]:[xn,"region"]}],[ut]:"bucketPartition"}],U2=[{[V]:tt,[B]:[oB,{[V]:ht,[B]:[{[de]:"partitionResult"},nn]}]}],ES=[{[V]:Xo,[B]:[{[V]:ht,[B]:[xn,"region"]},!0]}],wS=[{[V]:Xo,[B]:[aB,!1]}],j2=[{[V]:Xo,[B]:[DS,!1]}],$2=[{[V]:Xo,[B]:[{[de]:"Region"},!0]}],QZ={version:"1.0",parameters:{Bucket:Gc,Region:Gc,UseFIPS:Wc,UseDualStack:Wc,Endpoint:Gc,ForcePathStyle:Wc,Accelerate:Wc,UseGlobalEndpoint:Wc,UseObjectLambdaEndpoint:Cd,Key:Gc,Prefix:Gc,CopySource:Gc,DisableAccessPoints:Cd,DisableMultiRegionAccessPoints:Wc,UseArnRegion:Cd,UseS3ExpressControlEndpoint:Cd,DisableS3ExpressSessionAuth:Cd},rules:[{[A]:[{[V]:nr,[B]:hS}],rules:[{[A]:[Er,Ze],error:"Accelerate cannot be used with FIPS",[w]:ee},{[A]:[Ye,bt],error:"Cannot set dual-stack in combination with a custom endpoint.",[w]:ee},{[A]:[bt,Ze],error:"A custom endpoint cannot be combined with FIPS",[w]:ee},{[A]:[bt,Er],error:"A custom endpoint cannot be combined with S3 Accelerate",[w]:ee},{[A]:[Ze,tB,JV],error:"Partition does not support FIPS",[w]:ee},{[A]:[Fg,{[V]:Xr,[B]:[vn,0,6,!0],[ut]:HV},{[V]:tt,[B]:[{[de]:HV},"--x-s3"]}],rules:[{[A]:pS,error:"S3Express does not support Dual-stack.",[w]:ee},{[A]:Rg,error:"S3Express does not support S3 Accelerate.",[w]:ee},{[A]:Zo,rules:[{[A]:D2,rules:[{[A]:R2,rules:[{[A]:mS,rules:[{endpoint:{[Y]:qV,[Z]:Bi,[X]:fe},[w]:q}],[w]:$}],[w]:$},{[A]:gS,rules:[{endpoint:{[Y]:Ng,[Z]:Bi,[X]:fe},[w]:q}],[w]:$},JI],[w]:$},{[A]:R2,rules:[{[A]:mS,rules:[{endpoint:{[Y]:qV,[Z]:Lg,[X]:fe},[w]:q}],[w]:$}],[w]:$},{[A]:gS,rules:[{endpoint:{[Y]:Ng,[Z]:Lg,[X]:fe},[w]:q}],[w]:$},JI],[w]:$},{[A]:[e2,t2],rules:[{[A]:[rB,ge],rules:[{[A]:Kc,endpoint:{[Y]:"https://s3express-control-fips.{Region}.amazonaws.com/{uri_encoded_bucket}",[Z]:Bi,[X]:fe},[w]:q},{endpoint:{[Y]:"https://s3express-control.{Region}.amazonaws.com/{uri_encoded_bucket}",[Z]:Bi,[X]:fe},[w]:q}],[w]:$}],[w]:$},{[A]:gS,rules:[{[A]:D2,rules:[{[A]:N2,rules:M2,[w]:$},{[A]:P2,rules:M2,[w]:$},n2],[w]:$},{[A]:N2,rules:k2,[w]:$},{[A]:P2,rules:k2,[w]:$},n2],[w]:$},JI],[w]:$},{[A]:[r2,e2,t2],rules:[{[A]:Zo,endpoint:{[Y]:Mg,[Z]:Bi,[X]:fe},[w]:q},{[A]:Kc,endpoint:{[Y]:"https://s3express-control-fips.{Region}.amazonaws.com",[Z]:Bi,[X]:fe},[w]:q},{endpoint:{[Y]:"https://s3express-control.{Region}.amazonaws.com",[Z]:Bi,[X]:fe},[w]:q}],[w]:$},{[A]:[Fg,{[V]:Xr,[B]:[vn,49,50,!0],[ut]:G2},{[V]:Xr,[B]:[vn,8,12,!0],[ut]:W2},{[V]:Xr,[B]:[vn,0,7,!0],[ut]:zV},{[V]:Xr,[B]:[vn,32,49,!0],[ut]:bS},{[V]:kg,[B]:hS,[ut]:"regionPartition"},{[V]:tt,[B]:[{[de]:zV},"--op-s3"]}],rules:[{[A]:O2,rules:[{[A]:[{[V]:tt,[B]:[i2,"e"]}],rules:[{[A]:F2,rules:[s2,{[A]:Zo,endpoint:{[Y]:"https://{Bucket}.ec2.{url#authority}",[Z]:Tg,[X]:fe},[w]:q}],[w]:$},{endpoint:{[Y]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Z]:Tg,[X]:fe},[w]:q}],[w]:$},{[A]:[{[V]:tt,[B]:[i2,"o"]}],rules:[{[A]:F2,rules:[s2,{[A]:Zo,endpoint:{[Y]:"https://{Bucket}.op-{outpostId}.{url#authority}",[Z]:Tg,[X]:fe},[w]:q}],[w]:$},{endpoint:{[Y]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Z]:Tg,[X]:fe},[w]:q}],[w]:$},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[w]:ee}],[w]:$},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[w]:ee}],[w]:$},{[A]:zZ,rules:[{[A]:[bt,{[V]:Jr,[B]:[{[V]:nr,[B]:[{[V]:q2,[B]:HZ}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[w]:ee},{[A]:[eS,iB],rules:[{[A]:ks,rules:[{[A]:L2,rules:[{[A]:[Er,JV],error:"S3 Accelerate cannot be used in this region",[w]:ee},{[A]:[Ye,Ze,wt,ge,Nt],endpoint:{[Y]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Z]:Ut,[X]:fe},[w]:q},{[A]:[Ye,Ze,wt,ge,ke,jt],rules:[{endpoint:o2,[w]:q}],[w]:$},{[A]:[Ye,Ze,wt,ge,ke,$t],endpoint:o2,[w]:q},{[A]:[Te,Ze,wt,ge,Nt],endpoint:{[Y]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Z]:Ut,[X]:fe},[w]:q},{[A]:[Te,Ze,wt,ge,ke,jt],rules:[{endpoint:a2,[w]:q}],[w]:$},{[A]:[Te,Ze,wt,ge,ke,$t],endpoint:a2,[w]:q},{[A]:[Ye,Ce,Er,ge,Nt],endpoint:{[Y]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Z]:Ut,[X]:fe},[w]:q},{[A]:[Ye,Ce,Er,ge,ke,jt],rules:[{endpoint:c2,[w]:q}],[w]:$},{[A]:[Ye,Ce,Er,ge,ke,$t],endpoint:c2,[w]:q},{[A]:[Ye,Ce,wt,ge,Nt],endpoint:{[Y]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Z]:Ut,[X]:fe},[w]:q},{[A]:[Ye,Ce,wt,ge,ke,jt],rules:[{endpoint:l2,[w]:q}],[w]:$},{[A]:[Ye,Ce,wt,ge,ke,$t],endpoint:l2,[w]:q},{[A]:[Te,Ce,wt,bt,yn,Pg,Nt],endpoint:{[Y]:K2,[Z]:Ut,[X]:fe},[w]:q},{[A]:[Te,Ce,wt,bt,yn,tS,Nt],endpoint:{[Y]:Ng,[Z]:Ut,[X]:fe},[w]:q},{[A]:[Te,Ce,wt,bt,yn,Pg,ke,jt],rules:[{[A]:Os,endpoint:nS,[w]:q},{endpoint:nS,[w]:q}],[w]:$},{[A]:[Te,Ce,wt,bt,yn,tS,ke,jt],rules:[{[A]:Os,endpoint:CS,[w]:q},u2],[w]:$},{[A]:[Te,Ce,wt,bt,yn,Pg,ke,$t],endpoint:nS,[w]:q},{[A]:[Te,Ce,wt,bt,yn,tS,ke,$t],endpoint:CS,[w]:q},{[A]:[Te,Ce,Er,ge,Nt],endpoint:{[Y]:Q2,[Z]:Ut,[X]:fe},[w]:q},{[A]:[Te,Ce,Er,ge,ke,jt],rules:[{[A]:Os,endpoint:rS,[w]:q},{endpoint:rS,[w]:q}],[w]:$},{[A]:[Te,Ce,Er,ge,ke,$t],endpoint:rS,[w]:q},{[A]:[Te,Ce,wt,ge,Nt],endpoint:{[Y]:GV,[Z]:Ut,[X]:fe},[w]:q},{[A]:[Te,Ce,wt,ge,ke,jt],rules:[{[A]:Os,endpoint:{[Y]:GV,[Z]:Ct,[X]:fe},[w]:q},{endpoint:d2,[w]:q}],[w]:$},{[A]:[Te,Ce,wt,ge,ke,$t],endpoint:d2,[w]:q}],[w]:$},Dg],[w]:$}],[w]:$},{[A]:[bt,yn,{[V]:tt,[B]:[{[V]:ht,[B]:[nB,"scheme"]},"http"]},{[V]:z2,[B]:[vn,!0]},eS,Ce,Te,wt],rules:[{[A]:ks,rules:[{[A]:L2,rules:[u2],[w]:$},Dg],[w]:$}],[w]:$},{[A]:[eS,{[V]:Y2,[B]:qZ,[ut]:Z2}],rules:[{[A]:[{[V]:ht,[B]:[xn,"resourceId[0]"],[ut]:X2},{[V]:Jr,[B]:[{[V]:tt,[B]:[sB,Og]}]}],rules:[{[A]:[{[V]:tt,[B]:[iS,AS]}],rules:[{[A]:yS,rules:[{[A]:V2,rules:[f2,h2,{[A]:vS,rules:[p2,{[A]:B2,rules:[sS,{[A]:_S,rules:[{[A]:ks,rules:[{[A]:U2,rules:[{[A]:ES,rules:[{[A]:[{[V]:tt,[B]:[aB,Og]}],error:"Invalid ARN: Missing account id",[w]:ee},{[A]:wS,rules:[{[A]:j2,rules:[{[A]:Zo,endpoint:{[Y]:WV,[Z]:oS,[X]:fe},[w]:q},{[A]:Kc,endpoint:{[Y]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Z]:oS,[X]:fe},[w]:q},{endpoint:{[Y]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Z]:oS,[X]:fe},[w]:q}],[w]:$},m2],[w]:$},aS],[w]:$},cS],[w]:$},lS],[w]:$}],[w]:$}],[w]:$},g2],[w]:$},{error:"Invalid ARN: bucket ARN is missing a region",[w]:ee}],[w]:$},y2],[w]:$},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[w]:ee}],[w]:$},{[A]:yS,rules:[{[A]:V2,rules:[{[A]:vS,rules:[{[A]:yS,rules:[{[A]:vS,rules:[p2,{[A]:B2,rules:[sS,{[A]:_S,rules:[{[A]:ks,rules:[{[A]:[{[V]:tt,[B]:[oB,"{partitionResult#name}"]}],rules:[{[A]:ES,rules:[{[A]:[{[V]:tt,[B]:[iS,Qc]}],rules:[{[A]:wS,rules:[{[A]:j2,rules:[{[A]:Rg,error:"Access Points do not support S3 Accelerate",[w]:ee},{[A]:[Ze,Ye],endpoint:{[Y]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Z]:Id,[X]:fe},[w]:q},{[A]:[Ze,Te],endpoint:{[Y]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Z]:Id,[X]:fe},[w]:q},{[A]:[Ce,Ye],endpoint:{[Y]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Z]:Id,[X]:fe},[w]:q},{[A]:[Ce,Te,bt,yn],endpoint:{[Y]:WV,[Z]:Id,[X]:fe},[w]:q},{[A]:[Ce,Te],endpoint:{[Y]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Z]:Id,[X]:fe},[w]:q}],[w]:$},m2],[w]:$},aS],[w]:$},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[w]:ee}],[w]:$},cS],[w]:$},lS],[w]:$}],[w]:$}],[w]:$},g2],[w]:$}],[w]:$}],[w]:$},{[A]:[{[V]:Xo,[B]:[DS,!0]}],rules:[{[A]:pS,error:"S3 MRAP does not support dual-stack",[w]:ee},{[A]:Kc,error:"S3 MRAP does not support FIPS",[w]:ee},{[A]:Rg,error:"S3 MRAP does not support S3 Accelerate",[w]:ee},{[A]:[{[V]:Ht,[B]:[{[de]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[w]:ee},{[A]:[{[V]:kg,[B]:hS,[ut]:KV}],rules:[{[A]:[{[V]:tt,[B]:[{[V]:ht,[B]:[{[de]:KV},nn]},{[V]:ht,[B]:[xn,"partition"]}]}],rules:[{endpoint:{[Y]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[Z]:{[wr]:[{[Bn]:!0,name:xS,[Un]:Qc,[SS]:GZ}]},[X]:fe},[w]:q}],[w]:$},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[w]:ee}],[w]:$}],[w]:$},{error:"Invalid Access Point Name",[w]:ee}],[w]:$},y2],[w]:$},{[A]:[{[V]:tt,[B]:[iS,Sd]}],rules:[{[A]:pS,error:"S3 Outposts does not support Dual-stack",[w]:ee},{[A]:Kc,error:"S3 Outposts does not support FIPS",[w]:ee},{[A]:Rg,error:"S3 Outposts does not support S3 Accelerate",[w]:ee},{[A]:[{[V]:nr,[B]:[{[V]:ht,[B]:[xn,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[w]:ee},{[A]:[{[V]:ht,[B]:WZ,[ut]:bS}],rules:[{[A]:O2,rules:[sS,{[A]:_S,rules:[{[A]:ks,rules:[{[A]:U2,rules:[{[A]:ES,rules:[{[A]:wS,rules:[{[A]:[{[V]:ht,[B]:KZ,[ut]:QV}],rules:[{[A]:[{[V]:ht,[B]:[xn,"resourceId[3]"],[ut]:TS}],rules:[{[A]:[{[V]:tt,[B]:[{[de]:QV},J2]}],rules:[{[A]:Zo,endpoint:{[Y]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[Z]:v2,[X]:fe},[w]:q},{endpoint:{[Y]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Z]:v2,[X]:fe},[w]:q}],[w]:$},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[w]:ee}],[w]:$},{error:"Invalid ARN: expected an access point name",[w]:ee}],[w]:$},{error:"Invalid ARN: Expected a 4-component resource",[w]:ee}],[w]:$},aS],[w]:$},cS],[w]:$},lS],[w]:$}],[w]:$}],[w]:$},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[w]:ee}],[w]:$},{error:"Invalid ARN: The Outpost Id was not set",[w]:ee}],[w]:$},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[w]:ee}],[w]:$},{error:"Invalid ARN: No ARN type specified",[w]:ee}],[w]:$},{[A]:[{[V]:Xr,[B]:[vn,0,4,!1],[ut]:YV},{[V]:tt,[B]:[{[de]:YV},"arn:"]},{[V]:Jr,[B]:[{[V]:nr,[B]:[_2]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[w]:ee},{[A]:[{[V]:Ht,[B]:[$Z,!0]},_2],error:"Path-style addressing cannot be used with ARN buckets",[w]:ee},{[A]:mS,rules:[{[A]:ks,rules:[{[A]:[wt],rules:[{[A]:[Ye,ge,Ze,Nt],endpoint:{[Y]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Z]:Ut,[X]:fe},[w]:q},{[A]:[Ye,ge,Ze,ke,jt],rules:[{endpoint:E2,[w]:q}],[w]:$},{[A]:[Ye,ge,Ze,ke,$t],endpoint:E2,[w]:q},{[A]:[Te,ge,Ze,Nt],endpoint:{[Y]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Z]:Ut,[X]:fe},[w]:q},{[A]:[Te,ge,Ze,ke,jt],rules:[{endpoint:w2,[w]:q}],[w]:$},{[A]:[Te,ge,Ze,ke,$t],endpoint:w2,[w]:q},{[A]:[Ye,ge,Ce,Nt],endpoint:{[Y]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Z]:Ut,[X]:fe},[w]:q},{[A]:[Ye,ge,Ce,ke,jt],rules:[{endpoint:b2,[w]:q}],[w]:$},{[A]:[Ye,ge,Ce,ke,$t],endpoint:b2,[w]:q},{[A]:[Te,bt,yn,Ce,Nt],endpoint:{[Y]:eB,[Z]:Ut,[X]:fe},[w]:q},{[A]:[Te,bt,yn,Ce,ke,jt],rules:[{[A]:Os,endpoint:uS,[w]:q},{endpoint:uS,[w]:q}],[w]:$},{[A]:[Te,bt,yn,Ce,ke,$t],endpoint:uS,[w]:q},{[A]:[Te,ge,Ce,Nt],endpoint:{[Y]:ZV,[Z]:Ut,[X]:fe},[w]:q},{[A]:[Te,ge,Ce,ke,jt],rules:[{[A]:Os,endpoint:{[Y]:ZV,[Z]:Ct,[X]:fe},[w]:q},{endpoint:C2,[w]:q}],[w]:$},{[A]:[Te,ge,Ce,ke,$t],endpoint:C2,[w]:q}],[w]:$},{error:"Path-style addressing cannot be used with S3 Accelerate",[w]:ee}],[w]:$}],[w]:$}],[w]:$},{[A]:[{[V]:nr,[B]:[I2]},{[V]:Ht,[B]:[I2,!0]}],rules:[{[A]:ks,rules:[{[A]:$2,rules:[f2,h2,{[A]:Zo,endpoint:{[Y]:Mg,[Z]:dS,[X]:fe},[w]:q},{[A]:Kc,endpoint:{[Y]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[Z]:dS,[X]:fe},[w]:q},{endpoint:{[Y]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[Z]:dS,[X]:fe},[w]:q}],[w]:$},Dg],[w]:$}],[w]:$},{[A]:[r2],rules:[{[A]:ks,rules:[{[A]:$2,rules:[{[A]:[Ze,Ye,ge,Nt],endpoint:{[Y]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Z]:Ut,[X]:fe},[w]:q},{[A]:[Ze,Ye,ge,ke,jt],rules:[{endpoint:S2,[w]:q}],[w]:$},{[A]:[Ze,Ye,ge,ke,$t],endpoint:S2,[w]:q},{[A]:[Ze,Te,ge,Nt],endpoint:{[Y]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Z]:Ut,[X]:fe},[w]:q},{[A]:[Ze,Te,ge,ke,jt],rules:[{endpoint:x2,[w]:q}],[w]:$},{[A]:[Ze,Te,ge,ke,$t],endpoint:x2,[w]:q},{[A]:[Ce,Ye,ge,Nt],endpoint:{[Y]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Z]:Ut,[X]:fe},[w]:q},{[A]:[Ce,Ye,ge,ke,jt],rules:[{endpoint:A2,[w]:q}],[w]:$},{[A]:[Ce,Ye,ge,ke,$t],endpoint:A2,[w]:q},{[A]:[Ce,Te,bt,yn,Nt],endpoint:{[Y]:Mg,[Z]:Ut,[X]:fe},[w]:q},{[A]:[Ce,Te,bt,yn,ke,jt],rules:[{[A]:Os,endpoint:fS,[w]:q},{endpoint:fS,[w]:q}],[w]:$},{[A]:[Ce,Te,bt,yn,ke,$t],endpoint:fS,[w]:q},{[A]:[Ce,Te,ge,Nt],endpoint:{[Y]:XV,[Z]:Ut,[X]:fe},[w]:q},{[A]:[Ce,Te,ge,ke,jt],rules:[{[A]:Os,endpoint:{[Y]:XV,[Z]:Ct,[X]:fe},[w]:q},{endpoint:T2,[w]:q}],[w]:$},{[A]:[Ce,Te,ge,ke,$t],endpoint:T2,[w]:q}],[w]:$},Dg],[w]:$}],[w]:$}],[w]:$},{error:"A region must be set when sending requests to S3.",[w]:ee}]},cB=QZ;var YZ=new ag({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),Vg=(t,e={})=>YZ.get(t,()=>VI(cB,{endpointParams:t,logger:e.logger}));Qo.aws=UI;var ZZ=t=>(e,n,r)=>g(void 0,null,function*(){if(!r)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let i=yield t(e,n,r),s=vr(n)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!s)throw new Error(`getEndpointParameterInstructions() is not defined on \`${n.commandName}\``);let o=yield zI(r,{getEndpointParameterInstructions:s},e);return Object.assign(i,o)}),XZ=(t,e,n)=>g(void 0,null,function*(){return{operation:vr(e).operation,region:(yield Gt(t.region)())||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}}),lB=ZZ(XZ);function uB(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}function dB(t){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}var JZ=(t,e,n)=>i=>{let o=t(i).properties?.authSchemes;if(!o)return e(i);let a=[];for(let u of o){let c=u,{name:d,properties:h={}}=c,m=Hs(c,["name","properties"]),y=d.toLowerCase();d!==y&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${d}\` to \`${y}\``);let _;if(y==="sigv4a"){_="aws.auth#sigv4a";let O=o.find(H=>{let W=H.name.toLowerCase();return W!=="sigv4a"&&W.startsWith("sigv4")});if(!xg.CrtSignerV4&&O)continue}else if(y.startsWith("sigv4"))_="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${y}\``);let D=n[_];if(!D)throw new Error(`Could not find HttpAuthOption create function for \`${_}\``);let S=D(i);S.schemeId=_,S.signingProperties=E(E(E({},S.signingProperties||{}),m),h),a.push(S)}return a},eX=t=>{let e=[];switch(t.operation){default:e.push(uB(t)),e.push(dB(t))}return e},fB=JZ(Vg,eX,{"aws.auth#sigv4":uB,"aws.auth#sigv4a":dB}),hB=t=>{let e=eF(t),n=P1(e);return E({},n)};var pB=t=>L(E({},t),{useFipsEndpoint:t.useFipsEndpoint??!1,useDualstackEndpoint:t.useDualstackEndpoint??!1,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),Bg={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var _n=class t extends eg{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};var Ug=class t extends _n{constructor(e){super(E({name:"NoSuchUpload",$fault:"client"},e)),this.name="NoSuchUpload",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var jg=class t extends _n{constructor(e){super(E({name:"ObjectNotInActiveTierError",$fault:"client"},e)),this.name="ObjectNotInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}},$g=class t extends _n{constructor(e){super(E({name:"BucketAlreadyExists",$fault:"client"},e)),this.name="BucketAlreadyExists",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}},Hg=class t extends _n{constructor(e){super(E({name:"BucketAlreadyOwnedByYou",$fault:"client"},e)),this.name="BucketAlreadyOwnedByYou",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var qg=class t extends _n{constructor(e){super(E({name:"NoSuchBucket",$fault:"client"},e)),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var zg=class t extends _n{constructor(e){super(E({name:"InvalidObjectState",$fault:"client"},e)),this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,t.prototype),this.StorageClass=e.StorageClass,this.AccessTier=e.AccessTier}},Gg=class t extends _n{constructor(e){super(E({name:"NoSuchKey",$fault:"client"},e)),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var Wg=class t extends _n{constructor(e){super(E({name:"NotFound",$fault:"client"},e)),this.name="NotFound",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var tX=t=>E(E(E({},t),t.SecretAccessKey&&{SecretAccessKey:Vn}),t.SessionToken&&{SessionToken:Vn}),mB=t=>E(E(E(E({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Vn}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Vn}),t.Credentials&&{Credentials:tX(t.Credentials)}),gB=t=>E(E(E({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Vn}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Vn});var Kg=class t extends _n{constructor(e){super(E({name:"ObjectAlreadyInActiveTierError",$fault:"client"},e)),this.name="ObjectAlreadyInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var yB=t=>E(E(E({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Vn}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Vn}),vB=t=>E(E(E(E({},t),t.SSECustomerKey&&{SSECustomerKey:Vn}),t.SSEKMSKeyId&&{SSEKMSKeyId:Vn}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Vn});var bB=(t,e)=>g(void 0,null,function*(){let n=Hm(t,e),r=Wt({},Ds,{[YX]:t[PX],[ey]:t[Zg],[ty]:t[Jg],[ny]:t[Xg],[Zc]:[()=>Ds(t[Yc]),()=>t[Yc].toString()]});n.bp("/"),n.p("Bucket",()=>t.Bucket,"{Bucket}",!1);let i=Wt({[KX]:[,""]});return n.m("GET").h(r).q(i).b(void 0),n.build()});var CB=(t,e)=>g(void 0,null,function*(){let n=Hm(t,e),r=Wt({},Ds,E({[qX]:t[wX]||"application/octet-stream",[QX]:t[pX],[VX]:t[gX],[BX]:t[yX],[UX]:t[vX],[jX]:t[_X],[$X]:[()=>Ds(t[_B]),()=>t[_B].toString()],[HX]:t[EX],[lJ]:t[mX],[PB]:t[AB],[kB]:t[TB],[OB]:t[DB],[FB]:t[RB],[zX]:[()=>Ds(t[EB]),()=>pF(t[EB]).toString()],[WX]:t[TX],[JX]:t[IX],[eJ]:t[SX],[tJ]:t[xX],[nJ]:t[AX],[ey]:t[Zg],[cJ]:t[Yg],[hJ]:t[LX],[LB]:t[NB],[uJ]:t[kX],[VB]:t[MB],[ty]:t[Jg],[ny]:t[Xg],[Zc]:[()=>Ds(t[Yc]),()=>t[Yc].toString()],[aJ]:t[MX],[dJ]:t[OX],[iJ]:t[RX],[sJ]:[()=>Ds(t[wB]),()=>SF(t[wB]).toString()],[rJ]:t[DX],[XX]:t[bX]},t.Metadata!==void 0&&Object.keys(t.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=t.Metadata[c],a),{})));n.bp("/{Key+}"),n.p("Bucket",()=>t.Bucket,"{Bucket}",!1),n.p("Key",()=>t.Key,"{Key+}",!0);let i=Wt({[pJ]:[,"PutObject"]}),s,o;return t.Body!==void 0&&(o=t.Body,s=o),n.m("PUT").h(r).q(i).b(s),n.build()});var IB=(t,e)=>g(void 0,null,function*(){if(t.statusCode!==200&&t.statusCode>=300)return xB(t,e);let n=Wt({$metadata:br(t),[Zg]:[,t.headers[ey]],[Jg]:[,t.headers[ty]],[Xg]:[,t.headers[ny]],[Yc]:[()=>t.headers[Zc]!==void 0,()=>hI(t.headers[Zc])]}),r=pI(aF(yield xI(t.body,e)),"body");return r[MS]!=null&&(n[MS]=hX(r[MS],e)),n});var SB=(t,e)=>g(void 0,null,function*(){if(t.statusCode!==200&&t.statusCode>=300)return xB(t,e);let n=Wt({$metadata:br(t),[Qg]:[,t.headers[ZX]],[CX]:[,t.headers[GX]],[AB]:[,t.headers[PB]],[TB]:[,t.headers[kB]],[DB]:[,t.headers[OB]],[RB]:[,t.headers[FB]],[Zg]:[,t.headers[ey]],[FX]:[,t.headers[fJ]],[NB]:[,t.headers[LB]],[MB]:[,t.headers[VB]],[Jg]:[,t.headers[ty]],[Xg]:[,t.headers[ny]],[Yc]:[()=>t.headers[Zc]!==void 0,()=>hI(t.headers[Zc])],[NX]:[,t.headers[oJ]]});return yield ld(t.body,e),n});var xB=(t,e)=>g(void 0,null,function*(){let n=L(E({},t),{body:yield oL(t.body,e)}),r=aL(t,n.body);switch(r){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw yield lX(n,e);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw yield fX(n,e);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw yield iX(n,e);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw yield sX(n,e);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw yield aX(n,e);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw yield oX(n,e);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw yield cX(n,e);case"NotFound":case"com.amazonaws.s3#NotFound":throw yield uX(n,e);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw yield dX(n,e);default:let i=n.body;return rX({output:t,parsedBody:i,errorCode:r})}}),rX=yF(_n),iX=(t,e)=>g(void 0,null,function*(){let n=Wt({}),r=t.body,i=new $g(E({$metadata:br(t)},n));return er(i,t.body)}),sX=(t,e)=>g(void 0,null,function*(){let n=Wt({}),r=t.body,i=new Hg(E({$metadata:br(t)},n));return er(i,t.body)}),oX=(t,e)=>g(void 0,null,function*(){let n=Wt({}),r=t.body;r[NS]!=null&&(n[NS]=Bc(r[NS])),r[Yg]!=null&&(n[Yg]=Bc(r[Yg]));let i=new zg(E({$metadata:br(t)},n));return er(i,t.body)}),aX=(t,e)=>g(void 0,null,function*(){let n=Wt({}),r=t.body,i=new qg(E({$metadata:br(t)},n));return er(i,t.body)}),cX=(t,e)=>g(void 0,null,function*(){let n=Wt({}),r=t.body,i=new Gg(E({$metadata:br(t)},n));return er(i,t.body)}),lX=(t,e)=>g(void 0,null,function*(){let n=Wt({}),r=t.body,i=new Ug(E({$metadata:br(t)},n));return er(i,t.body)}),uX=(t,e)=>g(void 0,null,function*(){let n=Wt({}),r=t.body,i=new Wg(E({$metadata:br(t)},n));return er(i,t.body)}),dX=(t,e)=>g(void 0,null,function*(){let n=Wt({}),r=t.body,i=new Kg(E({$metadata:br(t)},n));return er(i,t.body)}),fX=(t,e)=>g(void 0,null,function*(){let n=Wt({}),r=t.body,i=new jg(E({$metadata:br(t)},n));return er(i,t.body)});var hX=(t,e)=>{let n={};return t[RS]!=null&&(n[RS]=Bc(t[RS])),t[PS]!=null&&(n[PS]=Bc(t[PS])),t[kS]!=null&&(n[kS]=Bc(t[kS])),t[Qg]!=null&&(n[Qg]=pI(mF(t[Qg]))),n};var br=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]});var pX="ACL";var RS="AccessKeyId";var NS="AccessTier";var Yc="BucketKeyEnabled";var MS="Credentials",mX="ChecksumAlgorithm";var gX="CacheControl",AB="ChecksumCRC32",TB="ChecksumCRC32C",yX="ContentDisposition";var vX="ContentEncoding";var _X="ContentLanguage",_B="ContentLength";var EX="ContentMD5";var DB="ChecksumSHA1",RB="ChecksumSHA256";var wX="ContentType";var EB="Expires";var bX="ExpectedBucketOwner";var CX="ETag";var Qg="Expiration";var IX="GrantFullControl";var SX="GrantRead",xX="GrantReadACP";var AX="GrantWriteACP";var TX="IfNoneMatch";var DX="ObjectLockLegalHoldStatus",RX="ObjectLockMode";var wB="ObjectLockRetainUntilDate";var NX="RequestCharged";var MX="RequestPayer";var PS="SecretAccessKey";var Yg="StorageClass";var PX="SessionMode";var Zg="ServerSideEncryption";var NB="SSECustomerAlgorithm",kX="SSECustomerKey",MB="SSECustomerKeyMD5";var Xg="SSEKMSEncryptionContext",Jg="SSEKMSKeyId";var kS="SessionToken";var OX="Tagging";var FX="VersionId";var LX="WebsiteRedirectLocation";var VX="cache-control",BX="content-disposition",UX="content-encoding",jX="content-language",$X="content-length",HX="content-md5";var qX="content-type";var zX="expires";var GX="etag";var WX="if-none-match";var KX="session";var QX="x-amz-acl";var PB="x-amz-checksum-crc32",kB="x-amz-checksum-crc32c";var OB="x-amz-checksum-sha1",FB="x-amz-checksum-sha256";var YX="x-amz-create-session-mode";var ZX="x-amz-expiration",XX="x-amz-expected-bucket-owner";var JX="x-amz-grant-full-control",eJ="x-amz-grant-read",tJ="x-amz-grant-read-acp";var nJ="x-amz-grant-write-acp";var rJ="x-amz-object-lock-legal-hold",iJ="x-amz-object-lock-mode",sJ="x-amz-object-lock-retain-until-date";var oJ="x-amz-request-charged";var aJ="x-amz-request-payer";var cJ="x-amz-storage-class",lJ="x-amz-sdk-checksum-algorithm";var ey="x-amz-server-side-encryption",ty="x-amz-server-side-encryption-aws-kms-key-id",Zc="x-amz-server-side-encryption-bucket-key-enabled",ny="x-amz-server-side-encryption-context",LB="x-amz-server-side-encryption-customer-algorithm",uJ="x-amz-server-side-encryption-customer-key",VB="x-amz-server-side-encryption-customer-key-md5",dJ="x-amz-tagging";var fJ="x-amz-version-id",hJ="x-amz-website-redirect-location",pJ="x-id";var ry=class extends zo.classBuilder().ep(L(E({},Bg),{DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}})).m(function(e,n,r,i){return[Bm(r,this.serialize,this.deserialize),_g(r,e.getEndpointParameterInstructions()),og(r)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(gB,mB).ser(bB).de(IB).build(){};var BB={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.679.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"vitest run","test:watch":"vitest watch","test:e2e":"vitest run -c vitest.config.e2e.ts && yarn test:browser","test:e2e:watch":"vitest watch -c vitest.config.e2e.ts","test:browser":"node ./test/browser-build/esbuild && vitest run -c vitest.config.browser.ts","test:browser:watch":"node ./test/browser-build/esbuild && vitest watch -c vitest.config.browser.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.679.0","@aws-sdk/client-sts":"3.679.0","@aws-sdk/core":"3.679.0","@aws-sdk/credential-provider-node":"3.679.0","@aws-sdk/middleware-bucket-endpoint":"3.679.0","@aws-sdk/middleware-expect-continue":"3.679.0","@aws-sdk/middleware-flexible-checksums":"3.679.0","@aws-sdk/middleware-host-header":"3.679.0","@aws-sdk/middleware-location-constraint":"3.679.0","@aws-sdk/middleware-logger":"3.679.0","@aws-sdk/middleware-recursion-detection":"3.679.0","@aws-sdk/middleware-sdk-s3":"3.679.0","@aws-sdk/middleware-ssec":"3.679.0","@aws-sdk/middleware-user-agent":"3.679.0","@aws-sdk/region-config-resolver":"3.679.0","@aws-sdk/signature-v4-multi-region":"3.679.0","@aws-sdk/types":"3.679.0","@aws-sdk/util-endpoints":"3.679.0","@aws-sdk/util-user-agent-browser":"3.679.0","@aws-sdk/util-user-agent-node":"3.679.0","@aws-sdk/xml-builder":"3.679.0","@smithy/config-resolver":"^3.0.9","@smithy/core":"^2.4.8","@smithy/eventstream-serde-browser":"^3.0.10","@smithy/eventstream-serde-config-resolver":"^3.0.7","@smithy/eventstream-serde-node":"^3.0.9","@smithy/fetch-http-handler":"^3.2.9","@smithy/hash-blob-browser":"^3.1.6","@smithy/hash-node":"^3.0.7","@smithy/hash-stream-node":"^3.1.6","@smithy/invalid-dependency":"^3.0.7","@smithy/md5-js":"^3.0.7","@smithy/middleware-content-length":"^3.0.9","@smithy/middleware-endpoint":"^3.1.4","@smithy/middleware-retry":"^3.0.23","@smithy/middleware-serde":"^3.0.7","@smithy/middleware-stack":"^3.0.7","@smithy/node-config-provider":"^3.1.8","@smithy/node-http-handler":"^3.2.4","@smithy/protocol-http":"^4.1.4","@smithy/smithy-client":"^3.4.0","@smithy/types":"^3.5.0","@smithy/url-parser":"^3.0.7","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.23","@smithy/util-defaults-mode-node":"^3.0.23","@smithy/util-endpoints":"^2.1.3","@smithy/util-middleware":"^3.0.7","@smithy/util-retry":"^3.0.7","@smithy/util-stream":"^3.1.9","@smithy/util-utf8":"^3.0.0","@smithy/util-waiter":"^3.1.6",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/signature-v4-crt":"3.679.0","@tsconfig/node16":"16.1.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};var OS=t=>new TextEncoder().encode(t);function FS(t){return typeof t=="string"?t.length===0:t.byteLength===0}var LS={name:"SHA-1"},VS={name:"HMAC",hash:LS},UB=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);var gJ={};function rr(){return typeof window<"u"?window:typeof self<"u"?self:gJ}var BS=function(){function t(e){this.toHash=new Uint8Array(0),e!==void 0&&(this.key=new Promise(function(n,r){rr().crypto.subtle.importKey("raw",jB(e),VS,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))}return t.prototype.update=function(e){if(!FS(e)){var n=jB(e),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(n){return rr().crypto.subtle.sign(VS,n,e.toHash).then(function(r){return new Uint8Array(r)})}):FS(this.toHash)?Promise.resolve(UB):Promise.resolve().then(function(){return rr().crypto.subtle.digest(LS,e.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},t.prototype.reset=function(){this.toHash=new Uint8Array(0)},t}();function jB(t){return typeof t=="string"?OS(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var yJ=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function iy(t){if(vJ(t)&&typeof t.crypto.subtle=="object"){var e=t.crypto.subtle;return _J(e)}return!1}function vJ(t){if(typeof t=="object"&&typeof t.crypto=="object"){var e=t.crypto.getRandomValues;return typeof e=="function"}return!1}function _J(t){return t&&yJ.every(function(e){return typeof t[e]=="function"})}var $B=function(){function t(e){if(iy(rr()))this.hash=new BS(e);else throw new Error("SHA1 not supported")}return t.prototype.update=function(e,n){this.hash.update(gn(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();var US={name:"SHA-256"},jS={name:"HMAC",hash:US},HB=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);var $S=function(){function t(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return t.prototype.update=function(e){if(!Yr(e)){var n=gn(e),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(n){return rr().crypto.subtle.sign(jS,n,e.toHash).then(function(r){return new Uint8Array(r)})}):Yr(this.toHash)?Promise.resolve(HB):Promise.resolve().then(function(){return rr().crypto.subtle.digest(US,e.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},t.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(n,r){rr().crypto.subtle.importKey("raw",gn(e.secret),jS,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))},t}();var An=64,qB=32,zB=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),GB=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],WB=Math.pow(2,53)-1;var xd=function(){function t(){this.state=Int32Array.from(GB),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,r=e.byteLength;if(this.bytesHashed+=r,this.bytesHashed*8>WB)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=e[n++],r--,this.bufferLength===An&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(n.setUint8(this.bufferLength++,128),r%An>=An-8){for(var i=this.bufferLength;i<An;i++)n.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<An-8;i++)n.setUint8(i,0);n.setUint32(An-8,Math.floor(e/4294967296),!0),n.setUint32(An-4,e),this.hashBuffer(),this.finished=!0}for(var s=new Uint8Array(qB),i=0;i<8;i++)s[i*4]=this.state[i]>>>24&255,s[i*4+1]=this.state[i]>>>16&255,s[i*4+2]=this.state[i]>>>8&255,s[i*4+3]=this.state[i]>>>0&255;return s},t.prototype.hashBuffer=function(){for(var e=this,n=e.buffer,r=e.state,i=r[0],s=r[1],o=r[2],a=r[3],c=r[4],u=r[5],d=r[6],h=r[7],m=0;m<An;m++){if(m<16)this.temp[m]=(n[m*4]&255)<<24|(n[m*4+1]&255)<<16|(n[m*4+2]&255)<<8|n[m*4+3]&255;else{var y=this.temp[m-2],_=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10;y=this.temp[m-15];var D=(y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;this.temp[m]=(_+this.temp[m-7]|0)+(D+this.temp[m-16]|0)}var S=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&u^~c&d)|0)+(h+(zB[m]+this.temp[m]|0)|0)|0,O=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&s^i&o^s&o)|0;h=d,d=u,u=c,c=a+S|0,a=o,o=s,s=i,i=S+O|0}r[0]+=i,r[1]+=s,r[2]+=o,r[3]+=a,r[4]+=c,r[5]+=u,r[6]+=d,r[7]+=h},t}();var KB=function(){function t(e){this.secret=e,this.hash=new xd,this.reset()}return t.prototype.update=function(e){if(!(Yr(e)||this.error))try{this.hash.update(gn(e))}catch(n){this.error=n}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return Gi(this,void 0,void 0,function(){return ma(this,function(e){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new xd,this.secret){this.outer=new xd;var e=EJ(this.secret),n=new Uint8Array(An);n.set(e);for(var r=0;r<An;r++)e[r]^=54,n[r]^=92;this.hash.update(e),this.outer.update(n);for(var r=0;r<e.byteLength;r++)e[r]=0}},t}();function EJ(t){var e=gn(t);if(e.byteLength>An){var n=new xd;n.update(e),e=n.digest()}var r=new Uint8Array(An);return r.set(e),r}var QB=function(){function t(e){iy(rr())?this.hash=new $S(e):this.hash=new KB(e)}return t.prototype.update=function(e,n){this.hash.update(gn(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();var YB=ev(qS());var ZB=({serviceId:t,clientVersion:e})=>n=>g(void 0,null,function*(){let r=typeof window<"u"&&window?.navigator?.userAgent?YB.default.parse(window.navigator.userAgent):void 0,i=[["aws-sdk-js",e],["ua","2.1"],[`os/${r?.os?.name||"other"}`,r?.os?.version],["lang/js"],["md/browser",`${r?.browser?.name??"unknown"}_${r?.browser?.version??"unknown"}`]];t&&i.push([`api/${t}`,e]);let s=yield n?.userAgentAppId?.();return s&&i.push([`app/${s}`]),i});var Xc=class t{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let n=new Uint8Array(8);for(let r=7,i=Math.abs(Math.round(e));r>-1&&i>0;r--,i/=256)n[r]=i;return e<0&&XB(n),new t(n)}valueOf(){let e=this.bytes.slice(0),n=e[0]&128;return n&&XB(e),parseInt(dt(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function XB(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var sy=class{constructor(e,n){this.toUtf8=e,this.fromUtf8=n}format(e){let n=[];for(let s of Object.keys(e)){let o=this.fromUtf8(s);n.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[s]))}let r=new Uint8Array(n.reduce((s,o)=>s+o.byteLength,0)),i=0;for(let s of n)r.set(s,i),i+=s.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let o=new Uint8Array(s.buffer);return o.set(e.value,3),o;case"string":let a=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":let d=new Uint8Array(9);return d[0]=8,d.set(Xc.fromNumber(e.value.valueOf()).bytes,1),d;case"uuid":if(!DJ.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let h=new Uint8Array(17);return h[0]=9,h.set(Um(e.value.replace(/\-/g,"")),1),h}}parse(e){let n={},r=0;for(;r<e.byteLength;){let i=e.getUint8(r++),s=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,i));switch(r+=i,e.getUint8(r++)){case 0:n[s]={type:JB,value:!0};break;case 1:n[s]={type:JB,value:!1};break;case 2:n[s]={type:wJ,value:e.getInt8(r++)};break;case 3:n[s]={type:bJ,value:e.getInt16(r,!1)},r+=2;break;case 4:n[s]={type:CJ,value:e.getInt32(r,!1)},r+=4;break;case 5:n[s]={type:IJ,value:new Xc(new Uint8Array(e.buffer,e.byteOffset+r,8))},r+=8;break;case 6:let o=e.getUint16(r,!1);r+=2,n[s]={type:SJ,value:new Uint8Array(e.buffer,e.byteOffset+r,o)},r+=o;break;case 7:let a=e.getUint16(r,!1);r+=2,n[s]={type:xJ,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,a))},r+=a;break;case 8:n[s]={type:AJ,value:new Date(new Xc(new Uint8Array(e.buffer,e.byteOffset+r,8)).valueOf())},r+=8;break;case 9:let c=new Uint8Array(e.buffer,e.byteOffset+r,16);r+=16,n[s]={type:TJ,value:`${dt(c.subarray(0,4))}-${dt(c.subarray(4,6))}-${dt(c.subarray(6,8))}-${dt(c.subarray(8,10))}-${dt(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return n}};var JB="boolean",wJ="byte",bJ="short",CJ="integer",IJ="long",SJ="binary",xJ="string",AJ="timestamp",TJ="uuid",DJ=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var eU=4,Fs=eU*2,Jo=4,RJ=Fs+Jo*2;function tU({byteLength:t,byteOffset:e,buffer:n}){if(t<RJ)throw new Error("Provided message too short to accommodate event stream message overhead");let r=new DataView(n,e,t),i=r.getUint32(0,!1);if(t!==i)throw new Error("Reported message length does not match received message length");let s=r.getUint32(eU,!1),o=r.getUint32(Fs,!1),a=r.getUint32(t-Jo,!1),c=new Wo().update(new Uint8Array(n,e,Fs));if(o!==c.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(n,e+Fs,t-(Fs+Jo))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(n,e+Fs+Jo,s),body:new Uint8Array(n,e+Fs+Jo+s,i-s-(Fs+Jo+Jo))}}var oy=class{constructor(e,n){this.headerMarshaller=new sy(e,n),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){let e=this.messageBuffer.pop(),n=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return n}}}getAvailableMessages(){let e=this.messageBuffer;this.messageBuffer=[];let n=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return n}}}encode({headers:e,body:n}){let r=this.headerMarshaller.format(e),i=r.byteLength+n.byteLength+16,s=new Uint8Array(i),o=new DataView(s.buffer,s.byteOffset,s.byteLength),a=new Wo;return o.setUint32(0,i,!1),o.setUint32(4,r.byteLength,!1),o.setUint32(8,a.update(s.subarray(0,8)).digest(),!1),s.set(r,12),s.set(n,r.byteLength+12),o.setUint32(i-4,a.update(s.subarray(8,i-4)).digest(),!1),s}decode(e){let{headers:n,body:r}=tU(e);return{headers:this.headerMarshaller.parse(n),body:r}}formatHeaders(e){return this.headerMarshaller.format(e)}};var ay=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return En(this,null,function*(){try{for(var e=ii(this.options.inputStream),n,r,i;n=!(r=yield new pt(e.next())).done;n=!1){let s=r.value;yield this.options.decoder.decode(s)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new pt(r.call(e)))}finally{if(i)throw i[0]}}})}};var cy=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return En(this,null,function*(){try{for(var e=ii(this.options.messageStream),n,r,i;n=!(r=yield new pt(e.next())).done;n=!1){let s=r.value;yield this.options.encoder.encode(s)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new pt(r.call(e)))}finally{if(i)throw i[0]}}this.options.includeEndFrame&&(yield new Uint8Array(0))})}};var ly=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return En(this,null,function*(){try{for(var e=ii(this.options.messageStream),n,r,i;n=!(r=yield new pt(e.next())).done;n=!1){let s=r.value;let o=yield new pt(this.options.deserializer(s));o!==void 0&&(yield o)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new pt(r.call(e)))}finally{if(i)throw i[0]}}})}};var uy=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return En(this,null,function*(){try{for(var e=ii(this.options.inputStream),n,r,i;n=!(r=yield new pt(e.next())).done;n=!1){let s=r.value;yield this.options.serializer(s)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new pt(r.call(e)))}finally{if(i)throw i[0]}}})}};function nU(t){let e=0,n=0,r=null,i=null,s=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);e=a,n=4,r=new Uint8Array(a),new DataView(r.buffer).setUint32(0,a,!1)},o=function(){return En(this,null,function*(){let a=t[Symbol.asyncIterator]();for(;;){let{value:c,done:u}=yield new pt(a.next());if(u){if(e)if(e===n)yield r;else throw new Error("Truncated event message received.");else return;return}let d=c.length,h=0;for(;h<d;){if(!r){let y=d-h;i||(i=new Uint8Array(4));let _=Math.min(4-n,y);if(i.set(c.slice(h,h+_),n),n+=_,h+=_,n<4)break;s(new DataView(i.buffer).getUint32(0,!1)),i=null}let m=Math.min(e-n,d-h);r.set(c.slice(h,h+m),n),n+=m,h+=m,e&&e===n&&(yield r,r=null,e=0,n=0)}}})};return{[Symbol.asyncIterator]:o}}function rU(t,e){return function(n){return g(this,null,function*(){let{value:r}=n.headers[":message-type"];if(r==="error"){let i=new Error(n.headers[":error-message"].value||"UnknownError");throw i.name=n.headers[":error-code"].value,i}else if(r==="exception"){let i=n.headers[":exception-type"].value,s={[i]:n},o=yield t(s);if(o.$unknown){let a=new Error(e(n.body));throw a.name=i,a}throw o[i]}else if(r==="event"){let i={[n.headers[":event-type"].value]:n},s=yield t(i);return s.$unknown?void 0:s}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)})}}var Td=class{constructor({utf8Encoder:e,utf8Decoder:n}){this.eventStreamCodec=new oy(e,n),this.utfEncoder=e}deserialize(e,n){let r=nU(e);return new ly({messageStream:new ay({inputStream:r,decoder:this.eventStreamCodec}),deserializer:rU(n,this.utfEncoder)})}serialize(e,n){return new cy({messageStream:new uy({inputStream:e,serializer:n}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};var iU=t=>({[Symbol.asyncIterator]:function(){return En(this,null,function*(){let e=t.getReader();try{for(;;){let{done:n,value:r}=yield new pt(e.read());if(n)return;yield r}}finally{e.releaseLock()}})}}),sU=t=>{let e=t[Symbol.asyncIterator]();return new ReadableStream({pull(r){return g(this,null,function*(){let{done:i,value:s}=yield e.next();if(i)return r.close();r.enqueue(s)})}})};var dy=class{constructor({utf8Encoder:e,utf8Decoder:n}){this.universalMarshaller=new Td({utf8Decoder:n,utf8Encoder:e})}deserialize(e,n){let r=NJ(e)?iU(e):e;return this.universalMarshaller.deserialize(r,n)}serialize(e,n){let r=this.universalMarshaller.serialize(e,n);return typeof ReadableStream=="function"?sU(r):r}},NJ=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream;var oU=t=>new dy(t);function aU(t=0){return new Promise((e,n)=>{t&&setTimeout(()=>{let r=new Error(`Request did not complete within ${t} ms`);r.name="TimeoutError",n(r)},t)})}var zS={supported:void 0},fy=class t{static create(e){return typeof e?.handle=="function"?e:new t(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(n=>n||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),zS.supported===void 0&&(zS.supported=typeof Request<"u"&&"keepalive"in new Request("https://[::1]"))}destroy(){}handle(r){return g(this,arguments,function*(e,{abortSignal:n}={}){this.config||(this.config=yield this.configProvider);let i=this.config.requestTimeout,s=this.config.keepAlive===!0,o=this.config.credentials;if(n?.aborted){let H=new Error("Request aborted");return H.name="AbortError",Promise.reject(H)}let a=e.path,c=YC(e.query||{});c&&(a+=`?${c}`),e.fragment&&(a+=`#${e.fragment}`);let u="";if(e.username!=null||e.password!=null){let H=e.username??"",W=e.password??"";u=`${H}:${W}@`}let{port:d,method:h}=e,m=`${e.protocol}//${u}${e.hostname}${d?`:${d}`:""}${a}`,y=h==="GET"||h==="HEAD"?void 0:e.body,_={body:y,headers:new Headers(e.headers),method:h,credentials:o};this.config?.cache&&(_.cache=this.config.cache),y&&(_.duplex="half"),typeof AbortController<"u"&&(_.signal=n),zS.supported&&(_.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(_,this.config.requestInit(e));let D=()=>{},S=new Request(m,_),O=[fetch(S).then(H=>{let W=H.headers,te={};for(let se of W.entries())te[se[0]]=se[1];return H.body!=null?{response:new Sn({headers:te,reason:H.statusText,statusCode:H.status,body:H.body})}:H.blob().then(se=>({response:new Sn({headers:te,reason:H.statusText,statusCode:H.status,body:se})}))}),aU(i)];return n&&O.push(new Promise((H,W)=>{let te=()=>{let Se=new Error("Request aborted");Se.name="AbortError",W(Se)};if(typeof n.addEventListener=="function"){let Se=n;Se.addEventListener("abort",te,{once:!0}),D=()=>Se.removeEventListener("abort",te)}else n.onabort=te})),Promise.race(O).finally(D)})}updateHttpClientConfig(e,n){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[e]=n,r))}httpHandlerConfigs(){return this.config??{}}};var cU=t=>typeof Blob=="function"&&t instanceof Blob?MJ(t):PJ(t);function MJ(t){return g(this,null,function*(){let e=yield kJ(t),n=Fc(e);return new Uint8Array(n)})}function PJ(t){return g(this,null,function*(){let e=[],n=t.getReader(),r=!1,i=0;for(;!r;){let{done:a,value:c}=yield n.read();c&&(e.push(c),i+=c.length),r=a}let s=new Uint8Array(i),o=0;for(let a of e)s.set(a,o),o+=a.length;return s})}function kJ(t){return new Promise((e,n)=>{let r=new FileReader;r.onloadend=()=>{if(r.readyState!==2)return n(new Error("Reader aborted too early"));let i=r.result??"",s=i.indexOf(","),o=s>-1?s+1:i.length;e(i.substring(o))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(t)})}function lU(r,i){return g(this,arguments,function*(t,e,n=1024*1024){let s=t.size,o=0;for(;o<s;){let a=t.slice(o,Math.min(s,o+n));e(new Uint8Array(yield a.arrayBuffer())),o+=a.size}})}var uU=function(e,n){return g(this,null,function*(){let r=new e;return yield lU(n,i=>{r.update(i)}),r.digest()})};var dU=t=>()=>Promise.reject(t);var fU=[1732584193,4023233417,2562383102,271733878];var hy=class{constructor(){this.reset()}update(e){if(FJ(e))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");let n=LJ(e),r=0,{byteLength:i}=n;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,n[r++]),i--,this.bufferLength===64&&(this.hashBuffer(),this.bufferLength=0)}digest(){return g(this,null,function*(){if(!this.finished){let{buffer:n,bufferLength:r,bytesHashed:i}=this,s=i*8;if(n.setUint8(this.bufferLength++,128),r%64>=56){for(let o=this.bufferLength;o<64;o++)n.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(let o=this.bufferLength;o<56;o++)n.setUint8(o,0);n.setUint32(56,s>>>0,!0),n.setUint32(60,Math.floor(s/4294967296),!0),this.hashBuffer(),this.finished=!0}let e=new DataView(new ArrayBuffer(16));for(let n=0;n<4;n++)e.setUint32(n*4,this.state[n],!0);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)})}hashBuffer(){let{buffer:e,state:n}=this,r=n[0],i=n[1],s=n[2],o=n[3];r=rn(r,i,s,o,e.getUint32(0,!0),7,3614090360),o=rn(o,r,i,s,e.getUint32(4,!0),12,3905402710),s=rn(s,o,r,i,e.getUint32(8,!0),17,606105819),i=rn(i,s,o,r,e.getUint32(12,!0),22,3250441966),r=rn(r,i,s,o,e.getUint32(16,!0),7,4118548399),o=rn(o,r,i,s,e.getUint32(20,!0),12,1200080426),s=rn(s,o,r,i,e.getUint32(24,!0),17,2821735955),i=rn(i,s,o,r,e.getUint32(28,!0),22,4249261313),r=rn(r,i,s,o,e.getUint32(32,!0),7,1770035416),o=rn(o,r,i,s,e.getUint32(36,!0),12,2336552879),s=rn(s,o,r,i,e.getUint32(40,!0),17,4294925233),i=rn(i,s,o,r,e.getUint32(44,!0),22,2304563134),r=rn(r,i,s,o,e.getUint32(48,!0),7,1804603682),o=rn(o,r,i,s,e.getUint32(52,!0),12,4254626195),s=rn(s,o,r,i,e.getUint32(56,!0),17,2792965006),i=rn(i,s,o,r,e.getUint32(60,!0),22,1236535329),r=sn(r,i,s,o,e.getUint32(4,!0),5,4129170786),o=sn(o,r,i,s,e.getUint32(24,!0),9,3225465664),s=sn(s,o,r,i,e.getUint32(44,!0),14,643717713),i=sn(i,s,o,r,e.getUint32(0,!0),20,3921069994),r=sn(r,i,s,o,e.getUint32(20,!0),5,3593408605),o=sn(o,r,i,s,e.getUint32(40,!0),9,38016083),s=sn(s,o,r,i,e.getUint32(60,!0),14,3634488961),i=sn(i,s,o,r,e.getUint32(16,!0),20,3889429448),r=sn(r,i,s,o,e.getUint32(36,!0),5,568446438),o=sn(o,r,i,s,e.getUint32(56,!0),9,3275163606),s=sn(s,o,r,i,e.getUint32(12,!0),14,4107603335),i=sn(i,s,o,r,e.getUint32(32,!0),20,1163531501),r=sn(r,i,s,o,e.getUint32(52,!0),5,2850285829),o=sn(o,r,i,s,e.getUint32(8,!0),9,4243563512),s=sn(s,o,r,i,e.getUint32(28,!0),14,1735328473),i=sn(i,s,o,r,e.getUint32(48,!0),20,2368359562),r=on(r,i,s,o,e.getUint32(20,!0),4,4294588738),o=on(o,r,i,s,e.getUint32(32,!0),11,2272392833),s=on(s,o,r,i,e.getUint32(44,!0),16,1839030562),i=on(i,s,o,r,e.getUint32(56,!0),23,4259657740),r=on(r,i,s,o,e.getUint32(4,!0),4,2763975236),o=on(o,r,i,s,e.getUint32(16,!0),11,1272893353),s=on(s,o,r,i,e.getUint32(28,!0),16,4139469664),i=on(i,s,o,r,e.getUint32(40,!0),23,3200236656),r=on(r,i,s,o,e.getUint32(52,!0),4,681279174),o=on(o,r,i,s,e.getUint32(0,!0),11,3936430074),s=on(s,o,r,i,e.getUint32(12,!0),16,3572445317),i=on(i,s,o,r,e.getUint32(24,!0),23,76029189),r=on(r,i,s,o,e.getUint32(36,!0),4,3654602809),o=on(o,r,i,s,e.getUint32(48,!0),11,3873151461),s=on(s,o,r,i,e.getUint32(60,!0),16,530742520),i=on(i,s,o,r,e.getUint32(8,!0),23,3299628645),r=an(r,i,s,o,e.getUint32(0,!0),6,4096336452),o=an(o,r,i,s,e.getUint32(28,!0),10,1126891415),s=an(s,o,r,i,e.getUint32(56,!0),15,2878612391),i=an(i,s,o,r,e.getUint32(20,!0),21,4237533241),r=an(r,i,s,o,e.getUint32(48,!0),6,1700485571),o=an(o,r,i,s,e.getUint32(12,!0),10,2399980690),s=an(s,o,r,i,e.getUint32(40,!0),15,4293915773),i=an(i,s,o,r,e.getUint32(4,!0),21,2240044497),r=an(r,i,s,o,e.getUint32(32,!0),6,1873313359),o=an(o,r,i,s,e.getUint32(60,!0),10,4264355552),s=an(s,o,r,i,e.getUint32(24,!0),15,2734768916),i=an(i,s,o,r,e.getUint32(52,!0),21,1309151649),r=an(r,i,s,o,e.getUint32(16,!0),6,4149444226),o=an(o,r,i,s,e.getUint32(44,!0),10,3174756917),s=an(s,o,r,i,e.getUint32(8,!0),15,718787259),i=an(i,s,o,r,e.getUint32(36,!0),21,3951481745),n[0]=r+n[0]&4294967295,n[1]=i+n[1]&4294967295,n[2]=s+n[2]&4294967295,n[3]=o+n[3]&4294967295}reset(){this.state=Uint32Array.from(fU),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}};function py(t,e,n,r,i,s){return e=(e+t&4294967295)+(r+s&4294967295)&4294967295,(e<<i|e>>>32-i)+n&4294967295}function rn(t,e,n,r,i,s,o){return py(e&n|~e&r,t,e,i,s,o)}function sn(t,e,n,r,i,s,o){return py(e&r|n&~r,t,e,i,s,o)}function on(t,e,n,r,i,s,o){return py(e^n^r,t,e,i,s,o)}function an(t,e,n,r,i,s,o){return py(n^(e|~r),t,e,i,s,o)}function FJ(t){return typeof t=="string"?t.length===0:t.byteLength===0}function LJ(t){return typeof t=="string"?Ln(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var hU=typeof TextEncoder=="function"?new TextEncoder:null,pU=t=>{if(typeof t=="string"){if(hU)return hU.encode(t).byteLength;let e=t.length;for(let n=e-1;n>=0;n--){let r=t.charCodeAt(n);r>127&&r<=2047?e++:r>2047&&r<=65535&&(e+=2),r>=56320&&r<=57343&&n--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)};var mU=t=>({apiVersion:"2006-03-01",base64Decoder:t?.base64Decoder??Fc,base64Encoder:t?.base64Encoder??$o,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??Vg,extensions:t?.extensions??[],getAwsChunkedEncodingStream:t?.getAwsChunkedEncodingStream??w1,httpAuthSchemeProvider:t?.httpAuthSchemeProvider??fB,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Bo},{schemeId:"aws.auth#sigv4a",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4a"),signer:new ad}],logger:t?.logger??new Rs,sdkStreamMixin:t?.sdkStreamMixin??x1,serviceId:t?.serviceId??"S3",signerConstructor:t?.signerConstructor??Ag,signingEscapePath:t?.signingEscapePath??!1,urlParser:t?.urlParser??Hc,useArnRegion:t?.useArnRegion??!1,utf8Decoder:t?.utf8Decoder??Ln,utf8Encoder:t?.utf8Encoder??Lc});var yU=ev(qS());var gU=["in-region","cross-region","mobile","standard","legacy"];var vU=({defaultsMode:t}={})=>M1(()=>g(void 0,null,function*(){let e=typeof t=="function"?yield t():t;switch(e?.toLowerCase()){case"auto":return Promise.resolve(VJ()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${gU.join(", ")}, got ${e}`)}})),VJ=()=>{let e=(typeof window<"u"&&window?.navigator?.userAgent?yU.default.parse(window.navigator.userAgent):void 0)?.platform?.type;return e==="tablet"||e==="mobile"};var _U=t=>{let e=vU(t),n=()=>e().then(vF),r=mU(t);return L(E(E({},r),t),{runtime:"browser",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??pU,credentialDefaultProvider:t?.credentialDefaultProvider??(i=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:t?.defaultUserAgentProvider??ZB({serviceId:r.serviceId,clientVersion:BB.version}),eventStreamSerdeProvider:t?.eventStreamSerdeProvider??oU,maxAttempts:t?.maxAttempts??Ps,md5:t?.md5??hy,region:t?.region??dU("Region is missing"),requestHandler:fy.create(t?.requestHandler??n),retryMode:t?.retryMode??(()=>g(void 0,null,function*(){return(yield n()).retryMode||GI})),sha1:t?.sha1??$B,sha256:t?.sha256??QB,streamCollector:t?.streamCollector??cU,streamHasher:t?.streamHasher??uU,useDualstackEndpoint:t?.useDualstackEndpoint??(()=>Promise.resolve(yV)),useFipsEndpoint:t?.useFipsEndpoint??(()=>Promise.resolve(vV))})};var EU=t=>{let e=()=>g(void 0,null,function*(){if(t.region===void 0)throw new Error("Region is missing from runtimeConfig");let n=t.region;return typeof n=="string"?n:n()});return{setRegion(n){e=n},region(){return e}}},wU=t=>({region:t.region()});var bU=t=>{let e=t.httpAuthSchemes,n=t.httpAuthSchemeProvider,r=t.credentials;return{setHttpAuthScheme(i){let s=e.findIndex(o=>o.schemeId===i.schemeId);s===-1?e.push(i):e.splice(s,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){n=i},httpAuthSchemeProvider(){return n},setCredentials(i){r=i},credentials(){return r}}},CU=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()});var my=t=>t,IU=(t,e)=>{let n=E(E(E(E({},my(EU(t))),my(CF(t))),my(o1(t))),my(bU(t)));return e.forEach(r=>r.configure(n)),E(E(E(E(E({},t),wU(n)),IF(n)),a1(n)),CU(n))};var gy=class extends Jm{constructor(...[e]){let n=_U(e||{}),r=pB(n),i=qL(r),s=_L(i),o=UV(s),a=_V(o),c=a,u=TV(c),d=EV(u),h=hB(d),m=BL(h,{session:[()=>this,ry]}),y=IU(m,e?.extensions||[]);super(y),this.config=y,this.middlewareStack.use(gV(this.config)),this.middlewareStack.use($V(this.config)),this.middlewareStack.use(bV(this.config)),this.middlewareStack.use(EL(this.config)),this.middlewareStack.use(wL(this.config)),this.middlewareStack.use(CL(this.config)),this.middlewareStack.use(h1(this.config,{httpAuthSchemeParametersProvider:lB,identityProviderConfigProvider:_=>g(this,null,function*(){return new qm({"aws.auth#sigv4":_.credentials,"aws.auth#sigv4a":_.credentials})})})),this.middlewareStack.use(y1(this.config)),this.middlewareStack.use(HL(this.config)),this.middlewareStack.use(c1(this.config)),this.middlewareStack.use(AL(this.config)),this.middlewareStack.use(kI(this.config)),this.middlewareStack.use(OI(this.config))}destroy(){super.destroy()}};function UJ(t){return e=>n=>g(this,null,function*(){let r=E({},n.input),i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let s of i){let o=r[s.target];if(o){let a;typeof o=="string"?$J(o,t)?a=t.base64Decoder(o):(a=t.utf8Decoder(o),r[s.target]=t.base64Encoder(a)):(a=ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o),r[s.target]=t.base64Encoder(a));let c=new t.md5;c.update(a),r[s.hash]=t.base64Encoder(yield c.digest())}}return e(L(E({},n),{input:r}))})}var jJ={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},SU=t=>({applyToStack:e=>{e.add(UJ(t),jJ)}});function $J(t,e){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t))return!1;try{return e.base64Decoder(t).length===32}catch{return!1}}var yy=class extends zo.classBuilder().ep(L(E({},Bg),{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(e,n,r,i){return[Bm(r,this.serialize,this.deserialize),_g(r,e.getEndpointParameterInstructions()),vL(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}),IL(r),og(r),SU(r)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(vB,yB).ser(CB).de(SB).build(){};var Dd={bucketName:"clinic-profile-images",region:"nyc3",accessKeyId:"DO00U2C2Q94HAEM78V2Q",secretAccessKey:"Vj8Gg8mgZ0p78/cy6TadY3a/dJ1Al1Z6DfcDKhkHENA"};var vy=class t{s3Client;bucketName=Dd.bucketName;region=Dd.region;constructor(){this.s3Client=new gy({region:this.region,endpoint:"https://nyc3.digitaloceanspaces.com",credentials:{accessKeyId:Dd.accessKeyId,secretAccessKey:Dd.secretAccessKey}})}uploadImage(e){return g(this,null,function*(){let n=new yy({Bucket:this.bucketName,Key:e.name,Body:e,ACL:"public-read"});try{return yield this.s3Client.send(n),`https://${this.bucketName}.nyc3.digitaloceanspaces.com/${e.name}`}catch(r){console.error("Error al subir la imagen",r);let i=r;throw new Error(`Error al subir la imagen: ${i.message}`)}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})};var Vs=class t{userSubject=new St(this.isLoggedIn());user$=this.userSubject.asObservable();isLoggedIn(){return!!localStorage.getItem("user")}login(){this.userSubject.next(!0)}logout(){localStorage.removeItem("user"),this.userSubject.next(!1)}getUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null}isThereAnAdmin(){let e=this.getUser();return e&&e.isAdmin}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})};function qJ(t,e){t&1&&(F(0,"div",24),j(1," El nombre es requerido y solo puede contener letras. "),k())}function zJ(t,e){t&1&&(F(0,"div",24),j(1," El apellido es requerido y solo puede contener letras. "),k())}function GJ(t,e){t&1&&(F(0,"div",24),j(1," La edad es requerida y debe ser un n\xFAmero positivo. "),k())}function WJ(t,e){t&1&&(F(0,"div",24),j(1," El DNI es requerido y debe tener 10 d\xEDgitos. "),k())}function KJ(t,e){t&1&&(F(0,"div",24),j(1," Por favor, ingresa un correo v\xE1lido. "),k())}function QJ(t,e){t&1&&(F(0,"div",24),j(1," La contrase\xF1a es requerida y debe tener al menos 6 caracteres. "),k())}function YJ(t,e){t&1&&(F(0,"option",29),j(1,"Administrador"),k())}function ZJ(t,e){t&1&&(F(0,"div",24),j(1," La obra social es requerida. "),k())}function XJ(t,e){if(t&1&&(F(0,"div",3)(1,"label",30),j(2,"Obra Social"),k(),We(3,"input",31),Fe(4,ZJ,2,0,"div",6),k()),t&2){let n,r=Ke();K(4),ie("ngIf",((n=r.registerForm.get("obraSocial"))==null?null:n.invalid)&&((n=r.registerForm.get("obraSocial"))==null?null:n.touched))}}function JJ(t,e){t&1&&(F(0,"div",24),j(1," La especialidad es requerida. "),k())}function eee(t,e){t&1&&We(0,"input",39)}function tee(t,e){t&1&&(F(0,"div",24),j(1," La especialidad es requerida y solo puede contener letras. "),k())}function nee(t,e){if(t&1){let n=Fr();F(0,"div",3)(1,"label",32),j(2,"Especialidad"),k(),F(3,"select",33),nt("change",function(i){Pr(n);let s=Ke();return kr(s.onEspecialidadChange(i))}),F(4,"option",19),j(5,"Selecciona una especialidad"),k(),F(6,"option",34),j(7,"Medicina"),k(),F(8,"option",35),j(9,"Odontolog\xEDa"),k(),F(10,"option",36),j(11,"Psicolog\xEDa"),k(),F(12,"option",37),j(13,"Otra"),k()(),Fe(14,JJ,2,0,"div",6)(15,eee,1,0,"input",38)(16,tee,2,0,"div",6),k()}if(t&2){let n,r,i,s=Ke();K(14),ie("ngIf",((n=s.registerForm.get("especialidad"))==null?null:n.invalid)&&((n=s.registerForm.get("especialidad"))==null?null:n.touched)),K(),ie("ngIf",((r=s.registerForm.get("especialidad"))==null?null:r.value)==="otra"),K(),ie("ngIf",((i=s.registerForm.get("nuevaEspecialidad"))==null?null:i.invalid)&&((i=s.registerForm.get("nuevaEspecialidad"))==null?null:i.touched))}}function ree(t,e){if(t&1){let n=Fr();F(0,"div",3)(1,"label",40),j(2,"Imagen de Perfil 1"),k(),F(3,"input",41),nt("change",function(i){Pr(n);let s=Ke();return kr(s.onFileChange(i,"perfil1"))}),k()()}}function iee(t,e){if(t&1){let n=Fr();F(0,"div",3)(1,"label",42),j(2,"Imagen de Perfil 2"),k(),F(3,"input",43),nt("change",function(i){Pr(n);let s=Ke();return kr(s.onFileChange(i,"perfil2"))}),k()()}}function see(t,e){if(t&1){let n=Fr();F(0,"div",3)(1,"label",44),j(2,"Imagen de Perfil"),k(),F(3,"input",45),nt("change",function(i){Pr(n);let s=Ke();return kr(s.onFileChange(i,"perfil1"))}),k()()}}function oee(t,e){if(t&1){let n=Fr();F(0,"div",3)(1,"label",44),j(2,"Imagen de Perfil"),k(),F(3,"input",45),nt("change",function(i){Pr(n);let s=Ke();return kr(s.onFileChange(i,"perfil1"))}),k()()}}function aee(t,e){t&1&&(F(0,"div"),j(1," Debes cargar ambas im\xE1genes de perfil. "),k())}function cee(t,e){t&1&&(F(0,"div"),j(1," Debes cargar la imagen de perfil. "),k())}function lee(t,e){t&1&&(F(0,"div",46)(1,"div",47)(2,"span",48),j(3,"Cargando..."),k()()())}function uee(t,e){if(t&1&&(F(0,"div",49),j(1),k()),t&2){let n=Ke();K(),mi(" ",n.errorMessage," ")}}var _y=class t{constructor(e,n,r,i,s,o){this.fb=e;this.auth=n;this.firestore=r;this.router=i;this.imagesService=s;this.authService=o;this.registerForm=this.fb.group({nombre:["",[je.required,je.pattern(/^[a-zA-Z\s]*$/)]],apellido:["",[je.required,je.pattern(/^[a-zA-Z\s]*$/)]],edad:["",[je.required,je.min(0)]],dni:["",[je.required,je.pattern(/^\d{8}$/)]],obraSocial:["",[je.required,je.pattern(/^[a-zA-Z\s]*$/)]],email:["",[je.required,je.email]],password:["",[je.required,je.minLength(6)]],perfil1:[null],perfil2:[null],especialidad:["",[je.required,je.pattern(/^[a-zA-Z\s]*$/)]],nuevaEspecialidad:[""]})}registerForm;selectSpecialist=!1;selectedType="";perfil1Loaded=!1;perfil2Loaded=!1;errorMessage="";loading=!1;selectPaciente=!1;anAdmin=!1;selectAdmin=!1;ngOnInit(){this.anAdmin=this.authService.isThereAnAdmin()}onFileChange(e,n){let r=e.target.files[0];r&&(this.registerForm.patchValue({[n]:r}),n==="perfil1"?this.perfil1Loaded=!0:n==="perfil2"&&(this.perfil2Loaded=!0))}resetImages(){this.perfil1Loaded=!1,this.perfil2Loaded=!1}onTypeChange(e){this.selectedType=e.target.value,this.selectSpecialist=this.selectedType==="especialista",this.selectPaciente=this.selectedType==="paciente",this.selectAdmin=this.selectedType==="admin",this.updateValidators()}onEspecialidadChange(e){let n=e.target.value,r=this.registerForm.get("nuevaEspecialidad");n==="otra"?r?.setValidators([je.required,je.pattern(/^[a-zA-Z\s]*$/)]):(r?.clearValidators(),r?.setValue("")),r?.updateValueAndValidity()}updateValidators(){let e=this.registerForm.get("obraSocial"),n=this.registerForm.get("especialidad"),r=this.registerForm.get("perfil1");e?.clearValidators(),e?.setValue(null),n?.clearValidators(),n?.setValue(""),r?.clearValidators(),r?.setValue(null),this.selectSpecialist?(n?.setValidators([je.required]),r?.setValidators([je.required])):this.selectPaciente?(e?.setValidators([je.required]),r?.setValidators([je.required])):this.selectAdmin&&r?.setValidators([je.required]),e?.updateValueAndValidity(),n?.updateValueAndValidity(),r?.updateValueAndValidity()}onSubmit(){return g(this,null,function*(){this.registerForm.valid&&(this.loading=!0,GP(this.auth,this.registerForm.value.email,this.registerForm.value.password).then(e=>g(this,null,function*(){let n=e.user;console.log("Usuario creado",n);try{yield KP(n),console.log("Email de verificaci\xF3n enviado")}catch(i){console.error("Error al enviar email de verificaci\xF3n",i)}let r=yield this.imagesService.uploadImage(this.registerForm.value.perfil1);if(this.selectPaciente){let i=yield this.imagesService.uploadImage(this.registerForm.value.perfil2);yield this.logUser(r,i)}else yield this.logUser(r,"");this.router.navigate(["/login"])})).catch(e=>{switch(e.code){case"auth/email-already-in-use":this.errorMessage="El email ya est\xE1 en uso";break;case"auth/invalid-email":this.errorMessage="El email no es v\xE1lido";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a tiene que tener al menos 6 caracteres";break;default:this.errorMessage="Error al registrar el usuario";break}this.loading=!1}).finally(()=>{this.loading=!1}))})}logUser(e,n){return g(this,null,function*(){let r=Pc(this.firestore,"users"),i={nombre:this.registerForm.value.nombre.toLowerCase(),apellido:this.registerForm.value.apellido.toLowerCase(),edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,email:this.registerForm.value.email.toLowerCase(),perfil1:e,fecha:Rt.fromDate(new Date)};this.selectSpecialist?(i.especialidad=this.registerForm.value.especialidad.toLowerCase(),i.profileValidatedByAdmin=!1):this.selectPaciente?(i.obraSocial=this.registerForm.value.obraSocial.toLowerCase(),i.perfil2=n):this.selectAdmin&&(i.isAdmin=!0);try{yield JO(r,i),console.log("Usuario registrado en Firestore:",i)}catch(s){console.error("Error al registrar el usuario en Firestore:",s)}})}static \u0275fac=function(n){return new(n||t)(re(hp),re(Ti),re(yr),re(hr),re(vy),re(Vs))};static \u0275cmp=kt({type:t,selectors:[["app-register"]],standalone:!0,features:[Ot],decls:58,vars:19,consts:[[1,"container","mt-5"],[1,"text-center"],[1,"container-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","required","",1,"form-control"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","required","",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["for","userType",1,"form-label"],["id","userType","required","",1,"form-select",3,"change"],["value",""],["value","paciente"],["value","especialista"],["value","admin",4,"ngIf"],["class","mb-3",4,"ngIf"],[1,"text-danger"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["value","admin"],["for","obraSocial",1,"form-label"],["type","text","id","obraSocial","formControlName","obraSocial","required","",1,"form-control"],["for","especialidad",1,"form-label"],["id","especialidad","formControlName","especialidad","required","",1,"form-select",3,"change"],["value","medicina"],["value","odontologia"],["value","psicologia"],["value","otra"],["type","text","class","form-control mt-2","placeholder","Agregar nueva especialidad","formControlName","nuevaEspecialidad",4,"ngIf"],["type","text","placeholder","Agregar nueva especialidad","formControlName","nuevaEspecialidad",1,"form-control","mt-2"],["for","perfil1",1,"form-label"],["type","file","id","perfil1","accept","image/*","required","",1,"form-control",3,"change"],["for","perfil2",1,"form-label"],["type","file","id","perfil2","accept","image/*","required","",1,"form-control",3,"change"],["for","perfil",1,"form-label"],["type","file","id","perfil","accept","image/*","required","",1,"form-control",3,"change"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(n,r){if(n&1&&(F(0,"div",0)(1,"h2",1),j(2," Registro de usuario"),k(),F(3,"form",2),nt("ngSubmit",function(){return r.onSubmit()}),F(4,"div",3)(5,"label",4),j(6,"Nombre"),k(),We(7,"input",5),Fe(8,qJ,2,0,"div",6),k(),F(9,"div",3)(10,"label",7),j(11,"Apellido"),k(),We(12,"input",8),Fe(13,zJ,2,0,"div",6),k(),F(14,"div",3)(15,"label",9),j(16,"Edad"),k(),We(17,"input",10),Fe(18,GJ,2,0,"div",6),k(),F(19,"div",3)(20,"label",11),j(21,"DNI"),k(),We(22,"input",12),Fe(23,WJ,2,0,"div",6),k(),F(24,"div",3)(25,"label",13),j(26,"Mail"),k(),We(27,"input",14),Fe(28,KJ,2,0,"div",6),k(),F(29,"div",3)(30,"label",15),j(31,"Contrase\xF1a"),k(),We(32,"input",16),Fe(33,QJ,2,0,"div",6),k(),F(34,"div",3)(35,"label",17),j(36,"Seleccione un tipo de usuario"),k(),F(37,"select",18),nt("change",function(s){return r.onTypeChange(s)}),F(38,"option",19),j(39,"Seleccione un tipo"),k(),F(40,"option",20),j(41,"Paciente"),k(),F(42,"option",21),j(43,"Especialista"),k(),Fe(44,YJ,2,0,"option",22),k()(),Fe(45,XJ,5,1,"div",23)(46,nee,17,3,"div",23)(47,ree,4,0,"div",23)(48,iee,4,0,"div",23)(49,see,4,0,"div",23)(50,oee,4,0,"div",23),F(51,"div",24),Fe(52,aee,2,0,"div",25)(53,cee,2,0,"div",25),k(),F(54,"button",26),j(55," Registrar "),k(),Fe(56,lee,4,0,"div",27)(57,uee,2,1,"div",28),k()()),n&2){let i,s,o,a,c,u;K(3),ie("formGroup",r.registerForm),K(5),ie("ngIf",((i=r.registerForm.get("nombre"))==null?null:i.invalid)&&((i=r.registerForm.get("nombre"))==null?null:i.touched)),K(5),ie("ngIf",((s=r.registerForm.get("apellido"))==null?null:s.invalid)&&((s=r.registerForm.get("apellido"))==null?null:s.touched)),K(5),ie("ngIf",((o=r.registerForm.get("edad"))==null?null:o.invalid)&&((o=r.registerForm.get("edad"))==null?null:o.touched)),K(5),ie("ngIf",((a=r.registerForm.get("dni"))==null?null:a.invalid)&&((a=r.registerForm.get("dni"))==null?null:a.touched)),K(5),ie("ngIf",((c=r.registerForm.get("email"))==null?null:c.invalid)&&((c=r.registerForm.get("email"))==null?null:c.touched)),K(5),ie("ngIf",((u=r.registerForm.get("password"))==null?null:u.invalid)&&((u=r.registerForm.get("password"))==null?null:u.touched)),K(11),ie("ngIf",r.anAdmin),K(),ie("ngIf",r.selectPaciente),K(),ie("ngIf",r.selectSpecialist),K(),ie("ngIf",r.selectPaciente),K(),ie("ngIf",r.selectPaciente),K(),ie("ngIf",r.selectSpecialist),K(),ie("ngIf",r.selectAdmin),K(2),ie("ngIf",!r.perfil1Loaded&&!r.perfil2Loaded&&r.selectPaciente),K(),ie("ngIf",!r.perfil1Loaded&&(r.selectSpecialist||r.selectAdmin)),K(),ie("disabled",r.registerForm.invalid||!r.selectedType||r.selectPaciente&&(!r.perfil1Loaded||!r.perfil2Loaded)||(r.selectSpecialist||r.selectAdmin)&&!r.perfil1Loaded),K(2),ie("ngIf",r.loading),K(),ie("ngIf",r.errorMessage)}},dependencies:[pp,dp,gM,vM,rc,_w,fp,cp,lp,yu,mu,gu,Lr,uo],styles:[".option-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s,box-shadow .3s;border-radius:15px;width:350px;height:250px;display:flex;justify-content:center;align-items:center;text-align:center;box-shadow:0 4px 12px #0003;margin:20px}.option-card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 24px #0000004d}.option-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.3)}.bg-primary[_ngcontent-%COMP%]{background-color:#007bff}.bg-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.bg-light[_ngcontent-%COMP%]{background-color:#f8f9fa}.bg-light[_ngcontent-%COMP%]:hover{background-color:#e2e6ea}h2[_ngcontent-%COMP%]{font-size:2.5vw;font-weight:700;margin-bottom:20px}.container-form[_ngcontent-%COMP%]{background-color:#fff;padding:30px;margin-bottom:20px;border-radius:10px;box-shadow:0 4px 8px #0000001a}@media (max-width: 768px){.option-card[_ngcontent-%COMP%]{width:80vw;height:30vh}h2[_ngcontent-%COMP%]{font-size:5vw}.container-form[_ngcontent-%COMP%]{padding:20px}}@media (max-width: 576px){.option-card[_ngcontent-%COMP%]{height:25vh}h2[_ngcontent-%COMP%]{font-size:6vw}.container-form[_ngcontent-%COMP%]{padding:15px}}@media (min-width: 769px){.option-card[_ngcontent-%COMP%]{width:400px;height:300px}}"]})};function dee(t,e){t&1&&(F(0,"div",12),j(1," Por favor, ingresa un correo v\xE1lido. "),k())}function fee(t,e){t&1&&(F(0,"div",12),j(1," La contrase\xF1a es requerida. "),k())}function hee(t,e){if(t&1&&(F(0,"div",13),j(1),k()),t&2){let n=Ke();K(),mi(" ",n.errorMessage," ")}}function pee(t,e){t&1&&(F(0,"div",14)(1,"div",15)(2,"span",16),j(3,"Cargando..."),k()()())}var Ey=class t{constructor(e,n,r,i,s){this.fb=e;this.firestore=n;this.auth=r;this.router=i;this.authService=s;this.loginForm=this.fb.group({email:["",[je.required,je.email]],password:["",[je.required,je.minLength(6)]]})}loginForm;errorMessage=null;loading=!1;sub;onSubmit(){return g(this,null,function*(){if(this.loginForm.valid){this.loading=!0;let{email:e,password:n}=this.loginForm.value;try{let r=e.toLowerCase(),s=(yield QP(this.auth,r,n)).user;if(!s.emailVerified){this.errorMessage="Por favor, verifica tu correo electr\xF3nico antes de iniciar sesi\xF3n.";return}if(yield this.getUser(r))console.log("Inicio de sesi\xF3n exitoso",s),this.errorMessage=null,this.authService.login(),this.router.navigate(["/home"]);else{this.errorMessage="El usuario no ha sido validado por el administrador.";return}}catch(r){console.error("Error al iniciar sesi\xF3n",r),this.errorMessage="Email y/o contrase\xF1a incorrecto."}finally{this.loading=!1}}})}getUser(e){return g(this,null,function*(){try{let n=Pc(this.firestore,"users"),r=Lm(n,s1("email","==",e)),i=yield t1(r);if(i.empty)return!1;{let s=i.docs[0].data();return s.profileValidatedByAdmin===!1?!1:(localStorage.setItem("user",JSON.stringify(s)),!0)}}catch(n){throw console.error("Error al obtener el usuario:",n),n}})}static \u0275fac=function(n){return new(n||t)(re(hp),re(yr),re(Ti),re(hr),re(Vs))};static \u0275cmp=kt({type:t,selectors:[["app-login"]],standalone:!0,features:[Ot],decls:18,vars:6,consts:[[1,"container","mt-5"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","autocomplete","email","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","autocomplete","current-password","required","",1,"form-control"],["class","text-danger mb-3",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],[1,"text-danger"],[1,"text-danger","mb-3"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(n,r){if(n&1&&(F(0,"div",0)(1,"h2",1),j(2,"Iniciar Sesi\xF3n"),k(),F(3,"form",2),nt("ngSubmit",function(){return r.onSubmit()}),F(4,"div",3)(5,"label",4),j(6,"Correo Electr\xF3nico"),k(),We(7,"input",5),Fe(8,dee,2,0,"div",6),k(),F(9,"div",3)(10,"label",7),j(11,"Contrase\xF1a"),k(),We(12,"input",8),Fe(13,fee,2,0,"div",6),k(),Fe(14,hee,2,1,"div",9),F(15,"button",10),j(16," Iniciar Sesi\xF3n "),k()(),Fe(17,pee,4,0,"div",11),k()),n&2){let i,s;K(3),ie("formGroup",r.loginForm),K(5),ie("ngIf",((i=r.loginForm.get("email"))==null?null:i.invalid)&&((i=r.loginForm.get("email"))==null?null:i.touched)),K(5),ie("ngIf",((s=r.loginForm.get("password"))==null?null:s.invalid)&&((s=r.loginForm.get("password"))==null?null:s.touched)),K(),ie("ngIf",r.errorMessage),K(),ie("disabled",r.loginForm.invalid||r.loading),K(2),ie("ngIf",r.loading)}},dependencies:[pp,dp,rc,cp,lp,yu,mu,gu,Lr],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#f0f2f5}.container[_ngcontent-%COMP%]{max-width:600px;width:90%;height:auto;padding:5%;border:1px solid #ced4da;border-radius:10px;background-color:#f8f9fa;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{font-size:2rem;color:#333;text-align:center;margin-bottom:20px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;border-color:#0056b3}.text-danger[_ngcontent-%COMP%]{font-size:.875rem}@media (max-width: 576px){.container[_ngcontent-%COMP%]{padding:25% 5%}h2[_ngcontent-%COMP%]{font-size:1.8rem}label[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 376px){.container[_ngcontent-%COMP%]{padding:6% 3%}h2[_ngcontent-%COMP%]{font-size:1.5rem}label[_ngcontent-%COMP%]{font-size:1rem}}"]})};function mee(t,e){if(t&1&&(F(0,"div"),We(1,"img",11),k()),t&2){let n=Ke(2);K(),ie("src",n.user.perfil1,so)}}function gee(t,e){if(t&1&&(F(0,"div",6)(1,"strong"),j(2,"Especialidad: "),k(),F(3,"span",9),j(4),k()()),t&2){let n=Ke(2);K(4),Tt(n.user.especialidad)}}function yee(t,e){if(t&1&&(F(0,"div",6)(1,"strong"),j(2,"Obra Social: "),k(),F(3,"span",9),j(4),k()()),t&2){let n=Ke(2);K(4),Tt(n.user.obraSocial)}}function vee(t,e){if(t&1&&(F(0,"div",6)(1,"div"),We(2,"img",12),k()()),t&2){let n=Ke(2);K(2),ie("src",n.user.perfil2,so)}}function _ee(t,e){if(t&1&&(F(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),Fe(4,mee,2,1,"div",7),k()(),F(5,"div",8)(6,"div",6)(7,"strong"),j(8,"Nombre: "),k(),F(9,"span",9),j(10),k()(),F(11,"div",6)(12,"strong"),j(13,"Apellido: "),k(),F(14,"span",9),j(15),k()(),F(16,"div",6)(17,"strong"),j(18,"Edad: "),k(),F(19,"span",9),j(20),k()(),F(21,"div",6)(22,"strong"),j(23,"DNI: "),k(),F(24,"span",9),j(25),k()(),F(26,"div",6)(27,"strong"),j(28,"Email: "),k(),F(29,"span",9),j(30),k()(),Fe(31,gee,5,1,"div",10)(32,yee,5,1,"div",10),k(),F(33,"div",5),Fe(34,vee,3,1,"div",10),k()()()),t&2){let n=Ke();K(4),ie("ngIf",n.user.perfil1),K(6),Tt(n.user.nombre),K(5),Tt(n.user.apellido),K(5),Tt(n.user.edad),K(5),Tt(n.user.dni),K(5),Tt(n.user.email),K(),ie("ngIf",n.user.especialidad),K(),ie("ngIf",n.user.obraSocial),K(2),ie("ngIf",n.user.perfil2)}}var wy=class t{user;constructor(){}ngOnInit(){this.loadUser()}loadUser(){let e=localStorage.getItem("user");e&&(this.user=JSON.parse(e))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=kt({type:t,selectors:[["app-perfil"]],standalone:!0,features:[Ot],decls:4,vars:1,consts:[[1,"container","mt-5"],[1,"text-center","text-dark"],["class","profile-card bg-light p-4 rounded shadow",4,"ngIf"],[1,"profile-card","bg-light","p-4","rounded","shadow"],[1,"row"],[1,"col-md-4","text-center"],[1,"mb-3"],[4,"ngIf"],[1,"col-md-4"],[1,"text-muted"],["class","mb-3",4,"ngIf"],["alt","Perfil 1",1,"img-thumbnail","profile-img",3,"src"],["alt","Perfil 2",1,"img-thumbnail","profile-img",3,"src"]],template:function(n,r){n&1&&(F(0,"div",0)(1,"h2",1),j(2,"Perfil del Usuario"),k(),Fe(3,_ee,35,9,"div",2),k()),n&2&&(K(3),ie("ngIf",r.user))},dependencies:[Lr,uo],styles:[".container[_ngcontent-%COMP%]{max-width:1000px;margin:auto;background:#fffffff2;border-radius:10px;padding:40px;box-shadow:0 4px 20px #0000001a}h2[_ngcontent-%COMP%]{margin-bottom:30px;color:#0056b3}strong[_ngcontent-%COMP%]{color:#0056b3}.text-muted[_ngcontent-%COMP%]{color:#495057}.profile-img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:5px;border:2px solid #007bff}.profile-card[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;border-radius:10px;box-shadow:0 2px 10px #00000026}"]})};var Eee=(t,e)=>({"bg-success":t,"bg-danger":e}),wee=(t,e)=>({"btn-danger":t,"btn-success":e});function bee(t,e){if(t&1&&We(0,"img",11),t&2){let n=Ke().$implicit;xh("alt","Perfil de ",n.nombre,""),ie("src",n.perfil1,so)}}function Cee(t,e){if(t&1&&We(0,"img",11),t&2){let n=Ke().$implicit;xh("alt","Perfil de ",n.nombre,""),ie("src",n.perfil2,so)}}function Iee(t,e){if(t&1&&(F(0,"span",12),j(1),k()),t&2){let n=Ke().$implicit;ie("ngClass",cE(2,Eee,n.profileValidatedByAdmin,!n.profileValidatedByAdmin)),K(),mi(" ",n.profileValidatedByAdmin?"Activo":"Inactivo"," ")}}function See(t,e){if(t&1){let n=Fr();F(0,"button",13),nt("click",function(){Pr(n);let i=Ke().$implicit,s=Ke();return kr(s.toggleUserAccess(i.id,i.profileValidatedByAdmin))}),j(1),k()}if(t&2){let n=Ke().$implicit;ie("ngClass",cE(2,wee,n.profileValidatedByAdmin,!n.profileValidatedByAdmin)),K(),mi(" ",n.profileValidatedByAdmin?"Inhabilitar":"Habilitar"," ")}}function xee(t,e){if(t&1&&(F(0,"tr")(1,"td"),j(2),k(),F(3,"td"),j(4),k(),F(5,"td"),j(6),k(),F(7,"td"),j(8),k(),F(9,"td"),j(10),k(),F(11,"td"),j(12),k(),F(13,"td"),Fe(14,bee,1,3,"img",8),k(),F(15,"td"),Fe(16,Cee,1,3,"img",8),k(),F(17,"td"),Fe(18,Iee,2,5,"span",9),k(),F(19,"td"),Fe(20,See,2,5,"button",10),k()()),t&2){let n=e.$implicit;K(2),Tt(n.nombre),K(2),Tt(n.apellido),K(2),Tt(n.email),K(2),Tt(n.edad),K(2),Tt(n.obraSocial),K(2),Tt(n.especialidad),K(2),ie("ngIf",n.perfil1),K(2),ie("ngIf",n.perfil2),K(2),ie("ngIf",n.especialidad),K(2),ie("ngIf",n.especialidad)}}var by=class t{constructor(e,n){this.firestore=e;this.router=n}users=[];sub;ngOnInit(){this.getUsers()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}getUsers(){let e=Pc(this.firestore,"users"),n=Lm(e,r1("fecha","asc")),r=XO(n,{idField:"id"});this.sub=r.subscribe(i=>{this.users=i})}toggleUserAccess(e,n){return g(this,null,function*(){let r=e1(this.firestore,`users/${e}`);try{yield i1(r,{profileValidatedByAdmin:!n})}catch(i){console.error("Error al actualizar el estado del usuario:",i)}})}addUser(){this.router.navigate(["/register"])}static \u0275fac=function(n){return new(n||t)(re(yr),re(hr))};static \u0275cmp=kt({type:t,selectors:[["app-usuarios"]],standalone:!0,features:[Ot],decls:32,vars:1,consts:[[1,"container","mt-4"],[1,"mb-4","text-center"],[1,"text-end","mb-3"],[1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-hover","table-bordered"],[1,"thead-light"],[4,"ngFor","ngForOf"],["class","img-thumbnail",3,"src","alt",4,"ngIf"],["class","badge",3,"ngClass",4,"ngIf"],["class","btn",3,"ngClass","click",4,"ngIf"],[1,"img-thumbnail",3,"src","alt"],[1,"badge",3,"ngClass"],[1,"btn",3,"click","ngClass"]],template:function(n,r){n&1&&(F(0,"div",0)(1,"h2",1),j(2,"Secci\xF3n de Usuarios"),k(),F(3,"div",2)(4,"button",3),nt("click",function(){return r.addUser()}),j(5,"Agregar Usuario"),k()(),F(6,"div",4)(7,"table",5)(8,"thead",6)(9,"tr")(10,"th"),j(11,"Nombre"),k(),F(12,"th"),j(13,"Apellido"),k(),F(14,"th"),j(15,"Email"),k(),F(16,"th"),j(17,"Edad"),k(),F(18,"th"),j(19,"Obra Social"),k(),F(20,"th"),j(21,"Especialidad"),k(),F(22,"th"),j(23,"Imagen"),k(),F(24,"th"),j(25,"Imagen 2"),k(),F(26,"th"),j(27,"Estado"),k(),F(28,"th"),j(29,"Acci\xF3n"),k()()(),F(30,"tbody"),Fe(31,xee,21,10,"tr",7),k()()()()),n&2&&(K(31),ie("ngForOf",r.users))},dependencies:[uo,zR,Rh,Lr],styles:[".table[_ngcontent-%COMP%]{border:1px solid #dee2e6}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.img-thumbnail[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover}.badge[_ngcontent-%COMP%]{font-size:.9rem;padding:.5em .75em}th[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}thead[_ngcontent-%COMP%]{background-color:#e9ecef}.btn[_ngcontent-%COMP%]{transition:background-color .3s ease}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333}.btn-success[_ngcontent-%COMP%]{background-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}@media (max-width: 768px){.img-thumbnail[_ngcontent-%COMP%]{width:40px;height:40px}}"]})};var xU=[{path:"home",title:"Home",component:Yh},{path:"",redirectTo:"home",pathMatch:"full"},{path:"register",title:"Register",component:_y},{path:"login",title:"Login",component:Ey},{path:"perfil",title:"Perfil",component:wy},{path:"usuarios",title:"Usuarios",component:by}];var AU={projectId:"clinica-online-9aa96",appId:"1:439052174571:web:1456e09cacc106cf1eaaae",storageBucket:"clinica-online-9aa96.appspot.com",apiKey:"AIzaSyDrTHnOp6JR1tvhpz6Hqs-9BhY1HCwesRY",authDomain:"clinica-online-9aa96.firebaseapp.com",messagingSenderId:"439052174571"};var TU={providers:[NR({eventCoalescing:!0}),BN(xU),KM(()=>QM(AU)),zP(()=>WP()),ZO(()=>n1())]};function Aee(t,e){t&1&&(F(0,"li",6)(1,"a",9),j(2,"Iniciar Sesi\xF3n"),k()())}function Tee(t,e){t&1&&(F(0,"li",6)(1,"a",10),j(2,"Registrarse"),k()())}function Dee(t,e){t&1&&(F(0,"li",6)(1,"a",11),j(2,"Perfil"),k()())}function Ree(t,e){t&1&&(F(0,"li",6)(1,"a",12),j(2,"Usuarios"),k()())}function Nee(t,e){if(t&1){let n=Fr();F(0,"li",6)(1,"button",13),nt("click",function(){Pr(n);let i=Ke();return kr(i.logout())}),j(2,"Cerrar Sesi\xF3n"),k()()}}var Cy=class t{constructor(e,n){this.authService=e;this.router=n;this.authService.user$.subscribe(r=>{if(this.userInLocalStorage=r,this.userInLocalStorage){let i=this.authService.getUser();i&&(i.isAdmin?this.isAdmin=!0:this.isAdmin=!1)}})}userInLocalStorage=!1;isAdmin=!1;logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||t)(re(Vs),re(hr))};static \u0275cmp=kt({type:t,selectors:[["app-navbar"]],standalone:!0,features:[Ot],decls:14,vars:5,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item","me-3"],["aria-current","page","routerLink","home",1,"nav-link","active","hover-effect"],["class","nav-item me-3",4,"ngIf"],["routerLink","login",1,"nav-link","hover-effect"],["routerLink","register",1,"nav-link","hover-effect"],["routerLink","perfil",1,"nav-link","hover-effect"],["routerLink","usuarios",1,"nav-link","hover-effect"],[1,"btn","btn-danger",3,"click"]],template:function(n,r){n&1&&(F(0,"nav",0)(1,"div",1)(2,"button",2),We(3,"span",3),k(),F(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),j(8,"Inicio"),k()(),Fe(9,Aee,3,0,"li",8)(10,Tee,3,0,"li",8)(11,Dee,3,0,"li",8)(12,Ree,3,0,"li",8)(13,Nee,3,0,"li",8),k()()()()),n&2&&(K(9),ie("ngIf",!r.userInLocalStorage),K(),ie("ngIf",!r.userInLocalStorage),K(),ie("ngIf",r.userInLocalStorage),K(),ie("ngIf",r.userInLocalStorage&&r.isAdmin),K(),ie("ngIf",r.userInLocalStorage))},dependencies:[VN,Lr],styles:[".hover-effect[_ngcontent-%COMP%]{transition:box-shadow .3s ease,background-color .3s ease}.hover-effect[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0003;background-color:#007bff1a;border-radius:10px}"]})};var Iy=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=kt({type:t,selectors:[["app-footer"]],standalone:!0,features:[Ot],decls:5,vars:0,consts:[[1,"nav","justify-content-center","flex-wrap"],[1,"nav-item"],["href","#",1,"nav-link"]],template:function(n,r){n&1&&(F(0,"footer")(1,"ul",0)(2,"li",1)(3,"a",2),j(4,"Repositorio de Github"),k()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;text-align:center;position:relative;bottom:0;width:100%}.nav[_ngcontent-%COMP%]{flex-wrap:wrap}.nav-link[_ngcontent-%COMP%]{margin:5px}"]})};var Sy=class t{title="clinica-online";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=kt({type:t,selectors:[["app-root"]],standalone:!0,features:[Ot],decls:4,vars:0,consts:[[1,"app-container"]],template:function(n,r){n&1&&(We(0,"app-navbar"),F(1,"div",0),We(2,"router-outlet"),k(),We(3,"app-footer"))},dependencies:[rw,Cy,Iy],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}.app-container[_ngcontent-%COMP%]{min-height:calc(100vh - 152px);display:flex;flex-direction:column;background:url("./media/fondo-clinica-RSVOCLWJ.jpg") no-repeat center center;background-size:cover}app-footer[_ngcontent-%COMP%]{flex-shrink:0}']})};tN(Sy,TU).catch(t=>console.error(t));
