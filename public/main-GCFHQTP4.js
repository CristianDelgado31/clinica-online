var L$=Object.create;var Zw=Object.defineProperty,V$=Object.defineProperties,B$=Object.getOwnPropertyDescriptor,U$=Object.getOwnPropertyDescriptors,j$=Object.getOwnPropertyNames,Nm=Object.getOwnPropertySymbols,fR=Object.getPrototypeOf,Jw=Object.prototype.hasOwnProperty,hR=Object.prototype.propertyIsEnumerable,$$=Reflect.get;var Yw=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t);var dR=(t,e,n)=>e in t?Zw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,A=(t,e)=>{for(var n in e||={})Jw.call(e,n)&&dR(t,n,e[n]);if(Nm)for(var n of Nm(e))hR.call(e,n)&&dR(t,n,e[n]);return t},z=(t,e)=>V$(t,U$(e));var fc=(t,e)=>{var n={};for(var r in t)Jw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Nm)for(var r of Nm(t))e.indexOf(r)<0&&hR.call(t,r)&&(n[r]=t[r]);return n};var br=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var H$=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of j$(e))!Jw.call(t,i)&&i!==n&&Zw(t,i,{get:()=>e[i],enumerable:!(r=B$(e,i))||r.enumerable});return t};var hc=(t,e,n)=>(n=t!=null?L$(fR(t)):{},H$(e||!t||!t.__esModule?Zw(n,"default",{value:t,enumerable:!0}):n,t));var ao=(t,e,n)=>$$(fR(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())}),Jt=function(t,e){this[0]=t,this[1]=e},Er=(t,e,n)=>{var r=(s,a,c,l)=>{try{var f=n[s](a),h=(a=f.value)instanceof Jt,g=f.done;Promise.resolve(h?a[0]:a).then(b=>h?r(s==="return"?s:"next",a[1]?{done:b.done,value:b.value}:b,c,l):c({value:b,done:g})).catch(b=>r("throw",b,c,l))}catch(b){l(b)}},i=s=>o[s]=a=>new Promise((c,l)=>r(s,a,c,l)),o={};return n=n.apply(t,e),o[Yw("asyncIterator")]=()=>o,i("next"),i("throw"),i("return"),o};var Ho=(t,e,n)=>(e=t[Yw("asyncIterator")])?e.call(t):(t=t[Yw("iterator")](),e={},n=(r,i)=>(i=t[r])&&(e[r]=o=>new Promise((s,a,c)=>(o=i.call(t,o),c=o.done,Promise.resolve(o.value).then(l=>s({value:l,done:c}),a)))),n("next"),n("return"),e);var fp=br((ko,HT)=>{"use strict";(function(t,e){typeof ko=="object"&&typeof HT<"u"?HT.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(ko,function(){"use strict";function t(d,p,_){if(typeof d=="function"?d===p:d.has(p))return arguments.length<3?p:_;throw new TypeError("Private element is not present on this object")}function e(d,p){if(p.has(d))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(d,p){return d.get(t(d,p))}function r(d,p,_){e(d,p),p.set(d,_)}function i(d,p,_){return d.set(t(d,p),_),_}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},c=d=>new Promise(p=>{if(!d)return p();let _=window.scrollX,x=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),p()},o),window.scrollTo(_,x)}),l="swal2-",h=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((d,p)=>(d[p]=l+p,d),{}),b=["success","warning","info","question","error"].reduce((d,p)=>(d[p]=l+p,d),{}),I="SweetAlert2:",O=d=>d.charAt(0).toUpperCase()+d.slice(1),N=d=>{console.warn(`${I} ${typeof d=="object"?d.join(" "):d}`)},$=d=>{console.error(`${I} ${d}`)},Y=[],oe=d=>{Y.includes(d)||(Y.push(d),N(d))},se=function(d){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;oe(`"${d}" is deprecated and will be removed in the next major release.${p?` Use "${p}" instead.`:""}`)},Te=d=>typeof d=="function"?d():d,ge=d=>d&&typeof d.toPromise=="function",F=d=>ge(d)?d.toPromise():Promise.resolve(d),R=d=>d&&Promise.resolve(d)===d,M=()=>document.body.querySelector(`.${h.container}`),k=d=>{let p=M();return p?p.querySelector(d):null},L=d=>k(`.${d}`),V=()=>L(h.popup),P=()=>L(h.icon),Si=()=>L(h["icon-content"]),Ns=()=>L(h.title),Zd=()=>L(h["html-container"]),ks=()=>L(h.image),jo=()=>L(h["progress-steps"]),Os=()=>L(h["validation-message"]),Mr=()=>k(`.${h.actions} .${h.confirm}`),Fs=()=>k(`.${h.actions} .${h.cancel}`),Gn=()=>k(`.${h.actions} .${h.deny}`),Cn=()=>L(h["input-label"]),Ls=()=>k(`.${h.loader}`),Ii=()=>L(h.actions),jp=()=>L(h.footer),Ji=()=>L(h["timer-progress-bar"]),Jd=()=>L(h.close),Mw=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Vs=()=>{let d=V();if(!d)return[];let p=d.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),_=Array.from(p).sort((ae,Le)=>{let ht=parseInt(ae.getAttribute("tabindex")||"0"),Pt=parseInt(Le.getAttribute("tabindex")||"0");return ht>Pt?1:ht<Pt?-1:0}),x=d.querySelectorAll(Mw),H=Array.from(x).filter(ae=>ae.getAttribute("tabindex")!=="-1");return[...new Set(_.concat(H))].filter(ae=>Ln(ae))},Bs=()=>Pr(document.body,h.shown)&&!Pr(document.body,h["toast-shown"])&&!Pr(document.body,h["no-backdrop"]),Us=()=>{let d=V();return d?Pr(d,h.toast):!1},Xd=()=>{let d=V();return d?d.hasAttribute("data-loading"):!1},Fn=(d,p)=>{if(d.textContent="",p){let x=new DOMParser().parseFromString(p,"text/html"),H=x.querySelector("head");H&&Array.from(H.childNodes).forEach(Le=>{d.appendChild(Le)});let ae=x.querySelector("body");ae&&Array.from(ae.childNodes).forEach(Le=>{Le instanceof HTMLVideoElement||Le instanceof HTMLAudioElement?d.appendChild(Le.cloneNode(!0)):d.appendChild(Le)})}},Pr=(d,p)=>{if(!p)return!1;let _=p.split(/\s+/);for(let x=0;x<_.length;x++)if(!d.classList.contains(_[x]))return!1;return!0},$p=(d,p)=>{Array.from(d.classList).forEach(_=>{!Object.values(h).includes(_)&&!Object.values(b).includes(_)&&!Object.values(p.showClass||{}).includes(_)&&d.classList.remove(_)})},Wn=(d,p,_)=>{if($p(d,p),!p.customClass)return;let x=p.customClass[_];if(x){if(typeof x!="string"&&!x.forEach){N(`Invalid type of customClass.${_}! Expected string or iterable object, got "${typeof x}"`);return}Ke(d,x)}},Dl=(d,p)=>{if(!p)return null;switch(p){case"select":case"textarea":case"file":return d.querySelector(`.${h.popup} > .${h[p]}`);case"checkbox":return d.querySelector(`.${h.popup} > .${h.checkbox} input`);case"radio":return d.querySelector(`.${h.popup} > .${h.radio} input:checked`)||d.querySelector(`.${h.popup} > .${h.radio} input:first-child`);case"range":return d.querySelector(`.${h.popup} > .${h.range} input`);default:return d.querySelector(`.${h.popup} > .${h.input}`)}},ef=d=>{if(d.focus(),d.type!=="file"){let p=d.value;d.value="",d.value=p}},tf=(d,p,_)=>{!d||!p||(typeof p=="string"&&(p=p.split(/\s+/).filter(Boolean)),p.forEach(x=>{Array.isArray(d)?d.forEach(H=>{_?H.classList.add(x):H.classList.remove(x)}):_?d.classList.add(x):d.classList.remove(x)}))},Ke=(d,p)=>{tf(d,p,!0)},Nr=(d,p)=>{tf(d,p,!1)},Xi=(d,p)=>{let _=Array.from(d.children);for(let x=0;x<_.length;x++){let H=_[x];if(H instanceof HTMLElement&&Pr(H,p))return H}},xi=(d,p,_)=>{_===`${parseInt(_)}`&&(_=parseInt(_)),_||parseInt(_)===0?d.style.setProperty(p,typeof _=="number"?`${_}px`:_):d.style.removeProperty(p)},Ot=function(d){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";d&&(d.style.display=p)},Qt=d=>{d&&(d.style.display="none")},Yt=function(d){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";d&&new MutationObserver(()=>{eo(d,d.innerHTML,p)}).observe(d,{childList:!0,subtree:!0})},Sn=(d,p,_,x)=>{let H=d.querySelector(p);H&&H.style.setProperty(_,x)},eo=function(d,p){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";p?Ot(d,_):Qt(d)},Ln=d=>!!(d&&(d.offsetWidth||d.offsetHeight||d.getClientRects().length)),Hp=()=>!Ln(Mr())&&!Ln(Gn())&&!Ln(Fs()),qp=d=>d.scrollHeight>d.clientHeight,js=d=>{let p=window.getComputedStyle(d),_=parseFloat(p.getPropertyValue("animation-duration")||"0"),x=parseFloat(p.getPropertyValue("transition-duration")||"0");return _>0||x>0},Rl=function(d){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=Ji();_&&Ln(_)&&(p&&(_.style.transition="none",_.style.width="100%"),setTimeout(()=>{_.style.transition=`width ${d/1e3}s linear`,_.style.width="0%"},10))},zp=()=>{let d=Ji();if(!d)return;let p=parseInt(window.getComputedStyle(d).width);d.style.removeProperty("transition"),d.style.width="100%";let _=parseInt(window.getComputedStyle(d).width),x=p/_*100;d.style.width=`${x}%`},nf=()=>typeof window>"u"||typeof document>"u",Pw=`
 <div aria-labelledby="${h.title}" aria-describedby="${h["html-container"]}" class="${h.popup}" tabindex="-1">
   <button type="button" class="${h.close}"></button>
   <ul class="${h["progress-steps"]}"></ul>
   <div class="${h.icon}"></div>
   <img class="${h.image}" />
   <h2 class="${h.title}" id="${h.title}"></h2>
   <div class="${h["html-container"]}" id="${h["html-container"]}"></div>
   <input class="${h.input}" id="${h.input}" />
   <input type="file" class="${h.file}" />
   <div class="${h.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${h.select}" id="${h.select}"></select>
   <div class="${h.radio}"></div>
   <label class="${h.checkbox}">
     <input type="checkbox" id="${h.checkbox}" />
     <span class="${h.label}"></span>
   </label>
   <textarea class="${h.textarea}" id="${h.textarea}"></textarea>
   <div class="${h["validation-message"]}" id="${h["validation-message"]}"></div>
   <div class="${h.actions}">
     <div class="${h.loader}"></div>
     <button type="button" class="${h.confirm}"></button>
     <button type="button" class="${h.deny}"></button>
     <button type="button" class="${h.cancel}"></button>
   </div>
   <div class="${h.footer}"></div>
   <div class="${h["timer-progress-bar-container"]}">
     <div class="${h["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Nw=()=>{let d=M();return d?(d.remove(),Nr([document.documentElement,document.body],[h["no-backdrop"],h["toast-shown"],h["has-column"]]),!0):!1},Ti=()=>{s.currentInstance.resetValidationMessage()},Gp=()=>{let d=V(),p=Xi(d,h.input),_=Xi(d,h.file),x=d.querySelector(`.${h.range} input`),H=d.querySelector(`.${h.range} output`),ae=Xi(d,h.select),Le=d.querySelector(`.${h.checkbox} input`),ht=Xi(d,h.textarea);p.oninput=Ti,_.onchange=Ti,ae.onchange=Ti,Le.onchange=Ti,ht.oninput=Ti,x.oninput=()=>{Ti(),H.value=x.value},x.onchange=()=>{Ti(),H.value=x.value}},Wp=d=>typeof d=="string"?document.querySelector(d):d,Ya=d=>{let p=V();p.setAttribute("role",d.toast?"alert":"dialog"),p.setAttribute("aria-live",d.toast?"polite":"assertive"),d.toast||p.setAttribute("aria-modal","true")},rf=d=>{window.getComputedStyle(d).direction==="rtl"&&Ke(M(),h.rtl)},of=d=>{let p=Nw();if(nf()){$("SweetAlert2 requires document to initialize");return}let _=document.createElement("div");_.className=h.container,p&&Ke(_,h["no-transition"]),Fn(_,Pw);let x=Wp(d.target);x.appendChild(_),Ya(d),rf(x),Gp()},Ai=(d,p)=>{d instanceof HTMLElement?p.appendChild(d):typeof d=="object"?Kp(d,p):d&&Fn(p,d)},Kp=(d,p)=>{d.jquery?Ml(p,d):Fn(p,d.toString())},Ml=(d,p)=>{if(d.textContent="",0 in p)for(let _=0;_ in p;_++)d.appendChild(p[_].cloneNode(!0));else d.appendChild(p.cloneNode(!0))},Qp=(d,p)=>{let _=Ii(),x=Ls();!_||!x||(!p.showConfirmButton&&!p.showDenyButton&&!p.showCancelButton?Qt(_):Ot(_),Wn(_,p,"actions"),Za(_,x,p),Fn(x,p.loaderHtml||""),Wn(x,p,"loader"))};function Za(d,p,_){let x=Mr(),H=Gn(),ae=Fs();!x||!H||!ae||(dn(x,"confirm",_),dn(H,"deny",_),dn(ae,"cancel",_),Yp(x,H,ae,_),_.reverseButtons&&(_.toast?(d.insertBefore(ae,x),d.insertBefore(H,x)):(d.insertBefore(ae,p),d.insertBefore(H,p),d.insertBefore(x,p))))}function Yp(d,p,_,x){if(!x.buttonsStyling){Nr([d,p,_],h.styled);return}Ke([d,p,_],h.styled),x.confirmButtonColor&&(d.style.backgroundColor=x.confirmButtonColor,Ke(d,h["default-outline"])),x.denyButtonColor&&(p.style.backgroundColor=x.denyButtonColor,Ke(p,h["default-outline"])),x.cancelButtonColor&&(_.style.backgroundColor=x.cancelButtonColor,Ke(_,h["default-outline"]))}function dn(d,p,_){let x=O(p);eo(d,_[`show${x}Button`],"inline-block"),Fn(d,_[`${p}ButtonText`]||""),d.setAttribute("aria-label",_[`${p}ButtonAriaLabel`]||""),d.className=h[p],Wn(d,_,`${p}Button`)}let Zp=(d,p)=>{let _=Jd();_&&(Fn(_,p.closeButtonHtml||""),Wn(_,p,"closeButton"),eo(_,p.showCloseButton),_.setAttribute("aria-label",p.closeButtonAriaLabel||""))},Ja=(d,p)=>{let _=M();_&&(Xa(_,p.backdrop),kw(_,p.position),Ow(_,p.grow),Wn(_,p,"container"))};function Xa(d,p){typeof p=="string"?d.style.background=p:p||Ke([document.documentElement,document.body],h["no-backdrop"])}function kw(d,p){p&&(p in h?Ke(d,h[p]):(N('The "position" parameter is not valid, defaulting to "center"'),Ke(d,h.center)))}function Ow(d,p){p&&Ke(d,h[`grow-${p}`])}var st={innerParams:new WeakMap,domCache:new WeakMap};let Fw=["input","file","range","select","radio","checkbox","textarea"],Lw=(d,p)=>{let _=V();if(!_)return;let x=st.innerParams.get(d),H=!x||p.input!==x.input;Fw.forEach(ae=>{let Le=Xi(_,h[ae]);Le&&(sf(ae,p.inputAttributes),Le.className=h[ae],H&&Qt(Le))}),p.input&&(H&&Pl(p),Nl(p))},Pl=d=>{if(!d.input)return;if(!Tt[d.input]){$(`Unexpected type of input! Expected ${Object.keys(Tt).join(" | ")}, got "${d.input}"`);return}let p=af(d.input);if(!p)return;let _=Tt[d.input](p,d);Ot(p),d.inputAutoFocus&&setTimeout(()=>{ef(_)})},Jp=d=>{for(let p=0;p<d.attributes.length;p++){let _=d.attributes[p].name;["id","type","value","style"].includes(_)||d.removeAttribute(_)}},sf=(d,p)=>{let _=V();if(!_)return;let x=Dl(_,d);if(x){Jp(x);for(let H in p)x.setAttribute(H,p[H])}},Nl=d=>{if(!d.input)return;let p=af(d.input);p&&Wn(p,d,"input")},ri=(d,p)=>{!d.placeholder&&p.inputPlaceholder&&(d.placeholder=p.inputPlaceholder)},$s=(d,p,_)=>{if(_.inputLabel){let x=document.createElement("label"),H=h["input-label"];x.setAttribute("for",d.id),x.className=H,typeof _.customClass=="object"&&Ke(x,_.customClass.inputLabel),x.innerText=_.inputLabel,p.insertAdjacentElement("beforebegin",x)}},af=d=>{let p=V();if(p)return Xi(p,h[d]||h.input)},Hs=(d,p)=>{["string","number"].includes(typeof p)?d.value=`${p}`:R(p)||N(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof p}"`)},Tt={};Tt.text=Tt.email=Tt.password=Tt.number=Tt.tel=Tt.url=Tt.search=Tt.date=Tt["datetime-local"]=Tt.time=Tt.week=Tt.month=(d,p)=>(Hs(d,p.inputValue),$s(d,d,p),ri(d,p),d.type=p.input,d),Tt.file=(d,p)=>($s(d,d,p),ri(d,p),d),Tt.range=(d,p)=>{let _=d.querySelector("input"),x=d.querySelector("output");return Hs(_,p.inputValue),_.type=p.input,Hs(x,p.inputValue),$s(_,d,p),d},Tt.select=(d,p)=>{if(d.textContent="",p.inputPlaceholder){let _=document.createElement("option");Fn(_,p.inputPlaceholder),_.value="",_.disabled=!0,_.selected=!0,d.appendChild(_)}return $s(d,d,p),d},Tt.radio=d=>(d.textContent="",d),Tt.checkbox=(d,p)=>{let _=Dl(V(),"checkbox");_.value="1",_.checked=!!p.inputValue;let x=d.querySelector("span");return Fn(x,p.inputPlaceholder||p.inputLabel),_},Tt.textarea=(d,p)=>{Hs(d,p.inputValue),ri(d,p),$s(d,d,p);let _=x=>parseInt(window.getComputedStyle(x).marginLeft)+parseInt(window.getComputedStyle(x).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let x=parseInt(window.getComputedStyle(V()).width),H=()=>{if(!document.body.contains(d))return;let ae=d.offsetWidth+_(d);ae>x?V().style.width=`${ae}px`:xi(V(),"width",p.width)};new MutationObserver(H).observe(d,{attributes:!0,attributeFilter:["style"]})}}),d};let Xp=(d,p)=>{let _=Zd();_&&(Yt(_),Wn(_,p,"htmlContainer"),p.html?(Ai(p.html,_),Ot(_,"block")):p.text?(_.textContent=p.text,Ot(_,"block")):Qt(_),Lw(d,p))},em=(d,p)=>{let _=jp();_&&(Yt(_),eo(_,p.footer,"block"),p.footer&&Ai(p.footer,_),Wn(_,p,"footer"))},Vw=(d,p)=>{let _=st.innerParams.get(d),x=P();if(x){if(_&&p.icon===_.icon){to(x,p),ec(x,p);return}if(!p.icon&&!p.iconHtml){Qt(x);return}if(p.icon&&Object.keys(b).indexOf(p.icon)===-1){$(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${p.icon}"`),Qt(x);return}Ot(x),to(x,p),ec(x,p),Ke(x,p.showClass&&p.showClass.icon)}},ec=(d,p)=>{for(let[_,x]of Object.entries(b))p.icon!==_&&Nr(d,x);Ke(d,p.icon&&b[p.icon]),lf(d,p),tm(),Wn(d,p,"icon")},tm=()=>{let d=V();if(!d)return;let p=window.getComputedStyle(d).getPropertyValue("background-color"),_=d.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let x=0;x<_.length;x++)_[x].style.backgroundColor=p},cf=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,tc=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,to=(d,p)=>{if(!p.icon&&!p.iconHtml)return;let _=d.innerHTML,x="";p.iconHtml?x=nm(p.iconHtml):p.icon==="success"?(x=cf,_=_.replace(/ style=".*?"/g,"")):p.icon==="error"?x=tc:p.icon&&(x=nm({question:"?",warning:"!",info:"i"}[p.icon])),_.trim()!==x.trim()&&Fn(d,x)},lf=(d,p)=>{if(p.iconColor){d.style.color=p.iconColor,d.style.borderColor=p.iconColor;for(let _ of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Sn(d,_,"background-color",p.iconColor);Sn(d,".swal2-success-ring","border-color",p.iconColor)}},nm=d=>`<div class="${h["icon-content"]}">${d}</div>`,rm=(d,p)=>{let _=ks();if(_){if(!p.imageUrl){Qt(_);return}Ot(_,""),_.setAttribute("src",p.imageUrl),_.setAttribute("alt",p.imageAlt||""),xi(_,"width",p.imageWidth),xi(_,"height",p.imageHeight),_.className=h.image,Wn(_,p,"image")}},im=(d,p)=>{let _=M(),x=V();if(!(!_||!x)){if(p.toast){xi(_,"width",p.width),x.style.width="100%";let H=Ls();H&&x.insertBefore(H,P())}else xi(x,"width",p.width);xi(x,"padding",p.padding),p.color&&(x.style.color=p.color),p.background&&(x.style.background=p.background),Qt(Os()),om(x,p)}},om=(d,p)=>{let _=p.showClass||{};d.className=`${h.popup} ${Ln(d)?_.popup:""}`,p.toast?(Ke([document.documentElement,document.body],h["toast-shown"]),Ke(d,h.toast)):Ke(d,h.modal),Wn(d,p,"popup"),typeof p.customClass=="string"&&Ke(d,p.customClass),p.icon&&Ke(d,h[`icon-${p.icon}`])},uf=(d,p)=>{let _=jo();if(!_)return;let{progressSteps:x,currentProgressStep:H}=p;if(!x||x.length===0||H===void 0){Qt(_);return}Ot(_),_.textContent="",H>=x.length&&N("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),x.forEach((ae,Le)=>{let ht=df(ae);if(_.appendChild(ht),Le===H&&Ke(ht,h["active-progress-step"]),Le!==x.length-1){let Pt=sm(p);_.appendChild(Pt)}})},df=d=>{let p=document.createElement("li");return Ke(p,h["progress-step"]),Fn(p,d),p},sm=d=>{let p=document.createElement("li");return Ke(p,h["progress-step-line"]),d.progressStepsDistance&&xi(p,"width",d.progressStepsDistance),p},am=(d,p)=>{let _=Ns();_&&(Yt(_),eo(_,p.title||p.titleText,"block"),p.title&&Ai(p.title,_),p.titleText&&(_.innerText=p.titleText),Wn(_,p,"title"))},cm=(d,p)=>{im(d,p),Ja(d,p),uf(d,p),Vw(d,p),rm(d,p),am(d,p),Zp(d,p),Xp(d,p),Qp(d,p),em(d,p);let _=V();typeof p.didRender=="function"&&_&&p.didRender(_),s.eventEmitter.emit("didRender",_)},Bw=()=>Ln(V()),ff=()=>{var d;return(d=Mr())===null||d===void 0?void 0:d.click()},lm=()=>{var d;return(d=Gn())===null||d===void 0?void 0:d.click()},Uw=()=>{var d;return(d=Fs())===null||d===void 0?void 0:d.click()},_r=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ii=d=>{d.keydownTarget&&d.keydownHandlerAdded&&(d.keydownTarget.removeEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!1)},kl=(d,p,_)=>{ii(d),p.toast||(d.keydownHandler=x=>Ol(p,x,_),d.keydownTarget=p.keydownListenerCapture?window:V(),d.keydownListenerCapture=p.keydownListenerCapture,d.keydownTarget.addEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!0)},qs=(d,p)=>{var _;let x=Vs();if(x.length){d=d+p,d===x.length?d=0:d===-1&&(d=x.length-1),x[d].focus();return}(_=V())===null||_===void 0||_.focus()},hf=["ArrowRight","ArrowDown"],_t=["ArrowLeft","ArrowUp"],Ol=(d,p,_)=>{d&&(p.isComposing||p.keyCode===229||(d.stopKeydownPropagation&&p.stopPropagation(),p.key==="Enter"?nc(p,d):p.key==="Tab"?rc(p):[...hf,..._t].includes(p.key)?jw(p.key):p.key==="Escape"&&um(p,d,_)))},nc=(d,p)=>{if(!Te(p.allowEnterKey))return;let _=Dl(V(),p.input);if(d.target&&_&&d.target instanceof HTMLElement&&d.target.outerHTML===_.outerHTML){if(["textarea","file"].includes(p.input))return;ff(),d.preventDefault()}},rc=d=>{let p=d.target,_=Vs(),x=-1;for(let H=0;H<_.length;H++)if(p===_[H]){x=H;break}d.shiftKey?qs(x,-1):qs(x,1),d.stopPropagation(),d.preventDefault()},jw=d=>{let p=Ii(),_=Mr(),x=Gn(),H=Fs();if(!p||!_||!x||!H)return;let ae=[_,x,H];if(document.activeElement instanceof HTMLElement&&!ae.includes(document.activeElement))return;let Le=hf.includes(d)?"nextElementSibling":"previousElementSibling",ht=document.activeElement;if(ht){for(let Pt=0;Pt<p.children.length;Pt++){if(ht=ht[Le],!ht)return;if(ht instanceof HTMLButtonElement&&Ln(ht))break}ht instanceof HTMLButtonElement&&ht.focus()}},um=(d,p,_)=>{Te(p.allowEscapeKey)&&(d.preventDefault(),_(_r.esc))};var zs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let $w=()=>{let d=M();Array.from(document.body.children).forEach(_=>{_.contains(d)||(_.hasAttribute("aria-hidden")&&_.setAttribute("data-previous-aria-hidden",_.getAttribute("aria-hidden")||""),_.setAttribute("aria-hidden","true"))})},dm=()=>{Array.from(document.body.children).forEach(p=>{p.hasAttribute("data-previous-aria-hidden")?(p.setAttribute("aria-hidden",p.getAttribute("data-previous-aria-hidden")||""),p.removeAttribute("data-previous-aria-hidden")):p.removeAttribute("aria-hidden")})},fm=typeof window<"u"&&!!window.GestureEvent,ic=()=>{if(fm&&!Pr(document.body,h.iosfix)){let d=document.body.scrollTop;document.body.style.top=`${d*-1}px`,Ke(document.body,h.iosfix),no()}},no=()=>{let d=M();if(!d)return;let p;d.ontouchstart=_=>{p=hm(_)},d.ontouchmove=_=>{p&&(_.preventDefault(),_.stopPropagation())}},hm=d=>{let p=d.target,_=M(),x=Zd();return!_||!x||pm(d)||mm(d)?!1:p===_||!qp(_)&&p instanceof HTMLElement&&p.tagName!=="INPUT"&&p.tagName!=="TEXTAREA"&&!(qp(x)&&x.contains(p))},pm=d=>d.touches&&d.touches.length&&d.touches[0].touchType==="stylus",mm=d=>d.touches&&d.touches.length>1,Gs=()=>{if(Pr(document.body,h.iosfix)){let d=parseInt(document.body.style.top,10);Nr(document.body,h.iosfix),document.body.style.top="",document.body.scrollTop=d*-1}},Hw=()=>{let d=document.createElement("div");d.className=h["scrollbar-measure"],document.body.appendChild(d);let p=d.getBoundingClientRect().width-d.clientWidth;return document.body.removeChild(d),p},Ws=null,qw=d=>{Ws===null&&(document.body.scrollHeight>window.innerHeight||d==="scroll")&&(Ws=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ws+Hw()}px`)},ro=()=>{Ws!==null&&(document.body.style.paddingRight=`${Ws}px`,Ws=null)};function gm(d,p,_,x){Us()?At(d,x):(c(_).then(()=>At(d,x)),ii(s)),fm?(p.setAttribute("style","display:none !important"),p.removeAttribute("class"),p.innerHTML=""):p.remove(),Bs()&&(ro(),Gs(),dm()),zw()}function zw(){Nr([document.documentElement,document.body],[h.shown,h["height-auto"],h["no-backdrop"],h["toast-shown"]])}function wr(d){d=oc(d);let p=zs.swalPromiseResolve.get(this),_=Fl(this);this.isAwaitingPromise?d.isDismissed||(Di(this),p(d)):_&&p(d)}let Fl=d=>{let p=V();if(!p)return!1;let _=st.innerParams.get(d);if(!_||Pr(p,_.hideClass.popup))return!1;Nr(p,_.showClass.popup),Ke(p,_.hideClass.popup);let x=M();return Nr(x,_.showClass.backdrop),Ke(x,_.hideClass.backdrop),ym(d,p,_),!0};function pf(d){let p=zs.swalPromiseReject.get(this);Di(this),p&&p(d)}let Di=d=>{d.isAwaitingPromise&&(delete d.isAwaitingPromise,st.innerParams.get(d)||d._destroy())},oc=d=>typeof d>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},d),ym=(d,p,_)=>{let x=M(),H=js(p);typeof _.willClose=="function"&&_.willClose(p),s.eventEmitter.emit("willClose",p),H?mf(d,p,x,_.returnFocus,_.didClose):gm(d,x,_.returnFocus,_.didClose)},mf=(d,p,_,x,H)=>{s.swalCloseEventFinishedCallback=gm.bind(null,d,_,x,H);let ae=function(Le){Le.target===p&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback,p.removeEventListener("animationend",ae),p.removeEventListener("transitionend",ae))};p.addEventListener("animationend",ae),p.addEventListener("transitionend",ae)},At=(d,p)=>{setTimeout(()=>{typeof p=="function"&&p.bind(d.params)(),s.eventEmitter.emit("didClose"),d._destroy&&d._destroy()})},Ks=d=>{let p=V();if(p||new Pm,p=V(),!p)return;let _=Ls();Us()?Qt(P()):Gw(p,d),Ot(_),p.setAttribute("data-loading","true"),p.setAttribute("aria-busy","true"),p.focus()},Gw=(d,p)=>{let _=Ii(),x=Ls();!_||!x||(!p&&Ln(Mr())&&(p=Mr()),Ot(_),p&&(Qt(p),x.setAttribute("data-button-to-replace",p.className),_.insertBefore(x,p)),Ke([d,_],h.loading))},vm=(d,p)=>{p.input==="select"||p.input==="radio"?Ri(d,p):["text","email","number","tel","textarea"].some(_=>_===p.input)&&(ge(p.inputValue)||R(p.inputValue))&&(Ks(Mr()),Em(d,p))},_m=(d,p)=>{let _=d.getInput();if(!_)return null;switch(p.input){case"checkbox":return wm(_);case"radio":return Ll(_);case"file":return bm(_);default:return p.inputAutoTrim?_.value.trim():_.value}},wm=d=>d.checked?1:0,Ll=d=>d.checked?d.value:null,bm=d=>d.files&&d.files.length?d.getAttribute("multiple")!==null?d.files:d.files[0]:null,Ri=(d,p)=>{let _=V();if(!_)return;let x=H=>{p.input==="select"?Ww(_,ac(H),p):p.input==="radio"&&sc(_,ac(H),p)};ge(p.inputOptions)||R(p.inputOptions)?(Ks(Mr()),F(p.inputOptions).then(H=>{d.hideLoading(),x(H)})):typeof p.inputOptions=="object"?x(p.inputOptions):$(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof p.inputOptions}`)},Em=(d,p)=>{let _=d.getInput();_&&(Qt(_),F(p.inputValue).then(x=>{_.value=p.input==="number"?`${parseFloat(x)||0}`:`${x}`,Ot(_),_.focus(),d.hideLoading()}).catch(x=>{$(`Error in inputValue promise: ${x}`),_.value="",Ot(_),_.focus(),d.hideLoading()}))};function Ww(d,p,_){let x=Xi(d,h.select);if(!x)return;let H=(ae,Le,ht)=>{let Pt=document.createElement("option");Pt.value=ht,Fn(Pt,Le),Pt.selected=Vl(ht,_.inputValue),ae.appendChild(Pt)};p.forEach(ae=>{let Le=ae[0],ht=ae[1];if(Array.isArray(ht)){let Pt=document.createElement("optgroup");Pt.label=Le,Pt.disabled=!1,x.appendChild(Pt),ht.forEach($l=>H(Pt,$l[1],$l[0]))}else H(x,ht,Le)}),x.focus()}function sc(d,p,_){let x=Xi(d,h.radio);if(!x)return;p.forEach(ae=>{let Le=ae[0],ht=ae[1],Pt=document.createElement("input"),$l=document.createElement("label");Pt.type="radio",Pt.name=h.radio,Pt.value=Le,Vl(Le,_.inputValue)&&(Pt.checked=!0);let Qw=document.createElement("span");Fn(Qw,ht),Qw.className=h.label,$l.appendChild(Pt),$l.appendChild(Qw),x.appendChild($l)});let H=x.querySelectorAll("input");H.length&&H[0].focus()}let ac=d=>{let p=[];return d instanceof Map?d.forEach((_,x)=>{let H=_;typeof H=="object"&&(H=ac(H)),p.push([x,H])}):Object.keys(d).forEach(_=>{let x=d[_];typeof x=="object"&&(x=ac(x)),p.push([_,x])}),p},Vl=(d,p)=>!!p&&p.toString()===d.toString(),Bl=d=>{let p=st.innerParams.get(d);d.disableButtons(),p.input?Sm(d,"confirm"):cc(d,!0)},Cm=d=>{let p=st.innerParams.get(d);d.disableButtons(),p.returnInputValueOnDeny?Sm(d,"deny"):$o(d,!1)},Ul=(d,p)=>{d.disableButtons(),p(_r.cancel)},Sm=(d,p)=>{let _=st.innerParams.get(d);if(!_.input){$(`The "input" parameter is needed to be set when using returnInputValueOn${O(p)}`);return}let x=d.getInput(),H=_m(d,_);_.inputValidator?Im(d,H,p):x&&!x.checkValidity()?(d.enableButtons(),d.showValidationMessage(_.validationMessage||x.validationMessage)):p==="deny"?$o(d,H):cc(d,H)},Im=(d,p,_)=>{let x=st.innerParams.get(d);d.disableInput(),Promise.resolve().then(()=>F(x.inputValidator(p,x.validationMessage))).then(ae=>{d.enableButtons(),d.enableInput(),ae?d.showValidationMessage(ae):_==="deny"?$o(d,p):cc(d,p)})},$o=(d,p)=>{let _=st.innerParams.get(d||void 0);_.showLoaderOnDeny&&Ks(Gn()),_.preDeny?(d.isAwaitingPromise=!0,Promise.resolve().then(()=>F(_.preDeny(p,_.validationMessage))).then(H=>{H===!1?(d.hideLoading(),Di(d)):d.close({isDenied:!0,value:typeof H>"u"?p:H})}).catch(H=>yf(d||void 0,H))):d.close({isDenied:!0,value:p})},gf=(d,p)=>{d.close({isConfirmed:!0,value:p})},yf=(d,p)=>{d.rejectPromise(p)},cc=(d,p)=>{let _=st.innerParams.get(d||void 0);_.showLoaderOnConfirm&&Ks(),_.preConfirm?(d.resetValidationMessage(),d.isAwaitingPromise=!0,Promise.resolve().then(()=>F(_.preConfirm(p,_.validationMessage))).then(H=>{Ln(Os())||H===!1?(d.hideLoading(),Di(d)):gf(d,typeof H>"u"?p:H)}).catch(H=>yf(d||void 0,H))):gf(d,p)};function Qs(){let d=st.innerParams.get(this);if(!d)return;let p=st.domCache.get(this);Qt(p.loader),Us()?d.icon&&Ot(P()):xm(p),Nr([p.popup,p.actions],h.loading),p.popup.removeAttribute("aria-busy"),p.popup.removeAttribute("data-loading"),p.confirmButton.disabled=!1,p.denyButton.disabled=!1,p.cancelButton.disabled=!1}let xm=d=>{let p=d.popup.getElementsByClassName(d.loader.getAttribute("data-button-to-replace"));p.length?Ot(p[0],"inline-block"):Hp()&&Qt(d.actions)};function lc(){let d=st.innerParams.get(this),p=st.domCache.get(this);return p?Dl(p.popup,d.input):null}function vf(d,p,_){let x=st.domCache.get(d);p.forEach(H=>{x[H].disabled=_})}function _f(d,p){let _=V();if(!(!_||!d))if(d.type==="radio"){let x=_.querySelectorAll(`[name="${h.radio}"]`);for(let H=0;H<x.length;H++)x[H].disabled=p}else d.disabled=p}function io(){vf(this,["confirmButton","denyButton","cancelButton"],!1)}function wf(){vf(this,["confirmButton","denyButton","cancelButton"],!0)}function bf(){_f(this.getInput(),!1)}function Ef(){_f(this.getInput(),!0)}function Cf(d){let p=st.domCache.get(this),_=st.innerParams.get(this);Fn(p.validationMessage,d),p.validationMessage.className=h["validation-message"],_.customClass&&_.customClass.validationMessage&&Ke(p.validationMessage,_.customClass.validationMessage),Ot(p.validationMessage);let x=this.getInput();x&&(x.setAttribute("aria-invalid","true"),x.setAttribute("aria-describedby",h["validation-message"]),ef(x),Ke(x,h.inputerror))}function uc(){let d=st.domCache.get(this);d.validationMessage&&Qt(d.validationMessage);let p=this.getInput();p&&(p.removeAttribute("aria-invalid"),p.removeAttribute("aria-describedby"),Nr(p,h.inputerror))}let Zt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Tm=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Am={allowEnterKey:void 0},Ys=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],u=d=>Object.prototype.hasOwnProperty.call(Zt,d),m=d=>Tm.indexOf(d)!==-1,y=d=>Am[d],S=d=>{u(d)||N(`Unknown parameter "${d}"`)},U=d=>{Ys.includes(d)&&N(`The parameter "${d}" is incompatible with toasts`)},q=d=>{let p=y(d);p&&se(d,p)},ie=d=>{d.backdrop===!1&&d.allowOutsideClick&&N('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let p in d)S(p),d.toast&&U(p),q(p)};function ft(d){let p=V(),_=st.innerParams.get(this);if(!p||Pr(p,_.hideClass.popup)){N("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let x=fn(d),H=Object.assign({},_,x);cm(this,H),st.innerParams.set(this,H),Object.defineProperties(this,{params:{value:Object.assign({},this.params,d),writable:!1,enumerable:!0}})}let fn=d=>{let p={};return Object.keys(d).forEach(_=>{m(_)?p[_]=d[_]:N(`Invalid parameter to update: ${_}`)}),p};function nt(){let d=st.domCache.get(this),p=st.innerParams.get(this);if(!p){hn(this);return}d.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof p.didDestroy=="function"&&p.didDestroy(),s.eventEmitter.emit("didDestroy"),In(this)}let In=d=>{hn(d),delete d.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},hn=d=>{d.isAwaitingPromise?(oo(st,d),d.isAwaitingPromise=!0):(oo(zs,d),oo(st,d),delete d.isAwaitingPromise,delete d.disableButtons,delete d.enableButtons,delete d.getInput,delete d.disableInput,delete d.enableInput,delete d.hideLoading,delete d.disableLoading,delete d.showValidationMessage,delete d.resetValidationMessage,delete d.close,delete d.closePopup,delete d.closeModal,delete d.closeToast,delete d.rejectPromise,delete d.update,delete d._destroy)},oo=(d,p)=>{for(let _ in d)d[_].delete(p)};var kr=Object.freeze({__proto__:null,_destroy:nt,close:wr,closeModal:wr,closePopup:wr,closeToast:wr,disableButtons:wf,disableInput:Ef,disableLoading:Qs,enableButtons:io,enableInput:bf,getInput:lc,handleAwaitingPromise:Di,hideLoading:Qs,rejectPromise:pf,resetValidationMessage:uc,showValidationMessage:Cf,update:ft});let jl=(d,p,_)=>{d.toast?Sf(d,p,_):(Z4(p),J4(p),X4(d,p,_))},Sf=(d,p,_)=>{p.popup.onclick=()=>{d&&(Y4(d)||d.timer||d.input)||_(_r.close)}},Y4=d=>!!(d.showConfirmButton||d.showDenyButton||d.showCancelButton||d.showCloseButton),Dm=!1,Z4=d=>{d.popup.onmousedown=()=>{d.container.onmouseup=function(p){d.container.onmouseup=()=>{},p.target===d.container&&(Dm=!0)}}},J4=d=>{d.container.onmousedown=p=>{p.target===d.container&&p.preventDefault(),d.popup.onmouseup=function(_){d.popup.onmouseup=()=>{},(_.target===d.popup||_.target instanceof HTMLElement&&d.popup.contains(_.target))&&(Dm=!0)}}},X4=(d,p,_)=>{p.container.onclick=x=>{if(Dm){Dm=!1;return}x.target===p.container&&Te(d.allowOutsideClick)&&_(_r.backdrop)}},e$=d=>typeof d=="object"&&d.jquery,iR=d=>d instanceof Element||e$(d),t$=d=>{let p={};return typeof d[0]=="object"&&!iR(d[0])?Object.assign(p,d[0]):["title","html","icon"].forEach((_,x)=>{let H=d[x];typeof H=="string"||iR(H)?p[_]=H:H!==void 0&&$(`Unexpected type of ${_}! Expected "string" or "Element", got ${typeof H}`)}),p};function n$(){for(var d=arguments.length,p=new Array(d),_=0;_<d;_++)p[_]=arguments[_];return new this(...p)}function r$(d){class p extends this{_main(x,H){return super._main(x,Object.assign({},d,H))}}return p}let i$=()=>s.timeout&&s.timeout.getTimerLeft(),oR=()=>{if(s.timeout)return zp(),s.timeout.stop()},sR=()=>{if(s.timeout){let d=s.timeout.start();return Rl(d),d}},o$=()=>{let d=s.timeout;return d&&(d.running?oR():sR())},s$=d=>{if(s.timeout){let p=s.timeout.increase(d);return Rl(p,!0),p}},a$=()=>!!(s.timeout&&s.timeout.isRunning()),aR=!1,Kw={};function c$(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Kw[d]=this,aR||(document.body.addEventListener("click",l$),aR=!0)}let l$=d=>{for(let p=d.target;p&&p!==document;p=p.parentNode)for(let _ in Kw){let x=p.getAttribute(_);if(x){Kw[_].fire({template:x});return}}};class u${constructor(){this.events={}}_getHandlersByEventName(p){return typeof this.events[p]>"u"&&(this.events[p]=[]),this.events[p]}on(p,_){let x=this._getHandlersByEventName(p);x.includes(_)||x.push(_)}once(p,_){var x=this;let H=function(){x.removeListener(p,H);for(var ae=arguments.length,Le=new Array(ae),ht=0;ht<ae;ht++)Le[ht]=arguments[ht];_.apply(x,Le)};this.on(p,H)}emit(p){for(var _=arguments.length,x=new Array(_>1?_-1:0),H=1;H<_;H++)x[H-1]=arguments[H];this._getHandlersByEventName(p).forEach(ae=>{try{ae.apply(this,x)}catch(Le){console.error(Le)}})}removeListener(p,_){let x=this._getHandlersByEventName(p),H=x.indexOf(_);H>-1&&x.splice(H,1)}removeAllListeners(p){this.events[p]!==void 0&&(this.events[p].length=0)}reset(){this.events={}}}s.eventEmitter=new u$;var d$=Object.freeze({__proto__:null,argsToParams:t$,bindClickHandler:c$,clickCancel:Uw,clickConfirm:ff,clickDeny:lm,enableLoading:Ks,fire:n$,getActions:Ii,getCancelButton:Fs,getCloseButton:Jd,getConfirmButton:Mr,getContainer:M,getDenyButton:Gn,getFocusableElements:Vs,getFooter:jp,getHtmlContainer:Zd,getIcon:P,getIconContent:Si,getImage:ks,getInputLabel:Cn,getLoader:Ls,getPopup:V,getProgressSteps:jo,getTimerLeft:i$,getTimerProgressBar:Ji,getTitle:Ns,getValidationMessage:Os,increaseTimer:s$,isDeprecatedParameter:y,isLoading:Xd,isTimerRunning:a$,isUpdatableParameter:m,isValidParameter:u,isVisible:Bw,mixin:r$,off:(d,p)=>{if(!d){s.eventEmitter.reset();return}p?s.eventEmitter.removeListener(d,p):s.eventEmitter.removeAllListeners(d)},on:(d,p)=>{s.eventEmitter.on(d,p)},once:(d,p)=>{s.eventEmitter.once(d,p)},resumeTimer:sR,showLoading:Ks,stopTimer:oR,toggleTimer:o$});class f${constructor(p,_){this.callback=p,this.remaining=_,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(p){let _=this.running;return _&&this.stop(),this.remaining+=p,_&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let cR=["swal-title","swal-html","swal-footer"],h$=d=>{let p=typeof d.template=="string"?document.querySelector(d.template):d.template;if(!p)return{};let _=p.content;return b$(_),Object.assign(p$(_),m$(_),g$(_),y$(_),v$(_),_$(_),w$(_,cR))},p$=d=>{let p={};return Array.from(d.querySelectorAll("swal-param")).forEach(x=>{dc(x,["name","value"]);let H=x.getAttribute("name"),ae=x.getAttribute("value");!H||!ae||(typeof Zt[H]=="boolean"?p[H]=ae!=="false":typeof Zt[H]=="object"?p[H]=JSON.parse(ae):p[H]=ae)}),p},m$=d=>{let p={};return Array.from(d.querySelectorAll("swal-function-param")).forEach(x=>{let H=x.getAttribute("name"),ae=x.getAttribute("value");!H||!ae||(p[H]=new Function(`return ${ae}`)())}),p},g$=d=>{let p={};return Array.from(d.querySelectorAll("swal-button")).forEach(x=>{dc(x,["type","color","aria-label"]);let H=x.getAttribute("type");!H||!["confirm","cancel","deny"].includes(H)||(p[`${H}ButtonText`]=x.innerHTML,p[`show${O(H)}Button`]=!0,x.hasAttribute("color")&&(p[`${H}ButtonColor`]=x.getAttribute("color")),x.hasAttribute("aria-label")&&(p[`${H}ButtonAriaLabel`]=x.getAttribute("aria-label")))}),p},y$=d=>{let p={},_=d.querySelector("swal-image");return _&&(dc(_,["src","width","height","alt"]),_.hasAttribute("src")&&(p.imageUrl=_.getAttribute("src")||void 0),_.hasAttribute("width")&&(p.imageWidth=_.getAttribute("width")||void 0),_.hasAttribute("height")&&(p.imageHeight=_.getAttribute("height")||void 0),_.hasAttribute("alt")&&(p.imageAlt=_.getAttribute("alt")||void 0)),p},v$=d=>{let p={},_=d.querySelector("swal-icon");return _&&(dc(_,["type","color"]),_.hasAttribute("type")&&(p.icon=_.getAttribute("type")),_.hasAttribute("color")&&(p.iconColor=_.getAttribute("color")),p.iconHtml=_.innerHTML),p},_$=d=>{let p={},_=d.querySelector("swal-input");_&&(dc(_,["type","label","placeholder","value"]),p.input=_.getAttribute("type")||"text",_.hasAttribute("label")&&(p.inputLabel=_.getAttribute("label")),_.hasAttribute("placeholder")&&(p.inputPlaceholder=_.getAttribute("placeholder")),_.hasAttribute("value")&&(p.inputValue=_.getAttribute("value")));let x=Array.from(d.querySelectorAll("swal-input-option"));return x.length&&(p.inputOptions={},x.forEach(H=>{dc(H,["value"]);let ae=H.getAttribute("value");if(!ae)return;let Le=H.innerHTML;p.inputOptions[ae]=Le})),p},w$=(d,p)=>{let _={};for(let x in p){let H=p[x],ae=d.querySelector(H);ae&&(dc(ae,[]),_[H.replace(/^swal-/,"")]=ae.innerHTML.trim())}return _},b$=d=>{let p=cR.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(d.children).forEach(_=>{let x=_.tagName.toLowerCase();p.includes(x)||N(`Unrecognized element <${x}>`)})},dc=(d,p)=>{Array.from(d.attributes).forEach(_=>{p.indexOf(_.name)===-1&&N([`Unrecognized attribute "${_.name}" on <${d.tagName.toLowerCase()}>.`,`${p.length?`Allowed attributes are: ${p.join(", ")}`:"To set the value, use HTML within the element."}`])})},lR=10,E$=d=>{let p=M(),_=V();typeof d.willOpen=="function"&&d.willOpen(_),s.eventEmitter.emit("willOpen",_);let H=window.getComputedStyle(document.body).overflowY;I$(p,_,d),setTimeout(()=>{C$(p,_)},lR),Bs()&&(S$(p,d.scrollbarPadding,H),$w()),!Us()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof d.didOpen=="function"&&setTimeout(()=>d.didOpen(_)),s.eventEmitter.emit("didOpen",_),Nr(p,h["no-transition"])},Rm=d=>{let p=V();if(d.target!==p)return;let _=M();p.removeEventListener("animationend",Rm),p.removeEventListener("transitionend",Rm),_.style.overflowY="auto"},C$=(d,p)=>{js(p)?(d.style.overflowY="hidden",p.addEventListener("animationend",Rm),p.addEventListener("transitionend",Rm)):d.style.overflowY="auto"},S$=(d,p,_)=>{ic(),p&&_!=="hidden"&&qw(_),setTimeout(()=>{d.scrollTop=0})},I$=(d,p,_)=>{Ke(d,_.showClass.backdrop),_.animation?(p.style.setProperty("opacity","0","important"),Ot(p,"grid"),setTimeout(()=>{Ke(p,_.showClass.popup),p.style.removeProperty("opacity")},lR)):Ot(p,"grid"),Ke([document.documentElement,document.body],h.shown),_.heightAuto&&_.backdrop&&!_.toast&&Ke([document.documentElement,document.body],h["height-auto"])};var uR={email:(d,p)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(d)?Promise.resolve():Promise.resolve(p||"Invalid email address"),url:(d,p)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(d)?Promise.resolve():Promise.resolve(p||"Invalid URL")};function x$(d){d.inputValidator||(d.input==="email"&&(d.inputValidator=uR.email),d.input==="url"&&(d.inputValidator=uR.url))}function T$(d){(!d.target||typeof d.target=="string"&&!document.querySelector(d.target)||typeof d.target!="string"&&!d.target.appendChild)&&(N('Target parameter is not valid, defaulting to "body"'),d.target="body")}function A$(d){x$(d),d.showLoaderOnConfirm&&!d.preConfirm&&N(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),T$(d),typeof d.title=="string"&&(d.title=d.title.split(`
`).join("<br />")),of(d)}let so;var Mm=new WeakMap;class $t{constructor(){if(r(this,Mm,void 0),typeof window>"u")return;so=this;for(var p=arguments.length,_=new Array(p),x=0;x<p;x++)_[x]=arguments[x];let H=Object.freeze(this.constructor.argsToParams(_));this.params=H,this.isAwaitingPromise=!1,i(Mm,this,this._main(so.params))}_main(p){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ie(Object.assign({},_,p)),s.currentInstance){let ae=zs.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:Le}=s.currentInstance;s.currentInstance._destroy(),Le||ae({isDismissed:!0}),Bs()&&dm()}s.currentInstance=so;let x=R$(p,_);A$(x),Object.freeze(x),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let H=M$(so);return cm(so,x),st.innerParams.set(so,x),D$(so,H,x)}then(p){return n(Mm,this).then(p)}finally(p){return n(Mm,this).finally(p)}}let D$=(d,p,_)=>new Promise((x,H)=>{let ae=Le=>{d.close({isDismissed:!0,dismiss:Le})};zs.swalPromiseResolve.set(d,x),zs.swalPromiseReject.set(d,H),p.confirmButton.onclick=()=>{Bl(d)},p.denyButton.onclick=()=>{Cm(d)},p.cancelButton.onclick=()=>{Ul(d,ae)},p.closeButton.onclick=()=>{ae(_r.close)},jl(_,p,ae),kl(s,_,ae),vm(d,_),E$(_),P$(s,_,ae),N$(p,_),setTimeout(()=>{p.container.scrollTop=0})}),R$=(d,p)=>{let _=h$(d),x=Object.assign({},Zt,p,_,d);return x.showClass=Object.assign({},Zt.showClass,x.showClass),x.hideClass=Object.assign({},Zt.hideClass,x.hideClass),x.animation===!1&&(x.showClass={backdrop:"swal2-noanimation"},x.hideClass={}),x},M$=d=>{let p={popup:V(),container:M(),actions:Ii(),confirmButton:Mr(),denyButton:Gn(),cancelButton:Fs(),loader:Ls(),closeButton:Jd(),validationMessage:Os(),progressSteps:jo()};return st.domCache.set(d,p),p},P$=(d,p,_)=>{let x=Ji();Qt(x),p.timer&&(d.timeout=new f$(()=>{_("timer"),delete d.timeout},p.timer),p.timerProgressBar&&(Ot(x),Wn(x,p,"timerProgressBar"),setTimeout(()=>{d.timeout&&d.timeout.running&&Rl(p.timer)})))},N$=(d,p)=>{if(!p.toast){if(!Te(p.allowEnterKey)){se("allowEnterKey"),F$();return}k$(d)||O$(d,p)||qs(-1,1)}},k$=d=>{let p=d.popup.querySelectorAll("[autofocus]");for(let _ of p)if(_ instanceof HTMLElement&&Ln(_))return _.focus(),!0;return!1},O$=(d,p)=>p.focusDeny&&Ln(d.denyButton)?(d.denyButton.focus(),!0):p.focusCancel&&Ln(d.cancelButton)?(d.cancelButton.focus(),!0):p.focusConfirm&&Ln(d.confirmButton)?(d.confirmButton.focus(),!0):!1,F$=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let d=new Date,p=localStorage.getItem("swal-initiation");p?(d.getTime()-Date.parse(p))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let _=document.createElement("audio");_.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",_.loop=!0,document.body.appendChild(_),setTimeout(()=>{_.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${d}`)}$t.prototype.disableButtons=wf,$t.prototype.enableButtons=io,$t.prototype.getInput=lc,$t.prototype.disableInput=Ef,$t.prototype.enableInput=bf,$t.prototype.hideLoading=Qs,$t.prototype.disableLoading=Qs,$t.prototype.showValidationMessage=Cf,$t.prototype.resetValidationMessage=uc,$t.prototype.close=wr,$t.prototype.closePopup=wr,$t.prototype.closeModal=wr,$t.prototype.closeToast=wr,$t.prototype.rejectPromise=pf,$t.prototype.update=ft,$t.prototype._destroy=nt,Object.assign($t,d$),Object.keys(kr).forEach(d=>{$t[d]=function(){return so&&so[d]?so[d](...arguments):null}}),$t.DismissReason=_r,$t.version="11.14.4";let Pm=$t;return Pm.default=Pm,Pm});typeof ko<"u"&&ko.Sweetalert2&&(ko.swal=ko.sweetAlert=ko.Swal=ko.SweetAlert=ko.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});var e_=br(Rs=>{"use strict";var qV=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",cee=qV+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",zV="["+qV+"]["+cee+"]*",lee=new RegExp("^"+zV+"$"),uee=function(t,e){let n=[],r=e.exec(t);for(;r;){let i=[];i.startIndex=e.lastIndex-r[0].length;let o=r.length;for(let s=0;s<o;s++)i.push(r[s]);n.push(i),r=e.exec(t)}return n},dee=function(t){let e=lee.exec(t);return!(e===null||typeof e>"u")};Rs.isExist=function(t){return typeof t<"u"};Rs.isEmptyObject=function(t){return Object.keys(t).length===0};Rs.merge=function(t,e,n){if(e){let r=Object.keys(e),i=r.length;for(let o=0;o<i;o++)n==="strict"?t[r[o]]=[e[r[o]]]:t[r[o]]=e[r[o]]}};Rs.getValue=function(t){return Rs.isExist(t)?t:""};Rs.isName=dee;Rs.getAllMatches=uee;Rs.nameRegexp=zV});var bA=br(YV=>{"use strict";var wA=e_(),fee={allowBooleanAttributes:!1,unpairedTags:[]};YV.validate=function(t,e){e=Object.assign({},fee,e);let n=[],r=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let o=0;o<t.length;o++)if(t[o]==="<"&&t[o+1]==="?"){if(o+=2,o=WV(t,o),o.err)return o}else if(t[o]==="<"){let s=o;if(o++,t[o]==="!"){o=KV(t,o);continue}else{let a=!1;t[o]==="/"&&(a=!0,o++);let c="";for(;o<t.length&&t[o]!==">"&&t[o]!==" "&&t[o]!=="	"&&t[o]!==`
`&&t[o]!=="\r";o++)c+=t[o];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),o--),!wee(c)){let h;return c.trim().length===0?h="Invalid space after '<'.":h="Tag '"+c+"' is an invalid name.",Wt("InvalidTag",h,pr(t,o))}let l=mee(t,o);if(l===!1)return Wt("InvalidAttr","Attributes for '"+c+"' have open quote.",pr(t,o));let f=l.value;if(o=l.index,f[f.length-1]==="/"){let h=o-f.length;f=f.substring(0,f.length-1);let g=QV(f,e);if(g===!0)r=!0;else return Wt(g.err.code,g.err.msg,pr(t,h+g.err.line))}else if(a)if(l.tagClosed){if(f.trim().length>0)return Wt("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",pr(t,s));if(n.length===0)return Wt("InvalidTag","Closing tag '"+c+"' has not been opened.",pr(t,s));{let h=n.pop();if(c!==h.tagName){let g=pr(t,h.tagStartPos);return Wt("InvalidTag","Expected closing tag '"+h.tagName+"' (opened in line "+g.line+", col "+g.col+") instead of closing tag '"+c+"'.",pr(t,s))}n.length==0&&(i=!0)}}else return Wt("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",pr(t,o));else{let h=QV(f,e);if(h!==!0)return Wt(h.err.code,h.err.msg,pr(t,o-f.length+h.err.line));if(i===!0)return Wt("InvalidXml","Multiple possible root nodes found.",pr(t,o));e.unpairedTags.indexOf(c)!==-1||n.push({tagName:c,tagStartPos:s}),r=!0}for(o++;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="!"){o++,o=KV(t,o);continue}else if(t[o+1]==="?"){if(o=WV(t,++o),o.err)return o}else break;else if(t[o]==="&"){let h=vee(t,o);if(h==-1)return Wt("InvalidChar","char '&' is not expected.",pr(t,o));o=h}else if(i===!0&&!GV(t[o]))return Wt("InvalidXml","Extra text at the end",pr(t,o));t[o]==="<"&&o--}}else{if(GV(t[o]))continue;return Wt("InvalidChar","char '"+t[o]+"' is not expected.",pr(t,o))}if(r){if(n.length==1)return Wt("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",pr(t,n[0].tagStartPos));if(n.length>0)return Wt("InvalidXml","Invalid '"+JSON.stringify(n.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Wt("InvalidXml","Start tag expected.",1);return!0};function GV(t){return t===" "||t==="	"||t===`
`||t==="\r"}function WV(t,e){let n=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let r=t.substr(n,e-n);if(e>5&&r==="xml")return Wt("InvalidXml","XML declaration allowed only at the start of the document.",pr(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function KV(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let n=1;for(e+=8;e<t.length;e++)if(t[e]==="<")n++;else if(t[e]===">"&&(n--,n===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}var hee='"',pee="'";function mee(t,e){let n="",r="",i=!1;for(;e<t.length;e++){if(t[e]===hee||t[e]===pee)r===""?r=t[e]:r!==t[e]||(r="");else if(t[e]===">"&&r===""){i=!0;break}n+=t[e]}return r!==""?!1:{value:n,index:e,tagClosed:i}}var gee=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function QV(t,e){let n=wA.getAllMatches(t,gee),r={};for(let i=0;i<n.length;i++){if(n[i][1].length===0)return Wt("InvalidAttr","Attribute '"+n[i][2]+"' has no space in starting.",Ep(n[i]));if(n[i][3]!==void 0&&n[i][4]===void 0)return Wt("InvalidAttr","Attribute '"+n[i][2]+"' is without value.",Ep(n[i]));if(n[i][3]===void 0&&!e.allowBooleanAttributes)return Wt("InvalidAttr","boolean attribute '"+n[i][2]+"' is not allowed.",Ep(n[i]));let o=n[i][2];if(!_ee(o))return Wt("InvalidAttr","Attribute '"+o+"' is an invalid name.",Ep(n[i]));if(!r.hasOwnProperty(o))r[o]=1;else return Wt("InvalidAttr","Attribute '"+o+"' is repeated.",Ep(n[i]))}return!0}function yee(t,e){let n=/\d/;for(t[e]==="x"&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(n))break}return-1}function vee(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,yee(t,e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(t[e]===";")break;return-1}return e}function Wt(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function _ee(t){return wA.isName(t)}function wee(t){return wA.isName(t)}function pr(t,e){let n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function Ep(t){return t.startIndex+t[1].length}});var JV=br(EA=>{"use strict";var ZV={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}},bee=function(t){return Object.assign({},ZV,t)};EA.buildOptions=bee;EA.defaultOptions=ZV});var eB=br((cxe,XV)=>{"use strict";var CA=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,n){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:n})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};XV.exports=CA});var nB=br((lxe,tB)=>{"use strict";var Eee=e_();function Cee(t,e){let n={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let r=1,i=!1,o=!1,s="";for(;e<t.length;e++)if(t[e]==="<"&&!o){if(i&&xee(t,e))e+=7,[entityName,val,e]=See(t,e+1),val.indexOf("&")===-1&&(n[Ree(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(i&&Tee(t,e))e+=8;else if(i&&Aee(t,e))e+=8;else if(i&&Dee(t,e))e+=9;else if(Iee)o=!0;else throw new Error("Invalid DOCTYPE");r++,s=""}else if(t[e]===">"){if(o?t[e-1]==="-"&&t[e-2]==="-"&&(o=!1,r--):r--,r===0)break}else t[e]==="["?i=!0:s+=t[e];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:e}}function See(t,e){let n="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)n+=t[e];if(n=n.trim(),n.indexOf(" ")!==-1)throw new Error("External entites are not supported");let r=t[e++],i="";for(;e<t.length&&t[e]!==r;e++)i+=t[e];return[n,i,e]}function Iee(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function xee(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function Tee(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function Aee(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function Dee(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function Ree(t){if(Eee.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}tB.exports=Cee});var iB=br((uxe,rB)=>{"use strict";var Mee=/^[-+]?0x[a-fA-F0-9]+$/,Pee=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var Nee={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function kee(t,e={}){if(e=Object.assign({},Nee,e),!t||typeof t!="string")return t;let n=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(n))return t;if(e.hex&&Mee.test(n))return Number.parseInt(n,16);{let r=Pee.exec(n);if(r){let i=r[1],o=r[2],s=Oee(r[3]),a=r[4]||r[6];if(!e.leadingZeros&&o.length>0&&i&&n[2]!==".")return t;if(!e.leadingZeros&&o.length>0&&!i&&n[1]!==".")return t;{let c=Number(n),l=""+c;return l.search(/[eE]/)!==-1||a?e.eNotation?c:t:n.indexOf(".")!==-1?l==="0"&&s===""||l===s||i&&l==="-"+s?c:t:o?s===l||i+s===l?c:t:n===l||n===i+l?c:t}}else return t}}function Oee(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}rB.exports=kee});var aB=br((dxe,sB)=>{"use strict";var oB=e_(),Cp=eB(),Fee=nB(),Lee=iB(),SA=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,16))}},this.addExternalEntities=Vee,this.parseXml=Hee,this.parseTextData=Bee,this.resolveNameSpace=Uee,this.buildAttributesMap=$ee,this.isItStopNode=Wee,this.replaceEntitiesValue=zee,this.readStopNodeData=Qee,this.saveTextToParentTag=Gee,this.addChild=qee}};function Vee(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function Bee(t,e,n,r,i,o,s){if(t!==void 0&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){s||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,n,i,o);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?xA(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?xA(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function Uee(t){if(this.options.removeNSPrefix){let e=t.split(":"),n=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=n+e[1])}return t}var jee=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function $ee(t,e,n){if(!this.options.ignoreAttributes&&typeof t=="string"){let r=oB.getAllMatches(t,jee),i=r.length,o={};for(let s=0;s<i;s++){let a=this.resolveNameSpace(r[s][1]),c=r[s][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let f=this.options.attributeValueProcessor(a,c,e);f==null?o[l]=c:typeof f!=typeof c||f!==c?o[l]=f:o[l]=xA(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[l]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=o,s}return o}}var Hee=function(t){t=t.replace(/\r\n?/g,`
`);let e=new Cp("!xml"),n=e,r="",i="";for(let o=0;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="/"){let a=bl(t,">",o,"Closing Tag is not closed."),c=t.substring(o+2,a).trim();if(this.options.removeNSPrefix){let h=c.indexOf(":");h!==-1&&(c=c.substr(h+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&(r=this.saveTextToParentTag(r,n,i));let l=i.substring(i.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let f=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(f=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):f=i.lastIndexOf("."),i=i.substring(0,f),n=this.tagsNodeStack.pop(),r="",o=a}else if(t[o+1]==="?"){let a=IA(t,o,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new Cp(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(n,c,i)}o=a.closeIndex+1}else if(t.substr(o+1,3)==="!--"){let a=bl(t,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){let c=t.substring(o+4,a-2);r=this.saveTextToParentTag(r,n,i),n.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}o=a}else if(t.substr(o+1,2)==="!D"){let a=Fee(t,o);this.docTypeEntities=a.entities,o=a.i}else if(t.substr(o+1,2)==="!["){let a=bl(t,"]]>",o,"CDATA is not closed.")-2,c=t.substring(o+9,a);r=this.saveTextToParentTag(r,n,i);let l=this.parseTextData(c,n.tagname,i,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):n.add(this.options.textNodeName,l),o=a+2}else{let a=IA(t,o,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,f=a.tagExp,h=a.attrExpPresent,g=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,i,!1));let b=n;if(b&&this.options.unpairedTags.indexOf(b.tagname)!==-1&&(n=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),c!==e.tagname&&(i+=i?"."+c:c),this.isItStopNode(this.options.stopNodes,i,c)){let I="";if(f.length>0&&f.lastIndexOf("/")===f.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),f=c):f=f.substr(0,f.length-1),o=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)o=a.closeIndex;else{let N=this.readStopNodeData(t,l,g+1);if(!N)throw new Error(`Unexpected end of ${l}`);o=N.i,I=N.tagContent}let O=new Cp(c);c!==f&&h&&(O[":@"]=this.buildAttributesMap(f,i,c)),I&&(I=this.parseTextData(I,c,i,!0,h,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),O.add(this.options.textNodeName,I),this.addChild(n,O,i)}else{if(f.length>0&&f.lastIndexOf("/")===f.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),f=c):f=f.substr(0,f.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let I=new Cp(c);c!==f&&h&&(I[":@"]=this.buildAttributesMap(f,i,c)),this.addChild(n,I,i),i=i.substr(0,i.lastIndexOf("."))}else{let I=new Cp(c);this.tagsNodeStack.push(n),c!==f&&h&&(I[":@"]=this.buildAttributesMap(f,i,c)),this.addChild(n,I,i),n=I}r="",o=g}}else r+=t[o];return e.child};function qee(t,e,n){let r=this.options.updateTag(e.tagname,n,e[":@"]);r===!1||(typeof r=="string"&&(e.tagname=r),t.addChild(e))}var zee=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){let n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function Gee(t,e,n,r){return t&&(r===void 0&&(r=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,n,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,r),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function Wee(t,e,n){let r="*."+n;for(let i in t){let o=t[i];if(r===o||e===o)return!0}return!1}function Kee(t,e,n=">"){let r,i="";for(let o=e;o<t.length;o++){let s=t[o];if(r)s===r&&(r="");else if(s==='"'||s==="'")r=s;else if(s===n[0])if(n[1]){if(t[o+1]===n[1])return{data:i,index:o}}else return{data:i,index:o};else s==="	"&&(s=" ");i+=s}}function bl(t,e,n,r){let i=t.indexOf(e,n);if(i===-1)throw new Error(r);return i+e.length-1}function IA(t,e,n,r=">"){let i=Kee(t,e+1,r);if(!i)return;let o=i.data,s=i.index,a=o.search(/\s/),c=o,l=!0;a!==-1&&(c=o.substring(0,a),o=o.substring(a+1).trimStart());let f=c;if(n){let h=c.indexOf(":");h!==-1&&(c=c.substr(h+1),l=c!==i.data.substr(h+1))}return{tagName:c,tagExp:o,closeIndex:s,attrExpPresent:l,rawTagName:f}}function Qee(t,e,n){let r=n,i=1;for(;n<t.length;n++)if(t[n]==="<")if(t[n+1]==="/"){let o=bl(t,">",n,`${e} is not closed`);if(t.substring(n+2,o).trim()===e&&(i--,i===0))return{tagContent:t.substring(r,n),i:o};n=o}else if(t[n+1]==="?")n=bl(t,"?>",n+1,"StopNode is not closed.");else if(t.substr(n+1,3)==="!--")n=bl(t,"-->",n+3,"StopNode is not closed.");else if(t.substr(n+1,2)==="![")n=bl(t,"]]>",n,"StopNode is not closed.")-2;else{let o=IA(t,n,">");o&&((o&&o.tagName)===e&&o.tagExp[o.tagExp.length-1]!=="/"&&i++,n=o.closeIndex)}}function xA(t,e,n){if(e&&typeof t=="string"){let r=t.trim();return r==="true"?!0:r==="false"?!1:Lee(t,n)}else return oB.isExist(t)?t:""}sB.exports=SA});var uB=br(lB=>{"use strict";function Yee(t,e){return cB(t,e)}function cB(t,e,n){let r,i={};for(let o=0;o<t.length;o++){let s=t[o],a=Zee(s),c="";if(n===void 0?c=a:c=n+"."+a,a===e.textNodeName)r===void 0?r=s[a]:r+=""+s[a];else{if(a===void 0)continue;if(s[a]){let l=cB(s[a],e,c),f=Xee(l,e);s[":@"]?Jee(l,s[":@"],c,e):Object.keys(l).length===1&&l[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?l=l[e.textNodeName]:Object.keys(l).length===0&&(e.alwaysCreateTextNode?l[e.textNodeName]="":l=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(l)):e.isArray(a,c,f)?i[a]=[l]:i[a]=l}}}return typeof r=="string"?r.length>0&&(i[e.textNodeName]=r):r!==void 0&&(i[e.textNodeName]=r),i}function Zee(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];if(r!==":@")return r}}function Jee(t,e,n,r){if(e){let i=Object.keys(e),o=i.length;for(let s=0;s<o;s++){let a=i[s];r.isArray(a,n+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function Xee(t,e){let{textNodeName:n}=e,r=Object.keys(t).length;return!!(r===0||r===1&&(t[n]||typeof t[n]=="boolean"||t[n]===0))}lB.prettify=Yee});var fB=br((hxe,dB)=>{"use strict";var{buildOptions:ete}=JV(),tte=aB(),{prettify:nte}=uB(),rte=bA(),TA=class{constructor(e){this.externalEntities={},this.options=ete(e)}parse(e,n){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});let o=rte.validate(e,n);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}let r=new tte(this.options);r.addExternalEntities(this.externalEntities);let i=r.parseXml(e);return this.options.preserveOrder||i===void 0?i:nte(i,this.options)}addEntity(e,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=n}};dB.exports=TA});var yB=br((pxe,gB)=>{"use strict";var ite=`
`;function ote(t,e){let n="";return e.format&&e.indentBy.length>0&&(n=ite),pB(t,e,"",n)}function pB(t,e,n,r){let i="",o=!1;for(let s=0;s<t.length;s++){let a=t[s],c=ste(a);if(c===void 0)continue;let l="";if(n.length===0?l=c:l=`${n}.${c}`,c===e.textNodeName){let I=a[c];ate(l,e)||(I=e.tagValueProcessor(c,I),I=mB(I,e)),o&&(i+=r),i+=I,o=!1;continue}else if(c===e.cdataPropName){o&&(i+=r),i+=`<![CDATA[${a[c][0][e.textNodeName]}]]>`,o=!1;continue}else if(c===e.commentPropName){i+=r+`<!--${a[c][0][e.textNodeName]}-->`,o=!0;continue}else if(c[0]==="?"){let I=hB(a[":@"],e),O=c==="?xml"?"":r,N=a[c][0][e.textNodeName];N=N.length!==0?" "+N:"",i+=O+`<${c}${N}${I}?>`,o=!0;continue}let f=r;f!==""&&(f+=e.indentBy);let h=hB(a[":@"],e),g=r+`<${c}${h}`,b=pB(a[c],e,l,f);e.unpairedTags.indexOf(c)!==-1?e.suppressUnpairedNode?i+=g+">":i+=g+"/>":(!b||b.length===0)&&e.suppressEmptyNode?i+=g+"/>":b&&b.endsWith(">")?i+=g+`>${b}${r}</${c}>`:(i+=g+">",b&&r!==""&&(b.includes("/>")||b.includes("</"))?i+=r+e.indentBy+b+r:i+=b,i+=`</${c}>`),o=!0}return i}function ste(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];if(t.hasOwnProperty(r)&&r!==":@")return r}}function hB(t,e){let n="";if(t&&!e.ignoreAttributes)for(let r in t){if(!t.hasOwnProperty(r))continue;let i=e.attributeValueProcessor(r,t[r]);i=mB(i,e),i===!0&&e.suppressBooleanAttributes?n+=` ${r.substr(e.attributeNamePrefix.length)}`:n+=` ${r.substr(e.attributeNamePrefix.length)}="${i}"`}return n}function ate(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let n=t.substr(t.lastIndexOf(".")+1);for(let r in e.stopNodes)if(e.stopNodes[r]===t||e.stopNodes[r]==="*."+n)return!0;return!1}function mB(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){let r=e.entities[n];t=t.replace(r.regex,r.val)}return t}gB.exports=ote});var _B=br((mxe,vB)=>{"use strict";var cte=yB(),lte={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function $a(t){this.options=Object.assign({},lte,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=fte),this.processTextOrObjNode=ute,this.options.format?(this.indentate=dte,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}$a.prototype.build=function(t){return this.options.preserveOrder?cte(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};$a.prototype.j2x=function(t,e){let n="",r="";for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i))if(typeof t[i]>"u")this.isAttribute(i)&&(r+="");else if(t[i]===null)this.isAttribute(i)?r+="":i[0]==="?"?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)r+=this.buildTextValNode(t[i],i,"",e);else if(typeof t[i]!="object"){let o=this.isAttribute(i);if(o)n+=this.buildAttrPairStr(o,""+t[i]);else if(i===this.options.textNodeName){let s=this.options.tagValueProcessor(i,""+t[i]);r+=this.replaceEntitiesValue(s)}else r+=this.buildTextValNode(t[i],i,"",e)}else if(Array.isArray(t[i])){let o=t[i].length,s="",a="";for(let c=0;c<o;c++){let l=t[i][c];if(!(typeof l>"u"))if(l===null)i[0]==="?"?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(typeof l=="object")if(this.options.oneListGroup){let f=this.j2x(l,e+1);s+=f.val,this.options.attributesGroupName&&l.hasOwnProperty(this.options.attributesGroupName)&&(a+=f.attrStr)}else s+=this.processTextOrObjNode(l,i,e);else if(this.options.oneListGroup){let f=this.options.tagValueProcessor(i,l);f=this.replaceEntitiesValue(f),s+=f}else s+=this.buildTextValNode(l,i,"",e)}this.options.oneListGroup&&(s=this.buildObjectNode(s,i,a,e)),r+=s}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){let o=Object.keys(t[i]),s=o.length;for(let a=0;a<s;a++)n+=this.buildAttrPairStr(o[a],""+t[i][o[a]])}else r+=this.processTextOrObjNode(t[i],i,e);return{attrStr:n,val:r}};$a.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function ute(t,e,n){let r=this.j2x(t,n+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,r.attrStr,n):this.buildObjectNode(r.val,e,r.attrStr,n)}$a.prototype.buildObjectNode=function(t,e,n,r){if(t==="")return e[0]==="?"?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar;{let i="</"+e+this.tagEndChar,o="";return e[0]==="?"&&(o="?",i=""),(n||n==="")&&t.indexOf("<")===-1?this.indentate(r)+"<"+e+n+o+">"+t+i:this.options.commentPropName!==!1&&e===this.options.commentPropName&&o.length===0?this.indentate(r)+`<!--${t}-->`+this.newLine:this.indentate(r)+"<"+e+n+o+this.tagEndChar+t+this.indentate(r)+i}};$a.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};$a.prototype.buildTextValNode=function(t,e,n,r){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(r)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(r)+"<"+e+n+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),i===""?this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(r)+"<"+e+n+">"+i+"</"+e+this.tagEndChar}};$a.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t};function dte(t){return this.options.indentBy.repeat(t)}function fte(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}vB.exports=$a});var bB=br((gxe,wB)=>{"use strict";var hte=bA(),pte=fB(),mte=_B();wB.exports={XMLParser:pte,XMLValidator:hte,XMLBuilder:mte}});var GD=br((Fp,zD)=>{"use strict";(function(t,e){typeof Fp=="object"&&typeof zD=="object"?zD.exports=e():typeof define=="function"&&define.amd?define([],e):typeof Fp=="object"?Fp.bowser=e():t.bowser=e()})(Fp,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(r,i,o){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var s in r)n.d(o,s,function(a){return r[a]}.bind(null,s));return o},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=90)}({17:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(18),i=function(){function o(){}return o.getFirstMatch=function(s,a){var c=a.match(s);return c&&c.length>0&&c[1]||""},o.getSecondMatch=function(s,a){var c=a.match(s);return c&&c.length>1&&c[2]||""},o.matchAndReturnConst=function(s,a,c){if(s.test(a))return c},o.getWindowsVersionName=function(s){switch(s){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},o.getMacOSVersionName=function(s){var a=s.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(a.push(0),a[0]===10)switch(a[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},o.getAndroidVersionName=function(s){var a=s.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(a.push(0),!(a[0]===1&&a[1]<5))return a[0]===1&&a[1]<6?"Cupcake":a[0]===1&&a[1]>=6?"Donut":a[0]===2&&a[1]<2?"Eclair":a[0]===2&&a[1]===2?"Froyo":a[0]===2&&a[1]>2?"Gingerbread":a[0]===3?"Honeycomb":a[0]===4&&a[1]<1?"Ice Cream Sandwich":a[0]===4&&a[1]<4?"Jelly Bean":a[0]===4&&a[1]>=4?"KitKat":a[0]===5?"Lollipop":a[0]===6?"Marshmallow":a[0]===7?"Nougat":a[0]===8?"Oreo":a[0]===9?"Pie":void 0},o.getVersionPrecision=function(s){return s.split(".").length},o.compareVersions=function(s,a,c){c===void 0&&(c=!1);var l=o.getVersionPrecision(s),f=o.getVersionPrecision(a),h=Math.max(l,f),g=0,b=o.map([s,a],function(I){var O=h-o.getVersionPrecision(I),N=I+new Array(O+1).join(".0");return o.map(N.split("."),function($){return new Array(20-$.length).join("0")+$}).reverse()});for(c&&(g=h-Math.min(l,f)),h-=1;h>=g;){if(b[0][h]>b[1][h])return 1;if(b[0][h]===b[1][h]){if(h===g)return 0;h-=1}else if(b[0][h]<b[1][h])return-1}},o.map=function(s,a){var c,l=[];if(Array.prototype.map)return Array.prototype.map.call(s,a);for(c=0;c<s.length;c+=1)l.push(a(s[c]));return l},o.find=function(s,a){var c,l;if(Array.prototype.find)return Array.prototype.find.call(s,a);for(c=0,l=s.length;c<l;c+=1){var f=s[c];if(a(f,c))return f}},o.assign=function(s){for(var a,c,l=s,f=arguments.length,h=new Array(f>1?f-1:0),g=1;g<f;g++)h[g-1]=arguments[g];if(Object.assign)return Object.assign.apply(Object,[s].concat(h));var b=function(){var I=h[a];typeof I=="object"&&I!==null&&Object.keys(I).forEach(function(O){l[O]=I[O]})};for(a=0,c=h.length;a<c;a+=1)b();return s},o.getBrowserAlias=function(s){return r.BROWSER_ALIASES_MAP[s]},o.getBrowserTypeByAlias=function(s){return r.BROWSER_MAP[s]||""},o}();e.default=i,t.exports=e.default},18:function(t,e,n){"use strict";e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function s(c,l){for(var f=0;f<l.length;f++){var h=l[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}var a=function(){function c(){}var l,f,h;return c.getParser=function(g,b){if(b===void 0&&(b=!1),typeof g!="string")throw new Error("UserAgent should be a string");return new i.default(g,b)},c.parse=function(g){return new i.default(g).getResult()},l=c,h=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(f=null)&&s(l.prototype,f),h&&s(l,h),c}();e.default=a,t.exports=e.default},91:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=c(n(92)),i=c(n(93)),o=c(n(94)),s=c(n(95)),a=c(n(17));function c(f){return f&&f.__esModule?f:{default:f}}var l=function(){function f(g,b){if(b===void 0&&(b=!1),g==null||g==="")throw new Error("UserAgent parameter can't be empty");this._ua=g,this.parsedResult={},b!==!0&&this.parse()}var h=f.prototype;return h.getUA=function(){return this._ua},h.test=function(g){return g.test(this._ua)},h.parseBrowser=function(){var g=this;this.parsedResult.browser={};var b=a.default.find(r.default,function(I){if(typeof I.test=="function")return I.test(g);if(I.test instanceof Array)return I.test.some(function(O){return g.test(O)});throw new Error("Browser's test function is not valid")});return b&&(this.parsedResult.browser=b.describe(this.getUA())),this.parsedResult.browser},h.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},h.getBrowserName=function(g){return g?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},h.getBrowserVersion=function(){return this.getBrowser().version},h.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},h.parseOS=function(){var g=this;this.parsedResult.os={};var b=a.default.find(i.default,function(I){if(typeof I.test=="function")return I.test(g);if(I.test instanceof Array)return I.test.some(function(O){return g.test(O)});throw new Error("Browser's test function is not valid")});return b&&(this.parsedResult.os=b.describe(this.getUA())),this.parsedResult.os},h.getOSName=function(g){var b=this.getOS().name;return g?String(b).toLowerCase()||"":b||""},h.getOSVersion=function(){return this.getOS().version},h.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},h.getPlatformType=function(g){g===void 0&&(g=!1);var b=this.getPlatform().type;return g?String(b).toLowerCase()||"":b||""},h.parsePlatform=function(){var g=this;this.parsedResult.platform={};var b=a.default.find(o.default,function(I){if(typeof I.test=="function")return I.test(g);if(I.test instanceof Array)return I.test.some(function(O){return g.test(O)});throw new Error("Browser's test function is not valid")});return b&&(this.parsedResult.platform=b.describe(this.getUA())),this.parsedResult.platform},h.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},h.getEngineName=function(g){return g?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},h.parseEngine=function(){var g=this;this.parsedResult.engine={};var b=a.default.find(s.default,function(I){if(typeof I.test=="function")return I.test(g);if(I.test instanceof Array)return I.test.some(function(O){return g.test(O)});throw new Error("Browser's test function is not valid")});return b&&(this.parsedResult.engine=b.describe(this.getUA())),this.parsedResult.engine},h.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},h.getResult=function(){return a.default.assign({},this.parsedResult)},h.satisfies=function(g){var b=this,I={},O=0,N={},$=0;if(Object.keys(g).forEach(function(M){var k=g[M];typeof k=="string"?(N[M]=k,$+=1):typeof k=="object"&&(I[M]=k,O+=1)}),O>0){var Y=Object.keys(I),oe=a.default.find(Y,function(M){return b.isOS(M)});if(oe){var se=this.satisfies(I[oe]);if(se!==void 0)return se}var Te=a.default.find(Y,function(M){return b.isPlatform(M)});if(Te){var ge=this.satisfies(I[Te]);if(ge!==void 0)return ge}}if($>0){var F=Object.keys(N),R=a.default.find(F,function(M){return b.isBrowser(M,!0)});if(R!==void 0)return this.compareVersion(N[R])}},h.isBrowser=function(g,b){b===void 0&&(b=!1);var I=this.getBrowserName().toLowerCase(),O=g.toLowerCase(),N=a.default.getBrowserTypeByAlias(O);return b&&N&&(O=N.toLowerCase()),O===I},h.compareVersion=function(g){var b=[0],I=g,O=!1,N=this.getBrowserVersion();if(typeof N=="string")return g[0]===">"||g[0]==="<"?(I=g.substr(1),g[1]==="="?(O=!0,I=g.substr(2)):b=[],g[0]===">"?b.push(1):b.push(-1)):g[0]==="="?I=g.substr(1):g[0]==="~"&&(O=!0,I=g.substr(1)),b.indexOf(a.default.compareVersions(N,I,O))>-1},h.isOS=function(g){return this.getOSName(!0)===String(g).toLowerCase()},h.isPlatform=function(g){return this.getPlatformType(!0)===String(g).toLowerCase()},h.isEngine=function(g){return this.getEngineName(!0)===String(g).toLowerCase()},h.is=function(g,b){return b===void 0&&(b=!1),this.isBrowser(g,b)||this.isOS(g)||this.isPlatform(g)},h.some=function(g){var b=this;return g===void 0&&(g=[]),g.some(function(I){return b.is(I)})},f}();e.default=l,t.exports=e.default},92:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(a){var c={name:"Googlebot"},l=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/opera/i],describe:function(a){var c={name:"Opera"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/opr\/|opios/i],describe:function(a){var c={name:"Opera"},l=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/SamsungBrowser/i],describe:function(a){var c={name:"Samsung Internet for Android"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/Whale/i],describe:function(a){var c={name:"NAVER Whale Browser"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/MZBrowser/i],describe:function(a){var c={name:"MZ Browser"},l=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/focus/i],describe:function(a){var c={name:"Focus"},l=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/swing/i],describe:function(a){var c={name:"Swing"},l=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/coast/i],describe:function(a){var c={name:"Opera Coast"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(a){var c={name:"Opera Touch"},l=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/yabrowser/i],describe:function(a){var c={name:"Yandex Browser"},l=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/ucbrowser/i],describe:function(a){var c={name:"UC Browser"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/Maxthon|mxios/i],describe:function(a){var c={name:"Maxthon"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/epiphany/i],describe:function(a){var c={name:"Epiphany"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/puffin/i],describe:function(a){var c={name:"Puffin"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/sleipnir/i],describe:function(a){var c={name:"Sleipnir"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/k-meleon/i],describe:function(a){var c={name:"K-Meleon"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/micromessenger/i],describe:function(a){var c={name:"WeChat"},l=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/qqbrowser/i],describe:function(a){var c={name:/qqbrowserlite/i.test(a)?"QQ Browser Lite":"QQ Browser"},l=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/msie|trident/i],describe:function(a){var c={name:"Internet Explorer"},l=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/\sedg\//i],describe:function(a){var c={name:"Microsoft Edge"},l=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/edg([ea]|ios)/i],describe:function(a){var c={name:"Microsoft Edge"},l=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/vivaldi/i],describe:function(a){var c={name:"Vivaldi"},l=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/seamonkey/i],describe:function(a){var c={name:"SeaMonkey"},l=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/sailfish/i],describe:function(a){var c={name:"Sailfish"},l=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,a);return l&&(c.version=l),c}},{test:[/silk/i],describe:function(a){var c={name:"Amazon Silk"},l=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/phantom/i],describe:function(a){var c={name:"PhantomJS"},l=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/slimerjs/i],describe:function(a){var c={name:"SlimerJS"},l=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var c={name:"BlackBerry"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var c={name:"WebOS Browser"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/bada/i],describe:function(a){var c={name:"Bada"},l=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/tizen/i],describe:function(a){var c={name:"Tizen"},l=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/qupzilla/i],describe:function(a){var c={name:"QupZilla"},l=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/firefox|iceweasel|fxios/i],describe:function(a){var c={name:"Firefox"},l=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/electron/i],describe:function(a){var c={name:"Electron"},l=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/MiuiBrowser/i],describe:function(a){var c={name:"Miui"},l=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/chromium/i],describe:function(a){var c={name:"Chromium"},l=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/chrome|crios|crmo/i],describe:function(a){var c={name:"Chrome"},l=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/GSA/i],describe:function(a){var c={name:"Google Search"},l=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){var c=!a.test(/like android/i),l=a.test(/android/i);return c&&l},describe:function(a){var c={name:"Android Browser"},l=i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/playstation 4/i],describe:function(a){var c={name:"PlayStation 4"},l=i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/safari|applewebkit/i],describe:function(a){var c={name:"Safari"},l=i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/.*/i],describe:function(a){var c=a.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(c,a),version:i.default.getSecondMatch(c,a)}}}];e.default=s,t.exports=e.default},93:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(a){var c=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,a);return{name:o.OS_MAP.Roku,version:c}}},{test:[/windows phone/i],describe:function(a){var c=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.WindowsPhone,version:c}}},{test:[/windows /i],describe:function(a){var c=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,a),l=i.default.getWindowsVersionName(c);return{name:o.OS_MAP.Windows,version:c,versionName:l}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(a){var c={name:o.OS_MAP.iOS},l=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,a);return l&&(c.version=l),c}},{test:[/macintosh/i],describe:function(a){var c=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,a).replace(/[_\s]/g,"."),l=i.default.getMacOSVersionName(c),f={name:o.OS_MAP.MacOS,version:c};return l&&(f.versionName=l),f}},{test:[/(ipod|iphone|ipad)/i],describe:function(a){var c=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,a).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:c}}},{test:function(a){var c=!a.test(/like android/i),l=a.test(/android/i);return c&&l},describe:function(a){var c=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,a),l=i.default.getAndroidVersionName(c),f={name:o.OS_MAP.Android,version:c};return l&&(f.versionName=l),f}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var c=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,a),l={name:o.OS_MAP.WebOS};return c&&c.length&&(l.version=c),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var c=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,a)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,a)||i.default.getFirstMatch(/\bbb(\d+)/i,a);return{name:o.OS_MAP.BlackBerry,version:c}}},{test:[/bada/i],describe:function(a){var c=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.Bada,version:c}}},{test:[/tizen/i],describe:function(a){var c=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.Tizen,version:c}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(a){var c=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.PlayStation4,version:c}}}];e.default=s,t.exports=e.default},94:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(a){var c=i.default.getFirstMatch(/(can-l01)/i,a)&&"Nova",l={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return c&&(l.model=c),l}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(a){var c=a.test(/ipod|iphone/i),l=a.test(/like (ipod|iphone)/i);return c&&!l},describe:function(a){var c=i.default.getFirstMatch(/(ipod|iphone)/i,a);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:c}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName(!0)==="blackberry"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(a){return a.getBrowserName(!0)==="bada"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName()==="windows phone"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(a){var c=Number(String(a.getOSVersion()).split(".")[0]);return a.getOSName(!0)==="android"&&c>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(a){return a.getOSName(!0)==="android"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getOSName(!0)==="macos"},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(a){return a.getOSName(!0)==="windows"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="linux"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="playstation 4"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(a){return a.getOSName(!0)==="roku"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];e.default=s,t.exports=e.default},95:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:function(a){return a.getBrowserName(!0)==="microsoft edge"},describe:function(a){if(/\sedg\//i.test(a))return{name:o.ENGINE_MAP.Blink};var c=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,a);return{name:o.ENGINE_MAP.EdgeHTML,version:c}}},{test:[/trident/i],describe:function(a){var c={name:o.ENGINE_MAP.Trident},l=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){return a.test(/presto/i)},describe:function(a){var c={name:o.ENGINE_MAP.Presto},l=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){var c=a.test(/gecko/i),l=a.test(/like gecko/i);return c&&!l},describe:function(a){var c={name:o.ENGINE_MAP.Gecko},l=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(a){var c={name:o.ENGINE_MAP.WebKit},l=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}}];e.default=s,t.exports=e.default}})})});function pR(t,e){return Object.is(t,e)}var pn=null,km=!1,Om=1,qo=Symbol("SIGNAL");function at(t){let e=pn;return pn=t,e}function mR(){return pn}var xf={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function tb(t){if(km)throw new Error("");if(pn===null)return;pn.consumerOnSignalRead(t);let e=pn.nextProducerIndex++;if(Bm(pn),e<pn.producerNode.length&&pn.producerNode[e]!==t&&If(pn)){let n=pn.producerNode[e];Vm(n,pn.producerIndexOfThis[e])}pn.producerNode[e]!==t&&(pn.producerNode[e]=t,pn.producerIndexOfThis[e]=If(pn)?_R(t,pn,e):0),pn.producerLastReadVersion[e]=t.version}function q$(){Om++}function gR(t){if(!(If(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Om)){if(!t.producerMustRecompute(t)&&!rb(t)){t.dirty=!1,t.lastCleanEpoch=Om;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Om}}function yR(t){if(t.liveConsumerNode===void 0)return;let e=km;km=!0;try{for(let n of t.liveConsumerNode)n.dirty||z$(n)}finally{km=e}}function vR(){return pn?.consumerAllowSignalWrites!==!1}function z$(t){t.dirty=!0,yR(t),t.consumerMarkedDirty?.(t)}function Lm(t){return t&&(t.nextProducerIndex=0),at(t)}function nb(t,e){if(at(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(If(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Vm(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function rb(t){Bm(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(gR(n),r!==n.version))return!0}return!1}function ib(t){if(Bm(t),If(t))for(let e=0;e<t.producerNode.length;e++)Vm(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function _R(t,e,n){if(wR(t),t.liveConsumerNode.length===0&&bR(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=_R(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Vm(t,e){if(wR(t),t.liveConsumerNode.length===1&&bR(t))for(let r=0;r<t.producerNode.length;r++)Vm(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Bm(i),i.producerIndexOfThis[r]=e}}function If(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Bm(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function wR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function bR(t){return t.producerNode!==void 0}function ER(t){let e=Object.create(G$);e.computation=t;let n=()=>{if(gR(e),tb(e),e.value===Fm)throw e.error;return e.value};return n[qo]=e,n}var Xw=Symbol("UNSET"),eb=Symbol("COMPUTING"),Fm=Symbol("ERRORED"),G$=z(A({},xf),{value:Xw,dirty:!0,error:null,equal:pR,producerMustRecompute(t){return t.value===Xw||t.value===eb},producerRecomputeValue(t){if(t.value===eb)throw new Error("Detected cycle in computations.");let e=t.value;t.value=eb;let n=Lm(t),r;try{r=t.computation()}catch(i){r=Fm,t.error=i}finally{nb(t,n)}if(e!==Xw&&e!==Fm&&r!==Fm&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function W$(){throw new Error}var CR=W$;function SR(){CR()}function IR(t){CR=t}var K$=null;function xR(t){let e=Object.create(AR);e.value=t;let n=()=>(tb(e),e.value);return n[qo]=e,n}function ob(t,e){vR()||SR(),t.equal(t.value,e)||(t.value=e,Q$(t))}function TR(t,e){vR()||SR(),ob(t,e(t.value))}var AR=z(A({},xf),{equal:pR,value:void 0});function Q$(t){t.version++,q$(),yR(t),K$?.()}function ke(t){return typeof t=="function"}function Hl(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Um=Hl(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function pc(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ft=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ke(r))try{r()}catch(o){e=o instanceof Um?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{DR(o)}catch(s){e=e??[],s instanceof Um?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Um(e)}}add(e){var n;if(e&&e!==this)if(this.closed)DR(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&pc(n,e)}remove(e){let{_finalizers:n}=this;n&&pc(n,e),e instanceof t&&e._removeParent(this)}};Ft.EMPTY=(()=>{let t=new Ft;return t.closed=!0,t})();var sb=Ft.EMPTY;function jm(t){return t instanceof Ft||t&&"closed"in t&&ke(t.remove)&&ke(t.add)&&ke(t.unsubscribe)}function DR(t){ke(t)?t():t.unsubscribe()}var Mi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ql={setTimeout(t,e,...n){let{delegate:r}=ql;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ql;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function $m(t){ql.setTimeout(()=>{let{onUnhandledError:e}=Mi;if(e)e(t);else throw t})}function Tf(){}var RR=ab("C",void 0,void 0);function MR(t){return ab("E",void 0,t)}function PR(t){return ab("N",t,void 0)}function ab(t,e,n){return{kind:t,value:e,error:n}}var mc=null;function zl(t){if(Mi.useDeprecatedSynchronousErrorHandling){let e=!mc;if(e&&(mc={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=mc;if(mc=null,n)throw r}}else t()}function NR(t){Mi.useDeprecatedSynchronousErrorHandling&&mc&&(mc.errorThrown=!0,mc.error=t)}var gc=class extends Ft{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,jm(e)&&e.add(this)):this.destination=J$}static create(e,n,r){return new Gl(e,n,r)}next(e){this.isStopped?lb(PR(e),this):this._next(e)}error(e){this.isStopped?lb(MR(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?lb(RR,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Y$=Function.prototype.bind;function cb(t,e){return Y$.call(t,e)}var ub=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Hm(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Hm(r)}else Hm(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Hm(n)}}},Gl=class extends gc{constructor(e,n,r){super();let i;if(ke(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Mi.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&cb(e.next,o),error:e.error&&cb(e.error,o),complete:e.complete&&cb(e.complete,o)}):i=e}this.destination=new ub(i)}};function Hm(t){Mi.useDeprecatedSynchronousErrorHandling?NR(t):$m(t)}function Z$(t){throw t}function lb(t,e){let{onStoppedNotification:n}=Mi;n&&ql.setTimeout(()=>n(t,e))}var J$={closed:!0,next:Tf,error:Z$,complete:Tf};var Wl=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Or(t){return t}function qm(...t){return db(t)}function db(t){return t.length===0?Or:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Qe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=e5(n)?n:new Gl(n,r,i);return zl(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=kR(r),new r((i,o)=>{let s=new Gl({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Wl](){return this}pipe(...n){return db(n)(this)}toPromise(n){return n=kR(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function kR(t){var e;return(e=t??Mi.Promise)!==null&&e!==void 0?e:Promise}function X$(t){return t&&ke(t.next)&&ke(t.error)&&ke(t.complete)}function e5(t){return t&&t instanceof gc||X$(t)&&jm(t)}function fb(t){return ke(t?.lift)}function rt(t){return e=>{if(fb(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ye(t,e,n,r,i){return new hb(t,e,n,r,i)}var hb=class extends gc{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Kl(){return rt((t,e)=>{let n=null;t._refCount++;let r=Ye(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ql=class extends Qe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,fb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ft;let n=this.getSubject();e.add(this.source.subscribe(Ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ft.EMPTY)}return e}refCount(){return Kl()(this)}};var OR=Hl(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var mn=(()=>{class t extends Qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new zm(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new OR}next(n){zl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){zl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){zl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?sb:(this.currentObservers=null,o.push(n),new Ft(()=>{this.currentObservers=null,pc(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Qe;return n.source=this,n}}return t.create=(e,n)=>new zm(e,n),t})(),zm=class extends mn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:sb}};var Ht=class extends mn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var pb={now(){return(pb.delegate||Date).now()},delegate:void 0};var Gm=class extends Ft{constructor(e,n){super()}schedule(e,n=0){return this}};var Af={setInterval(t,e,...n){let{delegate:r}=Af;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Af;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Yl=class extends Gm{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Af.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Af.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,pc(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Zl=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Zl.now=pb.now;var Jl=class extends Zl{constructor(e,n=Zl.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var mb=new Jl(Yl);var Wm=class extends Yl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Km=class extends Jl{};var gb=new Km(Wm);var Fr=new Qe(t=>t.complete());function FR(t){return t&&ke(t.schedule)}function LR(t){return t[t.length-1]}function Qm(t){return ke(LR(t))?t.pop():void 0}function Zs(t){return FR(LR(t))?t.pop():void 0}function yb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Js(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{l(r.next(f))}catch(h){s(h)}}function c(f){try{l(r.throw(f))}catch(h){s(h)}}function l(f){f.done?o(f.value):i(f.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function eu(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(f){return c([l,f])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(f){l=[6,f],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Xl(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yc(t){return this instanceof yc?(this.v=t,this):new yc(t)}function VR(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(b){return function(I){return Promise.resolve(I).then(b,h)}}function a(b,I){r[b]&&(i[b]=function(O){return new Promise(function(N,$){o.push([b,O,N,$])>1||c(b,O)})},I&&(i[b]=I(i[b])))}function c(b,I){try{l(r[b](I))}catch(O){g(o[0][3],O)}}function l(b){b.value instanceof yc?Promise.resolve(b.value.v).then(f,h):g(o[0][2],b)}function f(b){c("next",b)}function h(b){c("throw",b)}function g(b,I){b(I),o.shift(),o.length&&c(o[0][0],o[0][1])}}function BR(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Xl=="function"?Xl(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Ym=t=>t&&typeof t.length=="number"&&typeof t!="function";function Zm(t){return ke(t?.then)}function Jm(t){return ke(t[Wl])}function Xm(t){return Symbol.asyncIterator&&ke(t?.[Symbol.asyncIterator])}function eg(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function t5(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var tg=t5();function ng(t){return ke(t?.[tg])}function rg(t){return VR(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield yc(n.read());if(i)return yield yc(void 0);yield yield yc(r)}}finally{n.releaseLock()}})}function ig(t){return ke(t?.getReader)}function Xt(t){if(t instanceof Qe)return t;if(t!=null){if(Jm(t))return n5(t);if(Ym(t))return r5(t);if(Zm(t))return i5(t);if(Xm(t))return UR(t);if(ng(t))return o5(t);if(ig(t))return s5(t)}throw eg(t)}function n5(t){return new Qe(e=>{let n=t[Wl]();if(ke(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function r5(t){return new Qe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function i5(t){return new Qe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,$m)})}function o5(t){return new Qe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function UR(t){return new Qe(e=>{a5(t,e).catch(n=>e.error(n))})}function s5(t){return UR(rg(t))}function a5(t,e){var n,r,i,o;return Js(this,void 0,void 0,function*(){try{for(n=BR(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Cr(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Xs(t,e=0){return rt((n,r)=>{n.subscribe(Ye(r,i=>Cr(r,t,()=>r.next(i),e),()=>Cr(r,t,()=>r.complete(),e),i=>Cr(r,t,()=>r.error(i),e)))})}function ea(t,e=0){return rt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function jR(t,e){return Xt(t).pipe(ea(e),Xs(e))}function $R(t,e){return Xt(t).pipe(ea(e),Xs(e))}function HR(t,e){return new Qe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function qR(t,e){return new Qe(n=>{let r;return Cr(n,e,()=>{r=t[tg](),Cr(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ke(r?.return)&&r.return()})}function og(t,e){if(!t)throw new Error("Iterable cannot be null");return new Qe(n=>{Cr(n,e,()=>{let r=t[Symbol.asyncIterator]();Cr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function zR(t,e){return og(rg(t),e)}function GR(t,e){if(t!=null){if(Jm(t))return jR(t,e);if(Ym(t))return HR(t,e);if(Zm(t))return $R(t,e);if(Xm(t))return og(t,e);if(ng(t))return qR(t,e);if(ig(t))return zR(t,e)}throw eg(t)}function Lt(t,e){return e?GR(t,e):Xt(t)}function De(...t){let e=Zs(t);return Lt(t,e)}function tu(t,e){let n=ke(t)?t:()=>t,r=i=>i.error(n());return new Qe(e?i=>e.schedule(r,0,i):r)}function vb(t){return!!t&&(t instanceof Qe||ke(t.lift)&&ke(t.subscribe))}var zo=Hl(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ve(t,e){return rt((n,r)=>{let i=0;n.subscribe(Ye(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:c5}=Array;function l5(t,e){return c5(e)?t(...e):t(e)}function sg(t){return Ve(e=>l5(t,e))}var{isArray:u5}=Array,{getPrototypeOf:d5,prototype:f5,keys:h5}=Object;function ag(t){if(t.length===1){let e=t[0];if(u5(e))return{args:e,keys:null};if(p5(e)){let n=h5(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function p5(t){return t&&typeof t=="object"&&d5(t)===f5}function cg(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function lg(...t){let e=Zs(t),n=Qm(t),{args:r,keys:i}=ag(t);if(r.length===0)return Lt([],e);let o=new Qe(m5(r,e,i?s=>cg(i,s):Or));return n?o.pipe(sg(n)):o}function m5(t,e,n=Or){return r=>{WR(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)WR(e,()=>{let l=Lt(t[c],e),f=!1;l.subscribe(Ye(r,h=>{o[c]=h,f||(f=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function WR(t,e,n){t?Cr(n,t,e):e()}function KR(t,e,n,r,i,o,s,a){let c=[],l=0,f=0,h=!1,g=()=>{h&&!c.length&&!l&&e.complete()},b=O=>l<r?I(O):c.push(O),I=O=>{o&&e.next(O),l++;let N=!1;Xt(n(O,f++)).subscribe(Ye(e,$=>{i?.($),o?b($):e.next($)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;c.length&&l<r;){let $=c.shift();s?Cr(e,s,()=>I($)):I($)}g()}catch($){e.error($)}}))};return t.subscribe(Ye(e,b,()=>{h=!0,g()})),()=>{a?.()}}function gn(t,e,n=1/0){return ke(e)?gn((r,i)=>Ve((o,s)=>e(r,o,i,s))(Xt(t(r,i))),n):(typeof e=="number"&&(n=e),rt((r,i)=>KR(r,i,t,n)))}function _b(t=1/0){return gn(Or,t)}function QR(){return _b(1)}function nu(...t){return QR()(Lt(t,Zs(t)))}function ug(t){return new Qe(e=>{Xt(t()).subscribe(e)})}function wb(...t){let e=Qm(t),{args:n,keys:r}=ag(t),i=new Qe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let f=0;f<s;f++){let h=!1;Xt(n[f]).subscribe(Ye(o,g=>{h||(h=!0,l--),a[f]=g},()=>c--,void 0,()=>{(!c||!h)&&(l||o.next(r?cg(r,a):a),o.complete())}))}});return e?i.pipe(sg(e)):i}function Sr(t,e){return rt((n,r)=>{let i=0;n.subscribe(Ye(r,o=>t.call(e,o,i++)&&r.next(o)))})}function ta(t){return rt((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Ye(n,void 0,void 0,s=>{o=Xt(t(s,ta(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function YR(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(Ye(s,f=>{let h=l++;c=a?t(c,f,h):(a=!0,f),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function ru(t,e){return ke(e)?gn(t,e,1):gn(t,1)}function na(t){return rt((e,n)=>{let r=!1;e.subscribe(Ye(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Go(t){return t<=0?()=>Fr:rt((e,n)=>{let r=0;e.subscribe(Ye(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function bb(t){return Ve(()=>t)}function dg(t=g5){return rt((e,n)=>{let r=!1;e.subscribe(Ye(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function g5(){return new zo}function Df(t){return rt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function co(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Sr((i,o)=>t(i,o,r)):Or,Go(1),n?na(e):dg(()=>new zo))}function iu(t){return t<=0?()=>Fr:rt((e,n)=>{let r=[];e.subscribe(Ye(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Eb(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Sr((i,o)=>t(i,o,r)):Or,iu(1),n?na(e):dg(()=>new zo))}function fg(t,e){return rt(YR(t,e,arguments.length>=2,!0))}function hg(...t){let e=Zs(t);return rt((n,r)=>{(e?nu(t,n,e):nu(t,n)).subscribe(r)})}function Pi(t,e){return rt((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Ye(r,c=>{i?.unsubscribe();let l=0,f=o++;Xt(t(c,f)).subscribe(i=Ye(r,h=>r.next(e?e(c,h,f,l++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Cb(t){return rt((e,n)=>{Xt(t).subscribe(Ye(n,()=>n.complete(),Tf)),!n.closed&&e.subscribe(n)})}function yn(t,e,n){let r=ke(t)||e||n?{next:t,error:e,complete:n}:t;return r?rt((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ye(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Or}var L1="https://g.co/ng/security#xss",ve=class extends Error{constructor(e,n){super(IE(e,n)),this.code=e}};function IE(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Uf(t){return{toString:t}.toString()}var pg="__parameters__";function y5(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function V1(t,e,n){return Uf(()=>{let r=y5(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,f){let h=c.hasOwnProperty(pg)?c[pg]:Object.defineProperty(c,pg,{value:[]})[pg];for(;h.length<=f;)h.push(null);return(h[f]=h[f]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var _c=globalThis;function wt(t){for(let e in t)if(t[e]===wt)return e;throw Error("Could not find renamed property on target object.")}function v5(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function cr(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(cr).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function ZR(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var _5=wt({__forward_ref__:wt});function ur(t){return t.__forward_ref__=ur,t.toString=function(){return cr(this())},t}function ar(t){return B1(t)?t():t}function B1(t){return typeof t=="function"&&t.hasOwnProperty(_5)&&t.__forward_ref__===ur}function ye(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Vr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Yg(t){return JR(t,j1)||JR(t,$1)}function U1(t){return Yg(t)!==null}function JR(t,e){return t.hasOwnProperty(e)?t[e]:null}function w5(t){let e=t&&(t[j1]||t[$1]);return e||null}function XR(t){return t&&(t.hasOwnProperty(e1)||t.hasOwnProperty(b5))?t[e1]:null}var j1=wt({\u0275prov:wt}),e1=wt({\u0275inj:wt}),$1=wt({ngInjectableDef:wt}),b5=wt({ngInjectorDef:wt}),pe=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ye({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function H1(t){return t&&!!t.\u0275providers}var E5=wt({\u0275cmp:wt}),C5=wt({\u0275dir:wt}),S5=wt({\u0275pipe:wt}),I5=wt({\u0275mod:wt}),Sg=wt({\u0275fac:wt}),Pf=wt({__NG_ELEMENT_ID__:wt}),t1=wt({__NG_ENV_ID__:wt});function uu(t){return typeof t=="string"?t:t==null?"":String(t)}function x5(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():uu(t)}function T5(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ve(-200,t)}function xE(t,e){throw new ve(-201,!1)}var $e=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}($e||{}),Vb;function q1(){return Vb}function Ir(t){let e=Vb;return Vb=t,e}function z1(t,e,n){let r=Yg(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&$e.Optional)return null;if(e!==void 0)return e;xE(t,"Injector")}var A5={},Nf=A5,Bb="__NG_DI_FLAG__",Ig="ngTempTokenPath",D5="ngTokenPath",R5=/\n/gm,M5="\u0275",n1="__source",cu;function P5(){return cu}function ra(t){let e=cu;return cu=t,e}function N5(t,e=$e.Default){if(cu===void 0)throw new ve(-203,!1);return cu===null?z1(t,void 0,e):cu.get(t,e&$e.Optional?null:void 0,e)}function Se(t,e=$e.Default){return(q1()||N5)(ar(t),e)}function ce(t,e=$e.Default){return Se(t,Zg(e))}function Zg(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ub(t){let e=[];for(let n=0;n<t.length;n++){let r=ar(t[n]);if(Array.isArray(r)){if(r.length===0)throw new ve(900,!1);let i,o=$e.Default;for(let s=0;s<r.length;s++){let a=r[s],c=k5(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Se(i,o))}else e.push(Se(r))}return e}function G1(t,e){return t[Bb]=e,t.prototype[Bb]=e,t}function k5(t){return t[Bb]}function O5(t,e,n,r){let i=t[Ig];throw e[n1]&&i.unshift(e[n1]),t.message=F5(`
`+t.message,i,n,r),t[D5]=i,t[Ig]=null,t}function F5(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==M5?t.slice(2):t;let i=cr(e);if(Array.isArray(e))i=e.map(cr).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):cr(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(R5,`
  `)}`}var dr=G1(V1("Optional"),8);var W1=G1(V1("SkipSelf"),4);function bc(t,e){let n=t.hasOwnProperty(Sg);return n?t[Sg]:null}function TE(t,e){t.forEach(n=>Array.isArray(n)?TE(n,e):e(n))}function K1(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function xg(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function L5(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function V5(t,e,n){let r=jf(t,e);return r>=0?t[r|1]=n:(r=~r,L5(t,r,e,n)),r}function Sb(t,e){let n=jf(t,e);if(n>=0)return t[n|1]}function jf(t,e){return B5(t,e,1)}function B5(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var du={},oi=[],fu=new pe(""),Q1=new pe("",-1),Y1=new pe(""),Tg=class{get(e,n=Nf){if(n===Nf){let r=new Error(`NullInjectorError: No provider for ${cr(e)}!`);throw r.name="NullInjectorError",r}return n}},Z1=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Z1||{}),fo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(fo||{}),sa=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(sa||{});function U5(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function jb(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];j5(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function J1(t){return t===3||t===4||t===6}function j5(t){return t.charCodeAt(0)===64}function kf(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?r1(t,n,i,null,e[++r]):r1(t,n,i,null,null))}}return t}function r1(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var X1="ng-template";function $5(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&U5(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(AE(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function AE(t){return t.type===4&&t.value!==X1}function H5(t,e,n){let r=t.type===4&&!n?X1:t.value;return e===r}function q5(t,e,n){let r=4,i=t.attrs,o=i!==null?W5(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Ni(r)&&!Ni(c))return!1;if(s&&Ni(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!H5(t,c,n)||c===""&&e.length===1){if(Ni(r))return!1;s=!0}}else if(r&8){if(i===null||!$5(t,i,c,n)){if(Ni(r))return!1;s=!0}}else{let l=e[++a],f=z5(c,i,AE(t),n);if(f===-1){if(Ni(r))return!1;s=!0;continue}if(l!==""){let h;if(f>o?h="":h=i[f+1].toLowerCase(),r&2&&l!==h){if(Ni(r))return!1;s=!0}}}}return Ni(r)||s}function Ni(t){return(t&1)===0}function z5(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return K5(e,t)}function G5(t,e,n=!1){for(let r=0;r<e.length;r++)if(q5(t,e[r],n))return!0;return!1}function W5(t){for(let e=0;e<t.length;e++){let n=t[e];if(J1(n))return e}return t.length}function K5(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function i1(t,e){return t?":not("+e.trim()+")":e}function Q5(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ni(s)&&(e+=i1(o,i),i=""),r=s,o=o||!Ni(r);n++}return i!==""&&(e+=i1(o,i)),e}function Y5(t){return t.map(Q5).join(",")}function Z5(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Ni(i))break;i=o}r++}return{attrs:e,classes:n}}function Be(t){return Uf(()=>{let e=iM(t),n=z(A({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Z1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||fo.Emulated,styles:t.styles||oi,_:null,schemas:t.schemas||null,tView:null,id:""});oM(n);let r=t.dependencies;return n.directiveDefs=s1(r,!1),n.pipeDefs=s1(r,!0),n.id=e6(n),n})}function J5(t){return Ec(t)||eM(t)}function X5(t){return t!==null}function Br(t){return Uf(()=>({type:t.type,bootstrap:t.bootstrap||oi,declarations:t.declarations||oi,imports:t.imports||oi,exports:t.exports||oi,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function o1(t,e){if(t==null)return du;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=sa.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==sa.None?[r,a]:r,e[o]=s):n[o]=r}return n}function lt(t){return Uf(()=>{let e=iM(t);return oM(e),e})}function Dc(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ec(t){return t[E5]||null}function eM(t){return t[C5]||null}function tM(t){return t[S5]||null}function nM(t){let e=Ec(t)||eM(t)||tM(t);return e!==null?e.standalone:!1}function rM(t,e){let n=t[I5]||null;if(!n&&e===!0)throw new Error(`Type ${cr(t)} does not have '\u0275mod' property.`);return n}function iM(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||du,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||oi,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:o1(t.inputs,e),outputs:o1(t.outputs),debugInfo:null}}function oM(t){t.features?.forEach(e=>e(t))}function s1(t,e){if(!t)return null;let n=e?tM:J5;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(X5)}function e6(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function go(t){return{\u0275providers:t}}function t6(...t){return{\u0275providers:sM(!0,t),\u0275fromNgModule:!0}}function sM(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return TE(e,s=>{let a=s;$b(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&aM(i,o),n}function aM(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];DE(i,o=>{e(o,r)})}}function $b(t,e,n,r){if(t=ar(t),!t)return!1;let i=null,o=XR(t),s=!o&&Ec(t);if(!o&&!s){let c=t.ngModule;if(o=XR(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)$b(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{TE(o.imports,f=>{$b(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&aM(l,e)}if(!a){let l=bc(i)||(()=>new i);e({provide:i,useFactory:l,deps:oi},i),e({provide:Y1,useValue:i,multi:!0},i),e({provide:fu,useValue:()=>Se(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;DE(c,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function DE(t,e){for(let n of t)H1(n)&&(n=n.\u0275providers),Array.isArray(n)?DE(n,e):e(n)}var n6=wt({provide:String,useValue:wt});function cM(t){return t!==null&&typeof t=="object"&&n6 in t}function r6(t){return!!(t&&t.useExisting)}function i6(t){return!!(t&&t.useFactory)}function hu(t){return typeof t=="function"}function o6(t){return!!t.useClass}var Jg=new pe(""),_g={},s6={},Ib;function RE(){return Ib===void 0&&(Ib=new Tg),Ib}var ci=class{},Of=class extends ci{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qb(e,s=>this.processProvider(s)),this.records.set(Q1,ou(void 0,this)),i.has("environment")&&this.records.set(ci,ou(void 0,this));let o=this.records.get(Jg);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Y1,oi,$e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=at(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),at(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ra(this),r=Ir(void 0),i;try{return e()}finally{ra(n),Ir(r)}}get(e,n=Nf,r=$e.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(t1))return e[t1](this);r=Zg(r);let i,o=ra(this),s=Ir(void 0);try{if(!(r&$e.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=d6(e)&&Yg(e);l&&this.injectableDefInScope(l)?c=ou(Hb(e),_g):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&$e.Self?RE():this.parent;return n=r&$e.Optional&&n===Nf?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ig]=a[Ig]||[]).unshift(cr(e)),o)throw a;return O5(a,e,"R3InjectorError",this.source)}else throw a}finally{Ir(s),ra(o)}}resolveInjectorInitializers(){let e=at(null),n=ra(this),r=Ir(void 0),i;try{let o=this.get(fu,oi,$e.Self);for(let s of o)s()}finally{ra(n),Ir(r),at(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(cr(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ve(205,!1)}processProvider(e){e=ar(e);let n=hu(e)?e:ar(e&&e.provide),r=c6(e);if(!hu(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ou(void 0,_g,!0),i.factory=()=>Ub(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=at(null);try{return n.value===_g&&(n.value=s6,n.value=n.factory()),typeof n.value=="object"&&n.value&&u6(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{at(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ar(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Hb(t){let e=Yg(t),n=e!==null?e.factory:bc(t);if(n!==null)return n;if(t instanceof pe)throw new ve(204,!1);if(t instanceof Function)return a6(t);throw new ve(204,!1)}function a6(t){if(t.length>0)throw new ve(204,!1);let n=w5(t);return n!==null?()=>n.factory(t):()=>new t}function c6(t){if(cM(t))return ou(void 0,t.useValue);{let e=lM(t);return ou(e,_g)}}function lM(t,e,n){let r;if(hu(t)){let i=ar(t);return bc(i)||Hb(i)}else if(cM(t))r=()=>ar(t.useValue);else if(i6(t))r=()=>t.useFactory(...Ub(t.deps||[]));else if(r6(t))r=()=>Se(ar(t.useExisting));else{let i=ar(t&&(t.useClass||t.provide));if(l6(t))r=()=>new i(...Ub(t.deps));else return bc(i)||Hb(i)}return r}function ou(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function l6(t){return!!t.deps}function u6(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function d6(t){return typeof t=="function"||typeof t=="object"&&t instanceof pe}function qb(t,e){for(let n of t)Array.isArray(n)?qb(n,e):n&&H1(n)?qb(n.\u0275providers,e):e(n)}function Zo(t,e){t instanceof Of&&t.assertNotDestroyed();let n,r=ra(t),i=Ir(void 0);try{return e()}finally{ra(r),Ir(i)}}function f6(){return q1()!==void 0||P5()!=null}function h6(t){return typeof t=="function"}var Jo=0,Ge=1,Ae=2,lr=3,ki=4,Fi=5,Ag=6,Dg=7,Oi=8,pu=9,ho=10,qt=11,Ff=12,a1=13,Cu=14,po=15,mu=16,su=17,gu=18,Xg=19,uM=20,ia=21,xb=22,si=23,Lr=25,dM=1;var Cc=7,Rg=8,Mg=9,ai=10,Pg=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Pg||{});function oa(t){return Array.isArray(t)&&typeof t[dM]=="object"}function Xo(t){return Array.isArray(t)&&t[dM]===!0}function ME(t){return(t.flags&4)!==0}function ey(t){return t.componentOffset>-1}function ty(t){return(t.flags&1)===1}function aa(t){return!!t.template}function zb(t){return(t[Ae]&512)!==0}var Gb=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function fM(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function li(){return hM}function hM(t){return t.type.prototype.ngOnChanges&&(t.setInput=m6),p6}li.ngInherit=!0;function p6(){let t=mM(this),e=t?.current;if(e){let n=t.previous;if(n===du)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function m6(t,e,n,r,i){let o=this.declaredInputs[r],s=mM(t)||g6(t,{previous:du,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Gb(l&&l.currentValue,n,c===du),fM(t,e,i,n)}var pM="__ngSimpleChanges__";function mM(t){return t[pM]||null}function g6(t,e){return t[pM]=e}var c1=null;var lo=function(t,e,n){c1?.(t,e,n)},y6="svg",v6="math";function mo(t){for(;Array.isArray(t);)t=t[Jo];return t}function gM(t,e){return mo(e[t])}function ui(t,e){return mo(e[t.index])}function yM(t,e){return t.data[e]}function PE(t,e){return t[e]}function ua(t,e){let n=e[t];return oa(n)?n:n[Jo]}function NE(t){return(t[Ae]&128)===128}function _6(t){return Xo(t[lr])}function yu(t,e){return e==null?null:t[e]}function vM(t){t[su]=0}function _M(t){t[Ae]&1024||(t[Ae]|=1024,NE(t)&&ry(t))}function w6(t,e){for(;t>0;)e=e[Cu],t--;return e}function ny(t){return!!(t[Ae]&9216||t[si]?.dirty)}function Wb(t){t[ho].changeDetectionScheduler?.notify(8),t[Ae]&64&&(t[Ae]|=1024),ny(t)&&ry(t)}function ry(t){t[ho].changeDetectionScheduler?.notify(0);let e=Sc(t);for(;e!==null&&!(e[Ae]&8192||(e[Ae]|=8192,!NE(e)));)e=Sc(e)}function wM(t,e){if((t[Ae]&256)===256)throw new ve(911,!1);t[ia]===null&&(t[ia]=[]),t[ia].push(e)}function b6(t,e){if(t[ia]===null)return;let n=t[ia].indexOf(e);n!==-1&&t[ia].splice(n,1)}function Sc(t){let e=t[lr];return Xo(e)?e[lr]:e}var qe={lFrame:RM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var bM=!1;function E6(){return qe.lFrame.elementDepthCount}function C6(){qe.lFrame.elementDepthCount++}function S6(){qe.lFrame.elementDepthCount--}function EM(){return qe.bindingsEnabled}function I6(){return qe.skipHydrationRootTNode!==null}function x6(t){return qe.skipHydrationRootTNode===t}function T6(){qe.skipHydrationRootTNode=null}function it(){return qe.lFrame.lView}function Vn(){return qe.lFrame.tView}function Re(t){return qe.lFrame.contextLView=t,t[Oi]}function Me(t){return qe.lFrame.contextLView=null,t}function Kn(){let t=CM();for(;t!==null&&t.type===64;)t=t.parent;return t}function CM(){return qe.lFrame.currentTNode}function A6(){let t=qe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Rc(t,e){let n=qe.lFrame;n.currentTNode=t,n.isParent=e}function kE(){return qe.lFrame.isParent}function SM(){qe.lFrame.isParent=!1}function D6(){return qe.lFrame.contextLView}function IM(){return bM}function l1(t){bM=t}function $f(){let t=qe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function R6(){return qe.lFrame.bindingIndex}function M6(t){return qe.lFrame.bindingIndex=t}function iy(){return qe.lFrame.bindingIndex++}function xM(t){let e=qe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function P6(){return qe.lFrame.inI18n}function N6(t,e){let n=qe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Kb(e)}function k6(){return qe.lFrame.currentDirectiveIndex}function Kb(t){qe.lFrame.currentDirectiveIndex=t}function O6(t){let e=qe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function TM(t){qe.lFrame.currentQueryIndex=t}function F6(t){let e=t[Ge];return e.type===2?e.declTNode:e.type===1?t[Fi]:null}function AM(t,e,n){if(n&$e.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&$e.Host);)if(i=F6(o),i===null||(o=o[Cu],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=qe.lFrame=DM();return r.currentTNode=e,r.lView=t,!0}function OE(t){let e=DM(),n=t[Ge];qe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function DM(){let t=qe.lFrame,e=t===null?null:t.child;return e===null?RM(t):e}function RM(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function MM(){let t=qe.lFrame;return qe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var PM=MM;function FE(){let t=MM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function L6(t){return(qe.lFrame.contextLView=w6(t,qe.lFrame.contextLView))[Oi]}function Mc(){return qe.lFrame.selectedIndex}function Ic(t){qe.lFrame.selectedIndex=t}function oy(){let t=qe.lFrame;return yM(t.tView,t.selectedIndex)}function V6(){return qe.lFrame.currentNamespace}var NM=!0;function sy(){return NM}function ay(t){NM=t}function B6(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=hM(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function cy(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function wg(t,e,n){kM(t,e,3,n)}function bg(t,e,n,r){(t[Ae]&3)===n&&kM(t,e,n,r)}function Tb(t,e){let n=t[Ae];(n&3)===e&&(n&=16383,n+=1,t[Ae]=n)}function kM(t,e,n,r){let i=r!==void 0?t[su]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[su]+=65536),(a<o||o==-1)&&(U6(t,n,e,c),t[su]=(t[su]&4294901760)+c+2),c++}function u1(t,e){lo(4,t,e);let n=at(null);try{e.call(t)}finally{at(n),lo(5,t,e)}}function U6(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Ae]>>14<t[su]>>16&&(t[Ae]&3)===e&&(t[Ae]+=16384,u1(a,o)):u1(a,o)}var lu=-1,xc=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function j6(t){return t instanceof xc}function $6(t){return(t.flags&8)!==0}function H6(t){return(t.flags&16)!==0}var Ab={},Qb=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Zg(r);let i=this.injector.get(e,Ab,r);return i!==Ab||n===Ab?i:this.parentInjector.get(e,n,r)}};function OM(t){return t!==lu}function Ng(t){return t&32767}function q6(t){return t>>16}function kg(t,e){let n=q6(t),r=e;for(;n>0;)r=r[Cu],n--;return r}var Yb=!0;function Og(t){let e=Yb;return Yb=t,e}var z6=256,FM=z6-1,LM=5,G6=0,uo={};function W6(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Pf)&&(r=n[Pf]),r==null&&(r=n[Pf]=G6++);let i=r&FM,o=1<<i;e.data[t+(i>>LM)]|=o}function Fg(t,e){let n=VM(t,e);if(n!==-1)return n;let r=e[Ge];r.firstCreatePass&&(t.injectorIndex=e.length,Db(r.data,t),Db(e,null),Db(r.blueprint,null));let i=LE(t,e),o=t.injectorIndex;if(OM(i)){let s=Ng(i),a=kg(i,e),c=a[Ge].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Db(t,e){t.push(0,0,0,0,0,0,0,0,e)}function VM(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function LE(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=HM(i),r===null)return lu;if(n++,i=i[Cu],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return lu}function Zb(t,e,n){W6(t,e,n)}function K6(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(J1(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function BM(t,e,n){if(n&$e.Optional||t!==void 0)return t;xE(e,"NodeInjector")}function UM(t,e,n,r){if(n&$e.Optional&&r===void 0&&(r=null),!(n&($e.Self|$e.Host))){let i=t[pu],o=Ir(void 0);try{return i?i.get(e,r,n&$e.Optional):z1(e,r,n&$e.Optional)}finally{Ir(o)}}return BM(r,e,n)}function jM(t,e,n,r=$e.Default,i){if(t!==null){if(e[Ae]&2048&&!(r&$e.Self)){let s=X6(t,e,n,r,uo);if(s!==uo)return s}let o=$M(t,e,n,r,uo);if(o!==uo)return o}return UM(e,n,r,i)}function $M(t,e,n,r,i){let o=Z6(n);if(typeof o=="function"){if(!AM(e,t,r))return r&$e.Host?BM(i,n,r):UM(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&$e.Optional))xE(n);else return s}finally{PM()}}else if(typeof o=="number"){let s=null,a=VM(t,e),c=lu,l=r&$e.Host?e[po][Fi]:null;for((a===-1||r&$e.SkipSelf)&&(c=a===-1?LE(t,e):e[a+8],c===lu||!f1(r,!1)?a=-1:(s=e[Ge],a=Ng(c),e=kg(c,e)));a!==-1;){let f=e[Ge];if(d1(o,a,f.data)){let h=Q6(a,e,n,s,r,l);if(h!==uo)return h}c=e[a+8],c!==lu&&f1(r,e[Ge].data[a+8]===l)&&d1(o,a,e)?(s=f,a=Ng(c),e=kg(c,e)):a=-1}}return i}function Q6(t,e,n,r,i,o){let s=e[Ge],a=s.data[t+8],c=r==null?ey(a)&&Yb:r!=s&&(a.type&3)!==0,l=i&$e.Host&&o===a,f=Y6(a,s,n,c,l);return f!==null?vu(e,s,f,a):uo}function Y6(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,f=o>>20,h=r?a:a+f,g=i?a+f:l;for(let b=h;b<g;b++){let I=s[b];if(b<c&&n===I||b>=c&&I.type===n)return b}if(i){let b=s[c];if(b&&aa(b)&&b.type===n)return c}return null}function vu(t,e,n,r){let i=t[n],o=e.data;if(j6(i)){let s=i;s.resolving&&T5(x5(o[n]));let a=Og(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Ir(s.injectImpl):null,f=AM(t,r,$e.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&B6(n,o[n],e)}finally{l!==null&&Ir(l),Og(a),s.resolving=!1,PM()}}return i}function Z6(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Pf)?t[Pf]:void 0;return typeof e=="number"?e>=0?e&FM:J6:e}function d1(t,e,n){let r=1<<t;return!!(n[e+(t>>LM)]&r)}function f1(t,e){return!(t&$e.Self)&&!(t&$e.Host&&e)}var wc=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return jM(this._tNode,this._lView,e,Zg(r),n)}};function J6(){return new wc(Kn(),it())}function Li(t){return Uf(()=>{let e=t.prototype.constructor,n=e[Sg]||Jb(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Sg]||Jb(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Jb(t){return B1(t)?()=>{let e=Jb(ar(t));return e&&e()}:bc(t)}function X6(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Ae]&2048&&!(s[Ae]&512);){let a=$M(o,s,n,r|$e.Self,uo);if(a!==uo)return a;let c=o.parent;if(!c){let l=s[uM];if(l){let f=l.get(n,uo,r);if(f!==uo)return f}c=HM(s),s=s[Cu]}o=c}return i}function HM(t){let e=t[Ge],n=e.type;return n===2?e.declTNode:n===1?t[Fi]:null}function VE(t){return K6(Kn(),t)}function h1(t,e=null,n=null,r){let i=qM(t,e,n,r);return i.resolveInjectorInitializers(),i}function qM(t,e=null,n=null,r,i=new Set){let o=[n||oi,t6(t)];return r=r||(typeof t=="object"?void 0:cr(t)),new Of(o,e||RE(),r||null,i)}var xr=class t{static{this.THROW_IF_NOT_FOUND=Nf}static{this.NULL=new Tg}static create(e,n){if(Array.isArray(e))return h1({name:""},n,e,"");{let r=e.name??"";return h1({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=ye({token:t,providedIn:"any",factory:()=>Se(Q1)})}static{this.__NG_ELEMENT_ID__=-1}};var eH=new pe("");eH.__NG_ELEMENT_ID__=t=>{let e=Kn();if(e===null)throw new ve(204,!1);if(e.type&2)return e.value;if(t&$e.Optional)return null;throw new ve(204,!1)};var tH="ngOriginalError";function Rb(t){return t[tH]}var zM=!0,GM=(()=>{class t{static{this.__NG_ELEMENT_ID__=nH}static{this.__NG_ENV_ID__=n=>n}}return t})(),Xb=class extends GM{constructor(e){super(),this._lView=e}onDestroy(e){return wM(this._lView,e),()=>b6(this._lView,e)}};function nH(){return new Xb(it())}var Su=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ht(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=ye({token:t,providedIn:"root",factory:()=>new t})}}return t})();var eE=class extends mn{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,f6()&&(this.destroyRef=ce(GM,{optional:!0})??void 0,this.pendingTasks=ce(Su,{optional:!0})??void 0)}emit(e){let n=at(null);try{super.next(e)}finally{at(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ft&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},He=eE;function Lg(...t){}function WM(t){let e,n;function r(){t=Lg;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function p1(t){return queueMicrotask(()=>t()),()=>{t=Lg}}var BE="isAngularZone",Vg=BE+"_ID",rH=0,pt=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new He(!1),this.onMicrotaskEmpty=new He(!1),this.onStable=new He(!1),this.onError=new He(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=zM}=e;if(typeof Zone>"u")throw new ve(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,sH(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(BE)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ve(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ve(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,iH,Lg,Lg);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},iH={};function UE(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function oH(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){WM(()=>{t.callbackScheduled=!1,tE(t),t.isCheckStableRunning=!0,UE(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),tE(t)}function sH(t){let e=()=>{oH(t)},n=rH++;t._inner=t._inner.fork({name:"angular",properties:{[BE]:!0,[Vg]:n,[Vg+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(aH(c))return r.invokeTask(o,s,a,c);try{return m1(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),g1(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return m1(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!cH(c)&&e(),g1(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,tE(t),UE(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function tE(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function m1(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function g1(t){t._nesting--,UE(t)}var nE=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new He,this.onMicrotaskEmpty=new He,this.onStable=new He,this.onError=new He}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function aH(t){return KM(t,"__ignore_ng_zone__")}function cH(t){return KM(t,"__scheduler_tick__")}function KM(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Wo=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Rb(e);for(;n&&Rb(n);)n=Rb(n);return n||null}},lH=new pe("",{providedIn:"root",factory:()=>{let t=ce(pt),e=ce(Wo);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function uH(){return ly(Kn(),it())}function ly(t,e){return new Ur(ui(t,e))}var Ur=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=uH}}return t})();function QM(t){return(t.flags&128)===128}var YM=new Map,dH=0;function fH(){return dH++}function hH(t){YM.set(t[Xg],t)}function rE(t){YM.delete(t[Xg])}var y1="__ngContext__";function ca(t,e){oa(e)?(t[y1]=e[Xg],hH(e)):t[y1]=e}function ZM(t){return XM(t[Ff])}function JM(t){return XM(t[ki])}function XM(t){for(;t!==null&&!Xo(t);)t=t[ki];return t}var iE;function eP(t){iE=t}function pH(){if(iE!==void 0)return iE;if(typeof document<"u")return document;throw new ve(210,!1)}var jE=new pe("",{providedIn:"root",factory:()=>mH}),mH="ng",$E=new pe(""),yo=new pe("",{providedIn:"platform",factory:()=>"unknown"});var HE=new pe("",{providedIn:"root",factory:()=>pH().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var gH="h",yH="b";var vH=()=>null;function qE(t,e,n=!1){return vH(t,e,n)}var tP=!1,_H=new pe("",{providedIn:"root",factory:()=>tP});var mg;function wH(){if(mg===void 0&&(mg=null,_c.trustedTypes))try{mg=_c.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return mg}function v1(t){return wH()?.createScriptURL(t)||t}var Bg=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${L1})`}};function Hf(t){return t instanceof Bg?t.changingThisBreaksApplicationSecurity:t}function zE(t,e){let n=bH(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${L1})`)}return n===e}function bH(t){return t instanceof Bg&&t.getTypeName()||null}var EH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nP(t){return t=String(t),t.match(EH)?t:"unsafe:"+t}var uy=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(uy||{});function vn(t){let e=iP();return e?e.sanitize(uy.URL,t)||"":zE(t,"URL")?Hf(t):nP(uu(t))}function CH(t){let e=iP();if(e)return v1(e.sanitize(uy.RESOURCE_URL,t)||"");if(zE(t,"ResourceURL"))return v1(Hf(t));throw new ve(904,!1)}function SH(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?CH:vn}function rP(t,e,n){return SH(e,n)(t)}function iP(){let t=it();return t&&t[ho].sanitizer}var IH=/^>|^->|<!--|-->|--!>|<!-$/g,xH=/(<|>)/g,TH="\u200B$1\u200B";function AH(t){return t.replace(IH,e=>e.replace(xH,TH))}function oP(t){return t instanceof Function?t():t}var Ko=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ko||{}),DH;function GE(t,e){return DH(t,e)}function au(t,e,n,r,i){if(r!=null){let o,s=!1;Xo(r)?o=r:oa(r)&&(s=!0,r=r[Jo]);let a=mo(r);t===0&&n!==null?i==null?uP(e,n,a):Ug(e,n,a,i||null,!0):t===1&&n!==null?Ug(e,n,a,i||null,!0):t===2?zH(e,a,s):t===3&&e.destroyNode(a),o!=null&&WH(e,t,o,n,i)}}function RH(t,e){return t.createText(e)}function MH(t,e,n){t.setValue(e,n)}function PH(t,e){return t.createComment(AH(e))}function sP(t,e,n){return t.createElement(e,n)}function NH(t,e){aP(t,e),e[Jo]=null,e[Fi]=null}function kH(t,e,n,r,i,o){r[Jo]=i,r[Fi]=e,fy(t,r,n,1,i,o)}function aP(t,e){e[ho].changeDetectionScheduler?.notify(9),fy(t,e,e[qt],2,null,null)}function OH(t){let e=t[Ff];if(!e)return Mb(t[Ge],t);for(;e;){let n=null;if(oa(e))n=e[Ff];else{let r=e[ai];r&&(n=r)}if(!n){for(;e&&!e[ki]&&e!==t;)oa(e)&&Mb(e[Ge],e),e=e[lr];e===null&&(e=t),oa(e)&&Mb(e[Ge],e),n=e&&e[ki]}e=n}}function FH(t,e,n,r){let i=ai+r,o=n.length;r>0&&(n[i-1][ki]=e),r<o-ai?(e[ki]=n[i],K1(n,ai+r,e)):(n.push(e),e[ki]=null),e[lr]=n;let s=e[mu];s!==null&&n!==s&&cP(s,e);let a=e[gu];a!==null&&a.insertView(t),Wb(e),e[Ae]|=128}function cP(t,e){let n=t[Mg],r=e[lr];if(oa(r))t[Ae]|=Pg.HasTransplantedViews;else{let i=r[lr][po];e[po]!==i&&(t[Ae]|=Pg.HasTransplantedViews)}n===null?t[Mg]=[e]:n.push(e)}function WE(t,e){let n=t[Mg],r=n.indexOf(e);n.splice(r,1)}function oE(t,e){if(t.length<=ai)return;let n=ai+e,r=t[n];if(r){let i=r[mu];i!==null&&i!==t&&WE(i,r),e>0&&(t[n-1][ki]=r[ki]);let o=xg(t,ai+e);NH(r[Ge],r);let s=o[gu];s!==null&&s.detachView(o[Ge]),r[lr]=null,r[ki]=null,r[Ae]&=-129}return r}function lP(t,e){if(!(e[Ae]&256)){let n=e[qt];n.destroyNode&&fy(t,e,n,3,null,null),OH(e)}}function Mb(t,e){if(e[Ae]&256)return;let n=at(null);try{e[Ae]&=-129,e[Ae]|=256,e[si]&&ib(e[si]),VH(t,e),LH(t,e),e[Ge].type===1&&e[qt].destroy();let r=e[mu];if(r!==null&&Xo(e[lr])){r!==e[lr]&&WE(r,e);let i=e[gu];i!==null&&i.detachView(t)}rE(e)}finally{at(n)}}function LH(t,e){let n=t.cleanup,r=e[Dg];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Dg]=null);let i=e[ia];if(i!==null){e[ia]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function VH(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof xc)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];lo(4,a,c);try{c.call(a)}finally{lo(5,a,c)}}else{lo(4,i,o);try{o.call(i)}finally{lo(5,i,o)}}}}}function BH(t,e,n){return UH(t,e.parent,n)}function UH(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Jo];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===fo.None||o===fo.Emulated)return null}return ui(r,n)}}function Ug(t,e,n,r,i){t.insertBefore(e,n,r,i)}function uP(t,e,n){t.appendChild(e,n)}function _1(t,e,n,r,i){r!==null?Ug(t,e,n,r,i):uP(t,e,n)}function dP(t,e){return t.parentNode(e)}function jH(t,e){return t.nextSibling(e)}function $H(t,e,n){return qH(t,e,n)}function HH(t,e,n){return t.type&40?ui(t,n):null}var qH=HH,w1;function dy(t,e,n,r){let i=BH(t,r,e),o=e[qt],s=r.parent||e[Fi],a=$H(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)_1(o,i,n[c],a,!1);else _1(o,i,n,a,!1);w1!==void 0&&w1(o,r,e,n,i)}function Rf(t,e){if(e!==null){let n=e.type;if(n&3)return ui(e,t);if(n&4)return sE(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Rf(t,r);{let i=t[e.index];return Xo(i)?sE(-1,i):mo(i)}}else{if(n&128)return Rf(t,e.next);if(n&32)return GE(e,t)()||mo(t[e.index]);{let r=fP(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Sc(t[po]);return Rf(i,r)}else return Rf(t,e.next)}}}return null}function fP(t,e){if(e!==null){let r=t[po][Fi],i=e.projection;return r.projection[i]}return null}function sE(t,e){let n=ai+t+1;if(n<e.length){let r=e[n],i=r[Ge].firstChild;if(i!==null)return Rf(r,i)}return e[Cc]}function zH(t,e,n){t.removeChild(null,e,n)}function KE(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&ca(mo(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)KE(t,e,n.child,r,i,o,!1),au(e,t,i,a,o);else if(c&32){let l=GE(n,r),f;for(;f=l();)au(e,t,i,f,o);au(e,t,i,a,o)}else c&16?GH(t,e,r,n,i,o):au(e,t,i,a,o);n=s?n.projectionNext:n.next}}function fy(t,e,n,r,i,o){KE(n,r,t.firstChild,e,i,o,!1)}function GH(t,e,n,r,i,o){let s=n[po],c=s[Fi].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let f=c[l];au(e,t,i,f,o)}else{let l=c,f=s[lr];QM(r)&&(l.flags|=128),KE(t,e,l,f,i,o,!0)}}function WH(t,e,n,r,i){let o=n[Cc],s=mo(n);o!==s&&au(e,t,r,o,i);for(let a=ai;a<n.length;a++){let c=n[a];fy(c[Ge],c,t,e,r,o)}}function KH(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ko.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ko.Important),t.setStyle(n,r,i,o))}}function QH(t,e,n){t.setAttribute(e,"style",n)}function hP(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function pP(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&jb(t,e,r),i!==null&&hP(t,e,i),o!==null&&QH(t,e,o)}var Vi={};function T(t=1){mP(Vn(),it(),Mc()+t,!1)}function mP(t,e,n,r){if(!r)if((e[Ae]&3)===3){let o=t.preOrderCheckHooks;o!==null&&wg(e,o,n)}else{let o=t.preOrderHooks;o!==null&&bg(e,o,0,n)}Ic(n)}function K(t,e=$e.Default){let n=it();if(n===null)return Se(t,e);let r=Kn();return jM(r,n,ar(t),e)}function gP(t,e,n,r,i,o){let s=at(null);try{let a=null;i&sa.SignalBased&&(a=e[r][qo]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&sa.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):fM(e,a,r,o)}finally{at(s)}}function YH(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ic(~i);else{let o=i,s=n[++r],a=n[++r];N6(s,o);let c=e[o];a(2,c)}}}finally{Ic(-1)}}function hy(t,e,n,r,i,o,s,a,c,l,f){let h=e.blueprint.slice();return h[Jo]=i,h[Ae]=r|4|128|8|64,(l!==null||t&&t[Ae]&2048)&&(h[Ae]|=2048),vM(h),h[lr]=h[Cu]=t,h[Oi]=n,h[ho]=s||t&&t[ho],h[qt]=a||t&&t[qt],h[pu]=c||t&&t[pu]||null,h[Fi]=o,h[Xg]=fH(),h[Ag]=f,h[uM]=l,h[po]=e.type==2?t[po]:h,h}function qf(t,e,n,r,i){let o=t.data[e];if(o===null)o=ZH(t,e,n,r,i),P6()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=A6();o.injectorIndex=s===null?-1:s.injectorIndex}return Rc(o,!0),o}function ZH(t,e,n,r,i){let o=CM(),s=kE(),a=s?o:o&&o.parent,c=t.data[e]=n8(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function yP(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function vP(t,e,n,r,i){let o=Mc(),s=r&2;try{Ic(-1),s&&e.length>Lr&&mP(t,e,Lr,!1),lo(s?2:0,i),n(r,i)}finally{Ic(o),lo(s?3:1,i)}}function QE(t,e,n){if(ME(e)){let r=at(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{at(r)}}}function YE(t,e,n){EM()&&(c8(t,e,n,ui(n,e)),(n.flags&64)===64&&bP(t,e,n))}function ZE(t,e,n=ui){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function _P(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=JE(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function JE(t,e,n,r,i,o,s,a,c,l,f){let h=Lr+r,g=h+i,b=JH(h,g),I=typeof l=="function"?l():l;return b[Ge]={type:t,blueprint:b,template:n,queries:null,viewQuery:a,declTNode:e,data:b.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:I,incompleteFirstPass:!1,ssrId:f}}function JH(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Vi);return n}function XH(t,e,n,r){let o=r.get(_H,tP)||n===fo.ShadowDom,s=t.selectRootElement(e,o);return e8(s),s}function e8(t){t8(t)}var t8=()=>null;function n8(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return I6()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function b1(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=sa.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?E1(r,n,l,a,c):E1(r,n,l,a)}return r}function E1(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function r8(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let f=r;f<i;f++){let h=o[f],g=n?n.get(h):null,b=g?g.inputs:null,I=g?g.outputs:null;c=b1(0,h.inputs,f,c,b),l=b1(1,h.outputs,f,l,I);let O=c!==null&&s!==null&&!AE(e)?_8(c,f,s):null;a.push(O)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function i8(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function XE(t,e,n,r,i,o,s,a){let c=ui(e,n),l=e.inputs,f;!a&&l!=null&&(f=l[r])?(tC(t,n,f,r,i),ey(e)&&o8(n,e.index)):e.type&3?(r=i8(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function o8(t,e){let n=ua(e,t);n[Ae]&16||(n[Ae]|=64)}function eC(t,e,n,r){if(EM()){let i=r===null?null:{"":-1},o=u8(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&wP(t,e,n,s,i,a),i&&d8(n,r,i)}n.mergedAttrs=kf(n.mergedAttrs,n.attrs)}function wP(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Zb(Fg(n,e),t,r[l].type);h8(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,c=yP(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=kf(n.mergedAttrs,f.hostAttrs),p8(t,n,e,c,f),f8(c,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let h=f.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}r8(t,n,o)}function s8(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;a8(s)!=a&&s.push(a),s.push(n,r,o)}}function a8(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function c8(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;ey(n)&&m8(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Fg(n,e),ca(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=vu(e,t,a,n);if(ca(l,e),s!==null&&v8(e,a-i,l,c,n,s),aa(c)){let f=ua(n.index,e);f[Oi]=vu(e,t,a,n)}}}function bP(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=k6();try{Ic(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Kb(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&l8(c,l)}}finally{Ic(-1),Kb(s)}}function l8(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function u8(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(G5(e,s.selectors,!1))if(r||(r=[]),aa(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;aE(t,e,c)}else r.unshift(s),aE(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function aE(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function d8(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new ve(-301,!1);r.push(e[i],o)}}}function f8(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;aa(e)&&(n[""]=t)}}function h8(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function p8(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=bc(i.type,!0)),s=new xc(o,aa(i),K);t.blueprint[r]=s,n[r]=s,s8(t,e,r,yP(t,n,i.hostVars,Vi),i)}function m8(t,e,n){let r=ui(e,t),i=_P(n),o=t[ho].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=py(t,hy(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function g8(t,e,n,r,i,o){let s=ui(t,e);y8(e[qt],s,o,t.value,n,r,i)}function y8(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?uu(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function v8(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],f=s[a++],h=s[a++];gP(r,n,c,l,f,h)}}function _8(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function EP(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function CP(t,e){let n=t.contentQueries;if(n!==null){let r=at(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];TM(o),a.contentQueries(2,e[s],s)}}}finally{at(r)}}}function py(t,e){return t[Ff]?t[a1][ki]=e:t[Ff]=e,t[a1]=e,e}function cE(t,e,n){TM(0);let r=at(null);try{e(t,n)}finally{at(r)}}function w8(t){return t[Dg]??=[]}function b8(t){return t.cleanup??=[]}function SP(t,e){let n=t[pu],r=n?n.get(Wo,null):null;r&&r.handleError(e)}function tC(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],f=t.data[s];gP(f,l,r,a,c,i)}}function IP(t,e,n){let r=gM(e,t);MH(t[qt],r,n)}function E8(t,e){let n=ua(e,t),r=n[Ge];C8(r,n);let i=n[Jo];i!==null&&n[Ag]===null&&(n[Ag]=qE(i,n[pu])),nC(r,n,n[Oi])}function C8(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function nC(t,e,n){OE(e);try{let r=t.viewQuery;r!==null&&cE(1,r,n);let i=t.template;i!==null&&vP(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[gu]?.finishViewCreation(t),t.staticContentQueries&&CP(t,e),t.staticViewQueries&&cE(2,t.viewQuery,n);let o=t.components;o!==null&&S8(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Ae]&=-5,FE()}}function S8(t,e){for(let n=0;n<e.length;n++)E8(t,e[n])}function I8(t,e,n,r){let i=at(null);try{let o=e.tView,a=t[Ae]&4096?4096:16,c=hy(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[mu]=l;let f=t[gu];return f!==null&&(c[gu]=f.createEmbeddedView(o)),nC(o,c,n),c}finally{at(i)}}function C1(t,e){return!e||e.firstChild===null||QM(t)}function x8(t,e,n,r=!0){let i=e[Ge];if(FH(i,e,t,n),r){let s=sE(n,t),a=e[qt],c=dP(a,t[Cc]);c!==null&&kH(i,t[Fi],a,e,c,s)}let o=e[Ag];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function jg(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(mo(o)),Xo(o)&&T8(o,r);let s=n.type;if(s&8)jg(t,e,n.child,r);else if(s&32){let a=GE(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=fP(e,n);if(Array.isArray(a))r.push(...a);else{let c=Sc(e[po]);jg(c[Ge],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function T8(t,e){for(let n=ai;n<t.length;n++){let r=t[n],i=r[Ge].firstChild;i!==null&&jg(r[Ge],r,i,e)}t[Cc]!==t[Jo]&&e.push(t[Cc])}var xP=[];function A8(t){return t[si]??D8(t)}function D8(t){let e=xP.pop()??Object.create(M8);return e.lView=t,e}function R8(t){t.lView[si]!==t&&(t.lView=null,xP.push(t))}var M8=z(A({},xf),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ry(t.lView)},consumerOnSignalRead(){this.lView[si]=this}});function P8(t){let e=t[si]??Object.create(N8);return e.lView=t,e}var N8=z(A({},xf),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Sc(t.lView);for(;e&&!TP(e[Ge]);)e=Sc(e);e&&_M(e)},consumerOnSignalRead(){this.lView[si]=this}});function TP(t){return t.type!==2}var k8=100;function AP(t,e=!0,n=0){let r=t[ho],i=r.rendererFactory,o=!1;o||i.begin?.();try{O8(t,n)}catch(s){throw e&&SP(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function O8(t,e){let n=IM();try{l1(!0),lE(t,e);let r=0;for(;ny(t);){if(r===k8)throw new ve(103,!1);r++,lE(t,1)}}finally{l1(n)}}function F8(t,e,n,r){let i=e[Ae];if((i&256)===256)return;let o=!1,s=!1;!o&&e[ho].inlineEffectRunner?.flush(),OE(e);let a=!0,c=null,l=null;o||(TP(t)?(l=A8(e),c=Lm(l)):mR()===null?(a=!1,l=P8(e),c=Lm(l)):e[si]&&(ib(e[si]),e[si]=null));try{vM(e),M6(t.bindingStartIndex),n!==null&&vP(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let b=t.preOrderCheckHooks;b!==null&&wg(e,b,null)}else{let b=t.preOrderHooks;b!==null&&bg(e,b,0,null),Tb(e,0)}if(s||L8(e),DP(e,0),t.contentQueries!==null&&CP(t,e),!o)if(f){let b=t.contentCheckHooks;b!==null&&wg(e,b)}else{let b=t.contentHooks;b!==null&&bg(e,b,1),Tb(e,1)}YH(t,e);let h=t.components;h!==null&&MP(e,h,0);let g=t.viewQuery;if(g!==null&&cE(2,g,r),!o)if(f){let b=t.viewCheckHooks;b!==null&&wg(e,b)}else{let b=t.viewHooks;b!==null&&bg(e,b,2),Tb(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[xb]){for(let b of e[xb])b();e[xb]=null}o||(e[Ae]&=-73)}catch(f){throw o||ry(e),f}finally{l!==null&&(nb(l,c),a&&R8(l)),FE()}}function DP(t,e){for(let n=ZM(t);n!==null;n=JM(n))for(let r=ai;r<n.length;r++){let i=n[r];RP(i,e)}}function L8(t){for(let e=ZM(t);e!==null;e=JM(e)){if(!(e[Ae]&Pg.HasTransplantedViews))continue;let n=e[Mg];for(let r=0;r<n.length;r++){let i=n[r];_M(i)}}}function V8(t,e,n){let r=ua(e,t);RP(r,n)}function RP(t,e){NE(t)&&lE(t,e)}function lE(t,e){let r=t[Ge],i=t[Ae],o=t[si],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&rb(o)),s||=!1,o&&(o.dirty=!1),t[Ae]&=-9217,s)F8(r,t,r.template,t[Oi]);else if(i&8192){DP(t,1);let a=r.components;a!==null&&MP(t,a,1)}}function MP(t,e,n){for(let r=0;r<e.length;r++)V8(t,e[r],n)}function rC(t,e){let n=IM()?64:1088;for(t[ho].changeDetectionScheduler?.notify(e);t;){t[Ae]|=n;let r=Sc(t);if(zb(t)&&!r)return t;t=r}return null}var Tc=class{get rootNodes(){let e=this._lView,n=e[Ge];return jg(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Oi]}set context(e){this._lView[Oi]=e}get destroyed(){return(this._lView[Ae]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[lr];if(Xo(e)){let n=e[Rg],r=n?n.indexOf(this):-1;r>-1&&(oE(e,r),xg(n,r))}this._attachedToViewContainer=!1}lP(this._lView[Ge],this._lView)}onDestroy(e){wM(this._lView,e)}markForCheck(){rC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ae]&=-129}reattach(){Wb(this._lView),this._lView[Ae]|=128}detectChanges(){this._lView[Ae]|=1024,AP(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ve(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=zb(this._lView),n=this._lView[mu];n!==null&&!e&&WE(n,this._lView),aP(this._lView[Ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ve(902,!1);this._appRef=e;let n=zb(this._lView),r=this._lView[mu];r!==null&&!n&&cP(r,this._lView),Wb(this._lView)}},my=(()=>{class t{static{this.__NG_ELEMENT_ID__=j8}}return t})(),B8=my,U8=class extends B8{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=I8(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Tc(i)}};function j8(){return $8(Kn(),it())}function $8(t,e){return t.type&4?new U8(e,t,ly(t,e)):null}var rhe=new RegExp(`^(\\d+)*(${yH}|${gH})*(.*)`);var H8=()=>null;function S1(t,e){return H8(t,e)}var _u=class{},gy=new pe("",{providedIn:"root",factory:()=>!1});var PP=new pe(""),NP=new pe(""),uE=class{},$g=class{};function q8(t){let e=Error(`No component factory found for ${cr(t)}.`);return e[z8]=t,e}var z8="ngComponent";var dE=class{resolveComponentFactory(e){throw q8(e)}},wu=class{static{this.NULL=new dE}},bu=class{},vo=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>G8()}}return t})();function G8(){let t=it(),e=Kn(),n=ua(e.index,t);return(oa(n)?n:t)[qt]}var W8=(()=>{class t{static{this.\u0275prov=ye({token:t,providedIn:"root",factory:()=>null})}}return t})();function Hg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=ZR(i,a);else if(o==2){let c=a,l=e[++s];r=ZR(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var qg=class extends wu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ec(e);return new Lf(n,this.ngModule)}};function I1(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:sa.None;e?n.push({propName:s,templateName:r,isSignal:(a&sa.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function K8(t){let e=t.toLowerCase();return e==="svg"?y6:e==="math"?v6:null}var Lf=class extends $g{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=I1(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return I1(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Y5(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=at(null);try{i=i||this.ngModule;let s=i instanceof ci?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Qb(e,s):e,c=a.get(bu,null);if(c===null)throw new ve(407,!1);let l=a.get(W8,null),f=a.get(_u,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},g=c.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",I=r?XH(g,r,this.componentDef.encapsulation,a):sP(g,b,K8(b)),O=512;this.componentDef.signals?O|=4096:this.componentDef.onPush||(O|=16);let N=null;I!==null&&(N=qE(I,a,!0));let $=JE(0,null,null,1,0,null,null,null,null,null,null),Y=hy(null,$,null,O,null,null,h,g,a,null,N);OE(Y);let oe,se,Te=null;try{let ge=this.componentDef,F,R=null;ge.findHostDirectiveDefs?(F=[],R=new Map,ge.findHostDirectiveDefs(ge,F,R),F.push(ge)):F=[ge];let M=Q8(Y,I);Te=Y8(M,I,ge,F,Y,h,g),se=yM($,Lr),I&&X8(g,ge,I,r),n!==void 0&&eq(se,this.ngContentSelectors,n),oe=J8(Te,ge,F,R,Y,[tq]),nC($,Y,null)}catch(ge){throw Te!==null&&rE(Te),rE(Y),ge}finally{FE()}return new fE(this.componentType,oe,ly(se,Y),Y,se)}finally{at(o)}}},fE=class extends uE{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Tc(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;tC(o[Ge],o,i,e,n),this.previousInputValues.set(e,n);let s=ua(this._tNode.index,o);rC(s,1)}}get injector(){return new wc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Q8(t,e){let n=t[Ge],r=Lr;return t[r]=e,qf(n,r,2,"#host",null)}function Y8(t,e,n,r,i,o,s){let a=i[Ge];Z8(r,t,e,s);let c=null;e!==null&&(c=qE(e,i[pu]));let l=o.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let h=hy(i,_P(n),null,f,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&aE(a,t,r.length-1),py(i,h),i[t.index]=h}function Z8(t,e,n,r){for(let i of t)e.mergedAttrs=kf(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Hg(e,e.mergedAttrs,!0),n!==null&&pP(r,n,e))}function J8(t,e,n,r,i,o){let s=Kn(),a=i[Ge],c=ui(s,i);wP(a,i,s,n,null,r);for(let f=0;f<n.length;f++){let h=s.directiveStart+f,g=vu(i,a,h,s);ca(g,i)}bP(a,i,s),c&&ca(c,i);let l=vu(i,a,s.directiveStart+s.componentOffset,s);if(t[Oi]=i[Oi]=l,o!==null)for(let f of o)f(l,e);return QE(a,s,i),l}function X8(t,e,n,r){if(r)jb(t,n,["ng-version","18.2.9"]);else{let{attrs:i,classes:o}=Z5(e.selectors[0]);i&&jb(t,n,i),o&&o.length>0&&hP(t,n,o.join(" "))}}function eq(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function tq(){let t=Kn();cy(it()[Ge],t)}var Iu=(()=>{class t{static{this.__NG_ELEMENT_ID__=nq}}return t})();function nq(){let t=Kn();return iq(t,it())}var rq=Iu,kP=class extends rq{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ly(this._hostTNode,this._hostLView)}get injector(){return new wc(this._hostTNode,this._hostLView)}get parentInjector(){let e=LE(this._hostTNode,this._hostLView);if(OM(e)){let n=kg(e,this._hostLView),r=Ng(e),i=n[Ge].data[r+8];return new wc(i,n)}else return new wc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=x1(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ai}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=S1(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,C1(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!h6(e),a;if(s)a=n;else{let I=n||{};a=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}let c=s?e:new Lf(Ec(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let O=(s?l:this.parentInjector).get(ci,null);O&&(o=O)}let f=Ec(c.componentType??{}),h=S1(this._lContainer,f?.id??null),g=h?.firstChild??null,b=c.create(l,i,g,o);return this.insertImpl(b.hostView,a,C1(this._hostTNode,h)),b}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(_6(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[lr],l=new kP(c,c[Fi],c[lr]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return x8(s,i,o,r),e.attachToViewContainerRef(),K1(Pb(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=x1(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=oE(this._lContainer,n);r&&(xg(Pb(this._lContainer),n),lP(r[Ge],r))}detach(e){let n=this._adjustIndex(e,-1),r=oE(this._lContainer,n);return r&&xg(Pb(this._lContainer),n)!=null?new Tc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function x1(t){return t[Rg]}function Pb(t){return t[Rg]||(t[Rg]=[])}function iq(t,e){let n,r=e[t.index];return Xo(r)?n=r:(n=EP(r,e,null,t),e[t.index]=n,py(e,n)),sq(n,e,t,r),new kP(n,t,e)}function oq(t,e){let n=t[qt],r=n.createComment(""),i=ui(e,t),o=dP(n,i);return Ug(n,o,r,jH(n,i),!1),r}var sq=lq,aq=()=>!1;function cq(t,e,n){return aq(t,e,n)}function lq(t,e,n,r){if(t[Cc])return;let i;n.type&8?i=mo(r):i=oq(e,n),t[Cc]=i}var T1=new Set;function zf(t){T1.has(t)||(T1.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function uq(t){return typeof t=="function"&&t[qo]!==void 0}function Gf(t,e){zf("NgSignals");let n=xR(t),r=n[qo];return e?.equal&&(r.equal=e.equal),n.set=i=>ob(r,i),n.update=i=>TR(r,i),n.asReadonly=dq.bind(n),n}function dq(){let t=this[qo];if(t.readonlyFn===void 0){let e=()=>this();e[qo]=t,t.readonlyFn=e}return t.readonlyFn}function OP(t){return uq(t)&&typeof t.set=="function"}function fq(t){return Object.getPrototypeOf(t.prototype).constructor}function Bn(t){let e=fq(t.type),n=!0,r=[t];for(;e;){let i;if(aa(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ve(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=gg(t.inputs),s.inputTransforms=gg(t.inputTransforms),s.declaredInputs=gg(t.declaredInputs),s.outputs=gg(t.outputs);let a=i.hostBindings;a&&yq(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&mq(t,c),l&&gq(t,l),hq(t,i),v5(t.outputs,i.outputs),aa(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Bn&&(n=!1)}}e=Object.getPrototypeOf(e)}pq(r)}function hq(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function pq(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=kf(i.hostAttrs,n=kf(n,i.hostAttrs))}}function gg(t){return t===du?{}:t===oi?[]:t}function mq(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function gq(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function yq(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function iC(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var la=class{},Vf=class{};var hE=class extends la{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qg(this);let o=rM(e);this._bootstrapComponents=oP(o.bootstrap),this._r3Injector=qM(e,n,[{provide:la,useValue:this},{provide:wu,useValue:this.componentFactoryResolver},...r],cr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},pE=class extends Vf{constructor(e){super(),this.moduleType=e}create(e){return new hE(this.moduleType,e,[])}};var zg=class extends la{constructor(e){super(),this.componentFactoryResolver=new qg(this),this.instance=null;let n=new Of([...e.providers,{provide:la,useValue:this},{provide:wu,useValue:this.componentFactoryResolver}],e.parent||RE(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function oC(t,e,n=null){return new zg({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function FP(t){return _q(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function vq(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function _q(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function yy(t,e,n){return t[e]=n}function LP(t,e){return t[e]}function Qo(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Gg(t,e,n,r){let i=Qo(t,e,n);return Qo(t,e+1,r)||i}function wq(t,e,n,r,i,o){let s=Gg(t,e,n,r);return Gg(t,e+2,i,o)||s}function bq(t){return(t.flags&32)===32}function Eq(t,e,n,r,i,o,s,a,c){let l=e.consts,f=qf(e,t,4,s||null,a||null);eC(e,n,f,yu(l,c)),cy(e,f);let h=f.tView=JE(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),h.queries=e.queries.embeddedTView(f)),f}function Cq(t,e,n,r,i,o,s,a,c,l){let f=n+Lr,h=e.firstCreatePass?Eq(f,e,t,r,i,o,s,a,c):e.data[f];Rc(h,!1);let g=Sq(e,t,h,n);sy()&&dy(e,t,g,h),ca(g,t);let b=EP(g,t,g,h);return t[f]=b,py(t,b),cq(b,h,t),ty(h)&&YE(e,t,h),c!=null&&ZE(t,h,l),h}function ee(t,e,n,r,i,o,s,a){let c=it(),l=Vn(),f=yu(l.consts,o);return Cq(c,l,t,e,n,r,i,f,s,a),ee}var Sq=Iq;function Iq(t,e,n,r){return ay(!0),e[qt].createComment("")}var Mf=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Mf||{}),xq=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=ye({token:t,providedIn:"root",factory:()=>new t})}}return t})(),A1=class t{constructor(){this.ngZone=ce(pt),this.scheduler=ce(_u),this.errorHandler=ce(Wo,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Mf.EarlyRead,Mf.Write,Mf.MixedReadWrite,Mf.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=ye({token:t,providedIn:"root",factory:()=>new t})}};function es(t,e,n,r){let i=it(),o=iy();if(Qo(i,o,e)){let s=Vn(),a=oy();g8(a,i,t,e,n,r)}return es}function VP(t,e,n,r){return Qo(t,iy(),n)?e+uu(n)+r:Vi}function Tq(t,e,n,r,i,o){let s=R6(),a=Gg(t,s,n,i);return xM(2),a?e+uu(n)+r+uu(i)+o:Vi}function yg(t,e){return t<<17|e<<2}function Ac(t){return t>>17&32767}function Aq(t){return(t&2)==2}function Dq(t,e){return t&131071|e<<17}function mE(t){return t|2}function Eu(t){return(t&131068)>>2}function Nb(t,e){return t&-131069|e<<2}function Rq(t){return(t&1)===1}function gE(t){return t|1}function Mq(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ac(s),c=Eu(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let h=n;f=h[1],(f===null||jf(h,f)>0)&&(l=!0)}else f=n;if(i)if(c!==0){let g=Ac(t[a+1]);t[r+1]=yg(g,a),g!==0&&(t[g+1]=Nb(t[g+1],r)),t[a+1]=Dq(t[a+1],r)}else t[r+1]=yg(a,0),a!==0&&(t[a+1]=Nb(t[a+1],r)),a=r;else t[r+1]=yg(c,0),a===0?a=r:t[c+1]=Nb(t[c+1],r),c=r;l&&(t[r+1]=mE(t[r+1])),D1(t,f,r,!0),D1(t,f,r,!1),Pq(e,f,t,r,o),s=yg(a,c),o?e.classBindings=s:e.styleBindings=s}function Pq(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&jf(o,e)>=0&&(n[r+1]=gE(n[r+1]))}function D1(t,e,n,r){let i=t[n+1],o=e===null,s=r?Ac(i):Eu(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];Nq(c,e)&&(a=!0,t[s+1]=r?gE(l):mE(l)),s=r?Ac(l):Eu(l)}a&&(t[n+1]=r?mE(i):gE(i))}function Nq(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?jf(t,e)>=0:!1}function j(t,e,n){let r=it(),i=iy();if(Qo(r,i,e)){let o=Vn(),s=oy();XE(o,s,r,t,e,r[qt],n,!1)}return j}function R1(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";tC(t,n,o[s],s,r)}function ts(t,e){return kq(t,e,null,!0),ts}function kq(t,e,n,r){let i=it(),o=Vn(),s=xM(2);if(o.firstUpdatePass&&Fq(o,t,s,r),e!==Vi&&Qo(i,s,e)){let a=o.data[Mc()];jq(o,a,i,i[qt],t,i[s+1]=$q(e,n),r,s)}}function Oq(t,e){return e>=t.expandoStartIndex}function Fq(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Mc()],s=Oq(t,n);Hq(o,r)&&e===null&&!s&&(e=!1),e=Lq(i,o,e,r),Mq(i,o,e,n,s,r)}}function Lq(t,e,n,r){let i=O6(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=kb(null,t,e,n,r),n=Bf(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=kb(i,t,e,n,r),o===null){let c=Vq(t,e,r);c!==void 0&&Array.isArray(c)&&(c=kb(null,t,e,c[1],r),c=Bf(c,e.attrs,r),Bq(t,e,r,c))}else o=Uq(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function Vq(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Eu(r)!==0)return t[Ac(r)]}function Bq(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ac(i)]=r}function Uq(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Bf(r,s,n)}return Bf(r,e.attrs,n)}function kb(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Bf(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Bf(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),V5(t,s,n?!0:e[++o]))}return t===void 0?null:t}function jq(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],f=Rq(l)?M1(c,e,n,i,Eu(l),s):void 0;if(!Wg(f)){Wg(o)||Aq(l)&&(o=M1(c,null,n,i,a,s));let h=gM(Mc(),n);KH(r,s,h,i,o)}}function M1(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),f=l?c[1]:c,h=f===null,g=n[i+1];g===Vi&&(g=h?oi:void 0);let b=h?Sb(g,r):f===r?g:void 0;if(l&&!Wg(b)&&(b=Sb(c,r)),Wg(b)&&(a=b,s))return a;let I=t[i+1];i=s?Ac(I):Eu(I)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Sb(c,r))}return a}function Wg(t){return t!==void 0}function $q(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=cr(Hf(t)))),t}function Hq(t,e){return(t.flags&(e?8:16))!==0}function qq(t,e,n,r,i,o){let s=e.consts,a=yu(s,i),c=qf(e,t,2,r,a);return eC(e,n,c,yu(s,o)),c.attrs!==null&&Hg(c,c.attrs,!1),c.mergedAttrs!==null&&Hg(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function E(t,e,n,r){let i=it(),o=Vn(),s=Lr+t,a=i[qt],c=o.firstCreatePass?qq(s,o,i,e,n,r):o.data[s],l=zq(o,i,c,a,e,t);i[s]=l;let f=ty(c);return Rc(c,!0),pP(a,l,c),!bq(c)&&sy()&&dy(o,i,l,c),E6()===0&&ca(l,i),C6(),f&&(YE(o,i,c),QE(o,c,i)),r!==null&&ZE(i,c),E}function v(){let t=Kn();kE()?SM():(t=t.parent,Rc(t,!1));let e=t;x6(e)&&T6(),S6();let n=Vn();return n.firstCreatePass&&(cy(n,t),ME(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&$6(e)&&R1(n,e,it(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&H6(e)&&R1(n,e,it(),e.stylesWithoutHost,!1),v}function ne(t,e,n,r){return E(t,e,n,r),v(),ne}var zq=(t,e,n,r,i,o)=>(ay(!0),sP(r,i,V6()));function Gq(t,e,n,r,i){let o=e.consts,s=yu(o,r),a=qf(e,t,8,"ng-container",s);s!==null&&Hg(a,s,!0);let c=yu(o,i);return eC(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Pc(t,e,n){let r=it(),i=Vn(),o=t+Lr,s=i.firstCreatePass?Gq(o,i,r,e,n):i.data[o];Rc(s,!0);let a=Wq(i,r,s,t);return r[o]=a,sy()&&dy(i,r,a,s),ca(a,r),ty(s)&&(YE(i,r,s),QE(i,s,r)),n!=null&&ZE(r,s),Pc}function Nc(){let t=Kn(),e=Vn();return kE()?SM():(t=t.parent,Rc(t,!1)),e.firstCreatePass&&(cy(e,t),ME(t)&&e.queries.elementEnd(t)),Nc}var Wq=(t,e,n,r)=>(ay(!0),PH(e[qt],""));function Ze(){return it()}var vc=void 0;function Kq(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var Qq=["en",[["a","p"],["AM","PM"],vc],[["AM","PM"],vc,vc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vc,"{1} 'at' {0}",vc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Kq],Ob={};function jr(t){let e=Yq(t),n=P1(e);if(n)return n;let r=e.split("-")[0];if(n=P1(r),n)return n;if(r==="en")return Qq;throw new ve(701,!1)}function P1(t){return t in Ob||(Ob[t]=_c.ng&&_c.ng.common&&_c.ng.common.locales&&_c.ng.common.locales[t]),Ob[t]}var Vt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Vt||{});function Yq(t){return t.toLowerCase().replace(/_/g,"-")}var Kg="en-US";var Zq=Kg;function Jq(t){typeof t=="string"&&(Zq=t.toLowerCase().replace(/_/g,"-"))}var Xq=(t,e,n)=>{};function te(t,e,n,r){let i=it(),o=Vn(),s=Kn();return BP(o,i,i[qt],s,t,e,r),te}function ez(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Dg],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function BP(t,e,n,r,i,o,s){let a=ty(r),l=t.firstCreatePass&&b8(t),f=e[Oi],h=w8(e),g=!0;if(r.type&3||s){let O=ui(r,e),N=s?s(O):O,$=h.length,Y=s?se=>s(mo(se[r.index])):r.index,oe=null;if(!s&&a&&(oe=ez(t,e,i,r.index)),oe!==null){let se=oe.__ngLastListenerFn__||oe;se.__ngNextListenerFn__=o,oe.__ngLastListenerFn__=o,g=!1}else{o=k1(r,e,f,o),Xq(O,i,o);let se=n.listen(N,i,o);h.push(o,se),l&&l.push(i,Y,$,$+1)}}else o=k1(r,e,f,o);let b=r.outputs,I;if(g&&b!==null&&(I=b[i])){let O=I.length;if(O)for(let N=0;N<O;N+=2){let $=I[N],Y=I[N+1],Te=e[$][Y].subscribe(o),ge=h.length;h.push(o,Te),l&&l.push(i,r.index,ge,-(ge+1))}}}function N1(t,e,n,r){let i=at(null);try{return lo(6,e,n),n(r)!==!1}catch(o){return SP(t,o),!1}finally{lo(7,e,n),at(i)}}function k1(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?ua(t.index,e):e;rC(s,5);let a=N1(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=N1(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function X(t=1){return L6(t)}function en(t,e,n){return UP(t,"",e,"",n),en}function UP(t,e,n,r,i){let o=it(),s=VP(o,e,n,r);if(s!==Vi){let a=Vn(),c=oy();XE(a,c,o,t,s,o[qt],i,!1)}return UP}function tz(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function di(t){let e=D6();return PE(e,Lr+t)}function C(t,e=""){let n=it(),r=Vn(),i=t+Lr,o=r.firstCreatePass?qf(r,i,1,e,null):r.data[i],s=nz(r,n,o,e,t);n[i]=s,sy()&&dy(r,n,s,o),Rc(o,!1)}var nz=(t,e,n,r,i)=>(ay(!0),RH(e[qt],r));function be(t){return ze("",t,""),be}function ze(t,e,n){let r=it(),i=VP(r,t,e,n);return i!==Vi&&IP(r,Mc(),i),ze}function Qn(t,e,n,r,i){let o=it(),s=Tq(o,t,e,n,r,i);return s!==Vi&&IP(o,Mc(),s),Qn}function _n(t,e,n){OP(e)&&(e=e());let r=it(),i=iy();if(Qo(r,i,e)){let o=Vn(),s=oy();XE(o,s,r,t,e,r[qt],n,!1)}return _n}function xn(t,e){let n=OP(t);return n&&t.set(e),n}function wn(t,e){let n=it(),r=Vn(),i=Kn();return BP(r,n,n[qt],i,t,e),wn}function rz(t,e,n){let r=Vn();if(r.firstCreatePass){let i=aa(t);yE(n,r.data,r.blueprint,i,!0),yE(e,r.data,r.blueprint,i,!1)}}function yE(t,e,n,r,i){if(t=ar(t),Array.isArray(t))for(let o=0;o<t.length;o++)yE(t[o],e,n,r,i);else{let o=Vn(),s=it(),a=Kn(),c=hu(t)?t:ar(t.provide),l=lM(t),f=a.providerIndexes&1048575,h=a.directiveStart,g=a.providerIndexes>>20;if(hu(t)||!t.multi){let b=new xc(l,i,K),I=Lb(c,e,i?f:f+g,h);I===-1?(Zb(Fg(a,s),o,c),Fb(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(b),s.push(b)):(n[I]=b,s[I]=b)}else{let b=Lb(c,e,f+g,h),I=Lb(c,e,f,f+g),O=b>=0&&n[b],N=I>=0&&n[I];if(i&&!N||!i&&!O){Zb(Fg(a,s),o,c);let $=sz(i?oz:iz,n.length,i,r,l);!i&&N&&(n[I].providerFactory=$),Fb(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push($),s.push($)}else{let $=jP(n[i?I:b],l,!i&&r);Fb(o,t,b>-1?b:I,$)}!i&&r&&N&&n[I].componentProviders++}}}function Fb(t,e,n,r){let i=hu(e),o=o6(e);if(i||o){let c=(o?ar(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,c]):l[f+1].push(r,c)}else l.push(n,c)}}}function jP(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Lb(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function iz(t,e,n,r){return vE(this.multi,[])}function oz(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=vu(n,n[Ge],this.providerFactory.index,r);o=a.slice(0,s),vE(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],vE(i,o);return o}function vE(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function sz(t,e,n,r,i){let o=new xc(t,n,K);return o.multi=[],o.index=e,o.componentProviders=0,jP(o,i,r&&!n),o}function fr(t,e=[]){return n=>{n.providersResolver=(r,i)=>rz(r,i?i(t):t,e)}}var az=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=sM(!1,n.type),i=r.length>0?oC([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ye({token:t,providedIn:"environment",factory:()=>new t(Se(ci))})}}return t})();function Je(t){zf("NgStandalone"),t.getStandaloneInjector=e=>e.get(az).getOrCreateStandaloneInjector(t)}function $P(t,e,n){let r=$f()+t,i=it();return i[r]===Vi?yy(i,r,n?e.call(n):e()):LP(i,r)}function ns(t,e,n,r,i){return qP(it(),$f(),t,e,n,r,i)}function xu(t,e,n,r,i,o,s,a){let c=$f()+t,l=it(),f=wq(l,c,n,r,i,o);return Qo(l,c+4,s)||f?yy(l,c+5,a?e.call(a,n,r,i,o,s):e(n,r,i,o,s)):LP(l,c+5)}function HP(t,e){let n=t[e];return n===Vi?void 0:n}function cz(t,e,n,r,i,o){let s=e+n;return Qo(t,s,i)?yy(t,s+1,o?r.call(o,i):r(i)):HP(t,s+1)}function qP(t,e,n,r,i,o,s){let a=e+n;return Gg(t,a,i,o)?yy(t,a+2,s?r.call(s,i,o):r(i,o)):HP(t,a+2)}function Yn(t,e){let n=Vn(),r,i=t+Lr;n.firstCreatePass?(r=lz(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=bc(r.type,!0)),s,a=Ir(K);try{let c=Og(!1),l=o();return Og(c),tz(n,it(),i,l),l}finally{Ir(a)}}function lz(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function da(t,e,n){let r=t+Lr,i=it(),o=PE(i,r);return zP(i,r)?cz(i,$f(),e,o.transform,n,o):o.transform(n)}function Bi(t,e,n,r){let i=t+Lr,o=it(),s=PE(o,i);return zP(o,i)?qP(o,$f(),e,s.transform,n,r,s):s.transform(n,r)}function zP(t,e){return t[Ge].data[e].pure}var Yo=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},GP=new Yo("18.2.9");var vy=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var WP=new pe("");function kc(t){return!!t&&typeof t.then=="function"}function KP(t){return!!t&&typeof t.subscribe=="function"}var QP=new pe(""),YP=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ce(QP,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(kc(o))n.push(o);else if(KP(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),sC=new pe("");function uz(){IR(()=>{throw new ve(600,!1)})}function dz(t){return t.isBoundToModule}var fz=10;function hz(t,e,n){try{let r=n();return kc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Oc=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ce(lH),this.afterRenderManager=ce(xq),this.zonelessEnabled=ce(gy),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new mn,this.afterTick=new mn,this.componentTypes=[],this.components=[],this.isStable=ce(Su).hasPendingTasks.pipe(Ve(n=>!n)),this._injector=ce(ci)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof $g;if(!this._injector.get(YP).done){let g=!i&&nM(n),b=!1;throw new ve(405,b)}let s;i?s=n:s=this._injector.get(wu).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=dz(s)?void 0:this._injector.get(la),c=r||s.selector,l=s.create(xr.NULL,[],c,a),f=l.location.nativeElement,h=l.injector.get(WP,null);return h?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),Eg(this.components,l),h?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ve(101,!1);let n=at(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,at(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(bu,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<fz;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)pz(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ny(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Eg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(sC,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Eg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ve(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Eg(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function pz(t,e,n,r){if(!n&&!ny(t))return;AP(t,e,n&&!r?0:1)}var _E=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},aC=(()=>{class t{compileModuleSync(n){return new pE(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=rM(n),o=oP(i.declarations).reduce((s,a)=>{let c=Ec(a);return c&&s.push(new Lf(c)),s},[]);return new _E(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var mz=(()=>{class t{constructor(){this.zone=ce(pt),this.changeDetectionScheduler=ce(_u),this.applicationRef=ce(Oc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),gz=new pe("",{factory:()=>!1});function ZP({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new pt(z(A({},XP()),{scheduleInRootZone:n})),[{provide:pt,useFactory:t},{provide:fu,multi:!0,useFactory:()=>{let r=ce(mz,{optional:!0});return()=>r.initialize()}},{provide:fu,multi:!0,useFactory:()=>{let r=ce(yz);return()=>{r.initialize()}}},e===!0?{provide:PP,useValue:!0}:[],{provide:NP,useValue:n??zM}]}function JP(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=ZP({ngZoneFactory:()=>{let i=XP(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&zf("NgZone_CoalesceEvent"),new pt(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return go([{provide:gz,useValue:!0},{provide:gy,useValue:!1},r])}function XP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var yz=(()=>{class t{constructor(){this.subscription=new Ft,this.initialized=!1,this.zone=ce(pt),this.pendingTasks=ce(Su)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pt.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var vz=(()=>{class t{constructor(){this.appRef=ce(Oc),this.taskService=ce(Su),this.ngZone=ce(pt),this.zonelessEnabled=ce(gy),this.disableScheduling=ce(PP,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ft,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Vg):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(ce(NP,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof nE||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?p1:WM;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Vg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,p1(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _z(){return typeof $localize<"u"&&$localize.locale||Kg}var Wf=new pe("",{providedIn:"root",factory:()=>ce(Wf,$e.Optional|$e.SkipSelf)||_z()});var wE=new pe("");function vg(t){return!t.moduleRef}function wz(t){let e=vg(t)?t.r3Injector:t.moduleRef.injector,n=e.get(pt);return n.run(()=>{vg(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Wo,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),vg(t)){let o=()=>e.destroy(),s=t.platformInjector.get(wE);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(wE);s.add(o),t.moduleRef.onDestroy(()=>{Eg(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return hz(r,n,()=>{let o=e.get(YP);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Wf,Kg);if(Jq(s||Kg),vg(t)){let a=e.get(Oc);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return bz(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function bz(t,e){let n=t.injector.get(Oc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new ve(-403,!1);e.push(t)}var Cg=null;function Ez(t=[],e){return xr.create({name:e,providers:[{provide:Jg,useValue:"platform"},{provide:wE,useValue:new Set([()=>Cg=null])},...t]})}function Cz(t=[]){if(Cg)return Cg;let e=Ez(t);return Cg=e,uz(),Sz(e),e}function Sz(t){t.get($E,null)?.forEach(n=>n())}var rs=(()=>{class t{static{this.__NG_ELEMENT_ID__=Iz}}return t})();function Iz(t){return xz(Kn(),it(),(t&16)===16)}function xz(t,e,n){if(ey(t)&&!n){let r=ua(t.index,e);return new Tc(r,r)}else if(t.type&175){let r=e[po];return new Tc(r,e)}return null}var bE=class{constructor(){}supports(e){return FP(e)}create(e){return new EE(e)}},Tz=(t,e)=>e,EE=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Tz}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<O1(r,i,o)?n:r,a=O1(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,f=c-i;if(l!=f){for(let g=0;g<l;g++){let b=g<o.length?o[g]:o[g]=0,I=b+g;f<=I&&I<l&&(o[g]=b+1)}let h=s.previousIndex;o[h]=f-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!FP(e))throw new ve(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,vq(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new CE(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Qg),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Qg),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},CE=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},SE=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Qg=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new SE,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function O1(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function F1(){return new cC([new bE])}var cC=(()=>{class t{static{this.\u0275prov=ye({token:t,providedIn:"root",factory:F1})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||F1()),deps:[[t,new W1,new dr]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new ve(901,!1)}}return t})();function eN(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Cz(r),o=[ZP({}),{provide:_u,useExisting:vz},...n||[]],s=new zg({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return wz({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function fa(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Kf(t,e){zf("NgSignals");let n=ER(t);return e?.equal&&(n[qo].equal=e.equal),n}function is(t){let e=at(null);try{return t()}finally{at(e)}}var cN=null;function cs(){return cN}function lN(t){cN??=t}var Ty=class{};var hi=new pe(""),uN=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:()=>ce(Az),providedIn:"platform"})}}return t})();var Az=(()=>{class t extends uN{constructor(){super(),this._doc=ce(hi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cs().getBaseHref(this._doc)}onPopState(n){let r=cs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=cs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function dN(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function tN(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Fc(t){return t&&t[0]!=="?"?"?"+t:t}var Tu=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:()=>ce(fN),providedIn:"root"})}}return t})(),Dz=new pe(""),fN=(()=>{class t extends Tu{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ce(hi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return dN(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Fc(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Fc(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Fc(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(Se(uN),Se(Dz,8))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Yf=(()=>{class t{constructor(n){this._subject=new He,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Pz(tN(nN(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Fc(r))}normalize(n){return t.stripTrailingSlash(Mz(this._basePath,nN(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Fc(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Fc(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Fc}static{this.joinWithSlash=dN}static{this.stripTrailingSlash=tN}static{this.\u0275fac=function(r){return new(r||t)(Se(Tu))}}static{this.\u0275prov=ye({token:t,factory:()=>Rz(),providedIn:"root"})}}return t})();function Rz(){return new Yf(Se(Tu))}function Mz(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function nN(t){return t.replace(/\/index.html$/,"")}function Pz(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var hN=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(hN||{});var hr=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(hr||{}),bt=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(bt||{}),$r=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}($r||{}),Hr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Nz(t){return jr(t)[Vt.LocaleId]}function kz(t,e,n){let r=jr(t),i=[r[Vt.DayPeriodsFormat],r[Vt.DayPeriodsStandalone]],o=fi(i,e);return fi(o,n)}function Oz(t,e,n){let r=jr(t),i=[r[Vt.DaysFormat],r[Vt.DaysStandalone]],o=fi(i,e);return fi(o,n)}function Fz(t,e,n){let r=jr(t),i=[r[Vt.MonthsFormat],r[Vt.MonthsStandalone]],o=fi(i,e);return fi(o,n)}function Lz(t,e){let r=jr(t)[Vt.Eras];return fi(r,e)}function _y(t,e){let n=jr(t);return fi(n[Vt.DateFormat],e)}function wy(t,e){let n=jr(t);return fi(n[Vt.TimeFormat],e)}function by(t,e){let r=jr(t)[Vt.DateTimeFormat];return fi(r,e)}function ss(t,e){let n=jr(t),r=n[Vt.NumberSymbols][e];if(typeof r>"u"){if(e===Hr.CurrencyDecimal)return n[Vt.NumberSymbols][Hr.Decimal];if(e===Hr.CurrencyGroup)return n[Vt.NumberSymbols][Hr.Group]}return r}function Vz(t,e){return jr(t)[Vt.NumberFormats][e]}function pN(t){if(!t[Vt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Vt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Bz(t){let e=jr(t);return pN(e),(e[Vt.ExtraData][2]||[]).map(r=>typeof r=="string"?lC(r):[lC(r[0]),lC(r[1])])}function Uz(t,e,n){let r=jr(t);pN(r);let i=[r[Vt.ExtraData][0],r[Vt.ExtraData][1]],o=fi(i,e)||[];return fi(o,n)||[]}function fi(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function lC(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var jz=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ey={},$z=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,as=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(as||{}),dt=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(dt||{}),ut=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ut||{});function Hz(t,e,n,r){let i=Jz(t);e=os(n,e)||e;let s=[],a;for(;e;)if(a=$z.exec(e),a){s=s.concat(a.slice(1));let f=s.pop();if(!f)break;e=f}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=gN(r,c),i=Zz(i,r,!0));let l="";return s.forEach(f=>{let h=Qz(f);l+=h?h(i,n,c):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Ay(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function os(t,e){let n=Nz(t);if(Ey[n]??={},Ey[n][e])return Ey[n][e];let r="";switch(e){case"shortDate":r=_y(t,$r.Short);break;case"mediumDate":r=_y(t,$r.Medium);break;case"longDate":r=_y(t,$r.Long);break;case"fullDate":r=_y(t,$r.Full);break;case"shortTime":r=wy(t,$r.Short);break;case"mediumTime":r=wy(t,$r.Medium);break;case"longTime":r=wy(t,$r.Long);break;case"fullTime":r=wy(t,$r.Full);break;case"short":let i=os(t,"shortTime"),o=os(t,"shortDate");r=Cy(by(t,$r.Short),[i,o]);break;case"medium":let s=os(t,"mediumTime"),a=os(t,"mediumDate");r=Cy(by(t,$r.Medium),[s,a]);break;case"long":let c=os(t,"longTime"),l=os(t,"longDate");r=Cy(by(t,$r.Long),[c,l]);break;case"full":let f=os(t,"fullTime"),h=os(t,"fullDate");r=Cy(by(t,$r.Full),[f,h]);break}return r&&(Ey[n][e]=r),r}function Cy(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Ui(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function qz(t,e){return Ui(t,3).substring(0,e)}function tn(t,e,n=0,r=!1,i=!1){return function(o,s){let a=zz(t,o);if((n>0||a>-n)&&(a+=n),t===dt.Hours)a===0&&n===-12&&(a=12);else if(t===dt.FractionalSeconds)return qz(a,e);let c=ss(s,Hr.MinusSign);return Ui(a,e,c,r,i)}}function zz(t,e){switch(t){case dt.FullYear:return e.getFullYear();case dt.Month:return e.getMonth();case dt.Date:return e.getDate();case dt.Hours:return e.getHours();case dt.Minutes:return e.getMinutes();case dt.Seconds:return e.getSeconds();case dt.FractionalSeconds:return e.getMilliseconds();case dt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ct(t,e,n=hr.Format,r=!1){return function(i,o){return Gz(i,o,t,e,n,r)}}function Gz(t,e,n,r,i,o){switch(n){case ut.Months:return Fz(e,i,r)[t.getMonth()];case ut.Days:return Oz(e,i,r)[t.getDay()];case ut.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=Bz(e),f=Uz(e,i,r),h=l.findIndex(g=>{if(Array.isArray(g)){let[b,I]=g,O=s>=b.hours&&a>=b.minutes,N=s<I.hours||s===I.hours&&a<I.minutes;if(b.hours<I.hours){if(O&&N)return!0}else if(O||N)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(h!==-1)return f[h]}return kz(e,i,r)[s<12?0:1];case ut.Eras:return Lz(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function Sy(t){return function(e,n,r){let i=-1*r,o=ss(n,Hr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case as.Short:return(i>=0?"+":"")+Ui(s,2,o)+Ui(Math.abs(i%60),2,o);case as.ShortGMT:return"GMT"+(i>=0?"+":"")+Ui(s,1,o);case as.Long:return"GMT"+(i>=0?"+":"")+Ui(s,2,o)+":"+Ui(Math.abs(i%60),2,o);case as.Extended:return r===0?"Z":(i>=0?"+":"")+Ui(s,2,o)+":"+Ui(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var Wz=0,xy=4;function Kz(t){let e=Ay(t,Wz,1).getDay();return Ay(t,0,1+(e<=xy?xy:xy+7)-e)}function mN(t){let e=t.getDay(),n=e===0?-3:xy-e;return Ay(t.getFullYear(),t.getMonth(),t.getDate()+n)}function uC(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=mN(n),s=Kz(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Ui(i,t,ss(r,Hr.MinusSign))}}function Iy(t,e=!1){return function(n,r){let o=mN(n).getFullYear();return Ui(o,t,ss(r,Hr.MinusSign),e)}}var dC={};function Qz(t){if(dC[t])return dC[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ct(ut.Eras,bt.Abbreviated);break;case"GGGG":e=Ct(ut.Eras,bt.Wide);break;case"GGGGG":e=Ct(ut.Eras,bt.Narrow);break;case"y":e=tn(dt.FullYear,1,0,!1,!0);break;case"yy":e=tn(dt.FullYear,2,0,!0,!0);break;case"yyy":e=tn(dt.FullYear,3,0,!1,!0);break;case"yyyy":e=tn(dt.FullYear,4,0,!1,!0);break;case"Y":e=Iy(1);break;case"YY":e=Iy(2,!0);break;case"YYY":e=Iy(3);break;case"YYYY":e=Iy(4);break;case"M":case"L":e=tn(dt.Month,1,1);break;case"MM":case"LL":e=tn(dt.Month,2,1);break;case"MMM":e=Ct(ut.Months,bt.Abbreviated);break;case"MMMM":e=Ct(ut.Months,bt.Wide);break;case"MMMMM":e=Ct(ut.Months,bt.Narrow);break;case"LLL":e=Ct(ut.Months,bt.Abbreviated,hr.Standalone);break;case"LLLL":e=Ct(ut.Months,bt.Wide,hr.Standalone);break;case"LLLLL":e=Ct(ut.Months,bt.Narrow,hr.Standalone);break;case"w":e=uC(1);break;case"ww":e=uC(2);break;case"W":e=uC(1,!0);break;case"d":e=tn(dt.Date,1);break;case"dd":e=tn(dt.Date,2);break;case"c":case"cc":e=tn(dt.Day,1);break;case"ccc":e=Ct(ut.Days,bt.Abbreviated,hr.Standalone);break;case"cccc":e=Ct(ut.Days,bt.Wide,hr.Standalone);break;case"ccccc":e=Ct(ut.Days,bt.Narrow,hr.Standalone);break;case"cccccc":e=Ct(ut.Days,bt.Short,hr.Standalone);break;case"E":case"EE":case"EEE":e=Ct(ut.Days,bt.Abbreviated);break;case"EEEE":e=Ct(ut.Days,bt.Wide);break;case"EEEEE":e=Ct(ut.Days,bt.Narrow);break;case"EEEEEE":e=Ct(ut.Days,bt.Short);break;case"a":case"aa":case"aaa":e=Ct(ut.DayPeriods,bt.Abbreviated);break;case"aaaa":e=Ct(ut.DayPeriods,bt.Wide);break;case"aaaaa":e=Ct(ut.DayPeriods,bt.Narrow);break;case"b":case"bb":case"bbb":e=Ct(ut.DayPeriods,bt.Abbreviated,hr.Standalone,!0);break;case"bbbb":e=Ct(ut.DayPeriods,bt.Wide,hr.Standalone,!0);break;case"bbbbb":e=Ct(ut.DayPeriods,bt.Narrow,hr.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ct(ut.DayPeriods,bt.Abbreviated,hr.Format,!0);break;case"BBBB":e=Ct(ut.DayPeriods,bt.Wide,hr.Format,!0);break;case"BBBBB":e=Ct(ut.DayPeriods,bt.Narrow,hr.Format,!0);break;case"h":e=tn(dt.Hours,1,-12);break;case"hh":e=tn(dt.Hours,2,-12);break;case"H":e=tn(dt.Hours,1);break;case"HH":e=tn(dt.Hours,2);break;case"m":e=tn(dt.Minutes,1);break;case"mm":e=tn(dt.Minutes,2);break;case"s":e=tn(dt.Seconds,1);break;case"ss":e=tn(dt.Seconds,2);break;case"S":e=tn(dt.FractionalSeconds,1);break;case"SS":e=tn(dt.FractionalSeconds,2);break;case"SSS":e=tn(dt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Sy(as.Short);break;case"ZZZZZ":e=Sy(as.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Sy(as.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Sy(as.Long);break;default:return null}return dC[t]=e,e}function gN(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Yz(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function Zz(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=gN(e,i);return Yz(t,r*(o-i))}function Jz(t){if(rN(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Ay(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(jz))return Xz(r)}let e=new Date(t);if(!rN(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function Xz(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,l),e}function rN(t){return t instanceof Date&&!isNaN(t.valueOf())}var e9=/^(\d+)?\.((\d+)(-(\d+))?)?$/,iN=22,Dy=".",Qf="0",t9=";",n9=",",fC="#";function r9(t,e,n,r,i,o,s=!1){let a="",c=!1;if(!isFinite(t))a=ss(n,Hr.Infinity);else{let l=a9(t);s&&(l=s9(l));let f=e.minInt,h=e.minFrac,g=e.maxFrac;if(o){let Y=o.match(e9);if(Y===null)throw new Error(`${o} is not a valid digit info`);let oe=Y[1],se=Y[3],Te=Y[5];oe!=null&&(f=hC(oe)),se!=null&&(h=hC(se)),Te!=null?g=hC(Te):se!=null&&h>g&&(g=h)}c9(l,h,g);let b=l.digits,I=l.integerLen,O=l.exponent,N=[];for(c=b.every(Y=>!Y);I<f;I++)b.unshift(0);for(;I<0;I++)b.unshift(0);I>0?N=b.splice(I,b.length):(N=b,b=[0]);let $=[];for(b.length>=e.lgSize&&$.unshift(b.splice(-e.lgSize,b.length).join(""));b.length>e.gSize;)$.unshift(b.splice(-e.gSize,b.length).join(""));b.length&&$.unshift(b.join("")),a=$.join(ss(n,r)),N.length&&(a+=ss(n,i)+N.join("")),O&&(a+=ss(n,Hr.Exponential)+"+"+O)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function i9(t,e,n){let r=Vz(e,hN.Decimal),i=o9(r,ss(e,Hr.MinusSign));return r9(t,i,e,Hr.Group,Hr.Decimal,n)}function o9(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(t9),i=r[0],o=r[1],s=i.indexOf(Dy)!==-1?i.split(Dy):[i.substring(0,i.lastIndexOf(Qf)+1),i.substring(i.lastIndexOf(Qf)+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf(fC));for(let f=0;f<c.length;f++){let h=c.charAt(f);h===Qf?n.minFrac=n.maxFrac=f+1:h===fC?n.maxFrac=f+1:n.posSuf+=h}let l=a.split(n9);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let f=i.length-n.posPre.length-n.posSuf.length,h=o.indexOf(fC);n.negPre=o.substring(0,h).replace(/'/g,""),n.negSuf=o.slice(h+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function s9(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function a9(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(Dy))>-1&&(e=e.replace(Dy,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Qf;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Qf;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>iN&&(r=r.splice(0,iN-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function c9(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let h=s;h<r.length;h++)r[h]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let h=1;h<s;h++)r[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=e+t.integerLen,f=r.reduceRight(function(h,g,b,I){return g=g+h,I[b]=g<10?g:g-10,c&&(I[b]===0&&b>=l?I.pop():c=!1),g>=10?1:0},0);f&&(r.unshift(f),t.integerLen++)}function hC(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function yN(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var pC=/\s+/,oN=[],ha=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=oN,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(pC):oN}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(pC):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(pC).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(K(Ur),K(vo))}}static{this.\u0275dir=lt({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var mC=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},nn=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new mC(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),sN(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);sN(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(K(Iu),K(my),K(cC))}}static{this.\u0275dir=lt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function sN(t,e){t.context.$implicit=e.item}var vt=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new gC,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){aN("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){aN("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(K(Iu),K(my))}}static{this.\u0275dir=lt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),gC=class{constructor(){this.$implicit=null,this.ngIf=null}};function aN(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${cr(e)}'.`)}function My(t,e){return new ve(2100,!1)}var l9=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Py=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw My(t,n);return n.replace(l9,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Dc({name:"titlecase",type:t,pure:!0,standalone:!0})}}return t})(),Au=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw My(t,n);return n.toUpperCase()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Dc({name:"uppercase",type:t,pure:!0,standalone:!0})}}return t})(),u9="mediumDate",d9=new pe(""),f9=new pe(""),Zf=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??u9,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Hz(n,s,o||this.locale,a)}catch(s){throw My(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(K(Wf,16),K(d9,24),K(f9,24))}}static{this.\u0275pipe=Dc({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var vN=(()=>{class t{constructor(n){this._locale=n}transform(n,r,i){if(!h9(n))return null;i||=this._locale;try{let o=p9(n);return i9(o,i,r)}catch(o){throw My(t,o.message)}}static{this.\u0275fac=function(r){return new(r||t)(K(Wf,16))}}static{this.\u0275pipe=Dc({name:"number",type:t,pure:!0,standalone:!0})}}return t})();function h9(t){return!(t==null||t===""||t!==t)}function p9(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Et=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Br({type:t})}static{this.\u0275inj=Vr({})}}return t})(),yC="browser",m9="server";function _N(t){return t===yC}function vC(t){return t===m9}var Ry=class{};var bC=class extends Ty{constructor(){super(...arguments),this.supportsDOMEvents=!0}},EC=class t extends bC{static makeCurrent(){lN(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=g9();return n==null?null:y9(n)}resetBaseElement(){Jf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return yN(document.cookie,e)}},Jf=null;function g9(){return Jf=Jf||document.querySelector("base"),Jf?Jf.getAttribute("href"):null}function y9(t){return new URL(t,document.baseURI).pathname}var v9=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac})}}return t})(),CC=new pe(""),CN=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new ve(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(Se(CC),Se(pt))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac})}}return t})(),Ny=class{constructor(e){this._doc=e}},_C="ng-app-id",SN=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=vC(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${_C}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(_C),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(_C,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(Se(hi),Se(jE),Se(HE,8),Se(yo))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac})}}return t})(),wC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},IC=/%COMP%/g,IN="%COMP%",_9=`_nghost-${IN}`,w9=`_ngcontent-${IN}`,b9=!0,E9=new pe("",{providedIn:"root",factory:()=>b9});function C9(t){return w9.replace(IC,t)}function S9(t){return _9.replace(IC,t)}function xN(t,e){return e.map(n=>n.replace(IC,t))}var wN=(()=>{class t{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=vC(a),this.defaultRenderer=new Xf(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===fo.ShadowDom&&(r=z(A({},r),{encapsulation:fo.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof ky?i.applyToHost(n):i instanceof eh&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case fo.Emulated:o=new ky(c,l,r,this.appId,f,s,a,h);break;case fo.ShadowDom:return new SC(c,l,n,r,s,a,this.nonce,h);default:o=new eh(c,l,r,f,s,a,h);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(Se(CN),Se(SN),Se(jE),Se(E9),Se(hi),Se(yo),Se(pt),Se(HE))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac})}}return t})(),Xf=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(wC[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(bN(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(bN(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ve(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=wC[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=wC[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ko.DashCase|Ko.Important)?e.style.setProperty(n,r,i&Ko.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ko.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=cs().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function bN(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var SC=class extends Xf{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=xN(i.id,i.styles);for(let f of l){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},eh=class extends Xf{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?xN(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ky=class extends eh{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=C9(l),this.hostAttr=S9(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},I9=(()=>{class t extends Ny{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(Se(hi))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac})}}return t})(),EN=["alt","control","meta","shift"],x9={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},T9={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},A9=(()=>{class t extends Ny{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cs().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),EN.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=x9[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),EN.forEach(s=>{if(s!==i){let a=T9[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(Se(hi))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac})}}return t})();function TN(t,e){return eN(A({rootComponent:t},D9(e)))}function D9(t){return{appProviders:[...k9,...t?.providers??[]],platformProviders:N9}}function R9(){EC.makeCurrent()}function M9(){return new Wo}function P9(){return eP(document),document}var N9=[{provide:yo,useValue:yC},{provide:$E,useValue:R9,multi:!0},{provide:hi,useFactory:P9,deps:[]}];var k9=[{provide:Jg,useValue:"root"},{provide:Wo,useFactory:M9,deps:[]},{provide:CC,useClass:I9,multi:!0,deps:[hi,pt,yo]},{provide:CC,useClass:A9,multi:!0,deps:[hi]},wN,SN,CN,{provide:bu,useExisting:wN},{provide:Ry,useClass:v9,deps:[]},[]];var AN=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(Se(hi))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Fe="primary",gh=Symbol("RouteTitle"),RC=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ku(t){return new RC(t)}function F9(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function L9(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!_o(t[n],e[n]))return!1;return!0}function _o(t,e){let n=t?MC(t):void 0,r=e?MC(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!FN(t[i],e[i]))return!1;return!0}function MC(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function FN(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function LN(t){return t.length>0?t[t.length-1]:null}function ma(t){return vb(t)?t:kc(t)?Lt(Promise.resolve(t)):De(t)}var V9={exact:BN,subset:UN},VN={exact:B9,subset:U9,ignored:()=>!0};function DN(t,e,n){return V9[n.paths](t.root,e.root,n.matrixParams)&&VN[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function B9(t,e){return _o(t,e)}function BN(t,e,n){if(!Vc(t.segments,e.segments)||!Ly(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!BN(t.children[r],e.children[r],n))return!1;return!0}function U9(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>FN(t[n],e[n]))}function UN(t,e,n){return jN(t,e,e.segments,n)}function jN(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Vc(i,n)||e.hasChildren()||!Ly(i,n,r))}else if(t.segments.length===n.length){if(!Vc(t.segments,n)||!Ly(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!UN(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Vc(t.segments,i)||!Ly(t.segments,i,r)||!t.children[Fe]?!1:jN(t.children[Fe],e,o,r)}}function Ly(t,e,n){return e.every((r,i)=>VN[n](t[i].parameters,r.parameters))}var us=class{constructor(e=new mt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ku(this.queryParams),this._queryParamMap}toString(){return H9.serialize(this)}},mt=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vy(this)}},Lc=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ku(this.parameters),this._parameterMap}toString(){return HN(this)}};function j9(t,e){return Vc(t,e)&&t.every((n,r)=>_o(n.parameters,e[r].parameters))}function Vc(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function $9(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Fe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Fe&&(n=n.concat(e(i,r)))}),n}var rS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:()=>new ah,providedIn:"root"})}}return t})(),ah=class{parse(e){let n=new NC(e);return new us(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${th(e.root,!0)}`,r=G9(e.queryParams),i=typeof e.fragment=="string"?`#${q9(e.fragment)}`:"";return`${n}${r}${i}`}},H9=new ah;function Vy(t){return t.segments.map(e=>HN(e)).join("/")}function th(t,e){if(!t.hasChildren())return Vy(t);if(e){let n=t.children[Fe]?th(t.children[Fe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Fe&&r.push(`${i}:${th(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=$9(t,(r,i)=>i===Fe?[th(t.children[Fe],!1)]:[`${i}:${th(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Fe]!=null?`${Vy(t)}/${n[0]}`:`${Vy(t)}/(${n.join("//")})`}}function $N(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oy(t){return $N(t).replace(/%3B/gi,";")}function q9(t){return encodeURI(t)}function PC(t){return $N(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function By(t){return decodeURIComponent(t)}function RN(t){return By(t.replace(/\+/g,"%20"))}function HN(t){return`${PC(t.path)}${z9(t.parameters)}`}function z9(t){return Object.entries(t).map(([e,n])=>`;${PC(e)}=${PC(n)}`).join("")}function G9(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Oy(n)}=${Oy(i)}`).join("&"):`${Oy(n)}=${Oy(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var W9=/^[^\/()?;#]+/;function xC(t){let e=t.match(W9);return e?e[0]:""}var K9=/^[^\/()?;=#]+/;function Q9(t){let e=t.match(K9);return e?e[0]:""}var Y9=/^[^=?&#]+/;function Z9(t){let e=t.match(Y9);return e?e[0]:""}var J9=/^[^&#]+/;function X9(t){let e=t.match(J9);return e?e[0]:""}var NC=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new mt([],{}):new mt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Fe]=new mt(e,n)),r}parseSegment(){let e=xC(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ve(4009,!1);return this.capture(e),new Lc(By(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Q9(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=xC(this.remaining);i&&(r=i,this.capture(r))}e[By(n)]=By(r)}parseQueryParam(e){let n=Z9(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=X9(this.remaining);s&&(r=s,this.capture(r))}let i=RN(n),o=RN(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=xC(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ve(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Fe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Fe]:new mt([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ve(4011,!1)}};function qN(t){return t.segments.length>0?new mt([],{[Fe]:t}):t}function zN(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=zN(i);if(r===Fe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new mt(t.segments,e);return eG(n)}function eG(t){if(t.numberOfChildren===1&&t.children[Fe]){let e=t.children[Fe];return new mt(t.segments.concat(e.segments),e.children)}return t}function Bc(t){return t instanceof us}function tG(t,e,n=null,r=null){let i=GN(t);return WN(i,e,n,r)}function GN(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new mt(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=qN(r);return e??i}function WN(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return TC(i,i,i,n,r);let o=nG(e);if(o.toRoot())return TC(i,i,new mt([],{}),n,r);let s=rG(o,i,t),a=s.processChildren?ih(s.segmentGroup,s.index,o.commands):QN(s.segmentGroup,s.index,o.commands);return TC(i,s.segmentGroup,a,n,r)}function Uy(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ch(t){return typeof t=="object"&&t!=null&&t.outlets}function TC(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;t===e?s=n:s=KN(t,e,n);let a=qN(zN(s));return new us(a,o,i)}function KN(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=KN(o,e,n)}),new mt(t.segments,r)}var jy=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Uy(r[0]))throw new ve(4003,!1);let i=r.find(ch);if(i&&i!==LN(r))throw new ve(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function nG(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new jy(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new jy(n,e,r)}var Mu=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function rG(t,e,n){if(t.isAbsolute)return new Mu(e,!0,0);if(!n)return new Mu(e,!1,NaN);if(n.parent===null)return new Mu(n,!0,0);let r=Uy(t.commands[0])?0:1,i=n.segments.length-1+r;return iG(n,i,t.numberOfDoubleDots)}function iG(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ve(4005,!1);i=r.segments.length}return new Mu(r,!1,i-o)}function oG(t){return ch(t[0])?t[0].outlets:{[Fe]:t}}function QN(t,e,n){if(t??=new mt([],{}),t.segments.length===0&&t.hasChildren())return ih(t,e,n);let r=sG(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new mt(t.segments.slice(0,r.pathIndex),{});return o.children[Fe]=new mt(t.segments.slice(r.pathIndex),t.children),ih(o,0,i)}else return r.match&&i.length===0?new mt(t.segments,{}):r.match&&!t.hasChildren()?kC(t,e,n):r.match?ih(t,0,i):kC(t,e,n)}function ih(t,e,n){if(n.length===0)return new mt(t.segments,{});{let r=oG(n),i={};if(Object.keys(r).some(o=>o!==Fe)&&t.children[Fe]&&t.numberOfChildren===1&&t.children[Fe].segments.length===0){let o=ih(t.children[Fe],e,n);return new mt(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=QN(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new mt(t.segments,i)}}function sG(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(ch(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!PN(c,l,s))return o;r+=2}else{if(!PN(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function kC(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ch(o)){let c=aG(o.outlets);return new mt(r,c)}if(i===0&&Uy(n[0])){let c=t.segments[e];r.push(new Lc(c.path,MN(n[0]))),i++;continue}let s=ch(o)?o.outlets[Fe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Uy(a)?(r.push(new Lc(s,MN(a))),i+=2):(r.push(new Lc(s,{})),i++)}return new mt(r,{})}function aG(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=kC(new mt([],{}),0,r))}),e}function MN(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function PN(t,e,n){return t==n.path&&_o(e,n.parameters)}var oh="imperative",Un=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Un||{}),pi=class{constructor(e,n){this.id=e,this.url=n}},lh=class extends pi{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Un.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},pa=class extends pi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Un.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Gr=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Gr||{}),OC=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(OC||{}),ls=class extends pi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Un.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Uc=class extends pi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Un.NavigationSkipped}},uh=class extends pi{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Un.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},$y=class extends pi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Un.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},FC=class extends pi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Un.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},LC=class extends pi{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Un.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},VC=class extends pi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Un.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},BC=class extends pi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Un.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},UC=class{constructor(e){this.route=e,this.type=Un.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jC=class{constructor(e){this.route=e,this.type=Un.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},$C=class{constructor(e){this.snapshot=e,this.type=Un.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},HC=class{constructor(e){this.snapshot=e,this.type=Un.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qC=class{constructor(e){this.snapshot=e,this.type=Un.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zC=class{constructor(e){this.snapshot=e,this.type=Un.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var dh=class{},Ou=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function cG(t,e){return t.providers&&!t._injector&&(t._injector=oC(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ji(t){return t.outlet||Fe}function lG(t,e){let n=t.filter(r=>ji(r)===e);return n.push(...t.filter(r=>ji(r)!==e)),n}function yh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var GC=class{get injector(){return yh(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Qy(this.rootInjector),this.attachRef=null}},Qy=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new GC(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(Se(ci))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Hy=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=WC(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=WC(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=KC(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return KC(e,this._root).map(n=>n.value)}};function WC(t,e){if(t===e.value)return e;for(let n of e.children){let r=WC(t,n);if(r)return r}return null}function KC(t,e){if(t===e.value)return[e];for(let n of e.children){let r=KC(t,n);if(r.length)return r.unshift(e),r}return[]}var zr=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ru(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var qy=class extends Hy{constructor(e,n){super(e),this.snapshot=n,iS(this,e)}toString(){return this.snapshot.toString()}};function YN(t){let e=uG(t),n=new Ht([new Lc("",{})]),r=new Ht({}),i=new Ht({}),o=new Ht({}),s=new Ht(""),a=new jc(n,r,o,s,i,Fe,t,e.root);return a.snapshot=e.root,new qy(new zr(a,[]),e)}function uG(t){let e={},n={},r={},i="",o=new Pu([],e,r,i,n,Fe,t,null,{});return new Gy("",new zr(o,[]))}var jc=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ve(l=>l[gh]))??De(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ve(e=>ku(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ve(e=>ku(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function zy(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:A(A({},e.params),t.params),data:A(A({},e.data),t.data),resolve:A(A(A(A({},t.data),e.data),i?.data),t._resolvedData)}:r={params:A({},t.params),data:A({},t.data),resolve:A(A({},t.data),t._resolvedData??{})},i&&JN(i)&&(r.resolve[gh]=i.title),r}var Pu=class{get title(){return this.data?.[gh]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ku(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ku(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Gy=class extends Hy{constructor(e,n){super(n),this.url=e,iS(this,n)}toString(){return ZN(this._root)}};function iS(t,e){e.value._routerState=t,e.children.forEach(n=>iS(t,n))}function ZN(t){let e=t.children.length>0?` { ${t.children.map(ZN).join(", ")} } `:"";return`${t.value}${e}`}function AC(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,_o(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),_o(e.params,n.params)||t.paramsSubject.next(n.params),L9(e.url,n.url)||t.urlSubject.next(n.url),_o(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function QC(t,e){let n=_o(t.params,e.params)&&j9(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||QC(t.parent,e.parent))}function JN(t){return typeof t.title=="string"||t.title===null}var oS=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Fe,this.activateEvents=new He,this.deactivateEvents=new He,this.attachEvents=new He,this.detachEvents=new He,this.parentContexts=ce(Qy),this.location=ce(Iu),this.changeDetector=ce(rs),this.inputBinder=ce(sS,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ve(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ve(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ve(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ve(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new YC(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=lt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[li]})}}return t})(),YC=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===jc?this.route:e===Qy?this.childContexts:this.parent.get(e,n)}},sS=new pe("");function dG(t,e,n){let r=fh(t,e._root,n?n._root:void 0);return new qy(r,e)}function fh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=fG(t,e,n);return new zr(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>fh(t,a)),s}}let r=hG(e.value),i=e.children.map(o=>fh(t,o));return new zr(r,i)}}function fG(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return fh(t,r,i);return fh(t,r)})}function hG(t){return new jc(new Ht(t.url),new Ht(t.params),new Ht(t.queryParams),new Ht(t.fragment),new Ht(t.data),t.outlet,t.component,t)}var hh=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},XN="ngNavigationCancelingError";function Wy(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Bc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ek(!1,Gr.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function ek(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[XN]=!0,n.cancellationCode=e,n}function pG(t){return tk(t)&&Bc(t.url)}function tk(t){return!!t&&t[XN]}var mG=(t,e,n,r)=>Ve(i=>(new ZC(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),ZC=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),AC(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ru(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ru(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ru(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ru(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new zC(o.value.snapshot))}),e.children.length&&this.forwardEvent(new HC(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(AC(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),AC(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ky=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Nu=class{constructor(e,n){this.component=e,this.route=n}};function gG(t,e,n){let r=t._root,i=e?e._root:null;return nh(r,i,n,[r.value])}function yG(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Lu(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!U1(t)?t:e.get(t):r}function nh(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ru(e);return t.children.forEach(s=>{vG(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>sh(a,n.getContext(s),i)),i}function vG(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=_G(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ky(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?nh(t,e,a?a.children:null,r,i):nh(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Nu(a.outlet.component,s))}else s&&sh(e,a,i),i.canActivateChecks.push(new Ky(r)),o.component?nh(t,null,a?a.children:null,r,i):nh(t,null,n,r,i);return i}function _G(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Vc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Vc(t.url,e.url)||!_o(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!QC(t,e)||!_o(t.queryParams,e.queryParams);case"paramsChange":default:return!QC(t,e)}}function sh(t,e,n){let r=Ru(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?sh(s,e.children.getContext(o),n):sh(s,null,n):sh(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Nu(e.outlet.component,i)):n.canDeactivateChecks.push(new Nu(null,i)):n.canDeactivateChecks.push(new Nu(null,i))}function vh(t){return typeof t=="function"}function wG(t){return typeof t=="boolean"}function bG(t){return t&&vh(t.canLoad)}function EG(t){return t&&vh(t.canActivate)}function CG(t){return t&&vh(t.canActivateChild)}function SG(t){return t&&vh(t.canDeactivate)}function IG(t){return t&&vh(t.canMatch)}function nk(t){return t instanceof zo||t?.name==="EmptyError"}var Fy=Symbol("INITIAL_VALUE");function Fu(){return Pi(t=>lg(t.map(e=>e.pipe(Go(1),hg(Fy)))).pipe(Ve(e=>{for(let n of e)if(n!==!0){if(n===Fy)return Fy;if(n===!1||xG(n))return n}return!0}),Sr(e=>e!==Fy),Go(1)))}function xG(t){return Bc(t)||t instanceof hh}function TG(t,e){return gn(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?De(z(A({},n),{guardsResult:!0})):AG(s,r,i,t).pipe(gn(a=>a&&wG(a)?DG(r,o,t,e):De(a)),Ve(a=>z(A({},n),{guardsResult:a})))})}function AG(t,e,n,r){return Lt(t).pipe(gn(i=>kG(i.component,i.route,n,e,r)),co(i=>i!==!0,!0))}function DG(t,e,n,r){return Lt(e).pipe(ru(i=>nu(MG(i.route.parent,r),RG(i.route,r),NG(t,i.path,n),PG(t,i.route,n))),co(i=>i!==!0,!0))}function RG(t,e){return t!==null&&e&&e(new qC(t)),De(!0)}function MG(t,e){return t!==null&&e&&e(new $C(t)),De(!0)}function PG(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return De(!0);let i=r.map(o=>ug(()=>{let s=yh(e)??n,a=Lu(o,s),c=EG(a)?a.canActivate(e,t):Zo(s,()=>a(e,t));return ma(c).pipe(co())}));return De(i).pipe(Fu())}function NG(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>yG(s)).filter(s=>s!==null).map(s=>ug(()=>{let a=s.guards.map(c=>{let l=yh(s.node)??n,f=Lu(c,l),h=CG(f)?f.canActivateChild(r,t):Zo(l,()=>f(r,t));return ma(h).pipe(co())});return De(a).pipe(Fu())}));return De(o).pipe(Fu())}function kG(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return De(!0);let s=o.map(a=>{let c=yh(e)??i,l=Lu(a,c),f=SG(l)?l.canDeactivate(t,e,n,r):Zo(c,()=>l(t,e,n,r));return ma(f).pipe(co())});return De(s).pipe(Fu())}function OG(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return De(!0);let o=i.map(s=>{let a=Lu(s,t),c=bG(a)?a.canLoad(e,n):Zo(t,()=>a(e,n));return ma(c)});return De(o).pipe(Fu(),rk(r))}function rk(t){return qm(yn(e=>{if(typeof e!="boolean")throw Wy(t,e)}),Ve(e=>e===!0))}function FG(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return De(!0);let o=i.map(s=>{let a=Lu(s,t),c=IG(a)?a.canMatch(e,n):Zo(t,()=>a(e,n));return ma(c)});return De(o).pipe(Fu(),rk(r))}var ph=class{constructor(e){this.segmentGroup=e||null}},mh=class extends Error{constructor(e){super(),this.urlTree=e}};function Du(t){return tu(new ph(t))}function LG(t){return tu(new ve(4e3,!1))}function VG(t){return tu(ek(!1,Gr.GuardRejected))}var JC=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return De(r);if(i.numberOfChildren>1||!i.children[Fe])return LG(`${e.redirectTo}`);i=i.children[Fe]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:f,url:h,outlet:g,params:b,data:I,title:O}=i,N=Zo(o,()=>a({params:b,data:I,queryParams:c,fragment:l,routeConfig:f,url:h,outlet:g,title:O}));if(N instanceof us)throw new mh(N);n=N}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new mh(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new us(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new mt(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new ve(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},XC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function BG(t,e,n,r,i){let o=ik(t,e,n);return o.matched?(r=cG(e,r),FG(r,e,n,i).pipe(Ve(s=>s===!0?o:A({},XC)))):De(o)}function ik(t,e,n){if(e.path==="**")return UG(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?A({},XC):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||F9)(n,t,e);if(!i)return A({},XC);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?A(A({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function UG(t){return{matched:!0,parameters:t.length>0?LN(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function NN(t,e,n,r){return n.length>0&&HG(t,n,r)?{segmentGroup:new mt(e,$G(r,new mt(n,t.children))),slicedSegments:[]}:n.length===0&&qG(t,n,r)?{segmentGroup:new mt(t.segments,jG(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new mt(t.segments,t.children),slicedSegments:n}}function jG(t,e,n,r){let i={};for(let o of n)if(Yy(t,e,o)&&!r[ji(o)]){let s=new mt([],{});i[ji(o)]=s}return A(A({},r),i)}function $G(t,e){let n={};n[Fe]=e;for(let r of t)if(r.path===""&&ji(r)!==Fe){let i=new mt([],{});n[ji(r)]=i}return n}function HG(t,e,n){return n.some(r=>Yy(t,e,r)&&ji(r)!==Fe)}function qG(t,e,n){return n.some(r=>Yy(t,e,r))}function Yy(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function zG(t,e,n){return e.length===0&&!t.children[n]}var eS=class{};function GG(t,e,n,r,i,o,s="emptyOnly"){return new tS(t,e,n,r,i,s,o).recognize()}var WG=31,tS=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new JC(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ve(4002,`'${e.segmentGroup}'`)}recognize(){let e=NN(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ve(({children:n,rootSnapshot:r})=>{let i=new zr(r,n),o=new Gy("",i),s=tG(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Pu([],Object.freeze({}),Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Fe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Fe,n).pipe(Ve(r=>({children:r,rootSnapshot:n})),ta(r=>{if(r instanceof mh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ph?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(Ve(s=>s instanceof zr?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Lt(o).pipe(ru(s=>{let a=r.children[s],c=lG(n,s);return this.processSegmentGroup(e,c,a,s,i)}),fg((s,a)=>(s.push(...a),s)),na(null),Eb(),gn(s=>{if(s===null)return Du(r);let a=ok(s);return KG(a),De(a)}))}processSegment(e,n,r,i,o,s,a){return Lt(n).pipe(ru(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(ta(l=>{if(l instanceof ph)return De(null);throw l}))),co(c=>!!c),ta(c=>{if(nk(c))return zG(r,i,o)?De(new eS):Du(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return ji(r)!==s&&(s===Fe||!Yy(i,o,r))?Du(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):Du(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:f,positionalParamSegments:h,remainingSegments:g}=ik(n,i,o);if(!c)return Du(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>WG&&(this.allowRedirects=!1));let b=new Pu(o,l,Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,kN(i),ji(i),i.component??i._loadedComponent??null,i,ON(i)),I=zy(b,a,this.paramsInheritanceStrategy);b.params=Object.freeze(I.params),b.data=Object.freeze(I.data);let O=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,h,b,e);return this.applyRedirects.lineralizeSegments(i,O).pipe(gn(N=>this.processSegment(e,r,n,N.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=BG(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Pi(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Pi(({routes:l})=>{let f=r._loadedInjector??e,{parameters:h,consumedSegments:g,remainingSegments:b}=c,I=new Pu(g,h,Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,kN(r),ji(r),r.component??r._loadedComponent??null,r,ON(r)),O=zy(I,s,this.paramsInheritanceStrategy);I.params=Object.freeze(O.params),I.data=Object.freeze(O.data);let{segmentGroup:N,slicedSegments:$}=NN(n,g,b,l);if($.length===0&&N.hasChildren())return this.processChildren(f,l,N,I).pipe(Ve(oe=>new zr(I,oe)));if(l.length===0&&$.length===0)return De(new zr(I,[]));let Y=ji(r)===o;return this.processSegment(f,l,N,$,Y?Fe:o,!0,I).pipe(Ve(oe=>new zr(I,oe instanceof zr?[oe]:[])))}))):Du(n)))}getChildConfig(e,n,r){return n.children?De({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?De({routes:n._loadedRoutes,injector:n._loadedInjector}):OG(e,n,r,this.urlSerializer).pipe(gn(i=>i?this.configLoader.loadChildren(e,n).pipe(yn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):VG(n))):De({routes:[],injector:e})}};function KG(t){t.sort((e,n)=>e.value.outlet===Fe?-1:n.value.outlet===Fe?1:e.value.outlet.localeCompare(n.value.outlet))}function QG(t){let e=t.value.routeConfig;return e&&e.path===""}function ok(t){let e=[],n=new Set;for(let r of t){if(!QG(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=ok(r.children);e.push(new zr(r.value,i))}return e.filter(r=>!n.has(r))}function kN(t){return t.data||{}}function ON(t){return t.resolve||{}}function YG(t,e,n,r,i,o){return gn(s=>GG(t,e,n,r,s.extractedUrl,i,o).pipe(Ve(({state:a,tree:c})=>z(A({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function ZG(t,e){return gn(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return De(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of sk(c))s.add(l);let a=0;return Lt(s).pipe(ru(c=>o.has(c)?JG(c,r,t,e):(c.data=zy(c,c.parent,t).resolve,De(void 0))),yn(()=>a++),iu(1),gn(c=>a===s.size?De(n):Fr))})}function sk(t){let e=t.children.map(n=>sk(n)).flat();return[t,...e]}function JG(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!JN(i)&&(o[gh]=i.title),XG(o,t,e,r).pipe(Ve(s=>(t._resolvedData=s,t.data=zy(t,t.parent,n).resolve,null)))}function XG(t,e,n,r){let i=MC(t);if(i.length===0)return De({});let o={};return Lt(i).pipe(gn(s=>e7(t[s],e,n,r).pipe(co(),yn(a=>{if(a instanceof hh)throw Wy(new ah,a);o[s]=a}))),iu(1),bb(o),ta(s=>nk(s)?Fr:tu(s)))}function e7(t,e,n,r){let i=yh(e)??r,o=Lu(t,i),s=o.resolve?o.resolve(e,n):Zo(i,()=>o(e,n));return ma(s)}function DC(t){return Pi(e=>{let n=t(e);return n?Lt(n).pipe(Ve(()=>e)):De(e)})}var ak=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Fe);return r}getResolvedTitleForRoute(n){return n.data[gh]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:()=>ce(t7),providedIn:"root"})}}return t})(),t7=(()=>{class t extends ak{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(Se(AN))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),aS=new pe("",{providedIn:"root",factory:()=>({})}),n7=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Be({type:t,selectors:[["ng-component"]],standalone:!0,features:[Je],decls:1,vars:0,template:function(r,i){r&1&&ne(0,"router-outlet")},dependencies:[oS],encapsulation:2})}}return t})();function cS(t){let e=t.children&&t.children.map(cS),n=e?z(A({},t),{children:e}):A({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Fe&&(n.component=n7),n}var lS=new pe(""),r7=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ce(aC)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return De(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ma(n.loadComponent()).pipe(Ve(ck),yn(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Df(()=>{this.componentLoaders.delete(n)})),i=new Ql(r,()=>new mn).pipe(Kl());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return De({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=i7(r,this.compiler,n,this.onLoadEndListener).pipe(Df(()=>{this.childrenLoaders.delete(r)})),s=new Ql(o,()=>new mn).pipe(Kl());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function i7(t,e,n,r){return ma(t.loadChildren()).pipe(Ve(ck),gn(i=>i instanceof Vf||Array.isArray(i)?De(i):Lt(e.compileModuleAsync(i))),Ve(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(lS,[],{optional:!0,self:!0}).flat()),{routes:s.map(cS),injector:o}}))}function o7(t){return t&&typeof t=="object"&&"default"in t}function ck(t){return o7(t)?t.default:t}var uS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:()=>ce(s7),providedIn:"root"})}}return t})(),s7=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),a7=new pe("");var c7=new pe(""),l7=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new mn,this.transitionAbortSubject=new mn,this.configLoader=ce(r7),this.environmentInjector=ce(ci),this.urlSerializer=ce(rS),this.rootContexts=ce(Qy),this.location=ce(Yf),this.inputBindingEnabled=ce(sS,{optional:!0})!==null,this.titleStrategy=ce(ak),this.options=ce(aS,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ce(uS),this.createViewTransition=ce(a7,{optional:!0}),this.navigationErrorHandler=ce(c7,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>De(void 0),this.rootComponentType=null;let n=i=>this.events.next(new UC(i)),r=i=>this.events.next(new jC(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(z(A(A({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Ht({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:oh,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Sr(o=>o.id!==0),Ve(o=>z(A({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Pi(o=>{let s=!1,a=!1;return De(o).pipe(Pi(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Gr.SupersededByNewNavigation),Fr;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?z(A({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&f!=="reload"){let h="";return this.events.next(new Uc(c.id,this.urlSerializer.serialize(c.rawUrl),h,OC.IgnoredSameUrlNavigation)),c.resolve(!1),Fr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return De(c).pipe(Pi(h=>{let g=this.transitions?.getValue();return this.events.next(new lh(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),g!==this.transitions?.getValue()?Fr:Promise.resolve(h)}),YG(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),yn(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=z(A({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let g=new $y(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:g,source:b,restoredState:I,extras:O}=c,N=new lh(h,this.urlSerializer.serialize(g),b,I);this.events.next(N);let $=YN(this.rootComponentType).snapshot;return this.currentTransition=o=z(A({},c),{targetSnapshot:$,urlAfterRedirects:g,extras:z(A({},O),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,De(o)}else{let h="";return this.events.next(new Uc(c.id,this.urlSerializer.serialize(c.extractedUrl),h,OC.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Fr}}),yn(c=>{let l=new FC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Ve(c=>(this.currentTransition=o=z(A({},c),{guards:gG(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),TG(this.environmentInjector,c=>this.events.next(c)),yn(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Wy(this.urlSerializer,c.guardsResult);let l=new LC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Sr(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Gr.GuardRejected),!1)),DC(c=>{if(c.guards.canActivateChecks.length)return De(c).pipe(yn(l=>{let f=new VC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),Pi(l=>{let f=!1;return De(l).pipe(ZG(this.paramsInheritanceStrategy,this.environmentInjector),yn({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",Gr.NoDataFromResolver)}}))}),yn(l=>{let f=new BC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),DC(c=>{let l=f=>{let h=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(f.routeConfig).pipe(yn(g=>{f.component=g}),Ve(()=>{})));for(let g of f.children)h.push(...l(g));return h};return lg(l(c.targetSnapshot.root)).pipe(na(null),Go(1))}),DC(()=>this.afterPreactivation()),Pi(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,f=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return f?Lt(f).pipe(Ve(()=>o)):De(o)}),Ve(c=>{let l=dG(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=z(A({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),yn(()=>{this.events.next(new dh)}),mG(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Go(1),yn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pa(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Cb(this.transitionAbortSubject.pipe(yn(c=>{throw c}))),Df(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Gr.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ta(c=>{if(a=!0,tk(c))this.events.next(new ls(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),pG(c)?this.events.next(new Ou(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new uh(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let f=Zo(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(f instanceof hh){let{message:h,cancellationCode:g}=Wy(this.urlSerializer,f);this.events.next(new ls(o.id,this.urlSerializer.serialize(o.extractedUrl),h,g)),this.events.next(new Ou(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(l);let h=n.errorHandler(c);o.resolve(!!h)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return Fr}))}))}cancelNavigationTransition(n,r,i){let o=new ls(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function u7(t){return t!==oh}var d7=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:()=>ce(f7),providedIn:"root"})}}return t})(),nS=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},f7=(()=>{class t extends nS{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Li(t)))(i||t)}})()}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),lk=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:()=>ce(h7),providedIn:"root"})}}return t})(),h7=(()=>{class t extends lk{constructor(){super(...arguments),this.location=ce(Yf),this.urlSerializer=ce(rS),this.options=ce(aS,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ce(uS),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new us,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=YN(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof lh)this.stateMemento=this.createStateMemento();else if(n instanceof Uc)this.rawUrlTree=r.initialUrl;else if(n instanceof $y){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof dh?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof ls&&(n.code===Gr.GuardRejected||n.code===Gr.NoDataFromResolver)?this.restoreHistory(r):n instanceof uh?this.restoreHistory(r,!0):n instanceof pa&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof us?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=A(A({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=A(A({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Li(t)))(i||t)}})()}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),rh=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(rh||{});function p7(t,e){t.events.pipe(Sr(n=>n instanceof pa||n instanceof ls||n instanceof uh||n instanceof Uc),Ve(n=>n instanceof pa||n instanceof Uc?rh.COMPLETE:(n instanceof ls?n.code===Gr.Redirect||n.code===Gr.SupersededByNewNavigation:!1)?rh.REDIRECTING:rh.FAILED),Sr(n=>n!==rh.REDIRECTING),Go(1)).subscribe(()=>{e()})}function m7(t){throw t}var g7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},y7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=ce(vy),this.stateManager=ce(lk),this.options=ce(aS,{optional:!0})||{},this.pendingTasks=ce(Su),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ce(l7),this.urlSerializer=ce(rS),this.location=ce(Yf),this.urlHandlingStrategy=ce(uS),this._events=new mn,this.errorHandler=this.options.errorHandler||m7,this.navigated=!1,this.routeReuseStrategy=ce(d7),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ce(lS,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ce(sS,{optional:!0}),this.eventsSubscription=new Ft,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ls&&r.code!==Gr.Redirect&&r.code!==Gr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof pa)this.navigated=!0;else if(r instanceof Ou){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=A({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||u7(i.source)},s);this.scheduleNavigation(a,oh,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}_7(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),oh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=A({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(cS),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=A(A({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let h;try{let g=i?i.snapshot:this.routerState.snapshot.root;h=GN(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),h=this.currentUrlTree.root}return WN(h,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Bc(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,oh,null,r)}navigate(n,r={skipLocationChange:!1}){return v7(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=A({},g7):r===!1?i=A({},y7):i=r,Bc(n))return DN(this.currentUrlTree,n,i);let o=this.parseUrl(n);return DN(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((h,g)=>{a=h,c=g});let f=this.pendingTasks.add();return p7(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function v7(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ve(4008,!1)}function _7(t){return!(t instanceof dh)&&!(t instanceof Ou)}var uk=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new mn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof pa&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Bc(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:rP(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Bc(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(K(jn),K(jc),VE("tabindex"),K(vo),K(Ur),K(Tu))}}static{this.\u0275dir=lt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&te("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&es("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",fa],skipLocationChange:[2,"skipLocationChange","skipLocationChange",fa],replaceUrl:[2,"replaceUrl","replaceUrl",fa],routerLink:"routerLink"},standalone:!0,features:[iC,li]})}}return t})();var w7=new pe("");function dk(t,...e){return go([{provide:lS,multi:!0,useValue:t},[],{provide:jc,useFactory:b7,deps:[jn]},{provide:sC,multi:!0,useFactory:E7},e.map(n=>n.\u0275providers)])}function b7(t){return t.routerState.root}function E7(){let t=ce(xr);return e=>{let n=t.get(Oc);if(e!==n.components[0])return;let r=t.get(jn),i=t.get(C7);t.get(S7)===1&&r.initialNavigation(),t.get(I7,null,$e.Optional)?.setUpPreloading(),t.get(w7,null,$e.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var C7=new pe("",{factory:()=>new mn}),S7=new pe("",{providedIn:"root",factory:()=>1});var I7=new pe("");function x7(t,e){if(t&1&&(E(0,"div",8)(1,"div",9)(2,"div",10)(3,"h5",11),C(4),v(),E(5,"p",12),C(6),v()()()()),t&2){let n=e.$implicit;T(4),be(n.name),T(2),be(n.description)}}var Zy=class t{services=[{name:"Consulta M\xE9dica",description:"Atenci\xF3n m\xE9dica personalizada."},{name:"Ex\xE1menes de Laboratorio",description:"Realizamos ex\xE1menes de sangre y otros."},{name:"Radiolog\xEDa",description:"Servicios de rayos X y ultrasonido."},{name:"Vacunaci\xF3n",description:"Vacunas para todas las edades."}];static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Be({type:t,selectors:[["app-home"]],standalone:!0,features:[Je],decls:11,vars:1,consts:[[1,"container","mt-5","text-center"],["src","icon_hospital.png","alt","Icono de Hospital",1,"hospital-icon","mb-3"],[1,"welcome-title"],[1,"welcome-subtitle"],[1,"services","mt-4"],[1,"section-title"],[1,"row"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"card","mb-3","service-card"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(n,r){n&1&&(E(0,"div",0),ne(1,"img",1),E(2,"h2",2),C(3,"Bienvenido a Nuestra Cl\xEDnica"),v(),E(4,"p",3),C(5,"Su salud es nuestra prioridad."),v(),E(6,"div",4)(7,"h3",5),C(8,"Servicios Ofrecidos"),v(),E(9,"div",6),ee(10,x7,7,2,"div",7),v()()()),n&2&&(T(10),j("ngForOf",r.services))},dependencies:[nn],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:auto;background:#0009;border-radius:10px;padding:40px;box-shadow:0 4px 20px #0000004d}.welcome-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#f8f9fa;margin-bottom:10px}.welcome-subtitle[_ngcontent-%COMP%]{font-size:1.25rem;color:#f8f9fa;margin-bottom:20px}.section-title[_ngcontent-%COMP%]{font-size:2rem;color:#ffc107;margin-bottom:20px}.service-card[_ngcontent-%COMP%]{background:#ffffffe6;border-radius:10px;transition:transform .2s,box-shadow .2s}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0003}.contact-text[_ngcontent-%COMP%]{font-size:1rem;color:#f8f9fa}.text-warning[_ngcontent-%COMP%]{color:#ffc107;font-weight:700}.hospital-icon[_ngcontent-%COMP%]{width:80px;height:auto;margin-bottom:20px}"]})};var bk=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(K(vo),K(Ur))}}static{this.\u0275dir=lt({type:t})}}return t})(),Sh=(()=>{class t extends bk{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Li(t)))(i||t)}})()}static{this.\u0275dir=lt({type:t,features:[Bn]})}}return t})(),qc=new pe(""),T7={provide:qc,useExisting:ur(()=>yS),multi:!0},yS=(()=>{class t extends Sh{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Li(t)))(i||t)}})()}static{this.\u0275dir=lt({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&te("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[fr([T7]),Bn]})}}return t})(),A7={provide:qc,useExisting:ur(()=>Tn),multi:!0};function D7(){let t=cs()?cs().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var R7=new pe(""),Tn=(()=>{class t extends bk{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!D7())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(K(vo),K(Ur),K(R7,8))}}static{this.\u0275dir=lt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&te("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[fr([A7]),Bn]})}}return t})();function ga(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Ek(t){return t!=null&&typeof t.length=="number"}var ju=new pe(""),Ih=new pe(""),M7=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,_e=class{static min(e){return P7(e)}static max(e){return N7(e)}static required(e){return Ck(e)}static requiredTrue(e){return k7(e)}static email(e){return O7(e)}static minLength(e){return F7(e)}static maxLength(e){return L7(e)}static pattern(e){return V7(e)}static nullValidator(e){return Xy(e)}static compose(e){return Dk(e)}static composeAsync(e){return Mk(e)}};function P7(t){return e=>{if(ga(e.value)||ga(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function N7(t){return e=>{if(ga(e.value)||ga(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Ck(t){return ga(t.value)?{required:!0}:null}function k7(t){return t.value===!0?null:{required:!0}}function O7(t){return ga(t.value)||M7.test(t.value)?null:{email:!0}}function F7(t){return e=>ga(e.value)||!Ek(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function L7(t){return e=>Ek(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function V7(t){if(!t)return Xy;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ga(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Xy(t){return null}function Sk(t){return t!=null}function Ik(t){return kc(t)?Lt(t):t}function xk(t){let e={};return t.forEach(n=>{e=n!=null?A(A({},e),n):e}),Object.keys(e).length===0?null:e}function Tk(t,e){return e.map(n=>n(t))}function B7(t){return!t.validate}function Ak(t){return t.map(e=>B7(e)?e:n=>e.validate(n))}function Dk(t){if(!t)return null;let e=t.filter(Sk);return e.length==0?null:function(n){return xk(Tk(n,e))}}function Rk(t){return t!=null?Dk(Ak(t)):null}function Mk(t){if(!t)return null;let e=t.filter(Sk);return e.length==0?null:function(n){let r=Tk(n,e).map(Ik);return wb(r).pipe(Ve(xk))}}function Pk(t){return t!=null?Mk(Ak(t)):null}function fk(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Nk(t){return t._rawValidators}function kk(t){return t._rawAsyncValidators}function dS(t){return t?Array.isArray(t)?t:[t]:[]}function e0(t,e){return Array.isArray(t)?t.includes(e):t===e}function hk(t,e){let n=dS(e);return dS(t).forEach(i=>{e0(n,i)||n.push(i)}),n}function pk(t,e){return dS(e).filter(n=>!e0(t,n))}var t0=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Rk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Pk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Wr=class extends t0{get formDirective(){return null}get path(){return null}},Hc=class extends t0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},n0=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},U7={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},$pe=z(A({},U7),{"[class.ng-submitted]":"isSubmitted"}),Jn=(()=>{class t extends n0{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(K(Hc,2))}}static{this.\u0275dir=lt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ts("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Bn]})}}return t})(),wo=(()=>{class t extends n0{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(K(Wr,10))}}static{this.\u0275dir=lt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ts("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Bn]})}}return t})();var _h="VALID",Jy="INVALID",Vu="PENDING",wh="DISABLED",ya=class{},r0=class extends ya{constructor(e,n){super(),this.value=e,this.source=n}},bh=class extends ya{constructor(e,n){super(),this.pristine=e,this.source=n}},Eh=class extends ya{constructor(e,n){super(),this.touched=e,this.source=n}},Bu=class extends ya{constructor(e,n){super(),this.status=e,this.source=n}},fS=class extends ya{constructor(e){super(),this.source=e}},hS=class extends ya{constructor(e){super(),this.source=e}};function vS(t){return(a0(t)?t.validators:t)||null}function j7(t){return Array.isArray(t)?Rk(t):t||null}function _S(t,e){return(a0(e)?e.asyncValidators:t)||null}function $7(t){return Array.isArray(t)?Pk(t):t||null}function a0(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Ok(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new ve(1e3,"");if(!r[n])throw new ve(1001,"")}function Fk(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new ve(1002,"")})}var Uu=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Kf(()=>this.statusReactive()),this.statusReactive=Gf(void 0),this._pristine=Kf(()=>this.pristineReactive()),this.pristineReactive=Gf(!0),this._touched=Kf(()=>this.touchedReactive()),this.touchedReactive=Gf(!1),this._events=new mn,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return is(this.statusReactive)}set status(e){is(()=>this.statusReactive.set(e))}get valid(){return this.status===_h}get invalid(){return this.status===Jy}get pending(){return this.status==Vu}get disabled(){return this.status===wh}get enabled(){return this.status!==wh}get pristine(){return is(this.pristineReactive)}set pristine(e){is(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return is(this.touchedReactive)}set touched(e){is(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pk(e,this._rawAsyncValidators))}hasValidator(e){return e0(this._rawValidators,e)}hasAsyncValidator(e){return e0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(z(A({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Eh(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Eh(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(z(A({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new bh(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new bh(!0,r))}markAsPending(e={}){this.status=Vu;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bu(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(z(A({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=wh,this.errors=null,this._forEachChild(i=>{i.disable(z(A({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new r0(this.value,r)),this._events.next(new Bu(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(A({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=_h,this._forEachChild(r=>{r.enable(z(A({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(z(A({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_h||this.status===Vu)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new r0(this.value,n)),this._events.next(new Bu(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(z(A({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wh:_h}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Vu,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Ik(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Bu(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new He,this.statusChanges=new He}_calculateStatus(){return this._allControlsDisabled()?wh:this.errors?Jy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vu)?Vu:this._anyControlsHaveStatus(Jy)?Jy:_h}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new bh(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Eh(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){a0(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=j7(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=$7(this._rawAsyncValidators)}},i0=class extends Uu{constructor(e,n,r){super(vS(n),_S(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Fk(this,!0,e),Object.keys(e).forEach(r=>{Ok(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var pS=class extends i0{};var c0=new pe("CallSetDisabledState",{providedIn:"root",factory:()=>l0}),l0="always";function u0(t,e){return[...e.path,t]}function mS(t,e,n=l0){wS(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),q7(t,e),G7(t,e),z7(t,e),H7(t,e)}function mk(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),s0(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function o0(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function H7(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function wS(t,e){let n=Nk(t);e.validator!==null?t.setValidators(fk(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=kk(t);e.asyncValidator!==null?t.setAsyncValidators(fk(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();o0(e._rawValidators,i),o0(e._rawAsyncValidators,i)}function s0(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=Nk(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=kk(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return o0(e._rawValidators,r),o0(e._rawAsyncValidators,r),n}function q7(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Lk(t,e)})}function z7(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Lk(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Lk(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function G7(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function W7(t,e){t==null,wS(t,e)}function K7(t,e){return s0(t,e)}function Vk(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Q7(t){return Object.getPrototypeOf(t.constructor)===Sh}function Y7(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Bk(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Tn?n=o:Q7(o)?r=o:i=o}),i||r||n||null}function Z7(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function gk(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function yk(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Ch=class extends Uu{constructor(e=null,n,r){super(vS(n),_S(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),a0(n)&&(n.nonNullable||n.initialValueIsDefault)&&(yk(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){yk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var J7=t=>t instanceof Ch,X7=(()=>{class t extends Wr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return u0(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Li(t)))(i||t)}})()}static{this.\u0275dir=lt({type:t,features:[Bn]})}}return t})();var eW={provide:Hc,useExisting:ur(()=>zc)},vk=Promise.resolve(),zc=(()=>{class t extends Hc{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Ch,this._registered=!1,this.name="",this.update=new He,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Bk(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Vk(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){mS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){vk.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&fa(r);vk.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?u0(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(K(Wr,9),K(ju,10),K(Ih,10),K(qc,10),K(rs,8),K(c0,8))}}static{this.\u0275dir=lt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[fr([eW]),Bn,li]})}}return t})(),bo=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=lt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),tW={provide:qc,useExisting:ur(()=>Gc),multi:!0},Gc=(()=>{class t extends Sh{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Li(t)))(i||t)}})()}static{this.\u0275dir=lt({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&te("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[fr([tW]),Bn]})}}return t})();var Uk=new pe("");var nW={provide:Wr,useExisting:ur(()=>mi)},mi=(()=>{class t extends Wr{get submitted(){return is(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Kf(()=>this._submittedReactive()),this._submittedReactive=Gf(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new He,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(s0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return mS(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){mk(n.control||null,n,!1),Z7(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),Y7(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new fS(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new hS(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(mk(r||null,n),J7(i)&&(mS(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);W7(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&K7(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wS(this.form,this),this._oldForm&&s0(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(K(ju,10),K(Ih,10),K(c0,8))}}static{this.\u0275dir=lt({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&te("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fr([nW]),Bn,li]})}}return t})(),rW={provide:Wr,useExisting:ur(()=>d0)},d0=(()=>{class t extends X7{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){jk(this._parent)}static{this.\u0275fac=function(r){return new(r||t)(K(Wr,13),K(ju,10),K(Ih,10))}}static{this.\u0275dir=lt({type:t,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[fr([rW]),Bn]})}}return t})(),iW={provide:Wr,useExisting:ur(()=>f0)},f0=(()=>{class t extends Wr{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return u0(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){jk(this._parent)}static{this.\u0275fac=function(r){return new(r||t)(K(Wr,13),K(ju,10),K(Ih,10))}}static{this.\u0275dir=lt({type:t,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[fr([iW]),Bn]})}}return t})();function jk(t){return!(t instanceof d0)&&!(t instanceof mi)&&!(t instanceof f0)}var oW={provide:Hc,useExisting:ur(()=>$i)},$i=(()=>{class t extends Hc{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new He,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Bk(this,o)}ngOnChanges(n){this._added||this._setUpControl(),Vk(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return u0(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(K(Wr,13),K(ju,10),K(Ih,10),K(qc,10),K(Uk,8))}}static{this.\u0275dir=lt({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[fr([oW]),Bn,li]})}}return t})(),sW={provide:qc,useExisting:ur(()=>va),multi:!0};function $k(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function aW(t){return t.split(":")[0]}var va=(()=>{class t extends Sh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=$k(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=aW(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Li(t)))(i||t)}})()}static{this.\u0275dir=lt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&te("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[fr([sW]),Bn]})}}return t})(),$u=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue($k(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(K(Ur),K(vo),K(va,9))}}static{this.\u0275dir=lt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),cW={provide:qc,useExisting:ur(()=>Hk),multi:!0};function _k(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function lW(t){return t.split(":")[0]}var Hk=(()=>{class t extends Sh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=lW(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Li(t)))(i||t)}})()}static{this.\u0275dir=lt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&te("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[fr([cW]),Bn]})}}return t})(),Hu=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(_k(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(_k(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(K(Ur),K(vo),K(Hk,9))}}static{this.\u0275dir=lt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var uW=(()=>{class t{constructor(){this._validator=Xy}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Xy,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=lt({type:t,features:[li]})}}return t})();var dW={provide:ju,useExisting:ur(()=>ds),multi:!0};var ds=(()=>{class t extends uW{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=fa,this.createValidator=n=>Ck}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Li(t)))(i||t)}})()}static{this.\u0275dir=lt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&es("required",i._enabled?"":null)},inputs:{required:"required"},features:[fr([dW]),Bn]})}}return t})();var qk=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Br({type:t})}static{this.\u0275inj=Vr({})}}return t})(),gS=class extends Uu{constructor(e,n,r){super(vS(n),_S(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Fk(this,!1,e),e.forEach((r,i)=>{Ok(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function wk(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Eo=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return wk(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new i0(i,o)}record(n,r=null){let i=this._reduceControls(n);return new pS(i,r)}control(n,r,i){let o={};return this.useNonNullable?(wk(r)?o=r:(o.validators=r,o.asyncValidators=i),new Ch(n,z(A({},o),{nonNullable:!0}))):new Ch(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new gS(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Ch)return n;if(n instanceof Uu)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var _a=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:c0,useValue:n.callSetDisabledState??l0}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Br({type:t})}static{this.\u0275inj=Vr({imports:[qk]})}}return t})(),gi=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Uk,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:c0,useValue:n.callSetDisabledState??l0}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Br({type:t})}static{this.\u0275inj=Vr({imports:[qk]})}}return t})();var Gk=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fW=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Wk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,f=o>>2,h=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,b=l&63;c||(b=64,s||(g=64)),r.push(n[f],n[h],n[g],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Gk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||h==null)throw new ES;let g=o<<2|a>>4;if(r.push(g),l!==64){let b=a<<4&240|l>>2;if(r.push(b),h!==64){let I=l<<6&192|h;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ES=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},hW=function(t){let e=Gk(t);return Wk.encodeByteArray(e,!0)},xh=function(t){return hW(t).replace(/\./g,"")},SS=function(t){try{return Wk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var mW=()=>pW().__FIREBASE_DEFAULTS__,gW=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&SS(t[1]);return e&&JSON.parse(e)},p0=()=>{try{return mW()||gW()||yW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IS=t=>{var e,n;return(n=(e=p0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Kk=t=>{let e=IS(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xS=()=>{var t;return(t=p0())===null||t===void 0?void 0:t.config},TS=t=>{var e;return(e=p0())===null||e===void 0?void 0:e[`_${t}`]};var h0=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Qk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xh(JSON.stringify(n)),xh(JSON.stringify(s)),""].join(".")}function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function vW(){var t;let e=(t=p0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jk(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Xk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eO(){let t=An();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tO(){return!vW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AS(){try{return typeof indexedDB=="object"}catch{return!1}}function nO(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var _W="FirebaseError",Kr=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_W,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fs.prototype.create)}},fs=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?wW(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Kr(i,a,r)}};function wW(t,e){return t.replace(bW,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var bW=/\{\$([^}]+)}/g;function rO(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wc(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(zk(o)&&zk(s)){if(!Wc(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function zk(t){return t!==null&&typeof t=="object"}function Th(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qu(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function zu(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function iO(t,e){let n=new CS(t,e);return n.subscribe.bind(n)}var CS=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EW(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=bS),i.error===void 0&&(i.error=bS),i.complete===void 0&&(i.complete=bS);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function EW(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bS(){}var zpe=4*60*60*1e3;function rn(t){return t&&t._delegate?t._delegate:t}var yi=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Kc="[DEFAULT]";var DS=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new h0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SW(e))try{this.getOrInitializeService({instanceIdentifier:Kc})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Kc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Kc){return this.instances.has(e)}getOptions(e=Kc){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Kc){return this.component?this.component.multipleInstances?e:Kc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function CW(t){return t===Kc?void 0:t}function SW(t){return t.instantiationMode==="EAGER"}var m0=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new DS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var IW=[],Xe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Xe||{}),xW={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},TW=Xe.INFO,AW={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},DW=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=AW[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ba=class{constructor(e){this.name=e,this._logLevel=TW,this._logHandler=DW,this._userLogHandler=null,IW.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}};var RW=(t,e)=>e.some(n=>t instanceof n),oO,sO;function MW(){return oO||(oO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PW(){return sO||(sO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var aO=new WeakMap,MS=new WeakMap,cO=new WeakMap,RS=new WeakMap,NS=new WeakMap;function NW(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Co(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&aO.set(n,t)}).catch(()=>{}),NS.set(e,t),e}function kW(t){if(MS.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});MS.set(t,e)}var PS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return MS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Co(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lO(t){PS=t(PS)}function OW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(g0(this),e,...n);return cO.set(r,e.sort?e.sort():[e]),Co(r)}:PW().includes(t)?function(...e){return t.apply(g0(this),e),Co(aO.get(this))}:function(...e){return Co(t.apply(g0(this),e))}}function FW(t){return typeof t=="function"?OW(t):(t instanceof IDBTransaction&&kW(t),RW(t,MW())?new Proxy(t,PS):t)}function Co(t){if(t instanceof IDBRequest)return NW(t);if(RS.has(t))return RS.get(t);let e=FW(t);return e!==t&&(RS.set(t,e),NS.set(e,t)),e}var g0=t=>NS.get(t);function dO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Co(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Co(s.result),c.oldVersion,c.newVersion,Co(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var LW=["get","getKey","getAll","getAllKeys","count"],VW=["put","add","delete","clear"],kS=new Map;function uO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kS.get(e))return kS.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=VW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LW.includes(n)))return;let o=function(s,...a){return w(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return kS.set(e,o),o}lO(t=>z(A({},t),{get:(e,n,r)=>uO(e,n)||t.get(e,n,r),has:(e,n)=>!!uO(e,n)||t.has(e,n)}));var FS=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BW(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function BW(t){let e=t.getComponent();return e?.type==="VERSION"}var LS="@firebase/app",fO="0.10.13";var hs=new ba("@firebase/app"),UW="@firebase/app-compat",jW="@firebase/analytics-compat",$W="@firebase/analytics",HW="@firebase/app-check-compat",qW="@firebase/app-check",zW="@firebase/auth",GW="@firebase/auth-compat",WW="@firebase/database",KW="@firebase/data-connect",QW="@firebase/database-compat",YW="@firebase/functions",ZW="@firebase/functions-compat",JW="@firebase/installations",XW="@firebase/installations-compat",eK="@firebase/messaging",tK="@firebase/messaging-compat",nK="@firebase/performance",rK="@firebase/performance-compat",iK="@firebase/remote-config",oK="@firebase/remote-config-compat",sK="@firebase/storage",aK="@firebase/storage-compat",cK="@firebase/firestore",lK="@firebase/vertexai-preview",uK="@firebase/firestore-compat",dK="firebase",fK="10.14.1";var VS="[DEFAULT]",hK={[LS]:"fire-core",[UW]:"fire-core-compat",[$W]:"fire-analytics",[jW]:"fire-analytics-compat",[qW]:"fire-app-check",[HW]:"fire-app-check-compat",[zW]:"fire-auth",[GW]:"fire-auth-compat",[WW]:"fire-rtdb",[KW]:"fire-data-connect",[QW]:"fire-rtdb-compat",[YW]:"fire-fn",[ZW]:"fire-fn-compat",[JW]:"fire-iid",[XW]:"fire-iid-compat",[eK]:"fire-fcm",[tK]:"fire-fcm-compat",[nK]:"fire-perf",[rK]:"fire-perf-compat",[iK]:"fire-rc",[oK]:"fire-rc-compat",[sK]:"fire-gcs",[aK]:"fire-gcs-compat",[cK]:"fire-fst",[uK]:"fire-fst-compat",[lK]:"fire-vertex","fire-js":"fire-js",[dK]:"fire-js-all"};var Ah=new Map,pK=new Map,BS=new Map;function hO(t,e){try{t.container.addComponent(e)}catch(n){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ca(t){let e=t.name;if(BS.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;BS.set(e,t);for(let n of Ah.values())hO(n,t);for(let n of pK.values())hO(n,t);return!0}function Rh(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hi(t){return t.settings!==void 0}var mK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ea=new fs("app","Firebase",mK);var US=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ea.create("app-deleted",{appName:this._name})}};var Sa=fK;function HS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:VS,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ea.create("bad-app-name",{appName:String(i)});if(n||(n=xS()),!n)throw Ea.create("no-options");let o=Ah.get(i);if(o){if(Wc(n,o.options)&&Wc(r,o.config))return o;throw Ea.create("duplicate-app",{appName:i})}let s=new m0(i);for(let c of BS.values())s.addComponent(c);let a=new US(n,r,s);return Ah.set(i,a),a}function Gu(t=VS){let e=Ah.get(t);if(!e&&t===VS&&xS())return HS();if(!e)throw Ea.create("no-app",{appName:t});return e}function y0(){return Array.from(Ah.values())}function bn(t,e,n){var r;let i=(r=hK[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(a.join(" "));return}Ca(new yi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var gK="firebase-heartbeat-database",yK=1,Dh="firebase-heartbeat-store",OS=null;function yO(){return OS||(OS=dO(gK,yK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Dh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ea.create("idb-open",{originalErrorMessage:t.message})})),OS}function vK(t){return w(this,null,function*(){try{let n=(yield yO()).transaction(Dh),r=yield n.objectStore(Dh).get(vO(t));return yield n.done,r}catch(e){if(e instanceof Kr)hs.warn(e.message);else{let n=Ea.create("idb-get",{originalErrorMessage:e?.message});hs.warn(n.message)}}})}function pO(t,e){return w(this,null,function*(){try{let r=(yield yO()).transaction(Dh,"readwrite");yield r.objectStore(Dh).put(e,vO(t)),yield r.done}catch(n){if(n instanceof Kr)hs.warn(n.message);else{let r=Ea.create("idb-set",{originalErrorMessage:n?.message});hs.warn(r.message)}}})}function vO(t){return`${t.name}!${t.options.appId}`}var _K=1024,wK=30*24*60*60*1e3,jS=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new $S(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=mO();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=wK}),this._storage.overwrite(this._heartbeatsCache))}catch(r){hs.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=mO(),{heartbeatsToSend:r,unsentEntries:i}=bK(this._heartbeatsCache.heartbeats),o=xh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return hs.warn(n),""}})}};function mO(){return new Date().toISOString().substring(0,10)}function bK(t,e=_K){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),gO(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var $S=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return AS()?nO().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield vK(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return pO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return pO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function gO(t){return xh(JSON.stringify({version:2,heartbeats:t})).length}function EK(t){Ca(new yi("platform-logger",e=>new FS(e),"PRIVATE")),Ca(new yi("heartbeat",e=>new jS(e),"PRIVATE")),bn(LS,fO,t),bn(LS,fO,"esm2017"),bn("fire-js","")}EK("");var CK="firebase",SK="10.14.1";bn(CK,SK,"app");var Yc=new Yo("ANGULARFIRE2_VERSION");function _0(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Mh=(t,e)=>{let n=e?[e]:y0(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ku=class{constructor(){return Mh(IK)}},IK="app-check";function Wu(){}var v0=class{zone;delegate;constructor(e,n=gb){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},qS=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wu,{},Wu,Wu)),n.pipe(yn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Qu=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new v0(Zone.current)),this.insideAngular=n.run(()=>new v0(Zone.current,mb)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Se(pt))};static \u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function w0(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function xK(t){return w0().ngZone.runOutsideAngular(()=>t())}function Qc(t){return w0().ngZone.run(()=>t())}function TK(t){return AK(w0())(t)}function AK(t){return function(n){return n=n.lift(new qS(t.ngZone)),n.pipe(ea(t.outsideAngular),Xs(t.insideAngular))}}var DK=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Qc(()=>t.apply(void 0,r))},Dn=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Qc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wu,{},Wu,Wu))),r[o]=DK(r[o],n));let i=xK(()=>t.apply(this,r));if(!e)if(i instanceof Qe){let o=w0();return i.pipe(ea(o.outsideAngular),Xs(o.insideAngular))}else return Qc(()=>i);return i instanceof Qe?i.pipe(TK):i instanceof Promise?Qc(()=>new Promise((o,s)=>i.then(a=>Qc(()=>o(a)),a=>Qc(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Qc(()=>i)};var ps=class{constructor(e){return e}},Zc=class{constructor(){return y0()}};function RK(t){return t&&t.length===1?t[0]:new ps(Gu())}var zS=new pe("angularfire2._apps"),MK={provide:ps,useFactory:RK,deps:[[new dr,zS]]},PK={provide:Zc,deps:[[new dr,zS]]};function NK(t){return(e,n)=>{let r=n.get(yo);bn("angularfire",Yc.full,"core"),bn("angularfire",Yc.full,"app"),bn("angular",GP.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ps(i)}}function _O(t,...e){return go([MK,PK,{provide:zS,useFactory:NK(t),multi:!0,deps:[pt,xr,Qu,...e]}])}var wO=Dn(HS,!0);function LO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var VO=LO,BO=new fs("auth","Firebase",LO());var x0=new ba("@firebase/auth");function kK(t,...e){x0.logLevel<=Xe.WARN&&x0.warn(`Auth (${Sa}): ${t}`,...e)}function E0(t,...e){x0.logLevel<=Xe.ERROR&&x0.error(`Auth (${Sa}): ${t}`,...e)}function Io(t,...e){throw pI(t,...e)}function Jc(t,...e){return pI(t,...e)}function UO(t,e,n){let r=Object.assign(Object.assign({},VO()),{[e]:n});return new fs("auth","Firebase",r).create(e,{appName:t.name})}function ys(t){return UO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pI(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BO.create(t,...e)}function Ee(t,e,...n){if(!t)throw pI(e,...n)}function ms(t){let e="INTERNAL ASSERTION FAILED: "+t;throw E0(e),new Error(e)}function xa(t,e){t||ms(e)}function QS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function OK(){return bO()==="http:"||bO()==="https:"}function bO(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function FK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OK()||Jk()||"connection"in navigator)?navigator.onLine:!0}function LK(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Xc=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,xa(n>e,"Short delay should be less than long delay!"),this.isMobile=Yk()||Xk()}get(){return FK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function mI(t,e){xa(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var T0=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var VK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var BK=new Xc(3e4,6e4);function vs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function _s(o,s,a,c){return w(this,arguments,function*(t,e,n,r,i={}){return jO(t,i,()=>w(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let h=Th(Object.assign({key:t.config.apiKey},f)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let b=Object.assign({method:e,headers:g},l);return Zk()||(b.referrerPolicy="no-referrer"),T0.fetch()($O(t,t.config.apiHost,n,h),b)}))})}function jO(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},VK),e);try{let i=new YS(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw b0(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw b0(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw b0(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw b0(t,"user-disabled",s);let f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw UO(t,f,l);Io(t,f)}}catch(i){if(i instanceof Kr)throw i;Io(t,"network-request-failed",{message:String(i)})}})}function Bh(o,s,a,c){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield _s(t,e,n,r,i);return"mfaPendingCredential"in l&&Io(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function $O(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?mI(t.config,i):`${t.config.apiScheme}://${i}`}function UK(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var YS=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jc(this.auth,"network-request-failed")),BK.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function b0(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Jc(t,e,r);return i.customData._tokenResponse=n,i}function EO(t){return t!==void 0&&t.enterprise!==void 0}var ZS=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return UK(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function jK(t,e){return w(this,null,function*(){return _s(t,"GET","/v2/recaptchaConfig",vs(t,e))})}function $K(t,e){return w(this,null,function*(){return _s(t,"POST","/v1/accounts:delete",e)})}function HO(t,e){return w(this,null,function*(){return _s(t,"POST","/v1/accounts:lookup",e)})}function Ph(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function gI(t,e=!1){return w(this,null,function*(){let n=rn(t),r=yield n.getIdToken(e),i=yI(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ph(GS(i.auth_time)),issuedAtTime:Ph(GS(i.iat)),expirationTime:Ph(GS(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function GS(t){return Number(t)*1e3}function yI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return E0("JWT malformed, contained fewer than 3 sections"),null;try{let i=SS(n);return i?JSON.parse(i):(E0("Failed to decode base64 JWT payload"),null)}catch(i){return E0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function CO(t){let e=yI(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function kh(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Kr&&HK(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function HK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var JS=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Oh=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ph(this.lastLoginAt),this.creationTime=Ph(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function A0(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield kh(t,HO(n,{idToken:r}));Ee(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?qO(o.providerUserInfo):[],a=qK(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,f=c?l:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Oh(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,h)})}function vI(t){return w(this,null,function*(){let e=rn(t);yield A0(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function qK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qO(t){return t.map(e=>{var{providerId:n}=e,r=yb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function zK(t,e){return w(this,null,function*(){let n=yield jO(t,{},()=>w(this,null,function*(){let r=Th({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=$O(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",T0.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function GK(t,e){return w(this,null,function*(){return _s(t,"POST","/v2/accounts:revokeToken",vs(t,e))})}var Nh=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");let n=CO(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield zK(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ms("not implemented")}};function Ia(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Yu=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=yb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Oh(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield kh(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return gI(this,e)}reload(){return vI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield A0(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Hi(this.auth.app))return Promise.reject(ys(this.auth));let e=yield this.getIdToken();return yield kh(this,$K(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,f;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,b=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,I=(s=n.photoURL)!==null&&s!==void 0?s:void 0,O=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,$=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Y=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:oe,emailVerified:se,isAnonymous:Te,providerData:ge,stsTokenManager:F}=n;Ee(oe&&F,e,"internal-error");let R=Nh.fromJSON(this.name,F);Ee(typeof oe=="string",e,"internal-error"),Ia(h,e.name),Ia(g,e.name),Ee(typeof se=="boolean",e,"internal-error"),Ee(typeof Te=="boolean",e,"internal-error"),Ia(b,e.name),Ia(I,e.name),Ia(O,e.name),Ia(N,e.name),Ia($,e.name),Ia(Y,e.name);let M=new t({uid:oe,auth:e,email:g,emailVerified:se,displayName:h,isAnonymous:Te,photoURL:I,phoneNumber:b,tenantId:O,stsTokenManager:R,createdAt:$,lastLoginAt:Y});return ge&&Array.isArray(ge)&&(M.providerData=ge.map(k=>Object.assign({},k))),N&&(M._redirectEventId=N),M}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Nh;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield A0(o),o})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];Ee(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?qO(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Nh;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Oh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var SO=new Map;function gs(t){xa(t instanceof Function,"Expected a class definition");let e=SO.get(t);return e?(xa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SO.set(t,e),e)}var WK=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),XS=WK;function C0(t,e,n){return`firebase:${t}:${e}:${n}`}var D0=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=C0(this.userKey,i.apiKey,o),this.fullPersistenceKey=C0("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Yu._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(gs(XS),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||gs(XS),s=C0(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let f=yield l._get(s);if(f){let h=Yu._fromJSON(e,f);l!==o&&(a=h),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function IO(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YO(e))return"Blackberry";if(ZO(e))return"Webos";if(GO(e))return"Safari";if((e.includes("chrome/")||WO(e))&&!e.includes("edge/"))return"Chrome";if(QO(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function zO(t=An()){return/firefox\//i.test(t)}function GO(t=An()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WO(t=An()){return/crios\//i.test(t)}function KO(t=An()){return/iemobile/i.test(t)}function QO(t=An()){return/android/i.test(t)}function YO(t=An()){return/blackberry/i.test(t)}function ZO(t=An()){return/webos/i.test(t)}function _I(t=An()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KK(t=An()){var e;return _I(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QK(){return eO()&&document.documentMode===10}function JO(t=An()){return _I(t)||QO(t)||ZO(t)||YO(t)||/windows phone/i.test(t)||KO(t)}function XO(t,e=[]){let n;switch(t){case"Browser":n=IO(An());break;case"Worker":n=`${IO(An())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sa}/${r}`}var eI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function YK(n){return w(this,arguments,function*(t,e={}){return _s(t,"GET","/v2/passwordPolicy",vs(t,e))})}var ZK=6,tI=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:ZK,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var nI=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R0(this),this.idTokenSubscription=new R0(this),this.beforeStateQueue=new eI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gs(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield D0.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield HO(this,{idToken:e}),r=yield Yu._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(Hi(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield A0(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=LK()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Hi(this.app))return Promise.reject(ys(this));let n=e?rn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Hi(this.app)?Promise.reject(ys(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Hi(this.app)?Promise.reject(ys(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(gs(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield YK(this),n=new tI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield GK(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&gs(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=yield D0.create(this,[gs(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&kK(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function tl(t){return rn(t)}var R0=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=iO(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var L0={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JK(t){L0=t}function eF(t){return L0.loadJS(t)}function XK(){return L0.recaptchaEnterpriseScript}function eQ(){return L0.gapiScript}function tF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var tQ="recaptcha-enterprise",nQ="NO_RECAPTCHA",rI=class{constructor(e){this.type=tQ,this.auth=tl(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(o){return w(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>w(this,null,function*(){jK(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new ZS(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;EO(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(nQ)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&EO(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=XK();c.length!==0&&(c+=a),eF(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function xO(t,e,n,r=!1){return w(this,null,function*(){let i=new rI(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function iI(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield xO(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>w(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield xO(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function wI(t,e){let n=Rh(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Wc(o,e??{}))return i;Io(i,"already-initialized")}return n.initialize({options:e})}function rQ(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(gs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function bI(t,e,n){let r=tl(t);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=nF(e),{host:s,port:a}=iQ(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||oQ()}function nF(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iQ(t){let e=nF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:TO(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:TO(s)}}}function TO(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function oQ(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Fh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,n){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}};function sQ(t,e){return w(this,null,function*(){return _s(t,"POST","/v1/accounts:signUp",e)})}function aQ(t,e){return w(this,null,function*(){return Bh(t,"POST","/v1/accounts:signInWithPassword",vs(t,e))})}function cQ(t,e){return w(this,null,function*(){return _s(t,"POST","/v1/accounts:sendOobCode",vs(t,e))})}function lQ(t,e){return w(this,null,function*(){return cQ(t,e)})}function uQ(t,e){return w(this,null,function*(){return Bh(t,"POST","/v1/accounts:signInWithEmailLink",vs(t,e))})}function dQ(t,e){return w(this,null,function*(){return Bh(t,"POST","/v1/accounts:signInWithEmailLink",vs(t,e))})}var Lh=class t extends Fh{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iI(e,n,"signInWithPassword",aQ);case"emailLink":return uQ(e,{email:this._email,oobCode:this._password});default:Io(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iI(e,r,"signUpPassword",sQ);case"emailLink":return dQ(e,{idToken:n,email:this._email,oobCode:this._password});default:Io(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function WS(t,e){return w(this,null,function*(){return Bh(t,"POST","/v1/accounts:signInWithIdp",vs(t,e))})}function fQ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hQ(t){let e=qu(zu(t)).link,n=e?qu(zu(e)).deep_link_id:null,r=qu(zu(t)).deep_link_id;return(r?qu(zu(r)).link:null)||r||n||e||t}var M0=class t{constructor(e){var n,r,i,o,s,a;let c=qu(zu(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,h=fQ((i=c.mode)!==null&&i!==void 0?i:null);Ee(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=hQ(e);try{return new t(n)}catch{return null}}};var rF=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Lh._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=M0.parseLink(r);return Ee(i,"argument-error"),Lh._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),P0=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var oI=class extends P0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function pQ(t,e){return w(this,null,function*(){return Bh(t,"POST","/v1/accounts:signUp",vs(t,e))})}var Zu=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let o=yield Yu._fromIdTokenResponse(e,r,i),s=AO(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=AO(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function AO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var sI=class t extends Kr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function iF(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?sI._fromErrorAndOperation(t,o,e,r):o})}function mQ(t,e,n=!1){return w(this,null,function*(){let r=yield kh(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Zu._forOperation(t,"link",r)})}function gQ(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(Hi(r.app))return Promise.reject(ys(r));let i="reauthenticate";try{let o=yield kh(t,iF(r,i,e,t),n);Ee(o.idToken,r,"internal-error");let s=yI(o.idToken);Ee(s,r,"internal-error");let{sub:a}=s;return Ee(t.uid===a,r,"user-mismatch"),Zu._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Io(r,"user-mismatch"),o}})}function oF(t,e,n=!1){return w(this,null,function*(){if(Hi(t.app))return Promise.reject(ys(t));let r="signIn",i=yield iF(t,r,e),o=yield Zu._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function EI(t,e){return w(this,null,function*(){return oF(tl(t),e)})}function yQ(t,e,n){var r;Ee(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Ee(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ee(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Ee(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function sF(t){return w(this,null,function*(){let e=tl(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function CI(t,e,n){return w(this,null,function*(){if(Hi(t.app))return Promise.reject(ys(t));let r=tl(t),s=yield iI(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pQ).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&sF(t),c}),a=yield Zu._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function SI(t,e,n){return Hi(t.app)?Promise.reject(ys(t)):EI(rn(t),rF.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&sF(t),r}))}function II(t,e){return w(this,null,function*(){let n=rn(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&yQ(n.auth,i,e);let{email:o}=yield lQ(n.auth,i);o!==t.email&&(yield t.reload())})}function xI(t,e,n,r){return rn(t).onIdTokenChanged(e,n,r)}function TI(t,e,n){return rn(t).beforeAuthStateChanged(e,n)}var N0="__sak";var k0=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(N0,"1"),this.storage.removeItem(N0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var vQ=1e3,_Q=10,wQ=(()=>{class t extends k0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JO(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);QK()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,_Q):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},vQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield ao(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield ao(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield ao(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),aF=wQ;var bQ=(()=>{class t extends k0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),AI=bQ;function EQ(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var CQ=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(f=>w(this,null,function*(){return f(r.origin,s)})),l=yield EQ(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function cF(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var aI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=cF("",20);i.port1.start();let f=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){let g=h;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(f),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function So(){return window}function SQ(t){So().location.href=t}function lF(){return typeof So().WorkerGlobalScope<"u"&&typeof So().importScripts=="function"}function IQ(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function xQ(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TQ(){return lF()?self:null}var uF="firebaseLocalStorageDb",AQ=1,O0="firebaseLocalStorage",dF="fbase_key",el=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function V0(t,e){return t.transaction([O0],e?"readwrite":"readonly").objectStore(O0)}function DQ(){let t=indexedDB.deleteDatabase(uF);return new el(t).toPromise()}function cI(){let t=indexedDB.open(uF,AQ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(O0,{keyPath:dF})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(O0)?e(r):(r.close(),yield DQ(),e(yield cI()))}))})}function DO(t,e,n){return w(this,null,function*(){let r=V0(t,!0).put({[dF]:e,value:n});return new el(r).toPromise()})}function RQ(t,e){return w(this,null,function*(){let n=V0(t,!1).get(e),r=yield new el(n).toPromise();return r===void 0?null:r.value})}function RO(t,e){let n=V0(t,!0).delete(e);return new el(n).toPromise()}var MQ=800,PQ=3,NQ=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield cI(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>PQ)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return lF()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=CQ._getInstance(TQ()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield IQ(),!this.activeServiceWorker)return;this.sender=new aI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||xQ()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield cI();return yield DO(n,N0,"1"),yield RO(n,N0),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>DO(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>RQ(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>RO(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(o=>{let s=V0(o,!1).getAll();return new el(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),MQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),fF=NQ;var Vme=tF("rcb"),Bme=new Xc(3e4,6e4);function kQ(t,e){return e?gs(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Vh=class extends Fh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return WS(e,this._buildIdpRequest())}_linkToIdToken(e,n){return WS(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return WS(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function OQ(t){return oF(t.auth,new Vh(t),t.bypassAuthState)}function FQ(t){let{auth:e,user:n}=t;return Ee(n,e,"internal-error"),gQ(n,new Vh(t),t.bypassAuthState)}function LQ(t){return w(this,null,function*(){let{auth:e,user:n}=t;return Ee(n,e,"internal-error"),mQ(n,new Vh(t),t.bypassAuthState)})}var lI=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OQ;case"linkViaPopup":case"linkViaRedirect":return LQ;case"reauthViaPopup":case"reauthViaRedirect":return FQ;default:Io(this.auth,"internal-error")}}resolve(e){xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Ume=new Xc(2e3,1e4);var VQ="pendingRedirect",S0=new Map,uI=class t extends lI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=S0.get(this.auth._key());if(!e){try{let r=(yield BQ(this.resolver,this.auth))?yield ao(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}S0.set(this.auth._key(),e)}return this.bypassAuthState||S0.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return ao(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,ao(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function BQ(t,e){return w(this,null,function*(){let n=$Q(e),r=jQ(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function UQ(t,e){S0.set(t._key(),e)}function jQ(t){return gs(t._redirectPersistence)}function $Q(t){return C0(VQ,t.config.apiKey,t.name)}function HQ(t,e,n=!1){return w(this,null,function*(){if(Hi(t.app))return Promise.reject(ys(t));let r=tl(t),i=kQ(r,e),s=yield new uI(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var qQ=10*60*1e3,dI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hF(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jc(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(MO(e))}saveEventToCache(e){this.cachedEventUids.add(MO(e)),this.lastProcessedEventTime=Date.now()}};function MO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hF({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function zQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hF(t);default:return!1}}function GQ(n){return w(this,arguments,function*(t,e={}){return _s(t,"GET","/v1/projects",e)})}var WQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KQ=/^https?/;function QQ(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield GQ(t);for(let n of e)try{if(YQ(n))return}catch{}Io(t,"unauthorized-domain")})}function YQ(t){let e=QS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!KQ.test(n))return!1;if(WQ.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var ZQ=new Xc(3e4,6e4);function PO(){let t=So().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JQ(t){return new Promise((e,n)=>{var r,i,o;function s(){PO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PO(),n(Jc(t,"network-request-failed"))},timeout:ZQ.get()})}if(!((i=(r=So().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=So().gapi)===null||o===void 0)&&o.load)s();else{let a=tF("iframefcb");return So()[a]=()=>{gapi.load?s():n(Jc(t,"network-request-failed"))},eF(`${eQ()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw I0=null,e})}var I0=null;function XQ(t){return I0=I0||JQ(t),I0}var eY=new Xc(5e3,15e3),tY="__/auth/iframe",nY="emulator/auth/iframe",rY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oY(t){let e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?mI(e,nY):`https://${t.config.authDomain}/${tY}`,r={apiKey:e.apiKey,appName:t.name,v:Sa},i=iY.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Th(r).slice(1)}`}function sY(t){return w(this,null,function*(){let e=yield XQ(t),n=So().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:oY(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rY,dontclear:!0},r=>new Promise((i,o)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Jc(t,"network-request-failed"),a=So().setTimeout(()=>{o(s)},eY.get());function c(){So().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var aY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cY=500,lY=600,uY="_blank",dY="http://localhost",F0=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function fY(t,e,n,r=cY,i=lY){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},aY),{width:r.toString(),height:i.toString(),top:o,left:s}),l=An().toLowerCase();n&&(a=WO(l)?uY:n),zO(l)&&(e=e||dY,c.scrollbars="yes");let f=Object.entries(c).reduce((g,[b,I])=>`${g}${b}=${I},`,"");if(KK(l)&&a!=="_self")return hY(e||"",a),new F0(null);let h=window.open(e||"",a,f);Ee(h,t,"popup-blocked");try{h.focus()}catch{}return new F0(h)}function hY(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var pY="__/auth/handler",mY="emulator/auth/handler",gY=encodeURIComponent("fac");function NO(t,e,n,r,i,o){return w(this,null,function*(){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sa,eventId:i};if(e instanceof P0){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",rO(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,h]of Object.entries(o||{}))s[f]=h}if(e instanceof oI){let f=e.getScopes().filter(h=>h!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let c=yield t._getAppCheckToken(),l=c?`#${gY}=${encodeURIComponent(c)}`:"";return`${yY(t)}?${Th(a).slice(1)}${l}`})}function yY({config:t}){return t.emulator?mI(t,mY):`https://${t.authDomain}/${pY}`}var KS="webStorageSupport",fI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AI,this._completeRedirectFn=HQ,this._overrideRedirectResult=UQ}_openPopup(e,n,r,i){return w(this,null,function*(){var o;xa((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield NO(e,n,r,QS(),i);return fY(e,s,cF())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield NO(e,n,r,QS(),i);return SQ(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(xa(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield sY(e),r=new dI(e);return n.register("authEvent",i=>(Ee(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(KS,{type:KS},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[KS];s!==void 0&&n(!!s),Io(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JO()||GO()||_I()}},pF=fI;var kO="@firebase/auth",OO="1.7.9";var hI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function vY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _Y(t){Ca(new yi("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XO(t)},l=new nI(r,i,o,c);return rQ(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ca(new yi("auth-internal",e=>{let n=tl(e.getProvider("auth").getImmediate());return(r=>new hI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bn(kO,OO,vY(t)),bn(kO,OO,"esm2017")}var wY=5*60,bY=TS("authIdTokenMaxAge")||wY,FO=null,EY=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bY)return;let i=n?.token;FO!==i&&(FO=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function DI(t=Gu()){let e=Rh(t,"auth");if(e.isInitialized())return e.getImmediate();let n=wI(t,{popupRedirectResolver:pF,persistence:[fF,aF,AI]}),r=TS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=EY(o.toString());TI(n,s,()=>s(n.currentUser)),xI(n,a=>s(a))}}let i=IS("auth");return i&&bI(n,`http://${i}`),n}function CY(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}JK({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Jc("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",CY().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_Y("Browser");var mF="auth",Qr=class{constructor(e){return e}},Uh=class{constructor(){return Mh(mF)}};var RI=new pe("angularfire2.auth-instances");function hZ(t,e){let n=_0(mF,t,e);return n&&new Qr(n)}function pZ(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Qr(r)}}var mZ={provide:Uh,deps:[[new dr,RI]]},gZ={provide:Qr,useFactory:hZ,deps:[[new dr,RI],ps]};function gF(t,...e){return bn("angularfire",Yc.full,"auth"),go([gZ,mZ,{provide:RI,useFactory:pZ(t),multi:!0,deps:[pt,xr,Qu,Zc,[new dr,Ku],...e]}])}var Ju=Dn(CI,!0);var yF=Dn(DI,!0);var Xu=Dn(II,!0);var vF=Dn(SI,!0);var _F=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wF={};var Ta,MI;(function(){var t;function e(F,R){function M(){}M.prototype=R.prototype,F.D=R.prototype,F.prototype=new M,F.prototype.constructor=F,F.C=function(k,L,V){for(var P=Array(arguments.length-2),Si=2;Si<arguments.length;Si++)P[Si-2]=arguments[Si];return R.prototype[L].apply(k,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(F,R,M){M||(M=0);var k=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)k[L]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(L=0;16>L;++L)k[L]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=F.g[0],M=F.g[1],L=F.g[2];var V=F.g[3],P=R+(V^M&(L^V))+k[0]+3614090360&4294967295;R=M+(P<<7&4294967295|P>>>25),P=V+(L^R&(M^L))+k[1]+3905402710&4294967295,V=R+(P<<12&4294967295|P>>>20),P=L+(M^V&(R^M))+k[2]+606105819&4294967295,L=V+(P<<17&4294967295|P>>>15),P=M+(R^L&(V^R))+k[3]+3250441966&4294967295,M=L+(P<<22&4294967295|P>>>10),P=R+(V^M&(L^V))+k[4]+4118548399&4294967295,R=M+(P<<7&4294967295|P>>>25),P=V+(L^R&(M^L))+k[5]+1200080426&4294967295,V=R+(P<<12&4294967295|P>>>20),P=L+(M^V&(R^M))+k[6]+2821735955&4294967295,L=V+(P<<17&4294967295|P>>>15),P=M+(R^L&(V^R))+k[7]+4249261313&4294967295,M=L+(P<<22&4294967295|P>>>10),P=R+(V^M&(L^V))+k[8]+1770035416&4294967295,R=M+(P<<7&4294967295|P>>>25),P=V+(L^R&(M^L))+k[9]+2336552879&4294967295,V=R+(P<<12&4294967295|P>>>20),P=L+(M^V&(R^M))+k[10]+4294925233&4294967295,L=V+(P<<17&4294967295|P>>>15),P=M+(R^L&(V^R))+k[11]+2304563134&4294967295,M=L+(P<<22&4294967295|P>>>10),P=R+(V^M&(L^V))+k[12]+1804603682&4294967295,R=M+(P<<7&4294967295|P>>>25),P=V+(L^R&(M^L))+k[13]+4254626195&4294967295,V=R+(P<<12&4294967295|P>>>20),P=L+(M^V&(R^M))+k[14]+2792965006&4294967295,L=V+(P<<17&4294967295|P>>>15),P=M+(R^L&(V^R))+k[15]+1236535329&4294967295,M=L+(P<<22&4294967295|P>>>10),P=R+(L^V&(M^L))+k[1]+4129170786&4294967295,R=M+(P<<5&4294967295|P>>>27),P=V+(M^L&(R^M))+k[6]+3225465664&4294967295,V=R+(P<<9&4294967295|P>>>23),P=L+(R^M&(V^R))+k[11]+643717713&4294967295,L=V+(P<<14&4294967295|P>>>18),P=M+(V^R&(L^V))+k[0]+3921069994&4294967295,M=L+(P<<20&4294967295|P>>>12),P=R+(L^V&(M^L))+k[5]+3593408605&4294967295,R=M+(P<<5&4294967295|P>>>27),P=V+(M^L&(R^M))+k[10]+38016083&4294967295,V=R+(P<<9&4294967295|P>>>23),P=L+(R^M&(V^R))+k[15]+3634488961&4294967295,L=V+(P<<14&4294967295|P>>>18),P=M+(V^R&(L^V))+k[4]+3889429448&4294967295,M=L+(P<<20&4294967295|P>>>12),P=R+(L^V&(M^L))+k[9]+568446438&4294967295,R=M+(P<<5&4294967295|P>>>27),P=V+(M^L&(R^M))+k[14]+3275163606&4294967295,V=R+(P<<9&4294967295|P>>>23),P=L+(R^M&(V^R))+k[3]+4107603335&4294967295,L=V+(P<<14&4294967295|P>>>18),P=M+(V^R&(L^V))+k[8]+1163531501&4294967295,M=L+(P<<20&4294967295|P>>>12),P=R+(L^V&(M^L))+k[13]+2850285829&4294967295,R=M+(P<<5&4294967295|P>>>27),P=V+(M^L&(R^M))+k[2]+4243563512&4294967295,V=R+(P<<9&4294967295|P>>>23),P=L+(R^M&(V^R))+k[7]+1735328473&4294967295,L=V+(P<<14&4294967295|P>>>18),P=M+(V^R&(L^V))+k[12]+2368359562&4294967295,M=L+(P<<20&4294967295|P>>>12),P=R+(M^L^V)+k[5]+4294588738&4294967295,R=M+(P<<4&4294967295|P>>>28),P=V+(R^M^L)+k[8]+2272392833&4294967295,V=R+(P<<11&4294967295|P>>>21),P=L+(V^R^M)+k[11]+1839030562&4294967295,L=V+(P<<16&4294967295|P>>>16),P=M+(L^V^R)+k[14]+4259657740&4294967295,M=L+(P<<23&4294967295|P>>>9),P=R+(M^L^V)+k[1]+2763975236&4294967295,R=M+(P<<4&4294967295|P>>>28),P=V+(R^M^L)+k[4]+1272893353&4294967295,V=R+(P<<11&4294967295|P>>>21),P=L+(V^R^M)+k[7]+4139469664&4294967295,L=V+(P<<16&4294967295|P>>>16),P=M+(L^V^R)+k[10]+3200236656&4294967295,M=L+(P<<23&4294967295|P>>>9),P=R+(M^L^V)+k[13]+681279174&4294967295,R=M+(P<<4&4294967295|P>>>28),P=V+(R^M^L)+k[0]+3936430074&4294967295,V=R+(P<<11&4294967295|P>>>21),P=L+(V^R^M)+k[3]+3572445317&4294967295,L=V+(P<<16&4294967295|P>>>16),P=M+(L^V^R)+k[6]+76029189&4294967295,M=L+(P<<23&4294967295|P>>>9),P=R+(M^L^V)+k[9]+3654602809&4294967295,R=M+(P<<4&4294967295|P>>>28),P=V+(R^M^L)+k[12]+3873151461&4294967295,V=R+(P<<11&4294967295|P>>>21),P=L+(V^R^M)+k[15]+530742520&4294967295,L=V+(P<<16&4294967295|P>>>16),P=M+(L^V^R)+k[2]+3299628645&4294967295,M=L+(P<<23&4294967295|P>>>9),P=R+(L^(M|~V))+k[0]+4096336452&4294967295,R=M+(P<<6&4294967295|P>>>26),P=V+(M^(R|~L))+k[7]+1126891415&4294967295,V=R+(P<<10&4294967295|P>>>22),P=L+(R^(V|~M))+k[14]+2878612391&4294967295,L=V+(P<<15&4294967295|P>>>17),P=M+(V^(L|~R))+k[5]+4237533241&4294967295,M=L+(P<<21&4294967295|P>>>11),P=R+(L^(M|~V))+k[12]+1700485571&4294967295,R=M+(P<<6&4294967295|P>>>26),P=V+(M^(R|~L))+k[3]+2399980690&4294967295,V=R+(P<<10&4294967295|P>>>22),P=L+(R^(V|~M))+k[10]+4293915773&4294967295,L=V+(P<<15&4294967295|P>>>17),P=M+(V^(L|~R))+k[1]+2240044497&4294967295,M=L+(P<<21&4294967295|P>>>11),P=R+(L^(M|~V))+k[8]+1873313359&4294967295,R=M+(P<<6&4294967295|P>>>26),P=V+(M^(R|~L))+k[15]+4264355552&4294967295,V=R+(P<<10&4294967295|P>>>22),P=L+(R^(V|~M))+k[6]+2734768916&4294967295,L=V+(P<<15&4294967295|P>>>17),P=M+(V^(L|~R))+k[13]+1309151649&4294967295,M=L+(P<<21&4294967295|P>>>11),P=R+(L^(M|~V))+k[4]+4149444226&4294967295,R=M+(P<<6&4294967295|P>>>26),P=V+(M^(R|~L))+k[11]+3174756917&4294967295,V=R+(P<<10&4294967295|P>>>22),P=L+(R^(V|~M))+k[2]+718787259&4294967295,L=V+(P<<15&4294967295|P>>>17),P=M+(V^(L|~R))+k[9]+3951481745&4294967295,F.g[0]=F.g[0]+R&4294967295,F.g[1]=F.g[1]+(L+(P<<21&4294967295|P>>>11))&4294967295,F.g[2]=F.g[2]+L&4294967295,F.g[3]=F.g[3]+V&4294967295}r.prototype.u=function(F,R){R===void 0&&(R=F.length);for(var M=R-this.blockSize,k=this.B,L=this.h,V=0;V<R;){if(L==0)for(;V<=M;)i(this,F,V),V+=this.blockSize;if(typeof F=="string"){for(;V<R;)if(k[L++]=F.charCodeAt(V++),L==this.blockSize){i(this,k),L=0;break}}else for(;V<R;)if(k[L++]=F[V++],L==this.blockSize){i(this,k),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var R=1;R<F.length-8;++R)F[R]=0;var M=8*this.o;for(R=F.length-8;R<F.length;++R)F[R]=M&255,M/=256;for(this.u(F),F=Array(16),R=M=0;4>R;++R)for(var k=0;32>k;k+=8)F[M++]=this.g[R]>>>k&255;return F};function o(F,R){var M=a;return Object.prototype.hasOwnProperty.call(M,F)?M[F]:M[F]=R(F)}function s(F,R){this.h=R;for(var M=[],k=!0,L=F.length-1;0<=L;L--){var V=F[L]|0;k&&V==R||(M[L]=V,k=!1)}this.g=M}var a={};function c(F){return-128<=F&&128>F?o(F,function(R){return new s([R|0],0>R?-1:0)}):new s([F|0],0>F?-1:0)}function l(F){if(isNaN(F)||!isFinite(F))return h;if(0>F)return N(l(-F));for(var R=[],M=1,k=0;F>=M;k++)R[k]=F/M|0,M*=4294967296;return new s(R,0)}function f(F,R){if(F.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(F.charAt(0)=="-")return N(f(F.substring(1),R));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=l(Math.pow(R,8)),k=h,L=0;L<F.length;L+=8){var V=Math.min(8,F.length-L),P=parseInt(F.substring(L,L+V),R);8>V?(V=l(Math.pow(R,V)),k=k.j(V).add(l(P))):(k=k.j(M),k=k.add(l(P)))}return k}var h=c(0),g=c(1),b=c(16777216);t=s.prototype,t.m=function(){if(O(this))return-N(this).m();for(var F=0,R=1,M=0;M<this.g.length;M++){var k=this.i(M);F+=(0<=k?k:4294967296+k)*R,R*=4294967296}return F},t.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(I(this))return"0";if(O(this))return"-"+N(this).toString(F);for(var R=l(Math.pow(F,6)),M=this,k="";;){var L=se(M,R).g;M=$(M,L.j(R));var V=((0<M.g.length?M.g[0]:M.h)>>>0).toString(F);if(M=L,I(M))return V+k;for(;6>V.length;)V="0"+V;k=V+k}},t.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function I(F){if(F.h!=0)return!1;for(var R=0;R<F.g.length;R++)if(F.g[R]!=0)return!1;return!0}function O(F){return F.h==-1}t.l=function(F){return F=$(this,F),O(F)?-1:I(F)?0:1};function N(F){for(var R=F.g.length,M=[],k=0;k<R;k++)M[k]=~F.g[k];return new s(M,~F.h).add(g)}t.abs=function(){return O(this)?N(this):this},t.add=function(F){for(var R=Math.max(this.g.length,F.g.length),M=[],k=0,L=0;L<=R;L++){var V=k+(this.i(L)&65535)+(F.i(L)&65535),P=(V>>>16)+(this.i(L)>>>16)+(F.i(L)>>>16);k=P>>>16,V&=65535,P&=65535,M[L]=P<<16|V}return new s(M,M[M.length-1]&-2147483648?-1:0)};function $(F,R){return F.add(N(R))}t.j=function(F){if(I(this)||I(F))return h;if(O(this))return O(F)?N(this).j(N(F)):N(N(this).j(F));if(O(F))return N(this.j(N(F)));if(0>this.l(b)&&0>F.l(b))return l(this.m()*F.m());for(var R=this.g.length+F.g.length,M=[],k=0;k<2*R;k++)M[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<F.g.length;L++){var V=this.i(k)>>>16,P=this.i(k)&65535,Si=F.i(L)>>>16,Ns=F.i(L)&65535;M[2*k+2*L]+=P*Ns,Y(M,2*k+2*L),M[2*k+2*L+1]+=V*Ns,Y(M,2*k+2*L+1),M[2*k+2*L+1]+=P*Si,Y(M,2*k+2*L+1),M[2*k+2*L+2]+=V*Si,Y(M,2*k+2*L+2)}for(k=0;k<R;k++)M[k]=M[2*k+1]<<16|M[2*k];for(k=R;k<2*R;k++)M[k]=0;return new s(M,0)};function Y(F,R){for(;(F[R]&65535)!=F[R];)F[R+1]+=F[R]>>>16,F[R]&=65535,R++}function oe(F,R){this.g=F,this.h=R}function se(F,R){if(I(R))throw Error("division by zero");if(I(F))return new oe(h,h);if(O(F))return R=se(N(F),R),new oe(N(R.g),N(R.h));if(O(R))return R=se(F,N(R)),new oe(N(R.g),R.h);if(30<F.g.length){if(O(F)||O(R))throw Error("slowDivide_ only works with positive integers.");for(var M=g,k=R;0>=k.l(F);)M=Te(M),k=Te(k);var L=ge(M,1),V=ge(k,1);for(k=ge(k,2),M=ge(M,2);!I(k);){var P=V.add(k);0>=P.l(F)&&(L=L.add(M),V=P),k=ge(k,1),M=ge(M,1)}return R=$(F,L.j(R)),new oe(L,R)}for(L=h;0<=F.l(R);){for(M=Math.max(1,Math.floor(F.m()/R.m())),k=Math.ceil(Math.log(M)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),V=l(M),P=V.j(R);O(P)||0<P.l(F);)M-=k,V=l(M),P=V.j(R);I(V)&&(V=g),L=L.add(V),F=$(F,P)}return new oe(L,F)}t.A=function(F){return se(this,F).h},t.and=function(F){for(var R=Math.max(this.g.length,F.g.length),M=[],k=0;k<R;k++)M[k]=this.i(k)&F.i(k);return new s(M,this.h&F.h)},t.or=function(F){for(var R=Math.max(this.g.length,F.g.length),M=[],k=0;k<R;k++)M[k]=this.i(k)|F.i(k);return new s(M,this.h|F.h)},t.xor=function(F){for(var R=Math.max(this.g.length,F.g.length),M=[],k=0;k<R;k++)M[k]=this.i(k)^F.i(k);return new s(M,this.h^F.h)};function Te(F){for(var R=F.g.length+1,M=[],k=0;k<R;k++)M[k]=F.i(k)<<1|F.i(k-1)>>>31;return new s(M,F.h)}function ge(F,R){var M=R>>5;R%=32;for(var k=F.g.length-M,L=[],V=0;V<k;V++)L[V]=0<R?F.i(V+M)>>>R|F.i(V+M+1)<<32-R:F.i(V+M);return new s(L,F.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,MI=wF.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Ta=wF.Integer=s}).apply(typeof _F<"u"?_F:typeof self<"u"?self:typeof window<"u"?window:{});var U0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ws={};var PI,yZ,ed,NI,jh,j0,kI,OI,FI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof U0=="object"&&U0];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(u,m){if(m)e:{var y=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in y))break e;y=y[U]}u=u[u.length-1],S=y[u],m=m(S),m!=S&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function o(u,m){u instanceof String&&(u+="");var y=0,S=!1,U={next:function(){if(!S&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(u){return u||function(){return o(this,function(m,y){return y})}});var s=s||{},a=this||self;function c(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function l(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function f(u,m,y){return u.call.apply(u.bind,arguments)}function h(u,m,y){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function g(u,m,y){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,g.apply(null,arguments)}function b(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function I(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(S,U,q){for(var ie=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)ie[ft-2]=arguments[ft];return m.prototype[U].apply(S,ie)}}function O(u){let m=u.length;if(0<m){let y=Array(m);for(let S=0;S<m;S++)y[S]=u[S];return y}return[]}function N(u,m){for(let y=1;y<arguments.length;y++){let S=arguments[y];if(c(S)){let U=u.length||0,q=S.length||0;u.length=U+q;for(let ie=0;ie<q;ie++)u[U+ie]=S[ie]}else u.push(S)}}class ${constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Y(u){return/^[\s\xa0]*$/.test(u)}function oe(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function se(u){return se[" "](u),u}se[" "]=function(){};var Te=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function ge(u,m,y){for(let S in u)m.call(y,u[S],S,u)}function F(u,m){for(let y in u)m.call(void 0,u[y],y,u)}function R(u){let m={};for(let y in u)m[y]=u[y];return m}let M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,m){let y,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(y in S)u[y]=S[y];for(let q=0;q<M.length;q++)y=M[q],Object.prototype.hasOwnProperty.call(S,y)&&(u[y]=S[y])}}function L(u){var m=1;u=u.split(":");let y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function V(u){a.setTimeout(()=>{throw u},0)}function P(){var u=Os;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Si{constructor(){this.h=this.g=null}add(m,y){let S=Ns.get();S.set(m,y),this.h?this.h.next=S:this.g=S,this.h=S}}var Ns=new $(()=>new Zd,u=>u.reset());class Zd{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ks,jo=!1,Os=new Si,Mr=()=>{let u=a.Promise.resolve(void 0);ks=()=>{u.then(Fs)}};var Fs=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(y){V(y)}var m=Ns;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}jo=!1};function Gn(){this.s=this.s,this.C=this.C}Gn.prototype.s=!1,Gn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Gn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Cn(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Cn.prototype.h=function(){this.defaultPrevented=!0};var Ls=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let y=()=>{};a.addEventListener("test",y,m),a.removeEventListener("test",y,m)}catch{}return u}();function Ii(u,m){if(Cn.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Te){e:{try{se(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:jp[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ii.aa.h.call(this)}}I(Ii,Cn);var jp={2:"touch",3:"pen",4:"mouse"};Ii.prototype.h=function(){Ii.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ji="closure_listenable_"+(1e6*Math.random()|0),Jd=0;function Mw(u,m,y,S,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!S,this.ha=U,this.key=++Jd,this.da=this.fa=!1}function Vs(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Bs(u){this.src=u,this.g={},this.h=0}Bs.prototype.add=function(u,m,y,S,U){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var ie=Xd(u,m,S,U);return-1<ie?(m=u[ie],y||(m.fa=!1)):(m=new Mw(m,this.src,q,!!S,U),m.fa=y,u.push(m)),m};function Us(u,m){var y=m.type;if(y in u.g){var S=u.g[y],U=Array.prototype.indexOf.call(S,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(S,U,1),q&&(Vs(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Xd(u,m,y,S){for(var U=0;U<u.length;++U){var q=u[U];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==S)return U}return-1}var Fn="closure_lm_"+(1e6*Math.random()|0),Pr={};function $p(u,m,y,S,U){if(S&&S.once)return ef(u,m,y,S,U);if(Array.isArray(m)){for(var q=0;q<m.length;q++)$p(u,m[q],y,S,U);return null}return y=Qt(y),u&&u[Ji]?u.K(m,y,l(S)?!!S.capture:!!S,U):Wn(u,m,y,!1,S,U)}function Wn(u,m,y,S,U,q){if(!m)throw Error("Invalid event type");var ie=l(U)?!!U.capture:!!U,ft=xi(u);if(ft||(u[Fn]=ft=new Bs(u)),y=ft.add(m,y,S,ie,q),y.proxy)return y;if(S=Dl(),y.proxy=S,S.src=u,S.listener=y,u.addEventListener)Ls||(U=ie),U===void 0&&(U=!1),u.addEventListener(m.toString(),S,U);else if(u.attachEvent)u.attachEvent(Nr(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Dl(){function u(y){return m.call(u.src,u.listener,y)}let m=Xi;return u}function ef(u,m,y,S,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)ef(u,m[q],y,S,U);return null}return y=Qt(y),u&&u[Ji]?u.L(m,y,l(S)?!!S.capture:!!S,U):Wn(u,m,y,!0,S,U)}function tf(u,m,y,S,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)tf(u,m[q],y,S,U);else S=l(S)?!!S.capture:!!S,y=Qt(y),u&&u[Ji]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=Xd(q,y,S,U),-1<y&&(Vs(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=xi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Xd(m,y,S,U)),(y=-1<u?m[u]:null)&&Ke(y))}function Ke(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ji])Us(m.i,u);else{var y=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(y,S,u.capture):m.detachEvent?m.detachEvent(Nr(y),S):m.addListener&&m.removeListener&&m.removeListener(S),(y=xi(m))?(Us(y,u),y.h==0&&(y.src=null,m[Fn]=null)):Vs(u)}}}function Nr(u){return u in Pr?Pr[u]:Pr[u]="on"+u}function Xi(u,m){if(u.da)u=!0;else{m=new Ii(m,this);var y=u.listener,S=u.ha||u.src;u.fa&&Ke(u),u=y.call(S,m)}return u}function xi(u){return u=u[Fn],u instanceof Bs?u:null}var Ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qt(u){return typeof u=="function"?u:(u[Ot]||(u[Ot]=function(m){return u.handleEvent(m)}),u[Ot])}function Yt(){Gn.call(this),this.i=new Bs(this),this.M=this,this.F=null}I(Yt,Gn),Yt.prototype[Ji]=!0,Yt.prototype.removeEventListener=function(u,m,y,S){tf(this,u,m,y,S)};function Sn(u,m){var y,S=u.F;if(S)for(y=[];S;S=S.F)y.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new Cn(m,u);else if(m instanceof Cn)m.target=m.target||u;else{var U=m;m=new Cn(S,u),k(m,U)}if(U=!0,y)for(var q=y.length-1;0<=q;q--){var ie=m.g=y[q];U=eo(ie,S,!0,m)&&U}if(ie=m.g=u,U=eo(ie,S,!0,m)&&U,U=eo(ie,S,!1,m)&&U,y)for(q=0;q<y.length;q++)ie=m.g=y[q],U=eo(ie,S,!1,m)&&U}Yt.prototype.N=function(){if(Yt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],S=0;S<y.length;S++)Vs(y[S]);delete u.g[m],u.h--}}this.F=null},Yt.prototype.K=function(u,m,y,S){return this.i.add(String(u),m,!1,y,S)},Yt.prototype.L=function(u,m,y,S){return this.i.add(String(u),m,!0,y,S)};function eo(u,m,y,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var ie=m[q];if(ie&&!ie.da&&ie.capture==y){var ft=ie.listener,fn=ie.ha||ie.src;ie.fa&&Us(u.i,ie),U=ft.call(fn,S)!==!1&&U}}return U&&!S.defaultPrevented}function Ln(u,m,y){if(typeof u=="function")y&&(u=g(u,y));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function Hp(u){u.g=Ln(()=>{u.g=null,u.i&&(u.i=!1,Hp(u))},u.l);let m=u.h;u.h=null,u.m.apply(null,m)}class qp extends Gn{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Hp(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(u){Gn.call(this),this.h=u,this.g={}}I(js,Gn);var Rl=[];function zp(u){ge(u.g,function(m,y){this.g.hasOwnProperty(y)&&Ke(m)},u),u.g={}}js.prototype.N=function(){js.aa.N.call(this),zp(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nf=a.JSON.stringify,Pw=a.JSON.parse,Nw=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Ti(){}Ti.prototype.h=null;function Gp(u){return u.h||(u.h=u.i())}function Wp(){}var Ya={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rf(){Cn.call(this,"d")}I(rf,Cn);function of(){Cn.call(this,"c")}I(of,Cn);var Ai={},Kp=null;function Ml(){return Kp=Kp||new Yt}Ai.La="serverreachability";function Qp(u){Cn.call(this,Ai.La,u)}I(Qp,Cn);function Za(u){let m=Ml();Sn(m,new Qp(m))}Ai.STAT_EVENT="statevent";function Yp(u,m){Cn.call(this,Ai.STAT_EVENT,u),this.stat=m}I(Yp,Cn);function dn(u){let m=Ml();Sn(m,new Yp(m,u))}Ai.Ma="timingevent";function Zp(u,m){Cn.call(this,Ai.Ma,u),this.size=m}I(Zp,Cn);function Ja(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function Xa(){this.g=!0}Xa.prototype.xa=function(){this.g=!1};function kw(u,m,y,S,U,q){u.info(function(){if(u.g)if(q)for(var ie="",ft=q.split("&"),fn=0;fn<ft.length;fn++){var nt=ft[fn].split("=");if(1<nt.length){var In=nt[0];nt=nt[1];var hn=In.split("_");ie=2<=hn.length&&hn[1]=="type"?ie+(In+"="+nt+"&"):ie+(In+"=redacted&")}}else ie=null;else ie=q;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+y+`
`+ie})}function Ow(u,m,y,S,U,q,ie){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+y+`
`+q+" "+ie})}function st(u,m,y,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lw(u,y)+(S?" "+S:"")})}function Fw(u,m){u.info(function(){return"TIMEOUT: "+m})}Xa.prototype.info=function(){};function Lw(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var S=y[u];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return nf(y)}catch{return m}}var Pl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sf;function Nl(){}I(Nl,Ti),Nl.prototype.g=function(){return new XMLHttpRequest},Nl.prototype.i=function(){return{}},sf=new Nl;function ri(u,m,y,S){this.j=u,this.i=m,this.l=y,this.R=S||1,this.U=new js(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $s}function $s(){this.i=null,this.g="",this.h=!1}var af={},Hs={};function Tt(u,m,y){u.L=1,u.v=Ol(ii(m)),u.m=y,u.P=!0,Xp(u,null)}function Xp(u,m){u.F=Date.now(),ec(u),u.A=ii(u.v);var y=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),mm(y.i,"t",S),u.C=0,y=u.j.J,u.h=new $s,u.g=Ef(u.j,y?m:null,!u.m),0<u.O&&(u.M=new qp(g(u.Y,u,u.g),u.O)),m=u.U,y=u.g,S=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Rl[0]=U.toString()),U=Rl);for(var q=0;q<U.length;q++){var ie=$p(y,U[q],S||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Za(),kw(u.i,u.u,u.A,u.l,u.R,u.m)}ri.prototype.ca=function(u){u=u.target;let m=this.M;m&&Ri(u)==3?m.j():this.Y(u)},ri.prototype.Y=function(u){try{if(u==this.g)e:{let hn=Ri(this.g);var m=this.g.Ba();let oo=this.g.Z();if(!(3>hn)&&(hn!=3||this.g&&(this.h.h||this.g.oa()||Em(this.g)))){this.J||hn!=4||m==7||(m==8||0>=oo?Za(3):Za(2)),cf(this);var y=this.g.Z();this.X=y;t:if(em(this)){var S=Em(this.g);u="";var U=S.length,q=Ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){to(this),tc(this);var ie="";break t}this.h.i=new a.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!(q&&m==U-1)});S.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=y==200,Ow(this.i,this.u,this.A,this.l,this.R,hn,y),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,fn=this.g;if((ft=fn.g?fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(ft)){var nt=ft;break t}}nt=null}if(y=nt)st(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lf(this,y);else{this.o=!1,this.s=3,dn(12),to(this),tc(this);break e}}if(this.P){y=!0;let kr;for(;!this.J&&this.C<ie.length;)if(kr=Vw(this,ie),kr==Hs){hn==4&&(this.s=4,dn(14),y=!1),st(this.i,this.l,null,"[Incomplete Response]");break}else if(kr==af){this.s=4,dn(15),st(this.i,this.l,ie,"[Invalid Chunk]"),y=!1;break}else st(this.i,this.l,kr,null),lf(this,kr);if(em(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hn!=4||ie.length!=0||this.h.h||(this.s=1,dn(16),y=!1),this.o=this.o&&y,!y)st(this.i,this.l,ie,"[Invalid Chunked Response]"),to(this),tc(this);else if(0<ie.length&&!this.W){this.W=!0;var In=this.j;In.g==this&&In.ba&&!In.M&&(In.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Qs(In),In.M=!0,dn(11))}}else st(this.i,this.l,ie,null),lf(this,ie);hn==4&&to(this),this.o&&!this.J&&(hn==4?vf(this.j,this):(this.o=!1,ec(this)))}else Ww(this.g),y==400&&0<ie.indexOf("Unknown SID")?(this.s=3,dn(12)):(this.s=0,dn(13)),to(this),tc(this)}}}catch{}finally{}};function em(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Vw(u,m){var y=u.C,S=m.indexOf(`
`,y);return S==-1?Hs:(y=Number(m.substring(y,S)),isNaN(y)?af:(S+=1,S+y>m.length?Hs:(m=m.slice(S,S+y),u.C=S+y,m)))}ri.prototype.cancel=function(){this.J=!0,to(this)};function ec(u){u.S=Date.now()+u.I,tm(u,u.I)}function tm(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ja(g(u.ba,u),m)}function cf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}ri.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(Fw(this.i,this.A),this.L!=2&&(Za(),dn(17)),to(this),this.s=2,tc(this)):tm(this,this.S-u)};function tc(u){u.j.G==0||u.J||vf(u.j,u)}function to(u){cf(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,zp(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function lf(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||uf(y.h,u))){if(!u.K&&uf(y.h,u)&&y.G==3){try{var S=y.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)lc(y),Bl(y);else break e;cc(y),dn(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=Ja(g(y.Za,y),6e3));if(1>=om(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else io(y,11)}else if((u.K||y.g==u)&&lc(y),!Y(m))for(U=y.Da.g.parse(m),m=0;m<U.length;m++){let nt=U[m];if(y.T=nt[0],nt=nt[1],y.G==2)if(nt[0]=="c"){y.K=nt[1],y.ia=nt[2];let In=nt[3];In!=null&&(y.la=In,y.j.info("VER="+y.la));let hn=nt[4];hn!=null&&(y.Aa=hn,y.j.info("SVER="+y.Aa));let oo=nt[5];oo!=null&&typeof oo=="number"&&0<oo&&(S=1.5*oo,y.L=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;let kr=u.g;if(kr){let jl=kr.g?kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jl){var q=S.h;q.g||jl.indexOf("spdy")==-1&&jl.indexOf("quic")==-1&&jl.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(df(q,q.h),q.h=null))}if(S.D){let Sf=kr.g?kr.g.getResponseHeader("X-HTTP-Session-Id"):null;Sf&&(S.ya=Sf,_t(S.I,S.D,Sf))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),S=y;var ie=u;if(S.qa=bf(S,S.J?S.ia:null,S.W),ie.K){sm(S.h,ie);var ft=ie,fn=S.L;fn&&(ft.I=fn),ft.B&&(cf(ft),ec(ft)),S.g=ie}else yf(S);0<y.i.length&&Ul(y)}else nt[0]!="stop"&&nt[0]!="close"||io(y,7);else y.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?io(y,7):Vl(y):nt[0]!="noop"&&y.l&&y.l.ta(nt),y.v=0)}}Za(4)}catch{}}var nm=class{constructor(u,m){this.g=u,this.map=m}};function rm(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function im(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function om(u){return u.h?1:u.g?u.g.size:0}function uf(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function df(u,m){u.g?u.g.add(m):u.h=m}function sm(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}rm.prototype.cancel=function(){if(this.i=am(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function am(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(let y of u.g.values())m=m.concat(y.D);return m}return O(u.i)}function cm(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var m=[],y=u.length,S=0;S<y;S++)m.push(u[S]);return m}m=[],y=0;for(S in u)m[y++]=u[S];return m}function Bw(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(let S in u)m[y++]=S;return m}}}function ff(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Bw(u),S=cm(u),U=S.length,q=0;q<U;q++)m.call(void 0,S[q],y&&y[q],u)}var lm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uw(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var S=u[y].indexOf("="),U=null;if(0<=S){var q=u[y].substring(0,S);U=u[y].substring(S+1)}else q=u[y];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function _r(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _r){this.h=u.h,kl(this,u.j),this.o=u.o,this.g=u.g,qs(this,u.s),this.l=u.l;var m=u.i,y=new ic;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),hf(this,y),this.m=u.m}else u&&(m=String(u).match(lm))?(this.h=!1,kl(this,m[1]||"",!0),this.o=nc(m[2]||""),this.g=nc(m[3]||"",!0),qs(this,m[4]),this.l=nc(m[5]||"",!0),hf(this,m[6]||"",!0),this.m=nc(m[7]||"")):(this.h=!1,this.i=new ic(null,this.h))}_r.prototype.toString=function(){var u=[],m=this.j;m&&u.push(rc(m,um,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(rc(m,um,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(rc(y,y.charAt(0)=="/"?$w:zs,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",rc(y,fm)),u.join("")};function ii(u){return new _r(u)}function kl(u,m,y){u.j=y?nc(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function qs(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function hf(u,m,y){m instanceof ic?(u.i=m,Hw(u.i,u.h)):(y||(m=rc(m,dm)),u.i=new ic(m,u.h))}function _t(u,m,y){u.i.set(m,y)}function Ol(u){return _t(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function nc(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function rc(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,jw),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function jw(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var um=/[#\/\?@]/g,zs=/[#\?:]/g,$w=/[#\?]/g,dm=/[#\?@]/g,fm=/#/g;function ic(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function no(u){u.g||(u.g=new Map,u.h=0,u.i&&Uw(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=ic.prototype,t.add=function(u,m){no(this),this.i=null,u=Gs(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function hm(u,m){no(u),m=Gs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function pm(u,m){return no(u),m=Gs(u,m),u.g.has(m)}t.forEach=function(u,m){no(this),this.g.forEach(function(y,S){y.forEach(function(U){u.call(m,U,S,this)},this)},this)},t.na=function(){no(this);let u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let S=0;S<m.length;S++){let U=u[S];for(let q=0;q<U.length;q++)y.push(m[S])}return y},t.V=function(u){no(this);let m=[];if(typeof u=="string")pm(this,u)&&(m=m.concat(this.g.get(Gs(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},t.set=function(u,m){return no(this),this.i=null,u=Gs(this,u),pm(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function mm(u,m,y){hm(u,m),0<y.length&&(u.i=null,u.g.set(Gs(u,m),O(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var S=m[y];let q=encodeURIComponent(String(S)),ie=this.V(S);for(S=0;S<ie.length;S++){var U=q;ie[S]!==""&&(U+="="+encodeURIComponent(String(ie[S]))),u.push(U)}}return this.i=u.join("&")};function Gs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Hw(u,m){m&&!u.j&&(no(u),u.i=null,u.g.forEach(function(y,S){var U=S.toLowerCase();S!=U&&(hm(this,S),mm(this,U,y))},u)),u.j=m}function Ws(u,m){let y=new Xa;if(a.Image){let S=new Image;S.onload=b(ro,y,"TestLoadImage: loaded",!0,m,S),S.onerror=b(ro,y,"TestLoadImage: error",!1,m,S),S.onabort=b(ro,y,"TestLoadImage: abort",!1,m,S),S.ontimeout=b(ro,y,"TestLoadImage: timeout",!1,m,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function qw(u,m){let y=new Xa,S=new AbortController,U=setTimeout(()=>{S.abort(),ro(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(q=>{clearTimeout(U),q.ok?ro(y,"TestPingServer: ok",!0,m):ro(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),ro(y,"TestPingServer: error",!1,m)})}function ro(u,m,y,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(y)}catch{}}function gm(){this.g=new Nw}function zw(u,m,y){let S=y||"";try{ff(u,function(U,q){let ie=U;l(U)&&(ie=nf(U)),m.push(S+q+"="+encodeURIComponent(ie))})}catch(U){throw m.push(S+"type="+encodeURIComponent("_badmap")),U}}function wr(u){this.l=u.Ub||null,this.j=u.eb||!1}I(wr,Ti),wr.prototype.g=function(){return new Fl(this.l,this.j)},wr.prototype.i=function(u){return function(){return u}}({});function Fl(u,m){Yt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Fl,Yt),t=Fl.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,oc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Di(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,oc(this)),this.g&&(this.readyState=3,oc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pf(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function pf(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Di(this):oc(this),this.readyState==3&&pf(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Di(this))},t.Qa=function(u){this.g&&(this.response=u,Di(this))},t.ga=function(){this.g&&Di(this)};function Di(u){u.readyState=4,u.l=null,u.j=null,u.v=null,oc(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function oc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Fl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ym(u){let m="";return ge(u,function(y,S){m+=S,m+=":",m+=y,m+=`\r
`}),m}function mf(u,m,y){e:{for(S in y){var S=!1;break e}S=!0}S||(y=ym(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):_t(u,m,y))}function At(u){Yt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(At,Yt);var Ks=/^https?$/i,Gw=["POST","PUT"];t=At.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sf.g(),this.v=this.o?Gp(this.o):Gp(sf),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){vm(this,q);return}if(u=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)y.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(let q of S.keys())y.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),U=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Gw,m,void 0))||S||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[q,ie]of y)this.g.setRequestHeader(q,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bm(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){vm(this,q)}};function vm(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,_m(u),Ll(u)}function _m(u){u.A||(u.A=!0,Sn(u,"complete"),Sn(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Sn(this,"complete"),Sn(this,"abort"),Ll(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ll(this,!0)),At.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wm(this):this.bb())},t.bb=function(){wm(this)};function wm(u){if(u.h&&typeof s<"u"&&(!u.v[1]||Ri(u)!=4||u.Z()!=2)){if(u.u&&Ri(u)==4)Ln(u.Ea,0,u);else if(Sn(u,"readystatechange"),Ri(u)==4){u.h=!1;try{let ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var S;if(S=ie===0){var U=String(u.D).match(lm)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),S=!Ks.test(U?U.toLowerCase():"")}y=S}if(y)Sn(u,"complete"),Sn(u,"success");else{u.m=6;try{var q=2<Ri(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",_m(u)}}finally{Ll(u)}}}}function Ll(u,m){if(u.g){bm(u);let y=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Sn(u,"ready");try{y.onreadystatechange=S}catch{}}}function bm(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Ri(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Ri(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Pw(m)}};function Em(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ww(u){let m={};u=(u.g&&2<=Ri(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(Y(u[S]))continue;var y=L(u[S]);let U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();let q=m[U]||[];m[U]=q,q.push(y)}F(m,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sc(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ac(u){this.Aa=0,this.i=[],this.j=new Xa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sc("baseRetryDelayMs",5e3,u),this.cb=sc("retryDelaySeedMs",1e4,u),this.Wa=sc("forwardChannelMaxRetries",2,u),this.wa=sc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new rm(u&&u.concurrentRequestLimit),this.Da=new gm,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ac.prototype,t.la=8,t.G=1,t.connect=function(u,m,y,S){dn(0),this.W=u,this.H=m||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.I=bf(this,null,this.W),Ul(this)};function Vl(u){if(Cm(u),u.G==3){var m=u.U++,y=ii(u.I);if(_t(y,"SID",u.K),_t(y,"RID",m),_t(y,"TYPE","terminate"),$o(u,y),m=new ri(u,u.j,m),m.L=2,m.v=Ol(ii(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=m.v,y=!0),y||(m.g=Ef(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ec(m)}wf(u)}function Bl(u){u.g&&(Qs(u),u.g.cancel(),u.g=null)}function Cm(u){Bl(u),u.u&&(a.clearTimeout(u.u),u.u=null),lc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Ul(u){if(!im(u.h)&&!u.s){u.s=!0;var m=u.Ga;ks||Mr(),jo||(ks(),jo=!0),Os.add(m,u),u.B=0}}function Sm(u,m){return om(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ja(g(u.Ga,u,m),_f(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let U=new ri(this,this.j,u),q=this.o;if(this.S&&(q?(q=R(q),k(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=gf(this,U,m),y=ii(this.I),_t(y,"RID",u),_t(y,"CVER",22),this.D&&_t(y,"X-HTTP-Session-Id",this.D),$o(this,y),q&&(this.O?m="headers="+encodeURIComponent(String(ym(q)))+"&"+m:this.m&&mf(y,this.m,q)),df(this.h,U),this.Ua&&_t(y,"TYPE","init"),this.P?(_t(y,"$req",m),_t(y,"SID","null"),U.T=!0,Tt(U,y,null)):Tt(U,y,m),this.G=2}}else this.G==3&&(u?Im(this,u):this.i.length==0||im(this.h)||Im(this))};function Im(u,m){var y;m?y=m.l:y=u.U++;let S=ii(u.I);_t(S,"SID",u.K),_t(S,"RID",y),_t(S,"AID",u.T),$o(u,S),u.m&&u.o&&mf(S,u.m,u.o),y=new ri(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=gf(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),df(u.h,y),Tt(y,S,m)}function $o(u,m){u.H&&ge(u.H,function(y,S){_t(m,S,y)}),u.l&&ff({},function(y,S){_t(m,S,y)})}function gf(u,m,y){y=Math.min(u.i.length,y);var S=u.l?g(u.l.Na,u.l,u):null;e:{var U=u.i;let q=-1;for(;;){let ie=["count="+y];q==-1?0<y?(q=U[0].g,ie.push("ofs="+q)):q=0:ie.push("ofs="+q);let ft=!0;for(let fn=0;fn<y;fn++){let nt=U[fn].g,In=U[fn].map;if(nt-=q,0>nt)q=Math.max(0,U[fn].g-100),ft=!1;else try{zw(In,ie,"req"+nt+"_")}catch{S&&S(In)}}if(ft){S=ie.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,S}function yf(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ks||Mr(),jo||(ks(),jo=!0),Os.add(m,u),u.v=0}}function cc(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ja(g(u.Fa,u),_f(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,xm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ja(g(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dn(10),Bl(this),xm(this))};function Qs(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function xm(u){u.g=new ri(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ii(u.qa);_t(m,"RID","rpc"),_t(m,"SID",u.K),_t(m,"AID",u.T),_t(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&_t(m,"TO",u.ja),_t(m,"TYPE","xmlhttp"),$o(u,m),u.m&&u.o&&mf(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Ol(ii(m)),y.m=null,y.P=!0,Xp(y,u)}t.Za=function(){this.C!=null&&(this.C=null,Bl(this),cc(this),dn(19))};function lc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function vf(u,m){var y=null;if(u.g==m){lc(u),Qs(u),u.g=null;var S=2}else if(uf(u.h,m))y=m.D,sm(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;S=Ml(),Sn(S,new Zp(S,y)),Ul(u)}else yf(u);else if(U=m.s,U==3||U==0&&0<m.X||!(S==1&&Sm(u,m)||S==2&&cc(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),U){case 1:io(u,5);break;case 4:io(u,10);break;case 3:io(u,6);break;default:io(u,2)}}}function _f(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function io(u,m){if(u.j.info("Error code "+m),m==2){var y=g(u.fb,u),S=u.Xa;let U=!S;S=new _r(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||kl(S,"https"),Ol(S),U?Ws(S.toString(),y):qw(S.toString(),y)}else dn(2);u.G=0,u.l&&u.l.sa(m),wf(u),Cm(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),dn(2)):(this.j.info("Failed to ping google.com"),dn(1))};function wf(u){if(u.G=0,u.ka=[],u.l){let m=am(u.h);(m.length!=0||u.i.length!=0)&&(N(u.ka,m),N(u.ka,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.ra()}}function bf(u,m,y){var S=y instanceof _r?ii(y):new _r(y);if(S.g!="")m&&(S.g=m+"."+S.g),qs(S,S.s);else{var U=a.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new _r(null);S&&kl(q,S),m&&(q.g=m),U&&qs(q,U),y&&(q.l=y),S=q}return y=u.D,m=u.ya,y&&m&&_t(S,y,m),_t(S,"VER",u.la),$o(u,S),S}function Ef(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new At(new wr({eb:y})):new At(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cf(){}t=Cf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function uc(){}uc.prototype.g=function(u,m){return new Zt(u,m)};function Zt(u,m){Yt.call(this),this.g=new ac(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Y(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Y(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ys(this)}I(Zt,Yt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Vl(this.g)},Zt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=nf(u),u=y);m.i.push(new nm(m.Ya++,u)),m.G==3&&Ul(m)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,Zt.aa.N.call(this)};function Tm(u){rf.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(let y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}I(Tm,rf);function Am(){of.call(this),this.status=1}I(Am,of);function Ys(u){this.g=u}I(Ys,Cf),Ys.prototype.ua=function(){Sn(this.g,"a")},Ys.prototype.ta=function(u){Sn(this.g,new Tm(u))},Ys.prototype.sa=function(u){Sn(this.g,new Am)},Ys.prototype.ra=function(){Sn(this.g,"b")},uc.prototype.createWebChannel=uc.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,FI=ws.createWebChannelTransport=function(){return new uc},OI=ws.getStatEventTarget=function(){return Ml()},kI=ws.Event=Ai,j0=ws.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pl.NO_ERROR=0,Pl.TIMEOUT=8,Pl.HTTP_ERROR=6,jh=ws.ErrorCode=Pl,Jp.COMPLETE="complete",NI=ws.EventType=Jp,Wp.EventType=Ya,Ya.OPEN="a",Ya.CLOSE="b",Ya.ERROR="c",Ya.MESSAGE="d",Yt.prototype.listen=Yt.prototype.K,ed=ws.WebChannel=Wp,yZ=ws.FetchXmlHttpFactory=wr,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,PI=ws.XhrIo=At}).apply(typeof U0<"u"?U0:typeof self<"u"?self:typeof window<"u"?window:{});var bF="@firebase/firestore";var Rn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");var _d="10.14.0";var ol=new ba("@firebase/firestore");function $h(){return ol.logLevel}function me(t,...e){if(ol.logLevel<=Xe.DEBUG){let n=e.map(_T);ol.debug(`Firestore (${_d}): ${t}`,...n)}}function Es(t,...e){if(ol.logLevel<=Xe.ERROR){let n=e.map(_T);ol.error(`Firestore (${_d}): ${t}`,...n)}}function ad(t,...e){if(ol.logLevel<=Xe.WARN){let n=e.map(_T);ol.warn(`Firestore (${_d}): ${t}`,...n)}}function _T(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function xe(t="Unexpected state"){let e=`FIRESTORE (${_d}) INTERNAL ASSERTION FAILED: `+t;throw Es(e),new Error(e)}function gt(t,e){t||xe()}function Pe(t,e){return t}var Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},fe=class extends Kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var To=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var G0=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},jI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rn.UNAUTHENTICATED))}shutdown(){}},$I=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},HI=class{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){gt(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new To;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new To,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>w(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new To)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string"),new G0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string"),new Rn(e)}},qI=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},zI=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new qI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},GI=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},WI=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){gt(this.o===void 0);let r=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,me("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(gt(typeof n.token=="string"),this.R=n.token,new GI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function vZ(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var W0=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=vZ(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function ct(t,e){return t<e?-1:t>e?1:0}function cd(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var kt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Oe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new kt(0,0))}static max(){return new t(new kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var K0=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(),r===void 0?r=e.length-n:r>e.length-n&&xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Nt=class t extends K0{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new fe(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},_Z=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zr=class t extends K0{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return _Z.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new fe(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new fe(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new fe(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new fe(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var we=class t{constructor(e){this.path=e}static fromPath(e){return new t(Nt.fromString(e))}static fromName(e){return new t(Nt.fromString(e).popFirst(5))}static empty(){return new t(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Nt(e.slice()))}};var KI=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};KI.UNKNOWN_ID=-1;function wZ(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(r===1e9?new kt(n+1,0):new kt(n,r));return new sl(i,we.empty(),e)}function bZ(t){return new sl(t.readTime,t.key,-1)}var sl=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Oe.min(),we.empty(),-1)}static max(){return new t(Oe.max(),we.empty(),-1)}};function EZ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}var CZ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",QI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ap(t){return w(this,null,function*(){if(t.code!==Q.FAILED_PRECONDITION||t.message!==CZ)throw t;me("LocalStore","Unexpectedly lost primary lease")})}var re=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(f=>{s[l]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function SZ(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cp(t){return t.name==="IndexedDbTransactionError"}var n2=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Tv(t){return t==null}function Kh(t){return t===0&&1/t==-1/0}function IZ(t){return typeof t=="number"&&Number.isInteger(t)&&!Kh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var xZ=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Oge=[...xZ,"documentOverlays"],TZ=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],AZ=TZ,DZ=[...AZ,"indexConfiguration","indexState","indexEntries"];var Fge=[...DZ,"globals"];function EF(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fl(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function r2(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Bt=class t{constructor(e,n){this.comparator=e,this.root=n||Ao.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ao.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ao.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new id(this.root,e,this.comparator,!1)}getReverseIterator(){return new id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new id(this.root,e,this.comparator,!0)}},id=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ao=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();let e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}};Ao.EMPTY=null,Ao.RED=!0,Ao.BLACK=!1;Ao.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ao(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var er=class t{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Q0(this.data.getIterator())}getIteratorFrom(e){return new Q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Q0=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var vi=class t{constructor(e){this.fields=e,e.sort(Zr.comparator)}static empty(){return new t([])}unionWith(e){let n=new er(Zr.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cd(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Y0=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var tr=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Y0("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};tr.EMPTY_BYTE_STRING=new tr("");var RZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(t){if(gt(!!t),typeof t=="string"){let e=0,n=RZ.exec(t);if(gt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ra(t){return typeof t=="string"?tr.fromBase64String(t):tr.fromUint8Array(t)}function wT(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bT(t){let e=t.mapValue.fields.__previous_value__;return wT(e)?bT(e):e}function Qh(t){let e=Cs(t.mapValue.fields.__local_write_time__.timestampValue);return new kt(e.seconds,e.nanos)}var YI=class{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Z0=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var $0={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function al(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wT(t)?4:o2(t)?9007199254740991:i2(t)?10:11:xe()}function Mo(t,e){if(t===e)return!0;let n=al(t);if(n!==al(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qh(t).isEqual(Qh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Cs(i.timestampValue),a=Cs(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ra(i.bytesValue).isEqual(Ra(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Mt(i.geoPointValue.latitude)===Mt(o.geoPointValue.latitude)&&Mt(i.geoPointValue.longitude)===Mt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Mt(i.integerValue)===Mt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Mt(i.doubleValue),a=Mt(o.doubleValue);return s===a?Kh(s)===Kh(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return cd(t.arrayValue.values||[],e.arrayValue.values||[],Mo);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(EF(s)!==EF(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Mo(s[c],a[c])))return!1;return!0}(t,e);default:return xe()}}function Yh(t,e){return(t.values||[]).find(n=>Mo(n,e))!==void 0}function ld(t,e){if(t===e)return 0;let n=al(t),r=al(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Mt(o.integerValue||o.doubleValue),c=Mt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return CF(t.timestampValue,e.timestampValue);case 4:return CF(Qh(t),Qh(e));case 5:return ct(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Ra(o),c=Ra(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let f=ct(a[l],c[l]);if(f!==0)return f}return ct(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ct(Mt(o.latitude),Mt(s.latitude));return a!==0?a:ct(Mt(o.longitude),Mt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return SF(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,l,f;let h=o.fields||{},g=s.fields||{},b=(a=h.value)===null||a===void 0?void 0:a.arrayValue,I=(c=g.value)===null||c===void 0?void 0:c.arrayValue,O=ct(((l=b?.values)===null||l===void 0?void 0:l.length)||0,((f=I?.values)===null||f===void 0?void 0:f.length)||0);return O!==0?O:SF(b,I)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===$0.mapValue&&s===$0.mapValue)return 0;if(o===$0.mapValue)return 1;if(s===$0.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},f=Object.keys(l);c.sort(),f.sort();for(let h=0;h<c.length&&h<f.length;++h){let g=ct(c[h],f[h]);if(g!==0)return g;let b=ld(a[c[h]],l[f[h]]);if(b!==0)return b}return ct(c.length,f.length)}(t.mapValue,e.mapValue);default:throw xe()}}function CF(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);let n=Cs(t),r=Cs(e),i=ct(n.seconds,r.seconds);return i!==0?i:ct(n.nanos,r.nanos)}function SF(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ld(n[i],r[i]);if(o)return o}return ct(n.length,r.length)}function ud(t){return ZI(t)}function ZI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Cs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ra(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return we.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=ZI(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${ZI(n.fields[s])}`;return i+"}"}(t.mapValue):xe()}function IF(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function JI(t){return!!t&&"integerValue"in t}function ET(t){return!!t&&"arrayValue"in t}function xF(t){return!!t&&"nullValue"in t}function TF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function q0(t){return!!t&&"mapValue"in t}function i2(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function qh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return fl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qh(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function o2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Yr=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!q0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qh(n)}setAll(e){let n=Zr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=qh(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());q0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];q0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fl(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(qh(this.value))}};function s2(t){let e=[];return fl(t.fields,(n,r)=>{let i=new Zr([n]);if(q0(r)){let o=s2(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new vi(e)}var qi=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Oe.min(),Oe.min(),Oe.min(),Yr.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Oe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Oe.min(),Oe.min(),Yr.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Oe.min(),Oe.min(),Yr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var dd=class{constructor(e,n){this.position=e,this.inclusive=n}};function AF(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=we.comparator(we.fromName(s.referenceValue),n.key):r=ld(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function DF(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mo(t.position[n],e.position[n]))return!1;return!0}var cl=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function MZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var J0=class{},an=class t extends J0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ex(e,n,r):n==="array-contains"?new rx(e,r):n==="in"?new ix(e,r):n==="not-in"?new ox(e,r):n==="array-contains-any"?new sx(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tx(e,r):new nx(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ld(n,this.value)):n!==null&&al(this.value)===al(n)&&this.matchesComparison(ld(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},zi=class t extends J0{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return a2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function a2(t){return t.op==="and"}function c2(t){return PZ(t)&&a2(t)}function PZ(t){for(let e of t.filters)if(e instanceof zi)return!1;return!0}function XI(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+ud(t.value);if(c2(t))return t.filters.map(e=>XI(e)).join(",");{let e=t.filters.map(n=>XI(n)).join(",");return`${t.op}(${e})`}}function l2(t,e){return t instanceof an?function(r,i){return i instanceof an&&r.op===i.op&&r.field.isEqual(i.field)&&Mo(r.value,i.value)}(t,e):t instanceof zi?function(r,i){return i instanceof zi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&l2(s,i.filters[a]),!0):!1}(t,e):void xe()}function u2(t){return t instanceof an?function(n){return`${n.field.canonicalString()} ${n.op} ${ud(n.value)}`}(t):t instanceof zi?function(n){return n.op.toString()+" {"+n.getFilters().map(u2).join(" ,")+"}"}(t):"Filter"}var ex=class extends an{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){let n=we.comparator(e.key,this.key);return this.matchesComparison(n)}},tx=class extends an{constructor(e,n){super(e,"in",n),this.keys=d2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},nx=class extends an{constructor(e,n){super(e,"not-in",n),this.keys=d2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function d2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>we.fromName(r.referenceValue))}var rx=class extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return ET(n)&&Yh(n.arrayValue,this.value)}},ix=class extends an{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Yh(this.value.arrayValue,n)}},ox=class extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Yh(this.value.arrayValue,n)}},sx=class extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!ET(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Yh(this.value.arrayValue,r))}};var ax=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function RF(t,e=null,n=[],r=[],i=null,o=null,s=null){return new ax(t,e,n,r,i,o,s)}function CT(t){let e=Pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>XI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Tv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ud(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ud(r)).join(",")),e.ue=n}return e.ue}function ST(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!MZ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!l2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DF(t.startAt,e.startAt)&&DF(t.endAt,e.endAt)}function cx(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ma=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function NZ(t,e,n,r,i,o,s,a){return new Ma(t,e,n,r,i,o,s,a)}function IT(t){return new Ma(t)}function MF(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function f2(t){return t.collectionGroup!==null}function zh(t){let e=Pe(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new er(Zr.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new cl(o,r))}),n.has(Zr.keyField().canonicalString())||e.ce.push(new cl(Zr.keyField(),r))}return e.ce}function Do(t){let e=Pe(t);return e.le||(e.le=kZ(e,zh(t))),e.le}function kZ(t,e){if(t.limitType==="F")return RF(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new cl(i.field,o)});let n=t.endAt?new dd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dd(t.startAt.position,t.startAt.inclusive):null;return RF(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lx(t,e){let n=t.filters.concat([e]);return new Ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ux(t,e,n){return new Ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Av(t,e){return ST(Do(t),Do(e))&&t.limitType===e.limitType}function h2(t){return`${CT(Do(t))}|lt:${t.limitType}`}function td(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>u2(i)).join(", ")}]`),Tv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ud(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ud(i)).join(",")),`Target(${r})`}(Do(t))}; limitType=${t.limitType})`}function Dv(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):we.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of zh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=AF(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,zh(r),i)||r.endAt&&!function(s,a,c){let l=AF(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,zh(r),i))}(t,e)}function OZ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function p2(t){return(e,n)=>{let r=!1;for(let i of zh(t)){let o=FZ(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function FZ(t,e,n){let r=t.field.isKeyField()?we.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?ld(c,l):xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe()}}var Pa=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fl(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return r2(this.inner)}size(){return this.innerSize}};var LZ=new Bt(we.comparator);function Ss(){return LZ}var m2=new Bt(we.comparator);function Hh(...t){let e=m2;for(let n of t)e=e.insert(n.key,n);return e}function g2(t){let e=m2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function nl(){return Gh()}function y2(){return Gh()}function Gh(){return new Pa(t=>t.toString(),(t,e)=>t.isEqual(e))}var VZ=new Bt(we.comparator),BZ=new er(we.comparator);function et(...t){let e=BZ;for(let n of t)e=e.add(n);return e}var UZ=new er(ct);function jZ(){return UZ}function xT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(e)?"-0":e}}function v2(t){return{integerValue:""+t}}function $Z(t,e){return IZ(e)?v2(e):xT(t,e)}var fd=class{constructor(){this._=void 0}};function HZ(t,e,n){return t instanceof hd?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&wT(o)&&(o=bT(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ll?w2(t,e):t instanceof ul?b2(t,e):function(i,o){let s=_2(i,o),a=PF(s)+PF(i.Pe);return JI(s)&&JI(i.Pe)?v2(a):xT(i.serializer,a)}(t,e)}function qZ(t,e,n){return t instanceof ll?w2(t,e):t instanceof ul?b2(t,e):n}function _2(t,e){return t instanceof pd?function(r){return JI(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var hd=class extends fd{},ll=class extends fd{constructor(e){super(),this.elements=e}};function w2(t,e){let n=E2(e);for(let r of t.elements)n.some(i=>Mo(i,r))||n.push(r);return{arrayValue:{values:n}}}var ul=class extends fd{constructor(e){super(),this.elements=e}};function b2(t,e){let n=E2(e);for(let r of t.elements)n=n.filter(i=>!Mo(i,r));return{arrayValue:{values:n}}}var pd=class extends fd{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function PF(t){return Mt(t.integerValue||t.doubleValue)}function E2(t){return ET(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zZ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ll&&i instanceof ll||r instanceof ul&&i instanceof ul?cd(r.elements,i.elements,Mo):r instanceof pd&&i instanceof pd?Mo(r.Pe,i.Pe):r instanceof hd&&i instanceof hd}(t.transform,e.transform)}var dx=class{constructor(e,n){this.version=e,this.transformResults=n}},Aa=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function z0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var md=class{};function C2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new X0(t.key,Aa.none()):new dl(t.key,t.data,Aa.none());{let n=t.data,r=Yr.empty(),i=new er(Zr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Po(t.key,r,new vi(i.toArray()),Aa.none())}}function GZ(t,e,n){t instanceof dl?function(i,o,s){let a=i.value.clone(),c=kF(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Po?function(i,o,s){if(!z0(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=kF(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(S2(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Wh(t,e,n,r){return t instanceof dl?function(o,s,a,c){if(!z0(o.precondition,s))return a;let l=o.value.clone(),f=OF(o.fieldTransforms,c,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Po?function(o,s,a,c){if(!z0(o.precondition,s))return a;let l=OF(o.fieldTransforms,c,s),f=s.data;return f.setAll(S2(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return z0(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function WZ(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=_2(r.transform,i||null);o!=null&&(n===null&&(n=Yr.empty()),n.set(r.field,o))}return n||null}function NF(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cd(r,i,(o,s)=>zZ(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var dl=class extends md{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Po=class extends md{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function S2(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function kF(t,e,n){let r=new Map;gt(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,qZ(s,a,n[i]))}return r}function OF(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,HZ(o,s,e))}return r}var X0=class extends md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},fx=class extends md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var hx=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&GZ(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wh(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Wh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=y2();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=C2(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&cd(this.mutations,e.mutations,(n,r)=>NF(n,r))&&cd(this.baseMutations,e.baseMutations,(n,r)=>NF(n,r))}},px=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){gt(e.mutations.length===r.length);let i=function(){return VZ}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var mx=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var gx=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var on,ot;function KZ(t){switch(t){default:return xe();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function I2(t){if(t===void 0)return Es("GRPC error has no .code"),Q.UNKNOWN;switch(t){case on.OK:return Q.OK;case on.CANCELLED:return Q.CANCELLED;case on.UNKNOWN:return Q.UNKNOWN;case on.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case on.INTERNAL:return Q.INTERNAL;case on.UNAVAILABLE:return Q.UNAVAILABLE;case on.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case on.NOT_FOUND:return Q.NOT_FOUND;case on.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case on.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case on.ABORTED:return Q.ABORTED;case on.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case on.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case on.DATA_LOSS:return Q.DATA_LOSS;default:return xe()}}(ot=on||(on={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";var FF=null;function QZ(){return new TextEncoder}var YZ=new Ta([4294967295,4294967295],0);function LF(t){let e=QZ().encode(t),n=new MI;return n.update(e),new Uint8Array(n.digest())}function VF(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ta([n,r],0),new Ta([i,o],0)]}var yx=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rl(`Invalid padding: ${n}`);if(r<0)throw new rl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ta.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ta.fromNumber(r)));return i.compare(YZ)===1&&(i=new Ta([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=LF(e),[r,i]=VF(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=LF(e),[r,i]=VF(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},rl=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ev=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Zh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Oe.min(),i,new Bt(ct),Ss(),et())}},Zh=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,et(),et(),et())}};var od=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},tv=class{constructor(e,n){this.targetId=e,this.me=n}},nv=class{constructor(e,n,r=tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},rv=class{constructor(){this.fe=0,this.ge=UF(),this.pe=tr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=et(),n=et(),r=et();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:xe()}}),new Zh(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=UF()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},vx=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ss(),this.qe=BF(),this.Qe=new Bt(ct)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(cx(o))if(r===0){let s=new we(o.path);this.Ue(n,s,qi.newNoDocument(s,Oe.min()))}else gt(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}FF?.et(function(f,h,g,b,I){var O,N,$,Y,oe,se;let Te={localCacheCount:f,existenceFilterCount:h.count,databaseId:g.database,projectId:g.projectId},ge=h.unchangedNames;return ge&&(Te.bloomFilter={applied:I===0,hashCount:(O=ge?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(Y=($=(N=ge?.bits)===null||N===void 0?void 0:N.bitmap)===null||$===void 0?void 0:$.length)!==null&&Y!==void 0?Y:0,padding:(se=(oe=ge?.bits)===null||oe===void 0?void 0:oe.padding)!==null&&se!==void 0?se:0,mightContain:F=>{var R;return(R=b?.mightContain(F))!==null&&R!==void 0&&R}}),Te}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Ra(r).toUint8Array()}catch(c){if(c instanceof Y0)return ad("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new yx(s,i,o)}catch(c){return ad(c instanceof rl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&cx(a.target)){let c=new we(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,qi.newNoDocument(c,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=et();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new ev(e,n,this.Qe,this.ke,r);return this.ke=Ss(),this.qe=BF(),this.Qe=new Bt(ct),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new rv,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new er(ct),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function BF(){return new Bt(we.comparator)}function UF(){return new Bt(we.comparator)}var ZZ={asc:"ASCENDING",desc:"DESCENDING"},JZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XZ={and:"AND",or:"OR"},_x=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function wx(t,e){return t.useProto3Json||Tv(e)?e:{value:e}}function iv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eJ(t,e){return iv(t,e.toTimestamp())}function Ro(t){return gt(!!t),Oe.fromTimestamp(function(n){let r=Cs(n);return new kt(r.seconds,r.nanos)}(t))}function TT(t,e){return bx(t,e).canonicalString()}function bx(t,e){let n=function(i){return new Nt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function T2(t){let e=Nt.fromString(t);return gt(P2(e)),e}function Ex(t,e){return TT(t.databaseId,e.path)}function LI(t,e){let n=T2(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(D2(n))}function A2(t,e){return TT(t.databaseId,e)}function tJ(t){let e=T2(t);return e.length===4?Nt.emptyPath():D2(e)}function Cx(t){return new Nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function D2(t){return gt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function jF(t,e,n){return{name:Ex(t,e),fields:n.value.mapValue.fields}}function nJ(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(gt(f===void 0||typeof f=="string"),tr.fromBase64String(f||"")):(gt(f===void 0||f instanceof Buffer||f instanceof Uint8Array),tr.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let f=l.code===void 0?Q.UNKNOWN:I2(l.code);return new fe(f,l.message||"")}(s);n=new nv(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=LI(t,r.document.name),o=Ro(r.document.updateTime),s=r.document.createTime?Ro(r.document.createTime):Oe.min(),a=new Yr({mapValue:{fields:r.document.fields}}),c=qi.newFoundDocument(i,o,s,a),l=r.targetIds||[],f=r.removedTargetIds||[];n=new od(l,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=LI(t,r.document),o=r.readTime?Ro(r.readTime):Oe.min(),s=qi.newNoDocument(i,o),a=r.removedTargetIds||[];n=new od([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=LI(t,r.document),o=r.removedTargetIds||[];n=new od([],o,i,null)}else{if(!("filter"in e))return xe();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new gx(i,o),a=r.targetId;n=new tv(a,s)}}return n}function rJ(t,e){let n;if(e instanceof dl)n={update:jF(t,e.key,e.value)};else if(e instanceof X0)n={delete:Ex(t,e.key)};else if(e instanceof Po)n={update:jF(t,e.key,e.data),updateMask:fJ(e.fieldMask)};else{if(!(e instanceof fx))return xe();n={verify:Ex(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof hd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ll)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ul)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pd)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw xe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:eJ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe()}(t,e.precondition)),n}function iJ(t,e){return t&&t.length>0?(gt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Ro(i.updateTime):Ro(o);return s.isEqual(Oe.min())&&(s=Ro(o)),new dx(s,i.transformResults||[])}(n,e))):[]}function oJ(t,e){return{documents:[A2(t,e.path)]}}function sJ(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=A2(t,i);let o=function(l){if(l.length!==0)return M2(zi.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(f=>function(g){return{field:nd(g.field),direction:lJ(g.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=wx(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function aJ(t){let e=tJ(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){gt(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(h){let g=R2(h);return g instanceof zi&&c2(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(g=>function(I){return new cl(rd(I.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(h){let g;return g=typeof h=="object"?h.value:h,Tv(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(h){let g=!!h.before,b=h.values||[];return new dd(b,g)}(n.startAt));let l=null;return n.endAt&&(l=function(h){let g=!h.before,b=h.values||[];return new dd(b,g)}(n.endAt)),NZ(e,i,s,o,a,"F",c,l)}function cJ(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function R2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=rd(n.unaryFilter.field);return an.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=rd(n.unaryFilter.field);return an.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=rd(n.unaryFilter.field);return an.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=rd(n.unaryFilter.field);return an.create(s,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(t):t.fieldFilter!==void 0?function(n){return an.create(rd(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zi.create(n.compositeFilter.filters.map(r=>R2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe()}}(n.compositeFilter.op))}(t):xe()}function lJ(t){return ZZ[t]}function uJ(t){return JZ[t]}function dJ(t){return XZ[t]}function nd(t){return{fieldPath:t.canonicalString()}}function rd(t){return Zr.fromServerFormat(t.fieldPath)}function M2(t){return t instanceof an?function(n){if(n.op==="=="){if(TF(n.value))return{unaryFilter:{field:nd(n.field),op:"IS_NAN"}};if(xF(n.value))return{unaryFilter:{field:nd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TF(n.value))return{unaryFilter:{field:nd(n.field),op:"IS_NOT_NAN"}};if(xF(n.value))return{unaryFilter:{field:nd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nd(n.field),op:uJ(n.op),value:n.value}}}(t):t instanceof zi?function(n){let r=n.getFilters().map(i=>M2(i));return r.length===1?r[0]:{compositeFilter:{op:dJ(n.op),filters:r}}}(t):xe()}function fJ(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function P2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Jh=class t{constructor(e,n,r,i,o=Oe.min(),s=Oe.min(),a=tr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Sx=class{constructor(e){this.ct=e}};function hJ(t){let e=aJ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ux(e,e.limit,"L"):e}var ov=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Mt(e.integerValue));else if("doubleValue"in e){let r=Mt(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Kh(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Cs(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Ra(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?o2(e)?this.dt(n,Number.MAX_SAFE_INTEGER):i2(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):xe()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Mt(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),we.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};ov.vt=new ov;var Ix=class{constructor(){this.un=new xx}addToCollectionParentIndex(e,n){return this.un.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(sl.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(sl.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}},xx=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new er(Nt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new er(Nt.comparator)).toArray()}};var Vge=new Uint8Array(0);var xo=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};xo.DEFAULT_COLLECTION_PERCENTILE=10,xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xo.DEFAULT=new xo(41943040,xo.DEFAULT_COLLECTION_PERCENTILE,xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xo.DISABLED=new xo(-1,0,0);var Xh=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Tx=class{constructor(){this.changes=new Pa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Ax=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Dx=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wh(r.mutation,i,vi.empty(),kt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=et()){let i=nl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Hh();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=nl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,et()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ss(),s=Gh(),a=function(){return Gh()}();return n.forEach((c,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Po)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),Wh(f.mutation,l,f.mutation.getFieldMask(),kt.now())):s.set(l.key,vi.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var h;return a.set(l,new Ax(f,(h=s.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Gh(),i=new Bt((s,a)=>s-a),o=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let f=r.get(c)||vi.empty();f=a.applyToLocalView(l,f),r.set(c,f);let h=(i.get(a.batchId)||et()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,f=c.value,h=y2();f.forEach(g=>{if(!o.has(g)){let b=C2(n.get(g),r.get(g));b!==null&&h.set(g,b),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,h))}return re.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return we.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):f2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):re.resolve(nl()),a=-1,c=o;return s.next(l=>re.forEach(l,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(f)?re.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{c=c.insert(f,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,et())).next(f=>({batchId:a,changes:g2(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(r=>{let i=Hh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Hh();return this.indexManager.getCollectionParents(e,o).next(a=>re.forEach(a,c=>{let l=function(h,g){return new Ma(g,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((h,g)=>{s=s.insert(h,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,qi.newInvalidDocument(f)))});let a=Hh();return s.forEach((c,l)=>{let f=o.get(c);f!==void 0&&Wh(f.mutation,l,vi.empty(),kt.now()),Dv(n,l)&&(a=a.insert(c,l))}),a})}};var Rx=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return re.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ro(i.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:hJ(i.bundledQuery),readTime:Ro(i.readTime)}}(n)),re.resolve()}};var Mx=class{constructor(){this.overlays=new Bt(we.comparator),this.Ir=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){let r=nl();return re.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),re.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){let i=nl(),o=n.length+1,s=new we(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Bt((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=nl(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=nl(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return re.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new mx(n,r));let o=this.Ir.get(n);o===void 0&&(o=et(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Px=class{constructor(){this.sessionToken=tr.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}};var ep=class{constructor(){this.Tr=new er(sn.Er),this.dr=new er(sn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new sn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new sn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new we(new Nt([])),r=new sn(n,e),i=new sn(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new we(new Nt([])),r=new sn(n,e),i=new sn(n,e+1),o=et();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new sn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},sn=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return we.comparator(e.key,n.key)||ct(e.wr,n.wr)}static Ar(e,n){return ct(e.wr,n.wr)||we.comparator(e.key,n.key)}};var Nx=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new er(sn.Er)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new hx(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new sn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return re.resolve(s)}lookupMutationBatch(e,n){return re.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new sn(n,0),i=new sn(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new er(ct);return n.forEach(i=>{let o=new sn(i,0),s=new sn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),re.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;we.isDocumentKey(o)||(o=o.child(""));let s=new sn(new we(o),0),a=new er(ct);return this.br.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.wr)),!0)},s),re.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){gt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return re.forEach(n.mutations,i=>{let o=new sn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new sn(n,0),i=this.br.firstAfterOrEqual(r);return re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var kx=class{constructor(e){this.Mr=e,this.docs=function(){return new Bt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():qi.newInvalidDocument(n))}getEntries(e,n){let r=Ss();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():qi.newInvalidDocument(i))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ss(),s=n.path,a=new we(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:f}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||EZ(bZ(f),r)<=0||(i.has(f.key)||Dv(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return re.resolve(o)}getAllFromCollectionGroup(e,n,r,i){xe()}Or(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ox(this)}getSize(e){return re.resolve(this.size)}},Ox=class extends Tx{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Fx=class{constructor(e){this.persistence=e,this.Nr=new Pa(n=>CT(n),ST),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ep,this.targetCount=0,this.kr=Xh.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),re.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Xh(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Kn(n),re.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),re.waitFor(o).next(()=>i)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),re.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),re.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.Br.containsKey(n))}};var Lx=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new n2(0),this.Kr=!1,this.Kr=!0,this.$r=new Px,this.referenceDelegate=e(this),this.Ur=new Fx(this),this.indexManager=new Ix,this.remoteDocumentCache=function(i){return new kx(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Sx(n),this.Gr=new Rx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Mx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Nx(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);let i=new Vx(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return re.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Vx=class extends QI{constructor(e){super(),this.currentSequenceNumber=e}},Bx=class t{constructor(e){this.persistence=e,this.Jr=new ep,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw xe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),re.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Xr,r=>{let i=we.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Oe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return re.or([()=>re.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Ux=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=et(),i=et();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var jx=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var $x=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return tO()?8:SZ(An())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new jx;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?($h()<=Xe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",td(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),re.resolve()):($h()<=Xe.DEBUG&&me("QueryEngine","Query:",td(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?($h()<=Xe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",td(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Do(n))):re.resolve())}Yi(e,n){if(MF(n))return re.resolve(null);let r=Do(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ux(n,null,"F"),r=Do(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=et(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.ts(n,a);return this.ns(n,l,s,c.readTime)?this.Yi(e,ux(n,null,"F")):this.rs(e,l,n,c)}))})))}Zi(e,n,r,i){return MF(n)||i.isEqual(Oe.min())?re.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?re.resolve(null):($h()<=Xe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),td(n)),this.rs(e,s,n,wZ(i,-1)).next(a=>a))})}ts(e,n){let r=new er(p2(e));return n.forEach((i,o)=>{Dv(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return $h()<=Xe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",td(n)),this.Ji.getDocumentsMatchingQuery(e,n,sl.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Hx=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Bt(ct),this._s=new Pa(o=>CT(o),ST),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dx(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function pJ(t,e,n,r){return new Hx(t,e,n,r)}function N2(t,e){return w(this,null,function*(){let n=Pe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=et();for(let l of i){s.push(l.batchId);for(let f of l.mutations)c=c.add(f.key)}for(let l of o){a.push(l.batchId);for(let f of l.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function mJ(t,e){let n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,f){let h=l.batch,g=h.keys(),b=re.resolve();return g.forEach(I=>{b=b.next(()=>f.getEntry(c,I)).next(O=>{let N=l.docVersions.get(I);gt(N!==null),O.version.compareTo(N)<0&&(h.applyToRemoteDocument(O,l),O.isValidDocument()&&(O.setReadTime(l.commitVersion),f.addEntry(O)))})}),b.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=et();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function k2(t){let e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function gJ(t,e){let n=Pe(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((f,h)=>{let g=i.get(h);if(!g)return;a.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,h)));let b=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?b=b.withResumeToken(tr.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):f.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(f.resumeToken,r)),i=i.insert(h,b),function(O,N,$){return O.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(g,b,f)&&a.push(n.Ur.updateTargetData(o,b))});let c=Ss(),l=et();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(yJ(o,s,e.documentUpdates).next(f=>{c=f.Ps,l=f.Is})),!r.isEqual(Oe.min())){let f=n.Ur.getLastRemoteSnapshotVersion(o).next(h=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return re.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.os=i,o))}function yJ(t,e,n){let r=et(),i=et();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ss();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Oe.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):me("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function vJ(t,e){let n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _J(t,e){let n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,re.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Jh(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function qx(t,e,n){return w(this,null,function*(){let r=Pe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!cp(s))throw s;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function $F(t,e,n){let r=Pe(t),i=Oe.min(),o=et();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,f){let h=Pe(c),g=h._s.get(f);return g!==void 0?re.resolve(h.os.get(g)):h.Ur.getTargetData(l,f)}(r,s,Do(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Oe.min(),n?o:et())).next(a=>(wJ(r,OZ(e),a),{documents:a,Ts:o})))}function wJ(t,e,n){let r=t.us.get(e)||Oe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var sv=class{constructor(){this.activeTargetIds=jZ()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var zx=class{constructor(){this.so=new sv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Gx=class{_o(e){}shutdown(){}};var av=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var H0=null;function VI(){return H0===null?H0=function(){return 268435456+Math.round(2147483648*Math.random())}():H0++,"0x"+H0.toString(16)}var bJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Wx=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Xn="WebChannelConnection",Kx=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=VI(),c=this.xo(n,r.toUriEncodedString());me("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,c,l,i).then(f=>(me("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw ad("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",c,"request:",i),f})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_d}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=bJ[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=VI();return new Promise((s,a)=>{let c=new PI;c.setWithCredentials(!0),c.listenOnce(NI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case jh.NO_ERROR:let f=c.getResponseJson();me(Xn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case jh.TIMEOUT:me(Xn,`RPC '${e}' ${o} timed out`),a(new fe(Q.DEADLINE_EXCEEDED,"Request time out"));break;case jh.HTTP_ERROR:let h=c.getStatus();if(me(Xn,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);let b=g?.error;if(b&&b.status&&b.message){let I=function(N){let $=N.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf($)>=0?$:Q.UNKNOWN}(b.status);a(new fe(I,b.message))}else a(new fe(Q.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new fe(Q.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{me(Xn,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);me(Xn,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=VI(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=FI(),a=OI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let f=o.join("");me(Xn,`Creating RPC '${e}' stream ${i}: ${f}`,c);let h=s.createWebChannel(f,c),g=!1,b=!1,I=new Wx({Io:N=>{b?me(Xn,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(g||(me(Xn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),g=!0),me(Xn,`RPC '${e}' stream ${i} sending:`,N),h.send(N))},To:()=>h.close()}),O=(N,$,Y)=>{N.listen($,oe=>{try{Y(oe)}catch(se){setTimeout(()=>{throw se},0)}})};return O(h,ed.EventType.OPEN,()=>{b||(me(Xn,`RPC '${e}' stream ${i} transport opened.`),I.yo())}),O(h,ed.EventType.CLOSE,()=>{b||(b=!0,me(Xn,`RPC '${e}' stream ${i} transport closed`),I.So())}),O(h,ed.EventType.ERROR,N=>{b||(b=!0,ad(Xn,`RPC '${e}' stream ${i} transport errored:`,N),I.So(new fe(Q.UNAVAILABLE,"The operation could not be completed")))}),O(h,ed.EventType.MESSAGE,N=>{var $;if(!b){let Y=N.data[0];gt(!!Y);let oe=Y,se=oe.error||(($=oe[0])===null||$===void 0?void 0:$.error);if(se){me(Xn,`RPC '${e}' stream ${i} received error:`,se);let Te=se.status,ge=function(M){let k=on[M];if(k!==void 0)return I2(k)}(Te),F=se.message;ge===void 0&&(ge=Q.INTERNAL,F="Unknown error status: "+Te+" with message "+se.message),b=!0,I.So(new fe(ge,F)),h.close()}else me(Xn,`RPC '${e}' stream ${i} received:`,Y),I.bo(Y)}}),O(a,kI.STAT_EVENT,N=>{N.stat===j0.PROXY?me(Xn,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===j0.NOPROXY&&me(Xn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.wo()},0),I}};function BI(){return typeof document<"u"?document:null}function Rv(t){return new _x(t,!0)}var cv=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var lv=class{constructor(e,n,r,i,o,s,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new cv(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Es(n.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new fe(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Qx=class extends lv{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=nJ(this.serializer,e),r=function(o){if(!("targetChange"in o))return Oe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Oe.min():s.readTime?Ro(s.readTime):Oe.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Cx(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=cx(c)?{documents:oJ(o,c)}:{query:sJ(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=x2(o,s.resumeToken);let l=wx(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Oe.min())>0){a.readTime=iv(o,s.snapshotVersion.toTimestamp());let l=wx(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=cJ(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Cx(this.serializer),n.removeTarget=e,this.a_(n)}},Yx=class extends lv{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return gt(!!e.streamToken),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=iJ(e.writeResults,e.commitTime),r=Ro(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Cx(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>rJ(this.serializer,r))};this.a_(n)}};var Zx=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new fe(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,bx(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(Q.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,bx(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(Q.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Jx=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Es(n),this.D_=!1):me("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Xx=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>w(this,null,function*(){hl(this)&&(me("RemoteStore","Restarting streams for network reachability change."),yield function(c){return w(this,null,function*(){let l=Pe(c);l.L_.add(4),yield lp(l),l.q_.set("Unknown"),l.L_.delete(4),yield Mv(l)})}(this))}))}),this.q_=new Jx(r,i)}};function Mv(t){return w(this,null,function*(){if(hl(t))for(let e of t.B_)yield e(!0)})}function lp(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function O2(t,e){let n=Pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),MT(n)?RT(n):wd(n).r_()&&DT(n,e))}function AT(t,e){let n=Pe(t),r=wd(n);n.N_.delete(e),r.r_()&&F2(n,e),n.N_.size===0&&(r.r_()?r.o_():hl(n)&&n.q_.set("Unknown"))}function DT(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wd(t).A_(e)}function F2(t,e){t.Q_.xe(e),wd(t).R_(e)}function RT(t){t.Q_=new vx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),wd(t).start(),t.q_.v_()}function MT(t){return hl(t)&&!wd(t).n_()&&t.N_.size>0}function hl(t){return Pe(t).L_.size===0}function L2(t){t.Q_=void 0}function EJ(t){return w(this,null,function*(){t.q_.set("Online")})}function CJ(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{DT(t,e)})})}function SJ(t,e){return w(this,null,function*(){L2(t),MT(t)?(t.q_.M_(e),RT(t)):t.q_.set("Unknown")})}function IJ(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof nv&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield uv(t,r)}else if(e instanceof od?t.Q_.Ke(e):e instanceof tv?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Oe.min()))try{let r=yield k2(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let f=o.N_.get(l);f&&o.N_.set(l,f.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let f=o.N_.get(c);if(!f)return;o.N_.set(c,f.withResumeToken(tr.EMPTY_BYTE_STRING,f.snapshotVersion)),F2(o,c);let h=new Jh(f.target,c,l,f.sequenceNumber);DT(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){me("RemoteStore","Failed to raise snapshot:",r),yield uv(t,r)}})}function uv(t,e,n){return w(this,null,function*(){if(!cp(e))throw e;t.L_.add(1),yield lp(t),t.q_.set("Offline"),n||(n=()=>k2(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){me("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Mv(t)}))})}function V2(t,e){return e().catch(n=>uv(t,n,e))}function Pv(t){return w(this,null,function*(){let e=Pe(t),n=Na(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;xJ(e);)try{let i=yield vJ(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,TJ(e,i)}catch(i){yield uv(e,i)}B2(e)&&U2(e)})}function xJ(t){return hl(t)&&t.O_.length<10}function TJ(t,e){t.O_.push(e);let n=Na(t);n.r_()&&n.V_&&n.m_(e.mutations)}function B2(t){return hl(t)&&!Na(t).n_()&&t.O_.length>0}function U2(t){Na(t).start()}function AJ(t){return w(this,null,function*(){Na(t).p_()})}function DJ(t){return w(this,null,function*(){let e=Na(t);for(let n of t.O_)e.m_(n.mutations)})}function RJ(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=px.from(r,e,n);yield V2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Pv(t)})}function MJ(t,e){return w(this,null,function*(){e&&Na(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return KZ(s)&&s!==Q.ABORTED}(i.code)){let o=r.O_.shift();Na(r).s_(),yield V2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Pv(r)}})}(t,e)),B2(t)&&U2(t)})}function HF(t,e){return w(this,null,function*(){let n=Pe(t);n.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");let r=hl(n);n.L_.add(3),yield lp(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Mv(n)})}function PJ(t,e){return w(this,null,function*(){let n=Pe(t);e?(n.L_.delete(2),yield Mv(n)):e||(n.L_.add(2),yield lp(n),n.q_.set("Unknown"))})}function wd(t){return t.K_||(t.K_=function(n,r,i){let o=Pe(n);return o.w_(),new Qx(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:EJ.bind(null,t),Ro:CJ.bind(null,t),mo:SJ.bind(null,t),d_:IJ.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),MT(t)?RT(t):t.q_.set("Unknown")):(yield t.K_.stop(),L2(t))}))),t.K_}function Na(t){return t.U_||(t.U_=function(n,r,i){let o=Pe(n);return o.w_(),new Yx(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:AJ.bind(null,t),mo:MJ.bind(null,t),f_:DJ.bind(null,t),g_:RJ.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield Pv(t)):(yield t.U_.stop(),t.O_.length>0&&(me("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var eT=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new To,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function PT(t,e){if(Es("AsyncQueue",`${e}: ${t}`),cp(t))return new fe(Q.UNAVAILABLE,`${e}: ${t}`);throw t}var dv=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=Hh(),this.sortedSet=new Bt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var fv=class{constructor(){this.W_=new Bt(we.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):xe():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},gd=class t{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,dv.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Av(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var tT=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},nT=class{constructor(){this.queries=qF(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Pe(n),o=i.queries;i.queries=qF(),o.forEach((s,a)=>{for(let c of a.j_)c.onError(r)})})(this,new fe(Q.ABORTED,"Firestore shutting down"))}};function qF(){return new Pa(t=>h2(t),Av)}function j2(t,e){return w(this,null,function*(){let n=Pe(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new tT,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=PT(s,`Initialization of query '${td(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&NT(n)})}function $2(t,e){return w(this,null,function*(){let n=Pe(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function NJ(t,e){let n=Pe(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&NT(n)}function kJ(t,e,n){let r=Pe(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function NT(t){t.Y_.forEach(e=>{e.next()})}var rT,zF;(zF=rT||(rT={})).ea="default",zF.Cache="cache";var hv=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new gd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=gd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==rT.Cache}};var pv=class{constructor(e){this.key=e}},mv=class{constructor(e){this.key=e}},iT=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=et(),this.mutatedKeys=et(),this.Aa=p2(e),this.Ra=new dv(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new fv,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{let g=i.get(f),b=Dv(this.query,h)?h:null,I=!!g&&this.mutatedKeys.has(g.key),O=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations),N=!1;g&&b?g.data.isEqual(b.data)?I!==O&&(r.track({type:3,doc:b}),N=!0):this.ga(g,b)||(r.track({type:2,doc:b}),N=!0,(c&&this.Aa(b,c)>0||l&&this.Aa(b,l)<0)&&(a=!0)):!g&&b?(r.track({type:0,doc:b}),N=!0):g&&!b&&(r.track({type:1,doc:g}),N=!0,(c||l)&&(a=!0)),N&&(b?(s=s.add(b),o=O?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((f,h)=>function(b,I){let O=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return O(b)-O(I)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,l=c!==this.Ea;return this.Ea=c,s.length!==0||l?{snapshot:new gd(this.query,e.Ra,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new fv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=et(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new mv(r))}),this.da.forEach(r=>{e.has(r)||n.push(new pv(r))}),n}ba(e){this.Ta=e.Ts,this.da=et();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return gd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},oT=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},sT=class{constructor(e){this.key=e,this.va=!1}},aT=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Pa(a=>h2(a),Av),this.Ma=new Map,this.xa=new Set,this.Oa=new Bt(we.comparator),this.Na=new Map,this.La=new ep,this.Ba={},this.ka=new Map,this.qa=Xh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function OJ(t,e,n=!0){return w(this,null,function*(){let r=K2(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield H2(r,e,n,!0),i})}function FJ(t,e){return w(this,null,function*(){let n=K2(t);yield H2(n,e,!0,!1)})}function H2(t,e,n,r){return w(this,null,function*(){let i=yield _J(t.localStore,Do(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield LJ(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&O2(t.remoteStore,i),a})}function LJ(t,e,n,r,i){return w(this,null,function*(){t.Ka=(h,g,b)=>function(O,N,$,Y){return w(this,null,function*(){let oe=N.view.ma($);oe.ns&&(oe=yield $F(O.localStore,N.query,!1).then(({documents:F})=>N.view.ma(F,oe)));let se=Y&&Y.targetChanges.get(N.targetId),Te=Y&&Y.targetMismatches.get(N.targetId)!=null,ge=N.view.applyChanges(oe,O.isPrimaryClient,se,Te);return WF(O,N.targetId,ge.wa),ge.snapshot})}(t,h,g,b);let o=yield $F(t.localStore,e,!0),s=new iT(e,o.Ts),a=s.ma(o.documents),c=Zh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,c);WF(t,n,l.wa);let f=new oT(e,n,s);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function VJ(t,e,n){return w(this,null,function*(){let r=Pe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Av(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield qx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&AT(r.remoteStore,i.targetId),cT(r,i.targetId)}).catch(ap))):(cT(r,i.targetId),yield qx(r.localStore,i.targetId,!0))})}function BJ(t,e){return w(this,null,function*(){let n=Pe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),AT(n.remoteStore,r.targetId))})}function UJ(t,e,n){return w(this,null,function*(){let r=WJ(t);try{let i=yield function(s,a){let c=Pe(s),l=kt.now(),f=a.reduce((b,I)=>b.add(I.key),et()),h,g;return c.persistence.runTransaction("Locally write mutations","readwrite",b=>{let I=Ss(),O=et();return c.cs.getEntries(b,f).next(N=>{I=N,I.forEach(($,Y)=>{Y.isValidDocument()||(O=O.add($))})}).next(()=>c.localDocuments.getOverlayedDocuments(b,I)).next(N=>{h=N;let $=[];for(let Y of a){let oe=WZ(Y,h.get(Y.key).overlayedDocument);oe!=null&&$.push(new Po(Y.key,oe,s2(oe.value.mapValue),Aa.exists(!0)))}return c.mutationQueue.addMutationBatch(b,l,$,a)}).next(N=>{g=N;let $=N.applyToLocalDocumentSet(h,O);return c.documentOverlayCache.saveOverlays(b,N.batchId,$)})}).then(()=>({batchId:g.batchId,changes:g2(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Ba[s.currentUser.toKey()];l||(l=new Bt(ct)),l=l.insert(a,c),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield up(r,i.changes),yield Pv(r.remoteStore)}catch(i){let o=PT(i,"Failed to persist write");n.reject(o)}})}function q2(t,e){return w(this,null,function*(){let n=Pe(t);try{let r=yield gJ(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?gt(s.va):i.removedDocuments.size>0&&(gt(s.va),s.va=!1))}),yield up(n,r,e)}catch(r){yield ap(r)}})}function GF(t,e,n){let r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=Pe(s);c.onlineState=a;let l=!1;c.queries.forEach((f,h)=>{for(let g of h.j_)g.Z_(a)&&(l=!0)}),l&&NT(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function jJ(t,e,n){return w(this,null,function*(){let r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Bt(we.comparator);s=s.insert(o,qi.newNoDocument(o,Oe.min()));let a=et().add(o),c=new ev(Oe.min(),new Map,new Bt(ct),s,a);yield q2(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),kT(r)}else yield qx(r.localStore,e,!1).then(()=>cT(r,e,n)).catch(ap)})}function $J(t,e){return w(this,null,function*(){let n=Pe(t),r=e.batch.batchId;try{let i=yield mJ(n.localStore,e);G2(n,r,null),z2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield up(n,i)}catch(i){yield ap(i)}})}function HJ(t,e,n){return w(this,null,function*(){let r=Pe(t);try{let i=yield function(s,a){let c=Pe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(gt(h!==null),f=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>c.localDocuments.getDocuments(l,f))})}(r.localStore,e);G2(r,e,n),z2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield up(r,i)}catch(i){yield ap(i)}})}function z2(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function G2(t,e,n){let r=Pe(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function cT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||W2(t,r)})}function W2(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(AT(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),kT(t))}function WF(t,e,n){for(let r of n)r instanceof pv?(t.La.addReference(r.key,e),qJ(t,r)):r instanceof mv?(me("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||W2(t,r.key)):xe()}function qJ(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(me("SyncEngine","New document in limbo: "+n),t.xa.add(r),kT(t))}function kT(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new we(Nt.fromString(e)),r=t.qa.next();t.Na.set(r,new sT(n)),t.Oa=t.Oa.insert(n,r),O2(t.remoteStore,new Jh(Do(IT(n.path)),r,"TargetPurposeLimboResolution",n2.oe))}}function up(t,e,n){return w(this,null,function*(){let r=Pe(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{s.push(r.Ka(c,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let h=l?!l.fromCache:(f=n?.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(l){i.push(l);let h=Ux.Wi(c.targetId,l);o.push(h)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(c,l){return w(this,null,function*(){let f=Pe(c);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>re.forEach(l,g=>re.forEach(g.$i,b=>f.persistence.referenceDelegate.addReference(h,g.targetId,b)).next(()=>re.forEach(g.Ui,b=>f.persistence.referenceDelegate.removeReference(h,g.targetId,b)))))}catch(h){if(!cp(h))throw h;me("LocalStore","Failed to update sequence numbers: "+h)}for(let h of l){let g=h.targetId;if(!h.fromCache){let b=f.os.get(g),I=b.snapshotVersion,O=b.withLastLimboFreeSnapshotVersion(I);f.os=f.os.insert(g,O)}}})}(r.localStore,o))})}function zJ(t,e){return w(this,null,function*(){let n=Pe(t);if(!n.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());let r=yield N2(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new fe(Q.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield up(n,r.hs)}})}function GJ(t,e){let n=Pe(t),r=n.Na.get(e);if(r&&r.va)return et().add(r.key);{let i=et(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function K2(t){let e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=q2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jJ.bind(null,e),e.Ca.d_=NJ.bind(null,e.eventManager),e.Ca.$a=kJ.bind(null,e.eventManager),e}function WJ(t){let e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$J.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HJ.bind(null,e),e}var KF=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return w(this,null,function*(){this.serializer=Rv(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return pJ(this.persistence,new $x,n.initialUser,this.serializer)}Ga(n){return new Lx(Bx.Zr,this.serializer)}Wa(n){return new zx}terminate(){return w(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var KJ=(()=>{class t{initialize(n,r){return w(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>GF(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=zJ.bind(null,this.syncEngine),yield PJ(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new nT}()}createDatastore(n){let r=Rv(n.databaseInfo.databaseId),i=function(s){return new Kx(s)}(n.databaseInfo);return function(s,a,c,l){return new Zx(s,a,c,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,c){return new Xx(i,o,s,a,c)}(this.localStore,this.datastore,n.asyncQueue,r=>GF(this.syncEngine,r,0),function(){return av.D()?new av:new Gx}())}createSyncEngine(n,r){return function(o,s,a,c,l,f,h){let g=new aT(o,s,a,c,l,f);return h&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var n,r;yield function(o){return w(this,null,function*(){let s=Pe(o);me("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield lp(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var gv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var lT=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rn.UNAUTHENTICATED,this.clientId=W0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>w(this,null,function*(){me("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(me("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new To;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=PT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function UI(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield N2(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function QF(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield QJ(t);me("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>HF(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>HF(e.remoteStore,i)),t._onlineComponents=e})}function QJ(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{yield UI(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ad("Error using user provided cache. Falling back to memory cache: "+n),yield UI(t,new KF)}}else me("FirestoreClient","Using default OfflineComponentProvider"),yield UI(t,new KF);return t._offlineComponents})}function Q2(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),yield QF(t,t._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),yield QF(t,new KJ))),t._onlineComponents})}function YJ(t){return Q2(t).then(e=>e.syncEngine)}function uT(t){return w(this,null,function*(){let e=yield Q2(t),n=e.eventManager;return n.onListen=OJ.bind(null,e.syncEngine),n.onUnlisten=VJ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FJ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BJ.bind(null,e.syncEngine),n})}function ZJ(t,e,n={}){let r=new To;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(o,s,a,c,l){let f=new gv({next:g=>{f.Za(),s.enqueueAndForget(()=>$2(o,h)),g.fromCache&&c.source==="server"?l.reject(new fe(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),h=new hv(a,f,{includeMetadataChanges:!0,_a:!0});return j2(o,h)}(yield uT(t),t.asyncQueue,e,n,r)})),r.promise}function Y2(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var YF=new Map;function Z2(t,e,n){if(!n)throw new fe(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JJ(t,e,n,r){if(e===!0&&r===!0)throw new fe(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ZF(t){if(!we.isDocumentKey(t))throw new fe(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JF(t){if(we.isDocumentKey(t))throw new fe(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe()}function bs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Nv(t);throw new fe(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var yv=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Y2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new fe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new fe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new fe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},yd=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jI;switch(r.type){case"firstParty":return new zI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=YF.get(n);r&&(me("ComponentProvider","Removing Datastore"),YF.delete(n),r.terminate())}(this),Promise.resolve()}};function J2(t,e,n,r={}){var i;let o=(t=bs(t,yd))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ad("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Rn.MOCK_USER;else{a=Qk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new fe(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Rn(l)}t._authCredentials=new $I(new G0(a,c))}}var ka=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Tr=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Da=class t extends ka{constructor(e,n,r){super(e,n,IT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Tr(this.firestore,null,new we(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function X2(t,e,...n){if(t=rn(t),Z2("collection","path",e),t instanceof yd){let r=Nt.fromString(e,...n);return JF(r),new Da(t,null,r)}{if(!(t instanceof Tr||t instanceof Da))throw new fe(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Nt.fromString(e,...n));return JF(r),new Da(t.firestore,null,r)}}function OT(t,e,...n){if(t=rn(t),arguments.length===1&&(e=W0.newId()),Z2("doc","path",e),t instanceof yd){let r=Nt.fromString(e,...n);return ZF(r),new Tr(t,null,new we(r))}{if(!(t instanceof Tr||t instanceof Da))throw new fe(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Nt.fromString(e,...n));return ZF(r),new Tr(t.firestore,t instanceof Da?t.converter:null,new we(r))}}var vv=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new cv(this,"async_queue_retry"),this.Vu=()=>{let r=BI();r&&me("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=BI();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=BI();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new To;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return w(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!cp(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Es("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=eT.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&xe()}verifyOperationInProgress(){}wu(){return w(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function XF(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Oa=class extends yd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vv,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,yield e}})}};function eL(t,e){let n=typeof t=="object"?t:Gu(),r=typeof t=="string"?t:e||"(default)",i=Rh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Kk("firestore");o&&J2(i,...o)}return i}function FT(t){if(t._terminated)throw new fe(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XJ(t),t._firestoreClient}function XJ(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,f){return new YI(a,c,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Y2(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new lT(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(t._componentsProvider))}var tp=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(tr.fromBase64String(e))}catch(n){throw new fe(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var vd=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var np=class{constructor(e){this._methodName=e}};var rp=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}};var ip=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var eX=/^__.*__$/,dT=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Po(e,this.data,this.fieldMask,n,this.fieldTransforms):new dl(e,this.data,n,this.fieldTransforms)}},_v=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Po(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function tL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}var fT=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return bv(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(tL(this.Cu)&&eX.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},hT=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rv(e)}Qu(e,n,r,i=!1){return new fT({Cu:e,methodName:n,qu:r,path:Zr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function LT(t){let e=t._freezeSettings(),n=Rv(t._databaseId);return new hT(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tX(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);VT("Data must be an object, but it was:",s,r);let a=nL(r,s),c,l;if(o.merge)c=new vi(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let h of o.mergeFields){let g=pT(e,h,n);if(!s.contains(g))throw new fe(Q.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);iL(f,g)||f.push(g)}c=new vi(f),l=s.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=s.fieldTransforms;return new dT(new Yr(a),c,l)}var wv=class t extends np{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function nX(t,e,n,r){let i=t.Qu(1,e,n);VT("Data must be an object, but it was:",i,r);let o=[],s=Yr.empty();fl(r,(c,l)=>{let f=BT(e,c,n);l=rn(l);let h=i.Nu(f);if(l instanceof wv)o.push(f);else{let g=dp(l,h);g!=null&&(o.push(f),s.set(f,g))}});let a=new vi(o);return new _v(s,a,i.fieldTransforms)}function rX(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[pT(e,r,n)],c=[i];if(o.length%2!=0)throw new fe(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(pT(e,o[g])),c.push(o[g+1]);let l=[],f=Yr.empty();for(let g=a.length-1;g>=0;--g)if(!iL(l,a[g])){let b=a[g],I=c[g];I=rn(I);let O=s.Nu(b);if(I instanceof wv)l.push(b);else{let N=dp(I,O);N!=null&&(l.push(b),f.set(b,N))}}let h=new vi(l);return new _v(f,h,s.fieldTransforms)}function iX(t,e,n,r=!1){return dp(n,t.Qu(r?4:3,e))}function dp(t,e){if(rL(t=rn(t)))return VT("Unsupported field value:",e,t),nL(t,e);if(t instanceof np)return function(r,i){if(!tL(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=dp(a,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $Z(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=kt.fromDate(r);return{timestampValue:iv(i.serializer,o)}}if(r instanceof kt){let o=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:iv(i.serializer,o)}}if(r instanceof rp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof tp)return{bytesValue:x2(i.serializer,r._byteString)};if(r instanceof Tr){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:TT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ip)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return xT(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Nv(r)}`)}(t,e)}function nL(t,e){let n={};return r2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fl(t,(r,i)=>{let o=dp(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function rL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kt||t instanceof rp||t instanceof tp||t instanceof Tr||t instanceof np||t instanceof ip)}function VT(t,e,n){if(!rL(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Nv(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function pT(t,e,n){if((e=rn(e))instanceof vd)return e._internalPath;if(typeof e=="string")return BT(t,e);throw bv("Field path arguments must be of type string or ",t,!1,void 0,n)}var oX=new RegExp("[~\\*/\\[\\]]");function BT(t,e,n){if(e.search(oX)>=0)throw bv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vd(...e.split("."))._internalPath}catch{throw bv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bv(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new fe(Q.INVALID_ARGUMENT,a+t+c)}function iL(t,e){return t.some(n=>n.isEqual(e))}var Ev=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new mT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(kv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},mT=class extends Ev{data(){return super.data()}};function kv(t,e){return typeof e=="string"?BT(t,e):e instanceof vd?e._internalPath:e._delegate._internalPath}function oL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var op=class{},Cv=class extends op{};function sL(t,e,...n){let r=[];e instanceof op&&r.push(e),r=r.concat(n),function(o){let s=o.filter(c=>c instanceof gT).length,a=o.filter(c=>c instanceof Sv).length;if(s>1||s>0&&a>0)throw new fe(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Sv=class t extends Cv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return lL(e._query,n),new ka(e.firestore,e.converter,lx(e._query,n))}_parse(e){let n=LT(e.firestore);return function(o,s,a,c,l,f,h){let g;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new fe(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){t2(h,f);let b=[];for(let I of h)b.push(e2(c,o,I));g={arrayValue:{values:b}}}else g=e2(c,o,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||t2(h,f),g=iX(a,s,h,f==="in"||f==="not-in");return an.create(l,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function aL(t,e,n){let r=e,i=kv("where",t);return Sv._create(i,r,n)}var gT=class t extends op{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zi.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)lL(s,c),s=lx(s,c)}(e._query,n),new ka(e.firestore,e.converter,lx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var yT=class t extends Cv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new fe(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cl(o,s)}(e._query,this._field,this._direction);return new ka(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Ma(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function cL(t,e="asc"){let n=e,r=kv("orderBy",t);return yT._create(r,n)}function e2(t,e,n){if(typeof(n=rn(n))=="string"){if(n==="")throw new fe(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f2(e)&&n.indexOf("/")!==-1)throw new fe(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Nt.fromString(n));if(!we.isDocumentKey(r))throw new fe(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return IF(t,new we(r))}if(n instanceof Tr)return IF(t,n._key);throw new fe(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nv(n)}.`)}function t2(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lL(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var vT=class{convertValue(e,n="none"){switch(al(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return fl(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Mt(s.doubleValue));return new ip(o)}convertGeoPoint(e){return new rp(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=bT(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qh(e));default:return null}}convertTimestamp(e){let n=Cs(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Nt.fromString(e);gt(P2(r));let i=new Z0(r.get(1),r.get(3)),o=new we(r.popFirst(5));return i.isEqual(n)||Es(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function sX(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var il=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Iv=class extends Ev{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(kv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},sd=class extends Iv{data(e={}){return super.data(e)}},xv=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new il(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sd(this._firestore,this._userDataWriter,r.key,r,new il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new sd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new il(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new sd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new il(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:aX(a.type),doc:c,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function aX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}var sp=class extends vT{constructor(e){super(),this.firestore=e}convertBytes(e){return new tp(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tr(this.firestore,null,n)}};function uL(t){t=bs(t,ka);let e=bs(t.firestore,Oa),n=FT(e),r=new sp(e);return oL(t._query),ZJ(n,t._query).then(i=>new xv(e,r,t,i))}function dL(t,e,n,...r){t=bs(t,Tr);let i=bs(t.firestore,Oa),o=LT(i),s;return s=typeof(e=rn(e))=="string"||e instanceof vd?rX(o,"updateDoc",t._key,e,n,r):nX(o,"updateDoc",t._key,e),hL(i,[s.toMutation(t._key,Aa.exists(!0))])}function fL(t,e){let n=bs(t.firestore,Oa),r=OT(t),i=sX(t.converter,e);return hL(n,[tX(LT(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Aa.exists(!1))]).then(()=>r)}function UT(t,...e){var n,r,i;t=rn(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||XF(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(XF(e[s])){let h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let c,l,f;if(t instanceof Tr)l=bs(t.firestore,Oa),f=IT(t._key.path),c={next:h=>{e[s]&&e[s](cX(l,t,h))},error:e[s+1],complete:e[s+2]};else{let h=bs(t,ka);l=bs(h.firestore,Oa),f=h._query;let g=new sp(l);c={next:b=>{e[s]&&e[s](new xv(l,g,h,b))},error:e[s+1],complete:e[s+2]},oL(t._query)}return function(g,b,I,O){let N=new gv(O),$=new hv(b,N,I);return g.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return j2(yield uT(g),$)})),()=>{N.Za(),g.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return $2(yield uT(g),$)}))}}(FT(l),f,a,c)}function hL(t,e){return function(r,i){let o=new To;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return UJ(yield YJ(r),i,o)})),o.promise}(FT(t),e)}function cX(t,e,n){let r=n.docs.get(e._key),i=new sp(t);return new Iv(t,i,e._key,r,new il(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){_d=i})(Sa),Ca(new yi("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Oa(new HI(r.getProvider("auth-internal")),new WI(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new fe(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Z0(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),bn(bF,"4.7.3",e),bn(bF,"4.7.3","esm2017")})();var Ov=function(){return Ov=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ov.apply(this,arguments)};var dX={includeMetadataChanges:!1};function pL(t,e){return e===void 0&&(e=dX),new Qe(function(n){var r=UT(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function mL(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Ov(Ov({},r),(n={},n[e.idField]=t.id,n))}function gL(t){return pL(t,{includeMetadataChanges:!0}).pipe(Ve(function(e){return e.docs}))}function yL(t,e){return e===void 0&&(e={}),gL(t).pipe(Ve(function(n){return n.map(function(r){return mL(r,e)})}))}var zt=class{constructor(e){return e}},vL="firestore",jT=class{constructor(){return Mh(vL)}};var $T=new pe("angularfire2.firestore-instances");function fX(t,e){let n=_0(vL,t,e);return n&&new zt(n)}function hX(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new zt(r)}}var pX={provide:jT,deps:[[new dr,$T]]},mX={provide:zt,useFactory:fX,deps:[[new dr,$T],ps]};function _L(t,...e){return bn("angularfire",Yc.full,"fst"),go([mX,pX,{provide:$T,useFactory:hX(t),multi:!0,deps:[pt,xr,Qu,Zc,[new dr,Uh],[new dr,Ku],...e]}])}var Is=Dn(yL,!0);var Fa=Dn(fL,!0);var Ut=Dn(X2,!0);var xs=Dn(OT,!0);var bd=Dn(uL,!0);var wL=Dn(eL,!0);var Fv=Dn(cL,!0);var Jr=Dn(sL,!0);var Gi=Dn(dL,!0);var No=Dn(aL,!0);var XD=hc(fp());var Ed={siteKey:"6LdlA38qAAAAAFIPXfhFg9wSLNa9U64m9DoiGTV6"};var gX=new pe("recaptcha-language"),yX=new pe("recaptcha-base-url"),vX=new pe("recaptcha-nonce-tag"),_X=new pe("recaptcha-settings"),wX=new pe("recaptcha-v3-site-key"),bX=new pe("recaptcha-loader-options");function EX(t,e,n,{url:r,lang:i,nonce:o}={}){window.ng2recaptchaloaded=()=>{n(grecaptcha)};let s=document.createElement("script");s.innerHTML="";let{url:a,nonce:c}=e(new URL(r||"https://www.google.com/recaptcha/api.js"));a.searchParams.set("render",t==="explicit"?t:t.key),a.searchParams.set("onload","ng2recaptchaloaded"),a.searchParams.set("trustedtypes","true"),i&&a.searchParams.set("hl",i),s.src=a.href;let l=c||o;l&&s.setAttribute("nonce",l),s.async=!0,s.defer=!0,document.head.appendChild(s)}function CX({v3SiteKey:t,onBeforeLoad:e,onLoaded:n}){let r=t?{key:t}:"explicit";bL.loadScript(r,e,n)}var bL={loadScript:EX,newLoadScript:CX};function SX(t){return t.asObservable().pipe(Sr(e=>e!==null))}var EL=(()=>{class t{static{this.ready=null}constructor(n,r,i,o,s,a){this.platformId=n,this.language=r,this.baseUrl=i,this.nonce=o,this.v3SiteKey=s,this.options=a;let c=this.init();this.ready=c?SX(c):De()}init(){if(t.ready)return t.ready;if(!_N(this.platformId))return;let n=new Ht(null);return t.ready=n,bL.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:r=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(r);let i=new URL(this.baseUrl??r);return this.language&&i.searchParams.set("hl",this.language),{url:i,nonce:this.nonce}},onLoaded:r=>{let i=r;this.options?.onLoaded&&(i=this.options.onLoaded(r)),n.next(i)}}),n}static{this.\u0275fac=function(r){return new(r||t)(Se(yo),Se(gX,8),Se(yX,8),Se(vX,8),Se(wX,8),Se(bX,8))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac})}}return t})(),IX=0,Cd=(()=>{class t{constructor(n,r,i,o){this.elementRef=n,this.loader=r,this.zone=i,this.id=`ngrecaptcha-${IX++}`,this.errorMode="default",this.resolved=new He,this.error=new He,this.errored=new He,o&&(this.siteKey=o.siteKey,this.theme=o.theme,this.type=o.type,this.size=o.size,this.badge=o.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(n=>{n!=null&&n.render instanceof Function&&(this.grecaptcha=n,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){this.size==="invisible"&&(this.widget!=null?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){this.widget!=null&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return this.widget!=null?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(n){this.error.emit(n),this.errored.emit(n)}captchaResponseCallback(n){this.resolved.emit(n)}grecaptchaReset(){this.widget!=null&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){let n={badge:this.badge,callback:r=>{this.zone.run(()=>this.captchaResponseCallback(r))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};this.errorMode==="handled"&&(n["error-callback"]=(...r)=>{this.zone.run(()=>this.onError(r))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,n),this.executeRequested===!0&&(this.executeRequested=!1,this.execute())}static{this.\u0275fac=function(r){return new(r||t)(K(Ur),K(EL),K(pt),K(_X,8))}}static{this.\u0275cmp=Be({type:t,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(r,i){r&2&&es("id",i.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return t})(),xX=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Br({type:t})}static{this.\u0275inj=Vr({})}}return t})(),Sd=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Br({type:t})}static{this.\u0275inj=Vr({providers:[EL],imports:[xX]})}}return t})();var CL=t=>{let e=t.httpHandler;return{setHttpHandler(n){e=n},httpHandler(){return e},updateHttpClientConfig(n,r){e.updateHttpClientConfig(n,r)},httpHandlerConfigs(){return e.httpHandlerConfigs()}}},SL=t=>({httpHandler:t.httpHandler()});var hp=function(t){return t.HTTP="http",t.HTTPS="https",t}(hp||{});var pp=function(t){return t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256",t}(pp||{});var Id="__smithy_context";var Ue=class t{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let n=new t(z(A({},e),{headers:A({},e.headers)}));return n.query&&(n.query=TX(n.query)),n}static isInstance(e){if(!e)return!1;let n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){return t.clone(this)}};function TX(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return z(A({},e),{[n]:Array.isArray(r)?[...r]:r})},{})}var Ar=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let n=e;return typeof n.statusCode=="number"&&typeof n.headers=="object"}};function AX(t){return e=>n=>w(this,null,function*(){let{request:r}=n;return Ue.isInstance(r)&&r.body&&t.runtime==="node"&&t.requestHandler?.constructor?.name!=="FetchHttpHandler"&&(r.headers=z(A({},r.headers),{Expect:"100-continue"})),e(z(A({},n),{request:r}))})}var DX={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},IL=t=>({applyToStack:e=>{e.add(AX(t),DX)}});var zT={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},GT=zT.WHEN_SUPPORTED;var WT=zT.WHEN_SUPPORTED,Dt=function(t){return t.MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.SHA1="SHA1",t.SHA256="SHA256",t}(Dt||{});var xL=Dt.MD5,TL=Dt.CRC32;function AL(t,e,n){return t.$source||(t.$source={}),t.$source[e]=n,t}function Mn(t,e,n){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=n}var KT=t=>Ar.isInstance(t)?t.headers?.date??t.headers?.Date:void 0;var xd=t=>new Date(Date.now()+t);var DL=(t,e)=>Math.abs(xd(e).getTime()-t)>=3e5;var QT=(t,e)=>{let n=Date.parse(t);return DL(n,e)?n-Date.now():e};var mp=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},Lv=t=>w(void 0,null,function*(){let e=mp("context",t.context),n=mp("config",t.config),r=e.endpointV2?.properties?.authSchemes?.[0],o=yield mp("signer",n.signer)(r),s=t?.signingRegion,a=t?.signingRegionSet,c=t?.signingName;return{config:n,signer:o,signingRegion:s,signingRegionSet:a,signingName:c}}),pl=class{sign(e,n,r){return w(this,null,function*(){if(!Ue.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let i=yield Lv(r),{config:o,signer:s}=i,{signingRegion:a,signingName:c}=i,l=r.context;if(l?.authSchemes?.length??!1){let[h,g]=l.authSchemes;h?.name==="sigv4a"&&g?.name==="sigv4"&&(a=g?.signingRegion??a,c=g?.signingName??c)}return yield s.sign(e,{signingDate:xd(o.systemClockOffset),signingRegion:a,signingService:c})})}errorHandler(e){return n=>{let r=n.ServerTime??KT(n.$response);if(r){let i=mp("config",e.config),o=i.systemClockOffset;i.systemClockOffset=QT(r,i.systemClockOffset),i.systemClockOffset!==o&&n.$metadata&&(n.$metadata.clockSkewCorrected=!0)}throw n}}successHandler(e,n){let r=KT(e);if(r){let i=mp("config",n.config);i.systemClockOffset=QT(r,i.systemClockOffset)}}};var gp=class extends pl{sign(e,n,r){return w(this,null,function*(){if(!Ue.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:i,signer:o,signingRegion:s,signingRegionSet:a,signingName:c}=yield Lv(r),f=((yield i.sigv4aSigningRegionSet?.())??a??[s]).join(",");return yield o.sign(e,{signingDate:xd(i.systemClockOffset),signingRegion:f,signingService:c})})}};var Wi=t=>t[Id]||(t[Id]={});var $n=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};function PX(t){let e=new Map;for(let n of t)e.set(n.schemeId,n);return e}var YT=(t,e)=>(n,r)=>i=>w(void 0,null,function*(){let o=t.httpAuthSchemeProvider(yield e.httpAuthSchemeParametersProvider(t,r,i.input)),s=PX(t.httpAuthSchemes),a=Wi(r),c=[];for(let l of o){let f=s.get(l.schemeId);if(!f){c.push(`HttpAuthScheme \`${l.schemeId}\` was not enabled for this service.`);continue}let h=f.identityProvider(yield e.identityProviderConfigProvider(t));if(!h){c.push(`HttpAuthScheme \`${l.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:g={},signingProperties:b={}}=l.propertiesExtractor?.(t,r)||{};l.identityProperties=Object.assign(l.identityProperties||{},g),l.signingProperties=Object.assign(l.signingProperties||{},b),a.selectedHttpAuthScheme={httpAuthOption:l,identity:yield h(l.identityProperties),signer:f.signer};break}if(!a.selectedHttpAuthScheme)throw new Error(c.join(`
`));return n(i)});var NX={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},RL=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n})=>({applyToStack:r=>{r.addRelativeTo(YT(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n}),NX)}});var ML=(t,e)=>n=>r=>w(void 0,null,function*(){let{response:i}=yield n(r);try{let o=yield e(i,t);return{response:i,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:i}),!("$metadata"in o)){let s="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";o.message+=`
  `+s,typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText)}throw o}});var PL=(t,e)=>(n,r)=>i=>w(void 0,null,function*(){let o=r.endpointV2?.url&&t.urlParser?()=>w(void 0,null,function*(){return t.urlParser(r.endpointV2.url)}):t.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let s=yield e(i.input,z(A({},t),{endpoint:o}));return n(z(A({},i),{request:s}))});var kX={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},yp={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Vv(t,e,n){return{applyToStack:r=>{r.add(ML(t,n),kX),r.add(PL(t,e),yp)}}}var _we={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:yp.name};var OX=t=>e=>{throw e},FX=(t,e)=>{},NL=t=>(e,n)=>r=>w(void 0,null,function*(){if(!Ue.isInstance(r.request))return e(r);let o=Wi(n).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:s={}},identity:a,signer:c}=o,l=yield e(z(A({},r),{request:yield c.sign(r.request,a,s)})).catch((c.errorHandler||OX)(s));return(c.successHandler||FX)(l.response,s),l});var ZT={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},kL=t=>({applyToStack:e=>{e.addRelativeTo(NL(t),ZT)}});var Ts=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};var As={},ml=new Array(64);for(let t=0,e=65,n=90;t+e<=n;t++){let r=String.fromCharCode(t+e);As[r]=t,ml[t]=r}for(let t=0,e=97,n=122;t+e<=n;t++){let r=String.fromCharCode(t+e),i=t+26;As[r]=i,ml[i]=r}for(let t=0;t<10;t++){As[t.toString(10)]=t+52;let e=t.toString(10),n=t+52;As[e]=n,ml[n]=e}As["+"]=62;ml[62]="+";As["/"]=63;ml[63]="/";var Va=6,gl=8,OL=63;var Td=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;let n=new ArrayBuffer(e),r=new DataView(n);for(let i=0;i<t.length;i+=4){let o=0,s=0;for(let l=i,f=i+3;l<=f;l++)if(t[l]!=="="){if(!(t[l]in As))throw new TypeError(`Invalid character ${t[l]} in base64 string.`);o|=As[t[l]]<<(f-l)*Va,s+=Va}else o>>=Va;let a=i/4*3;o>>=s%gl;let c=Math.floor(s/gl);for(let l=0;l<c;l++){let f=(c-l-1)*gl;r.setUint8(a+l,(o&255<<f)>>f)}}return new Uint8Array(n)};var Xr=t=>new TextEncoder().encode(t);var Oo=t=>typeof t=="string"?Xr(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t);var Ad=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)};function yl(t){let e;typeof t=="string"?e=Xr(t):e=t;let n=typeof e=="object"&&typeof e.length=="number",r=typeof e=="object"&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let o=0;o<e.length;o+=3){let s=0,a=0;for(let l=o,f=Math.min(o+3,e.length);l<f;l++)s|=e[l]<<(f-l-1)*gl,a+=gl;let c=Math.ceil(a/Va);s<<=c*Va-a;for(let l=1;l<=c;l++){let f=(c-l)*Va;i+=ml[(s&OL<<f)>>f]}i+="==".slice(0,4-c)}return i}function FL(t,e="utf-8"){return e==="base64"?yl(t):Ad(t)}function LL(t,e){return e==="base64"?Ds.mutate(Td(t)):Ds.mutate(Xr(t))}var Ds=class t extends Uint8Array{static fromString(e,n="utf-8"){switch(typeof e){case"string":return LL(e,n);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,t.prototype),e}transformToString(e="utf-8"){return FL(this,e)}};var VL=(t,e)=>{let{base64Encoder:n,bodyLengthChecker:r,checksumAlgorithmFn:i,checksumLocationName:o,streamHasher:s}=e,a=n!==void 0&&r!==void 0&&i!==void 0&&o!==void 0&&s!==void 0,c=a?s(i,t):void 0,l=t.getReader();return new ReadableStream({pull(h){return w(this,null,function*(){let{value:g,done:b}=yield l.read();if(b){if(h.enqueue(`0\r
`),a){let I=n(yield c);h.enqueue(`${o}:${I}\r
`),h.enqueue(`\r
`)}h.close()}else h.enqueue(`${(r(g)||0).toString(16)}\r
${g}\r
`)})}})};var Ki=t=>encodeURIComponent(t).replace(/[!'()*]/g,LX),LX=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function JT(t){let e=[];for(let n of Object.keys(t).sort()){let r=t[n];if(n=Ki(n),Array.isArray(r))for(let i=0,o=r.length;i<o;i++)e.push(`${n}=${Ki(r[i])}`);else{let i=n;(r||typeof r=="string")&&(i+=`=${Ki(r)}`),e.push(i)}}return e.join("&")}var BL=t=>w(void 0,null,function*(){return typeof Blob=="function"&&t instanceof Blob?new Uint8Array(yield t.arrayBuffer()):VX(t)});function VX(t){return w(this,null,function*(){let e=[],n=t.getReader(),r=!1,i=0;for(;!r;){let{done:a,value:c}=yield n.read();c&&(e.push(c),i+=c.length),r=a}let o=new Uint8Array(i),s=0;for(let a of e)o.set(a,s),s+=a.length;return o})}var UL={},XT={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),UL[t]=e,XT[e]=t}function Bv(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){let r=t.slice(n,n+2).toLowerCase();if(r in XT)e[n/2]=XT[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return e}function Gt(t){let e="";for(let n=0;n<t.byteLength;n++)e+=UL[t[n]];return e}var Uv=t=>typeof ReadableStream=="function"&&(t?.constructor?.name===ReadableStream.name||t instanceof ReadableStream);var jL="The stream has already been transformed.",HL=t=>{if(!$L(t)&&!Uv(t)){let i=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let e=!1,n=()=>w(void 0,null,function*(){if(e)throw new Error(jL);return e=!0,yield BL(t)}),r=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(t,{transformToByteArray:n,transformToString:i=>w(void 0,null,function*(){let o=yield n();if(i==="base64")return yl(o);if(i==="hex")return Gt(o);if(i===void 0||i==="utf8"||i==="utf-8")return Ad(o);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")}),transformToWebStream:()=>{if(e)throw new Error(jL);if(e=!0,$L(t))return r(t);if(Uv(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},$L=t=>typeof Blob=="function"&&t instanceof Blob;function qL(t){return w(this,null,function*(){return typeof t.stream=="function"&&(t=t.stream()),t.tee()})}function zL(t,e){return w(this,null,function*(){let n=0,r=[],i=t.getReader(),o=!1;for(;!o;){let{done:c,value:l}=yield i.read();if(l&&(r.push(l),n+=l?.byteLength??0),n>=e)break;o=c}i.releaseLock();let s=new Uint8Array(Math.min(e,n)),a=0;for(let c of r){if(c.byteLength>s.byteLength-a){s.set(c.subarray(0,s.byteLength-a),a);break}else s.set(c,a);a+=c.length}return s})}var vp=(...n)=>w(void 0,[...n],function*(t=new Uint8Array,e){if(t instanceof Uint8Array)return Ds.mutate(t);if(!t)return Ds.mutate(new Uint8Array);let r=e.streamCollector(t);return Ds.mutate(yield r)});function jv(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function $v(t,e){return new eA(t,e)}var eA=class{constructor(e,n){this.input=e,this.context=n,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}build(){return w(this,null,function*(){let{hostname:e,protocol:n="https",port:r,path:i}=yield this.context.endpoint();this.path=i;for(let o of this.resolvePathStack)o(this.path);return new Ue({protocol:n,hostname:this.hostname||e,port:r,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(n=>{this.path=`${n?.endsWith("/")?n.slice(0,-1):n||""}`+e}),this}p(e,n,r,i){return this.resolvePathStack.push(o=>{this.path=tA(o,this.input,e,n,r,i)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}};var tA=(t,e,n,r,i,o)=>{if(e!=null&&e[n]!==void 0){let s=r();if(s.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");t=t.replace(i,o?s.split("/").map(a=>jv(a)).join("/"):jv(s))}else throw new Error("No value provided for input HTTP label: "+n+".");return t};function GL(t,e,n){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=n}var Hv=class{constructor(e){this.authSchemes=new Map;for(let[n,r]of Object.entries(e))r!==void 0&&this.authSchemes.set(n,r)}getIdentityProvider(e){return this.authSchemes.get(e)}};var BX=t=>e=>nA(e)&&e.expiration.getTime()-Date.now()<t;var WL=BX(3e5),nA=t=>t.expiration!==void 0,KL=(t,e,n)=>{if(t===void 0)return;let r=typeof t!="function"?()=>w(void 0,null,function*(){return Promise.resolve(t)}):t,i,o,s,a=!1,c=l=>w(void 0,null,function*(){o||(o=r(l));try{i=yield o,s=!0,a=!1}finally{o=void 0}return i});return e===void 0?l=>w(void 0,null,function*(){return(!s||l?.forceRefresh)&&(i=yield c(l)),i}):l=>w(void 0,null,function*(){return(!s||l?.forceRefresh)&&(i=yield c(l)),a?i:n(i)?(e(i)&&(yield c(l)),i):(a=!0,i)})};var QL=(t,e,n)=>{let r,i,o,s=!1,a=()=>w(void 0,null,function*(){i||(i=t());try{r=yield i,o=!0,s=!1}finally{i=void 0}return r});return e===void 0?c=>w(void 0,null,function*(){return(!o||c?.forceRefresh)&&(r=yield a()),r}):c=>w(void 0,null,function*(){return(!o||c?.forceRefresh)&&(r=yield a()),s?r:n&&!n(r)?(s=!0,r):(e(r)&&(yield a()),r)})};var YL=t=>(t.sigv4aSigningRegionSet=Ts(t.sigv4aSigningRegionSet),t);var ZL="X-Amz-Algorithm",JL="X-Amz-Credential",iA="X-Amz-Date",XL="X-Amz-SignedHeaders",eV="X-Amz-Expires",oA="X-Amz-Signature",sA="X-Amz-Security-Token";var aA="authorization",cA=iA.toLowerCase(),UX="date",tV=[aA,cA,UX],nV=oA.toLowerCase(),_p="x-amz-content-sha256",rV=sA.toLowerCase();var iV={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},oV=/^proxy-/,sV=/^sec-/;var qv="AWS4-HMAC-SHA256";var aV="AWS4-HMAC-SHA256-PAYLOAD",cV="UNSIGNED-PAYLOAD",lV=50,lA="aws4_request",uV=60*60*24*7;var zv={},uA=[],Gv=(t,e,n)=>`${t}/${e}/${n}/${lA}`,fV=(t,e,n,r,i)=>w(void 0,null,function*(){let o=yield dV(t,e.secretAccessKey,e.accessKeyId),s=`${n}:${r}:${i}:${Gt(o)}:${e.sessionToken}`;if(s in zv)return zv[s];for(uA.push(s);uA.length>lV;)delete zv[uA.shift()];let a=`AWS4${e.secretAccessKey}`;for(let c of[n,r,i,lA])a=yield dV(t,a,c);return zv[s]=a});var dV=(t,e,n)=>{let r=new t(e);return r.update(Oo(n)),r.digest()};var Wv=({headers:t},e,n)=>{let r={};for(let i of Object.keys(t).sort()){if(t[i]==null)continue;let o=i.toLowerCase();(o in iV||e?.has(o)||oV.test(o)||sV.test(o))&&(!n||n&&!n.has(o))||(r[o]=t[i].trim().replace(/\s+/g," "))}return r};var dA=({query:t={}})=>{let e=[],n={};for(let r of Object.keys(t)){if(r.toLowerCase()===nV)continue;let i=Ki(r);e.push(i);let o=t[r];typeof o=="string"?n[i]=`${i}=${Ki(o)}`:Array.isArray(o)&&(n[i]=o.slice(0).reduce((s,a)=>s.concat([`${i}=${Ki(a)}`]),[]).sort().join("&"))}return e.sort().map(r=>n[r]).filter(r=>r).join("&")};var Kv=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]";var wp=(r,i)=>w(void 0,[r,i],function*({headers:t,body:e},n){for(let o of Object.keys(t))if(o.toLowerCase()===_p)return t[o];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||Kv(e)){let o=new n;return o.update(Oo(e)),Gt(yield o.digest())}return cV});var Qv=class{format(e){let n=[];for(let o of Object.keys(e)){let s=Xr(o);n.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let r=new Uint8Array(n.reduce((o,s)=>o+s.byteLength,0)),i=0;for(let o of n)r.set(o,i),i+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let a=Xr(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(fA.fromNumber(e.value.valueOf()).bytes,1),f;case"uuid":if(!jX.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let h=new Uint8Array(17);return h[0]=9,h.set(Bv(e.value.replace(/\-/g,"")),1),h}}};var jX=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,fA=class t{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let n=new Uint8Array(8);for(let r=7,i=Math.abs(Math.round(e));r>-1&&i>0;r--,i/=256)n[r]=i;return e<0&&hV(n),new t(n)}valueOf(){let e=this.bytes.slice(0),n=e[0]&128;return n&&hV(e),parseInt(Gt(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function hV(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var pV=(t,e)=>{t=t.toLowerCase();for(let n of Object.keys(e))if(t===n.toLowerCase())return!0;return!1};var hA=(t,e={})=>{let{headers:n,query:r={}}=Ue.clone(t);for(let i of Object.keys(n)){let o=i.toLowerCase();(o.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(o)||e.hoistableHeaders?.has(o))&&(r[i]=n[i],delete n[i])}return z(A({},t),{headers:n,query:r})};var Yv=t=>{t=Ue.clone(t);for(let e of Object.keys(t.headers))tV.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t};var mV=t=>$X(t).toISOString().replace(/\.\d{3}Z$/,"Z"),$X=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;var vl=class{constructor({applyChecksum:e,credentials:n,region:r,service:i,sha256:o,uriEscapePath:s=!0}){this.headerFormatter=new Qv,this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=$n(r),this.credentialProvider=$n(n)}presign(r){return w(this,arguments,function*(e,n={}){let{signingDate:i=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:a,signableHeaders:c,hoistableHeaders:l,signingRegion:f,signingService:h}=n,g=yield this.credentialProvider();this.validateResolvedCredentials(g);let b=f??(yield this.regionProvider()),{longDate:I,shortDate:O}=Zv(i);if(o>uV)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let N=Gv(O,b,h??this.service),$=hA(Yv(e),{unhoistableHeaders:a,hoistableHeaders:l});g.sessionToken&&($.query[sA]=g.sessionToken),$.query[ZL]=qv,$.query[JL]=`${g.accessKeyId}/${N}`,$.query[iA]=I,$.query[eV]=o.toString(10);let Y=Wv($,s,c);return $.query[XL]=gV(Y),$.query[oA]=yield this.getSignature(I,N,this.getSigningKey(g,b,O,h),this.createCanonicalRequest($,Y,yield wp(e,this.sha256))),$})}sign(e,n){return w(this,null,function*(){return typeof e=="string"?this.signString(e,n):e.headers&&e.payload?this.signEvent(e,n):e.message?this.signMessage(e,n):this.signRequest(e,n)})}signEvent(a,c){return w(this,arguments,function*({headers:e,payload:n},{signingDate:r=new Date,priorSignature:i,signingRegion:o,signingService:s}){let l=o??(yield this.regionProvider()),{shortDate:f,longDate:h}=Zv(r),g=Gv(f,l,s??this.service),b=yield wp({headers:{},body:n},this.sha256),I=new this.sha256;I.update(e);let O=Gt(yield I.digest()),N=[aV,h,g,i,O,b].join(`
`);return this.signString(N,{signingDate:r,signingRegion:l,signingService:s})})}signMessage(o,s){return w(this,arguments,function*(e,{signingDate:n=new Date,signingRegion:r,signingService:i}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:n,signingRegion:r,signingService:i,priorSignature:e.priorSignature}).then(c=>({message:e.message,signature:c}))})}signString(o){return w(this,arguments,function*(e,{signingDate:n=new Date,signingRegion:r,signingService:i}={}){let s=yield this.credentialProvider();this.validateResolvedCredentials(s);let a=r??(yield this.regionProvider()),{shortDate:c}=Zv(n),l=new this.sha256(yield this.getSigningKey(s,a,c,i));return l.update(Oo(e)),Gt(yield l.digest())})}signRequest(a){return w(this,arguments,function*(e,{signingDate:n=new Date,signableHeaders:r,unsignableHeaders:i,signingRegion:o,signingService:s}={}){let c=yield this.credentialProvider();this.validateResolvedCredentials(c);let l=o??(yield this.regionProvider()),f=Yv(e),{longDate:h,shortDate:g}=Zv(n),b=Gv(g,l,s??this.service);f.headers[cA]=h,c.sessionToken&&(f.headers[rV]=c.sessionToken);let I=yield wp(f,this.sha256);!pV(_p,f.headers)&&this.applyChecksum&&(f.headers[_p]=I);let O=Wv(f,i,r),N=yield this.getSignature(h,b,this.getSigningKey(c,l,g,s),this.createCanonicalRequest(f,O,I));return f.headers[aA]=`${qv} Credential=${c.accessKeyId}/${b}, SignedHeaders=${gV(O)}, Signature=${N}`,f})}createCanonicalRequest(e,n,r){let i=Object.keys(n).sort();return`${e.method}
${this.getCanonicalPath(e)}
${dA(e)}
${i.map(o=>`${o}:${n[o]}`).join(`
`)}

${i.join(";")}
${r}`}createStringToSign(e,n,r){return w(this,null,function*(){let i=new this.sha256;i.update(Oo(r));let o=yield i.digest();return`${qv}
${e}
${n}
${Gt(o)}`})}getCanonicalPath({path:e}){if(this.uriEscapePath){let n=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?n.pop():n.push(o));let r=`${e?.startsWith("/")?"/":""}${n.join("/")}${n.length>0&&e?.endsWith("/")?"/":""}`;return Ki(r).replace(/%2F/g,"/")}return e}getSignature(e,n,r,i){return w(this,null,function*(){let o=yield this.createStringToSign(e,n,i),s=new this.sha256(yield r);return s.update(Oo(o)),Gt(yield s.digest())})}getSigningKey(e,n,r,i){return fV(this.sha256,e,r,n,i||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},Zv=t=>{let e=mV(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},gV=t=>Object.keys(t).sort().join(";");var yV=t=>{let e=!1,n;t.credentials&&(e=!0,n=KL(t.credentials,WL,nA)),n||(t.credentialDefaultProvider?n=Ts(t.credentialDefaultProvider(Object.assign({},t,{parentClientConfig:t}))):n=()=>w(void 0,null,function*(){throw new Error("`credentials` is missing")}));let{signingEscapePath:r=!0,systemClockOffset:i=t.systemClockOffset||0,sha256:o}=t,s;return t.signer?s=Ts(t.signer):t.regionInfoProvider?s=()=>Ts(t.region)().then(a=>w(void 0,null,function*(){return[(yield t.regionInfoProvider(a,{useFipsEndpoint:yield t.useFipsEndpoint(),useDualstackEndpoint:yield t.useDualstackEndpoint()}))||{},a]})).then(([a,c])=>{let{signingRegion:l,signingService:f}=a;t.signingRegion=t.signingRegion||l||c,t.signingName=t.signingName||f||t.serviceId;let h=z(A({},t),{credentials:n,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:r}),g=t.signerConstructor||vl;return new g(h)}):s=a=>w(void 0,null,function*(){a=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:yield Ts(t.region)(),properties:{}},a);let c=a.signingRegion,l=a.signingName;t.signingRegion=t.signingRegion||c,t.signingName=t.signingName||l||t.serviceId;let f=z(A({},t),{credentials:n,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:r}),h=t.signerConstructor||vl;return new h(f)}),z(A({},t),{systemClockOffset:i,signingEscapePath:r,credentials:e?()=>w(void 0,null,function*(){return n().then(a=>AL(a,"CREDENTIALS_CODE","e"))}):n,signer:s})};var _l=(t,e)=>{let n=[];if(t&&n.push(t),e)for(let r of e)n.push(r);return n},Ba=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,Dd=()=>{let t=[],e=[],n=!1,r=new Set,i=h=>h.sort((g,b)=>vV[b.step]-vV[g.step]||_V[b.priority||"normal"]-_V[g.priority||"normal"]),o=h=>{let g=!1,b=I=>{let O=_l(I.name,I.aliases);if(O.includes(h)){g=!0;for(let N of O)r.delete(N);return!1}return!0};return t=t.filter(b),e=e.filter(b),g},s=h=>{let g=!1,b=I=>{if(I.middleware===h){g=!0;for(let O of _l(I.name,I.aliases))r.delete(O);return!1}return!0};return t=t.filter(b),e=e.filter(b),g},a=h=>(t.forEach(g=>{h.add(g.middleware,A({},g))}),e.forEach(g=>{h.addRelativeTo(g.middleware,A({},g))}),h.identifyOnResolve?.(f.identifyOnResolve()),h),c=h=>{let g=[];return h.before.forEach(b=>{b.before.length===0&&b.after.length===0?g.push(b):g.push(...c(b))}),g.push(h),h.after.reverse().forEach(b=>{b.before.length===0&&b.after.length===0?g.push(b):g.push(...c(b))}),g},l=(h=!1)=>{let g=[],b=[],I={};return t.forEach(N=>{let $=z(A({},N),{before:[],after:[]});for(let Y of _l($.name,$.aliases))I[Y]=$;g.push($)}),e.forEach(N=>{let $=z(A({},N),{before:[],after:[]});for(let Y of _l($.name,$.aliases))I[Y]=$;b.push($)}),b.forEach(N=>{if(N.toMiddleware){let $=I[N.toMiddleware];if($===void 0){if(h)return;throw new Error(`${N.toMiddleware} is not found when adding ${Ba(N.name,N.aliases)} middleware ${N.relation} ${N.toMiddleware}`)}N.relation==="after"&&$.after.push(N),N.relation==="before"&&$.before.push(N)}}),i(g).map(c).reduce((N,$)=>(N.push(...$),N),[])},f={add:(h,g={})=>{let{name:b,override:I,aliases:O}=g,N=A({step:"initialize",priority:"normal",middleware:h},g),$=_l(b,O);if($.length>0){if($.some(Y=>r.has(Y))){if(!I)throw new Error(`Duplicate middleware name '${Ba(b,O)}'`);for(let Y of $){let oe=t.findIndex(Te=>Te.name===Y||Te.aliases?.some(ge=>ge===Y));if(oe===-1)continue;let se=t[oe];if(se.step!==N.step||N.priority!==se.priority)throw new Error(`"${Ba(se.name,se.aliases)}" middleware with ${se.priority} priority in ${se.step} step cannot be overridden by "${Ba(b,O)}" middleware with ${N.priority} priority in ${N.step} step.`);t.splice(oe,1)}}for(let Y of $)r.add(Y)}t.push(N)},addRelativeTo:(h,g)=>{let{name:b,override:I,aliases:O}=g,N=A({middleware:h},g),$=_l(b,O);if($.length>0){if($.some(Y=>r.has(Y))){if(!I)throw new Error(`Duplicate middleware name '${Ba(b,O)}'`);for(let Y of $){let oe=e.findIndex(Te=>Te.name===Y||Te.aliases?.some(ge=>ge===Y));if(oe===-1)continue;let se=e[oe];if(se.toMiddleware!==N.toMiddleware||se.relation!==N.relation)throw new Error(`"${Ba(se.name,se.aliases)}" middleware ${se.relation} "${se.toMiddleware}" middleware cannot be overridden by "${Ba(b,O)}" middleware ${N.relation} "${N.toMiddleware}" middleware.`);e.splice(oe,1)}}for(let Y of $)r.add(Y)}e.push(N)},clone:()=>a(Dd()),use:h=>{h.applyToStack(f)},remove:h=>typeof h=="string"?o(h):s(h),removeByTag:h=>{let g=!1,b=I=>{let{tags:O,name:N,aliases:$}=I;if(O&&O.includes(h)){let Y=_l(N,$);for(let oe of Y)r.delete(oe);return g=!0,!1}return!0};return t=t.filter(b),e=e.filter(b),g},concat:h=>{let g=a(Dd());return g.use(h),g.identifyOnResolve(n||g.identifyOnResolve()||(h.identifyOnResolve?.()??!1)),g},applyToStack:a,identify:()=>l(!0).map(h=>{let g=h.step??h.relation+" "+h.toMiddleware;return Ba(h.name,h.aliases)+" - "+g}),identifyOnResolve(h){return typeof h=="boolean"&&(n=h),n},resolve:(h,g)=>{for(let b of l().map(I=>I.middleware).reverse())h=b(h,g);return n&&console.log(f.identify()),h}};return f},vV={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},_V={high:3,normal:2,low:1};var Jv=class{constructor(e){this.config=e,this.middlewareStack=Dd()}send(e,n,r){let i=typeof n!="function"?n:void 0,o=typeof n=="function"?n:r,s=i===void 0&&this.config.cacheMiddleware===!0,a;if(s){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(e.constructor)?a=c.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,i),c.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,i);if(o)a(e).then(c=>o(null,c.output),c=>o(c)).catch(()=>{});else return a(e).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}};var wl=class{constructor(){this.middlewareStack=Dd()}static classBuilder(){return new pA}resolveMiddlewareWithContext(e,n,r,{middlewareFn:i,clientName:o,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:f,CommandCtor:h}){for(let N of i.bind(this)(h,e,n,r))this.middlewareStack.use(N);let g=e.concat(this.middlewareStack),{logger:b}=n,I=A({logger:b,clientName:o,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[Id]:A({commandInstance:this},l)},f),{requestHandler:O}=n;return g.resolve(N=>O.handle(N.request,r||{}),I)}},pA=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,n,r={}){return this._smithyContext=A({service:e,operation:n},r),this}c(e={}){return this._additionalContext=e,this}n(e,n){return this._clientName=e,this._commandName=n,this}f(e=r=>r,n=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=n,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){let e=this,n;return n=class extends wl{static getEndpointParameterInstructions(){return e._ep}constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this)}resolveMiddleware(r,i,o){return this.resolveMiddlewareWithContext(r,i,o,{CommandCtor:n,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}};var ei="***SensitiveInformation***";var mA=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}};var HX=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&DV.warn(AV(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},qX=Math.ceil(34028234663852886e22),wV=t=>{let e=HX(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>qX)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},zX=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}};var bV=t=>CV(t,16),EV=t=>CV(t,8),CV=(t,e)=>{let n=zX(t);if(n!==void 0&&GX(n,e)!==n)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return n},GX=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},gA=(t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t},SV=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;let e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},Rd=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return DV.warn(AV(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}};var IV=t=>wV(typeof t=="string"?yA(t):t),WX=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,yA=t=>{let e=t.match(WX);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)};var xV=t=>bV(typeof t=="string"?yA(t):t),TV=t=>EV(typeof t=="string"?yA(t):t),AV=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),DV={warn:console.warn};var KX=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],RV=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function MV(t){let e=t.getUTCFullYear(),n=t.getUTCMonth(),r=t.getUTCDay(),i=t.getUTCDate(),o=t.getUTCHours(),s=t.getUTCMinutes(),a=t.getUTCSeconds(),c=i<10?`0${i}`:`${i}`,l=o<10?`0${o}`:`${o}`,f=s<10?`0${s}`:`${s}`,h=a<10?`0${a}`:`${a}`;return`${KX[r]}, ${c} ${RV[n]} ${e} ${l}:${f}:${h} GMT`}var YSe=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var QX=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),PV=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=QX.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[n,r,i,o,s,a,c,l,f]=e,h=xV(NV(r)),g=bp(i,"month",1,12),b=bp(o,"day",1,31),I=YX(h,g,b,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l});return f.toUpperCase()!="Z"&&I.setTime(I.getTime()-tee(f)),I},ZSe=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),JSe=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),XSe=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/);var YX=(t,e,n,r)=>{let i=e-1;return JX(t,i,n),new Date(Date.UTC(t,i,n,bp(r.hours,"hour",0,23),bp(r.minutes,"minute",0,59),bp(r.seconds,"seconds",0,60),eee(r.fractionalMilliseconds)))};var eIe=50*365*24*60*60*1e3;var ZX=[31,28,31,30,31,30,31,31,30,31,30,31],JX=(t,e,n)=>{let r=ZX[e];if(e===1&&XX(t)&&(r=29),n>r)throw new TypeError(`Invalid day for ${RV[e]} in ${t}: ${n}`)},XX=t=>t%4===0&&(t%100!==0||t%400===0),bp=(t,e,n,r)=>{let i=TV(NV(t));if(i<n||i>r)throw new TypeError(`${e} must be between ${n} and ${r}, inclusive`);return i},eee=t=>t==null?0:IV("0."+t)*1e3,tee=t=>{let e=t[0],n=1;if(e=="+")n=1;else if(e=="-")n=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let r=Number(t.substring(1,3)),i=Number(t.substring(4,6));return n*(r*60+i)*60*1e3},NV=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)};var Xv=class t extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,t.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}},_i=(t,e={})=>{Object.entries(e).filter(([,r])=>r!==void 0).forEach(([r,i])=>{(t[r]==null||t[r]==="")&&(t[r]=i)});let n=t.message||t.Message||"UnknownError";return t.message=n,delete t.Message,t};var nee=({output:t,parsedBody:e,exceptionCtor:n,errorCode:r})=>{let i=ree(t),o=i.httpStatusCode?i.httpStatusCode+"":void 0,s=new n({name:e?.code||e?.Code||r||o||"UnknownError",$fault:"client",$metadata:i});throw _i(s,e)},kV=t=>({output:e,parsedBody:n,errorCode:r})=>{nee({output:e,parsedBody:n,exceptionCtor:t,errorCode:r})},ree=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]});var OV=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};var FV=t=>{let e=[];for(let n in pp){let r=pp[n];t[r]!==void 0&&e.push({algorithmId:()=>r,checksumConstructor:()=>t[r]})}return{_checksumAlgorithms:e,addChecksumAlgorithm(n){this._checksumAlgorithms.push(n)},checksumAlgorithms(){return this._checksumAlgorithms}}},LV=t=>{let e={};return t.checksumAlgorithms().forEach(n=>{e[n.algorithmId()]=n.checksumConstructor()}),e};var VV=t=>{let e=t.retryStrategy;return{setRetryStrategy(n){e=n},retryStrategy(){return e}}},BV=t=>{let e={};return e.retryStrategy=t.retryStrategy(),e};var UV=t=>A(A({},FV(t)),VV(t));var jV=t=>A(A({},LV(t)),BV(t));var vA=t=>{let e="#text";for(let n in t)t.hasOwnProperty(n)&&t[n][e]!==void 0?t[n]=t[n][e]:typeof t[n]=="object"&&t[n]!==null&&(t[n]=vA(t[n]));return t};var Ua=t=>t!=null;var _A=function(){let t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),n=new e;return Object.setPrototypeOf(n,t.prototype),n};_A.prototype=Object.create(String.prototype,{constructor:{value:_A,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(_A,String);var ja=class{trace(){}debug(){}info(){}warn(){}error(){}};function Hn(t,e,n){let r,i,o;if(typeof e>"u"&&typeof n>"u")r={},o=t;else{if(r=t,typeof e=="function")return i=e,o=n,iee(r,i,o);o=e}for(let s of Object.keys(o)){if(!Array.isArray(o[s])){r[s]=o[s];continue}oee(r,null,o,s)}return r}var iee=(t,e,n)=>Hn(t,Object.entries(n).reduce((r,[i,o])=>(Array.isArray(o)?r[i]=o:typeof o=="function"?r[i]=[e,o()]:r[i]=[e,o],r),{})),oee=(t,e,n,r)=>{if(e!==null){let s=n[r];typeof s=="function"&&(s=[,s]);let[a=see,c=aee,l=r]=s;(typeof a=="function"&&a(e[l])||typeof a!="function"&&a)&&(t[r]=c(e[l]));return}let[i,o]=n[r];if(typeof o=="function"){let s,a=i===void 0&&(s=o())!=null,c=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;a?t[r]=s:c&&(t[r]=o())}else{let s=i===void 0&&o!=null,a=typeof i=="function"&&!!i(o)||typeof i!="function"&&!!i;(s||a)&&(t[r]=o)}},see=t=>t!=null,aee=t=>t;var $V=t=>t.toISOString().replace(".000Z","Z");var HV=(t,e)=>vp(t,e).then(n=>e.utf8Encoder(n));var EB=hc(bB());var AA=(t,e)=>HV(t,e).then(n=>{if(n.length){let r=new EB.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let i;try{i=r.parse(n,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:n}),c}let o="#text",s=Object.keys(i)[0],a=i[s];return a[o]&&(a[s]=a[o],delete a[o]),vA(a)}return{}}),CB=(t,e)=>w(void 0,null,function*(){let n=yield AA(t,e);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n}),SB=(t,e)=>{if(e?.Error?.Code!==void 0)return e.Error.Code;if(e?.Code!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"};var Sp=[Dt.CRC32,Dt.CRC32C,Dt.SHA1,Dt.SHA256],IB=[Dt.SHA256,Dt.SHA1,Dt.CRC32,Dt.CRC32C];var xB=(t,{requestChecksumRequired:e,requestAlgorithmMember:n},r)=>{let i=r?TL:xL;if(!n||!t[n])return e?i:void 0;let o=t[n];if(!Sp.includes(o))throw new Error(`The checksum algorithm "${o}" is not supported by the client. Select one of ${Sp}.`);return o};var Md=t=>t===Dt.MD5?"content-md5":`x-amz-checksum-${t.toLowerCase()}`;var TB=(t,e)=>{let n=t.toLowerCase();for(let r of Object.keys(e))if(n===r.toLowerCase())return!0;return!1};var Pd=t=>t!==void 0&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!Kv(t);var DA=t=>new TextEncoder().encode(t);var gte=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:DA;function mr(t){return t instanceof Uint8Array?t:typeof t=="string"?gte(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function Fo(t){return typeof t=="string"?t.length===0:t.byteLength===0}function Ip(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}function xp(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),n=0;n<t.length;)e[n]=t[n],n+=1;return e}return Uint32Array.from(t)}var RA=function(){function t(){this.crc32=new El}return t.prototype.update=function(e){Fo(e)||this.crc32.update(mr(e))},t.prototype.digest=function(){return Js(this,void 0,void 0,function(){return eu(this,function(e){return[2,Ip(this.crc32.digest())]})})},t.prototype.reset=function(){this.crc32=new El},t}();var El=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var n,r;try{for(var i=Xl(e),o=i.next();!o.done;o=i.next()){var s=o.value;this.checksum=this.checksum>>>8^vte[(this.checksum^s)&255]}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();var yte=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],vte=xp(yte);var PA=function(){function t(){this.crc32c=new MA}return t.prototype.update=function(e){Fo(e)||this.crc32c.update(mr(e))},t.prototype.digest=function(){return Js(this,void 0,void 0,function(){return eu(this,function(e){return[2,Ip(this.crc32c.digest())]})})},t.prototype.reset=function(){this.crc32c=new MA},t}();var MA=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var n,r;try{for(var i=Xl(e),o=i.next();!o.done;o=i.next()){var s=o.value;this.checksum=this.checksum>>>8^wte[(this.checksum^s)&255]}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();var _te=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],wte=xp(_te);var t_=(t,e)=>({[Dt.MD5]:e.md5,[Dt.CRC32]:RA,[Dt.CRC32C]:PA,[Dt.SHA1]:e.sha1,[Dt.SHA256]:e.sha256})[t];var n_=(t,e)=>{let n=new t;return n.update(Oo(e||"")),n.digest()};var AB={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},DB=(t,e)=>(n,r)=>i=>w(void 0,null,function*(){if(!Ue.isInstance(i.request))return n(i);let{request:o}=i,{body:s,headers:a}=o,{base64Encoder:c,streamHasher:l}=t,{input:f,requestChecksumRequired:h,requestAlgorithmMember:g}=e,b=xB(f,{requestChecksumRequired:h,requestAlgorithmMember:g},!!r.isS3ExpressBucket),I=s,O=a;if(b){switch(b){case Dt.CRC32:Mn(r,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case Dt.CRC32C:Mn(r,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case Dt.SHA1:Mn(r,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case Dt.SHA256:Mn(r,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}let $=Md(b),Y=t_(b,t);if(Pd(s)){let{getAwsChunkedEncodingStream:oe,bodyLengthChecker:se}=t;I=oe(s,{base64Encoder:c,bodyLengthChecker:se,checksumLocationName:$,checksumAlgorithmFn:Y,streamHasher:l}),O=z(A({},a),{"content-encoding":a["content-encoding"]?`${a["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":a["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":$}),delete O["content-length"]}else if(!TB($,a)){let oe=yield n_(Y,s);O=z(A({},a),{[$]:c(oe)})}}return yield n(z(A({},i),{request:z(A({},o),{headers:O,body:I})}))});var r_=(t=[])=>{let e=[];for(let n of IB)!t.includes(n)||!Sp.includes(n)||e.push(n);return e};var RB=t=>{let e=t.lastIndexOf("-");if(e!==-1){let n=t.slice(e+1);if(!n.startsWith("0")){let r=parseInt(n,10);if(!isNaN(r)&&r>=1&&r<=1e4)return!0}}return!1};function NA(t){return new Blob([t]).stream()}var MB=(i,o)=>w(void 0,[i,o],function*(t,{streamHasher:e,checksumAlgorithmFn:n,base64Encoder:r}){let s=Pd(t)?e(n,t):n_(n,t);return r(yield s)});var PB=(r,i)=>w(void 0,[r,i],function*(t,{config:e,responseAlgorithms:n}){let o=r_(n),{body:s,headers:a}=t;for(let c of o){let l=Md(c),f=a[l];if(f){let h=t_(c,e),{streamHasher:g,base64Encoder:b}=e,I=yield MB(s,{streamHasher:g,checksumAlgorithmFn:h,base64Encoder:b});if(I===f)break;throw new Error(`Checksum mismatch: expected "${I}" but received "${f}" in response header "${l}".`)}}});var NB={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},kB=(t,e)=>(n,r)=>i=>w(void 0,null,function*(){if(!Ue.isInstance(i.request))return n(i);let o=i.input,s=yield n(i),a=s.response,c,{requestValidationModeMember:l,responseAlgorithms:f}=e;if(l&&o[l]==="ENABLED"){let{clientName:h,commandName:g}=r;if(h==="S3Client"&&g==="GetObjectCommand"&&r_(f).every(O=>{let N=Md(O),$=a.headers[N];return!$||RB($)}))return s;let I=Pd(a.body);I&&(c=yield t.streamCollector(a.body),a.body=NA(c)),yield PB(s.response,{config:t,responseAlgorithms:f}),I&&c&&(a.body=NA(c))}return s});var OB=(t,e)=>({applyToStack:n=>{n.add(DB(t,e),AB),n.addRelativeTo(kB(t,e),NB)}});var FB=t=>z(A({},t),{requestChecksumCalculation:$n(t.requestChecksumCalculation??GT),responseChecksumValidation:$n(t.responseChecksumValidation??WT)});var bte=t=>e=>n=>w(void 0,null,function*(){if(!Ue.isInstance(n.request))return e(n);let{request:r}=n,{handlerProtocol:i=""}=t.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let o=r.hostname;r.port!=null&&(o+=`:${r.port}`),r.headers.host=o}return e(n)}),Ete={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},LB=t=>({applyToStack:e=>{e.add(bte(t),Ete)}});var Cte=()=>(t,e)=>n=>w(void 0,null,function*(){try{let i=yield t(n),{clientName:o,commandName:s,logger:a,dynamoDbDocumentClientOptions:c={}}=e,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:f}=c,h=l??e.inputFilterSensitiveLog,g=f??e.outputFilterSensitiveLog,r=i.output,{$metadata:b}=r,I=fc(r,["$metadata"]);return a?.info?.({clientName:o,commandName:s,input:h(n.input),output:g(I),metadata:b}),i}catch(i){let{clientName:o,commandName:s,logger:a,dynamoDbDocumentClientOptions:c={}}=e,{overrideInputFilterSensitiveLog:l}=c,f=l??e.inputFilterSensitiveLog;throw a?.error?.({clientName:o,commandName:s,input:f(n.input),error:i,metadata:i.$metadata}),i}}),Ste={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},VB=t=>({applyToStack:e=>{e.add(Cte(),Ste)}});var BB="X-Amzn-Trace-Id",Ite="AWS_LAMBDA_FUNCTION_NAME",xte="_X_AMZN_TRACE_ID",Tte=t=>e=>n=>w(void 0,null,function*(){let{request:r}=n;if(!Ue.isInstance(r)||t.runtime!=="node"||r.headers.hasOwnProperty(BB))return e(n);let i=process.env[Ite],o=process.env[xte],s=a=>typeof a=="string"&&a.length>0;return s(i)&&s(o)&&(r.headers[BB]=o),e(z(A({},n),{request:r}))}),Ate={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},UB=t=>({applyToStack:e=>{e.add(Tte(t),Ate)}});var Dte="content-length";function Rte(){return(t,e)=>n=>w(this,null,function*(){let{request:r}=n;if(Ue.isInstance(r)&&!(Dte in r.headers)){let i="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof e?.logger?.warn=="function"&&!(e.logger instanceof ja)?e.logger.warn(i):console.warn(i)}return t(A({},n))})}var Mte={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},jB=t=>({applyToStack:e=>{e.add(Rte(),Mte)}});var $B=t=>(e,n)=>r=>w(void 0,null,function*(){let i=yield t.region(),o=t.region,s=()=>{};n.__s3RegionRedirect&&(Object.defineProperty(t,"region",{writable:!1,value:()=>w(void 0,null,function*(){return n.__s3RegionRedirect})}),s=()=>Object.defineProperty(t,"region",{writable:!0,value:o}));try{let a=yield e(r);if(n.__s3RegionRedirect){s();let c=yield t.region();if(i!==c)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw s(),a}}),HB={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function Pte(t){return(e,n)=>r=>w(this,null,function*(){try{return yield e(r)}catch(i){if(t.followRegionRedirects&&(i?.$metadata?.httpStatusCode===301||i?.$metadata?.httpStatusCode===400&&i?.name==="IllegalLocationConstraintException")){try{let o=i.$response.headers["x-amz-bucket-region"];n.logger?.debug(`Redirecting from ${yield t.region()} to ${o}`),n.__s3RegionRedirect=o}catch(o){throw new Error("Region redirect failed: "+o)}return e(r)}throw i}})}var Nte={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},qB=t=>({applyToStack:e=>{e.add(Pte(t),Nte),e.addRelativeTo($B(t),HB)}});var kA=(()=>{class t{constructor(n={}){this.data=n,this.lastPurgeTime=Date.now()}get(n){let r=this.data[n];if(r)return r}set(n,r){return this.data[n]=r,r}delete(n){delete this.data[n]}purgeExpired(){return w(this,null,function*(){let n=Date.now();if(!(this.lastPurgeTime+t.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>n))for(let r in this.data){let i=this.data[r];if(!i.isRefreshing){let o=yield i.identity;o.expiration&&o.expiration.getTime()<n&&delete this.data[r]}}})}}return t.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4,t})();var Cl=class{constructor(e,n=!1,r=Date.now()){this._identity=e,this.isRefreshing=n,this.accessed=r}get identity(){return this.accessed=Date.now(),this._identity}};var OA=(()=>{class t{constructor(n,r=new kA){this.createSessionFn=n,this.cache=r}getS3ExpressIdentity(n,r){return w(this,null,function*(){let i=r.Bucket,{cache:o}=this,s=o.get(i);return s?s.identity.then(a=>(a.expiration?.getTime()??0)<Date.now()?o.set(i,new Cl(this.getIdentity(i))).identity:((a.expiration?.getTime()??0)<Date.now()+t.REFRESH_WINDOW_MS&&!s.isRefreshing&&(s.isRefreshing=!0,this.getIdentity(i).then(f=>{o.set(i,new Cl(Promise.resolve(f)))})),a)):o.set(i,new Cl(this.getIdentity(i))).identity})}getIdentity(n){return w(this,null,function*(){yield this.cache.purgeExpired().catch(o=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+o)});let r=yield this.createSessionFn(n);if(!r.Credentials?.AccessKeyId||!r.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}})}}return t.REFRESH_WINDOW_MS=6e4,t})();var WB="Directory",KB="S3Express",QB="sigv4-s3express",i_="X-Amz-S3session-Token",Tp=i_.toLowerCase();var Ap=class extends vl{signWithCredentials(e,n,r){return w(this,null,function*(){let i=YB(n);e.headers[Tp]=n.sessionToken;let o=this;return ZB(o,i),o.signRequest(e,r??{})})}presignWithCredentials(e,n,r){return w(this,null,function*(){let i=YB(n);return delete e.headers[Tp],e.headers[i_]=n.sessionToken,e.query=e.query??{},e.query[i_]=n.sessionToken,ZB(this,i),this.presign(e,r)})}};function YB(t){return{accessKeyId:t.accessKeyId,secretAccessKey:t.secretAccessKey,expiration:t.expiration}}function ZB(t,e){let n=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),r=t.credentialProvider,i=()=>(clearTimeout(n),t.credentialProvider=r,Promise.resolve(e));t.credentialProvider=i}var JB=t=>(e,n)=>r=>w(void 0,null,function*(){if(n.endpointV2){let i=n.endpointV2,o=i.properties?.authSchemes?.[0]?.name===QB;if((i.properties?.backend===KB||i.properties?.bucketType===WB)&&(Mn(n,"S3_EXPRESS_BUCKET","J"),n.isS3ExpressBucket=!0),o){let a=r.input.Bucket;if(a){let c=yield t.s3ExpressIdentityProvider.getS3ExpressIdentity(yield t.credentials(),{Bucket:a});n.s3ExpressIdentity=c,Ue.isInstance(r.request)&&c.sessionToken&&(r.request.headers[Tp]=c.sessionToken)}}}return e(r)}),XB={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},FA=t=>({applyToStack:e=>{e.add(JB(t),XB)}});var e3=(t,e,n,r)=>w(void 0,null,function*(){let i=yield r.signWithCredentials(n,t,{});if(i.headers["X-Amz-Security-Token"]||i.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return i});var Ote=t=>e=>{throw e},Fte=(t,e)=>{};var t3=t=>(e,n)=>r=>w(void 0,null,function*(){if(!Ue.isInstance(r.request))return e(r);let o=Wi(n).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:s={}},identity:a,signer:c}=o,l;n.s3ExpressIdentity?l=yield e3(n.s3ExpressIdentity,s,r.request,yield t.signer()):l=yield c.sign(r.request,a,s);let f=yield e(z(A({},r),{request:l})).catch((c.errorHandler||Ote)(s));return(c.successHandler||Fte)(f.response,s),f}),LA=t=>({applyToStack:e=>{e.addRelativeTo(t3(t),ZT)}});var n3=(t,{session:e})=>{let[n,r]=e;return z(A({},t),{forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,followRegionRedirects:t.followRegionRedirects??!1,s3ExpressIdentityProvider:t.s3ExpressIdentityProvider??new OA(i=>w(void 0,null,function*(){return n().send(new r({Bucket:i,SessionMode:"ReadWrite"}))})),bucketEndpoint:t.bucketEndpoint??!1})};var Lte={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},Vte=3e3,Bte=t=>(e,n)=>r=>w(void 0,null,function*(){let i=yield e(r),{response:o}=i;if(!Ar.isInstance(o))return i;let{statusCode:s,body:a}=o;if(s<200||s>=300||!(typeof a?.stream=="function"||typeof a?.pipe=="function"||typeof a?.tee=="function"))return i;let l=a,f=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([l,f]=yield qL(a)),o.body=f;let h=yield Ute(l,{streamCollector:b=>w(void 0,null,function*(){return zL(b,Vte)})});typeof l?.destroy=="function"&&l.destroy();let g=t.utf8Encoder(h.subarray(h.length-16));if(h.length===0&&Lte[n.commandName]){let b=new Error("S3 aborted request");throw b.name="InternalError",b}return g&&g.endsWith("</Error>")&&(o.statusCode=400),i}),Ute=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),jte={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},o_=t=>({applyToStack:e=>{e.addRelativeTo(Bte(t),jte)}});var r3=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6;function i3(t){return(e,n)=>r=>w(this,null,function*(){if(t.bucketEndpoint){let i=n.endpointV2;if(i){let o=r.input.Bucket;if(typeof o=="string")try{let s=new URL(o);n.endpointV2=z(A({},i),{url:s})}catch(s){let a=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${o} could not be parsed as URL.`;throw n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a),s}}}return e(r)})}var o3={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function $te({bucketEndpoint:t}){return e=>n=>w(this,null,function*(){let{input:{Bucket:r}}=n;if(!t&&typeof r=="string"&&!r3(r)&&r.indexOf("/")>=0){let i=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw i.name="InvalidBucketName",i}return e(A({},n))})}var Hte={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},s3=t=>({applyToStack:e=>{e.add($te(t),Hte),e.addRelativeTo(i3(t),o3)}});var qte=void 0;function zte(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function a3(t){let e=Ts(t.userAgentAppId??qte);return z(A({},t),{customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent,userAgentAppId:()=>w(this,null,function*(){let n=yield e();if(!zte(n)){let r=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console:t.logger;typeof n!="string"?r?.warn("userAgentAppId must be a string or undefined."):n.length>50&&r?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n})})}var s_=class{constructor({size:e,params:n}){this.data=new Map,this.parameters=[],this.capacity=e??50,n&&(this.parameters=n)}get(e,n){let r=this.hash(e);if(r===!1)return n();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let i=this.data.keys(),o=0;for(;;){let{value:s,done:a}=i.next();if(this.data.delete(s),a||++o>10)break}}this.data.set(r,n())}return this.data.get(r)}size(){return this.data.size}hash(e){let n="",{parameters:r}=this;if(r.length===0)return!1;for(let i of r){let o=String(e[i]??"");if(o.includes("|;"))return!1;n+=o+"|;"}return n}};var Gte=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Dp=t=>Gte.test(t)||t.startsWith("[")&&t.endsWith("]");var Wte=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Rp=(t,e=!1)=>{if(!e)return Wte.test(t);let n=t.split(".");for(let r of n)if(!Rp(r))return!1;return!0};var Sl={};var Ms="endpoints";function wi(t){return typeof t!="object"||t==null?t:"ref"in t?`$${wi(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(wi).join(", ")})`:JSON.stringify(t,null,2)}var St=class extends Error{constructor(e){super(e),this.name="EndpointError"}};var c3=(t,e)=>t===e;var l3=t=>{let e=t.split("."),n=[];for(let r of e){let i=r.indexOf("[");if(i!==-1){if(r.indexOf("]")!==r.length-1)throw new St(`Path: '${t}' does not end with ']'`);let o=r.slice(i+1,-1);if(Number.isNaN(parseInt(o)))throw new St(`Invalid array index: '${o}' in path: '${t}'`);i!==0&&n.push(r.slice(0,i)),n.push(o)}else n.push(r)}return n};var a_=(t,e)=>l3(e).reduce((n,r)=>{if(typeof n!="object")throw new St(`Index '${r}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]},t);var u3=t=>t!=null;var d3=t=>!t;var VA={[hp.HTTP]:80,[hp.HTTPS]:443},f3=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:g,port:b,protocol:I="",path:O="",query:N={}}=t,$=new URL(`${I}//${g}${b?`:${b}`:""}${O}`);return $.search=Object.entries(N).map(([Y,oe])=>`${Y}=${oe}`).join("&"),$}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let n=e.href,{host:r,hostname:i,pathname:o,protocol:s,search:a}=e;if(a)return null;let c=s.slice(0,-1);if(!Object.values(hp).includes(c))return null;let l=Dp(i),f=n.includes(`${r}:${VA[c]}`)||typeof t=="string"&&t.includes(`${r}:${VA[c]}`),h=`${r}${f?`:${VA[c]}`:""}`;return{scheme:c,authority:h,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:l}};var h3=(t,e)=>t===e;var p3=(t,e,n,r)=>e>=n||t.length<n?null:r?t.substring(t.length-n,t.length-e):t.substring(e,n);var m3=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`);var g3={booleanEquals:c3,getAttr:a_,isSet:u3,isValidHostLabel:Rp,not:d3,parseURL:f3,stringEquals:h3,substring:p3,uriEncode:m3};var c_=(t,e)=>{let n=[],r=A(A({},e.endpointParams),e.referenceRecord),i=0;for(;i<t.length;){let o=t.indexOf("{",i);if(o===-1){n.push(t.slice(i));break}n.push(t.slice(i,o));let s=t.indexOf("}",o);if(s===-1){n.push(t.slice(o));break}t[o+1]==="{"&&t[s+1]==="}"&&(n.push(t.slice(o+1,s)),i=s+2);let a=t.substring(o+1,s);if(a.includes("#")){let[c,l]=a.split("#");n.push(a_(r[c],l))}else n.push(r[a]);i=s+1}return n.join("")};var y3=({ref:t},e)=>A(A({},e.endpointParams),e.referenceRecord)[t];var Ha=(t,e,n)=>{if(typeof t=="string")return c_(t,n);if(t.fn)return l_(t,n);if(t.ref)return y3(t,n);throw new St(`'${e}': ${String(t)} is not a string, function or reference.`)};var l_=({fn:t,argv:e},n)=>{let r=e.map(o=>["boolean","number"].includes(typeof o)?o:Ha(o,"arg",n)),i=t.split(".");return i[0]in Sl&&i[1]!=null?Sl[i[0]][i[1]](...r):g3[t](...r)};var v3=(r,n)=>{var i=r,{assign:t}=i,e=fc(i,["assign"]);if(t&&t in n.referenceRecord)throw new St(`'${t}' is already defined in Reference Record.`);let o=l_(e,n);return n.logger?.debug?.(`${Ms} evaluateCondition: ${wi(e)} = ${wi(o)}`),A({result:o===""?!0:!!o},t!=null&&{toAssign:{name:t,value:o}})};var Nd=(t=[],e)=>{let n={};for(let r of t){let{result:i,toAssign:o}=v3(r,z(A({},e),{referenceRecord:A(A({},e.referenceRecord),n)}));if(!i)return{result:i};o&&(n[o.name]=o.value,e.logger?.debug?.(`${Ms} assign: ${o.name} := ${wi(o.value)}`))}return{result:!0,referenceRecord:n}};var _3=(t,e)=>Object.entries(t).reduce((n,[r,i])=>z(A({},n),{[r]:i.map(o=>{let s=Ha(o,"Header value entry",e);if(typeof s!="string")throw new St(`Header '${r}' value '${s}' is not a string`);return s})}),{});var BA=(t,e)=>{if(Array.isArray(t))return t.map(n=>BA(n,e));switch(typeof t){case"string":return c_(t,e);case"object":if(t===null)throw new St(`Unexpected endpoint property: ${t}`);return u_(t,e);case"boolean":return t;default:throw new St(`Unexpected endpoint property type: ${typeof t}`)}};var u_=(t,e)=>Object.entries(t).reduce((n,[r,i])=>z(A({},n),{[r]:BA(i,e)}),{});var w3=(t,e)=>{let n=Ha(t,"Endpoint URL",e);if(typeof n=="string")try{return new URL(n)}catch(r){throw console.error(`Failed to construct URL with ${n}`,r),r}throw new St(`Endpoint URL must be a string, got ${typeof n}`)};var b3=(t,e)=>{let{conditions:n,endpoint:r}=t,{result:i,referenceRecord:o}=Nd(n,e);if(!i)return;let s=z(A({},e),{referenceRecord:A(A({},e.referenceRecord),o)}),{url:a,properties:c,headers:l}=r;return e.logger?.debug?.(`${Ms} Resolving endpoint from template: ${wi(r)}`),z(A(A({},l!=null&&{headers:_3(l,s)}),c!=null&&{properties:u_(c,s)}),{url:w3(a,s)})};var E3=(t,e)=>{let{conditions:n,error:r}=t,{result:i,referenceRecord:o}=Nd(n,e);if(i)throw new St(Ha(r,"Error",z(A({},e),{referenceRecord:A(A({},e.referenceRecord),o)})))};var C3=(t,e)=>{let{conditions:n,rules:r}=t,{result:i,referenceRecord:o}=Nd(n,e);if(i)return d_(r,z(A({},e),{referenceRecord:A(A({},e.referenceRecord),o)}))};var d_=(t,e)=>{for(let n of t)if(n.type==="endpoint"){let r=b3(n,e);if(r)return r}else if(n.type==="error")E3(n,e);else if(n.type==="tree"){let r=C3(n,e);if(r)return r}else throw new St(`Unknown endpoint rule: ${n}`);throw new St("Rules evaluation failed")};var UA=(t,e)=>{let{endpointParams:n,logger:r}=e,{parameters:i,rules:o}=t;e.logger?.debug?.(`${Ms} Initial EndpointParams: ${wi(n)}`);let s=Object.entries(i).filter(([,l])=>l.default!=null).map(([l,f])=>[l,f.default]);if(s.length>0)for(let[l,f]of s)n[l]=n[l]??f;let a=Object.entries(i).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(n[l]==null)throw new St(`Missing required parameter: '${l}'`);let c=d_(o,{endpointParams:n,logger:r,referenceRecord:{}});return e.logger?.debug?.(`${Ms} Resolved endpoint: ${wi(c)}`),c};var jA=(t,e=!1)=>{if(e){for(let n of t.split("."))if(!jA(n))return!1;return!0}return!(!Rp(t)||t.length<3||t.length>63||t!==t.toLowerCase()||Dp(t))};var S3=":",Kte="/",I3=t=>{let e=t.split(S3);if(e.length<6)return null;let[n,r,i,o,s,...a]=e;if(n!=="arn"||r===""||i===""||a.join(S3)==="")return null;let c=a.map(l=>l.split(Kte)).flat();return{partition:r,service:i,region:o,accountId:s,resourceId:c}};var x3={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"};var Yte=x3,Zte="",T3=t=>{let{partitions:e}=Yte;for(let r of e){let{regions:i,outputs:o}=r;for(let[s,a]of Object.entries(i))if(s===t)return A(A({},o),a)}for(let r of e){let{regionRegex:i,outputs:o}=r;if(new RegExp(i).test(t))return A({},o)}let n=e.find(r=>r.id==="aws");if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return A({},n.outputs)};var A3=()=>Zte;var $A={isVirtualHostableS3Bucket:jA,parseArn:I3,partition:T3};Sl.aws=$A;var Jte=/\d{12}\.ddb/;function D3(t,e,n){return w(this,null,function*(){if(n.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Mn(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){let o=yield e.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?Mn(t,"RETRY_MODE_ADAPTIVE","F"):Mn(t,"RETRY_MODE_STANDARD","E"):Mn(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){let o=t.endpointV2;switch(String(o?.url?.hostname).match(Jte)&&Mn(t,"ACCOUNT_ID_ENDPOINT","O"),yield e.accountIdEndpointMode?.()){case"disabled":Mn(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Mn(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Mn(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let i=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(i?.$source){let o=i;o.accountId&&Mn(t,"RESOLVED_ACCOUNT_ID","T");for(let[s,a]of Object.entries(o.$source??{}))Mn(t,s,a)}})}var HA="user-agent",f_="x-amz-user-agent",qA=" ",h_="/",R3=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,M3=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,zA="-";function P3(t){let e="";for(let n in t){let r=t[n];if(e.length+r.length+1<=1024){e.length?e+=","+r:e+=r;continue}break}return e}var Xte=t=>(e,n)=>r=>w(void 0,null,function*(){let{request:i}=r;if(!Ue.isInstance(i))return e(r);let{headers:o}=i,s=n?.userAgent?.map(p_)||[],a=(yield t.defaultUserAgentProvider()).map(p_);yield D3(n,t,r);let c=n;a.push(`m/${P3(Object.assign({},n.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=t?.customUserAgent?.map(p_)||[],f=yield t.userAgentAppId();f&&a.push(p_([`app/${f}`]));let h=A3(),g=(h?[h]:[]).concat([...a,...s,...l]).join(qA),b=[...a.filter(I=>I.startsWith("aws-sdk-")),...l].join(qA);return t.runtime!=="browser"?(b&&(o[f_]=o[f_]?`${o[HA]} ${b}`:b),o[HA]=g):o[f_]=g,e(z(A({},r),{request:i}))}),p_=t=>{let e=t[0].split(h_).map(s=>s.replace(R3,zA)).join(h_),n=t[1]?.replace(M3,zA),r=e.indexOf(h_),i=e.substring(0,r),o=e.substring(r+1);return i==="api"&&(o=o.toLowerCase()),[i,o,n].filter(s=>s&&s.length>0).reduce((s,a,c)=>{switch(c){case 0:return a;case 1:return`${s}/${a}`;default:return`${s}#${a}`}},"")},ene={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},N3=t=>({applyToStack:e=>{e.add(Xte(t),ene)}});var k3=!1;var O3=!1;var m_=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"));var GA=t=>m_(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t;var F3=t=>{let{region:e,useFipsEndpoint:n}=t;if(!e)throw new Error("Region is missing");return z(A({},t),{region:()=>w(void 0,null,function*(){if(typeof e=="string")return GA(e);let r=yield e();return GA(r)}),useFipsEndpoint:()=>w(void 0,null,function*(){let r=typeof e=="string"?e:yield e();return m_(r)?!0:typeof n!="function"?Promise.resolve(!!n):n()})})};var L3=t=>z(A({},t),{eventStreamMarshaller:t.eventStreamSerdeProvider(t)});var V3="content-length";function tne(t){return e=>n=>w(this,null,function*(){let r=n.request;if(Ue.isInstance(r)){let{body:i,headers:o}=r;if(i&&Object.keys(o).map(s=>s.toLowerCase()).indexOf(V3)===-1)try{let s=t(i);r.headers=z(A({},r.headers),{[V3]:String(s)})}catch{}}return e(z(A({},n),{request:r}))})}var nne={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},B3=t=>({applyToStack:e=>{e.add(tne(t.bodyLengthChecker),nne)}});var U3=t=>w(void 0,null,function*(){let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),ane(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!sne(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t}),rne=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,ine=/(\d+\.){3}\d+/,one=/\.\./;var sne=t=>rne.test(t)&&!ine.test(t)&&!one.test(t),ane=t=>{let[e,n,r,,,i]=t.split(":"),o=e==="arn"&&t.split(":").length>=6,s=!!(o&&n&&r&&i);if(o&&!s)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return s};var j3=(t,e,n)=>{let r=()=>w(void 0,null,function*(){let i=n[t]??n[e];return typeof i=="function"?i():i});return t==="credentialScope"||e==="CredentialScope"?()=>w(void 0,null,function*(){let i=typeof n.credentials=="function"?yield n.credentials():n.credentials;return i?.credentialScope??i?.CredentialScope}):t==="accountId"||e==="AccountId"?()=>w(void 0,null,function*(){let i=typeof n.credentials=="function"?yield n.credentials():n.credentials;return i?.accountId??i?.AccountId}):t==="endpoint"||e==="endpoint"?()=>w(void 0,null,function*(){let i=yield r();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){let{protocol:o,hostname:s,port:a,path:c}=i;return`${o}//${s}${a?":"+a:""}${c}`}}return i}):r};var g_=t=>w(void 0,null,function*(){});function $3(t){let e={};if(t=t.replace(/^\?/,""),t)for(let n of t.split("&")){let[r,i=null]=n.split("=");r=decodeURIComponent(r),i&&(i=decodeURIComponent(i)),r in e?Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i}return e}var kd=t=>{if(typeof t=="string")return kd(new URL(t));let{hostname:e,pathname:n,port:r,protocol:i,search:o}=t,s;return o&&(s=$3(o)),{hostname:e,port:r?parseInt(r):void 0,protocol:i,path:n,query:s}};var y_=t=>typeof t=="object"?"url"in t?kd(t.url):t:kd(t);var H3=(t,e,n,r)=>w(void 0,null,function*(){if(!n.endpoint){let s;n.serviceConfiguredEndpoint?s=yield n.serviceConfiguredEndpoint():s=yield g_(n.serviceId),s&&(n.endpoint=()=>Promise.resolve(y_(s)))}let i=yield WA(t,e,n);if(typeof n.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return n.endpointProvider(i,r)}),WA=(t,e,n)=>w(void 0,null,function*(){let r={},i=e?.getEndpointParameterInstructions?.()||{};for(let[o,s]of Object.entries(i))switch(s.type){case"staticContextParams":r[o]=s.value;break;case"contextParams":r[o]=t[s.name];break;case"clientContextParams":case"builtInParams":r[o]=yield j3(s.name,o,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(s))}return Object.keys(i).length===0&&Object.assign(r,n),String(n.serviceId).toLowerCase()==="s3"&&(yield U3(r)),r});var q3=({config:t,instructions:e})=>(n,r)=>i=>w(void 0,null,function*(){t.endpoint&&GL(r,"ENDPOINT_OVERRIDE","N");let o=yield H3(i.input,{getEndpointParameterInstructions(){return e}},A({},t),r);r.endpointV2=o,r.authSchemes=o.properties?.authSchemes;let s=r.authSchemes?.[0];if(s){r.signing_region=s.signingRegion,r.signing_service=s.signingName;let c=Wi(r)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:s.signingRegion,signingRegion:s.signingRegion,signing_service:s.signingName,signingName:s.signingName,signingRegionSet:s.signingRegionSet},s.properties))}return n(A({},i))});var cne={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:yp.name},v_=(t,e)=>({applyToStack:n=>{n.addRelativeTo(q3({config:t,instructions:e}),cne)}});var z3=t=>{let e=t.tls??!0,{endpoint:n}=t,r=n!=null?()=>w(void 0,null,function*(){return y_(yield $n(n)())}):void 0,i=!!n,o=z(A({},t),{endpoint:r,tls:e,isCustomEndpoint:i,useDualstackEndpoint:$n(t.useDualstackEndpoint??!1),useFipsEndpoint:$n(t.useFipsEndpoint??!1)}),s;return o.serviceConfiguredEndpoint=()=>w(void 0,null,function*(){return t.serviceId&&!s&&(s=g_(t.serviceId)),s}),o};var Lo=function(t){return t.STANDARD="standard",t.ADAPTIVE="adaptive",t}(Lo||{}),qa=3,KA=Lo.STANDARD;var G3=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],W3=["TimeoutError","RequestTimeout","RequestTimeoutException"],K3=[500,502,503,504],Q3=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"];var lne=t=>t.$metadata?.clockSkewCorrected,Od=t=>t.$metadata?.httpStatusCode===429||G3.includes(t.name)||t.$retryable?.throttling==!0,__=t=>lne(t)||W3.includes(t.name)||Q3.includes(t?.code||"")||K3.includes(t.$metadata?.httpStatusCode||0),Y3=t=>{if(t.$metadata?.httpStatusCode!==void 0){let e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!__(t)}return!1};var Mp=class{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let n=this.getCurrentTimeInSeconds();this.lastThrottleTime=n,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}getSendToken(){return w(this,null,function*(){return this.acquireTokenBucket(1)})}acquireTokenBucket(e){return w(this,null,function*(){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let n=(e-this.currentCapacity)/this.fillRate*1e3;yield new Promise(r=>setTimeout(r,n))}this.currentCapacity=this.currentCapacity-e}})}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let n=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+n),this.lastTimestamp=e}updateClientSendingRate(e){let n;if(this.updateMeasuredRate(),Od(e)){let i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),n=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),n=this.cubicSuccess(this.getCurrentTimeInSeconds());let r=Math.min(n,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),n=Math.floor(e*2)/2;if(this.requestCount++,n>this.lastTxRateBucket){let r=this.requestCount/(n-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=n}}getPrecise(e){return parseFloat(e.toFixed(8))}};var w_="amz-sdk-invocation-id",b_="amz-sdk-request";var Z3=()=>{let t=100;return{computeNextBackoffDelay:r=>Math.floor(Math.min(2e4,Math.random()*2**r*t)),setDelayBase:r=>{t=r}}};var QA=({retryDelay:t,retryCount:e,retryCost:n})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(2e4,t),getRetryCost:()=>n});var Il=class{constructor(e){this.maxAttempts=e,this.mode=Lo.STANDARD,this.capacity=500,this.retryBackoffStrategy=Z3(),this.maxAttemptsProvider=typeof e=="function"?e:()=>w(this,null,function*(){return e})}acquireInitialRetryToken(e){return w(this,null,function*(){return QA({retryDelay:100,retryCount:0})})}refreshRetryTokenForRetry(e,n){return w(this,null,function*(){let r=yield this.getMaxAttempts();if(this.shouldRetry(e,n,r)){let i=n.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?500:100);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=n.retryAfterHint?Math.max(n.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(i);return this.capacity-=a,QA({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")})}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}getMaxAttempts(){return w(this,null,function*(){try{return yield this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${qa}`),qa}})}shouldRetry(e,n,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(n.errorType)&&this.isRetryableError(n.errorType)}getCapacityCost(e){return e==="TRANSIENT"?10:5}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}};var C_=class{constructor(e,n){this.maxAttemptsProvider=e,this.mode=Lo.ADAPTIVE;let{rateLimiter:r}=n??{};this.rateLimiter=r??new Mp,this.standardRetryStrategy=new Il(e)}acquireInitialRetryToken(e){return w(this,null,function*(){return yield this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)})}refreshRetryTokenForRetry(e,n){return w(this,null,function*(){return this.rateLimiter.updateClientSendingRate(n),this.standardRetryStrategy.refreshRetryTokenForRetry(e,n)})}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}};var S_,une=new Uint8Array(16);function ZA(){if(!S_&&(S_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!S_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return S_(une)}var qn=[];for(let t=0;t<256;++t)qn.push((t+256).toString(16).slice(1));function nU(t,e=0){return qn[t[e+0]]+qn[t[e+1]]+qn[t[e+2]]+qn[t[e+3]]+"-"+qn[t[e+4]]+qn[t[e+5]]+"-"+qn[t[e+6]]+qn[t[e+7]]+"-"+qn[t[e+8]]+qn[t[e+9]]+"-"+qn[t[e+10]]+qn[t[e+11]]+qn[t[e+12]]+qn[t[e+13]]+qn[t[e+14]]+qn[t[e+15]]}var dne=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),JA={randomUUID:dne};function fne(t,e,n){if(JA.randomUUID&&!e&&!t)return JA.randomUUID();t=t||{};let r=t.random||(t.rng||ZA)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return nU(r)}var XA=fne;var eD=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`);var rU=t=>{let{retryStrategy:e}=t,n=$n(t.maxAttempts??qa);return z(A({},t),{maxAttempts:n,retryStrategy:()=>w(void 0,null,function*(){return e||((yield $n(t.retryMode)())===Lo.ADAPTIVE?new C_(n):new Il(n))})})};var iU=t=>t?.body instanceof ReadableStream;var hne=t=>(e,n)=>r=>w(void 0,null,function*(){let i=yield t.retryStrategy(),o=yield t.maxAttempts();if(pne(i)){i=i;let s=yield i.acquireInitialRetryToken(n.partition_id),a=new Error,c=0,l=0,{request:f}=r,h=Ue.isInstance(f);for(h&&(f.headers[w_]=XA());;)try{h&&(f.headers[b_]=`attempt=${c+1}; max=${o}`);let{response:g,output:b}=yield e(r);return i.recordSuccess(s),b.$metadata.attempts=c+1,b.$metadata.totalRetryDelay=l,{response:g,output:b}}catch(g){let b=mne(g);if(a=eD(g),h&&iU(f))throw(n.logger instanceof ja?console:n.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{s=yield i.refreshRetryTokenForRetry(s,b)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=s.getRetryCount();let I=s.getRetryDelay();l+=I,yield new Promise(O=>setTimeout(O,I))}}else return i=i,i?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(e,r)}),pne=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",mne=t=>{let e={error:t,errorType:gne(t)},n=vne(t.$response);return n&&(e.retryAfterHint=n),e},gne=t=>Od(t)?"THROTTLING":__(t)?"TRANSIENT":Y3(t)?"SERVER_ERROR":"CLIENT_ERROR",yne={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},oU=t=>({applyToStack:e=>{e.add(hne(t),yne)}}),vne=t=>{if(!Ar.isInstance(t))return;let e=Object.keys(t.headers).find(o=>o.toLowerCase()==="retry-after");if(!e)return;let n=t.headers[e],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(r*1e3)};var I_={CrtSignerV4:null};var x_=class{constructor(e){this.sigv4Signer=new Ap(e),this.signerOptions=e}sign(r){return w(this,arguments,function*(e,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(e,n)}return this.sigv4Signer.sign(e,n)})}signWithCredentials(i,o){return w(this,arguments,function*(e,n,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().signWithCredentials(e,n,r)}return this.sigv4Signer.signWithCredentials(e,n,r)})}presign(r){return w(this,arguments,function*(e,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(e,n)}return this.sigv4Signer.presign(e,n)})}presignWithCredentials(i,o){return w(this,arguments,function*(e,n,r={}){if(r.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(e,n,r)})}getSigv4aSigner(){if(!this.sigv4aSigner){let e=null;try{if(e=I_.CrtSignerV4,typeof e!="function")throw new Error}catch(n){throw n.message=`${n.message}
Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,n}this.sigv4aSigner=new e(z(A({},this.signerOptions),{signingAlgorithm:1}))}return this.sigv4aSigner}};var xD="required",D="type",B="conditions",G="fn",W="argv",Ce="ref",jt="assign",le="url",ue="properties",sj="backend",Yi="authSchemes",ti="disableDoubleEncoding",ni="signingName",Uo="signingRegion",de="headers",TD="signingRegionSet";var bi="isSet",On="booleanEquals",he="error",N_="aws.partition",Rt="stringEquals",Kt="getAttr",nr="name",Vo="substring",sU="bucketSuffix",aj="parseURL",aU="{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",J="endpoint",Z="tree",cj="aws.isVirtualHostableS3Bucket",R_="{url#scheme}://{Bucket}.{url#authority}{url#path}",Bo="not",M_="{url#scheme}://{url#authority}{url#path}",lj="hardwareType",uj="regionPrefix",cU="bucketAliasSuffix",SD="outpostId",Tl="isValidHostLabel",AD="sigv4a",kp="s3-outposts",Ud="s3",dj="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",fj="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",lU="https://{Bucket}.s3.{partitionResult#dnsSuffix}",hj="aws.parseArn",pj="bucketArn",mj="arnType",k_="",DD="s3-object-lambda",gj="accesspoint",RD="accessPointName",uU="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",dU="mrapPartition",fU="outpostType",hU="arnPrefix",yj="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",pU="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",mU="https://s3.{partitionResult#dnsSuffix}",Ld={[xD]:!1,[D]:"String"},Vd={[xD]:!0,default:!1,[D]:"Boolean"},Pp={[xD]:!1,[D]:"Boolean"},Qi={[G]:On,[W]:[{[Ce]:"Accelerate"},!0]},xt={[G]:On,[W]:[{[Ce]:"UseFIPS"},!0]},It={[G]:On,[W]:[{[Ce]:"UseDualStack"},!0]},ln={[G]:bi,[W]:[{[Ce]:"Endpoint"}]},vj={[G]:N_,[W]:[{[Ce]:"Region"}],[jt]:"partitionResult"},gU={[G]:Rt,[W]:[{[G]:Kt,[W]:[{[Ce]:"partitionResult"},nr]},"aws-cn"]},O_={[G]:bi,[W]:[{[Ce]:"Bucket"}]},yr={[Ce]:"Bucket"},gr={[G]:aj,[W]:[{[Ce]:"Endpoint"}],[jt]:"url"},P_={[G]:On,[W]:[{[G]:Kt,[W]:[{[Ce]:"url"},"isIp"]},!0]},_j={[Ce]:"url"},wj={[G]:"uriEncode",[W]:[yr],[jt]:"uri_encoded_bucket"},Ps={[sj]:"S3Express",[Yi]:[{[ti]:!0,[nr]:"sigv4",[ni]:"s3express",[Uo]:"{Region}"}]},Ie={},bj={[G]:cj,[W]:[yr,!1]},tD={[he]:"S3Express bucket name is not a valid virtual hostable name.",[D]:he},F_={[sj]:"S3Express",[Yi]:[{[ti]:!0,[nr]:"sigv4-s3express",[ni]:"s3express",[Uo]:"{Region}"}]},yU={[G]:bi,[W]:[{[Ce]:"UseS3ExpressControlEndpoint"}]},vU={[G]:On,[W]:[{[Ce]:"UseS3ExpressControlEndpoint"},!0]},Ne={[G]:Bo,[W]:[ln]},_U={[he]:"Unrecognized S3Express bucket name format.",[D]:he},wU={[G]:Bo,[W]:[O_]},bU={[Ce]:lj},EU={[B]:[Ne],[he]:"Expected a endpoint to be specified but no endpoint was found",[D]:he},T_={[Yi]:[{[ti]:!0,[nr]:AD,[ni]:kp,[TD]:["*"]},{[ti]:!0,[nr]:"sigv4",[ni]:kp,[Uo]:"{Region}"}]},nD={[G]:On,[W]:[{[Ce]:"ForcePathStyle"},!1]},_ne={[Ce]:"ForcePathStyle"},cn={[G]:On,[W]:[{[Ce]:"Accelerate"},!1]},En={[G]:Rt,[W]:[{[Ce]:"Region"},"aws-global"]},Pn={[Yi]:[{[ti]:!0,[nr]:"sigv4",[ni]:Ud,[Uo]:"us-east-1"}]},tt={[G]:Bo,[W]:[En]},Nn={[G]:On,[W]:[{[Ce]:"UseGlobalEndpoint"},!0]},CU={[le]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[ue]:{[Yi]:[{[ti]:!0,[nr]:"sigv4",[ni]:Ud,[Uo]:"{Region}"}]},[de]:{}},un={[Yi]:[{[ti]:!0,[nr]:"sigv4",[ni]:Ud,[Uo]:"{Region}"}]},kn={[G]:On,[W]:[{[Ce]:"UseGlobalEndpoint"},!1]},We={[G]:On,[W]:[{[Ce]:"UseDualStack"},!1]},SU={[le]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[ue]:un,[de]:{}},je={[G]:On,[W]:[{[Ce]:"UseFIPS"},!1]},IU={[le]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[ue]:un,[de]:{}},xU={[le]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[ue]:un,[de]:{}},rD={[G]:On,[W]:[{[G]:Kt,[W]:[_j,"isIp"]},!1]},iD={[le]:dj,[ue]:un,[de]:{}},ID={[le]:R_,[ue]:un,[de]:{}},TU={[J]:ID,[D]:J},oD={[le]:fj,[ue]:un,[de]:{}},AU={[le]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[ue]:un,[de]:{}},A_={[he]:"Invalid region: region was not a valid DNS name.",[D]:he},Dr={[Ce]:pj},Ej={[Ce]:mj},sD={[G]:Kt,[W]:[Dr,"service"]},MD={[Ce]:RD},DU={[B]:[It],[he]:"S3 Object Lambda does not support Dual-stack",[D]:he},RU={[B]:[Qi],[he]:"S3 Object Lambda does not support S3 Accelerate",[D]:he},MU={[B]:[{[G]:bi,[W]:[{[Ce]:"DisableAccessPoints"}]},{[G]:On,[W]:[{[Ce]:"DisableAccessPoints"},!0]}],[he]:"Access points are not supported for this operation",[D]:he},aD={[B]:[{[G]:bi,[W]:[{[Ce]:"UseArnRegion"}]},{[G]:On,[W]:[{[Ce]:"UseArnRegion"},!1]},{[G]:Bo,[W]:[{[G]:Rt,[W]:[{[G]:Kt,[W]:[Dr,"region"]},"{Region}"]}]}],[he]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[D]:he},Cj={[G]:Kt,[W]:[{[Ce]:"bucketPartition"},nr]},Sj={[G]:Kt,[W]:[Dr,"accountId"]},cD={[Yi]:[{[ti]:!0,[nr]:"sigv4",[ni]:DD,[Uo]:"{bucketArn#region}"}]},PU={[he]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[D]:he},lD={[he]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[D]:he},uD={[he]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[D]:he},dD={[he]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[D]:he},NU={[he]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[D]:he},kU={[he]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[D]:he},Np={[Yi]:[{[ti]:!0,[nr]:"sigv4",[ni]:Ud,[Uo]:"{bucketArn#region}"}]},OU={[Yi]:[{[ti]:!0,[nr]:AD,[ni]:kp,[TD]:["*"]},{[ti]:!0,[nr]:"sigv4",[ni]:kp,[Uo]:"{bucketArn#region}"}]},FU={[G]:hj,[W]:[yr]},LU={[le]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ue]:un,[de]:{}},VU={[le]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ue]:un,[de]:{}},BU={[le]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ue]:un,[de]:{}},fD={[le]:yj,[ue]:un,[de]:{}},UU={[le]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ue]:un,[de]:{}},jU={[Ce]:"UseObjectLambdaEndpoint"},hD={[Yi]:[{[ti]:!0,[nr]:"sigv4",[ni]:DD,[Uo]:"{Region}"}]},$U={[le]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[ue]:un,[de]:{}},HU={[le]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[ue]:un,[de]:{}},qU={[le]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[ue]:un,[de]:{}},pD={[le]:M_,[ue]:un,[de]:{}},zU={[le]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[ue]:un,[de]:{}},mD=[{[Ce]:"Region"}],wne=[{[Ce]:"Endpoint"}],bne=[yr],gD=[It],D_=[Qi],xl=[ln,gr],GU=[{[G]:bi,[W]:[{[Ce]:"DisableS3ExpressSessionAuth"}]},{[G]:On,[W]:[{[Ce]:"DisableS3ExpressSessionAuth"},!0]}],WU=[P_],yD=[wj],vD=[bj],Bd=[xt],KU=[{[G]:Vo,[W]:[yr,6,14,!0],[jt]:"s3expressAvailabilityZoneId"},{[G]:Vo,[W]:[yr,14,16,!0],[jt]:"s3expressAvailabilityZoneDelim"},{[G]:Rt,[W]:[{[Ce]:"s3expressAvailabilityZoneDelim"},"--"]}],QU=[{[B]:[xt],[J]:{[le]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[ue]:Ps,[de]:{}},[D]:J},{[J]:{[le]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[ue]:Ps,[de]:{}},[D]:J}],YU=[{[G]:Vo,[W]:[yr,6,15,!0],[jt]:"s3expressAvailabilityZoneId"},{[G]:Vo,[W]:[yr,15,17,!0],[jt]:"s3expressAvailabilityZoneDelim"},{[G]:Rt,[W]:[{[Ce]:"s3expressAvailabilityZoneDelim"},"--"]}],ZU=[{[B]:[xt],[J]:{[le]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[ue]:F_,[de]:{}},[D]:J},{[J]:{[le]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[ue]:F_,[de]:{}},[D]:J}],Ene=[O_],JU=[{[G]:Tl,[W]:[{[Ce]:SD},!1]}],XU=[{[G]:Rt,[W]:[{[Ce]:uj},"beta"]}],Cne=["*"],za=[vj],ej=[{[G]:Tl,[W]:[{[Ce]:"Region"},!1]}],Ga=[{[G]:Rt,[W]:[{[Ce]:"Region"},"us-east-1"]}],_D=[{[G]:Rt,[W]:[Ej,gj]}],tj=[{[G]:Kt,[W]:[Dr,"resourceId[1]"],[jt]:RD},{[G]:Bo,[W]:[{[G]:Rt,[W]:[MD,k_]}]}],Sne=[Dr,"resourceId[1]"],wD=[{[G]:Bo,[W]:[{[G]:Rt,[W]:[{[G]:Kt,[W]:[Dr,"region"]},k_]}]}],nj=[{[G]:Bo,[W]:[{[G]:bi,[W]:[{[G]:Kt,[W]:[Dr,"resourceId[2]"]}]}]}],Ine=[Dr,"resourceId[2]"],bD=[{[G]:N_,[W]:[{[G]:Kt,[W]:[Dr,"region"]}],[jt]:"bucketPartition"}],rj=[{[G]:Rt,[W]:[Cj,{[G]:Kt,[W]:[{[Ce]:"partitionResult"},nr]}]}],ED=[{[G]:Tl,[W]:[{[G]:Kt,[W]:[Dr,"region"]},!0]}],CD=[{[G]:Tl,[W]:[Sj,!1]}],ij=[{[G]:Tl,[W]:[MD,!1]}],oj=[{[G]:Tl,[W]:[{[Ce]:"Region"},!0]}],xne={version:"1.0",parameters:{Bucket:Ld,Region:Ld,UseFIPS:Vd,UseDualStack:Vd,Endpoint:Ld,ForcePathStyle:Vd,Accelerate:Vd,UseGlobalEndpoint:Vd,UseObjectLambdaEndpoint:Pp,Key:Ld,Prefix:Ld,CopySource:Ld,DisableAccessPoints:Pp,DisableMultiRegionAccessPoints:Vd,UseArnRegion:Pp,UseS3ExpressControlEndpoint:Pp,DisableS3ExpressSessionAuth:Pp},rules:[{[B]:[{[G]:bi,[W]:mD}],rules:[{[B]:[Qi,xt],error:"Accelerate cannot be used with FIPS",[D]:he},{[B]:[It,ln],error:"Cannot set dual-stack in combination with a custom endpoint.",[D]:he},{[B]:[ln,xt],error:"A custom endpoint cannot be combined with FIPS",[D]:he},{[B]:[ln,Qi],error:"A custom endpoint cannot be combined with S3 Accelerate",[D]:he},{[B]:[xt,vj,gU],error:"Partition does not support FIPS",[D]:he},{[B]:[O_,{[G]:Vo,[W]:[yr,0,6,!0],[jt]:sU},{[G]:Rt,[W]:[{[Ce]:sU},"--x-s3"]}],rules:[{[B]:gD,error:"S3Express does not support Dual-stack.",[D]:he},{[B]:D_,error:"S3Express does not support S3 Accelerate.",[D]:he},{[B]:xl,rules:[{[B]:GU,rules:[{[B]:WU,rules:[{[B]:yD,rules:[{endpoint:{[le]:aU,[ue]:Ps,[de]:Ie},[D]:J}],[D]:Z}],[D]:Z},{[B]:vD,rules:[{endpoint:{[le]:R_,[ue]:Ps,[de]:Ie},[D]:J}],[D]:Z},tD],[D]:Z},{[B]:WU,rules:[{[B]:yD,rules:[{endpoint:{[le]:aU,[ue]:F_,[de]:Ie},[D]:J}],[D]:Z}],[D]:Z},{[B]:vD,rules:[{endpoint:{[le]:R_,[ue]:F_,[de]:Ie},[D]:J}],[D]:Z},tD],[D]:Z},{[B]:[yU,vU],rules:[{[B]:[wj,Ne],rules:[{[B]:Bd,endpoint:{[le]:"https://s3express-control-fips.{Region}.amazonaws.com/{uri_encoded_bucket}",[ue]:Ps,[de]:Ie},[D]:J},{endpoint:{[le]:"https://s3express-control.{Region}.amazonaws.com/{uri_encoded_bucket}",[ue]:Ps,[de]:Ie},[D]:J}],[D]:Z}],[D]:Z},{[B]:vD,rules:[{[B]:GU,rules:[{[B]:KU,rules:QU,[D]:Z},{[B]:YU,rules:QU,[D]:Z},_U],[D]:Z},{[B]:KU,rules:ZU,[D]:Z},{[B]:YU,rules:ZU,[D]:Z},_U],[D]:Z},tD],[D]:Z},{[B]:[wU,yU,vU],rules:[{[B]:xl,endpoint:{[le]:M_,[ue]:Ps,[de]:Ie},[D]:J},{[B]:Bd,endpoint:{[le]:"https://s3express-control-fips.{Region}.amazonaws.com",[ue]:Ps,[de]:Ie},[D]:J},{endpoint:{[le]:"https://s3express-control.{Region}.amazonaws.com",[ue]:Ps,[de]:Ie},[D]:J}],[D]:Z},{[B]:[O_,{[G]:Vo,[W]:[yr,49,50,!0],[jt]:lj},{[G]:Vo,[W]:[yr,8,12,!0],[jt]:uj},{[G]:Vo,[W]:[yr,0,7,!0],[jt]:cU},{[G]:Vo,[W]:[yr,32,49,!0],[jt]:SD},{[G]:N_,[W]:mD,[jt]:"regionPartition"},{[G]:Rt,[W]:[{[Ce]:cU},"--op-s3"]}],rules:[{[B]:JU,rules:[{[B]:[{[G]:Rt,[W]:[bU,"e"]}],rules:[{[B]:XU,rules:[EU,{[B]:xl,endpoint:{[le]:"https://{Bucket}.ec2.{url#authority}",[ue]:T_,[de]:Ie},[D]:J}],[D]:Z},{endpoint:{[le]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[ue]:T_,[de]:Ie},[D]:J}],[D]:Z},{[B]:[{[G]:Rt,[W]:[bU,"o"]}],rules:[{[B]:XU,rules:[EU,{[B]:xl,endpoint:{[le]:"https://{Bucket}.op-{outpostId}.{url#authority}",[ue]:T_,[de]:Ie},[D]:J}],[D]:Z},{endpoint:{[le]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[ue]:T_,[de]:Ie},[D]:J}],[D]:Z},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[D]:he}],[D]:Z},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[D]:he}],[D]:Z},{[B]:Ene,rules:[{[B]:[ln,{[G]:Bo,[W]:[{[G]:bi,[W]:[{[G]:aj,[W]:wne}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[D]:he},{[B]:[nD,bj],rules:[{[B]:za,rules:[{[B]:ej,rules:[{[B]:[Qi,gU],error:"S3 Accelerate cannot be used in this region",[D]:he},{[B]:[It,xt,cn,Ne,En],endpoint:{[le]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ue]:Pn,[de]:Ie},[D]:J},{[B]:[It,xt,cn,Ne,tt,Nn],rules:[{endpoint:CU,[D]:J}],[D]:Z},{[B]:[It,xt,cn,Ne,tt,kn],endpoint:CU,[D]:J},{[B]:[We,xt,cn,Ne,En],endpoint:{[le]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[ue]:Pn,[de]:Ie},[D]:J},{[B]:[We,xt,cn,Ne,tt,Nn],rules:[{endpoint:SU,[D]:J}],[D]:Z},{[B]:[We,xt,cn,Ne,tt,kn],endpoint:SU,[D]:J},{[B]:[It,je,Qi,Ne,En],endpoint:{[le]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ue]:Pn,[de]:Ie},[D]:J},{[B]:[It,je,Qi,Ne,tt,Nn],rules:[{endpoint:IU,[D]:J}],[D]:Z},{[B]:[It,je,Qi,Ne,tt,kn],endpoint:IU,[D]:J},{[B]:[It,je,cn,Ne,En],endpoint:{[le]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ue]:Pn,[de]:Ie},[D]:J},{[B]:[It,je,cn,Ne,tt,Nn],rules:[{endpoint:xU,[D]:J}],[D]:Z},{[B]:[It,je,cn,Ne,tt,kn],endpoint:xU,[D]:J},{[B]:[We,je,cn,ln,gr,P_,En],endpoint:{[le]:dj,[ue]:Pn,[de]:Ie},[D]:J},{[B]:[We,je,cn,ln,gr,rD,En],endpoint:{[le]:R_,[ue]:Pn,[de]:Ie},[D]:J},{[B]:[We,je,cn,ln,gr,P_,tt,Nn],rules:[{[B]:Ga,endpoint:iD,[D]:J},{endpoint:iD,[D]:J}],[D]:Z},{[B]:[We,je,cn,ln,gr,rD,tt,Nn],rules:[{[B]:Ga,endpoint:ID,[D]:J},TU],[D]:Z},{[B]:[We,je,cn,ln,gr,P_,tt,kn],endpoint:iD,[D]:J},{[B]:[We,je,cn,ln,gr,rD,tt,kn],endpoint:ID,[D]:J},{[B]:[We,je,Qi,Ne,En],endpoint:{[le]:fj,[ue]:Pn,[de]:Ie},[D]:J},{[B]:[We,je,Qi,Ne,tt,Nn],rules:[{[B]:Ga,endpoint:oD,[D]:J},{endpoint:oD,[D]:J}],[D]:Z},{[B]:[We,je,Qi,Ne,tt,kn],endpoint:oD,[D]:J},{[B]:[We,je,cn,Ne,En],endpoint:{[le]:lU,[ue]:Pn,[de]:Ie},[D]:J},{[B]:[We,je,cn,Ne,tt,Nn],rules:[{[B]:Ga,endpoint:{[le]:lU,[ue]:un,[de]:Ie},[D]:J},{endpoint:AU,[D]:J}],[D]:Z},{[B]:[We,je,cn,Ne,tt,kn],endpoint:AU,[D]:J}],[D]:Z},A_],[D]:Z}],[D]:Z},{[B]:[ln,gr,{[G]:Rt,[W]:[{[G]:Kt,[W]:[_j,"scheme"]},"http"]},{[G]:cj,[W]:[yr,!0]},nD,je,We,cn],rules:[{[B]:za,rules:[{[B]:ej,rules:[TU],[D]:Z},A_],[D]:Z}],[D]:Z},{[B]:[nD,{[G]:hj,[W]:bne,[jt]:pj}],rules:[{[B]:[{[G]:Kt,[W]:[Dr,"resourceId[0]"],[jt]:mj},{[G]:Bo,[W]:[{[G]:Rt,[W]:[Ej,k_]}]}],rules:[{[B]:[{[G]:Rt,[W]:[sD,DD]}],rules:[{[B]:_D,rules:[{[B]:tj,rules:[DU,RU,{[B]:wD,rules:[MU,{[B]:nj,rules:[aD,{[B]:bD,rules:[{[B]:za,rules:[{[B]:rj,rules:[{[B]:ED,rules:[{[B]:[{[G]:Rt,[W]:[Sj,k_]}],error:"Invalid ARN: Missing account id",[D]:he},{[B]:CD,rules:[{[B]:ij,rules:[{[B]:xl,endpoint:{[le]:uU,[ue]:cD,[de]:Ie},[D]:J},{[B]:Bd,endpoint:{[le]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ue]:cD,[de]:Ie},[D]:J},{endpoint:{[le]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ue]:cD,[de]:Ie},[D]:J}],[D]:Z},PU],[D]:Z},lD],[D]:Z},uD],[D]:Z},dD],[D]:Z}],[D]:Z}],[D]:Z},NU],[D]:Z},{error:"Invalid ARN: bucket ARN is missing a region",[D]:he}],[D]:Z},kU],[D]:Z},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[D]:he}],[D]:Z},{[B]:_D,rules:[{[B]:tj,rules:[{[B]:wD,rules:[{[B]:_D,rules:[{[B]:wD,rules:[MU,{[B]:nj,rules:[aD,{[B]:bD,rules:[{[B]:za,rules:[{[B]:[{[G]:Rt,[W]:[Cj,"{partitionResult#name}"]}],rules:[{[B]:ED,rules:[{[B]:[{[G]:Rt,[W]:[sD,Ud]}],rules:[{[B]:CD,rules:[{[B]:ij,rules:[{[B]:D_,error:"Access Points do not support S3 Accelerate",[D]:he},{[B]:[xt,It],endpoint:{[le]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ue]:Np,[de]:Ie},[D]:J},{[B]:[xt,We],endpoint:{[le]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ue]:Np,[de]:Ie},[D]:J},{[B]:[je,It],endpoint:{[le]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ue]:Np,[de]:Ie},[D]:J},{[B]:[je,We,ln,gr],endpoint:{[le]:uU,[ue]:Np,[de]:Ie},[D]:J},{[B]:[je,We],endpoint:{[le]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ue]:Np,[de]:Ie},[D]:J}],[D]:Z},PU],[D]:Z},lD],[D]:Z},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[D]:he}],[D]:Z},uD],[D]:Z},dD],[D]:Z}],[D]:Z}],[D]:Z},NU],[D]:Z}],[D]:Z}],[D]:Z},{[B]:[{[G]:Tl,[W]:[MD,!0]}],rules:[{[B]:gD,error:"S3 MRAP does not support dual-stack",[D]:he},{[B]:Bd,error:"S3 MRAP does not support FIPS",[D]:he},{[B]:D_,error:"S3 MRAP does not support S3 Accelerate",[D]:he},{[B]:[{[G]:On,[W]:[{[Ce]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[D]:he},{[B]:[{[G]:N_,[W]:mD,[jt]:dU}],rules:[{[B]:[{[G]:Rt,[W]:[{[G]:Kt,[W]:[{[Ce]:dU},nr]},{[G]:Kt,[W]:[Dr,"partition"]}]}],rules:[{endpoint:{[le]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[ue]:{[Yi]:[{[ti]:!0,name:AD,[ni]:Ud,[TD]:Cne}]},[de]:Ie},[D]:J}],[D]:Z},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[D]:he}],[D]:Z}],[D]:Z},{error:"Invalid Access Point Name",[D]:he}],[D]:Z},kU],[D]:Z},{[B]:[{[G]:Rt,[W]:[sD,kp]}],rules:[{[B]:gD,error:"S3 Outposts does not support Dual-stack",[D]:he},{[B]:Bd,error:"S3 Outposts does not support FIPS",[D]:he},{[B]:D_,error:"S3 Outposts does not support S3 Accelerate",[D]:he},{[B]:[{[G]:bi,[W]:[{[G]:Kt,[W]:[Dr,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[D]:he},{[B]:[{[G]:Kt,[W]:Sne,[jt]:SD}],rules:[{[B]:JU,rules:[aD,{[B]:bD,rules:[{[B]:za,rules:[{[B]:rj,rules:[{[B]:ED,rules:[{[B]:CD,rules:[{[B]:[{[G]:Kt,[W]:Ine,[jt]:fU}],rules:[{[B]:[{[G]:Kt,[W]:[Dr,"resourceId[3]"],[jt]:RD}],rules:[{[B]:[{[G]:Rt,[W]:[{[Ce]:fU},gj]}],rules:[{[B]:xl,endpoint:{[le]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[ue]:OU,[de]:Ie},[D]:J},{endpoint:{[le]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ue]:OU,[de]:Ie},[D]:J}],[D]:Z},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[D]:he}],[D]:Z},{error:"Invalid ARN: expected an access point name",[D]:he}],[D]:Z},{error:"Invalid ARN: Expected a 4-component resource",[D]:he}],[D]:Z},lD],[D]:Z},uD],[D]:Z},dD],[D]:Z}],[D]:Z}],[D]:Z},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[D]:he}],[D]:Z},{error:"Invalid ARN: The Outpost Id was not set",[D]:he}],[D]:Z},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[D]:he}],[D]:Z},{error:"Invalid ARN: No ARN type specified",[D]:he}],[D]:Z},{[B]:[{[G]:Vo,[W]:[yr,0,4,!1],[jt]:hU},{[G]:Rt,[W]:[{[Ce]:hU},"arn:"]},{[G]:Bo,[W]:[{[G]:bi,[W]:[FU]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[D]:he},{[B]:[{[G]:On,[W]:[_ne,!0]},FU],error:"Path-style addressing cannot be used with ARN buckets",[D]:he},{[B]:yD,rules:[{[B]:za,rules:[{[B]:[cn],rules:[{[B]:[It,Ne,xt,En],endpoint:{[le]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ue]:Pn,[de]:Ie},[D]:J},{[B]:[It,Ne,xt,tt,Nn],rules:[{endpoint:LU,[D]:J}],[D]:Z},{[B]:[It,Ne,xt,tt,kn],endpoint:LU,[D]:J},{[B]:[We,Ne,xt,En],endpoint:{[le]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ue]:Pn,[de]:Ie},[D]:J},{[B]:[We,Ne,xt,tt,Nn],rules:[{endpoint:VU,[D]:J}],[D]:Z},{[B]:[We,Ne,xt,tt,kn],endpoint:VU,[D]:J},{[B]:[It,Ne,je,En],endpoint:{[le]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ue]:Pn,[de]:Ie},[D]:J},{[B]:[It,Ne,je,tt,Nn],rules:[{endpoint:BU,[D]:J}],[D]:Z},{[B]:[It,Ne,je,tt,kn],endpoint:BU,[D]:J},{[B]:[We,ln,gr,je,En],endpoint:{[le]:yj,[ue]:Pn,[de]:Ie},[D]:J},{[B]:[We,ln,gr,je,tt,Nn],rules:[{[B]:Ga,endpoint:fD,[D]:J},{endpoint:fD,[D]:J}],[D]:Z},{[B]:[We,ln,gr,je,tt,kn],endpoint:fD,[D]:J},{[B]:[We,Ne,je,En],endpoint:{[le]:pU,[ue]:Pn,[de]:Ie},[D]:J},{[B]:[We,Ne,je,tt,Nn],rules:[{[B]:Ga,endpoint:{[le]:pU,[ue]:un,[de]:Ie},[D]:J},{endpoint:UU,[D]:J}],[D]:Z},{[B]:[We,Ne,je,tt,kn],endpoint:UU,[D]:J}],[D]:Z},{error:"Path-style addressing cannot be used with S3 Accelerate",[D]:he}],[D]:Z}],[D]:Z}],[D]:Z},{[B]:[{[G]:bi,[W]:[jU]},{[G]:On,[W]:[jU,!0]}],rules:[{[B]:za,rules:[{[B]:oj,rules:[DU,RU,{[B]:xl,endpoint:{[le]:M_,[ue]:hD,[de]:Ie},[D]:J},{[B]:Bd,endpoint:{[le]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[ue]:hD,[de]:Ie},[D]:J},{endpoint:{[le]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[ue]:hD,[de]:Ie},[D]:J}],[D]:Z},A_],[D]:Z}],[D]:Z},{[B]:[wU],rules:[{[B]:za,rules:[{[B]:oj,rules:[{[B]:[xt,It,Ne,En],endpoint:{[le]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ue]:Pn,[de]:Ie},[D]:J},{[B]:[xt,It,Ne,tt,Nn],rules:[{endpoint:$U,[D]:J}],[D]:Z},{[B]:[xt,It,Ne,tt,kn],endpoint:$U,[D]:J},{[B]:[xt,We,Ne,En],endpoint:{[le]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[ue]:Pn,[de]:Ie},[D]:J},{[B]:[xt,We,Ne,tt,Nn],rules:[{endpoint:HU,[D]:J}],[D]:Z},{[B]:[xt,We,Ne,tt,kn],endpoint:HU,[D]:J},{[B]:[je,It,Ne,En],endpoint:{[le]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ue]:Pn,[de]:Ie},[D]:J},{[B]:[je,It,Ne,tt,Nn],rules:[{endpoint:qU,[D]:J}],[D]:Z},{[B]:[je,It,Ne,tt,kn],endpoint:qU,[D]:J},{[B]:[je,We,ln,gr,En],endpoint:{[le]:M_,[ue]:Pn,[de]:Ie},[D]:J},{[B]:[je,We,ln,gr,tt,Nn],rules:[{[B]:Ga,endpoint:pD,[D]:J},{endpoint:pD,[D]:J}],[D]:Z},{[B]:[je,We,ln,gr,tt,kn],endpoint:pD,[D]:J},{[B]:[je,We,Ne,En],endpoint:{[le]:mU,[ue]:Pn,[de]:Ie},[D]:J},{[B]:[je,We,Ne,tt,Nn],rules:[{[B]:Ga,endpoint:{[le]:mU,[ue]:un,[de]:Ie},[D]:J},{endpoint:zU,[D]:J}],[D]:Z},{[B]:[je,We,Ne,tt,kn],endpoint:zU,[D]:J}],[D]:Z},A_],[D]:Z}],[D]:Z}],[D]:Z},{error:"A region must be set when sending requests to S3.",[D]:he}]},Ij=xne;var Tne=new s_({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),L_=(t,e={})=>Tne.get(t,()=>UA(Ij,{endpointParams:t,logger:e.logger}));Sl.aws=$A;var Ane=t=>(e,n,r)=>w(void 0,null,function*(){if(!r)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let i=yield t(e,n,r),o=Wi(n)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!o)throw new Error(`getEndpointParameterInstructions() is not defined on \`${n.commandName}\``);let s=yield WA(r,{getEndpointParameterInstructions:o},e);return Object.assign(i,s)}),Dne=(t,e,n)=>w(void 0,null,function*(){return{operation:Wi(e).operation,region:(yield $n(t.region)())||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}}),xj=Ane(Dne);function Tj(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}function Aj(t){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}var Rne=(t,e,n)=>i=>{let s=t(i).properties?.authSchemes;if(!s)return e(i);let a=[];for(let l of s){let c=l,{name:f,properties:h={}}=c,g=fc(c,["name","properties"]),b=f.toLowerCase();f!==b&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${f}\` to \`${b}\``);let I;if(b==="sigv4a"){I="aws.auth#sigv4a";let $=s.find(Y=>{let oe=Y.name.toLowerCase();return oe!=="sigv4a"&&oe.startsWith("sigv4")});if(!I_.CrtSignerV4&&$)continue}else if(b.startsWith("sigv4"))I="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${b}\``);let O=n[I];if(!O)throw new Error(`Could not find HttpAuthOption create function for \`${I}\``);let N=O(i);N.schemeId=I,N.signingProperties=A(A(A({},N.signingProperties||{}),g),h),a.push(N)}return a},Mne=t=>{let e=[];switch(t.operation){default:e.push(Tj(t)),e.push(Aj(t))}return e},Dj=Rne(L_,Mne,{"aws.auth#sigv4":Tj,"aws.auth#sigv4a":Aj}),Rj=t=>{let e=yV(t),n=YL(e);return A({},n)};var Mj=t=>z(A({},t),{useFipsEndpoint:t.useFipsEndpoint??!1,useDualstackEndpoint:t.useDualstackEndpoint??!1,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),V_={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var vr=class t extends Xv{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};var B_=class t extends vr{constructor(e){super(A({name:"NoSuchUpload",$fault:"client"},e)),this.name="NoSuchUpload",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var U_=class t extends vr{constructor(e){super(A({name:"ObjectNotInActiveTierError",$fault:"client"},e)),this.name="ObjectNotInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}},j_=class t extends vr{constructor(e){super(A({name:"BucketAlreadyExists",$fault:"client"},e)),this.name="BucketAlreadyExists",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}},$_=class t extends vr{constructor(e){super(A({name:"BucketAlreadyOwnedByYou",$fault:"client"},e)),this.name="BucketAlreadyOwnedByYou",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var H_=class t extends vr{constructor(e){super(A({name:"NoSuchBucket",$fault:"client"},e)),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var q_=class t extends vr{constructor(e){super(A({name:"InvalidObjectState",$fault:"client"},e)),this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,t.prototype),this.StorageClass=e.StorageClass,this.AccessTier=e.AccessTier}},z_=class t extends vr{constructor(e){super(A({name:"NoSuchKey",$fault:"client"},e)),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var G_=class t extends vr{constructor(e){super(A({name:"NotFound",$fault:"client"},e)),this.name="NotFound",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var Pne=t=>A(A(A({},t),t.SecretAccessKey&&{SecretAccessKey:ei}),t.SessionToken&&{SessionToken:ei}),Pj=t=>A(A(A(A({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:ei}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:ei}),t.Credentials&&{Credentials:Pne(t.Credentials)}),Nj=t=>A(A(A({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:ei}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:ei});var W_=class t extends vr{constructor(e){super(A({name:"ObjectAlreadyInActiveTierError",$fault:"client"},e)),this.name="ObjectAlreadyInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var kj=t=>A(A(A({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:ei}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:ei}),Oj=t=>A(A(A(A({},t),t.SSECustomerKey&&{SSECustomerKey:ei}),t.SSEKMSKeyId&&{SSEKMSKeyId:ei}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:ei});var Bj=(t,e)=>w(void 0,null,function*(){let n=$v(t,e),r=Hn({},Ua,{[Tre]:t[ure],[X_]:t[Y_],[ew]:t[J_],[tw]:t[Z_],[$d]:[()=>Ua(t[jd]),()=>t[jd].toString()]});n.bp("/"),n.p("Bucket",()=>t.Bucket,"{Bucket}",!1);let i=Hn({[Ire]:[,""]});return n.m("GET").h(r).q(i).b(void 0),n.build()});var Uj=(t,e)=>w(void 0,null,function*(){let n=$v(t,e),r=Hn({},Ua,A({[bre]:t[Jne]||"application/octet-stream",[xre]:t[zne],[mre]:t[Wne],[gre]:t[Kne],[yre]:t[Qne],[vre]:t[Yne],[_re]:[()=>Ua(t[Fj]),()=>t[Fj].toString()],[wre]:t[Zne],[Ure]:t[Gne],[Yj]:t[qj],[Zj]:t[zj],[Jj]:t[Gj],[Xj]:t[Wj],[Ere]:[()=>Ua(t[Lj]),()=>MV(t[Lj]).toString()],[Sre]:t[ore],[Rre]:t[tre],[Mre]:t[nre],[Pre]:t[rre],[Nre]:t[ire],[X_]:t[Y_],[Bre]:t[Q_],[qre]:t[pre],[e4]:t[Kj],[jre]:t[dre],[t4]:t[Qj],[ew]:t[J_],[tw]:t[Z_],[$d]:[()=>Ua(t[jd]),()=>t[jd].toString()],[Vre]:t[lre],[$re]:t[fre],[Ore]:t[are],[Fre]:[()=>Ua(t[Vj]),()=>$V(t[Vj]).toString()],[kre]:t[sre],[Dre]:t[Xne]},t.Metadata!==void 0&&Object.keys(t.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=t.Metadata[c],a),{})));n.bp("/{Key+}"),n.p("Bucket",()=>t.Bucket,"{Bucket}",!1),n.p("Key",()=>t.Key,"{Key+}",!0);let i=Hn({[zre]:[,"PutObject"]}),o,s;return t.Body!==void 0&&(s=t.Body,o=s),n.m("PUT").h(r).q(i).b(o),n.build()});var jj=(t,e)=>w(void 0,null,function*(){if(t.statusCode!==200&&t.statusCode>=300)return Hj(t,e);let n=Hn({$metadata:Zi(t),[Y_]:[,t.headers[X_]],[J_]:[,t.headers[ew]],[Z_]:[,t.headers[tw]],[jd]:[()=>t.headers[$d]!==void 0,()=>mA(t.headers[$d])]}),r=gA(SV(yield AA(t.body,e)),"body");return r[kD]!=null&&(n[kD]=qne(r[kD],e)),n});var $j=(t,e)=>w(void 0,null,function*(){if(t.statusCode!==200&&t.statusCode>=300)return Hj(t,e);let n=Hn({$metadata:Zi(t),[K_]:[,t.headers[Are]],[ere]:[,t.headers[Cre]],[qj]:[,t.headers[Yj]],[zj]:[,t.headers[Zj]],[Gj]:[,t.headers[Jj]],[Wj]:[,t.headers[Xj]],[Y_]:[,t.headers[X_]],[hre]:[,t.headers[Hre]],[Kj]:[,t.headers[e4]],[Qj]:[,t.headers[t4]],[J_]:[,t.headers[ew]],[Z_]:[,t.headers[tw]],[jd]:[()=>t.headers[$d]!==void 0,()=>mA(t.headers[$d])],[cre]:[,t.headers[Lre]]});return yield vp(t.body,e),n});var Hj=(t,e)=>w(void 0,null,function*(){let n=z(A({},t),{body:yield CB(t.body,e)}),r=SB(t,n.body);switch(r){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw yield Une(n,e);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw yield Hne(n,e);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw yield One(n,e);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw yield Fne(n,e);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw yield Vne(n,e);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw yield Lne(n,e);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw yield Bne(n,e);case"NotFound":case"com.amazonaws.s3#NotFound":throw yield jne(n,e);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw yield $ne(n,e);default:let i=n.body;return kne({output:t,parsedBody:i,errorCode:r})}}),kne=kV(vr),One=(t,e)=>w(void 0,null,function*(){let n=Hn({}),r=t.body,i=new j_(A({$metadata:Zi(t)},n));return _i(i,t.body)}),Fne=(t,e)=>w(void 0,null,function*(){let n=Hn({}),r=t.body,i=new $_(A({$metadata:Zi(t)},n));return _i(i,t.body)}),Lne=(t,e)=>w(void 0,null,function*(){let n=Hn({}),r=t.body;r[ND]!=null&&(n[ND]=Rd(r[ND])),r[Q_]!=null&&(n[Q_]=Rd(r[Q_]));let i=new q_(A({$metadata:Zi(t)},n));return _i(i,t.body)}),Vne=(t,e)=>w(void 0,null,function*(){let n=Hn({}),r=t.body,i=new H_(A({$metadata:Zi(t)},n));return _i(i,t.body)}),Bne=(t,e)=>w(void 0,null,function*(){let n=Hn({}),r=t.body,i=new z_(A({$metadata:Zi(t)},n));return _i(i,t.body)}),Une=(t,e)=>w(void 0,null,function*(){let n=Hn({}),r=t.body,i=new B_(A({$metadata:Zi(t)},n));return _i(i,t.body)}),jne=(t,e)=>w(void 0,null,function*(){let n=Hn({}),r=t.body,i=new G_(A({$metadata:Zi(t)},n));return _i(i,t.body)}),$ne=(t,e)=>w(void 0,null,function*(){let n=Hn({}),r=t.body,i=new W_(A({$metadata:Zi(t)},n));return _i(i,t.body)}),Hne=(t,e)=>w(void 0,null,function*(){let n=Hn({}),r=t.body,i=new U_(A({$metadata:Zi(t)},n));return _i(i,t.body)});var qne=(t,e)=>{let n={};return t[PD]!=null&&(n[PD]=Rd(t[PD])),t[OD]!=null&&(n[OD]=Rd(t[OD])),t[FD]!=null&&(n[FD]=Rd(t[FD])),t[K_]!=null&&(n[K_]=gA(PV(t[K_]))),n};var Zi=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]});var zne="ACL";var PD="AccessKeyId";var ND="AccessTier";var jd="BucketKeyEnabled";var kD="Credentials",Gne="ChecksumAlgorithm";var Wne="CacheControl",qj="ChecksumCRC32",zj="ChecksumCRC32C",Kne="ContentDisposition";var Qne="ContentEncoding";var Yne="ContentLanguage",Fj="ContentLength";var Zne="ContentMD5";var Gj="ChecksumSHA1",Wj="ChecksumSHA256";var Jne="ContentType";var Lj="Expires";var Xne="ExpectedBucketOwner";var ere="ETag";var K_="Expiration";var tre="GrantFullControl";var nre="GrantRead",rre="GrantReadACP";var ire="GrantWriteACP";var ore="IfNoneMatch";var sre="ObjectLockLegalHoldStatus",are="ObjectLockMode";var Vj="ObjectLockRetainUntilDate";var cre="RequestCharged";var lre="RequestPayer";var OD="SecretAccessKey";var Q_="StorageClass";var ure="SessionMode";var Y_="ServerSideEncryption";var Kj="SSECustomerAlgorithm",dre="SSECustomerKey",Qj="SSECustomerKeyMD5";var Z_="SSEKMSEncryptionContext",J_="SSEKMSKeyId";var FD="SessionToken";var fre="Tagging";var hre="VersionId";var pre="WebsiteRedirectLocation";var mre="cache-control",gre="content-disposition",yre="content-encoding",vre="content-language",_re="content-length",wre="content-md5";var bre="content-type";var Ere="expires";var Cre="etag";var Sre="if-none-match";var Ire="session";var xre="x-amz-acl";var Yj="x-amz-checksum-crc32",Zj="x-amz-checksum-crc32c";var Jj="x-amz-checksum-sha1",Xj="x-amz-checksum-sha256";var Tre="x-amz-create-session-mode";var Are="x-amz-expiration",Dre="x-amz-expected-bucket-owner";var Rre="x-amz-grant-full-control",Mre="x-amz-grant-read",Pre="x-amz-grant-read-acp";var Nre="x-amz-grant-write-acp";var kre="x-amz-object-lock-legal-hold",Ore="x-amz-object-lock-mode",Fre="x-amz-object-lock-retain-until-date";var Lre="x-amz-request-charged";var Vre="x-amz-request-payer";var Bre="x-amz-storage-class",Ure="x-amz-sdk-checksum-algorithm";var X_="x-amz-server-side-encryption",ew="x-amz-server-side-encryption-aws-kms-key-id",$d="x-amz-server-side-encryption-bucket-key-enabled",tw="x-amz-server-side-encryption-context",e4="x-amz-server-side-encryption-customer-algorithm",jre="x-amz-server-side-encryption-customer-key",t4="x-amz-server-side-encryption-customer-key-md5",$re="x-amz-tagging";var Hre="x-amz-version-id",qre="x-amz-website-redirect-location",zre="x-id";var nw=class extends wl.classBuilder().ep(z(A({},V_),{DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}})).m(function(e,n,r,i){return[Vv(r,this.serialize,this.deserialize),v_(r,e.getEndpointParameterInstructions()),o_(r)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(Nj,Pj).ser(Bj).de(jj).build(){};var n4={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.679.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"vitest run","test:watch":"vitest watch","test:e2e":"vitest run -c vitest.config.e2e.ts && yarn test:browser","test:e2e:watch":"vitest watch -c vitest.config.e2e.ts","test:browser":"node ./test/browser-build/esbuild && vitest run -c vitest.config.browser.ts","test:browser:watch":"node ./test/browser-build/esbuild && vitest watch -c vitest.config.browser.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.679.0","@aws-sdk/client-sts":"3.679.0","@aws-sdk/core":"3.679.0","@aws-sdk/credential-provider-node":"3.679.0","@aws-sdk/middleware-bucket-endpoint":"3.679.0","@aws-sdk/middleware-expect-continue":"3.679.0","@aws-sdk/middleware-flexible-checksums":"3.679.0","@aws-sdk/middleware-host-header":"3.679.0","@aws-sdk/middleware-location-constraint":"3.679.0","@aws-sdk/middleware-logger":"3.679.0","@aws-sdk/middleware-recursion-detection":"3.679.0","@aws-sdk/middleware-sdk-s3":"3.679.0","@aws-sdk/middleware-ssec":"3.679.0","@aws-sdk/middleware-user-agent":"3.679.0","@aws-sdk/region-config-resolver":"3.679.0","@aws-sdk/signature-v4-multi-region":"3.679.0","@aws-sdk/types":"3.679.0","@aws-sdk/util-endpoints":"3.679.0","@aws-sdk/util-user-agent-browser":"3.679.0","@aws-sdk/util-user-agent-node":"3.679.0","@aws-sdk/xml-builder":"3.679.0","@smithy/config-resolver":"^3.0.9","@smithy/core":"^2.4.8","@smithy/eventstream-serde-browser":"^3.0.10","@smithy/eventstream-serde-config-resolver":"^3.0.7","@smithy/eventstream-serde-node":"^3.0.9","@smithy/fetch-http-handler":"^3.2.9","@smithy/hash-blob-browser":"^3.1.6","@smithy/hash-node":"^3.0.7","@smithy/hash-stream-node":"^3.1.6","@smithy/invalid-dependency":"^3.0.7","@smithy/md5-js":"^3.0.7","@smithy/middleware-content-length":"^3.0.9","@smithy/middleware-endpoint":"^3.1.4","@smithy/middleware-retry":"^3.0.23","@smithy/middleware-serde":"^3.0.7","@smithy/middleware-stack":"^3.0.7","@smithy/node-config-provider":"^3.1.8","@smithy/node-http-handler":"^3.2.4","@smithy/protocol-http":"^4.1.4","@smithy/smithy-client":"^3.4.0","@smithy/types":"^3.5.0","@smithy/url-parser":"^3.0.7","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.23","@smithy/util-defaults-mode-node":"^3.0.23","@smithy/util-endpoints":"^2.1.3","@smithy/util-middleware":"^3.0.7","@smithy/util-retry":"^3.0.7","@smithy/util-stream":"^3.1.9","@smithy/util-utf8":"^3.0.0","@smithy/util-waiter":"^3.1.6",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/signature-v4-crt":"3.679.0","@tsconfig/node16":"16.1.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};var LD=t=>new TextEncoder().encode(t);function VD(t){return typeof t=="string"?t.length===0:t.byteLength===0}var BD={name:"SHA-1"},UD={name:"HMAC",hash:BD},r4=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);var Wre={};function Ei(){return typeof window<"u"?window:typeof self<"u"?self:Wre}var jD=function(){function t(e){this.toHash=new Uint8Array(0),e!==void 0&&(this.key=new Promise(function(n,r){Ei().crypto.subtle.importKey("raw",i4(e),UD,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))}return t.prototype.update=function(e){if(!VD(e)){var n=i4(e),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(n){return Ei().crypto.subtle.sign(UD,n,e.toHash).then(function(r){return new Uint8Array(r)})}):VD(this.toHash)?Promise.resolve(r4):Promise.resolve().then(function(){return Ei().crypto.subtle.digest(BD,e.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},t.prototype.reset=function(){this.toHash=new Uint8Array(0)},t}();function i4(t){return typeof t=="string"?LD(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var Kre=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function rw(t){if(Qre(t)&&typeof t.crypto.subtle=="object"){var e=t.crypto.subtle;return Yre(e)}return!1}function Qre(t){if(typeof t=="object"&&typeof t.crypto=="object"){var e=t.crypto.getRandomValues;return typeof e=="function"}return!1}function Yre(t){return t&&Kre.every(function(e){return typeof t[e]=="function"})}var o4=function(){function t(e){if(rw(Ei()))this.hash=new jD(e);else throw new Error("SHA1 not supported")}return t.prototype.update=function(e,n){this.hash.update(mr(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();var $D={name:"SHA-256"},HD={name:"HMAC",hash:$D},s4=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);var qD=function(){function t(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return t.prototype.update=function(e){if(!Fo(e)){var n=mr(e),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(n){return Ei().crypto.subtle.sign(HD,n,e.toHash).then(function(r){return new Uint8Array(r)})}):Fo(this.toHash)?Promise.resolve(s4):Promise.resolve().then(function(){return Ei().crypto.subtle.digest($D,e.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},t.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(n,r){Ei().crypto.subtle.importKey("raw",mr(e.secret),HD,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))},t}();var Rr=64,a4=32,c4=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),l4=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],u4=Math.pow(2,53)-1;var Op=function(){function t(){this.state=Int32Array.from(l4),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,r=e.byteLength;if(this.bytesHashed+=r,this.bytesHashed*8>u4)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=e[n++],r--,this.bufferLength===Rr&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(n.setUint8(this.bufferLength++,128),r%Rr>=Rr-8){for(var i=this.bufferLength;i<Rr;i++)n.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<Rr-8;i++)n.setUint8(i,0);n.setUint32(Rr-8,Math.floor(e/4294967296),!0),n.setUint32(Rr-4,e),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(a4),i=0;i<8;i++)o[i*4]=this.state[i]>>>24&255,o[i*4+1]=this.state[i]>>>16&255,o[i*4+2]=this.state[i]>>>8&255,o[i*4+3]=this.state[i]>>>0&255;return o},t.prototype.hashBuffer=function(){for(var e=this,n=e.buffer,r=e.state,i=r[0],o=r[1],s=r[2],a=r[3],c=r[4],l=r[5],f=r[6],h=r[7],g=0;g<Rr;g++){if(g<16)this.temp[g]=(n[g*4]&255)<<24|(n[g*4+1]&255)<<16|(n[g*4+2]&255)<<8|n[g*4+3]&255;else{var b=this.temp[g-2],I=(b>>>17|b<<15)^(b>>>19|b<<13)^b>>>10;b=this.temp[g-15];var O=(b>>>7|b<<25)^(b>>>18|b<<14)^b>>>3;this.temp[g]=(I+this.temp[g-7]|0)+(O+this.temp[g-16]|0)}var N=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&l^~c&f)|0)+(h+(c4[g]+this.temp[g]|0)|0)|0,$=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&o^i&s^o&s)|0;h=f,f=l,l=c,c=a+N|0,a=s,s=o,o=i,i=N+$|0}r[0]+=i,r[1]+=o,r[2]+=s,r[3]+=a,r[4]+=c,r[5]+=l,r[6]+=f,r[7]+=h},t}();var d4=function(){function t(e){this.secret=e,this.hash=new Op,this.reset()}return t.prototype.update=function(e){if(!(Fo(e)||this.error))try{this.hash.update(mr(e))}catch(n){this.error=n}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return Js(this,void 0,void 0,function(){return eu(this,function(e){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new Op,this.secret){this.outer=new Op;var e=Zre(this.secret),n=new Uint8Array(Rr);n.set(e);for(var r=0;r<Rr;r++)e[r]^=54,n[r]^=92;this.hash.update(e),this.outer.update(n);for(var r=0;r<e.byteLength;r++)e[r]=0}},t}();function Zre(t){var e=mr(t);if(e.byteLength>Rr){var n=new Op;n.update(e),e=n.digest()}var r=new Uint8Array(Rr);return r.set(e),r}var f4=function(){function t(e){rw(Ei())?this.hash=new qD(e):this.hash=new d4(e)}return t.prototype.update=function(e,n){this.hash.update(mr(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();var h4=hc(GD());var p4=({serviceId:t,clientVersion:e})=>n=>w(void 0,null,function*(){let r=typeof window<"u"&&window?.navigator?.userAgent?h4.default.parse(window.navigator.userAgent):void 0,i=[["aws-sdk-js",e],["ua","2.1"],[`os/${r?.os?.name||"other"}`,r?.os?.version],["lang/js"],["md/browser",`${r?.browser?.name??"unknown"}_${r?.browser?.version??"unknown"}`]];t&&i.push([`api/${t}`,e]);let o=yield n?.userAgentAppId?.();return o&&i.push([`app/${o}`]),i});var Hd=class t{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let n=new Uint8Array(8);for(let r=7,i=Math.abs(Math.round(e));r>-1&&i>0;r--,i/=256)n[r]=i;return e<0&&m4(n),new t(n)}valueOf(){let e=this.bytes.slice(0),n=e[0]&128;return n&&m4(e),parseInt(Gt(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function m4(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var iw=class{constructor(e,n){this.toUtf8=e,this.fromUtf8=n}format(e){let n=[];for(let o of Object.keys(e)){let s=this.fromUtf8(o);n.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let r=new Uint8Array(n.reduce((o,s)=>o+s.byteLength,0)),i=0;for(let o of n)r.set(o,i),i+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let a=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(Hd.fromNumber(e.value.valueOf()).bytes,1),f;case"uuid":if(!sie.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let h=new Uint8Array(17);return h[0]=9,h.set(Bv(e.value.replace(/\-/g,"")),1),h}}parse(e){let n={},r=0;for(;r<e.byteLength;){let i=e.getUint8(r++),o=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,i));switch(r+=i,e.getUint8(r++)){case 0:n[o]={type:g4,value:!0};break;case 1:n[o]={type:g4,value:!1};break;case 2:n[o]={type:Jre,value:e.getInt8(r++)};break;case 3:n[o]={type:Xre,value:e.getInt16(r,!1)},r+=2;break;case 4:n[o]={type:eie,value:e.getInt32(r,!1)},r+=4;break;case 5:n[o]={type:tie,value:new Hd(new Uint8Array(e.buffer,e.byteOffset+r,8))},r+=8;break;case 6:let s=e.getUint16(r,!1);r+=2,n[o]={type:nie,value:new Uint8Array(e.buffer,e.byteOffset+r,s)},r+=s;break;case 7:let a=e.getUint16(r,!1);r+=2,n[o]={type:rie,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,a))},r+=a;break;case 8:n[o]={type:iie,value:new Date(new Hd(new Uint8Array(e.buffer,e.byteOffset+r,8)).valueOf())},r+=8;break;case 9:let c=new Uint8Array(e.buffer,e.byteOffset+r,16);r+=16,n[o]={type:oie,value:`${Gt(c.subarray(0,4))}-${Gt(c.subarray(4,6))}-${Gt(c.subarray(6,8))}-${Gt(c.subarray(8,10))}-${Gt(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return n}};var g4="boolean",Jre="byte",Xre="short",eie="integer",tie="long",nie="binary",rie="string",iie="timestamp",oie="uuid",sie=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var y4=4,Wa=y4*2,Al=4,aie=Wa+Al*2;function v4({byteLength:t,byteOffset:e,buffer:n}){if(t<aie)throw new Error("Provided message too short to accommodate event stream message overhead");let r=new DataView(n,e,t),i=r.getUint32(0,!1);if(t!==i)throw new Error("Reported message length does not match received message length");let o=r.getUint32(y4,!1),s=r.getUint32(Wa,!1),a=r.getUint32(t-Al,!1),c=new El().update(new Uint8Array(n,e,Wa));if(s!==c.digest())throw new Error(`The prelude checksum specified in the message (${s}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(n,e+Wa,t-(Wa+Al))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(n,e+Wa+Al,o),body:new Uint8Array(n,e+Wa+Al+o,i-o-(Wa+Al+Al))}}var ow=class{constructor(e,n){this.headerMarshaller=new iw(e,n),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){let e=this.messageBuffer.pop(),n=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return n}}}getAvailableMessages(){let e=this.messageBuffer;this.messageBuffer=[];let n=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return n}}}encode({headers:e,body:n}){let r=this.headerMarshaller.format(e),i=r.byteLength+n.byteLength+16,o=new Uint8Array(i),s=new DataView(o.buffer,o.byteOffset,o.byteLength),a=new El;return s.setUint32(0,i,!1),s.setUint32(4,r.byteLength,!1),s.setUint32(8,a.update(o.subarray(0,8)).digest(),!1),o.set(r,12),o.set(n,r.byteLength+12),s.setUint32(i-4,a.update(o.subarray(8,i-4)).digest(),!1),o}decode(e){let{headers:n,body:r}=v4(e);return{headers:this.headerMarshaller.parse(n),body:r}}formatHeaders(e){return this.headerMarshaller.format(e)}};var sw=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return Er(this,null,function*(){try{for(var e=Ho(this.options.inputStream),n,r,i;n=!(r=yield new Jt(e.next())).done;n=!1){let o=r.value;yield this.options.decoder.decode(o)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new Jt(r.call(e)))}finally{if(i)throw i[0]}}})}};var aw=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return Er(this,null,function*(){try{for(var e=Ho(this.options.messageStream),n,r,i;n=!(r=yield new Jt(e.next())).done;n=!1){let o=r.value;yield this.options.encoder.encode(o)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new Jt(r.call(e)))}finally{if(i)throw i[0]}}this.options.includeEndFrame&&(yield new Uint8Array(0))})}};var cw=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return Er(this,null,function*(){try{for(var e=Ho(this.options.messageStream),n,r,i;n=!(r=yield new Jt(e.next())).done;n=!1){let o=r.value;let s=yield new Jt(this.options.deserializer(o));s!==void 0&&(yield s)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new Jt(r.call(e)))}finally{if(i)throw i[0]}}})}};var lw=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return Er(this,null,function*(){try{for(var e=Ho(this.options.inputStream),n,r,i;n=!(r=yield new Jt(e.next())).done;n=!1){let o=r.value;yield this.options.serializer(o)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new Jt(r.call(e)))}finally{if(i)throw i[0]}}})}};function _4(t){let e=0,n=0,r=null,i=null,o=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);e=a,n=4,r=new Uint8Array(a),new DataView(r.buffer).setUint32(0,a,!1)},s=function(){return Er(this,null,function*(){let a=t[Symbol.asyncIterator]();for(;;){let{value:c,done:l}=yield new Jt(a.next());if(l){if(e)if(e===n)yield r;else throw new Error("Truncated event message received.");else return;return}let f=c.length,h=0;for(;h<f;){if(!r){let b=f-h;i||(i=new Uint8Array(4));let I=Math.min(4-n,b);if(i.set(c.slice(h,h+I),n),n+=I,h+=I,n<4)break;o(new DataView(i.buffer).getUint32(0,!1)),i=null}let g=Math.min(e-n,f-h);r.set(c.slice(h,h+g),n),n+=g,h+=g,e&&e===n&&(yield r,r=null,e=0,n=0)}}})};return{[Symbol.asyncIterator]:s}}function w4(t,e){return function(n){return w(this,null,function*(){let{value:r}=n.headers[":message-type"];if(r==="error"){let i=new Error(n.headers[":error-message"].value||"UnknownError");throw i.name=n.headers[":error-code"].value,i}else if(r==="exception"){let i=n.headers[":exception-type"].value,o={[i]:n},s=yield t(o);if(s.$unknown){let a=new Error(e(n.body));throw a.name=i,a}throw s[i]}else if(r==="event"){let i={[n.headers[":event-type"].value]:n},o=yield t(i);return o.$unknown?void 0:o}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)})}}var Lp=class{constructor({utf8Encoder:e,utf8Decoder:n}){this.eventStreamCodec=new ow(e,n),this.utfEncoder=e}deserialize(e,n){let r=_4(e);return new cw({messageStream:new sw({inputStream:r,decoder:this.eventStreamCodec}),deserializer:w4(n,this.utfEncoder)})}serialize(e,n){return new aw({messageStream:new lw({inputStream:e,serializer:n}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};var b4=t=>({[Symbol.asyncIterator]:function(){return Er(this,null,function*(){let e=t.getReader();try{for(;;){let{done:n,value:r}=yield new Jt(e.read());if(n)return;yield r}}finally{e.releaseLock()}})}}),E4=t=>{let e=t[Symbol.asyncIterator]();return new ReadableStream({pull(r){return w(this,null,function*(){let{done:i,value:o}=yield e.next();if(i)return r.close();r.enqueue(o)})}})};var uw=class{constructor({utf8Encoder:e,utf8Decoder:n}){this.universalMarshaller=new Lp({utf8Decoder:n,utf8Encoder:e})}deserialize(e,n){let r=cie(e)?b4(e):e;return this.universalMarshaller.deserialize(r,n)}serialize(e,n){let r=this.universalMarshaller.serialize(e,n);return typeof ReadableStream=="function"?E4(r):r}},cie=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream;var C4=t=>new uw(t);function S4(t=0){return new Promise((e,n)=>{t&&setTimeout(()=>{let r=new Error(`Request did not complete within ${t} ms`);r.name="TimeoutError",n(r)},t)})}var WD={supported:void 0},dw=class t{static create(e){return typeof e?.handle=="function"?e:new t(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(n=>n||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),WD.supported===void 0&&(WD.supported=typeof Request<"u"&&"keepalive"in new Request("https://[::1]"))}destroy(){}handle(r){return w(this,arguments,function*(e,{abortSignal:n}={}){this.config||(this.config=yield this.configProvider);let i=this.config.requestTimeout,o=this.config.keepAlive===!0,s=this.config.credentials;if(n?.aborted){let Y=new Error("Request aborted");return Y.name="AbortError",Promise.reject(Y)}let a=e.path,c=JT(e.query||{});c&&(a+=`?${c}`),e.fragment&&(a+=`#${e.fragment}`);let l="";if(e.username!=null||e.password!=null){let Y=e.username??"",oe=e.password??"";l=`${Y}:${oe}@`}let{port:f,method:h}=e,g=`${e.protocol}//${l}${e.hostname}${f?`:${f}`:""}${a}`,b=h==="GET"||h==="HEAD"?void 0:e.body,I={body:b,headers:new Headers(e.headers),method:h,credentials:s};this.config?.cache&&(I.cache=this.config.cache),b&&(I.duplex="half"),typeof AbortController<"u"&&(I.signal=n),WD.supported&&(I.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(I,this.config.requestInit(e));let O=()=>{},N=new Request(g,I),$=[fetch(N).then(Y=>{let oe=Y.headers,se={};for(let ge of oe.entries())se[ge[0]]=ge[1];return Y.body!=null?{response:new Ar({headers:se,reason:Y.statusText,statusCode:Y.status,body:Y.body})}:Y.blob().then(ge=>({response:new Ar({headers:se,reason:Y.statusText,statusCode:Y.status,body:ge})}))}),S4(i)];return n&&$.push(new Promise((Y,oe)=>{let se=()=>{let Te=new Error("Request aborted");Te.name="AbortError",oe(Te)};if(typeof n.addEventListener=="function"){let Te=n;Te.addEventListener("abort",se,{once:!0}),O=()=>Te.removeEventListener("abort",se)}else n.onabort=se})),Promise.race($).finally(O)})}updateHttpClientConfig(e,n){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[e]=n,r))}httpHandlerConfigs(){return this.config??{}}};var I4=t=>typeof Blob=="function"&&t instanceof Blob?lie(t):uie(t);function lie(t){return w(this,null,function*(){let e=yield die(t),n=Td(e);return new Uint8Array(n)})}function uie(t){return w(this,null,function*(){let e=[],n=t.getReader(),r=!1,i=0;for(;!r;){let{done:a,value:c}=yield n.read();c&&(e.push(c),i+=c.length),r=a}let o=new Uint8Array(i),s=0;for(let a of e)o.set(a,s),s+=a.length;return o})}function die(t){return new Promise((e,n)=>{let r=new FileReader;r.onloadend=()=>{if(r.readyState!==2)return n(new Error("Reader aborted too early"));let i=r.result??"",o=i.indexOf(","),s=o>-1?o+1:i.length;e(i.substring(s))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(t)})}function x4(r,i){return w(this,arguments,function*(t,e,n=1024*1024){let o=t.size,s=0;for(;s<o;){let a=t.slice(s,Math.min(o,s+n));e(new Uint8Array(yield a.arrayBuffer())),s+=a.size}})}var T4=function(e,n){return w(this,null,function*(){let r=new e;return yield x4(n,i=>{r.update(i)}),r.digest()})};var A4=t=>()=>Promise.reject(t);var D4=[1732584193,4023233417,2562383102,271733878];var fw=class{constructor(){this.reset()}update(e){if(hie(e))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");let n=pie(e),r=0,{byteLength:i}=n;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,n[r++]),i--,this.bufferLength===64&&(this.hashBuffer(),this.bufferLength=0)}digest(){return w(this,null,function*(){if(!this.finished){let{buffer:n,bufferLength:r,bytesHashed:i}=this,o=i*8;if(n.setUint8(this.bufferLength++,128),r%64>=56){for(let s=this.bufferLength;s<64;s++)n.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(let s=this.bufferLength;s<56;s++)n.setUint8(s,0);n.setUint32(56,o>>>0,!0),n.setUint32(60,Math.floor(o/4294967296),!0),this.hashBuffer(),this.finished=!0}let e=new DataView(new ArrayBuffer(16));for(let n=0;n<4;n++)e.setUint32(n*4,this.state[n],!0);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)})}hashBuffer(){let{buffer:e,state:n}=this,r=n[0],i=n[1],o=n[2],s=n[3];r=rr(r,i,o,s,e.getUint32(0,!0),7,3614090360),s=rr(s,r,i,o,e.getUint32(4,!0),12,3905402710),o=rr(o,s,r,i,e.getUint32(8,!0),17,606105819),i=rr(i,o,s,r,e.getUint32(12,!0),22,3250441966),r=rr(r,i,o,s,e.getUint32(16,!0),7,4118548399),s=rr(s,r,i,o,e.getUint32(20,!0),12,1200080426),o=rr(o,s,r,i,e.getUint32(24,!0),17,2821735955),i=rr(i,o,s,r,e.getUint32(28,!0),22,4249261313),r=rr(r,i,o,s,e.getUint32(32,!0),7,1770035416),s=rr(s,r,i,o,e.getUint32(36,!0),12,2336552879),o=rr(o,s,r,i,e.getUint32(40,!0),17,4294925233),i=rr(i,o,s,r,e.getUint32(44,!0),22,2304563134),r=rr(r,i,o,s,e.getUint32(48,!0),7,1804603682),s=rr(s,r,i,o,e.getUint32(52,!0),12,4254626195),o=rr(o,s,r,i,e.getUint32(56,!0),17,2792965006),i=rr(i,o,s,r,e.getUint32(60,!0),22,1236535329),r=ir(r,i,o,s,e.getUint32(4,!0),5,4129170786),s=ir(s,r,i,o,e.getUint32(24,!0),9,3225465664),o=ir(o,s,r,i,e.getUint32(44,!0),14,643717713),i=ir(i,o,s,r,e.getUint32(0,!0),20,3921069994),r=ir(r,i,o,s,e.getUint32(20,!0),5,3593408605),s=ir(s,r,i,o,e.getUint32(40,!0),9,38016083),o=ir(o,s,r,i,e.getUint32(60,!0),14,3634488961),i=ir(i,o,s,r,e.getUint32(16,!0),20,3889429448),r=ir(r,i,o,s,e.getUint32(36,!0),5,568446438),s=ir(s,r,i,o,e.getUint32(56,!0),9,3275163606),o=ir(o,s,r,i,e.getUint32(12,!0),14,4107603335),i=ir(i,o,s,r,e.getUint32(32,!0),20,1163531501),r=ir(r,i,o,s,e.getUint32(52,!0),5,2850285829),s=ir(s,r,i,o,e.getUint32(8,!0),9,4243563512),o=ir(o,s,r,i,e.getUint32(28,!0),14,1735328473),i=ir(i,o,s,r,e.getUint32(48,!0),20,2368359562),r=or(r,i,o,s,e.getUint32(20,!0),4,4294588738),s=or(s,r,i,o,e.getUint32(32,!0),11,2272392833),o=or(o,s,r,i,e.getUint32(44,!0),16,1839030562),i=or(i,o,s,r,e.getUint32(56,!0),23,4259657740),r=or(r,i,o,s,e.getUint32(4,!0),4,2763975236),s=or(s,r,i,o,e.getUint32(16,!0),11,1272893353),o=or(o,s,r,i,e.getUint32(28,!0),16,4139469664),i=or(i,o,s,r,e.getUint32(40,!0),23,3200236656),r=or(r,i,o,s,e.getUint32(52,!0),4,681279174),s=or(s,r,i,o,e.getUint32(0,!0),11,3936430074),o=or(o,s,r,i,e.getUint32(12,!0),16,3572445317),i=or(i,o,s,r,e.getUint32(24,!0),23,76029189),r=or(r,i,o,s,e.getUint32(36,!0),4,3654602809),s=or(s,r,i,o,e.getUint32(48,!0),11,3873151461),o=or(o,s,r,i,e.getUint32(60,!0),16,530742520),i=or(i,o,s,r,e.getUint32(8,!0),23,3299628645),r=sr(r,i,o,s,e.getUint32(0,!0),6,4096336452),s=sr(s,r,i,o,e.getUint32(28,!0),10,1126891415),o=sr(o,s,r,i,e.getUint32(56,!0),15,2878612391),i=sr(i,o,s,r,e.getUint32(20,!0),21,4237533241),r=sr(r,i,o,s,e.getUint32(48,!0),6,1700485571),s=sr(s,r,i,o,e.getUint32(12,!0),10,2399980690),o=sr(o,s,r,i,e.getUint32(40,!0),15,4293915773),i=sr(i,o,s,r,e.getUint32(4,!0),21,2240044497),r=sr(r,i,o,s,e.getUint32(32,!0),6,1873313359),s=sr(s,r,i,o,e.getUint32(60,!0),10,4264355552),o=sr(o,s,r,i,e.getUint32(24,!0),15,2734768916),i=sr(i,o,s,r,e.getUint32(52,!0),21,1309151649),r=sr(r,i,o,s,e.getUint32(16,!0),6,4149444226),s=sr(s,r,i,o,e.getUint32(44,!0),10,3174756917),o=sr(o,s,r,i,e.getUint32(8,!0),15,718787259),i=sr(i,o,s,r,e.getUint32(36,!0),21,3951481745),n[0]=r+n[0]&4294967295,n[1]=i+n[1]&4294967295,n[2]=o+n[2]&4294967295,n[3]=s+n[3]&4294967295}reset(){this.state=Uint32Array.from(D4),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}};function hw(t,e,n,r,i,o){return e=(e+t&4294967295)+(r+o&4294967295)&4294967295,(e<<i|e>>>32-i)+n&4294967295}function rr(t,e,n,r,i,o,s){return hw(e&n|~e&r,t,e,i,o,s)}function ir(t,e,n,r,i,o,s){return hw(e&r|n&~r,t,e,i,o,s)}function or(t,e,n,r,i,o,s){return hw(e^n^r,t,e,i,o,s)}function sr(t,e,n,r,i,o,s){return hw(n^(e|~r),t,e,i,o,s)}function hie(t){return typeof t=="string"?t.length===0:t.byteLength===0}function pie(t){return typeof t=="string"?Xr(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var R4=typeof TextEncoder=="function"?new TextEncoder:null,M4=t=>{if(typeof t=="string"){if(R4)return R4.encode(t).byteLength;let e=t.length;for(let n=e-1;n>=0;n--){let r=t.charCodeAt(n);r>127&&r<=2047?e++:r>2047&&r<=65535&&(e+=2),r>=56320&&r<=57343&&n--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)};var P4=t=>({apiVersion:"2006-03-01",base64Decoder:t?.base64Decoder??Td,base64Encoder:t?.base64Encoder??yl,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??L_,extensions:t?.extensions??[],getAwsChunkedEncodingStream:t?.getAwsChunkedEncodingStream??VL,httpAuthSchemeProvider:t?.httpAuthSchemeProvider??Dj,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new pl},{schemeId:"aws.auth#sigv4a",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4a"),signer:new gp}],logger:t?.logger??new ja,sdkStreamMixin:t?.sdkStreamMixin??HL,serviceId:t?.serviceId??"S3",signerConstructor:t?.signerConstructor??x_,signingEscapePath:t?.signingEscapePath??!1,urlParser:t?.urlParser??kd,useArnRegion:t?.useArnRegion??!1,utf8Decoder:t?.utf8Decoder??Xr,utf8Encoder:t?.utf8Encoder??Ad});var k4=hc(GD());var N4=["in-region","cross-region","mobile","standard","legacy"];var O4=({defaultsMode:t}={})=>QL(()=>w(void 0,null,function*(){let e=typeof t=="function"?yield t():t;switch(e?.toLowerCase()){case"auto":return Promise.resolve(mie()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${N4.join(", ")}, got ${e}`)}})),mie=()=>{let e=(typeof window<"u"&&window?.navigator?.userAgent?k4.default.parse(window.navigator.userAgent):void 0)?.platform?.type;return e==="tablet"||e==="mobile"};var F4=t=>{let e=O4(t),n=()=>e().then(OV),r=P4(t);return z(A(A({},r),t),{runtime:"browser",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??M4,credentialDefaultProvider:t?.credentialDefaultProvider??(i=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:t?.defaultUserAgentProvider??p4({serviceId:r.serviceId,clientVersion:n4.version}),eventStreamSerdeProvider:t?.eventStreamSerdeProvider??C4,maxAttempts:t?.maxAttempts??qa,md5:t?.md5??fw,region:t?.region??A4("Region is missing"),requestHandler:dw.create(t?.requestHandler??n),retryMode:t?.retryMode??(()=>w(void 0,null,function*(){return(yield n()).retryMode||KA})),sha1:t?.sha1??o4,sha256:t?.sha256??f4,streamCollector:t?.streamCollector??I4,streamHasher:t?.streamHasher??T4,useDualstackEndpoint:t?.useDualstackEndpoint??(()=>Promise.resolve(k3)),useFipsEndpoint:t?.useFipsEndpoint??(()=>Promise.resolve(O3))})};var L4=t=>{let e=()=>w(void 0,null,function*(){if(t.region===void 0)throw new Error("Region is missing from runtimeConfig");let n=t.region;return typeof n=="string"?n:n()});return{setRegion(n){e=n},region(){return e}}},V4=t=>({region:t.region()});var B4=t=>{let e=t.httpAuthSchemes,n=t.httpAuthSchemeProvider,r=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){n=i},httpAuthSchemeProvider(){return n},setCredentials(i){r=i},credentials(){return r}}},U4=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()});var pw=t=>t,j4=(t,e)=>{let n=A(A(A(A({},pw(L4(t))),pw(UV(t))),pw(CL(t))),pw(B4(t)));return e.forEach(r=>r.configure(n)),A(A(A(A(A({},t),V4(n)),jV(n)),SL(n)),U4(n))};var mw=class extends Jv{constructor(...[e]){let n=F4(e||{}),r=Mj(n),i=a3(r),o=FB(i),s=rU(o),a=F3(s),c=a,l=z3(c),f=L3(l),h=Rj(f),g=n3(h,{session:[()=>this,nw]}),b=j4(g,e?.extensions||[]);super(b),this.config=b,this.middlewareStack.use(N3(this.config)),this.middlewareStack.use(oU(this.config)),this.middlewareStack.use(B3(this.config)),this.middlewareStack.use(LB(this.config)),this.middlewareStack.use(VB(this.config)),this.middlewareStack.use(UB(this.config)),this.middlewareStack.use(RL(this.config,{httpAuthSchemeParametersProvider:xj,identityProviderConfigProvider:I=>w(this,null,function*(){return new Hv({"aws.auth#sigv4":I.credentials,"aws.auth#sigv4a":I.credentials})})})),this.middlewareStack.use(kL(this.config)),this.middlewareStack.use(s3(this.config)),this.middlewareStack.use(IL(this.config)),this.middlewareStack.use(qB(this.config)),this.middlewareStack.use(FA(this.config)),this.middlewareStack.use(LA(this.config))}destroy(){super.destroy()}};function yie(t){return e=>n=>w(this,null,function*(){let r=A({},n.input),i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let o of i){let s=r[o.target];if(s){let a;typeof s=="string"?_ie(s,t)?a=t.base64Decoder(s):(a=t.utf8Decoder(s),r[o.target]=t.base64Encoder(a)):(a=ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s),r[o.target]=t.base64Encoder(a));let c=new t.md5;c.update(a),r[o.hash]=t.base64Encoder(yield c.digest())}}return e(z(A({},n),{input:r}))})}var vie={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},$4=t=>({applyToStack:e=>{e.add(yie(t),vie)}});function _ie(t,e){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t))return!1;try{return e.base64Decoder(t).length===32}catch{return!1}}var gw=class extends wl.classBuilder().ep(z(A({},V_),{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(e,n,r,i){return[Vv(r,this.serialize,this.deserialize),v_(r,e.getEndpointParameterInstructions()),OB(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}),jB(r),o_(r),$4(r)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(Oj,kj).ser(Uj).de($j).build(){};var Vp={bucketName:"clinic-profile-images",region:"nyc3",accessKeyId:"DO00U2C2Q94HAEM78V2Q",secretAccessKey:"Vj8Gg8mgZ0p78/cy6TadY3a/dJ1Al1Z6DfcDKhkHENA"};var zn=[];for(let t=0;t<256;++t)zn.push((t+256).toString(16).slice(1));function H4(t,e=0){return(zn[t[e+0]]+zn[t[e+1]]+zn[t[e+2]]+zn[t[e+3]]+"-"+zn[t[e+4]]+zn[t[e+5]]+"-"+zn[t[e+6]]+zn[t[e+7]]+"-"+zn[t[e+8]]+zn[t[e+9]]+"-"+zn[t[e+10]]+zn[t[e+11]]+zn[t[e+12]]+zn[t[e+13]]+zn[t[e+14]]+zn[t[e+15]]).toLowerCase()}var KD,wie=new Uint8Array(16);function QD(){if(!KD){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");KD=crypto.getRandomValues.bind(crypto)}return KD(wie)}var bie=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),YD={randomUUID:bie};function Eie(t,e,n){if(YD.randomUUID&&!e&&!t)return YD.randomUUID();t=t||{};let r=t.random||(t.rng||QD)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return H4(r)}var ZD=Eie;var Qa=class t{s3Client;bucketName=Vp.bucketName;region=Vp.region;constructor(){this.s3Client=new mw({region:this.region,endpoint:"https://nyc3.digitaloceanspaces.com",credentials:{accessKeyId:Vp.accessKeyId,secretAccessKey:Vp.secretAccessKey}})}uploadImage(e){return w(this,null,function*(){if(!["image/jpeg","image/png","image/gif"].includes(e.type))throw new Error("Tipo de archivo no soportado.");let r=e.name.split(".").pop(),i=`${ZD()}.${r}`,o=new gw({Bucket:this.bucketName,Key:i,Body:e,ACL:"public-read"});try{return yield this.s3Client.send(o),`https://${this.bucketName}.nyc3.digitaloceanspaces.com/${i}`}catch(s){console.error("Error al subir la imagen",s);let a=s;throw new Error(`Error al subir la imagen: ${a.message}`)}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})};function Cie(t,e){t&1&&(E(0,"div",23),C(1," El nombre es requerido y solo puede contener letras. "),v())}function Sie(t,e){t&1&&(E(0,"div",23),C(1," El apellido es requerido y solo puede contener letras. "),v())}function Iie(t,e){t&1&&(E(0,"div",23),C(1," La edad es requerida y debe ser un n\xFAmero positivo. "),v())}function xie(t,e){t&1&&(E(0,"div",23),C(1," El DNI es requerido y debe tener 10 d\xEDgitos. "),v())}function Tie(t,e){t&1&&(E(0,"div",23),C(1," La obra social es requerida. "),v())}function Aie(t,e){t&1&&(E(0,"div",23),C(1," Por favor, ingresa un correo v\xE1lido. "),v())}function Die(t,e){t&1&&(E(0,"div",23),C(1," La contrase\xF1a es requerida y debe tener al menos 6 caracteres. "),v())}function Rie(t,e){t&1&&(E(0,"div"),C(1," Debes cargar ambas im\xE1genes de perfil. "),v())}function Mie(t,e){t&1&&(E(0,"div",30)(1,"div",31)(2,"span",32),C(3,"Cargando..."),v()()())}function Pie(t,e){if(t&1&&(E(0,"div",33),C(1),v()),t&2){let n=X();T(),ze(" ",n.errorMessage," ")}}var qd=class t{constructor(e,n,r,i,o){this.fb=e;this.auth=n;this.firestore=r;this.router=i;this.imagesService=o;this.registerForm=this.fb.group({nombre:["",[_e.required,_e.pattern(/^[a-zA-Z\s]*$/)]],apellido:["",[_e.required,_e.pattern(/^[a-zA-Z\s]*$/)]],edad:["",[_e.required,_e.min(0)]],dni:["",[_e.required,_e.pattern(/^\d{8}$/)]],obraSocial:["",[_e.required,_e.pattern(/^[a-zA-Z\s]*$/)]],email:["",[_e.required,_e.email]],password:["",[_e.required,_e.minLength(6)]],perfil1:[null],perfil2:[null]})}redirectToLogin=!0;registrationSuccess=new He;registerForm;perfil1Loaded=!1;perfil2Loaded=!1;errorMessage="";loading=!1;recaptchaResponse=null;siteKeyCaptcha=Ed.siteKey;ngOnDestroy(){console.log("Limpiando imagen")}resolved(e){this.recaptchaResponse=e}onFileChange(e,n){let r=e.target.files[0];r?["image/jpeg","image/png","image/gif"].includes(r.type)?(this.registerForm.patchValue({[n]:r}),n==="perfil1"?this.perfil1Loaded=!0:n==="perfil2"&&(this.perfil2Loaded=!0),this.errorMessage=""):(this.errorMessage="Por favor, sube una imagen v\xE1lida (JPEG, PNG o GIF).",n==="perfil1"?this.perfil1Loaded=!1:n==="perfil2"&&(this.perfil2Loaded=!1)):(n==="perfil1"?this.perfil1Loaded=!1:n==="perfil2"&&(this.perfil2Loaded=!1),this.errorMessage="La imagen de perfil es requerida.")}onSubmit(){return w(this,null,function*(){this.registerForm.valid?(this.loading=!0,Ju(this.auth,this.registerForm.value.email,this.registerForm.value.password).then(e=>w(this,null,function*(){let n=e.user;console.log("Usuario creado",n);try{yield Xu(n),console.log("Correo de verificaci\xF3n enviado")}catch(o){console.error("Error al enviar el correo de verificaci\xF3n",o)}let r=yield this.imagesService.uploadImage(this.registerForm.value.perfil1),i=yield this.imagesService.uploadImage(this.registerForm.value.perfil2);try{yield this.logUser(r,i),XD.default.fire({title:"\xA1Registro exitoso!",text:"Por favor, verifica tu correo electr\xF3nico para continuar.",icon:"success",confirmButtonText:"Ok"}).then(()=>{this.redirectToLogin?this.router.navigate(["/login"]):(console.log("Usuario registrado desde el panel de administrador"),this.registerForm.reset(),this.registerForm.patchValue({perfil1:null}),this.registerForm.patchValue({perfil2:null}),this.registrationSuccess.emit())})}catch(o){console.error("Error al registrar el usuario",o),XD.default.fire({title:"Error",text:"Hubo un error al registrar el usuario. Por favor, intenta nuevamente.",icon:"error",confirmButtonText:"Ok"})}})).catch(e=>{switch(e.code){case"auth/email-already-in-use":this.errorMessage="El email ya est\xE1 en uso";break;case"auth/invalid-email":this.errorMessage="El email no es v\xE1lido";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a tiene que tener al menos 6 caracteres";break;default:this.errorMessage="Error al registrar el usuario";break}this.loading=!1}).finally(()=>{this.loading=!1})):this.errorMessage="Por favor, completa todos los campos correctamente."})}logUser(e,n){return w(this,null,function*(){let r=Ut(this.firestore,"pacientes"),i={nombre:this.registerForm.value.nombre.toLowerCase(),apellido:this.registerForm.value.apellido.toLowerCase(),edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,obraSocial:this.registerForm.value.obraSocial,email:this.registerForm.value.email,perfil1:e,perfil2:n,fechaRegistro:kt.fromDate(new Date)};try{yield Fa(r,i),console.log("Usuario registrado correctamente")}catch(o){console.error("Error al registrar el usuario",o)}})}static \u0275fac=function(n){return new(n||t)(K(Eo),K(Qr),K(zt),K(jn),K(Qa))};static \u0275cmp=Be({type:t,selectors:[["app-pacient-form"]],inputs:{redirectToLogin:"redirectToLogin"},outputs:{registrationSuccess:"registrationSuccess"},standalone:!0,features:[Je],decls:55,vars:13,consts:[[1,"container","mt-5"],[1,"text-center"],[1,"container-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","required","",1,"form-control"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","required","",1,"form-control"],["for","obraSocial",1,"form-label"],["type","text","id","obraSocial","formControlName","obraSocial","required","",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["for","perfil1",1,"form-label"],["type","file","id","perfil1","accept","image/*","required","",1,"form-control",3,"change"],["for","perfil2",1,"form-label"],["type","file","id","perfil2","accept","image/*","required","",1,"form-control",3,"change"],[1,"text-danger"],[4,"ngIf"],[1,"form-group"],["required","",3,"resolved","siteKey"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(n,r){if(n&1&&(E(0,"div",0)(1,"h2",1),C(2," Registro paciente"),v(),E(3,"form",2),te("ngSubmit",function(){return r.onSubmit()}),E(4,"div",3)(5,"label",4),C(6,"Nombre"),v(),ne(7,"input",5),ee(8,Cie,2,0,"div",6),v(),E(9,"div",3)(10,"label",7),C(11,"Apellido"),v(),ne(12,"input",8),ee(13,Sie,2,0,"div",6),v(),E(14,"div",3)(15,"label",9),C(16,"Edad"),v(),ne(17,"input",10),ee(18,Iie,2,0,"div",6),v(),E(19,"div",3)(20,"label",11),C(21,"DNI"),v(),ne(22,"input",12),ee(23,xie,2,0,"div",6),v(),E(24,"div",3)(25,"label",13),C(26,"Obra Social"),v(),ne(27,"input",14),ee(28,Tie,2,0,"div",6),v(),E(29,"div",3)(30,"label",15),C(31,"Email"),v(),ne(32,"input",16),ee(33,Aie,2,0,"div",6),v(),E(34,"div",3)(35,"label",17),C(36,"Contrase\xF1a"),v(),ne(37,"input",18),ee(38,Die,2,0,"div",6),v(),E(39,"div",3)(40,"label",19),C(41,"Imagen de Perfil 1"),v(),E(42,"input",20),te("change",function(o){return r.onFileChange(o,"perfil1")}),v()(),E(43,"div",3)(44,"label",21),C(45,"Imagen de Perfil 2"),v(),E(46,"input",22),te("change",function(o){return r.onFileChange(o,"perfil2")}),v()(),E(47,"div",23),ee(48,Rie,2,0,"div",24),v(),E(49,"div",25)(50,"re-captcha",26),te("resolved",function(o){return r.resolved(o)}),v()(),E(51,"button",27),C(52," Registrarse "),v(),ee(53,Mie,4,0,"div",28)(54,Pie,2,1,"div",29),v()()),n&2){let i,o,s,a,c,l,f;T(3),j("formGroup",r.registerForm),T(5),j("ngIf",((i=r.registerForm.get("nombre"))==null?null:i.invalid)&&((i=r.registerForm.get("nombre"))==null?null:i.touched)),T(5),j("ngIf",((o=r.registerForm.get("apellido"))==null?null:o.invalid)&&((o=r.registerForm.get("apellido"))==null?null:o.touched)),T(5),j("ngIf",((s=r.registerForm.get("edad"))==null?null:s.invalid)&&((s=r.registerForm.get("edad"))==null?null:s.touched)),T(5),j("ngIf",((a=r.registerForm.get("dni"))==null?null:a.invalid)&&((a=r.registerForm.get("dni"))==null?null:a.touched)),T(5),j("ngIf",((c=r.registerForm.get("obraSocial"))==null?null:c.invalid)&&((c=r.registerForm.get("obraSocial"))==null?null:c.touched)),T(5),j("ngIf",((l=r.registerForm.get("email"))==null?null:l.invalid)&&((l=r.registerForm.get("email"))==null?null:l.touched)),T(5),j("ngIf",((f=r.registerForm.get("password"))==null?null:f.invalid)&&((f=r.registerForm.get("password"))==null?null:f.touched)),T(10),j("ngIf",!r.perfil1Loaded||!r.perfil2Loaded),T(2),en("siteKey",r.siteKeyCaptcha),T(),j("disabled",r.registerForm.invalid||r.loading||!r.perfil1Loaded||!r.perfil2Loaded||r.recaptchaResponse===null),T(2),j("ngIf",r.loading),T(),j("ngIf",r.errorMessage)}},dependencies:[gi,bo,Tn,Gc,Jn,wo,ds,mi,$i,Et,vt,Sd,Cd],styles:[".container-form[_ngcontent-%COMP%]{background-color:#fff;padding:30px;margin-bottom:20px;border-radius:10px;box-shadow:0 4px 8px #0000001a}"]})};var eR=hc(fp());function Nie(t,e){t&1&&(E(0,"div",30),C(1," El nombre es requerido y solo puede contener letras. "),v())}function kie(t,e){t&1&&(E(0,"div",30),C(1," El apellido es requerido y solo puede contener letras. "),v())}function Oie(t,e){t&1&&(E(0,"div",30),C(1," La edad es requerida y debe ser mayor de edad. "),v())}function Fie(t,e){t&1&&(E(0,"div",30),C(1," El DNI es requerido y debe tener 8 d\xEDgitos. "),v())}function Lie(t,e){t&1&&(E(0,"div",30),C(1," La especialidad es requerida. "),v())}function Vie(t,e){t&1&&(E(0,"div",30),C(1," La especialidad extra es requerida. "),v())}function Bie(t,e){if(t&1&&(E(0,"div",37)(1,"div",38)(2,"label",39),C(3,"Especialidad Extra"),v(),ne(4,"input",40),ee(5,Vie,2,0,"div",6),v()()),t&2){let n=e.$implicit,r=e.index;T(),j("formGroupName",r),T(4),j("ngIf",n.invalid&&n.touched)}}function Uie(t,e){t&1&&(E(0,"div",30),C(1," Por favor, ingresa un correo v\xE1lido. "),v())}function jie(t,e){t&1&&(E(0,"div",30),C(1," La contrase\xF1a es requerida y debe tener al menos 6 caracteres. "),v())}function $ie(t,e){t&1&&(E(0,"div",41),C(1," Imagen cargada correctamente. "),v())}function Hie(t,e){t&1&&(E(0,"div"),C(1," La imagen de perfil es requerida. "),v())}function qie(t,e){t&1&&(E(0,"div",42)(1,"div",43)(2,"span",44),C(3,"Cargando..."),v()()())}function zie(t,e){if(t&1&&(E(0,"div",45),C(1),v()),t&2){let n=X();T(),ze(" ",n.errorMessage," ")}}var zd=class t{constructor(e,n,r,i,o){this.fb=e;this.auth=n;this.firestore=r;this.router=i;this.imagesService=o;this.registerForm=this.fb.group({nombre:["",[_e.required,_e.pattern(/^[a-zA-Z\s]*$/)]],apellido:["",[_e.required,_e.pattern(/^[a-zA-Z\s]*$/)]],edad:["",[_e.required,_e.min(18)]],dni:["",[_e.required,_e.pattern(/^\d{8}$/)]],especialidad:["",[_e.required,_e.pattern(/^[a-zA-Z\s]*$/)]],email:["",[_e.required,_e.email]],password:["",[_e.required,_e.minLength(6)]],perfil1:[null],especialidadesExtras:this.fb.array([])})}redirectToLogin=!0;registrationSuccess=new He;registerForm;perfil1Loaded=!1;errorMessage="";loading=!1;recaptchaResponse=null;siteKeyCaptcha=Ed.siteKey;get extraSpecialties(){return this.registerForm.get("especialidadesExtras")}resolved(e){this.recaptchaResponse=e}addExtraSpecialty(){let e=this.fb.group({nombre:["",_e.required]});this.extraSpecialties.push(e)}ngOnDestroy(){console.log("Limpiando imagen")}onFileChange(e,n){let r=e.target.files[0];r?["image/jpeg","image/png","image/gif"].includes(r.type)?(this.registerForm.patchValue({[n]:r}),this.perfil1Loaded=!0):(this.perfil1Loaded=!1,this.errorMessage="Por favor, sube una imagen v\xE1lida (JPEG, PNG o GIF)."):(this.perfil1Loaded=!1,this.errorMessage="La imagen de perfil es requerida.")}onSubmit(){return w(this,null,function*(){this.registerForm.valid&&(console.log(this.registerForm.value),this.loading=!0,Ju(this.auth,this.registerForm.value.email,this.registerForm.value.password).then(e=>w(this,null,function*(){let n=e.user;console.log("Usuario creado:",n);try{yield Xu(n),console.log("Correo de verificaci\xF3n enviado")}catch(i){console.error("Error al enviar el correo de verificaci\xF3n:",i)}let r=yield this.imagesService.uploadImage(this.registerForm.value.perfil1);try{yield this.logUser(r),console.log("Correo de verificaci\xF3n enviado"),eR.default.fire({icon:"success",title:"\xA1Registro exitoso!",text:"Por favor, verifica tu correo electr\xF3nico para continuar."}).then(()=>{this.redirectToLogin?this.router.navigate(["/login"]):(console.log("Usuario registrado desde el panel de administrador"),this.registerForm.reset(),this.registerForm.patchValue({perfil1:null}),this.registrationSuccess.emit())})}catch(i){console.error("Error al crear el usuario",i),eR.default.fire({icon:"error",title:"Error al crear el usuario",text:"Por favor, intenta de nuevo."})}})).catch(e=>{switch(e.code){case"auth/email-already-in-use":this.errorMessage="El email ya est\xE1 en uso";break;case"auth/invalid-email":this.errorMessage="El email no es v\xE1lido";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres";break;default:this.errorMessage="Error al registrar el usuario";break}this.loading=!1}).finally(()=>{this.loading=!1}))})}logUser(e){return w(this,null,function*(){let n=[];n.push(this.registerForm.value.especialidad),this.registerForm.value.especialidadesExtras.forEach(o=>{n.push(o.nombre.toLowerCase())});let r=Ut(this.firestore,"especialistas"),i={nombre:this.registerForm.value.nombre.toLowerCase(),apellido:this.registerForm.value.apellido.toLowerCase(),edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,especialidades:n,email:this.registerForm.value.email,perfil1:e,profileValidatedByAdmin:!1,fechaRegistro:kt.now()};try{yield Fa(r,i)}catch(o){console.error("Error al crear el usuario:",o)}})}static \u0275fac=function(n){return new(n||t)(K(Eo),K(Qr),K(zt),K(jn),K(Qa))};static \u0275cmp=Be({type:t,selectors:[["app-specialist-form"]],inputs:{redirectToLogin:"redirectToLogin"},outputs:{registrationSuccess:"registrationSuccess"},standalone:!0,features:[Je],decls:65,vars:15,consts:[[1,"container","mt-5"],[1,"text-center"],[1,"container-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","required","",1,"form-control"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","required","",1,"form-control"],["for","especialidad",1,"form-label"],["id","especialidad","formControlName","especialidad","required","",1,"form-select"],["value",""],["value","cardiologia"],["value","odontologia"],["value","psicologia"],["formArrayName","especialidadesExtras",4,"ngFor","ngForOf"],[1,"text-end","mb-3"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-plus"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["for","perfil1",1,"form-label"],["type","file","id","perfil1","accept","image/*",1,"form-control",3,"change"],["class","text-success",4,"ngIf"],[1,"text-danger"],[4,"ngIf"],[1,"form-group"],["required","",3,"resolved","siteKey"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["formArrayName","especialidadesExtras"],[1,"mb-3",3,"formGroupName"],["for","especialidadExtra",1,"form-label"],["type","text","formControlName","nombre","required","",1,"form-control"],[1,"text-success"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(n,r){if(n&1&&(E(0,"div",0)(1,"h2",1),C(2,"Registro Especialista"),v(),E(3,"form",2),te("ngSubmit",function(){return r.onSubmit()}),E(4,"div",3)(5,"label",4),C(6,"Nombre"),v(),ne(7,"input",5),ee(8,Nie,2,0,"div",6),v(),E(9,"div",3)(10,"label",7),C(11,"Apellido"),v(),ne(12,"input",8),ee(13,kie,2,0,"div",6),v(),E(14,"div",3)(15,"label",9),C(16,"Edad"),v(),ne(17,"input",10),ee(18,Oie,2,0,"div",6),v(),E(19,"div",3)(20,"label",11),C(21,"DNI"),v(),ne(22,"input",12),ee(23,Fie,2,0,"div",6),v(),E(24,"div",3)(25,"label",13),C(26,"Especialidad"),v(),E(27,"select",14)(28,"option",15),C(29,"Selecciona una especialidad"),v(),E(30,"option",16),C(31,"Medicina"),v(),E(32,"option",17),C(33,"Odontolog\xEDa"),v(),E(34,"option",18),C(35,"Psicolog\xEDa"),v()(),ee(36,Lie,2,0,"div",6),v(),ee(37,Bie,6,2,"div",19),E(38,"div",20)(39,"button",21),te("click",function(){return r.addExtraSpecialty()}),ne(40,"i",22),C(41," Agregar Especialidad Extra "),v()(),E(42,"div",3)(43,"label",23),C(44,"Email"),v(),ne(45,"input",24),ee(46,Uie,2,0,"div",6),v(),E(47,"div",3)(48,"label",25),C(49,"Contrase\xF1a"),v(),ne(50,"input",26),ee(51,jie,2,0,"div",6),v(),E(52,"div",3)(53,"label",27),C(54,"Imagen de Perfil"),v(),E(55,"input",28),te("change",function(o){return r.onFileChange(o,"perfil1")}),v(),ee(56,$ie,2,0,"div",29),v(),E(57,"div",30),ee(58,Hie,2,0,"div",31),v(),E(59,"div",32)(60,"re-captcha",33),te("resolved",function(o){return r.resolved(o)}),v()(),E(61,"button",34),C(62," Registrarse "),v(),ee(63,qie,4,0,"div",35)(64,zie,2,1,"div",36),v()()),n&2){let i,o,s,a,c,l,f;T(3),j("formGroup",r.registerForm),T(5),j("ngIf",((i=r.registerForm.get("nombre"))==null?null:i.invalid)&&((i=r.registerForm.get("nombre"))==null?null:i.touched)),T(5),j("ngIf",((o=r.registerForm.get("apellido"))==null?null:o.invalid)&&((o=r.registerForm.get("apellido"))==null?null:o.touched)),T(5),j("ngIf",((s=r.registerForm.get("edad"))==null?null:s.invalid)&&((s=r.registerForm.get("edad"))==null?null:s.touched)),T(5),j("ngIf",((a=r.registerForm.get("dni"))==null?null:a.invalid)&&((a=r.registerForm.get("dni"))==null?null:a.touched)),T(13),j("ngIf",((c=r.registerForm.get("especialidad"))==null?null:c.invalid)&&((c=r.registerForm.get("especialidad"))==null?null:c.touched)),T(),j("ngForOf",r.extraSpecialties.controls),T(9),j("ngIf",((l=r.registerForm.get("email"))==null?null:l.invalid)&&((l=r.registerForm.get("email"))==null?null:l.touched)),T(5),j("ngIf",((f=r.registerForm.get("password"))==null?null:f.invalid)&&((f=r.registerForm.get("password"))==null?null:f.touched)),T(5),j("ngIf",r.perfil1Loaded),T(2),j("ngIf",!r.perfil1Loaded),T(2),en("siteKey",r.siteKeyCaptcha),T(),j("disabled",!r.registerForm.valid||!r.perfil1Loaded||r.recaptchaResponse===null),T(2),j("ngIf",r.loading),T(),j("ngIf",r.errorMessage)}},dependencies:[gi,bo,$u,Hu,Tn,Gc,va,Jn,wo,ds,mi,$i,d0,f0,Et,nn,vt,Sd,Cd],styles:[".container-form[_ngcontent-%COMP%]{background-color:#fff;padding:30px;margin-bottom:20px;border-radius:10px;box-shadow:0 4px 8px #0000001a}"]})};function Gie(t,e){if(t&1){let n=Ze();E(0,"div",4)(1,"div",5)(2,"button",6),te("click",function(){Re(n);let i=X();return Me(i.showPacienteForm())}),ne(3,"img",7),E(4,"span",8),C(5,"Paciente"),v()()(),E(6,"div",5)(7,"button",6),te("click",function(){Re(n);let i=X();return Me(i.showSpecialistForm())}),ne(8,"img",9),E(9,"span",8),C(10,"Especialista"),v()()()()}}function Wie(t,e){t&1&&ne(0,"app-pacient-form")}function Kie(t,e){t&1&&ne(0,"app-specialist-form")}function Qie(t,e){if(t&1&&(E(0,"div",10),ee(1,Wie,1,0,"app-pacient-form",11)(2,Kie,1,0,"app-specialist-form",11),v()),t&2){let n=X();T(),j("ngIf",n.isPacienteFormVisible),T(),j("ngIf",!n.isPacienteFormVisible)}}var yw=class t{showForm=!1;isPacienteFormVisible=!1;constructor(){}showPacienteForm(){this.isPacienteFormVisible=!0,this.showForm=!0}showSpecialistForm(){this.isPacienteFormVisible=!1,this.showForm=!0}ngOnInit(){}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Be({type:t,selectors:[["app-register"]],standalone:!0,features:[Je],decls:5,vars:2,consts:[[1,"container","text-center","mt-5"],[1,"mb-4"],["class","row justify-content-center mt-4",4,"ngIf"],["class","text-start mt-4",4,"ngIf"],[1,"row","justify-content-center","mt-4"],[1,"col-md-4"],[1,"btn","btn-light","option-button",3,"click"],["src","media/paciente.png","alt","Paciente",1,"option-image"],[1,"option-text"],["src","media/doctor.png","alt","Especialista",1,"option-image"],[1,"text-start","mt-4"],[4,"ngIf"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"h1",1),C(2,"Selecciona tu tipo de usuario"),v(),ee(3,Gie,11,0,"div",2)(4,Qie,3,2,"div",3),v()),n&2&&(T(3),j("ngIf",!r.showForm),T(),j("ngIf",r.showForm))},dependencies:[gi,vt,Et,qd,zd],styles:[".option-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;border-radius:8px;transition:background-color .3s,transform .3s;width:100%;height:500px;border:1px solid #dee2e6;box-shadow:0 4px 8px #0000001a}.option-button[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;transform:scale(1.05)}.option-image[_ngcontent-%COMP%]{width:220px;height:220px;margin-bottom:10px;object-fit:cover}.option-text[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:#007bff;margin-top:10px}h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0056b3;text-shadow:1px 1px 2px rgba(0,0,0,.1);margin-bottom:20px;letter-spacing:1px}.container[_ngcontent-%COMP%]{margin-top:40px;background-color:#f8f9fa;padding:30px;border-radius:8px;box-shadow:0 2px 4px #0000001a}"]})};var z4=hc(fp());var Gd=class t{userSubject=new Ht(this.isLoggedIn());user$=this.userSubject.asObservable();isLoggedIn(){return!!localStorage.getItem("user")}login(){this.userSubject.next(!0)}logout(){localStorage.removeItem("user"),this.userSubject.next(!1)}getUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null}isThereAnAdmin(){let e=this.getUser();return e&&e.isAdmin}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})};function Yie(t,e){t&1&&(E(0,"div",21),C(1," Por favor, ingresa un correo v\xE1lido. "),v())}function Zie(t,e){t&1&&(E(0,"div",21),C(1," La contrase\xF1a es requerida. "),v())}function Jie(t,e){if(t&1&&(E(0,"div",22),C(1),v()),t&2){let n=X();T(),ze(" ",n.errorMessage," ")}}function Xie(t,e){t&1&&(E(0,"div",23)(1,"div",24)(2,"span",25),C(3,"Cargando..."),v()()())}var vw=class t{constructor(e,n,r,i,o){this.fb=e;this.firestore=n;this.auth=r;this.router=i;this.authService=o;this.loginForm=this.fb.group({email:["",[_e.required,_e.email]],password:["",[_e.required,_e.minLength(1)]]})}loginForm;errorMessage=null;loading=!1;sub;isDoctor=null;urlPaciente="https://clinic-profile-images.nyc3.digitaloceanspaces.com/7805c816-51e7-495e-a433-4fa93f9dec07.png";urlEspecialista="https://clinic-profile-images.nyc3.digitaloceanspaces.com/b60aba11-355f-45a6-981b-00bb78321cd8.jpg";urlAdmin="https://clinic-profile-images.nyc3.digitaloceanspaces.com/ebcc95df-f57b-4a55-9112-345ed0d1b5d4.png";onSubmit(){return w(this,null,function*(){if(this.loginForm.valid){this.loading=!0;let{email:e,password:n}=this.loginForm.value;try{let r=e.toLowerCase(),o=(yield vF(this.auth,r,n)).user;if(!o.emailVerified){this.errorMessage="Por favor, verifica tu correo electr\xF3nico antes de iniciar sesi\xF3n.";return}let s=yield this.getUser(e);if(this.isDoctor==!1){this.errorMessage="El usuario no ha sido validado por el administrador.";return}else z4.default.fire({title:"Inicio de sesi\xF3n exitoso",icon:"success",timer:2e3,showConfirmButton:!1}),console.log("Inicio de sesi\xF3n exitoso",o),this.errorMessage=null,this.authService.login(),this.router.navigate(["/home"])}catch(r){console.error("Error al iniciar sesi\xF3n",r),this.errorMessage="Email y/o contrase\xF1a incorrecto."}finally{this.loading=!1}}})}getUser(e){return w(this,null,function*(){let n=yield this.checkUser(e);return n||(this.errorMessage="Usuario no encontrado.",!1)})}checkUser(e){return w(this,null,function*(){return(yield this.findPaciente(e))?"paciente":(yield this.findDoctor(e))?"doctor":(yield this.findAdmin(e))?"admin":null})}findPaciente(e){return w(this,null,function*(){let n=Ut(this.firestore,"pacientes"),r=Jr(n,No("email","==",e)),i=yield bd(r);if(!i.empty){let o=i.docs[0].data();return console.log("Usuario encontrado:",o),localStorage.setItem("user",JSON.stringify(o)),!0}return!1})}findDoctor(e){return w(this,null,function*(){let n=Ut(this.firestore,"especialistas"),r=Jr(n,No("email","==",e)),i=yield bd(r);if(!i.empty){let o=i.docs[0].data();return console.log("Usuario encontrado:",o),o.profileValidatedByAdmin===!1?(this.isDoctor=!1,!0):(this.isDoctor=!0,console.log("Usuario doctor"),localStorage.setItem("user",JSON.stringify(o)),!0)}return!1})}findAdmin(e){return w(this,null,function*(){let n=Ut(this.firestore,"admins"),r=Jr(n,No("email","==",e)),i=yield bd(r);if(!i.empty){let o=i.docs[0].data();return console.log("Usuario encontrado:",o),localStorage.setItem("user",JSON.stringify(o)),!0}return!1})}getPacientes(e){e==1?this.loginForm.get("email")?.setValue("j9hpx2l0@cj.MintEmail.com"):e==2?this.loginForm.get("email")?.setValue("18duu2j9@cj.MintEmail.com"):e==3&&this.loginForm.get("email")?.setValue("a5yfl81p@cj.MintEmail.com"),this.loginForm.get("password")?.setValue("123456")}getEspecialistas(e){e==1?this.loginForm.get("email")?.setValue("c7hup2p3@cj.MintEmail.com"):e==2&&this.loginForm.get("email")?.setValue("q796si4b@cj.MintEmail.com"),this.loginForm.get("password")?.setValue("123456")}getAdmins(e){e==1&&this.loginForm.get("email")?.setValue("r6q00n9h@cj.MintEmail.com"),this.loginForm.get("password")?.setValue("123456")}static \u0275fac=function(n){return new(n||t)(K(Eo),K(zt),K(Qr),K(jn),K(Gd))};static \u0275cmp=Be({type:t,selectors:[["app-login"]],standalone:!0,features:[Je],decls:37,vars:12,consts:[[1,"container","mt-5"],[1,"text-center","mb-4"],[1,"row","justify-content-center","mb-4"],[1,"col-6","col-md-2",3,"click"],[1,"btn","access-button"],["alt","Paciente 1",1,"access-image",3,"src"],["alt","Paciente 2",1,"access-image",3,"src"],["alt","Paciente 3",1,"access-image",3,"src"],["alt","Especialista 1",1,"access-image",3,"src"],["alt","Especialista 2",1,"access-image",3,"src"],["alt","Administrador",1,"access-image",3,"src"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","autocomplete","email","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","autocomplete","current-password","required","",1,"form-control"],["class","text-danger mb-3",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],[1,"text-danger"],[1,"text-danger","mb-3"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(n,r){if(n&1&&(E(0,"div",0)(1,"h2",1),C(2,"Iniciar Sesi\xF3n"),v(),E(3,"div",2)(4,"div",3),te("click",function(){return r.getPacientes(1)}),E(5,"button",4),ne(6,"img",5),v()(),E(7,"div",3),te("click",function(){return r.getPacientes(2)}),E(8,"button",4),ne(9,"img",6),v()(),E(10,"div",3),te("click",function(){return r.getPacientes(3)}),E(11,"button",4),ne(12,"img",7),v()(),E(13,"div",3),te("click",function(){return r.getEspecialistas(1)}),E(14,"button",4),ne(15,"img",8),v()(),E(16,"div",3),te("click",function(){return r.getEspecialistas(2)}),E(17,"button",4),ne(18,"img",9),v()(),E(19,"div",3),te("click",function(){return r.getAdmins(1)}),E(20,"button",4),ne(21,"img",10),v()()(),E(22,"form",11),te("ngSubmit",function(){return r.onSubmit()}),E(23,"div",12)(24,"label",13),C(25,"Correo Electr\xF3nico"),v(),ne(26,"input",14),ee(27,Yie,2,0,"div",15),v(),E(28,"div",12)(29,"label",16),C(30,"Contrase\xF1a"),v(),ne(31,"input",17),ee(32,Zie,2,0,"div",15),v(),ee(33,Jie,2,1,"div",18),E(34,"button",19),C(35," Iniciar Sesi\xF3n "),v()(),ee(36,Xie,4,0,"div",20),v()),n&2){let i,o;T(6),en("src",r.urlPaciente,vn),T(3),en("src",r.urlPaciente,vn),T(3),j("src",r.urlPaciente,vn),T(3),en("src",r.urlEspecialista,vn),T(3),en("src",r.urlEspecialista,vn),T(3),en("src",r.urlAdmin,vn),T(),j("formGroup",r.loginForm),T(5),j("ngIf",((i=r.loginForm.get("email"))==null?null:i.invalid)&&((i=r.loginForm.get("email"))==null?null:i.touched)),T(5),j("ngIf",((o=r.loginForm.get("password"))==null?null:o.invalid)&&((o=r.loginForm.get("password"))==null?null:o.touched)),T(),j("ngIf",r.errorMessage),T(),j("disabled",r.loginForm.invalid||r.loading),T(2),j("ngIf",r.loading)}},dependencies:[gi,bo,Tn,Jn,wo,ds,mi,$i,vt],styles:[".access-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:10px;border:1px solid #007bff;border-radius:8px;transition:background-color .3s,transform .3s;background-color:#fff;text-align:center;width:100%}.access-button[_ngcontent-%COMP%]:hover{background-color:#e9ecef;transform:scale(1.05)}.access-image[_ngcontent-%COMP%]{width:80px;height:80px;margin-bottom:5px;border-radius:50%;object-fit:cover}.container[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;padding:40px}@media (max-width: 768px){.access-button[_ngcontent-%COMP%]{margin-bottom:15px}.container[_ngcontent-%COMP%]{padding:20px}.access-image[_ngcontent-%COMP%]{width:60px;height:60px}}@media (max-width: 576px){.access-button[_ngcontent-%COMP%]{padding:15px}.access-image[_ngcontent-%COMP%]{width:50px;height:50px}}"]})};var eoe=()=>["lunes","martes","miercoles","jueves","viernes"];function toe(t,e){if(t&1&&(E(0,"option",13),C(1),v()),t&2){let n=e.$implicit;j("value",n),T(),be(n)}}function noe(t,e){if(t&1&&(E(0,"div",14),ne(1,"input",15),E(2,"label",16),C(3),Yn(4,"titlecase"),v()()),t&2){let n=e.$implicit;T(),en("id",n),j("formControlName",n),T(),en("for",n),T(),be(da(4,4,n))}}var _w=class t{constructor(e,n){this.fb=e;this.firestore=n}especialidades=[];user;submit=new He;disponibilidadForm;ngOnInit(){this.initializeForm()}initializeForm(){this.disponibilidadForm=this.fb.group({especialidad:[this.especialidades[0],_e.required],lunes:[!1],martes:[!1],miercoles:[!1],jueves:[!1],viernes:[!1],horaInicio:["",_e.required],horaFin:["",_e.required]})}onSubmit(){if(this.disponibilidadForm.valid){let e=this.disponibilidadForm.value;console.log(e),this.updateEspecialista(e),this.submit.emit(!0);let n=this.disponibilidadForm.get("especialidad")?.value;this.disponibilidadForm.reset(),this.initializeForm(),this.disponibilidadForm.get("especialidad")?.setValue(n)}else console.log("Formulario inv\xE1lido")}updateEspecialista(e){return w(this,null,function*(){let n=Ut(this.firestore,"especialistas"),r=Jr(n,No("email","==",this.user.email));try{let i=yield bd(r);if(i.empty){console.log("No se encontr\xF3 un especialista con ese email.");return}let o=i.docs[0],s=o.ref,a=o.data().disponibilidades,c=!1,l={especialidad:e.especialidad,diasDisponibles:{lunes:e.lunes,martes:e.martes,miercoles:e.miercoles,jueves:e.jueves,viernes:e.viernes},horaInicio:e.horaInicio,horaFin:e.horaFin};console.log("Disponibilidad a enviar a Firestore:",l);let f=[];if(!a)f.push(l);else{for(let h=0;h<a.length;h++)if(a[h].especialidad===l.especialidad){a[h]=l,c=!0;break}c||a.push(l)}yield Gi(s,{disponibilidades:a||f}),console.log("Disponibilidad actualizada correctamente")}catch(i){console.error("Error al actualizar las disponibilidades: ",i)}})}static \u0275fac=function(n){return new(n||t)(K(Eo),K(zt))};static \u0275cmp=Be({type:t,selectors:[["app-disponibilidad-form"]],inputs:{especialidades:"especialidades",user:"user"},outputs:{submit:"submit"},standalone:!0,features:[Je],decls:19,vars:5,consts:[[3,"ngSubmit","formGroup"],[1,"form-group","mb-4"],["for","especialidad",1,"h6"],["id","especialidad","formControlName","especialidad",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"h6"],[1,"d-flex","flex-wrap"],["class","form-check form-check-inline mr-4",4,"ngFor","ngForOf"],["for","horas",1,"h6"],[1,"d-flex"],["type","time","formControlName","horaInicio","placeholder","Hora de Inicio",1,"form-control"],["type","time","formControlName","horaFin","placeholder","Hora de Fin",1,"form-control","ml-2"],["type","submit",1,"btn","btn-primary","btn-block","mt-4",3,"disabled"],[3,"value"],[1,"form-check","form-check-inline","mr-4"],["type","checkbox",1,"form-check-input",3,"formControlName","id"],[1,"form-check-label",3,"for"]],template:function(n,r){n&1&&(E(0,"form",0),te("ngSubmit",function(){return r.onSubmit()}),E(1,"div",1)(2,"label",2),C(3,"Especialidad"),v(),E(4,"select",3),ee(5,toe,2,2,"option",4),v()(),E(6,"div",1)(7,"label",5),C(8,"D\xEDas Disponibles"),v(),E(9,"div",6),ee(10,noe,5,6,"div",7),v()(),E(11,"div",1)(12,"label",8),C(13,"Horario"),v(),E(14,"div",9),ne(15,"input",10)(16,"input",11),v()(),E(17,"button",12),C(18," Guardar Disponibilidad "),v()()),n&2&&(j("formGroup",r.disponibilidadForm),T(5),j("ngForOf",r.especialidades),T(5),j("ngForOf",$P(4,eoe)),T(7),j("disabled",r.disponibilidadForm.invalid))},dependencies:[gi,bo,$u,Hu,Tn,yS,va,Jn,wo,mi,$i,Et,nn,Py]})};function roe(t,e){if(t&1&&(E(0,"div",16),ne(1,"img",19),v()),t&2){let n=X(2);T(),j("src",n.user.perfil1,vn)}}function ioe(t,e){if(t&1&&(E(0,"div",16)(1,"strong"),C(2,"Obra social: "),v(),E(3,"span",17),C(4),v()()),t&2){let n=X(2);T(4),be(n.user.obraSocial)}}function ooe(t,e){if(t&1&&(E(0,"span",17),C(1),v()),t&2){let n=e.$implicit;T(),ze("",n," ")}}function soe(t,e){if(t&1&&(E(0,"div",16)(1,"strong"),C(2,"Especialidades: "),v(),ee(3,ooe,2,1,"span",20),v()),t&2){let n=X(2);T(3),j("ngForOf",n.user.especialidades)}}function aoe(t,e){if(t&1&&(E(0,"div",16),ne(1,"img",21),v()),t&2){let n=X(2);T(),j("src",n.user.perfil2,vn)}}function coe(t,e){if(t&1){let n=Ze();E(0,"button",22),te("click",function(){Re(n);let i=X(2);return Me(i.openModal())}),C(1,"Agregar/Modificar Disponibilidad Horaria"),v()}}function loe(t,e){if(t&1&&(E(0,"div",11)(1,"div",12)(2,"div",13),ee(3,roe,2,1,"div",14),v(),E(4,"div",15)(5,"div",16)(6,"strong"),C(7,"Nombre: "),v(),E(8,"span",17),C(9),v()(),E(10,"div",16)(11,"strong"),C(12,"Apellido: "),v(),E(13,"span",17),C(14),v()(),E(15,"div",16)(16,"strong"),C(17,"Edad: "),v(),E(18,"span",17),C(19),v()(),E(20,"div",16)(21,"strong"),C(22,"DNI: "),v(),E(23,"span",17),C(24),v()(),E(25,"div",16)(26,"strong"),C(27,"Email: "),v(),E(28,"span",17),C(29),v()(),ee(30,ioe,5,1,"div",14)(31,soe,4,1,"div",14),v(),E(32,"div",13),ee(33,aoe,2,1,"div",14),v()(),ee(34,coe,2,0,"button",18),v()),t&2){let n=X();T(3),j("ngIf",n.user.perfil1),T(6),be(n.user.nombre),T(5),be(n.user.apellido),T(5),be(n.user.edad),T(5),be(n.user.dni),T(5),be(n.user.email),T(),j("ngIf",n.user.obraSocial),T(),j("ngIf",n.user.especialidades),T(2),j("ngIf",n.user.perfil2),T(),j("ngIf",n.user.especialidades)}}function uoe(t,e){if(t&1){let n=Ze();E(0,"app-disponibilidad-form",23),te("submit",function(i){Re(n);let o=X();return Me(o.handleDisponibilidadSubmit(i))}),v()}if(t&2){let n=X();j("especialidades",n.user.especialidades)("user",n.user)}}var ww=class t{modal;user;constructor(){}ngOnInit(){this.loadUser(),this.user&&this.user.especialidades&&(this.modal=new window.bootstrap.Modal(document.getElementById("disponibilidadModal")))}loadUser(){let e=localStorage.getItem("user");e&&(this.user=JSON.parse(e))}handleDisponibilidadSubmit(e){console.log(e),this.closeModal()}openModal(){this.modal.show()}closeModal(){this.modal.hide()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Be({type:t,selectors:[["app-perfil"]],standalone:!0,features:[Je],decls:13,vars:2,consts:[[1,"container","mt-5"],[1,"text-center","text-dark"],["class","profile-card bg-light p-4 rounded shadow",4,"ngIf"],["id","disponibilidadModal","tabindex","-1","aria-labelledby","disponibilidadModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","disponibilidadModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"especialidades","user","submit",4,"ngIf"],[1,"profile-card","bg-light","p-4","rounded","shadow"],[1,"row"],[1,"col-md-4","text-center"],["class","mb-3",4,"ngIf"],[1,"col-md-4"],[1,"mb-3"],[1,"text-muted"],["class","btn btn-primary",3,"click",4,"ngIf"],["alt","Perfil 1",1,"img-thumbnail","profile-img",3,"src"],["class","text-muted",4,"ngFor","ngForOf"],["alt","Perfil 2",1,"img-thumbnail","profile-img",3,"src"],[1,"btn","btn-primary",3,"click"],[3,"submit","especialidades","user"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"h2",1),C(2,"Perfil del Usuario"),v(),ee(3,loe,35,10,"div",2),E(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"h5",7),C(9,"Agregar/Modificar Disponibilidad Horaria"),v(),ne(10,"button",8),v(),E(11,"div",9),ee(12,uoe,1,2,"app-disponibilidad-form",10),v()()()()()),n&2&&(T(3),j("ngIf",r.user),T(9),j("ngIf",r.user.especialidades))},dependencies:[Et,nn,vt,_w],styles:[".container[_ngcontent-%COMP%]{max-width:1000px;margin:auto;background:#fffffff2;border-radius:10px;padding:40px;box-shadow:0 4px 20px #0000001a}h2[_ngcontent-%COMP%]{margin-bottom:30px;color:#0056b3}strong[_ngcontent-%COMP%]{color:#0056b3}.text-muted[_ngcontent-%COMP%]{color:#495057}.profile-img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:5px;border:2px solid #007bff}.profile-card[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;border-radius:10px;box-shadow:0 2px 10px #00000026}"]})};var tR=hc(fp());function doe(t,e){t&1&&(E(0,"div",20),C(1," El nombre es requerido y solo puede contener letras. "),v())}function foe(t,e){t&1&&(E(0,"div",20),C(1," El apellido es requerido y solo puede contener letras. "),v())}function hoe(t,e){t&1&&(E(0,"div",20),C(1," La edad es requerida y debe ser mayor de edad. "),v())}function poe(t,e){t&1&&(E(0,"div",20),C(1," El DNI es requerido y debe tener 8 d\xEDgitos. "),v())}function moe(t,e){t&1&&(E(0,"div",20),C(1," Por favor, ingresa un correo v\xE1lido. "),v())}function goe(t,e){t&1&&(E(0,"div",20),C(1," La contrase\xF1a es requerida y debe tener al menos 6 caracteres. "),v())}function yoe(t,e){t&1&&(E(0,"div",27),C(1," Imagen cargada correctamente. "),v())}function voe(t,e){t&1&&(E(0,"div"),C(1," La imagen de perfil es requerida. "),v())}function _oe(t,e){t&1&&(E(0,"div",28)(1,"div",29)(2,"span",30),C(3,"Cargando..."),v()()())}function woe(t,e){if(t&1&&(E(0,"div",31),C(1),v()),t&2){let n=X();T(),ze(" ",n.errorMessage," ")}}var bw=class t{constructor(e,n,r,i,o){this.fb=e;this.auth=n;this.firestore=r;this.router=i;this.imagesService=o;this.registerForm=this.fb.group({nombre:["",[_e.required,_e.pattern(/^[a-zA-Z\s]*$/)]],apellido:["",[_e.required,_e.pattern(/^[a-zA-Z\s]*$/)]],edad:["",[_e.required,_e.min(18)]],dni:["",[_e.required,_e.pattern(/^\d{8}$/)]],email:["",[_e.required,_e.email]],password:["",[_e.required,_e.minLength(6)]],perfil1:[null]})}redirectToLogin=!0;registrationSuccess=new He;registerForm;perfil1Loaded=!1;errorMessage="";loading=!1;recaptchaResponse=null;siteKeyCaptcha=Ed.siteKey;ngOnDestroy(){console.log("Limpiando imagen")}resolved(e){this.recaptchaResponse=e}onFileChange(e,n){let r=e.target.files[0];r?["image/jpeg","image/png","image/gif"].includes(r.type)?(this.registerForm.patchValue({[n]:r}),this.perfil1Loaded=!0):(this.perfil1Loaded=!1,this.errorMessage="Por favor, sube una imagen v\xE1lida (JPEG, PNG o GIF)."):(this.perfil1Loaded=!1,this.errorMessage="La imagen de perfil es requerida.")}onSubmit(){return w(this,null,function*(){this.registerForm.valid&&(console.log(this.registerForm.value),this.loading=!0,Ju(this.auth,this.registerForm.value.email,this.registerForm.value.password).then(e=>w(this,null,function*(){let n=e.user;console.log("Usuario creado:",n);try{yield Xu(n),console.log("Correo de verificaci\xF3n enviado")}catch(i){console.error("Error al enviar el correo de verificaci\xF3n:",i)}let r=yield this.imagesService.uploadImage(this.registerForm.value.perfil1);try{yield this.logUser(r),console.log("Correo de verificaci\xF3n enviado"),tR.default.fire({icon:"success",title:"\xA1Registro exitoso!",text:"Por favor, verifica tu correo electr\xF3nico para continuar."}).then(()=>{this.redirectToLogin?this.router.navigate(["/login"]):(console.log("Usuario registrado desde el panel de administrador"),this.registerForm.reset(),this.registerForm.patchValue({perfil1:null}),this.registrationSuccess.emit())})}catch(i){console.error("Error al crear el usuario",i),tR.default.fire({icon:"error",title:"Error al crear el usuario",text:"Por favor, intenta de nuevo."})}})).catch(e=>{switch(e.code){case"auth/email-already-in-use":this.errorMessage="El email ya est\xE1 en uso";break;case"auth/invalid-email":this.errorMessage="El email no es v\xE1lido";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres";break;default:this.errorMessage="Error al registrar el usuario";break}this.loading=!1}).finally(()=>{this.loading=!1}))})}logUser(e){return w(this,null,function*(){let n=Ut(this.firestore,"admins"),r={nombre:this.registerForm.value.nombre.toLowerCase(),apellido:this.registerForm.value.apellido.toLowerCase(),edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,email:this.registerForm.value.email,perfil1:e,fechaRegistro:kt.now(),isAdmin:!0};try{yield Fa(n,r)}catch(i){console.error("Error al crear el usuario:",i)}})}static \u0275fac=function(n){return new(n||t)(K(Eo),K(Qr),K(zt),K(jn),K(Qa))};static \u0275cmp=Be({type:t,selectors:[["app-admin-form"]],inputs:{redirectToLogin:"redirectToLogin"},outputs:{registrationSuccess:"registrationSuccess"},standalone:!0,features:[Je],decls:47,vars:13,consts:[[1,"container","mt-5"],[1,"text-center"],[1,"container-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","required","",1,"form-control"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","required","",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["for","perfil1",1,"form-label"],["type","file","id","perfil1","accept","image/*",1,"form-control",3,"change"],["class","text-success",4,"ngIf"],[1,"text-danger"],[4,"ngIf"],[1,"form-group"],["required","",3,"resolved","siteKey"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],[1,"text-success"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(n,r){if(n&1&&(E(0,"div",0)(1,"h2",1),C(2,"Registro Administrador"),v(),E(3,"form",2),te("ngSubmit",function(){return r.onSubmit()}),E(4,"div",3)(5,"label",4),C(6,"Nombre"),v(),ne(7,"input",5),ee(8,doe,2,0,"div",6),v(),E(9,"div",3)(10,"label",7),C(11,"Apellido"),v(),ne(12,"input",8),ee(13,foe,2,0,"div",6),v(),E(14,"div",3)(15,"label",9),C(16,"Edad"),v(),ne(17,"input",10),ee(18,hoe,2,0,"div",6),v(),E(19,"div",3)(20,"label",11),C(21,"DNI"),v(),ne(22,"input",12),ee(23,poe,2,0,"div",6),v(),E(24,"div",3)(25,"label",13),C(26,"Email"),v(),ne(27,"input",14),ee(28,moe,2,0,"div",6),v(),E(29,"div",3)(30,"label",15),C(31,"Contrase\xF1a"),v(),ne(32,"input",16),ee(33,goe,2,0,"div",6),v(),E(34,"div",3)(35,"label",17),C(36,"Imagen de Perfil"),v(),E(37,"input",18),te("change",function(o){return r.onFileChange(o,"perfil1")}),v(),ee(38,yoe,2,0,"div",19),v(),E(39,"div",20),ee(40,voe,2,0,"div",21),v(),E(41,"div",22)(42,"re-captcha",23),te("resolved",function(o){return r.resolved(o)}),v()(),E(43,"button",24),C(44," Registrarse "),v(),ee(45,_oe,4,0,"div",25)(46,woe,2,1,"div",26),v()()),n&2){let i,o,s,a,c,l;T(3),j("formGroup",r.registerForm),T(5),j("ngIf",((i=r.registerForm.get("nombre"))==null?null:i.invalid)&&((i=r.registerForm.get("nombre"))==null?null:i.touched)),T(5),j("ngIf",((o=r.registerForm.get("apellido"))==null?null:o.invalid)&&((o=r.registerForm.get("apellido"))==null?null:o.touched)),T(5),j("ngIf",((s=r.registerForm.get("edad"))==null?null:s.invalid)&&((s=r.registerForm.get("edad"))==null?null:s.touched)),T(5),j("ngIf",((a=r.registerForm.get("dni"))==null?null:a.invalid)&&((a=r.registerForm.get("dni"))==null?null:a.touched)),T(5),j("ngIf",((c=r.registerForm.get("email"))==null?null:c.invalid)&&((c=r.registerForm.get("email"))==null?null:c.touched)),T(5),j("ngIf",((l=r.registerForm.get("password"))==null?null:l.invalid)&&((l=r.registerForm.get("password"))==null?null:l.touched)),T(5),j("ngIf",r.perfil1Loaded),T(2),j("ngIf",!r.perfil1Loaded),T(2),en("siteKey",r.siteKeyCaptcha),T(),j("disabled",!r.registerForm.valid||!r.perfil1Loaded||r.recaptchaResponse===null),T(2),j("ngIf",r.loading),T(),j("ngIf",r.errorMessage)}},dependencies:[gi,bo,Tn,Gc,Jn,wo,ds,mi,$i,Et,vt,Sd,Cd],styles:[".container-form[_ngcontent-%COMP%]{background-color:#fff;padding:30px;margin-bottom:20px;border-radius:10px;box-shadow:0 4px 8px #0000001a}"]})};var Ci=class t{constructor(e){this.firestore=e}getPacientes(){let e=Ut(this.firestore,"pacientes"),n=Jr(e,Fv("fechaRegistro","asc"));return Is(n,{idField:"id"})}getEspecialistas(){let e=Ut(this.firestore,"especialistas"),n=Jr(e,Fv("fechaRegistro","asc"));return Is(n,{idField:"id"})}getAdmins(){let e=Ut(this.firestore,"admins"),n=Jr(e,Fv("fechaRegistro","asc"));return Is(n,{idField:"id"})}getEspecialistasPorEspecialidad(e){let n=Ut(this.firestore,"especialistas"),r=Jr(n,No("especialidades","array-contains",e));return Is(r,{idField:"id"})}getTurnos(e){let n=Ut(this.firestore,"turnos"),r=Jr(n,No("paciente.email","==",e));return Is(r,{idField:"id"})}getTurnosEspecialista(e){let n=Ut(this.firestore,"turnos"),r=Jr(n,No("especialista.email","==",e));return Is(r,{idField:"id"})}updateEstadoTurno(e,n){let r=xs(this.firestore,"turnos",e);return Gi(r,{estado:n})}cancelarTurno(e,n){let r=xs(this.firestore,"turnos",e);return Gi(r,{estado:"cancelado",comentario:n})}rechazarTurno(e,n){let r=xs(this.firestore,"turnos",e);return Gi(r,{estado:"rechazado",comentario:n})}finalizarTurno(e,n){let r=xs(this.firestore,"turnos",e);return Gi(r,{estado:"realizado",comentario:n})}calificarAtencion(e,n){let r=xs(this.firestore,"turnos",e);return Gi(r,{calificacion:n})}completarEncuesta(e,n){let r=xs(this.firestore,"turnos",e);return Gi(r,{encuesta:n})}static \u0275fac=function(n){return new(n||t)(Se(zt))};static \u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})};var boe=(t,e)=>({"bg-success":t,"bg-danger":e}),Eoe=(t,e)=>({"btn-danger":t,"btn-success":e});function Coe(t,e){if(t&1&&(E(0,"tr")(1,"td"),C(2),v(),E(3,"td"),C(4),v(),E(5,"td"),C(6),v(),E(7,"td"),C(8),v(),E(9,"td"),C(10),v(),E(11,"td"),C(12),v(),E(13,"td"),ne(14,"img",28),v()()),t&2){let n=e.$implicit;T(2),be(n.nombre),T(2),be(n.apellido),T(2),be(n.email),T(2),be(n.dni),T(2),be(n.edad),T(2),be(n.obraSocial),T(2),j("src",n.perfil1,vn)}}function Soe(t,e){if(t&1){let n=Ze();Pc(0),E(1,"app-pacient-form",29),te("registrationSuccess",function(){Re(n);let i=X();return Me(i.handleRegistrationSuccess())}),v(),Nc()}if(t&2){let n=X();T(),j("redirectToLogin",n.redirectToLogin)}}function Ioe(t,e){if(t&1){let n=Ze();Pc(0),E(1,"app-specialist-form",29),te("registrationSuccess",function(){Re(n);let i=X();return Me(i.handleRegistrationSuccess())}),v(),Nc()}if(t&2){let n=X();T(),j("redirectToLogin",n.redirectToLogin)}}function xoe(t,e){if(t&1){let n=Ze();Pc(0),E(1,"app-admin-form",29),te("registrationSuccess",function(){Re(n);let i=X();return Me(i.handleRegistrationSuccess())}),v(),Nc()}if(t&2){let n=X();T(),j("redirectToLogin",n.redirectToLogin)}}function Toe(t,e){if(t&1){let n=Ze();E(0,"tr")(1,"td"),C(2),v(),E(3,"td"),C(4),v(),E(5,"td"),C(6),v(),E(7,"td"),C(8),v(),E(9,"td"),C(10),v(),E(11,"td")(12,"button",30),te("click",function(){let i=Re(n).$implicit,o=X();return Me(o.openSpecialtiesModal(i))}),C(13,"Ver Especialidades"),v()(),E(14,"td"),ne(15,"img",28),v(),E(16,"td")(17,"span",31),C(18),v()(),E(19,"td")(20,"button",32),te("click",function(){let i=Re(n).$implicit,o=X();return Me(o.toggleUserAccess(i.id,i.profileValidatedByAdmin))}),C(21),v()()()}if(t&2){let n=e.$implicit;T(2),be(n.nombre),T(2),be(n.apellido),T(2),be(n.email),T(2),be(n.dni),T(2),be(n.edad),T(5),j("src",n.perfil1,vn),T(2),j("ngClass",ns(10,boe,n.profileValidatedByAdmin,!n.profileValidatedByAdmin)),T(),ze(" ",n.profileValidatedByAdmin?"Habilitado":"Deshabilitado"," "),T(2),j("ngClass",ns(13,Eoe,n.profileValidatedByAdmin,!n.profileValidatedByAdmin)),T(),ze(" ",n.profileValidatedByAdmin?"Inhabilitar":"Habilitar"," ")}}function Aoe(t,e){if(t&1&&(E(0,"li"),C(1),v()),t&2){let n=e.$implicit;T(),be(n)}}function Doe(t,e){if(t&1&&(E(0,"div")(1,"h6"),C(2),v(),E(3,"ul"),ee(4,Aoe,2,1,"li",8),v()()),t&2){let n=X();T(2),Qn("",n.selectedSpecialist.nombre," ",n.selectedSpecialist.apellido,""),T(2),j("ngForOf",n.selectedSpecialist.especialidades)}}function Roe(t,e){if(t&1&&(E(0,"tr")(1,"td"),C(2),v(),E(3,"td"),C(4),v(),E(5,"td"),C(6),v(),E(7,"td"),C(8),v(),E(9,"td"),C(10),v(),E(11,"td"),ne(12,"img",28),v()()),t&2){let n=e.$implicit;T(2),be(n.nombre),T(2),be(n.apellido),T(2),be(n.email),T(2),be(n.dni),T(2),be(n.edad),T(2),j("src",n.perfil1,vn)}}var Ew=class t{constructor(e,n,r){this.firestore=e;this.router=n;this.userService=r}arrPacientes=[];arrEspecialistas=[];arrAdmins=[];subPacientes;subEspecialistas;subAdmins;currentPagePacientes=1;itemsPerPagePacientes=5;currentPageEspecialistas=1;itemsPerPageEspecialistas=10;currentPageAdmins=1;itemsPerPageAdmins=5;selectedUserType=null;redirectToLogin=!1;ngOnInit(){this.currentPagePacientes=1,this.currentPageEspecialistas=1,this.currentPageAdmins=1,this.getUsers()}ngOnDestroy(){this.subPacientes.unsubscribe(),this.subEspecialistas.unsubscribe(),this.subAdmins.unsubscribe()}onPageChangePacientes(e){this.currentPagePacientes=e}onPageChangeEspecialistas(e){this.currentPageEspecialistas=e}onPageChangeAdmins(e){this.currentPageAdmins=e}getUsers(){this.getPacientes(),this.getEspecialistas(),this.getAdmins()}toggleUserAccess(e,n){return w(this,null,function*(){let r=xs(this.firestore,`especialistas/${e}`);try{yield Gi(r,{profileValidatedByAdmin:!n})}catch(i){console.error("Error al actualizar el estado del usuario:",i)}})}addUser(){}getPacientes(){this.subPacientes=this.userService.getPacientes().subscribe(e=>{this.arrPacientes=e})}getEspecialistas(){this.subEspecialistas=this.userService.getEspecialistas().subscribe(e=>{this.arrEspecialistas=e})}getAdmins(){this.subAdmins=this.userService.getAdmins().subscribe(e=>{this.arrAdmins=e})}openUserTypeModal(){let e=document.getElementById("userTypeModal");new window.bootstrap.Modal(e).show()}openUserForm(e){this.selectedUserType=e,new window.bootstrap.Modal(document.getElementById("userFormModal")).show()}handleRegistrationSuccess(){let e=document.getElementById("userFormModal");e&&(window.bootstrap.Modal.getInstance(e).hide(),this.selectedUserType=null)}selectedSpecialist;openSpecialtiesModal(e){this.selectedSpecialist=e,new window.bootstrap.Modal(document.getElementById("specialtiesModal")).show()}static \u0275fac=function(n){return new(n||t)(K(zt),K(jn),K(Ci))};static \u0275cmp=Be({type:t,selectors:[["app-usuarios"]],standalone:!0,features:[Je],decls:114,vars:7,consts:[[1,"container","mt-4"],[1,"mb-4","text-center"],[1,"text-end","mb-3"],["data-bs-toggle","modal","data-bs-target","#userTypeModal",1,"btn","btn-primary"],[1,"mt-4"],[1,"table-responsive"],[1,"table","table-hover","table-bordered"],[1,"thead-light"],[4,"ngFor","ngForOf"],["id","userTypeModal","tabindex","-1","aria-labelledby","userTypeModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","userTypeModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","text-center"],[1,"btn","btn-primary","m-2",3,"click"],[1,"btn","btn-success","m-2",3,"click"],[1,"btn","btn-warning","m-2",3,"click"],["id","userFormModal","tabindex","-1","aria-labelledby","userFormModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],["id","userFormModalLabel",1,"modal-title"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","specialtiesModal","tabindex","-1","aria-labelledby","specialtiesModalLabel","aria-hidden","true",1,"modal","fade"],["id","specialtiesModalLabel",1,"modal-title"],["alt","Imagen de perfil",1,"img-thumbnail",3,"src"],[3,"registrationSuccess","redirectToLogin"],[1,"btn","btn-info",3,"click"],[1,"badge",3,"ngClass"],[1,"btn",3,"click","ngClass"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"h2",1),C(2,"Secci\xF3n de Usuarios"),v(),E(3,"div",2)(4,"button",3),C(5," Agregar Usuario "),v()(),E(6,"h3",4),C(7,"Pacientes"),v(),E(8,"div",5)(9,"table",6)(10,"thead",7)(11,"tr")(12,"th"),C(13,"Nombre"),v(),E(14,"th"),C(15,"Apellido"),v(),E(16,"th"),C(17,"Email"),v(),E(18,"th"),C(19,"DNI"),v(),E(20,"th"),C(21,"Edad"),v(),E(22,"th"),C(23,"Obra Social"),v(),E(24,"th"),C(25,"Imagen"),v()()(),E(26,"tbody"),ee(27,Coe,15,7,"tr",8),v()()(),E(28,"div",9)(29,"div",10)(30,"div",11)(31,"div",12)(32,"h5",13),C(33,"Seleccionar Tipo de Usuario"),v(),ne(34,"button",14),v(),E(35,"div",15)(36,"button",16),te("click",function(){return r.openUserForm("paciente")}),C(37,"Crear Paciente"),v(),E(38,"button",17),te("click",function(){return r.openUserForm("especialista")}),C(39,"Crear Especialista"),v(),E(40,"button",18),te("click",function(){return r.openUserForm("administrador")}),C(41,"Crear Administrador"),v()()()()(),E(42,"div",19)(43,"div",20)(44,"div",11)(45,"div",12)(46,"h5",21),C(47,"Agregar Usuario"),v(),ne(48,"button",14),v(),E(49,"div",22),ee(50,Soe,2,1,"ng-container",23)(51,Ioe,2,1,"ng-container",23)(52,xoe,2,1,"ng-container",23),v(),E(53,"div",24)(54,"button",25),C(55,"Cerrar"),v()()()()(),E(56,"h3",4),C(57,"Especialistas"),v(),E(58,"div",5)(59,"table",6)(60,"thead",7)(61,"tr")(62,"th"),C(63,"Nombre"),v(),E(64,"th"),C(65,"Apellido"),v(),E(66,"th"),C(67,"Email"),v(),E(68,"th"),C(69,"DNI"),v(),E(70,"th"),C(71,"Edad"),v(),E(72,"th"),C(73,"Especialidades"),v(),E(74,"th"),C(75,"Imagen"),v(),E(76,"th"),C(77,"Estado"),v(),E(78,"th"),C(79,"Acci\xF3n"),v()()(),E(80,"tbody"),ee(81,Toe,22,16,"tr",8),v()()(),E(82,"div",26)(83,"div",20)(84,"div",11)(85,"div",12)(86,"h5",27),C(87,"Especialidades"),v(),ne(88,"button",14),v(),E(89,"div",22),ee(90,Doe,5,3,"div",23),v(),E(91,"div",24)(92,"button",25),C(93,"Cerrar"),v()()()()(),E(94,"h3",4),C(95,"Administradores"),v(),E(96,"div",5)(97,"table",6)(98,"thead",7)(99,"tr")(100,"th"),C(101,"Nombre"),v(),E(102,"th"),C(103,"Apellido"),v(),E(104,"th"),C(105,"Email"),v(),E(106,"th"),C(107,"DNI"),v(),E(108,"th"),C(109,"Edad"),v(),E(110,"th"),C(111,"Imagen"),v()()(),E(112,"tbody"),ee(113,Roe,13,6,"tr",8),v()()()()),n&2&&(T(27),j("ngForOf",r.arrPacientes),T(23),j("ngIf",r.selectedUserType==="paciente"),T(),j("ngIf",r.selectedUserType==="especialista"),T(),j("ngIf",r.selectedUserType==="administrador"),T(29),j("ngForOf",r.arrEspecialistas),T(9),j("ngIf",r.selectedSpecialist),T(23),j("ngForOf",r.arrAdmins))},dependencies:[Et,ha,nn,vt,qd,zd,bw],styles:[".container[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:20px;box-shadow:0 2px 10px #0000001a}.table[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-radius:10px;overflow:hidden}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.img-thumbnail[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover}.badge[_ngcontent-%COMP%]{font-size:.9rem;padding:.5em .75em}th[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}thead[_ngcontent-%COMP%]{background-color:#e9ecef}.btn[_ngcontent-%COMP%]{transition:background-color .3s ease;border-radius:5px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333}.btn-success[_ngcontent-%COMP%]{background-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}@media (max-width: 768px){.img-thumbnail[_ngcontent-%COMP%]{width:40px;height:40px}}"]})};var Wd=class t{constructor(e){this.firestore=e}setTurno(e){return Fa(Ut(this.firestore,"turnos"),e)}getTurnos(){return Is(Ut(this.firestore,"turnos"),{idField:"id"})}static \u0275fac=function(n){return new(n||t)(Se(zt))};static \u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})};function Moe(t,e){t&1&&(E(0,"h2"),C(1,"Seleccione un paciente"),v())}function Poe(t,e){if(t&1){let n=Ze();E(0,"button",10),te("click",function(){let i=Re(n).$implicit,o=X(2);return Me(o.onPacienteSelect(i))}),E(1,"div",11)(2,"p"),C(3),v(),ne(4,"img",12),v()()}if(t&2){let n=e.$implicit;T(3),Qn("",n.nombre," ",n.apellido,""),T(),en("alt",n.nombre+n.apellido),j("src",n.perfil1,vn)}}function Noe(t,e){if(t&1&&(E(0,"div",8),ee(1,Poe,5,4,"button",9),v()),t&2){let n=X();T(),j("ngForOf",n.pacientes)}}function koe(t,e){t&1&&(E(0,"h2",13),C(1,"Seleccione una Especialidad"),v())}function Ooe(t,e){if(t&1){let n=Ze();E(0,"button",15),te("click",function(){let i=Re(n).$implicit,o=X(2);return Me(o.onEspecialidadSelect(i))}),ne(1,"img",12),v()}if(t&2){let n=e.$implicit,r=X(2);T(),en("alt",n),j("src",r.obtenerRutaImagen(n),vn)}}function Foe(t,e){if(t&1&&(E(0,"div",8),ee(1,Ooe,2,2,"button",14),v()),t&2){let n=X();T(),j("ngForOf",n.especialidades)}}function Loe(t,e){if(t&1){let n=Ze();E(0,"button",19),te("click",function(){let i=Re(n).$implicit,o=X(2);return Me(o.onEspecialistaSelect(i))}),E(1,"div",11)(2,"p"),C(3),v(),ne(4,"img",20),v()()}if(t&2){let n=e.$implicit;T(3),Qn("",n.nombre," ",n.apellido,""),T(),en("alt",n.nombre),j("src",n.perfil1,vn)}}function Voe(t,e){if(t&1&&(E(0,"div",16)(1,"h3"),C(2,"Seleccione un Profesional"),v(),E(3,"div",17),ee(4,Loe,5,4,"button",18),v()()),t&2){let n=X();T(4),j("ngForOf",n.arrEspecialistas)}}function Boe(t,e){t&1&&(E(0,"h3"),C(1,"Seleccione un D\xEDa y Hora"),v())}function Uoe(t,e){if(t&1){let n=Ze();E(0,"button",26),te("click",function(){let i=Re(n).$implicit,o=X(3);return Me(o.onDiaSelect(i))}),C(1),Yn(2,"date"),v()}if(t&2){let n=e.$implicit;T(),ze(" ",Bi(2,1,n.fecha,"dd/MM")," ")}}function joe(t,e){if(t&1&&(E(0,"div",24),ee(1,Uoe,3,4,"button",25),v()),t&2){let n=X(2);T(),j("ngForOf",n.diasDisponibles)}}function $oe(t,e){if(t&1){let n=Ze();E(0,"button",29),te("click",function(){let i=Re(n).$implicit,o=X(3);return Me(o.onHoraSelect(i))}),C(1),v()}if(t&2){let n=e.$implicit;T(),ze(" ",n," ")}}function Hoe(t,e){if(t&1&&(E(0,"div",27),ee(1,$oe,2,1,"button",28),v()),t&2){let n=X(2);T(),j("ngForOf",n.horariosDisponibles)}}function qoe(t,e){if(t&1&&(E(0,"div",21),ee(1,Boe,2,0,"h3",1)(2,joe,2,1,"div",22)(3,Hoe,2,1,"div",23),v()),t&2){let n=X();T(),j("ngIf",!n.mostrarConfirmarTurno),T(),j("ngIf",n.selectedDia==""),T(),j("ngIf",n.selectedDia&&!n.mostrarConfirmarTurno)}}function zoe(t,e){if(t&1&&(E(0,"p"),C(1),v()),t&2){let n=X(2);T(),Qn("Paciente: ",n.paciente.nombre," ",n.paciente.apellido,"")}}function Goe(t,e){if(t&1){let n=Ze();E(0,"div",30)(1,"h3"),C(2,"Confirmar Turno"),v(),E(3,"div",31),ee(4,zoe,2,2,"p",1),E(5,"p"),C(6),v(),E(7,"p"),C(8),v(),E(9,"p"),C(10),v(),E(11,"p"),C(12),v()(),E(13,"button",32),te("click",function(){Re(n);let i=X();return Me(i.onConfirmarTurno())}),C(14,"Confirmar Turno"),v()()}if(t&2){let n=X();T(4),j("ngIf",n.isAdmin),T(2),Qn("Profesional: ",n.selectedEspecialista.nombre," ",n.selectedEspecialista.apellido,""),T(2),ze("Especialidad: ",n.selectedEspecialidad,""),T(2),ze("D\xEDa: ",n.selectedDia,""),T(2),ze("Hora: ",n.selectedHora,"")}}function Woe(t,e){if(t&1){let n=Ze();E(0,"button",33),te("click",function(){Re(n);let i=X();return Me(i.onVolver())}),C(1,"Volver"),v()}}var Cw=class t{constructor(e,n,r,i){this.userService=e;this.turnoService=n;this.router=r;this.datePipe=i}arrEspecialistas=[];especialidades=[];selectedEspecialidad="";selectedEspecialista;selectedDia="";selectedHora="";especialidadSeleccionada=!1;especialistaSeleccionado=!1;mostrarDisponibilidad=!1;mostrarConfirmarTurno=!1;diasDeLaSemana=["lunes","martes","miercoles","jueves","viernes"];disponibilidadDias={};horariosDisponibles=[];diasDisponibles=[];fechaLimite=new Date;fechaMaxima=new Date(this.fechaLimite.getTime()+15*24*60*60*1e3);turnos=[];disponibilidadesSeleccionadas;isAdmin=!1;isPaciente=!1;pacientes=[];pacienteSeleccionado=!1;mostrarEspecialidades=!0;paciente;ngOnInit(){let e=localStorage.getItem("user");if(e){let n=JSON.parse(e);n.especialidades?this.router.navigate(["/home"]):n.isAdmin?this.isAdmin=!0:(this.isAdmin=!1,this.isPaciente=!0)}this.isAdmin&&this.userService.getPacientes().subscribe(n=>{this.pacientes=n}),this.loadEspecialidades(),this.turnoService.getTurnos().subscribe(n=>{this.turnos=n})}loadEspecialidades(){this.userService.getEspecialistas().subscribe(e=>{let n=new Set;for(let r of e)r.especialidades&&r.especialidades.forEach(i=>{n.add(i)});this.especialidades=Array.from(n)})}onPacienteSelect(e){console.log("Paciente seleccionado:",e),this.pacienteSeleccionado=!0,this.mostrarEspecialidades=!0,this.paciente=e}onEspecialidadSelect(e){this.selectedEspecialidad=e,this.especialidadSeleccionada=!0,this.mostrarEspecialidades=!1,console.log(`Especialidad seleccionada: ${e}`),this.resetDisponibilidad(),this.onEspecialidadChange()}onEspecialistaSelect(e){this.selectedEspecialista=e,this.especialistaSeleccionado=!0,this.resetDisponibilidad(),e.disponibilidades?this.onEspecialistaChange(e):this.resetDisponibilidad()}onEspecialidadChange(){this.selectedEspecialidad?this.userService.getEspecialistasPorEspecialidad(this.selectedEspecialidad).subscribe(e=>{this.arrEspecialistas=e}):this.arrEspecialistas=[]}onDiaSelect(e){this.selectedDia=this.datePipe.transform(e.fecha,"dd/MM"),console.log(`D\xEDa seleccionado: ${this.selectedDia}`),this.generateHorarios(this.disponibilidadesSeleccionadas.horaInicio,this.disponibilidadesSeleccionadas.horaFin)}onHoraSelect(e){this.selectedHora=e,console.log(`Hora seleccionada: ${e}`),console.log(`fecha y hora seleccionada: ${this.selectedDia} ${this.selectedHora}`),this.mostrarConfirmarTurno=!0}obtenerRutaImagen(e){return e=="psicologia"?`media/${e.toLowerCase()}.png`:e=="cirugia"||e=="pediatria"||e=="psiquiatria"?`media/${e.toLowerCase()}.jpeg`:e=="cardiologia"||e=="odontologia"||e=="pedagogia"?`media/${e.toLowerCase()}.jpg`:"media/fondo_azul.jpeg"}onEspecialistaChange(e){let n=e?.disponibilidades.find(r=>r.especialidad===this.selectedEspecialidad);n&&(console.log("Disponibilidades seleccionadas:",n),this.disponibilidadDias=n.diasDisponibles,this.diasDisponibles=this.getDiasDisponibles(this.disponibilidadDias),this.mostrarDisponibilidad=!0,this.disponibilidadesSeleccionadas=n)}resetDisponibilidad(){this.disponibilidadDias={},this.diasDisponibles=[],this.horariosDisponibles=[]}getDiasDisponibles(e){let n=[],r=new Date,i=this.fechaMaxima;return this.diasDeLaSemana.forEach(o=>{if(e[o]){let s=this.obtenerFechaParaDia(o,r);for(;s<=i;)s>=r&&s<=i&&n.push({dia:o,fecha:new Date(s)}),s.setDate(s.getDate()+7)}}),n.sort((o,s)=>o.fecha-s.fecha),n}obtenerFechaParaDia(e,n){let i=["domingo","lunes","martes","miercoles","jueves","viernes","sabado"].indexOf(e),o=new Date(n);return o.setDate(n.getDate()+(i-n.getDay()+7)%7),o.setHours(0,0,0,0),o}generateHorarios(e,n){let r=[],i=this.timeToMinutes(e),o=this.timeToMinutes(n),s=30;if(!this.turnos||this.turnos.length===0){console.log("No hay turnos disponibles.");return}let a=this.turnos.filter(f=>f.especialista?.id===this.selectedEspecialista.id&&f.especialidad===this.selectedEspecialidad&&f.dia===this.selectedDia);console.log("Horarios ocupados:",a);let c=new Set(a.map(f=>f.hora));console.log("Horarios ocupados (Set):",c);for(let f=i;f<=o;f+=s)r.push(this.minutesToTime(f));let l=r.filter(f=>!c.has(f));console.log("Horarios disponibles:",l),this.horariosDisponibles=l}timeToMinutes(e){let[n,r]=e.split(":").map(Number);return n*60+r}minutesToTime(e){let n=Math.floor(e/60),r=e%60;return`${this.padZero(n)}:${this.padZero(r)}`}padZero(e){return e<10?`0${e}`:`${e}`}onVolver(){this.isPaciente?(this.especialidadSeleccionada=!1,this.especialistaSeleccionado=!1,this.mostrarDisponibilidad=!1,this.mostrarConfirmarTurno=!1,this.selectedDia="",this.resetDisponibilidad()):(this.pacienteSeleccionado=!1,this.mostrarEspecialidades=!1,this.especialidadSeleccionada=!1,this.especialistaSeleccionado=!1,this.mostrarDisponibilidad=!1,this.mostrarConfirmarTurno=!1,this.selectedDia="",this.resetDisponibilidad())}onConfirmarTurno(){let e=null,n=null;if(this.isAdmin)n={nombre:this.selectedEspecialista.nombre,apellido:this.selectedEspecialista.apellido,email:this.selectedEspecialista.email,id:this.selectedEspecialista.id},e={nombre:this.paciente.nombre,apellido:this.paciente.apellido,email:this.paciente.email};else{let i=localStorage.getItem("user"),o="";if(e={nombre:String,apellido:String,email:String},i){let s=JSON.parse(i);o=s.email,e.nombre=s.nombre,e.apellido=s.apellido,e.email=s.email}n={nombre:this.selectedEspecialista.nombre,apellido:this.selectedEspecialista.apellido,email:this.selectedEspecialista.email,id:this.selectedEspecialista.id}}let r={especialidad:this.selectedEspecialidad,especialista:n,dia:this.selectedDia,hora:this.selectedHora,paciente:e,estado:"pendiente"};console.log("Turno enviado:",r),this.turnoService.setTurno(r).then(()=>{console.log("Turno guardado correctamente")}).catch(i=>{console.error("Error al guardar el turno:",i)}),this.router.navigate(["/mis-turnos"])}static \u0275fac=function(n){return new(n||t)(K(Ci),K(Wd),K(jn),K(Zf))};static \u0275cmp=Be({type:t,selectors:[["app-solicitar-turno"]],standalone:!0,features:[fr([Zf,Py]),Je],decls:9,vars:8,consts:[[1,"form-container"],[4,"ngIf"],["class","especialidades-container",4,"ngIf"],["class","mb-3",4,"ngIf"],["class","profesionales-container",4,"ngIf"],["class","dias-horarios-container",4,"ngIf"],["class","confirmar-turno-container",4,"ngIf"],["class","btn btn-secondary float-start mt-3",3,"click",4,"ngIf"],[1,"especialidades-container"],["class","paciente-button",3,"click",4,"ngFor","ngForOf"],[1,"paciente-button",3,"click"],[1,"profesional-info"],[1,"especialidad-img",3,"src","alt"],[1,"mb-3"],["class","especialidad-button",3,"click",4,"ngFor","ngForOf"],[1,"especialidad-button",3,"click"],[1,"profesionales-container"],[1,"profesionales-list"],["class","profesional-button",3,"click",4,"ngFor","ngForOf"],[1,"profesional-button",3,"click"],[1,"profesional-img",3,"src","alt"],[1,"dias-horarios-container"],["class","dias-list",4,"ngIf"],["class","horarios-list",4,"ngIf"],[1,"dias-list"],["class","dia-button",3,"click",4,"ngFor","ngForOf"],[1,"dia-button",3,"click"],[1,"horarios-list"],["class","horario-button",3,"click",4,"ngFor","ngForOf"],[1,"horario-button",3,"click"],[1,"confirmar-turno-container"],[1,"confirmar-turno-info"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary","float-start","mt-3",3,"click"]],template:function(n,r){n&1&&(E(0,"div",0),ee(1,Moe,2,0,"h2",1)(2,Noe,2,1,"div",2)(3,koe,2,0,"h2",3)(4,Foe,2,1,"div",2)(5,Voe,5,1,"div",4)(6,qoe,4,3,"div",5)(7,Goe,15,6,"div",6)(8,Woe,2,0,"button",7),v()),n&2&&(T(),j("ngIf",!r.pacienteSeleccionado&&!r.isPaciente),T(),j("ngIf",!r.pacienteSeleccionado&&!r.isPaciente),T(),j("ngIf",!r.especialidadSeleccionada&&!r.isAdmin||r.pacienteSeleccionado&&r.mostrarEspecialidades),T(),j("ngIf",!r.especialidadSeleccionada&&!r.isAdmin||r.pacienteSeleccionado&&r.mostrarEspecialidades),T(),j("ngIf",r.especialidadSeleccionada&&r.arrEspecialistas.length>0&&!r.mostrarDisponibilidad),T(),j("ngIf",r.mostrarDisponibilidad&&r.diasDisponibles.length>0),T(),j("ngIf",r.selectedHora&&r.mostrarConfirmarTurno),T(),j("ngIf",r.especialidadSeleccionada))},dependencies:[_a,Et,nn,vt,Zf],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:60vh;text-align:center;background-color:#f0f0f0;padding:20px;max-width:1200px;margin:50px auto}.especialidades-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;justify-content:center;margin-top:20px}.especialidad-button[_ngcontent-%COMP%]{background-color:#f0f0f0;border:none;border-radius:10px;cursor:pointer;padding:0;box-shadow:0 4px 6px #0000001a;transition:transform .2s;width:150px;height:150px;display:flex;justify-content:center;align-items:center;margin-bottom:auto}.especialidad-button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.especialidad-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:10px}.profesionales-container[_ngcontent-%COMP%]{margin-top:40px;display:flex;flex-direction:column;align-items:center;width:100%}.profesionales-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;margin-top:20px}.profesional-button[_ngcontent-%COMP%]{background-color:#fff;border:2px solid #ddd;border-radius:10px;width:200px;height:150px;cursor:pointer;transition:box-shadow .3s ease;display:flex;flex-direction:column;justify-content:center;align-items:center;box-shadow:0 4px 6px #0000001a}.profesional-button[_ngcontent-%COMP%]:hover{box-shadow:0 6px 8px #0003}.profesional-img[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;border-radius:50%;margin-bottom:10px}.profesional-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;font-size:14px;text-align:center;color:#333}.paciente-button[_ngcontent-%COMP%]{background-color:#f0f0f0;border:none;border-radius:10px;cursor:pointer;padding:0;box-shadow:0 4px 6px #0000001a;transition:transform .2s;width:150px;height:150px;display:flex;justify-content:center;align-items:center;margin-bottom:45px}.dia-button[_ngcontent-%COMP%], .horario-button[_ngcontent-%COMP%]{background-color:#f0f0f0;border:none;border-radius:10px;padding:10px;margin:5px;cursor:pointer;width:180px;text-align:center;font-size:16px}.dia-button[_ngcontent-%COMP%]:hover, .horario-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.dias-list[_ngcontent-%COMP%], .horarios-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.dia-button[_ngcontent-%COMP%], .horario-button[_ngcontent-%COMP%]{width:180px}.volver-btn[_ngcontent-%COMP%]{margin-left:0;display:inline-block}"]})};function Koe(t,e){if(t&1){let n=Ze();E(0,"a",12),te("keyup.enter",function(){Re(n),X(3);let i=di(1);return Me(i.previous())})("click",function(){Re(n),X(3);let i=di(1);return Me(i.previous())}),C(1),E(2,"span",13),C(3),v()()}if(t&2){let n=X(3);T(),ze(" ",n.previousLabel," "),T(2),be(n.screenReaderPageLabel)}}function Qoe(t,e){if(t&1&&(E(0,"span",14),C(1),E(2,"span",13),C(3),v()()),t&2){let n=X(3);T(),ze(" ",n.previousLabel," "),T(2),be(n.screenReaderPageLabel)}}function Yoe(t,e){if(t&1&&(E(0,"li",9),ee(1,Koe,4,2,"a",10)(2,Qoe,4,2,"span",11),v()),t&2){X(2);let n=di(1);ts("disabled",n.isFirstPage()),T(),j("ngIf",1<n.getCurrent()),T(),j("ngIf",n.isFirstPage())}}function Zoe(t,e){if(t&1){let n=Ze();E(0,"a",12),te("keyup.enter",function(){Re(n);let i=X().$implicit;X(2);let o=di(1);return Me(o.setCurrent(i.value))})("click",function(){Re(n);let i=X().$implicit;X(2);let o=di(1);return Me(o.setCurrent(i.value))}),E(1,"span",13),C(2),v(),E(3,"span"),C(4),Yn(5,"number"),v()()}if(t&2){let n=X().$implicit,r=X(2);T(2),ze("",r.screenReaderPageLabel," "),T(2),be(n.label==="..."?n.label:Bi(5,2,n.label,""))}}function Joe(t,e){if(t&1&&(Pc(0),E(1,"span",16)(2,"span",13),C(3),v(),E(4,"span"),C(5),Yn(6,"number"),v()(),Nc()),t&2){let n=X().$implicit,r=X(2);T(3),ze("",r.screenReaderCurrentLabel," "),T(2),be(n.label==="..."?n.label:Bi(6,2,n.label,""))}}function Xoe(t,e){if(t&1&&(E(0,"li"),ee(1,Zoe,6,5,"a",10)(2,Joe,7,5,"ng-container",15),v()),t&2){let n=e.$implicit;X(2);let r=di(1);ts("current",r.getCurrent()===n.value)("ellipsis",n.label==="..."),T(),j("ngIf",r.getCurrent()!==n.value),T(),j("ngIf",r.getCurrent()===n.value)}}function ese(t,e){if(t&1){let n=Ze();E(0,"a",12),te("keyup.enter",function(){Re(n),X(3);let i=di(1);return Me(i.next())})("click",function(){Re(n),X(3);let i=di(1);return Me(i.next())}),C(1),E(2,"span",13),C(3),v()()}if(t&2){let n=X(3);T(),ze(" ",n.nextLabel," "),T(2),be(n.screenReaderPageLabel)}}function tse(t,e){if(t&1&&(E(0,"span",14),C(1),E(2,"span",13),C(3),v()()),t&2){let n=X(3);T(),ze(" ",n.nextLabel," "),T(2),be(n.screenReaderPageLabel)}}function nse(t,e){if(t&1&&(E(0,"li",17),ee(1,ese,4,2,"a",10)(2,tse,4,2,"span",11),v()),t&2){X(2);let n=di(1);ts("disabled",n.isLastPage()),T(),j("ngIf",!n.isLastPage()),T(),j("ngIf",n.isLastPage())}}function rse(t,e){if(t&1&&(E(0,"ul",4),ee(1,Yoe,3,4,"li",5),E(2,"li",6),C(3),v(),ee(4,Xoe,3,6,"li",7)(5,nse,3,4,"li",8),v()),t&2){let n=X(),r=di(1);ts("responsive",n.responsive),T(),j("ngIf",n.directionLinks),T(2),Qn(" ",r.getCurrent()," / ",r.getLastPage()," "),T(),j("ngForOf",r.pages)("ngForTrackBy",n.trackByIndex),T(),j("ngIf",n.directionLinks)}}var Up=class{constructor(){this.change=new He,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(e){return e.id==null&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)}updateInstance(e){let n=!1;for(let r in this.instances[e.id])e[r]!==this.instances[e.id][r]&&(this.instances[e.id][r]=e[r],n=!0);return n}getCurrentPage(e){return this.instances[e]?this.instances[e].currentPage:1}setCurrentPage(e,n){if(this.instances[e]){let r=this.instances[e],i=Math.ceil(r.totalItems/r.itemsPerPage);n<=i&&1<=n&&(this.instances[e].currentPage=n,this.change.emit(e))}}setTotalItems(e,n){this.instances[e]&&0<=n&&(this.instances[e].totalItems=n,this.change.emit(e))}setItemsPerPage(e,n){this.instances[e]&&(this.instances[e].itemsPerPage=n,this.change.emit(e))}getInstance(e=this.DEFAULT_ID){return this.instances[e]?this.clone(this.instances[e]):{}}clone(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}},ise=Number.MAX_SAFE_INTEGER,Kd=(()=>{class t{constructor(n){this.service=n,this.state={}}transform(n,r){if(!(n instanceof Array)){let h=r.id||this.service.defaultId();return this.state[h]?this.state[h].slice:n}let i=r.totalItems&&r.totalItems!==n.length,o=this.createInstance(n,r),s=o.id,a,c,l=o.itemsPerPage,f=this.service.register(o);if(!i&&n instanceof Array){if(l=+l||ise,a=(o.currentPage-1)*l,c=a+l,this.stateIsIdentical(s,n,a,c))return this.state[s].slice;{let g=n.slice(a,c);return this.saveState(s,n,g,a,c),this.service.change.emit(s),g}}else return f&&this.service.change.emit(s),this.saveState(s,n,n,a,c),n}createInstance(n,r){return this.checkConfig(r),{id:r.id!=null?r.id:this.service.defaultId(),itemsPerPage:+r.itemsPerPage||0,currentPage:+r.currentPage||1,totalItems:+r.totalItems||n.length}}checkConfig(n){let i=["itemsPerPage","currentPage"].filter(o=>!(o in n));if(0<i.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${i.join(", ")}`)}saveState(n,r,i,o,s){this.state[n]={collection:r,size:r.length,slice:i,start:o,end:s}}stateIsIdentical(n,r,i,o){let s=this.state[n];return!s||!(s.size===r.length&&s.start===i&&s.end===o)?!1:s.slice.every((c,l)=>c===r[i+l])}}return t.\u0275fac=function(n){return new(n||t)(K(Up,16))},t.\u0275pipe=Dc({name:"paginate",type:t,pure:!1}),t})();var ose=(()=>{class t{constructor(n,r){this.service=n,this.changeDetectorRef=r,this.maxSize=7,this.pageChange=new He,this.pageBoundsCorrection=new He,this.pages=[],this.changeSub=this.service.change.subscribe(i=>{this.id===i&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){this.id===void 0&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(n){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return this.getCurrent()===1}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(n){this.pageChange.emit(n)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let n=this.service.getInstance(this.id);return n.totalItems<1?1:Math.ceil(n.totalItems/n.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){this.service.getInstance(this.id).id==null&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let n=this.service.getInstance(this.id),r=this.outOfBoundCorrection(n);r!==n.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(r),this.pages=this.createPageArray(n.currentPage,n.itemsPerPage,n.totalItems,this.maxSize)}):this.pages=this.createPageArray(n.currentPage,n.itemsPerPage,n.totalItems,this.maxSize)}outOfBoundCorrection(n){let r=Math.ceil(n.totalItems/n.itemsPerPage);return r<n.currentPage&&0<r?r:n.currentPage<1?1:n.currentPage}createPageArray(n,r,i,o){o=+o;let s=[],a=Math.max(Math.ceil(i/r),1),c=Math.ceil(o/2),l=n<=c,f=a-c<n,h=!l&&!f,g=o<a,b=1;for(;b<=a&&b<=o;){let I,O=this.calculatePageNumber(b,n,o,a),N=b===2&&(h||f),$=b===o-1&&(h||l);g&&(N||$)?I="...":I=O,s.push({label:I,value:O}),b++}return s}calculatePageNumber(n,r,i,o){let s=Math.ceil(i/2);return n===i?o:n===1?n:i<o?o-s<r?o-i+n:s<r?r-s+n:n:n}}return t.\u0275fac=function(n){return new(n||t)(K(Up),K(rs))},t.\u0275dir=lt({type:t,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[li]}),t})();function nR(t){return!!t&&t!=="false"}var Qd=(()=>{class t{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new He,this.pageBoundsCorrection=new He,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(n){this._directionLinks=nR(n)}get autoHide(){return this._autoHide}set autoHide(n){this._autoHide=nR(n)}get responsive(){return this._responsive}set responsive(n){this._responsive=nR(n)}trackByIndex(n){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Be({type:t,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[["p","paginationApi"],[3,"pageChange","pageBoundsCorrection","id","maxSize"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(n,r){if(n&1){let i=Ze();E(0,"pagination-template",1,0),te("pageChange",function(s){return Re(i),Me(r.pageChange.emit(s))})("pageBoundsCorrection",function(s){return Re(i),Me(r.pageBoundsCorrection.emit(s))}),E(2,"nav",2),ee(3,rse,6,8,"ul",3),v()()}if(n&2){let i=di(1);j("id",r.id)("maxSize",r.maxSize),T(2),es("aria-label",r.screenReaderPaginationLabel),T(),j("ngIf",!(r.autoHide&&i.pages.length<=1))}},dependencies:[ose,vt,nn,vN],styles:[`.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}
`],encapsulation:2,changeDetection:0}),t})(),Yd=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Br({type:t}),t.\u0275inj=Vr({providers:[Up],imports:[[Et]]}),t})();var sse=(t,e)=>({itemsPerPage:t,currentPage:e}),ase=(t,e,n,r,i)=>({"text-success":t,"text-warning":e,"text-danger":n,"text-primary":r,"text-secondary":i});function cse(t,e){t&1&&(E(0,"div",50),C(1," No tienes turnos agendados. "),v())}function lse(t,e){if(t&1){let n=Ze();E(0,"div",53)(1,"button",54),te("click",function(){Re(n);let i=X().$implicit,o=X();return Me(o.cancelarTurno(i.id))}),ne(2,"i",55),C(3," Cancelar "),v()()}}function use(t,e){if(t&1){let n=Ze();E(0,"div",53)(1,"button",56),te("click",function(){Re(n);let i=X().$implicit,o=X();return Me(o.verResena(i.id))}),ne(2,"i",57),C(3," Ver Rese\xF1a "),v()()}}function dse(t,e){if(t&1){let n=Ze();E(0,"div",53)(1,"button",58),te("click",function(){Re(n);let i=X().$implicit,o=X();return Me(o.completarEncuesta(i.id))}),ne(2,"i",59),C(3," Completar Encuesta "),v()()}}function fse(t,e){if(t&1){let n=Ze();E(0,"div",53)(1,"button",60),te("click",function(){Re(n);let i=X().$implicit,o=X();return Me(o.calificarAtencion(i.id))}),ne(2,"i",61),C(3," Calificar Atenci\xF3n "),v()()}}function hse(t,e){if(t&1&&(E(0,"tr")(1,"td"),C(2),v(),E(3,"td"),C(4),v(),E(5,"td"),C(6),v(),E(7,"td"),C(8),v(),E(9,"td")(10,"span",51),C(11),Yn(12,"uppercase"),v()(),E(13,"td"),ee(14,lse,4,0,"div",52)(15,use,4,0,"div",52)(16,dse,4,0,"div",52)(17,fse,4,0,"div",52),v()()),t&2){let n=e.$implicit;T(2),be(n.especialidad),T(2),Qn("",n.especialista.nombre," ",n.especialista.apellido,""),T(2),be(n.dia),T(2),be(n.hora),T(2),j("ngClass",xu(13,ase,n.estado==="realizado",n.estado==="pendiente",n.estado==="cancelado",n.estado==="aceptado",n.estado==="rechazado")),T(),ze(" ",da(12,11,n.estado)," "),T(3),j("ngIf",n.estado==="pendiente"||n.estado==="aceptado"),T(),j("ngIf",n.resenia||n.comentario),T(),j("ngIf",n.estado==="realizado"&&n.comentario&&!n.encuesta),T(),j("ngIf",n.estado==="realizado"&&!n.calificacion)}}function pse(t,e){if(t&1&&(E(0,"p")(1,"strong"),C(2,"Calificaci\xF3n:"),v(),C(3),v()),t&2){let n=X();T(3),ze(" ",n.comentarioCalificacion,"")}}var Sw=class t{constructor(e){this.userService=e}modal;turnos=[];turnosFiltrados=[];filtroEspecialidad="";filtroEspecialista="";turnoSeleccionadoId="";comentarioCancelacion="";comentarioPacienteSeleccionado="";comentarioCalificacion="";encuesta={atencion:0,puntualidad:0,administracion:0,recomendacion:0};page=1;pageSize=5;ngOnInit(){let e=localStorage.getItem("user");if(e){let n=JSON.parse(e);this.userService.getTurnos(n.email).subscribe(r=>{this.turnos=r,this.turnosFiltrados=r,console.log("Turnos",this.turnos)})}}filtrarTurnos(){this.turnosFiltrados=this.turnos.filter(e=>{let n=e.especialidad.toLowerCase().includes(this.filtroEspecialidad.toLowerCase()),r=e.especialista.nombre.toLowerCase().includes(this.filtroEspecialista.toLowerCase())||e.especialista.apellido.toLowerCase().includes(this.filtroEspecialista.toLowerCase());return n&&r})}cancelarTurno(e){this.comentarioCancelacion="",this.turnoSeleccionadoId=e;let n=document.getElementById("cancelarTurnoModal");this.modal=new window.bootstrap.Modal(n),this.modal.show()}confirmarCancelacion(){console.log("Cancelar turno",this.turnoSeleccionadoId,"Comentario:",this.comentarioCancelacion),this.userService.cancelarTurno(this.turnoSeleccionadoId,this.comentarioCancelacion).then(()=>{console.log("Turno cancelado")}).catch(e=>{console.error("Error al cancelar turno",e)}),this.modal.hide(),this.comentarioCancelacion=""}confirmarEncuesta(){this.encuesta.atencion=Number(this.encuesta.atencion),this.encuesta.puntualidad=Number(this.encuesta.puntualidad),this.encuesta.administracion=Number(this.encuesta.administracion),this.encuesta.recomendacion=Number(this.encuesta.recomendacion),console.log("Encuesta parseada",this.encuesta),this.userService.completarEncuesta(this.turnoSeleccionadoId,this.encuesta).then(()=>{console.log("Encuesta completada")}).catch(e=>{console.error("Error al completar encuesta",e)}),this.modal.hide()}completarEncuesta(e){console.log("Completar encuesta",e),this.encuesta={atencion:0,puntualidad:0,administracion:0,recomendacion:0},this.turnoSeleccionadoId=e;let n=document.getElementById("completarEncuestaModal");this.modal=new window.bootstrap.Modal(n),this.modal.show()}confirmarCalificacion(){console.log("Calificar atenci\xF3n"),this.userService.calificarAtencion(this.turnoSeleccionadoId,this.comentarioCalificacion).then(()=>{console.log("Atenci\xF3n calificada")}).catch(e=>{console.error("Error al calificar atenci\xF3n",e)}),this.modal.hide(),this.comentarioCalificacion=""}calificarAtencion(e){console.log("Calificar atenci\xF3n",e),this.comentarioCalificacion="",this.turnoSeleccionadoId=e;let n=document.getElementById("calificarTurnoModal");this.modal=new window.bootstrap.Modal(n),this.modal.show()}verResena(e){console.log("Ver rese\xF1a",e);let n=this.turnos.find(r=>r.id===e);if(n){this.comentarioPacienteSeleccionado=n.comentario,this.comentarioCalificacion=n.calificacion,console.log("Rese\xF1a:",n.comentario);let r=document.getElementById("verComentarioModal");new window.bootstrap.Modal(r).show()}}static \u0275fac=function(n){return new(n||t)(K(Ci))};static \u0275cmp=Be({type:t,selectors:[["app-turnos-paciente"]],standalone:!0,features:[Je],decls:147,vars:18,consts:[[1,"container","mt-5"],[1,"row","mb-4"],[1,"col-12","col-md-6","mb-3","mb-md-0"],["for","especialidadFiltro",1,"form-label"],["id","especialidadFiltro","type","text","placeholder","Ej: Cardiolog\xEDa",1,"form-control","form-control-sm",3,"ngModelChange","input","ngModel"],["for","especialistaFiltro",1,"form-label"],["id","especialistaFiltro","type","text","placeholder","Ej: Dr. Juan P\xE9rez",1,"form-control","form-control-sm",3,"ngModelChange","input","ngModel"],["class","alert alert-warning",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-bordered"],[1,"thead-light"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],[3,"pageChange"],["id","cancelarTurnoModal","tabindex","-1","aria-labelledby","cancelarTurnoModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","cancelarTurnoModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["for","comentarioCancelacion"],["id","comentarioCancelacion","rows","3","placeholder","Escribe el motivo de la cancelaci\xF3n...",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],["id","calificarTurnoModal","tabindex","-1","aria-labelledby","calificarTurnoModalLabel","aria-hidden","true",1,"modal","fade"],["id","calificarTurnoModalLabel",1,"modal-title"],["for","comentarioCalificacion"],["id","comentarioCalificacion","rows","3","placeholder","Escribe tu comentario...",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary",3,"click"],["id","completarEncuestaModal","tabindex","-1","aria-labelledby","completarEncuestaModalLabel","aria-hidden","true",1,"modal","fade"],["id","completarEncuestaModalLabel",1,"modal-title"],[1,"mb-3"],["for","pregunta1",1,"form-label"],["id","pregunta1",1,"form-select",3,"ngModelChange","ngModel"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["for","pregunta2",1,"form-label"],["id","pregunta2",1,"form-select",3,"ngModelChange","ngModel"],["for","pregunta3",1,"form-label"],["id","pregunta3",1,"form-select",3,"ngModelChange","ngModel"],["for","pregunta4",1,"form-label"],["id","pregunta4",1,"form-select",3,"ngModelChange","ngModel"],["id","verComentarioModal","tabindex","-1","aria-labelledby","verResenaModalLabel","aria-hidden","true",1,"modal","fade"],["id","verResenaModalLabel",1,"modal-title"],[4,"ngIf"],[1,"alert","alert-warning"],[3,"ngClass"],["class","btn-group",4,"ngIf"],[1,"btn-group"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-x-circle"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"bi","bi-eye"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"bi","bi-pencil-square"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"bi","bi-star"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"h3"),C(2,"Mis Turnos"),v(),E(3,"div",1)(4,"div",2)(5,"label",3),C(6,"Filtrar por Especialidad"),v(),E(7,"input",4),wn("ngModelChange",function(o){return xn(r.filtroEspecialidad,o)||(r.filtroEspecialidad=o),o}),te("input",function(){return r.filtrarTurnos()}),v()(),E(8,"div",2)(9,"label",5),C(10,"Filtrar por Especialista"),v(),E(11,"input",6),wn("ngModelChange",function(o){return xn(r.filtroEspecialista,o)||(r.filtroEspecialista=o),o}),te("input",function(){return r.filtrarTurnos()}),v()()(),ee(12,cse,2,0,"div",7),E(13,"div",8)(14,"table",9)(15,"thead",10)(16,"tr")(17,"th"),C(18,"Especialidad"),v(),E(19,"th"),C(20,"Especialista"),v(),E(21,"th"),C(22,"Fecha"),v(),E(23,"th"),C(24,"Hora"),v(),E(25,"th"),C(26,"Estado"),v(),E(27,"th"),C(28,"Acciones"),v()()(),E(29,"tbody"),ee(30,hse,18,19,"tr",11),Yn(31,"paginate"),v()()(),E(32,"div",12)(33,"pagination-controls",13),te("pageChange",function(o){return r.page=o}),v()()(),E(34,"div",14)(35,"div",15)(36,"div",16)(37,"div",17)(38,"h5",18),C(39,"Cancelar Turno"),v(),ne(40,"button",19),v(),E(41,"div",20)(42,"label",21),C(43,"Comentario de cancelaci\xF3n:"),v(),E(44,"textarea",22),wn("ngModelChange",function(o){return xn(r.comentarioCancelacion,o)||(r.comentarioCancelacion=o),o}),v()(),E(45,"div",23)(46,"button",24),C(47,"Cerrar"),v(),E(48,"button",25),te("click",function(){return r.confirmarCancelacion()}),C(49,"Confirmar Cancelaci\xF3n"),v()()()()(),E(50,"div",26)(51,"div",15)(52,"div",16)(53,"div",17)(54,"h5",27),C(55,"Calificar Turno"),v(),ne(56,"button",19),v(),E(57,"div",20)(58,"label",28),C(59,"Comentario de calificaci\xF3n:"),v(),E(60,"textarea",29),wn("ngModelChange",function(o){return xn(r.comentarioCalificacion,o)||(r.comentarioCalificacion=o),o}),v()(),E(61,"div",23)(62,"button",24),C(63,"Cerrar"),v(),E(64,"button",30),te("click",function(){return r.confirmarCalificacion()}),C(65,"Confirmar Calificaci\xF3n"),v()()()()(),E(66,"div",31)(67,"div",15)(68,"div",16)(69,"div",17)(70,"h5",32),C(71,"Encuesta de Atenci\xF3n"),v(),ne(72,"button",19),v(),E(73,"div",20)(74,"div",33)(75,"label",34),C(76,"\xBFC\xF3mo calificar\xEDas la atenci\xF3n recibida?"),v(),E(77,"select",35),wn("ngModelChange",function(o){return xn(r.encuesta.atencion,o)||(r.encuesta.atencion=o),o}),E(78,"option",36),C(79,"Muy mala"),v(),E(80,"option",37),C(81,"Mala"),v(),E(82,"option",38),C(83,"Regular"),v(),E(84,"option",39),C(85,"Buena"),v(),E(86,"option",40),C(87,"Muy buena"),v()()(),E(88,"div",33)(89,"label",41),C(90,"\xBFC\xF3mo calificar\xEDas la puntualidad del especialista?"),v(),E(91,"select",42),wn("ngModelChange",function(o){return xn(r.encuesta.puntualidad,o)||(r.encuesta.puntualidad=o),o}),E(92,"option",36),C(93,"Muy mala"),v(),E(94,"option",37),C(95,"Mala"),v(),E(96,"option",38),C(97,"Regular"),v(),E(98,"option",39),C(99,"Buena"),v(),E(100,"option",40),C(101,"Muy buena"),v()()(),E(102,"div",33)(103,"label",43),C(104,"\xBFC\xF3mo calificar\xEDas la atenci\xF3n del personal administrativo?"),v(),E(105,"select",44),wn("ngModelChange",function(o){return xn(r.encuesta.administracion,o)||(r.encuesta.administracion=o),o}),E(106,"option",36),C(107,"Muy mala"),v(),E(108,"option",37),C(109,"Mala"),v(),E(110,"option",38),C(111,"Regular"),v(),E(112,"option",39),C(113,"Buena"),v(),E(114,"option",40),C(115,"Muy buena"),v()()(),E(116,"div",33)(117,"label",45),C(118,"\xBFRecomendar\xEDas a este especialista?"),v(),E(119,"select",46),wn("ngModelChange",function(o){return xn(r.encuesta.recomendacion,o)||(r.encuesta.recomendacion=o),o}),E(120,"option",36),C(121,"No"),v(),E(122,"option",37),C(123,"No estoy seguro"),v(),E(124,"option",38),C(125,"S\xED"),v()()()(),E(126,"div",23)(127,"button",24),C(128,"Cerrar"),v(),E(129,"button",30),te("click",function(){return r.confirmarEncuesta()}),C(130,"Confirmar Encuesta"),v()()()()(),E(131,"div",47)(132,"div",15)(133,"div",16)(134,"div",17)(135,"h5",48),C(136,"Rese\xF1a del Turno"),v(),ne(137,"button",19),v(),E(138,"div",20)(139,"p")(140,"strong"),C(141,"Comentario:"),v(),C(142),v(),ee(143,pse,4,1,"p",49),v(),E(144,"div",23)(145,"button",24),C(146,"Cerrar"),v()()()()()),n&2&&(T(7),_n("ngModel",r.filtroEspecialidad),T(4),_n("ngModel",r.filtroEspecialista),T(),j("ngIf",r.turnosFiltrados.length===0),T(18),j("ngForOf",Bi(31,12,r.turnosFiltrados,ns(15,sse,r.pageSize,r.page))),T(14),_n("ngModel",r.comentarioCancelacion),T(16),_n("ngModel",r.comentarioCalificacion),T(17),_n("ngModel",r.encuesta.atencion),T(14),_n("ngModel",r.encuesta.puntualidad),T(14),_n("ngModel",r.encuesta.administracion),T(14),_n("ngModel",r.encuesta.recomendacion),T(23),ze(" ",r.comentarioPacienteSeleccionado,""),T(),j("ngIf",r.comentarioCalificacion))},dependencies:[Et,ha,nn,vt,Au,_a,$u,Hu,Tn,va,Jn,zc,Yd,Kd,Qd],styles:[".container[_ngcontent-%COMP%]{background:#ffffffd9;border-radius:8px;padding:30px}h3[_ngcontent-%COMP%]{text-align:center;font-size:1.8rem;font-weight:700;color:#1e1e1e;margin-bottom:1rem}input[type=text][_ngcontent-%COMP%]{background-color:#fffc;border:1px solid #ccc;border-radius:4px;color:#333;box-shadow:0 1px 3px #0000001a}.list-group-item[_ngcontent-%COMP%]{background-color:#ffffffd9;border-radius:8px;padding:20px;box-shadow:0 1px 4px #0000001a;margin-bottom:15px}.list-group-item[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.list-group-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 5px;border-radius:5px;box-shadow:0 2px 4px #0000001a}.pagination[_ngcontent-%COMP%]{justify-content:center;margin-top:20px}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#007bff;border-radius:50%;padding:8px 14px;border:none;box-shadow:0 1px 3px #0000001a}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:#007bff33}.modal-content[_ngcontent-%COMP%]{border-radius:8px;background-color:#ffffffe6;box-shadow:0 4px 10px #00000026}.modal-header[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-top-left-radius:8px;border-top-right-radius:8px}.modal-body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #ddd;background-color:#f8f9fa;box-shadow:0 1px 3px #0000001a}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:5px}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:20px}}"]})};var mse=(t,e)=>({itemsPerPage:t,currentPage:e}),gse=(t,e,n,r,i)=>({"text-success":t,"text-warning":e,"text-danger":n,"text-primary":r,"text-secondary":i});function yse(t,e){t&1&&(E(0,"div",38),C(1," No tienes turnos asignados. "),v())}function vse(t,e){if(t&1){let n=Ze();E(0,"div",41)(1,"button",42),te("click",function(){Re(n);let i=X().$implicit,o=X();return Me(o.cancelarTurno(i.id))}),ne(2,"i",43),C(3," Cancelar "),v(),E(4,"button",44),te("click",function(){Re(n);let i=X().$implicit,o=X();return Me(o.rechazarTurno(i.id))}),ne(5,"i",43),C(6," Rechazar "),v(),E(7,"button",45),te("click",function(){Re(n);let i=X().$implicit,o=X();return Me(o.aceptarTurno(i.id))}),ne(8,"i",46),C(9," Aceptar "),v()()}}function _se(t,e){if(t&1){let n=Ze();E(0,"div",41)(1,"button",47),te("click",function(){Re(n);let i=X().$implicit,o=X();return Me(o.finalizarTurno(i.id))}),ne(2,"i",48),C(3," Finalizar "),v()()}}function wse(t,e){if(t&1){let n=Ze();E(0,"div",41)(1,"button",49),te("click",function(){Re(n);let i=X().$implicit,o=X();return Me(o.verResena(i.id))}),ne(2,"i",50),C(3," Ver Rese\xF1a "),v()()}}function bse(t,e){if(t&1&&(E(0,"tr")(1,"td"),C(2),v(),E(3,"td"),C(4),v(),E(5,"td"),C(6),v(),E(7,"td"),C(8),v(),E(9,"td")(10,"span",39),C(11),Yn(12,"uppercase"),v()(),E(13,"td"),ee(14,vse,10,0,"div",40)(15,_se,4,0,"div",40)(16,wse,4,0,"div",40),v()()),t&2){let n=e.$implicit;T(2),be(n.especialidad),T(2),Qn("",n.paciente.nombre," ",n.paciente.apellido,""),T(2),be(n.dia),T(2),be(n.hora),T(2),j("ngClass",xu(12,gse,n.estado==="realizado",n.estado==="pendiente",n.estado==="cancelado",n.estado==="aceptado",n.estado==="rechazado")),T(),ze(" ",da(12,10,n.estado)," "),T(3),j("ngIf",n.estado==="pendiente"),T(),j("ngIf",n.estado==="aceptado"),T(),j("ngIf",n.comentario)}}function Ese(t,e){if(t&1&&(E(0,"p")(1,"strong"),C(2,"Calificaci\xF3n:"),v(),C(3),v()),t&2){let n=X();T(3),ze(" ",n.comentarioCalificacion," ")}}var Iw=class t{constructor(e){this.userService=e}turnos=[];turnosFiltrados=[];filtroEspecialidad="";filtroPaciente="";turnoSeleccionadoId="";modal;comentarioSeleccionado="";comentarioCancelacion="";comentarioRechazo="";comentarioFinalizacion="";comentarioCalificacion="";page=1;pageSize=8;ngOnInit(){let e=localStorage.getItem("user");if(e){let n=JSON.parse(e);this.userService.getTurnosEspecialista(n.email).subscribe(r=>{this.turnos=r,this.turnosFiltrados=[...r]})}}filtrarTurnos(){this.turnosFiltrados=this.turnos.filter(e=>(this.filtroEspecialidad?e.especialidad.toLowerCase().includes(this.filtroEspecialidad.toLowerCase()):!0)&&(this.filtroPaciente?`${e.paciente.nombre} ${e.paciente.apellido}`.toLowerCase().includes(this.filtroPaciente.toLowerCase()):!0))}confirmarCancelacion(){console.log("Cancelar turno",this.turnoSeleccionadoId,"Comentario:",this.comentarioCancelacion),this.userService.cancelarTurno(this.turnoSeleccionadoId,this.comentarioRechazo).then(()=>{console.log("Turno cancelado")}).catch(e=>{console.error("Error al cancelar turno",e)}),this.modal.hide(),this.comentarioCancelacion=""}cancelarTurno(e){this.turnoSeleccionadoId=e;let n=document.getElementById("cancelarTurnoModal");this.modal=new window.bootstrap.Modal(n),this.modal.show()}confirmarRechazo(){console.log("Rechazar turno",this.turnoSeleccionadoId,"Comentario:",this.comentarioRechazo),this.userService.rechazarTurno(this.turnoSeleccionadoId,this.comentarioRechazo).then(()=>{console.log("Turno rechazado")}).catch(e=>{console.error("Error al rechazar turno",e)}),this.modal.hide(),this.comentarioRechazo=""}rechazarTurno(e){console.log("Rechazar turno",e),this.turnoSeleccionadoId=e;let n=document.getElementById("rechazarTurnoModal");this.modal=new window.bootstrap.Modal(n),this.modal.show()}aceptarTurno(e){console.log("Aceptar turno",e),this.userService.updateEstadoTurno(e,"aceptado").then(()=>{console.log("Turno aceptado")}).catch(n=>{console.error("Error al aceptar turno",n)})}confirmarFinalizacion(){console.log("Finalizar turno",this.turnoSeleccionadoId,"Comentario:",this.comentarioFinalizacion),this.userService.finalizarTurno(this.turnoSeleccionadoId,this.comentarioFinalizacion).then(()=>{console.log("Turno finalizado")}).catch(e=>{console.error("Error al finalizar turno",e)}),this.modal.hide(),this.comentarioFinalizacion=""}finalizarTurno(e){console.log("Finalizar turno",e),this.turnoSeleccionadoId=e;let n=document.getElementById("finalizarTurnoModal");this.modal=new window.bootstrap.Modal(n),this.modal.show()}verResena(e){console.log("Ver rese\xF1a",e);let n=this.turnos.find(r=>r.id===e);if(n){this.comentarioSeleccionado=n.comentario,this.comentarioCalificacion=n.calificacion,console.log("Rese\xF1a:",n.comentario);let r=document.getElementById("verComentarioModal");new window.bootstrap.Modal(r).show()}}static \u0275fac=function(n){return new(n||t)(K(Ci))};static \u0275cmp=Be({type:t,selectors:[["app-turnos-especialista"]],standalone:!0,features:[Je],decls:98,vars:15,consts:[[1,"container","mt-5"],[1,"row","mb-4"],[1,"col-12","col-md-6","mb-3","mb-md-0"],["for","especialidadFiltro",1,"form-label"],["id","especialidadFiltro","type","text","placeholder","Ej: Cardiolog\xEDa",1,"form-control","form-control-sm",3,"ngModelChange","input","ngModel"],["for","pacienteFiltro",1,"form-label"],["id","pacienteFiltro","type","text","placeholder","Ej: Juan P\xE9rez",1,"form-control","form-control-sm",3,"ngModelChange","input","ngModel"],["class","alert alert-warning",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-bordered"],[1,"thead-light"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],[3,"pageChange"],["id","cancelarTurnoModal","tabindex","-1","aria-labelledby","cancelarTurnoModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","cancelarTurnoModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["for","comentarioCancelacion"],["id","comentarioCancelacion","rows","3","placeholder","Escribe el motivo de la cancelaci\xF3n...",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],["id","rechazarTurnoModal","tabindex","-1","aria-labelledby","rechazarTurnoModalLabel","aria-hidden","true",1,"modal","fade"],["id","rechazarTurnoModalLabel",1,"modal-title"],["for","comentarioRechazo"],["id","comentarioRechazo","rows","3","placeholder","Escribe el motivo del rechazo...",1,"form-control",3,"ngModelChange","ngModel"],["id","finalizarTurnoModal","tabindex","-1","aria-labelledby","finalizarTurnoModalLabel","aria-hidden","true",1,"modal","fade"],["id","finalizarTurnoModalLabel",1,"modal-title"],["for","comentarioFinalizacion"],["id","comentarioFinalizacion","rows","3","placeholder","Escribe un comentario sobre el turno...",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-success",3,"click"],["id","verComentarioModal","tabindex","-1","aria-labelledby","verResenaModalLabel","aria-hidden","true",1,"modal","fade"],["id","verResenaModalLabel",1,"modal-title"],[4,"ngIf"],[1,"alert","alert-warning"],[3,"ngClass"],["class","btn-group",4,"ngIf"],[1,"btn-group"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-x-circle"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"bi","bi-check-circle"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"bi","bi-pencil-square"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"bi","bi-eye"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"h3"),C(2,"Mis Turnos - Especialista"),v(),E(3,"div",1)(4,"div",2)(5,"label",3),C(6,"Filtrar por Especialidad"),v(),E(7,"input",4),wn("ngModelChange",function(o){return xn(r.filtroEspecialidad,o)||(r.filtroEspecialidad=o),o}),te("input",function(){return r.filtrarTurnos()}),v()(),E(8,"div",2)(9,"label",5),C(10,"Filtrar por Paciente"),v(),E(11,"input",6),wn("ngModelChange",function(o){return xn(r.filtroPaciente,o)||(r.filtroPaciente=o),o}),te("input",function(){return r.filtrarTurnos()}),v()()(),ee(12,yse,2,0,"div",7),E(13,"div",8)(14,"table",9)(15,"thead",10)(16,"tr")(17,"th"),C(18,"Especialidad"),v(),E(19,"th"),C(20,"Paciente"),v(),E(21,"th"),C(22,"Fecha"),v(),E(23,"th"),C(24,"Hora"),v(),E(25,"th"),C(26,"Estado"),v(),E(27,"th"),C(28,"Acciones"),v()()(),E(29,"tbody"),ee(30,bse,17,18,"tr",11),Yn(31,"paginate"),v()()(),E(32,"div",12)(33,"pagination-controls",13),te("pageChange",function(o){return r.page=o}),v()()(),E(34,"div",14)(35,"div",15)(36,"div",16)(37,"div",17)(38,"h5",18),C(39,"Cancelar Turno"),v(),ne(40,"button",19),v(),E(41,"div",20)(42,"label",21),C(43,"Comentario de cancelaci\xF3n:"),v(),E(44,"textarea",22),wn("ngModelChange",function(o){return xn(r.comentarioCancelacion,o)||(r.comentarioCancelacion=o),o}),v()(),E(45,"div",23)(46,"button",24),C(47,"Cerrar"),v(),E(48,"button",25),te("click",function(){return r.confirmarCancelacion()}),C(49,"Confirmar Cancelaci\xF3n"),v()()()()(),E(50,"div",26)(51,"div",15)(52,"div",16)(53,"div",17)(54,"h5",27),C(55,"Rechazar Turno"),v(),ne(56,"button",19),v(),E(57,"div",20)(58,"label",28),C(59,"Comentario de rechazo:"),v(),E(60,"textarea",29),wn("ngModelChange",function(o){return xn(r.comentarioRechazo,o)||(r.comentarioRechazo=o),o}),v()(),E(61,"div",23)(62,"button",24),C(63,"Cerrar"),v(),E(64,"button",25),te("click",function(){return r.confirmarRechazo()}),C(65,"Confirmar Rechazo"),v()()()()(),E(66,"div",30)(67,"div",15)(68,"div",16)(69,"div",17)(70,"h5",31),C(71,"Finalizar Turno"),v(),ne(72,"button",19),v(),E(73,"div",20)(74,"label",32),C(75,"Comentario de finalizaci\xF3n:"),v(),E(76,"textarea",33),wn("ngModelChange",function(o){return xn(r.comentarioFinalizacion,o)||(r.comentarioFinalizacion=o),o}),v()(),E(77,"div",23)(78,"button",24),C(79,"Cerrar"),v(),E(80,"button",34),te("click",function(){return r.confirmarFinalizacion()}),C(81,"Confirmar Finalizaci\xF3n"),v()()()()(),E(82,"div",35)(83,"div",15)(84,"div",16)(85,"div",17)(86,"h5",36),C(87,"Rese\xF1a del Turno"),v(),ne(88,"button",19),v(),E(89,"div",20)(90,"p")(91,"strong"),C(92,"Comentario:"),v(),C(93),v(),ee(94,Ese,4,1,"p",37),v(),E(95,"div",23)(96,"button",24),C(97,"Cerrar"),v()()()()()),n&2&&(T(7),_n("ngModel",r.filtroEspecialidad),T(4),_n("ngModel",r.filtroPaciente),T(),j("ngIf",r.turnos.length===0),T(18),j("ngForOf",Bi(31,9,r.turnosFiltrados,ns(12,mse,r.pageSize,r.page))),T(14),_n("ngModel",r.comentarioCancelacion),T(16),_n("ngModel",r.comentarioRechazo),T(16),_n("ngModel",r.comentarioFinalizacion),T(17),ze(" ",r.comentarioSeleccionado,""),T(),j("ngIf",r.comentarioCalificacion))},dependencies:[_a,Tn,Jn,zc,Et,ha,nn,vt,Au,Yd,Kd,Qd],styles:[".container[_ngcontent-%COMP%]{background:#ffffffe6;border-radius:8px;padding:30px;box-shadow:0 4px 10px #0000001a}h3[_ngcontent-%COMP%]{text-align:center;font-size:1.8rem;font-weight:700;color:#1e1e1e;margin-bottom:1rem}#especialidadFiltro[_ngcontent-%COMP%], #pacienteFiltro[_ngcontent-%COMP%]{background-color:#ffffffd9;border:1px solid #ccc;border-radius:4px;color:#333;box-shadow:0 1px 3px #0000001a}.table[_ngcontent-%COMP%]{background-color:#ffffffd9;border-radius:8px;overflow:hidden}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;padding:12px 15px}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#007bff1a}.table-bordered[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:#ddd}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 5px;border-radius:5px;box-shadow:0 2px 4px #0000001a}.pagination[_ngcontent-%COMP%]{justify-content:center}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 5px}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#007bff;border-radius:50%;padding:8px 14px;border:none;box-shadow:0 1px 3px #0000001a}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:#007bff33}.modal-content[_ngcontent-%COMP%]{border-radius:8px;background-color:#ffffffe6;box-shadow:0 4px 10px #00000026}.modal-header[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-top-left-radius:8px;border-top-right-radius:8px}.modal-body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #ddd;background-color:#f8f9fa;box-shadow:0 1px 3px #0000001a}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:5px}@media (max-width: 768px){.table-responsive[_ngcontent-%COMP%]{margin-top:15px}}"]})};function Cse(t,e){t&1&&ne(0,"app-turnos-paciente")}function Sse(t,e){t&1&&ne(0,"app-turnos-especialista")}var xw=class t{isPaciente=!1;constructor(){}ngOnInit(){let e=localStorage.getItem("user");if(e){let n=JSON.parse(e);this.isPaciente=!!n.obraSocial}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Be({type:t,selectors:[["app-mis-turnos"]],standalone:!0,features:[Je],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(n,r){n&1&&ee(0,Cse,1,0,"app-turnos-paciente",0)(1,Sse,1,0,"app-turnos-especialista",0),n&2&&(j("ngIf",r.isPaciente),T(),j("ngIf",!r.isPaciente))},dependencies:[Sw,Et,vt,Iw]})};var Ise=(t,e)=>({itemsPerPage:t,currentPage:e}),xse=(t,e,n,r,i)=>({"text-success":t,"text-warning":e,"text-danger":n,"text-primary":r,"text-secondary":i});function Tse(t,e){if(t&1){let n=Ze();E(0,"div",25)(1,"button",26),te("click",function(){Re(n);let i=X().$implicit,o=X();return Me(o.cancelarTurno(i.id))}),ne(2,"i",27),C(3," Cancelar "),v()()}}function Ase(t,e){if(t&1&&(E(0,"tr")(1,"td"),C(2),v(),E(3,"td"),C(4),v(),E(5,"td"),C(6),v(),E(7,"td"),C(8),v(),E(9,"td")(10,"span",23),C(11),Yn(12,"uppercase"),v()(),E(13,"td"),ee(14,Tse,4,0,"div",24),v()()),t&2){let n=e.$implicit;T(2),be(n.especialidad),T(2),Qn("",n.paciente.nombre," ",n.paciente.apellido,""),T(2),be(n.dia),T(2),be(n.hora),T(2),j("ngClass",xu(10,xse,n.estado==="realizado",n.estado==="pendiente",n.estado==="cancelado",n.estado==="aceptado",n.estado==="rechazado")),T(),ze(" ",da(12,8,n.estado)," "),T(3),j("ngIf",n.estado==="pendiente")}}var Tw=class t{constructor(e,n){this.userService=e;this.turnoService=n}turnos=[];turnosFiltrados=[];filtroCombinado="";modal;turnoSeleccionadoId="";comentarioCancelacion="";page=1;pageSize=5;ngOnInit(){let e=localStorage.getItem("user");e&&(JSON.parse(e).isAdmin?this.turnoService.getTurnos().subscribe(r=>{this.turnos=r,this.turnosFiltrados=r,console.log("Turnos",this.turnos)}):console.log("Acceso denegado: El usuario no tiene permisos de administrador"))}filtrarTurnos(){this.turnosFiltrados=this.turnos.filter(e=>{let n=this.filtroCombinado.toLowerCase(),r=e.especialidad.toLowerCase().includes(n),i=(e.especialista.nombre.toLowerCase()+" "+e.especialista.apellido.toLowerCase()).includes(n);return r||i})}cancelarTurno(e){this.comentarioCancelacion="",this.turnoSeleccionadoId=e;let n=document.getElementById("cancelarTurnoModal");this.modal=new window.bootstrap.Modal(n),this.modal.show()}confirmarCancelacion(){this.userService.cancelarTurno(this.turnoSeleccionadoId,this.comentarioCancelacion).then(()=>{console.log("Turno cancelado"),this.modal.hide(),this.comentarioCancelacion="",this.turnosFiltrados=this.turnosFiltrados.filter(e=>e.id!==this.turnoSeleccionadoId)}).catch(e=>{console.error("Error al cancelar turno",e)})}static \u0275fac=function(n){return new(n||t)(K(Ci),K(Wd))};static \u0275cmp=Be({type:t,selectors:[["app-turnos-administrador"]],standalone:!0,features:[Je],decls:45,vars:9,consts:[[1,"container","mt-5"],[1,"row","mb-4"],[1,"col-12"],["for","filtroCombinado",1,"form-label"],["id","filtroCombinado","type","text","placeholder","Ej: Cardiolog\xEDa, Dr. Juan P\xE9rez",1,"form-control","form-control-sm",3,"ngModelChange","input","ngModel"],[1,"table-responsive"],[1,"table","table-hover","table-bordered"],[1,"thead-light"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],[3,"pageChange"],["id","cancelarTurnoModal","tabindex","-1","aria-labelledby","cancelarTurnoModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","cancelarTurnoModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["for","comentarioCancelacion"],["id","comentarioCancelacion","rows","3","placeholder","Escribe el motivo de la cancelaci\xF3n...",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],[3,"ngClass"],["class","btn-group",4,"ngIf"],[1,"btn-group"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-x-circle"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"h3"),C(2,"Turnos de la Cl\xEDnica"),v(),E(3,"div",1)(4,"div",2)(5,"label",3),C(6,"Filtrar por Especialidad o Especialista"),v(),E(7,"input",4),wn("ngModelChange",function(o){return xn(r.filtroCombinado,o)||(r.filtroCombinado=o),o}),te("input",function(){return r.filtrarTurnos()}),v()()(),E(8,"div",5)(9,"table",6)(10,"thead",7)(11,"tr")(12,"th"),C(13,"Especialidad"),v(),E(14,"th"),C(15,"Paciente"),v(),E(16,"th"),C(17,"Fecha"),v(),E(18,"th"),C(19,"Hora"),v(),E(20,"th"),C(21,"Estado"),v(),E(22,"th"),C(23,"Acciones"),v()()(),E(24,"tbody"),ee(25,Ase,15,16,"tr",8),Yn(26,"paginate"),v()()(),E(27,"div",9)(28,"pagination-controls",10),te("pageChange",function(o){return r.page=o}),v()()(),E(29,"div",11)(30,"div",12)(31,"div",13)(32,"div",14)(33,"h5",15),C(34,"Cancelar Turno"),v(),ne(35,"button",16),v(),E(36,"div",17)(37,"label",18),C(38,"Comentario de cancelaci\xF3n:"),v(),E(39,"textarea",19),wn("ngModelChange",function(o){return xn(r.comentarioCancelacion,o)||(r.comentarioCancelacion=o),o}),v()(),E(40,"div",20)(41,"button",21),C(42,"Cerrar"),v(),E(43,"button",22),te("click",function(){return r.confirmarCancelacion()}),C(44,"Confirmar Cancelaci\xF3n"),v()()()()()),n&2&&(T(7),_n("ngModel",r.filtroCombinado),T(18),j("ngForOf",Bi(26,3,r.turnosFiltrados,ns(6,Ise,r.pageSize,r.page))),T(14),_n("ngModel",r.comentarioCancelacion))},dependencies:[Et,ha,nn,vt,Au,_a,Tn,Jn,zc,Yd,Kd,Qd],styles:[".container[_ngcontent-%COMP%]{background:#fffc;border-radius:8px;padding:30px}h3[_ngcontent-%COMP%]{text-align:center;font-size:1.8rem;font-weight:700;color:#1e1e1e;margin-bottom:1rem}#filtroCombinado[_ngcontent-%COMP%]{background-color:#fffc;border:1px solid #ccc;border-radius:4px;color:#333;box-shadow:0 1px 3px #0000001a}.table[_ngcontent-%COMP%]{background-color:#ffffffd9;border-radius:8px;overflow:hidden}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;padding:12px 15px}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#007bff1a}.table-bordered[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:#ddd}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 5px;border-radius:5px;box-shadow:0 2px 4px #0000001a}pagination-controls[_ngcontent-%COMP%]{margin-top:20px}.pagination[_ngcontent-%COMP%]{justify-content:center}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 5px}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#007bff;border-radius:50%;padding:8px 14px;border:none;box-shadow:0 1px 3px #0000001a}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:#007bff33}.modal-content[_ngcontent-%COMP%]{border-radius:8px;background-color:#ffffffe6;box-shadow:0 4px 10px #00000026}.modal-header[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-top-left-radius:8px;border-top-right-radius:8px}.modal-body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #ddd;background-color:#f8f9fa;box-shadow:0 1px 3px #0000001a}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:5px}@media (max-width: 768px){.table-responsive[_ngcontent-%COMP%]{margin-top:15px}}"]})};var W4=[{path:"home",title:"Home",component:Zy},{path:"",redirectTo:"home",pathMatch:"full"},{path:"register",title:"Register",component:yw},{path:"login",title:"Login",component:vw},{path:"perfil",title:"Perfil",component:ww},{path:"usuarios",title:"Usuarios",component:Ew},{path:"solicitar-turno",title:"Solicitar Turno",component:Cw},{path:"mis-turnos",title:"Mis Turnos",component:xw},{path:"turnos",title:"Turnos",component:Tw}];var K4={projectId:"clinica-online-9aa96",appId:"1:439052174571:web:1456e09cacc106cf1eaaae",storageBucket:"clinica-online-9aa96.appspot.com",apiKey:"AIzaSyDrTHnOp6JR1tvhpz6Hqs-9BhY1HCwesRY",authDomain:"clinica-online-9aa96.firebaseapp.com",messagingSenderId:"439052174571"};var Q4={providers:[JP({eventCoalescing:!0}),dk(W4),_O(()=>wO(K4)),gF(()=>yF()),_L(()=>wL())]};function Dse(t,e){t&1&&(E(0,"li",6)(1,"a",9),C(2,"Iniciar Sesi\xF3n"),v()())}function Rse(t,e){t&1&&(E(0,"li",6)(1,"a",10),C(2,"Registrarse"),v()())}function Mse(t,e){t&1&&(E(0,"li",6)(1,"a",11),C(2,"Solicitar turno"),v()())}function Pse(t,e){t&1&&(E(0,"li",6)(1,"a",12),C(2,"Turnos"),v()())}function Nse(t,e){t&1&&(E(0,"li",6)(1,"a",13),C(2,"Perfil"),v()())}function kse(t,e){t&1&&(E(0,"li",6)(1,"a",14),C(2,"Usuarios"),v()())}function Ose(t,e){t&1&&(E(0,"li",6)(1,"a",15),C(2,"Mis turnos"),v()())}function Fse(t,e){if(t&1){let n=Ze();E(0,"li",6)(1,"button",16),te("click",function(){Re(n);let i=X();return Me(i.logout())}),C(2,"Cerrar Sesi\xF3n"),v()()}}var Aw=class t{constructor(e,n){this.authService=e;this.router=n;this.authService.user$.subscribe(r=>{if(this.userInLocalStorage=r,this.userInLocalStorage){let i=this.authService.getUser();i&&(i.isAdmin?this.isAdmin=!0:this.isAdmin=!1,i.obraSocial?this.isPaciente=!0:this.isPaciente=!1)}})}userInLocalStorage=!1;isAdmin=!1;isSpecialist=!1;isPaciente=!1;logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||t)(K(Gd),K(jn))};static \u0275cmp=Be({type:t,selectors:[["app-navbar"]],standalone:!0,features:[Je],decls:17,vars:8,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item","me-3"],["aria-current","page","routerLink","home",1,"nav-link","active","hover-effect"],["class","nav-item me-3",4,"ngIf"],["routerLink","login",1,"nav-link","hover-effect"],["routerLink","register",1,"nav-link","hover-effect"],["routerLink","solicitar-turno",1,"nav-link","hover-effect"],["routerLink","turnos",1,"nav-link","hover-effect"],["routerLink","perfil",1,"nav-link","hover-effect"],["routerLink","usuarios",1,"nav-link","hover-effect"],["routerLink","mis-turnos",1,"nav-link","hover-effect"],[1,"btn","btn-danger",3,"click"]],template:function(n,r){n&1&&(E(0,"nav",0)(1,"div",1)(2,"button",2),ne(3,"span",3),v(),E(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),C(8,"Inicio"),v()(),ee(9,Dse,3,0,"li",8)(10,Rse,3,0,"li",8)(11,Mse,3,0,"li",8)(12,Pse,3,0,"li",8)(13,Nse,3,0,"li",8)(14,kse,3,0,"li",8)(15,Ose,3,0,"li",8)(16,Fse,3,0,"li",8),v()()()()),n&2&&(T(9),j("ngIf",!r.userInLocalStorage),T(),j("ngIf",!r.userInLocalStorage),T(),j("ngIf",r.userInLocalStorage&&r.isPaciente||r.isAdmin),T(),j("ngIf",r.userInLocalStorage&&r.isAdmin),T(),j("ngIf",r.userInLocalStorage),T(),j("ngIf",r.userInLocalStorage&&r.isAdmin),T(),j("ngIf",r.userInLocalStorage&&!r.isAdmin),T(),j("ngIf",r.userInLocalStorage))},dependencies:[uk,vt],styles:[".hover-effect[_ngcontent-%COMP%]{transition:box-shadow .3s ease,background-color .3s ease}.hover-effect[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0003;background-color:#007bff1a;border-radius:10px}"]})};var Dw=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Be({type:t,selectors:[["app-footer"]],standalone:!0,features:[Je],decls:5,vars:0,consts:[[1,"nav","justify-content-center","flex-wrap"],[1,"nav-item"],["href","#",1,"nav-link"]],template:function(n,r){n&1&&(E(0,"footer")(1,"ul",0)(2,"li",1)(3,"a",2),C(4,"Repositorio de Github"),v()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;text-align:center;position:relative;bottom:0;width:100%}.nav[_ngcontent-%COMP%]{flex-wrap:wrap}.nav-link[_ngcontent-%COMP%]{margin:5px}"]})};var Rw=class t{title="clinica-online";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Be({type:t,selectors:[["app-root"]],standalone:!0,features:[Je],decls:4,vars:0,consts:[[1,"app-container"]],template:function(n,r){n&1&&(ne(0,"app-navbar"),E(1,"div",0),ne(2,"router-outlet"),v(),ne(3,"app-footer"))},dependencies:[oS,Aw,Dw],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}.app-container[_ngcontent-%COMP%]{min-height:calc(100vh - 152px);display:flex;flex-direction:column;background:url("./media/fondo-clinica-RSVOCLWJ.jpg") no-repeat center center;background-size:cover}app-footer[_ngcontent-%COMP%]{flex-shrink:0}']})};TN(Rw,Q4).catch(t=>console.error(t));
