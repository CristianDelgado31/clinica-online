var NU=Object.create;var Py=Object.defineProperty,MU=Object.defineProperties,PU=Object.getOwnPropertyDescriptor,kU=Object.getOwnPropertyDescriptors,OU=Object.getOwnPropertyNames,Ud=Object.getOwnPropertySymbols,Tx=Object.getPrototypeOf,ky=Object.prototype.hasOwnProperty,Dx=Object.prototype.propertyIsEnumerable,FU=Reflect.get;var My=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t);var Ax=(t,e,n)=>e in t?Py(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E=(t,e)=>{for(var n in e||={})ky.call(e,n)&&Ax(t,n,e[n]);if(Ud)for(var n of Ud(e))Dx.call(e,n)&&Ax(t,n,e[n]);return t},O=(t,e)=>MU(t,kU(e));var Fs=(t,e)=>{var n={};for(var r in t)ky.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ud)for(var r of Ud(t))e.indexOf(r)<0&&Dx.call(t,r)&&(n[r]=t[r]);return n};var Tn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var LU=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of OU(e))!ky.call(t,i)&&i!==n&&Py(t,i,{get:()=>e[i],enumerable:!(r=PU(e,i))||r.enumerable});return t};var Oy=(t,e,n)=>(n=t!=null?NU(Tx(t)):{},LU(e||!t||!t.__esModule?Py(n,"default",{value:t,enumerable:!0}):n,t));var _r=(t,e,n)=>FU(Tx(t),n,e);var g=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())}),pt=function(t,e){this[0]=t,this[1]=e},yn=(t,e,n)=>{var r=(o,a,c,u)=>{try{var d=n[o](a),h=(a=d.value)instanceof pt,m=d.done;Promise.resolve(h?a[0]:a).then(y=>h?r(o==="return"?o:"next",a[1]?{done:y.done,value:y.value}:y,c,u):c({value:y,done:m})).catch(y=>r("throw",y,c,u))}catch(y){u(y)}},i=o=>s[o]=a=>new Promise((c,u)=>r(o,a,c,u)),s={};return n=n.apply(t,e),s[My("asyncIterator")]=()=>s,i("next"),i("throw"),i("return"),s};var Xr=(t,e,n)=>(e=t[My("asyncIterator")])?e.call(t):(t=t[My("iterator")](),e={},n=(r,i)=>(i=t[r])&&(e[r]=s=>new Promise((o,a,c)=>(s=i.call(t,s),c=s.done,Promise.resolve(s.value).then(u=>o({value:u,done:c}),a)))),n("next"),n("return"),e);var Lm=Tn(ki=>{"use strict";var Q1=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",X7=Q1+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Y1="["+Q1+"]["+X7+"]*",J7=new RegExp("^"+Y1+"$"),eQ=function(t,e){let n=[],r=e.exec(t);for(;r;){let i=[];i.startIndex=e.lastIndex-r[0].length;let s=r.length;for(let o=0;o<s;o++)i.push(r[o]);n.push(i),r=e.exec(t)}return n},tQ=function(t){let e=J7.exec(t);return!(e===null||typeof e>"u")};ki.isExist=function(t){return typeof t<"u"};ki.isEmptyObject=function(t){return Object.keys(t).length===0};ki.merge=function(t,e,n){if(e){let r=Object.keys(e),i=r.length;for(let s=0;s<i;s++)n==="strict"?t[r[s]]=[e[r[s]]]:t[r[s]]=e[r[s]]}};ki.getValue=function(t){return ki.isExist(t)?t:""};ki.isName=tQ;ki.getAllMatches=eQ;ki.nameRegexp=Y1});var XC=Tn(tF=>{"use strict";var ZC=Lm(),nQ={allowBooleanAttributes:!1,unpairedTags:[]};tF.validate=function(t,e){e=Object.assign({},nQ,e);let n=[],r=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let s=0;s<t.length;s++)if(t[s]==="<"&&t[s+1]==="?"){if(s+=2,s=X1(t,s),s.err)return s}else if(t[s]==="<"){let o=s;if(s++,t[s]==="!"){s=J1(t,s);continue}else{let a=!1;t[s]==="/"&&(a=!0,s++);let c="";for(;s<t.length&&t[s]!==">"&&t[s]!==" "&&t[s]!=="	"&&t[s]!==`
`&&t[s]!=="\r";s++)c+=t[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!uQ(c)){let h;return c.trim().length===0?h="Invalid space after '<'.":h="Tag '"+c+"' is an invalid name.",ft("InvalidTag",h,fn(t,s))}let u=sQ(t,s);if(u===!1)return ft("InvalidAttr","Attributes for '"+c+"' have open quote.",fn(t,s));let d=u.value;if(s=u.index,d[d.length-1]==="/"){let h=s-d.length;d=d.substring(0,d.length-1);let m=eF(d,e);if(m===!0)r=!0;else return ft(m.err.code,m.err.msg,fn(t,h+m.err.line))}else if(a)if(u.tagClosed){if(d.trim().length>0)return ft("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",fn(t,o));if(n.length===0)return ft("InvalidTag","Closing tag '"+c+"' has not been opened.",fn(t,o));{let h=n.pop();if(c!==h.tagName){let m=fn(t,h.tagStartPos);return ft("InvalidTag","Expected closing tag '"+h.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+c+"'.",fn(t,o))}n.length==0&&(i=!0)}}else return ft("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",fn(t,s));else{let h=eF(d,e);if(h!==!0)return ft(h.err.code,h.err.msg,fn(t,s-d.length+h.err.line));if(i===!0)return ft("InvalidXml","Multiple possible root nodes found.",fn(t,s));e.unpairedTags.indexOf(c)!==-1||n.push({tagName:c,tagStartPos:o}),r=!0}for(s++;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="!"){s++,s=J1(t,s);continue}else if(t[s+1]==="?"){if(s=X1(t,++s),s.err)return s}else break;else if(t[s]==="&"){let h=cQ(t,s);if(h==-1)return ft("InvalidChar","char '&' is not expected.",fn(t,s));s=h}else if(i===!0&&!Z1(t[s]))return ft("InvalidXml","Extra text at the end",fn(t,s));t[s]==="<"&&s--}}else{if(Z1(t[s]))continue;return ft("InvalidChar","char '"+t[s]+"' is not expected.",fn(t,s))}if(r){if(n.length==1)return ft("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",fn(t,n[0].tagStartPos));if(n.length>0)return ft("InvalidXml","Invalid '"+JSON.stringify(n.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ft("InvalidXml","Start tag expected.",1);return!0};function Z1(t){return t===" "||t==="	"||t===`
`||t==="\r"}function X1(t,e){let n=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let r=t.substr(n,e-n);if(e>5&&r==="xml")return ft("InvalidXml","XML declaration allowed only at the start of the document.",fn(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function J1(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let n=1;for(e+=8;e<t.length;e++)if(t[e]==="<")n++;else if(t[e]===">"&&(n--,n===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}var rQ='"',iQ="'";function sQ(t,e){let n="",r="",i=!1;for(;e<t.length;e++){if(t[e]===rQ||t[e]===iQ)r===""?r=t[e]:r!==t[e]||(r="");else if(t[e]===">"&&r===""){i=!0;break}n+=t[e]}return r!==""?!1:{value:n,index:e,tagClosed:i}}var oQ=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function eF(t,e){let n=ZC.getAllMatches(t,oQ),r={};for(let i=0;i<n.length;i++){if(n[i][1].length===0)return ft("InvalidAttr","Attribute '"+n[i][2]+"' has no space in starting.",od(n[i]));if(n[i][3]!==void 0&&n[i][4]===void 0)return ft("InvalidAttr","Attribute '"+n[i][2]+"' is without value.",od(n[i]));if(n[i][3]===void 0&&!e.allowBooleanAttributes)return ft("InvalidAttr","boolean attribute '"+n[i][2]+"' is not allowed.",od(n[i]));let s=n[i][2];if(!lQ(s))return ft("InvalidAttr","Attribute '"+s+"' is an invalid name.",od(n[i]));if(!r.hasOwnProperty(s))r[s]=1;else return ft("InvalidAttr","Attribute '"+s+"' is repeated.",od(n[i]))}return!0}function aQ(t,e){let n=/\d/;for(t[e]==="x"&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(n))break}return-1}function cQ(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,aQ(t,e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(t[e]===";")break;return-1}return e}function ft(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function lQ(t){return ZC.isName(t)}function uQ(t){return ZC.isName(t)}function fn(t,e){let n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function od(t){return t.startIndex+t[1].length}});var rF=Tn(JC=>{"use strict";var nF={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}},dQ=function(t){return Object.assign({},nF,t)};JC.buildOptions=dQ;JC.defaultOptions=nF});var sF=Tn((G_e,iF)=>{"use strict";var eI=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,n){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:n})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};iF.exports=eI});var aF=Tn((W_e,oF)=>{"use strict";var fQ=Lm();function hQ(t,e){let n={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let r=1,i=!1,s=!1,o="";for(;e<t.length;e++)if(t[e]==="<"&&!s){if(i&&gQ(t,e))e+=7,[entityName,val,e]=pQ(t,e+1),val.indexOf("&")===-1&&(n[EQ(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(i&&yQ(t,e))e+=8;else if(i&&vQ(t,e))e+=8;else if(i&&_Q(t,e))e+=9;else if(mQ)s=!0;else throw new Error("Invalid DOCTYPE");r++,o=""}else if(t[e]===">"){if(s?t[e-1]==="-"&&t[e-2]==="-"&&(s=!1,r--):r--,r===0)break}else t[e]==="["?i=!0:o+=t[e];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:e}}function pQ(t,e){let n="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)n+=t[e];if(n=n.trim(),n.indexOf(" ")!==-1)throw new Error("External entites are not supported");let r=t[e++],i="";for(;e<t.length&&t[e]!==r;e++)i+=t[e];return[n,i,e]}function mQ(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function gQ(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function yQ(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function vQ(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function _Q(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function EQ(t){if(fQ.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}oF.exports=hQ});var lF=Tn((K_e,cF)=>{"use strict";var wQ=/^[-+]?0x[a-fA-F0-9]+$/,bQ=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var CQ={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function IQ(t,e={}){if(e=Object.assign({},CQ,e),!t||typeof t!="string")return t;let n=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(n))return t;if(e.hex&&wQ.test(n))return Number.parseInt(n,16);{let r=bQ.exec(n);if(r){let i=r[1],s=r[2],o=SQ(r[3]),a=r[4]||r[6];if(!e.leadingZeros&&s.length>0&&i&&n[2]!==".")return t;if(!e.leadingZeros&&s.length>0&&!i&&n[1]!==".")return t;{let c=Number(n),u=""+c;return u.search(/[eE]/)!==-1||a?e.eNotation?c:t:n.indexOf(".")!==-1?u==="0"&&o===""||u===o||i&&u==="-"+o?c:t:s?o===u||i+o===u?c:t:n===u||n===i+u?c:t}}else return t}}function SQ(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}cF.exports=IQ});var fF=Tn((Q_e,dF)=>{"use strict";var uF=Lm(),ad=sF(),xQ=aF(),AQ=lF(),tI=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,16))}},this.addExternalEntities=TQ,this.parseXml=PQ,this.parseTextData=DQ,this.resolveNameSpace=RQ,this.buildAttributesMap=MQ,this.isItStopNode=LQ,this.replaceEntitiesValue=OQ,this.readStopNodeData=BQ,this.saveTextToParentTag=FQ,this.addChild=kQ}};function TQ(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function DQ(t,e,n,r,i,s,o){if(t!==void 0&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){o||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,n,i,s);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?rI(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?rI(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function RQ(t){if(this.options.removeNSPrefix){let e=t.split(":"),n=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=n+e[1])}return t}var NQ=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function MQ(t,e,n){if(!this.options.ignoreAttributes&&typeof t=="string"){let r=uF.getAllMatches(t,NQ),i=r.length,s={};for(let o=0;o<i;o++){let a=this.resolveNameSpace(r[o][1]),c=r[o][4],u=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let d=this.options.attributeValueProcessor(a,c,e);d==null?s[u]=c:typeof d!=typeof c||d!==c?s[u]=d:s[u]=rI(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[u]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let o={};return o[this.options.attributesGroupName]=s,o}return s}}var PQ=function(t){t=t.replace(/\r\n?/g,`
`);let e=new ad("!xml"),n=e,r="",i="";for(let s=0;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="/"){let a=Oo(t,">",s,"Closing Tag is not closed."),c=t.substring(s+2,a).trim();if(this.options.removeNSPrefix){let h=c.indexOf(":");h!==-1&&(c=c.substr(h+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&(r=this.saveTextToParentTag(r,n,i));let u=i.substring(i.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let d=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(d=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=i.lastIndexOf("."),i=i.substring(0,d),n=this.tagsNodeStack.pop(),r="",s=a}else if(t[s+1]==="?"){let a=nI(t,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new ad(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(n,c,i)}s=a.closeIndex+1}else if(t.substr(s+1,3)==="!--"){let a=Oo(t,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=t.substring(s+4,a-2);r=this.saveTextToParentTag(r,n,i),n.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(t.substr(s+1,2)==="!D"){let a=xQ(t,s);this.docTypeEntities=a.entities,s=a.i}else if(t.substr(s+1,2)==="!["){let a=Oo(t,"]]>",s,"CDATA is not closed.")-2,c=t.substring(s+9,a);r=this.saveTextToParentTag(r,n,i);let u=this.parseTextData(c,n.tagname,i,!0,!1,!0,!0);u==null&&(u=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):n.add(this.options.textNodeName,u),s=a+2}else{let a=nI(t,s,this.options.removeNSPrefix),c=a.tagName,u=a.rawTagName,d=a.tagExp,h=a.attrExpPresent,m=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,i,!1));let y=n;if(y&&this.options.unpairedTags.indexOf(y.tagname)!==-1&&(n=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),c!==e.tagname&&(i+=i?"."+c:c),this.isItStopNode(this.options.stopNodes,i,c)){let _="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),d=c):d=d.substr(0,d.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let x=this.readStopNodeData(t,u,m+1);if(!x)throw new Error(`Unexpected end of ${u}`);s=x.i,_=x.tagContent}let D=new ad(c);c!==d&&h&&(D[":@"]=this.buildAttributesMap(d,i,c)),_&&(_=this.parseTextData(_,c,i,!0,h,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),D.add(this.options.textNodeName,_),this.addChild(n,D,i)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let _=new ad(c);c!==d&&h&&(_[":@"]=this.buildAttributesMap(d,i,c)),this.addChild(n,_,i),i=i.substr(0,i.lastIndexOf("."))}else{let _=new ad(c);this.tagsNodeStack.push(n),c!==d&&h&&(_[":@"]=this.buildAttributesMap(d,i,c)),this.addChild(n,_,i),n=_}r="",s=m}}else r+=t[s];return e.child};function kQ(t,e,n){let r=this.options.updateTag(e.tagname,n,e[":@"]);r===!1||(typeof r=="string"&&(e.tagname=r),t.addChild(e))}var OQ=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){let n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function FQ(t,e,n,r){return t&&(r===void 0&&(r=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,n,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,r),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function LQ(t,e,n){let r="*."+n;for(let i in t){let s=t[i];if(r===s||e===s)return!0}return!1}function VQ(t,e,n=">"){let r,i="";for(let s=e;s<t.length;s++){let o=t[s];if(r)o===r&&(r="");else if(o==='"'||o==="'")r=o;else if(o===n[0])if(n[1]){if(t[s+1]===n[1])return{data:i,index:s}}else return{data:i,index:s};else o==="	"&&(o=" ");i+=o}}function Oo(t,e,n,r){let i=t.indexOf(e,n);if(i===-1)throw new Error(r);return i+e.length-1}function nI(t,e,n,r=">"){let i=VQ(t,e+1,r);if(!i)return;let s=i.data,o=i.index,a=s.search(/\s/),c=s,u=!0;a!==-1&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());let d=c;if(n){let h=c.indexOf(":");h!==-1&&(c=c.substr(h+1),u=c!==i.data.substr(h+1))}return{tagName:c,tagExp:s,closeIndex:o,attrExpPresent:u,rawTagName:d}}function BQ(t,e,n){let r=n,i=1;for(;n<t.length;n++)if(t[n]==="<")if(t[n+1]==="/"){let s=Oo(t,">",n,`${e} is not closed`);if(t.substring(n+2,s).trim()===e&&(i--,i===0))return{tagContent:t.substring(r,n),i:s};n=s}else if(t[n+1]==="?")n=Oo(t,"?>",n+1,"StopNode is not closed.");else if(t.substr(n+1,3)==="!--")n=Oo(t,"-->",n+3,"StopNode is not closed.");else if(t.substr(n+1,2)==="![")n=Oo(t,"]]>",n,"StopNode is not closed.")-2;else{let s=nI(t,n,">");s&&((s&&s.tagName)===e&&s.tagExp[s.tagExp.length-1]!=="/"&&i++,n=s.closeIndex)}}function rI(t,e,n){if(e&&typeof t=="string"){let r=t.trim();return r==="true"?!0:r==="false"?!1:AQ(t,n)}else return uF.isExist(t)?t:""}dF.exports=tI});var mF=Tn(pF=>{"use strict";function UQ(t,e){return hF(t,e)}function hF(t,e,n){let r,i={};for(let s=0;s<t.length;s++){let o=t[s],a=jQ(o),c="";if(n===void 0?c=a:c=n+"."+a,a===e.textNodeName)r===void 0?r=o[a]:r+=""+o[a];else{if(a===void 0)continue;if(o[a]){let u=hF(o[a],e,c),d=HQ(u,e);o[":@"]?$Q(u,o[":@"],c,e):Object.keys(u).length===1&&u[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?u=u[e.textNodeName]:Object.keys(u).length===0&&(e.alwaysCreateTextNode?u[e.textNodeName]="":u=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(u)):e.isArray(a,c,d)?i[a]=[u]:i[a]=u}}}return typeof r=="string"?r.length>0&&(i[e.textNodeName]=r):r!==void 0&&(i[e.textNodeName]=r),i}function jQ(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];if(r!==":@")return r}}function $Q(t,e,n,r){if(e){let i=Object.keys(e),s=i.length;for(let o=0;o<s;o++){let a=i[o];r.isArray(a,n+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function HQ(t,e){let{textNodeName:n}=e,r=Object.keys(t).length;return!!(r===0||r===1&&(t[n]||typeof t[n]=="boolean"||t[n]===0))}pF.prettify=UQ});var yF=Tn((Z_e,gF)=>{"use strict";var{buildOptions:qQ}=rF(),zQ=fF(),{prettify:GQ}=mF(),WQ=XC(),iI=class{constructor(e){this.externalEntities={},this.options=qQ(e)}parse(e,n){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});let s=WQ.validate(e,n);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let r=new zQ(this.options);r.addExternalEntities(this.externalEntities);let i=r.parseXml(e);return this.options.preserveOrder||i===void 0?i:GQ(i,this.options)}addEntity(e,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=n}};gF.exports=iI});var bF=Tn((X_e,wF)=>{"use strict";var KQ=`
`;function QQ(t,e){let n="";return e.format&&e.indentBy.length>0&&(n=KQ),_F(t,e,"",n)}function _F(t,e,n,r){let i="",s=!1;for(let o=0;o<t.length;o++){let a=t[o],c=YQ(a);if(c===void 0)continue;let u="";if(n.length===0?u=c:u=`${n}.${c}`,c===e.textNodeName){let _=a[c];ZQ(u,e)||(_=e.tagValueProcessor(c,_),_=EF(_,e)),s&&(i+=r),i+=_,s=!1;continue}else if(c===e.cdataPropName){s&&(i+=r),i+=`<![CDATA[${a[c][0][e.textNodeName]}]]>`,s=!1;continue}else if(c===e.commentPropName){i+=r+`<!--${a[c][0][e.textNodeName]}-->`,s=!0;continue}else if(c[0]==="?"){let _=vF(a[":@"],e),D=c==="?xml"?"":r,x=a[c][0][e.textNodeName];x=x.length!==0?" "+x:"",i+=D+`<${c}${x}${_}?>`,s=!0;continue}let d=r;d!==""&&(d+=e.indentBy);let h=vF(a[":@"],e),m=r+`<${c}${h}`,y=_F(a[c],e,u,d);e.unpairedTags.indexOf(c)!==-1?e.suppressUnpairedNode?i+=m+">":i+=m+"/>":(!y||y.length===0)&&e.suppressEmptyNode?i+=m+"/>":y&&y.endsWith(">")?i+=m+`>${y}${r}</${c}>`:(i+=m+">",y&&r!==""&&(y.includes("/>")||y.includes("</"))?i+=r+e.indentBy+y+r:i+=y,i+=`</${c}>`),s=!0}return i}function YQ(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];if(t.hasOwnProperty(r)&&r!==":@")return r}}function vF(t,e){let n="";if(t&&!e.ignoreAttributes)for(let r in t){if(!t.hasOwnProperty(r))continue;let i=e.attributeValueProcessor(r,t[r]);i=EF(i,e),i===!0&&e.suppressBooleanAttributes?n+=` ${r.substr(e.attributeNamePrefix.length)}`:n+=` ${r.substr(e.attributeNamePrefix.length)}="${i}"`}return n}function ZQ(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let n=t.substr(t.lastIndexOf(".")+1);for(let r in e.stopNodes)if(e.stopNodes[r]===t||e.stopNodes[r]==="*."+n)return!0;return!1}function EF(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){let r=e.entities[n];t=t.replace(r.regex,r.val)}return t}wF.exports=QQ});var IF=Tn((J_e,CF)=>{"use strict";var XQ=bF(),JQ={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Is(t){this.options=Object.assign({},JQ,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=nY),this.processTextOrObjNode=eY,this.options.format?(this.indentate=tY,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Is.prototype.build=function(t){return this.options.preserveOrder?XQ(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};Is.prototype.j2x=function(t,e){let n="",r="";for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i))if(typeof t[i]>"u")this.isAttribute(i)&&(r+="");else if(t[i]===null)this.isAttribute(i)?r+="":i[0]==="?"?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)r+=this.buildTextValNode(t[i],i,"",e);else if(typeof t[i]!="object"){let s=this.isAttribute(i);if(s)n+=this.buildAttrPairStr(s,""+t[i]);else if(i===this.options.textNodeName){let o=this.options.tagValueProcessor(i,""+t[i]);r+=this.replaceEntitiesValue(o)}else r+=this.buildTextValNode(t[i],i,"",e)}else if(Array.isArray(t[i])){let s=t[i].length,o="",a="";for(let c=0;c<s;c++){let u=t[i][c];if(!(typeof u>"u"))if(u===null)i[0]==="?"?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(typeof u=="object")if(this.options.oneListGroup){let d=this.j2x(u,e+1);o+=d.val,this.options.attributesGroupName&&u.hasOwnProperty(this.options.attributesGroupName)&&(a+=d.attrStr)}else o+=this.processTextOrObjNode(u,i,e);else if(this.options.oneListGroup){let d=this.options.tagValueProcessor(i,u);d=this.replaceEntitiesValue(d),o+=d}else o+=this.buildTextValNode(u,i,"",e)}this.options.oneListGroup&&(o=this.buildObjectNode(o,i,a,e)),r+=o}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){let s=Object.keys(t[i]),o=s.length;for(let a=0;a<o;a++)n+=this.buildAttrPairStr(s[a],""+t[i][s[a]])}else r+=this.processTextOrObjNode(t[i],i,e);return{attrStr:n,val:r}};Is.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function eY(t,e,n){let r=this.j2x(t,n+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,r.attrStr,n):this.buildObjectNode(r.val,e,r.attrStr,n)}Is.prototype.buildObjectNode=function(t,e,n,r){if(t==="")return e[0]==="?"?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar;{let i="</"+e+this.tagEndChar,s="";return e[0]==="?"&&(s="?",i=""),(n||n==="")&&t.indexOf("<")===-1?this.indentate(r)+"<"+e+n+s+">"+t+i:this.options.commentPropName!==!1&&e===this.options.commentPropName&&s.length===0?this.indentate(r)+`<!--${t}-->`+this.newLine:this.indentate(r)+"<"+e+n+s+this.tagEndChar+t+this.indentate(r)+i}};Is.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};Is.prototype.buildTextValNode=function(t,e,n,r){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(r)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(r)+"<"+e+n+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),i===""?this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(r)+"<"+e+n+">"+i+"</"+e+this.tagEndChar}};Is.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t};function tY(t){return this.options.indentBy.repeat(t)}function nY(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}CF.exports=Is});var xF=Tn((eEe,SF)=>{"use strict";var rY=XC(),iY=yF(),sY=IF();SF.exports={XMLParser:iY,XMLValidator:rY,XMLBuilder:sY}});var CS=Tn((Ed,bS)=>{"use strict";(function(t,e){typeof Ed=="object"&&typeof bS=="object"?bS.exports=e():typeof define=="function"&&define.amd?define([],e):typeof Ed=="object"?Ed.bowser=e():t.bowser=e()})(Ed,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(r,i,s){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:s})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var o in r)n.d(s,o,function(a){return r[a]}.bind(null,o));return s},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=90)}({17:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(18),i=function(){function s(){}return s.getFirstMatch=function(o,a){var c=a.match(o);return c&&c.length>0&&c[1]||""},s.getSecondMatch=function(o,a){var c=a.match(o);return c&&c.length>1&&c[2]||""},s.matchAndReturnConst=function(o,a,c){if(o.test(a))return c},s.getWindowsVersionName=function(o){switch(o){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},s.getMacOSVersionName=function(o){var a=o.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(a.push(0),a[0]===10)switch(a[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},s.getAndroidVersionName=function(o){var a=o.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(a.push(0),!(a[0]===1&&a[1]<5))return a[0]===1&&a[1]<6?"Cupcake":a[0]===1&&a[1]>=6?"Donut":a[0]===2&&a[1]<2?"Eclair":a[0]===2&&a[1]===2?"Froyo":a[0]===2&&a[1]>2?"Gingerbread":a[0]===3?"Honeycomb":a[0]===4&&a[1]<1?"Ice Cream Sandwich":a[0]===4&&a[1]<4?"Jelly Bean":a[0]===4&&a[1]>=4?"KitKat":a[0]===5?"Lollipop":a[0]===6?"Marshmallow":a[0]===7?"Nougat":a[0]===8?"Oreo":a[0]===9?"Pie":void 0},s.getVersionPrecision=function(o){return o.split(".").length},s.compareVersions=function(o,a,c){c===void 0&&(c=!1);var u=s.getVersionPrecision(o),d=s.getVersionPrecision(a),h=Math.max(u,d),m=0,y=s.map([o,a],function(_){var D=h-s.getVersionPrecision(_),x=_+new Array(D+1).join(".0");return s.map(x.split("."),function(k){return new Array(20-k.length).join("0")+k}).reverse()});for(c&&(m=h-Math.min(u,d)),h-=1;h>=m;){if(y[0][h]>y[1][h])return 1;if(y[0][h]===y[1][h]){if(h===m)return 0;h-=1}else if(y[0][h]<y[1][h])return-1}},s.map=function(o,a){var c,u=[];if(Array.prototype.map)return Array.prototype.map.call(o,a);for(c=0;c<o.length;c+=1)u.push(a(o[c]));return u},s.find=function(o,a){var c,u;if(Array.prototype.find)return Array.prototype.find.call(o,a);for(c=0,u=o.length;c<u;c+=1){var d=o[c];if(a(d,c))return d}},s.assign=function(o){for(var a,c,u=o,d=arguments.length,h=new Array(d>1?d-1:0),m=1;m<d;m++)h[m-1]=arguments[m];if(Object.assign)return Object.assign.apply(Object,[o].concat(h));var y=function(){var _=h[a];typeof _=="object"&&_!==null&&Object.keys(_).forEach(function(D){u[D]=_[D]})};for(a=0,c=h.length;a<c;a+=1)y();return o},s.getBrowserAlias=function(o){return r.BROWSER_ALIASES_MAP[o]},s.getBrowserTypeByAlias=function(o){return r.BROWSER_MAP[o]||""},s}();e.default=i,t.exports=e.default},18:function(t,e,n){"use strict";e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},s=n(18);function o(c,u){for(var d=0;d<u.length;d++){var h=u[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}var a=function(){function c(){}var u,d,h;return c.getParser=function(m,y){if(y===void 0&&(y=!1),typeof m!="string")throw new Error("UserAgent should be a string");return new i.default(m,y)},c.parse=function(m){return new i.default(m).getResult()},u=c,h=[{key:"BROWSER_MAP",get:function(){return s.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return s.ENGINE_MAP}},{key:"OS_MAP",get:function(){return s.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return s.PLATFORMS_MAP}}],(d=null)&&o(u.prototype,d),h&&o(u,h),c}();e.default=a,t.exports=e.default},91:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=c(n(92)),i=c(n(93)),s=c(n(94)),o=c(n(95)),a=c(n(17));function c(d){return d&&d.__esModule?d:{default:d}}var u=function(){function d(m,y){if(y===void 0&&(y=!1),m==null||m==="")throw new Error("UserAgent parameter can't be empty");this._ua=m,this.parsedResult={},y!==!0&&this.parse()}var h=d.prototype;return h.getUA=function(){return this._ua},h.test=function(m){return m.test(this._ua)},h.parseBrowser=function(){var m=this;this.parsedResult.browser={};var y=a.default.find(r.default,function(_){if(typeof _.test=="function")return _.test(m);if(_.test instanceof Array)return _.test.some(function(D){return m.test(D)});throw new Error("Browser's test function is not valid")});return y&&(this.parsedResult.browser=y.describe(this.getUA())),this.parsedResult.browser},h.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},h.getBrowserName=function(m){return m?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},h.getBrowserVersion=function(){return this.getBrowser().version},h.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},h.parseOS=function(){var m=this;this.parsedResult.os={};var y=a.default.find(i.default,function(_){if(typeof _.test=="function")return _.test(m);if(_.test instanceof Array)return _.test.some(function(D){return m.test(D)});throw new Error("Browser's test function is not valid")});return y&&(this.parsedResult.os=y.describe(this.getUA())),this.parsedResult.os},h.getOSName=function(m){var y=this.getOS().name;return m?String(y).toLowerCase()||"":y||""},h.getOSVersion=function(){return this.getOS().version},h.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},h.getPlatformType=function(m){m===void 0&&(m=!1);var y=this.getPlatform().type;return m?String(y).toLowerCase()||"":y||""},h.parsePlatform=function(){var m=this;this.parsedResult.platform={};var y=a.default.find(s.default,function(_){if(typeof _.test=="function")return _.test(m);if(_.test instanceof Array)return _.test.some(function(D){return m.test(D)});throw new Error("Browser's test function is not valid")});return y&&(this.parsedResult.platform=y.describe(this.getUA())),this.parsedResult.platform},h.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},h.getEngineName=function(m){return m?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},h.parseEngine=function(){var m=this;this.parsedResult.engine={};var y=a.default.find(o.default,function(_){if(typeof _.test=="function")return _.test(m);if(_.test instanceof Array)return _.test.some(function(D){return m.test(D)});throw new Error("Browser's test function is not valid")});return y&&(this.parsedResult.engine=y.describe(this.getUA())),this.parsedResult.engine},h.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},h.getResult=function(){return a.default.assign({},this.parsedResult)},h.satisfies=function(m){var y=this,_={},D=0,x={},k=0;if(Object.keys(m).forEach(function(C){var S=m[C];typeof S=="string"?(x[C]=S,k+=1):typeof S=="object"&&(_[C]=S,D+=1)}),D>0){var j=Object.keys(_),G=a.default.find(j,function(C){return y.isOS(C)});if(G){var ee=this.satisfies(_[G]);if(ee!==void 0)return ee}var Ie=a.default.find(j,function(C){return y.isPlatform(C)});if(Ie){var re=this.satisfies(_[Ie]);if(re!==void 0)return re}}if(k>0){var T=Object.keys(x),b=a.default.find(T,function(C){return y.isBrowser(C,!0)});if(b!==void 0)return this.compareVersion(x[b])}},h.isBrowser=function(m,y){y===void 0&&(y=!1);var _=this.getBrowserName().toLowerCase(),D=m.toLowerCase(),x=a.default.getBrowserTypeByAlias(D);return y&&x&&(D=x.toLowerCase()),D===_},h.compareVersion=function(m){var y=[0],_=m,D=!1,x=this.getBrowserVersion();if(typeof x=="string")return m[0]===">"||m[0]==="<"?(_=m.substr(1),m[1]==="="?(D=!0,_=m.substr(2)):y=[],m[0]===">"?y.push(1):y.push(-1)):m[0]==="="?_=m.substr(1):m[0]==="~"&&(D=!0,_=m.substr(1)),y.indexOf(a.default.compareVersions(x,_,D))>-1},h.isOS=function(m){return this.getOSName(!0)===String(m).toLowerCase()},h.isPlatform=function(m){return this.getPlatformType(!0)===String(m).toLowerCase()},h.isEngine=function(m){return this.getEngineName(!0)===String(m).toLowerCase()},h.is=function(m,y){return y===void 0&&(y=!1),this.isBrowser(m,y)||this.isOS(m)||this.isPlatform(m)},h.some=function(m){var y=this;return m===void 0&&(m=[]),m.some(function(_){return y.is(_)})},d}();e.default=u,t.exports=e.default},92:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(a){var c={name:"Googlebot"},u=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/opera/i],describe:function(a){var c={name:"Opera"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/opr\/|opios/i],describe:function(a){var c={name:"Opera"},u=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/SamsungBrowser/i],describe:function(a){var c={name:"Samsung Internet for Android"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/Whale/i],describe:function(a){var c={name:"NAVER Whale Browser"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/MZBrowser/i],describe:function(a){var c={name:"MZ Browser"},u=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/focus/i],describe:function(a){var c={name:"Focus"},u=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/swing/i],describe:function(a){var c={name:"Swing"},u=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/coast/i],describe:function(a){var c={name:"Opera Coast"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(a){var c={name:"Opera Touch"},u=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/yabrowser/i],describe:function(a){var c={name:"Yandex Browser"},u=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/ucbrowser/i],describe:function(a){var c={name:"UC Browser"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/Maxthon|mxios/i],describe:function(a){var c={name:"Maxthon"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/epiphany/i],describe:function(a){var c={name:"Epiphany"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/puffin/i],describe:function(a){var c={name:"Puffin"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/sleipnir/i],describe:function(a){var c={name:"Sleipnir"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/k-meleon/i],describe:function(a){var c={name:"K-Meleon"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/micromessenger/i],describe:function(a){var c={name:"WeChat"},u=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/qqbrowser/i],describe:function(a){var c={name:/qqbrowserlite/i.test(a)?"QQ Browser Lite":"QQ Browser"},u=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/msie|trident/i],describe:function(a){var c={name:"Internet Explorer"},u=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/\sedg\//i],describe:function(a){var c={name:"Microsoft Edge"},u=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/edg([ea]|ios)/i],describe:function(a){var c={name:"Microsoft Edge"},u=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/vivaldi/i],describe:function(a){var c={name:"Vivaldi"},u=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/seamonkey/i],describe:function(a){var c={name:"SeaMonkey"},u=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/sailfish/i],describe:function(a){var c={name:"Sailfish"},u=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,a);return u&&(c.version=u),c}},{test:[/silk/i],describe:function(a){var c={name:"Amazon Silk"},u=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/phantom/i],describe:function(a){var c={name:"PhantomJS"},u=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/slimerjs/i],describe:function(a){var c={name:"SlimerJS"},u=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var c={name:"BlackBerry"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var c={name:"WebOS Browser"},u=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/bada/i],describe:function(a){var c={name:"Bada"},u=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/tizen/i],describe:function(a){var c={name:"Tizen"},u=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/qupzilla/i],describe:function(a){var c={name:"QupZilla"},u=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/firefox|iceweasel|fxios/i],describe:function(a){var c={name:"Firefox"},u=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/electron/i],describe:function(a){var c={name:"Electron"},u=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/MiuiBrowser/i],describe:function(a){var c={name:"Miui"},u=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/chromium/i],describe:function(a){var c={name:"Chromium"},u=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/chrome|crios|crmo/i],describe:function(a){var c={name:"Chrome"},u=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/GSA/i],describe:function(a){var c={name:"Google Search"},u=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:function(a){var c=!a.test(/like android/i),u=a.test(/android/i);return c&&u},describe:function(a){var c={name:"Android Browser"},u=i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/playstation 4/i],describe:function(a){var c={name:"PlayStation 4"},u=i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/safari|applewebkit/i],describe:function(a){var c={name:"Safari"},u=i.default.getFirstMatch(s,a);return u&&(c.version=u),c}},{test:[/.*/i],describe:function(a){var c=a.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(c,a),version:i.default.getSecondMatch(c,a)}}}];e.default=o,t.exports=e.default},93:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18),o=[{test:[/Roku\/DVP/],describe:function(a){var c=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,a);return{name:s.OS_MAP.Roku,version:c}}},{test:[/windows phone/i],describe:function(a){var c=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,a);return{name:s.OS_MAP.WindowsPhone,version:c}}},{test:[/windows /i],describe:function(a){var c=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,a),u=i.default.getWindowsVersionName(c);return{name:s.OS_MAP.Windows,version:c,versionName:u}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(a){var c={name:s.OS_MAP.iOS},u=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,a);return u&&(c.version=u),c}},{test:[/macintosh/i],describe:function(a){var c=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,a).replace(/[_\s]/g,"."),u=i.default.getMacOSVersionName(c),d={name:s.OS_MAP.MacOS,version:c};return u&&(d.versionName=u),d}},{test:[/(ipod|iphone|ipad)/i],describe:function(a){var c=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,a).replace(/[_\s]/g,".");return{name:s.OS_MAP.iOS,version:c}}},{test:function(a){var c=!a.test(/like android/i),u=a.test(/android/i);return c&&u},describe:function(a){var c=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,a),u=i.default.getAndroidVersionName(c),d={name:s.OS_MAP.Android,version:c};return u&&(d.versionName=u),d}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var c=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,a),u={name:s.OS_MAP.WebOS};return c&&c.length&&(u.version=c),u}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var c=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,a)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,a)||i.default.getFirstMatch(/\bbb(\d+)/i,a);return{name:s.OS_MAP.BlackBerry,version:c}}},{test:[/bada/i],describe:function(a){var c=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,a);return{name:s.OS_MAP.Bada,version:c}}},{test:[/tizen/i],describe:function(a){var c=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,a);return{name:s.OS_MAP.Tizen,version:c}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(a){var c=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,a);return{name:s.OS_MAP.PlayStation4,version:c}}}];e.default=o,t.exports=e.default},94:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(a){var c=i.default.getFirstMatch(/(can-l01)/i,a)&&"Nova",u={type:s.PLATFORMS_MAP.mobile,vendor:"Huawei"};return c&&(u.model=c),u}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(a){var c=a.test(/ipod|iphone/i),u=a.test(/like (ipod|iphone)/i);return c&&!u},describe:function(a){var c=i.default.getFirstMatch(/(ipod|iphone)/i,a);return{type:s.PLATFORMS_MAP.mobile,vendor:"Apple",model:c}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName(!0)==="blackberry"},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(a){return a.getBrowserName(!0)==="bada"},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName()==="windows phone"},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(a){var c=Number(String(a.getOSVersion()).split(".")[0]);return a.getOSName(!0)==="android"&&c>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(a){return a.getOSName(!0)==="android"},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getOSName(!0)==="macos"},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(a){return a.getOSName(!0)==="windows"},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="linux"},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="playstation 4"},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(a){return a.getOSName(!0)==="roku"},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];e.default=o,t.exports=e.default},95:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18),o=[{test:function(a){return a.getBrowserName(!0)==="microsoft edge"},describe:function(a){if(/\sedg\//i.test(a))return{name:s.ENGINE_MAP.Blink};var c=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,a);return{name:s.ENGINE_MAP.EdgeHTML,version:c}}},{test:[/trident/i],describe:function(a){var c={name:s.ENGINE_MAP.Trident},u=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:function(a){return a.test(/presto/i)},describe:function(a){var c={name:s.ENGINE_MAP.Presto},u=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:function(a){var c=a.test(/gecko/i),u=a.test(/like gecko/i);return c&&!u},describe:function(a){var c={name:s.ENGINE_MAP.Gecko},u=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(a){var c={name:s.ENGINE_MAP.WebKit},u=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}}];e.default=o,t.exports=e.default}})})});function Rx(t,e){return Object.is(t,e)}var Ct=null,jd=!1,$d=1,ji=Symbol("SIGNAL");function Le(t){let e=Ct;return Ct=t,e}function Nx(){return Ct}var fl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Vy(t){if(jd)throw new Error("");if(Ct===null)return;Ct.consumerOnSignalRead(t);let e=Ct.nextProducerIndex++;if(Gd(Ct),e<Ct.producerNode.length&&Ct.producerNode[e]!==t&&dl(Ct)){let n=Ct.producerNode[e];zd(n,Ct.producerIndexOfThis[e])}Ct.producerNode[e]!==t&&(Ct.producerNode[e]=t,Ct.producerIndexOfThis[e]=dl(Ct)?Ox(t,Ct,e):0),Ct.producerLastReadVersion[e]=t.version}function VU(){$d++}function Mx(t){if(!(dl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===$d)){if(!t.producerMustRecompute(t)&&!Uy(t)){t.dirty=!1,t.lastCleanEpoch=$d;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=$d}}function Px(t){if(t.liveConsumerNode===void 0)return;let e=jd;jd=!0;try{for(let n of t.liveConsumerNode)n.dirty||BU(n)}finally{jd=e}}function kx(){return Ct?.consumerAllowSignalWrites!==!1}function BU(t){t.dirty=!0,Px(t),t.consumerMarkedDirty?.(t)}function qd(t){return t&&(t.nextProducerIndex=0),Le(t)}function By(t,e){if(Le(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(dl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)zd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Uy(t){Gd(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Mx(n),r!==n.version))return!0}return!1}function jy(t){if(Gd(t),dl(t))for(let e=0;e<t.producerNode.length;e++)zd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ox(t,e,n){if(Fx(t),t.liveConsumerNode.length===0&&Lx(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Ox(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function zd(t,e){if(Fx(t),t.liveConsumerNode.length===1&&Lx(t))for(let r=0;r<t.producerNode.length;r++)zd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Gd(i),i.producerIndexOfThis[r]=e}}function dl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Gd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Fx(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Lx(t){return t.producerNode!==void 0}function Vx(t){let e=Object.create(UU);e.computation=t;let n=()=>{if(Mx(e),Vy(e),e.value===Hd)throw e.error;return e.value};return n[ji]=e,n}var Fy=Symbol("UNSET"),Ly=Symbol("COMPUTING"),Hd=Symbol("ERRORED"),UU=O(E({},fl),{value:Fy,dirty:!0,error:null,equal:Rx,producerMustRecompute(t){return t.value===Fy||t.value===Ly},producerRecomputeValue(t){if(t.value===Ly)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Ly;let n=qd(t),r;try{r=t.computation()}catch(i){r=Hd,t.error=i}finally{By(t,n)}if(e!==Fy&&e!==Hd&&r!==Hd&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function jU(){throw new Error}var Bx=jU;function Ux(){Bx()}function jx(t){Bx=t}var $U=null;function $x(t){let e=Object.create(qx);e.value=t;let n=()=>(Vy(e),e.value);return n[ji]=e,n}function $y(t,e){kx()||Ux(),t.equal(t.value,e)||(t.value=e,HU(t))}function Hx(t,e){kx()||Ux(),$y(t,e(t.value))}var qx=O(E({},fl),{equal:Rx,value:void 0});function HU(t){t.version++,VU(),Px(t),$U?.()}function ye(t){return typeof t=="function"}function Wo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Wd=Wo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ls(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var it=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ye(r))try{r()}catch(s){e=s instanceof Wd?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{zx(s)}catch(o){e=e??[],o instanceof Wd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Wd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)zx(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ls(n,e)}remove(e){let{_finalizers:n}=this;n&&Ls(n,e),e instanceof t&&e._removeParent(this)}};it.EMPTY=(()=>{let t=new it;return t.closed=!0,t})();var Hy=it.EMPTY;function Kd(t){return t instanceof it||t&&"closed"in t&&ye(t.remove)&&ye(t.add)&&ye(t.unsubscribe)}function zx(t){ye(t)?t():t.unsubscribe()}var tr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ko={setTimeout(t,e,...n){let{delegate:r}=Ko;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ko;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Qd(t){Ko.setTimeout(()=>{let{onUnhandledError:e}=tr;if(e)e(t);else throw t})}function hl(){}var Gx=qy("C",void 0,void 0);function Wx(t){return qy("E",void 0,t)}function Kx(t){return qy("N",t,void 0)}function qy(t,e,n){return{kind:t,value:e,error:n}}var Vs=null;function Qo(t){if(tr.useDeprecatedSynchronousErrorHandling){let e=!Vs;if(e&&(Vs={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Vs;if(Vs=null,n)throw r}}else t()}function Qx(t){tr.useDeprecatedSynchronousErrorHandling&&Vs&&(Vs.errorThrown=!0,Vs.error=t)}var Bs=class extends it{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Kd(e)&&e.add(this)):this.destination=GU}static create(e,n,r){return new Yo(e,n,r)}next(e){this.isStopped?Gy(Kx(e),this):this._next(e)}error(e){this.isStopped?Gy(Wx(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gy(Gx,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},qU=Function.prototype.bind;function zy(t,e){return qU.call(t,e)}var Wy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Yd(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Yd(r)}else Yd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Yd(n)}}},Yo=class extends Bs{constructor(e,n,r){super();let i;if(ye(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&tr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zy(e.next,s),error:e.error&&zy(e.error,s),complete:e.complete&&zy(e.complete,s)}):i=e}this.destination=new Wy(i)}};function Yd(t){tr.useDeprecatedSynchronousErrorHandling?Qx(t):Qd(t)}function zU(t){throw t}function Gy(t,e){let{onStoppedNotification:n}=tr;n&&Ko.setTimeout(()=>n(t,e))}var GU={closed:!0,next:hl,error:zU,complete:hl};var Zo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Dn(t){return t}function Ky(...t){return Qy(t)}function Qy(t){return t.length===0?Dn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ke=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=KU(n)?n:new Yo(n,r,i);return Qo(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Yx(r),new r((i,s)=>{let o=new Yo({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Zo](){return this}pipe(...n){return Qy(n)(this)}toPromise(n){return n=Yx(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Yx(t){var e;return(e=t??tr.Promise)!==null&&e!==void 0?e:Promise}function WU(t){return t&&ye(t.next)&&ye(t.error)&&ye(t.complete)}function KU(t){return t&&t instanceof Bs||WU(t)&&Kd(t)}function Yy(t){return ye(t?.lift)}function Oe(t){return e=>{if(Yy(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Te(t,e,n,r,i){return new Zy(t,e,n,r,i)}var Zy=class extends Bs{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Xo(){return Oe((t,e)=>{let n=null;t._refCount++;let r=Te(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Jo=class extends ke{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Yy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new it;let n=this.getSubject();e.add(this.source.subscribe(Te(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=it.EMPTY)}return e}refCount(){return Xo()(this)}};var Zx=Wo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Dt=(()=>{class t extends ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Zd(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Zx}next(n){Qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Hy:(this.currentObservers=null,s.push(n),new it(()=>{this.currentObservers=null,Ls(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ke;return n.source=this,n}}return t.create=(e,n)=>new Zd(e,n),t})(),Zd=class extends Dt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Hy}};var It=class extends Dt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Xy={now(){return(Xy.delegate||Date).now()},delegate:void 0};var Xd=class extends it{constructor(e,n){super()}schedule(e,n=0){return this}};var pl={setInterval(t,e,...n){let{delegate:r}=pl;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=pl;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ea=class extends Xd{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return pl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&pl.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ls(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ta=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ta.now=Xy.now;var na=class extends ta{constructor(e,n=ta.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Jy=new na(ea);var Jd=class extends ea{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ef=class extends na{};var ev=new ef(Jd);var Rn=new ke(t=>t.complete());function Xx(t){return t&&ye(t.schedule)}function Jx(t){return t[t.length-1]}function tf(t){return ye(Jx(t))?t.pop():void 0}function $i(t){return Xx(Jx(t))?t.pop():void 0}function tv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Hi(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function ia(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ra(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Us(t){return this instanceof Us?(this.v=t,this):new Us(t)}function eA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(_){return Promise.resolve(_).then(y,h)}}function a(y,_){r[y]&&(i[y]=function(D){return new Promise(function(x,k){s.push([y,D,x,k])>1||c(y,D)})},_&&(i[y]=_(i[y])))}function c(y,_){try{u(r[y](_))}catch(D){m(s[0][3],D)}}function u(y){y.value instanceof Us?Promise.resolve(y.value.v).then(d,h):m(s[0][2],y)}function d(y){c("next",y)}function h(y){c("throw",y)}function m(y,_){y(_),s.shift(),s.length&&c(s[0][0],s[0][1])}}function tA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ra=="function"?ra(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var nf=t=>t&&typeof t.length=="number"&&typeof t!="function";function rf(t){return ye(t?.then)}function sf(t){return ye(t[Zo])}function of(t){return Symbol.asyncIterator&&ye(t?.[Symbol.asyncIterator])}function af(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function QU(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var cf=QU();function lf(t){return ye(t?.[cf])}function uf(t){return eA(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Us(n.read());if(i)return yield Us(void 0);yield yield Us(r)}}finally{n.releaseLock()}})}function df(t){return ye(t?.getReader)}function mt(t){if(t instanceof ke)return t;if(t!=null){if(sf(t))return YU(t);if(nf(t))return ZU(t);if(rf(t))return XU(t);if(of(t))return nA(t);if(lf(t))return JU(t);if(df(t))return e3(t)}throw af(t)}function YU(t){return new ke(e=>{let n=t[Zo]();if(ye(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ZU(t){return new ke(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function XU(t){return new ke(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Qd)})}function JU(t){return new ke(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function nA(t){return new ke(e=>{t3(t,e).catch(n=>e.error(n))})}function e3(t){return nA(uf(t))}function t3(t,e){var n,r,i,s;return Hi(this,void 0,void 0,function*(){try{for(n=tA(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function vn(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function qi(t,e=0){return Oe((n,r)=>{n.subscribe(Te(r,i=>vn(r,t,()=>r.next(i),e),()=>vn(r,t,()=>r.complete(),e),i=>vn(r,t,()=>r.error(i),e)))})}function zi(t,e=0){return Oe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function rA(t,e){return mt(t).pipe(zi(e),qi(e))}function iA(t,e){return mt(t).pipe(zi(e),qi(e))}function sA(t,e){return new ke(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function oA(t,e){return new ke(n=>{let r;return vn(n,e,()=>{r=t[cf](),vn(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>ye(r?.return)&&r.return()})}function ff(t,e){if(!t)throw new Error("Iterable cannot be null");return new ke(n=>{vn(n,e,()=>{let r=t[Symbol.asyncIterator]();vn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function aA(t,e){return ff(uf(t),e)}function cA(t,e){if(t!=null){if(sf(t))return rA(t,e);if(nf(t))return sA(t,e);if(rf(t))return iA(t,e);if(of(t))return ff(t,e);if(lf(t))return oA(t,e);if(df(t))return aA(t,e)}throw af(t)}function lt(t,e){return e?cA(t,e):mt(t)}function ve(...t){let e=$i(t);return lt(t,e)}function sa(t,e){let n=ye(t)?t:()=>t,r=i=>i.error(n());return new ke(e?i=>e.schedule(r,0,i):r)}function nv(t){return!!t&&(t instanceof ke||ye(t.lift)&&ye(t.subscribe))}var Jr=Wo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Se(t,e){return Oe((n,r)=>{let i=0;n.subscribe(Te(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:n3}=Array;function r3(t,e){return n3(e)?t(...e):t(e)}function hf(t){return Se(e=>r3(t,e))}var{isArray:i3}=Array,{getPrototypeOf:s3,prototype:o3,keys:a3}=Object;function pf(t){if(t.length===1){let e=t[0];if(i3(e))return{args:e,keys:null};if(c3(e)){let n=a3(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function c3(t){return t&&typeof t=="object"&&s3(t)===o3}function mf(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function gf(...t){let e=$i(t),n=tf(t),{args:r,keys:i}=pf(t);if(r.length===0)return lt([],e);let s=new ke(l3(r,e,i?o=>mf(i,o):Dn));return n?s.pipe(hf(n)):s}function l3(t,e,n=Dn){return r=>{lA(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)lA(e,()=>{let u=lt(t[c],e),d=!1;u.subscribe(Te(r,h=>{s[c]=h,d||(d=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function lA(t,e,n){t?vn(n,t,e):e()}function uA(t,e,n,r,i,s,o,a){let c=[],u=0,d=0,h=!1,m=()=>{h&&!c.length&&!u&&e.complete()},y=D=>u<r?_(D):c.push(D),_=D=>{s&&e.next(D),u++;let x=!1;mt(n(D,d++)).subscribe(Te(e,k=>{i?.(k),s?y(k):e.next(k)},()=>{x=!0},void 0,()=>{if(x)try{for(u--;c.length&&u<r;){let k=c.shift();o?vn(e,o,()=>_(k)):_(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(Te(e,y,()=>{h=!0,m()})),()=>{a?.()}}function St(t,e,n=1/0){return ye(e)?St((r,i)=>Se((s,o)=>e(r,s,i,o))(mt(t(r,i))),n):(typeof e=="number"&&(n=e),Oe((r,i)=>uA(r,i,t,n)))}function rv(t=1/0){return St(Dn,t)}function dA(){return rv(1)}function oa(...t){return dA()(lt(t,$i(t)))}function yf(t){return new ke(e=>{mt(t()).subscribe(e)})}function iv(...t){let e=tf(t),{args:n,keys:r}=pf(t),i=new ke(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let d=0;d<o;d++){let h=!1;mt(n[d]).subscribe(Te(s,m=>{h||(h=!0,u--),a[d]=m},()=>c--,void 0,()=>{(!c||!h)&&(u||s.next(r?mf(r,a):a),s.complete())}))}});return e?i.pipe(hf(e)):i}function nr(t,e){return Oe((n,r)=>{let i=0;n.subscribe(Te(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Gi(t){return Oe((e,n)=>{let r=null,i=!1,s;r=e.subscribe(Te(n,void 0,void 0,o=>{s=mt(t(o,Gi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function fA(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(Te(o,d=>{let h=u++;c=a?t(c,d,h):(a=!0,d),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function aa(t,e){return ye(e)?St(t,e,1):St(t,1)}function Wi(t){return Oe((e,n)=>{let r=!1;e.subscribe(Te(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ei(t){return t<=0?()=>Rn:Oe((e,n)=>{let r=0;e.subscribe(Te(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function sv(t){return Se(()=>t)}function vf(t=u3){return Oe((e,n)=>{let r=!1;e.subscribe(Te(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function u3(){return new Jr}function ml(t){return Oe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Er(t,e){let n=arguments.length>=2;return r=>r.pipe(t?nr((i,s)=>t(i,s,r)):Dn,ei(1),n?Wi(e):vf(()=>new Jr))}function ca(t){return t<=0?()=>Rn:Oe((e,n)=>{let r=[];e.subscribe(Te(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ov(t,e){let n=arguments.length>=2;return r=>r.pipe(t?nr((i,s)=>t(i,s,r)):Dn,ca(1),n?Wi(e):vf(()=>new Jr))}function av(t,e){return Oe(fA(t,e,arguments.length>=2,!0))}function cv(...t){let e=$i(t);return Oe((n,r)=>{(e?oa(t,n,e):oa(t,n)).subscribe(r)})}function rr(t,e){return Oe((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(Te(r,c=>{i?.unsubscribe();let u=0,d=s++;mt(t(c,d)).subscribe(i=Te(r,h=>r.next(e?e(c,h,d,u++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function lv(t){return Oe((e,n)=>{mt(t).subscribe(Te(n,()=>n.complete(),hl)),!n.closed&&e.subscribe(n)})}function xt(t,e,n){let r=ye(t)||e||n?{next:t,error:e,complete:n}:t;return r?Oe((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Te(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Dn}var JA="https://g.co/ng/security#xss",ie=class extends Error{constructor(e,n){super(f_(e,n)),this.code=e}};function f_(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function xl(t){return{toString:t}.toString()}var _f="__parameters__";function d3(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function eT(t,e,n){return xl(()=>{let r=d3(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,d){let h=c.hasOwnProperty(_f)?c[_f]:Object.defineProperty(c,_f,{value:[]})[_f];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Cv=globalThis;function Ge(t){for(let e in t)if(t[e]===Ge)return e;throw Error("Could not find renamed property on target object.")}function f3(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ln(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ln).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function hA(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var h3=Ge({__forward_ref__:Ge});function Ar(t){return t.__forward_ref__=Ar,t.toString=function(){return ln(this())},t}function cn(t){return tT(t)?t():t}function tT(t){return typeof t=="function"&&t.hasOwnProperty(h3)&&t.__forward_ref__===Ar}function ae(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ys(t){return{providers:t.providers||[],imports:t.imports||[]}}function Jf(t){return pA(t,rT)||pA(t,iT)}function nT(t){return Jf(t)!==null}function pA(t,e){return t.hasOwnProperty(e)?t[e]:null}function p3(t){let e=t&&(t[rT]||t[iT]);return e||null}function mA(t){return t&&(t.hasOwnProperty(gA)||t.hasOwnProperty(m3))?t[gA]:null}var rT=Ge({\u0275prov:Ge}),gA=Ge({\u0275inj:Ge}),iT=Ge({ngInjectableDef:Ge}),m3=Ge({ngInjectorDef:Ge}),se=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ae({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function sT(t){return t&&!!t.\u0275providers}var g3=Ge({\u0275cmp:Ge}),y3=Ge({\u0275dir:Ge}),v3=Ge({\u0275pipe:Ge}),_3=Ge({\u0275mod:Ge}),Df=Ge({\u0275fac:Ge}),vl=Ge({__NG_ELEMENT_ID__:Ge}),yA=Ge({__NG_ENV_ID__:Ge});function eh(t){return typeof t=="string"?t:t==null?"":String(t)}function E3(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():eh(t)}function w3(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ie(-200,t)}function h_(t,e){throw new ie(-201,!1)}var Ce=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ce||{}),Iv;function oT(){return Iv}function Bn(t){let e=Iv;return Iv=t,e}function aT(t,e,n){let r=Jf(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Ce.Optional)return null;if(e!==void 0)return e;h_(t,"Injector")}var b3={},_l=b3,Sv="__NG_DI_FLAG__",Rf="ngTempTokenPath",C3="ngTokenPath",I3=/\n/gm,S3="\u0275",vA="__source",fa;function x3(){return fa}function Ki(t){let e=fa;return fa=t,e}function A3(t,e=Ce.Default){if(fa===void 0)throw new ie(-203,!1);return fa===null?aT(t,void 0,e):fa.get(t,e&Ce.Optional?null:void 0,e)}function xe(t,e=Ce.Default){return(oT()||A3)(cn(t),e)}function K(t,e=Ce.Default){return xe(t,th(e))}function th(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function xv(t){let e=[];for(let n=0;n<t.length;n++){let r=cn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new ie(900,!1);let i,s=Ce.Default;for(let o=0;o<r.length;o++){let a=r[o],c=T3(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(xe(i,s))}else e.push(xe(r))}return e}function cT(t,e){return t[Sv]=e,t.prototype[Sv]=e,t}function T3(t){return t[Sv]}function D3(t,e,n,r){let i=t[Rf];throw e[vA]&&i.unshift(e[vA]),t.message=R3(`
`+t.message,i,n,r),t[C3]=i,t[Rf]=null,t}function R3(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==S3?t.slice(2):t;let i=ln(e);if(Array.isArray(e))i=e.map(ln).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ln(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(I3,`
  `)}`}var dn=cT(eT("Optional"),8);var lT=cT(eT("SkipSelf"),4);function pa(t,e){let n=t.hasOwnProperty(Df);return n?t[Df]:null}function p_(t,e){t.forEach(n=>Array.isArray(n)?p_(n,e):e(n))}function uT(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Nf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function N3(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function M3(t,e,n){let r=Al(t,e);return r>=0?t[r|1]=n:(r=~r,N3(t,r,e,n)),r}function uv(t,e){let n=Al(t,e);if(n>=0)return t[n|1]}function Al(t,e){return P3(t,e,1)}function P3(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ma={},Un=[],ga=new se(""),dT=new se("",-1),fT=new se(""),Mf=class{get(e,n=_l){if(n===_l){let r=new Error(`NullInjectorError: No provider for ${ln(e)}!`);throw r.name="NullInjectorError",r}return n}},hT=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(hT||{}),Cr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Cr||{}),Zi=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Zi||{});function k3(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Av(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];O3(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function pT(t){return t===3||t===4||t===6}function O3(t){return t.charCodeAt(0)===64}function El(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?_A(t,n,i,null,e[++r]):_A(t,n,i,null,null))}}return t}function _A(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var mT="ng-template";function F3(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&k3(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(m_(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function m_(t){return t.type===4&&t.value!==mT}function L3(t,e,n){let r=t.type===4&&!n?mT:t.value;return e===r}function V3(t,e,n){let r=4,i=t.attrs,s=i!==null?j3(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!ir(r)&&!ir(c))return!1;if(o&&ir(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!L3(t,c,n)||c===""&&e.length===1){if(ir(r))return!1;o=!0}}else if(r&8){if(i===null||!F3(t,i,c,n)){if(ir(r))return!1;o=!0}}else{let u=e[++a],d=B3(c,i,m_(t),n);if(d===-1){if(ir(r))return!1;o=!0;continue}if(u!==""){let h;if(d>s?h="":h=i[d+1].toLowerCase(),r&2&&u!==h){if(ir(r))return!1;o=!0}}}}return ir(r)||o}function ir(t){return(t&1)===0}function B3(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return $3(e,t)}function U3(t,e,n=!1){for(let r=0;r<e.length;r++)if(V3(t,e[r],n))return!0;return!1}function j3(t){for(let e=0;e<t.length;e++){let n=t[e];if(pT(n))return e}return t.length}function $3(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function EA(t,e){return t?":not("+e.trim()+")":e}function H3(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!ir(o)&&(e+=EA(s,i),i=""),r=o,s=s||!ir(r);n++}return i!==""&&(e+=EA(s,i)),e}function q3(t){return t.map(H3).join(",")}function z3(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!ir(i))break;i=s}r++}return{attrs:e,classes:n}}function Kt(t){return xl(()=>{let e=ET(t),n=O(E({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===hT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Cr.Emulated,styles:t.styles||Un,_:null,schemas:t.schemas||null,tView:null,id:""});wT(n);let r=t.dependencies;return n.directiveDefs=bA(r,!1),n.pipeDefs=bA(r,!0),n.id=K3(n),n})}function G3(t){return $s(t)||gT(t)}function W3(t){return t!==null}function Zs(t){return xl(()=>({type:t.type,bootstrap:t.bootstrap||Un,declarations:t.declarations||Un,imports:t.imports||Un,exports:t.exports||Un,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function wA(t,e){if(t==null)return ma;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Zi.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Zi.None?[r,a]:r,e[s]=o):n[s]=r}return n}function st(t){return xl(()=>{let e=ET(t);return wT(e),e})}function $s(t){return t[g3]||null}function gT(t){return t[y3]||null}function yT(t){return t[v3]||null}function vT(t){let e=$s(t)||gT(t)||yT(t);return e!==null?e.standalone:!1}function _T(t,e){let n=t[_3]||null;if(!n&&e===!0)throw new Error(`Type ${ln(t)} does not have '\u0275mod' property.`);return n}function ET(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ma,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Un,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wA(t.inputs,e),outputs:wA(t.outputs),debugInfo:null}}function wT(t){t.features?.forEach(e=>e(t))}function bA(t,e){if(!t)return null;let n=e?yT:G3;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(W3)}function K3(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Tr(t){return{\u0275providers:t}}function Q3(...t){return{\u0275providers:bT(!0,t),\u0275fromNgModule:!0}}function bT(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return p_(e,o=>{let a=o;Tv(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&CT(i,s),n}function CT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];g_(i,s=>{e(s,r)})}}function Tv(t,e,n,r){if(t=cn(t),!t)return!1;let i=null,s=mA(t),o=!s&&$s(t);if(!s&&!o){let c=t.ngModule;if(s=mA(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Tv(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{p_(s.imports,d=>{Tv(d,e,n,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&CT(u,e)}if(!a){let u=pa(i)||(()=>new i);e({provide:i,useFactory:u,deps:Un},i),e({provide:fT,useValue:i,multi:!0},i),e({provide:ga,useValue:()=>xe(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;g_(c,d=>{e(d,u)})}}else return!1;return i!==t&&t.providers!==void 0}function g_(t,e){for(let n of t)sT(n)&&(n=n.\u0275providers),Array.isArray(n)?g_(n,e):e(n)}var Y3=Ge({provide:String,useValue:Ge});function IT(t){return t!==null&&typeof t=="object"&&Y3 in t}function Z3(t){return!!(t&&t.useExisting)}function X3(t){return!!(t&&t.useFactory)}function ya(t){return typeof t=="function"}function J3(t){return!!t.useClass}var nh=new se(""),If={},ej={},dv;function y_(){return dv===void 0&&(dv=new Mf),dv}var Hn=class{},wl=class extends Hn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rv(e,o=>this.processProvider(o)),this.records.set(dT,la(void 0,this)),i.has("environment")&&this.records.set(Hn,la(void 0,this));let s=this.records.get(nh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(fT,Un,Ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Le(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Le(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ki(this),r=Bn(void 0),i;try{return e()}finally{Ki(n),Bn(r)}}get(e,n=_l,r=Ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(yA))return e[yA](this);r=th(r);let i,s=Ki(this),o=Bn(void 0);try{if(!(r&Ce.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=sj(e)&&Jf(e);u&&this.injectableDefInScope(u)?c=la(Dv(e),If):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Ce.Self?y_():this.parent;return n=r&Ce.Optional&&n===_l?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Rf]=a[Rf]||[]).unshift(ln(e)),s)throw a;return D3(a,e,"R3InjectorError",this.source)}else throw a}finally{Bn(o),Ki(s)}}resolveInjectorInitializers(){let e=Le(null),n=Ki(this),r=Bn(void 0),i;try{let s=this.get(ga,Un,Ce.Self);for(let o of s)o()}finally{Ki(n),Bn(r),Le(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ln(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(e){e=cn(e);let n=ya(e)?e:cn(e&&e.provide),r=nj(e);if(!ya(e)&&e.multi===!0){let i=this.records.get(n);i||(i=la(void 0,If,!0),i.factory=()=>xv(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Le(null);try{return n.value===If&&(n.value=ej,n.value=n.factory()),typeof n.value=="object"&&n.value&&ij(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Le(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=cn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Dv(t){let e=Jf(t),n=e!==null?e.factory:pa(t);if(n!==null)return n;if(t instanceof se)throw new ie(204,!1);if(t instanceof Function)return tj(t);throw new ie(204,!1)}function tj(t){if(t.length>0)throw new ie(204,!1);let n=p3(t);return n!==null?()=>n.factory(t):()=>new t}function nj(t){if(IT(t))return la(void 0,t.useValue);{let e=ST(t);return la(e,If)}}function ST(t,e,n){let r;if(ya(t)){let i=cn(t);return pa(i)||Dv(i)}else if(IT(t))r=()=>cn(t.useValue);else if(X3(t))r=()=>t.useFactory(...xv(t.deps||[]));else if(Z3(t))r=()=>xe(cn(t.useExisting));else{let i=cn(t&&(t.useClass||t.provide));if(rj(t))r=()=>new i(...xv(t.deps));else return pa(i)||Dv(i)}return r}function la(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function rj(t){return!!t.deps}function ij(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function sj(t){return typeof t=="function"||typeof t=="object"&&t instanceof se}function Rv(t,e){for(let n of t)Array.isArray(n)?Rv(n,e):n&&sT(n)?Rv(n.\u0275providers,e):e(n)}function ii(t,e){t instanceof wl&&t.assertNotDestroyed();let n,r=Ki(t),i=Bn(void 0);try{return e()}finally{Ki(r),Bn(i)}}function oj(){return oT()!==void 0||x3()!=null}function aj(t){return typeof t=="function"}var si=0,De=1,pe=2,un=3,sr=4,ar=5,Pf=6,kf=7,or=8,va=9,Ir=10,Vt=11,bl=12,CA=13,xa=14,Sr=15,_a=16,ua=17,Ea=18,rh=19,xT=20,Qi=21,fv=22,jn=23,Xi=25,AT=1;var Hs=7,Of=8,Ff=9,$n=10,Lf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Lf||{});function Yi(t){return Array.isArray(t)&&typeof t[AT]=="object"}function oi(t){return Array.isArray(t)&&t[AT]===!0}function TT(t){return(t.flags&4)!==0}function ih(t){return t.componentOffset>-1}function v_(t){return(t.flags&1)===1}function Ji(t){return!!t.template}function Nv(t){return(t[pe]&512)!==0}var Mv=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function DT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ai(){return RT}function RT(t){return t.type.prototype.ngOnChanges&&(t.setInput=lj),cj}ai.ngInherit=!0;function cj(){let t=MT(this),e=t?.current;if(e){let n=t.previous;if(n===ma)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function lj(t,e,n,r,i){let s=this.declaredInputs[r],o=MT(t)||uj(t,{previous:ma,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Mv(u&&u.currentValue,n,c===ma),DT(t,e,i,n)}var NT="__ngSimpleChanges__";function MT(t){return t[NT]||null}function uj(t,e){return t[NT]=e}var IA=null;var wr=function(t,e,n){IA?.(t,e,n)},dj="svg",fj="math";function xr(t){for(;Array.isArray(t);)t=t[si];return t}function PT(t,e){return xr(e[t])}function qn(t,e){return xr(e[t.index])}function kT(t,e){return t.data[e]}function ts(t,e){let n=e[t];return Yi(n)?n:n[si]}function __(t){return(t[pe]&128)===128}function hj(t){return oi(t[un])}function Vf(t,e){return e==null?null:t[e]}function OT(t){t[ua]=0}function FT(t){t[pe]&1024||(t[pe]|=1024,__(t)&&oh(t))}function pj(t,e){for(;t>0;)e=e[xa],t--;return e}function sh(t){return!!(t[pe]&9216||t[jn]?.dirty)}function Pv(t){t[Ir].changeDetectionScheduler?.notify(8),t[pe]&64&&(t[pe]|=1024),sh(t)&&oh(t)}function oh(t){t[Ir].changeDetectionScheduler?.notify(0);let e=qs(t);for(;e!==null&&!(e[pe]&8192||(e[pe]|=8192,!__(e)));)e=qs(e)}function LT(t,e){if((t[pe]&256)===256)throw new ie(911,!1);t[Qi]===null&&(t[Qi]=[]),t[Qi].push(e)}function mj(t,e){if(t[Qi]===null)return;let n=t[Qi].indexOf(e);n!==-1&&t[Qi].splice(n,1)}function qs(t){let e=t[un];return oi(e)?e[un]:e}var Re={lFrame:GT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var VT=!1;function gj(){return Re.lFrame.elementDepthCount}function yj(){Re.lFrame.elementDepthCount++}function vj(){Re.lFrame.elementDepthCount--}function BT(){return Re.bindingsEnabled}function _j(){return Re.skipHydrationRootTNode!==null}function Ej(t){return Re.skipHydrationRootTNode===t}function wj(){Re.skipHydrationRootTNode=null}function tt(){return Re.lFrame.lView}function cr(){return Re.lFrame.tView}function Dr(t){return Re.lFrame.contextLView=t,t[or]}function Rr(t){return Re.lFrame.contextLView=null,t}function En(){let t=UT();for(;t!==null&&t.type===64;)t=t.parent;return t}function UT(){return Re.lFrame.currentTNode}function bj(){let t=Re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Tl(t,e){let n=Re.lFrame;n.currentTNode=t,n.isParent=e}function jT(){return Re.lFrame.isParent}function Cj(){Re.lFrame.isParent=!1}function $T(){return VT}function SA(t){VT=t}function Ij(t){return Re.lFrame.bindingIndex=t}function E_(){return Re.lFrame.bindingIndex++}function Sj(t){let e=Re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function xj(){return Re.lFrame.inI18n}function Aj(t,e){let n=Re.lFrame;n.bindingIndex=n.bindingRootIndex=t,kv(e)}function Tj(){return Re.lFrame.currentDirectiveIndex}function kv(t){Re.lFrame.currentDirectiveIndex=t}function Dj(t){let e=Re.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function HT(t){Re.lFrame.currentQueryIndex=t}function Rj(t){let e=t[De];return e.type===2?e.declTNode:e.type===1?t[ar]:null}function qT(t,e,n){if(n&Ce.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&Ce.Host);)if(i=Rj(s),i===null||(s=s[xa],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=Re.lFrame=zT();return r.currentTNode=e,r.lView=t,!0}function w_(t){let e=zT(),n=t[De];Re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function zT(){let t=Re.lFrame,e=t===null?null:t.child;return e===null?GT(t):e}function GT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function WT(){let t=Re.lFrame;return Re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var KT=WT;function b_(){let t=WT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Nj(t){return(Re.lFrame.contextLView=pj(t,Re.lFrame.contextLView))[or]}function Aa(){return Re.lFrame.selectedIndex}function zs(t){Re.lFrame.selectedIndex=t}function QT(){let t=Re.lFrame;return kT(t.tView,t.selectedIndex)}function Mj(){return Re.lFrame.currentNamespace}var YT=!0;function C_(){return YT}function I_(t){YT=t}function Pj(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=RT(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function S_(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function Sf(t,e,n){ZT(t,e,3,n)}function xf(t,e,n,r){(t[pe]&3)===n&&ZT(t,e,n,r)}function hv(t,e){let n=t[pe];(n&3)===e&&(n&=16383,n+=1,t[pe]=n)}function ZT(t,e,n,r){let i=r!==void 0?t[ua]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[ua]+=65536),(a<s||s==-1)&&(kj(t,n,e,c),t[ua]=(t[ua]&4294901760)+c+2),c++}function xA(t,e){wr(4,t,e);let n=Le(null);try{e.call(t)}finally{Le(n),wr(5,t,e)}}function kj(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[pe]>>14<t[ua]>>16&&(t[pe]&3)===e&&(t[pe]+=16384,xA(a,s)):xA(a,s)}var ha=-1,Gs=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Oj(t){return t instanceof Gs}function Fj(t){return(t.flags&8)!==0}function Lj(t){return(t.flags&16)!==0}var pv={},Ov=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=th(r);let i=this.injector.get(e,pv,r);return i!==pv||n===pv?i:this.parentInjector.get(e,n,r)}};function XT(t){return t!==ha}function Bf(t){return t&32767}function Vj(t){return t>>16}function Uf(t,e){let n=Vj(t),r=e;for(;n>0;)r=r[xa],n--;return r}var Fv=!0;function AA(t){let e=Fv;return Fv=t,e}var Bj=256,JT=Bj-1,eD=5,Uj=0,br={};function jj(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(vl)&&(r=n[vl]),r==null&&(r=n[vl]=Uj++);let i=r&JT,s=1<<i;e.data[t+(i>>eD)]|=s}function jf(t,e){let n=tD(t,e);if(n!==-1)return n;let r=e[De];r.firstCreatePass&&(t.injectorIndex=e.length,mv(r.data,t),mv(e,null),mv(r.blueprint,null));let i=x_(t,e),s=t.injectorIndex;if(XT(i)){let o=Bf(i),a=Uf(i,e),c=a[De].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function mv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function tD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function x_(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=oD(i),r===null)return ha;if(n++,i=i[xa],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ha}function Lv(t,e,n){jj(t,e,n)}function $j(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(pT(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function nD(t,e,n){if(n&Ce.Optional||t!==void 0)return t;h_(e,"NodeInjector")}function rD(t,e,n,r){if(n&Ce.Optional&&r===void 0&&(r=null),!(n&(Ce.Self|Ce.Host))){let i=t[va],s=Bn(void 0);try{return i?i.get(e,r,n&Ce.Optional):aT(e,r,n&Ce.Optional)}finally{Bn(s)}}return nD(r,e,n)}function iD(t,e,n,r=Ce.Default,i){if(t!==null){if(e[pe]&2048&&!(r&Ce.Self)){let o=Wj(t,e,n,r,br);if(o!==br)return o}let s=sD(t,e,n,r,br);if(s!==br)return s}return rD(e,n,r,i)}function sD(t,e,n,r,i){let s=zj(n);if(typeof s=="function"){if(!qT(e,t,r))return r&Ce.Host?nD(i,n,r):rD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&Ce.Optional))h_(n);else return o}finally{KT()}}else if(typeof s=="number"){let o=null,a=tD(t,e),c=ha,u=r&Ce.Host?e[Sr][ar]:null;for((a===-1||r&Ce.SkipSelf)&&(c=a===-1?x_(t,e):e[a+8],c===ha||!DA(r,!1)?a=-1:(o=e[De],a=Bf(c),e=Uf(c,e)));a!==-1;){let d=e[De];if(TA(s,a,d.data)){let h=Hj(a,e,n,o,r,u);if(h!==br)return h}c=e[a+8],c!==ha&&DA(r,e[De].data[a+8]===u)&&TA(s,a,e)?(o=d,a=Bf(c),e=Uf(c,e)):a=-1}}return i}function Hj(t,e,n,r,i,s){let o=e[De],a=o.data[t+8],c=r==null?ih(a)&&Fv:r!=o&&(a.type&3)!==0,u=i&Ce.Host&&s===a,d=qj(a,o,n,c,u);return d!==null?wa(e,o,d,a):br}function qj(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,d=s>>20,h=r?a:a+d,m=i?a+d:u;for(let y=h;y<m;y++){let _=o[y];if(y<c&&n===_||y>=c&&_.type===n)return y}if(i){let y=o[c];if(y&&Ji(y)&&y.type===n)return c}return null}function wa(t,e,n,r){let i=t[n],s=e.data;if(Oj(i)){let o=i;o.resolving&&w3(E3(s[n]));let a=AA(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?Bn(o.injectImpl):null,d=qT(t,r,Ce.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Pj(n,s[n],e)}finally{u!==null&&Bn(u),AA(a),o.resolving=!1,KT()}}return i}function zj(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(vl)?t[vl]:void 0;return typeof e=="number"?e>=0?e&JT:Gj:e}function TA(t,e,n){let r=1<<t;return!!(n[e+(t>>eD)]&r)}function DA(t,e){return!(t&Ce.Self)&&!(t&Ce.Host&&e)}var js=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return iD(this._tNode,this._lView,e,th(r),n)}};function Gj(){return new js(En(),tt())}function ci(t){return xl(()=>{let e=t.prototype.constructor,n=e[Df]||Vv(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Df]||Vv(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Vv(t){return tT(t)?()=>{let e=Vv(cn(t));return e&&e()}:pa(t)}function Wj(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[pe]&2048&&!(o[pe]&512);){let a=sD(s,o,n,r|Ce.Self,br);if(a!==br)return a;let c=s.parent;if(!c){let u=o[xT];if(u){let d=u.get(n,br,r);if(d!==br)return d}c=oD(o),o=o[xa]}s=c}return i}function oD(t){let e=t[De],n=e.type;return n===2?e.declTNode:n===1?t[ar]:null}function A_(t){return $j(En(),t)}function RA(t,e=null,n=null,r){let i=aD(t,e,n,r);return i.resolveInjectorInitializers(),i}function aD(t,e=null,n=null,r,i=new Set){let s=[n||Un,Q3(t)];return r=r||(typeof t=="object"?void 0:ln(t)),new wl(s,e||y_(),r||null,i)}var _n=class t{static{this.THROW_IF_NOT_FOUND=_l}static{this.NULL=new Mf}static create(e,n){if(Array.isArray(e))return RA({name:""},n,e,"");{let r=e.name??"";return RA({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=ae({token:t,providedIn:"any",factory:()=>xe(dT)})}static{this.__NG_ELEMENT_ID__=-1}};var Kj=new se("");Kj.__NG_ELEMENT_ID__=t=>{let e=En();if(e===null)throw new ie(204,!1);if(e.type&2)return e.value;if(t&Ce.Optional)return null;throw new ie(204,!1)};var Qj="ngOriginalError";function gv(t){return t[Qj]}var cD=!0,lD=(()=>{class t{static{this.__NG_ELEMENT_ID__=Yj}static{this.__NG_ENV_ID__=n=>n}}return t})(),Bv=class extends lD{constructor(e){super(),this._lView=e}onDestroy(e){return LT(this._lView,e),()=>mj(this._lView,e)}};function Yj(){return new Bv(tt())}var Ta=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new It(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Uv=class extends Dt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,oj()&&(this.destroyRef=K(lD,{optional:!0})??void 0,this.pendingTasks=K(Ta,{optional:!0})??void 0)}emit(e){let n=Le(null);try{super.next(e)}finally{Le(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof it&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},gt=Uv;function $f(...t){}function uD(t){let e,n;function r(){t=$f;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function NA(t){return queueMicrotask(()=>t()),()=>{t=$f}}var T_="isAngularZone",Hf=T_+"_ID",Zj=0,He=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gt(!1),this.onMicrotaskEmpty=new gt(!1),this.onStable=new gt(!1),this.onError=new gt(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=cD}=e;if(typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,e$(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(T_)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ie(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Xj,$f,$f);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Xj={};function D_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Jj(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){uD(()=>{t.callbackScheduled=!1,jv(t),t.isCheckStableRunning=!0,D_(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),jv(t)}function e$(t){let e=()=>{Jj(t)},n=Zj++;t._inner=t._inner.fork({name:"angular",properties:{[T_]:!0,[Hf]:n,[Hf+n]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(t$(c))return r.invokeTask(s,o,a,c);try{return MA(t),r.invokeTask(s,o,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),PA(t)}},onInvoke:(r,i,s,o,a,c,u)=>{try{return MA(t),r.invoke(s,o,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!n$(c)&&e(),PA(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,jv(t),D_(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function jv(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function MA(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function PA(t){t._nesting--,D_(t)}var $v=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gt,this.onMicrotaskEmpty=new gt,this.onStable=new gt,this.onError=new gt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function t$(t){return dD(t,"__ignore_ng_zone__")}function n$(t){return dD(t,"__scheduler_tick__")}function dD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ti=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&gv(e);for(;n&&gv(n);)n=gv(n);return n||null}},r$=new se("",{providedIn:"root",factory:()=>{let t=K(He),e=K(ti);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function i$(){return ah(En(),tt())}function ah(t,e){return new Nr(qn(t,e))}var Nr=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=i$}}return t})();function fD(t){return(t.flags&128)===128}var hD=new Map,s$=0;function o$(){return s$++}function a$(t){hD.set(t[rh],t)}function Hv(t){hD.delete(t[rh])}var kA="__ngContext__";function Ws(t,e){Yi(e)?(t[kA]=e[rh],a$(e)):t[kA]=e}function pD(t){return gD(t[bl])}function mD(t){return gD(t[sr])}function gD(t){for(;t!==null&&!oi(t);)t=t[sr];return t}var qv;function yD(t){qv=t}function c$(){if(qv!==void 0)return qv;if(typeof document<"u")return document;throw new ie(210,!1)}var R_=new se("",{providedIn:"root",factory:()=>l$}),l$="ng",N_=new se(""),ns=new se("",{providedIn:"platform",factory:()=>"unknown"});var M_=new se("",{providedIn:"root",factory:()=>c$().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var u$="h",d$="b";var f$=()=>null;function P_(t,e,n=!1){return f$(t,e,n)}var vD=!1,h$=new se("",{providedIn:"root",factory:()=>vD});var Ef;function p$(){if(Ef===void 0&&(Ef=null,Cv.trustedTypes))try{Ef=Cv.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ef}function OA(t){return p$()?.createScriptURL(t)||t}var qf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${JA})`}};function Dl(t){return t instanceof qf?t.changingThisBreaksApplicationSecurity:t}function k_(t,e){let n=m$(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${JA})`)}return n===e}function m$(t){return t instanceof qf&&t.getTypeName()||null}var g$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _D(t){return t=String(t),t.match(g$)?t:"unsafe:"+t}var ch=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ch||{});function lh(t){let e=wD();return e?e.sanitize(ch.URL,t)||"":k_(t,"URL")?Dl(t):_D(eh(t))}function y$(t){let e=wD();if(e)return OA(e.sanitize(ch.RESOURCE_URL,t)||"");if(k_(t,"ResourceURL"))return OA(Dl(t));throw new ie(904,!1)}function v$(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?y$:lh}function ED(t,e,n){return v$(e,n)(t)}function wD(){let t=tt();return t&&t[Ir].sanitizer}function bD(t){return t instanceof Function?t():t}var ni=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ni||{}),_$;function O_(t,e){return _$(t,e)}function da(t,e,n,r,i){if(r!=null){let s,o=!1;oi(r)?s=r:Yi(r)&&(o=!0,r=r[si]);let a=xr(r);t===0&&n!==null?i==null?AD(e,n,a):zf(e,n,a,i||null,!0):t===1&&n!==null?zf(e,n,a,i||null,!0):t===2?k$(e,a,o):t===3&&e.destroyNode(a),s!=null&&F$(e,t,s,n,i)}}function E$(t,e){return t.createText(e)}function w$(t,e,n){t.setValue(e,n)}function CD(t,e,n){return t.createElement(e,n)}function b$(t,e){ID(t,e),e[si]=null,e[ar]=null}function C$(t,e,n,r,i,s){r[si]=i,r[ar]=e,uh(t,r,n,1,i,s)}function ID(t,e){e[Ir].changeDetectionScheduler?.notify(9),uh(t,e,e[Vt],2,null,null)}function I$(t){let e=t[bl];if(!e)return yv(t[De],t);for(;e;){let n=null;if(Yi(e))n=e[bl];else{let r=e[$n];r&&(n=r)}if(!n){for(;e&&!e[sr]&&e!==t;)Yi(e)&&yv(e[De],e),e=e[un];e===null&&(e=t),Yi(e)&&yv(e[De],e),n=e&&e[sr]}e=n}}function S$(t,e,n,r){let i=$n+r,s=n.length;r>0&&(n[i-1][sr]=e),r<s-$n?(e[sr]=n[i],uT(n,$n+r,e)):(n.push(e),e[sr]=null),e[un]=n;let o=e[_a];o!==null&&n!==o&&SD(o,e);let a=e[Ea];a!==null&&a.insertView(t),Pv(e),e[pe]|=128}function SD(t,e){let n=t[Ff],r=e[un];if(Yi(r))t[pe]|=Lf.HasTransplantedViews;else{let i=r[un][Sr];e[Sr]!==i&&(t[pe]|=Lf.HasTransplantedViews)}n===null?t[Ff]=[e]:n.push(e)}function F_(t,e){let n=t[Ff],r=n.indexOf(e);n.splice(r,1)}function zv(t,e){if(t.length<=$n)return;let n=$n+e,r=t[n];if(r){let i=r[_a];i!==null&&i!==t&&F_(i,r),e>0&&(t[n-1][sr]=r[sr]);let s=Nf(t,$n+e);b$(r[De],r);let o=s[Ea];o!==null&&o.detachView(s[De]),r[un]=null,r[sr]=null,r[pe]&=-129}return r}function xD(t,e){if(!(e[pe]&256)){let n=e[Vt];n.destroyNode&&uh(t,e,n,3,null,null),I$(e)}}function yv(t,e){if(e[pe]&256)return;let n=Le(null);try{e[pe]&=-129,e[pe]|=256,e[jn]&&jy(e[jn]),A$(t,e),x$(t,e),e[De].type===1&&e[Vt].destroy();let r=e[_a];if(r!==null&&oi(e[un])){r!==e[un]&&F_(r,e);let i=e[Ea];i!==null&&i.detachView(t)}Hv(e)}finally{Le(n)}}function x$(t,e){let n=t.cleanup,r=e[kf];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[kf]=null);let i=e[Qi];if(i!==null){e[Qi]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function A$(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Gs)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];wr(4,a,c);try{c.call(a)}finally{wr(5,a,c)}}else{wr(4,i,s);try{s.call(i)}finally{wr(5,i,s)}}}}}function T$(t,e,n){return D$(t,e.parent,n)}function D$(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[si];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Cr.None||s===Cr.Emulated)return null}return qn(r,n)}}function zf(t,e,n,r,i){t.insertBefore(e,n,r,i)}function AD(t,e,n){t.appendChild(e,n)}function FA(t,e,n,r,i){r!==null?zf(t,e,n,r,i):AD(t,e,n)}function TD(t,e){return t.parentNode(e)}function R$(t,e){return t.nextSibling(e)}function N$(t,e,n){return P$(t,e,n)}function M$(t,e,n){return t.type&40?qn(t,n):null}var P$=M$,LA;function L_(t,e,n,r){let i=T$(t,r,e),s=e[Vt],o=r.parent||e[ar],a=N$(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)FA(s,i,n[c],a,!1);else FA(s,i,n,a,!1);LA!==void 0&&LA(s,r,e,n,i)}function gl(t,e){if(e!==null){let n=e.type;if(n&3)return qn(e,t);if(n&4)return Gv(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return gl(t,r);{let i=t[e.index];return oi(i)?Gv(-1,i):xr(i)}}else{if(n&128)return gl(t,e.next);if(n&32)return O_(e,t)()||xr(t[e.index]);{let r=DD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=qs(t[Sr]);return gl(i,r)}else return gl(t,e.next)}}}return null}function DD(t,e){if(e!==null){let r=t[Sr][ar],i=e.projection;return r.projection[i]}return null}function Gv(t,e){let n=$n+t+1;if(n<e.length){let r=e[n],i=r[De].firstChild;if(i!==null)return gl(r,i)}return e[Hs]}function k$(t,e,n){t.removeChild(null,e,n)}function V_(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Ws(xr(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)V_(t,e,n.child,r,i,s,!1),da(e,t,i,a,s);else if(c&32){let u=O_(n,r),d;for(;d=u();)da(e,t,i,d,s);da(e,t,i,a,s)}else c&16?O$(t,e,r,n,i,s):da(e,t,i,a,s);n=o?n.projectionNext:n.next}}function uh(t,e,n,r,i,s){V_(n,r,t.firstChild,e,i,s,!1)}function O$(t,e,n,r,i,s){let o=n[Sr],c=o[ar].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];da(e,t,i,d,s)}else{let u=c,d=o[un];fD(r)&&(u.flags|=128),V_(t,e,u,d,i,s,!0)}}function F$(t,e,n,r,i){let s=n[Hs],o=xr(n);s!==o&&da(e,t,r,s,i);for(let a=$n;a<n.length;a++){let c=n[a];uh(c[De],c,t,e,r,s)}}function L$(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:ni.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ni.Important),t.setStyle(n,r,i,s))}}function V$(t,e,n){t.setAttribute(e,"style",n)}function RD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ND(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Av(t,e,r),i!==null&&RD(t,e,i),s!==null&&V$(t,e,s)}var Da={};function ne(t=1){MD(cr(),tt(),Aa()+t,!1)}function MD(t,e,n,r){if(!r)if((e[pe]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Sf(e,s,n)}else{let s=t.preOrderHooks;s!==null&&xf(e,s,0,n)}zs(n)}function oe(t,e=Ce.Default){let n=tt();if(n===null)return xe(t,e);let r=En();return iD(r,n,cn(t),e)}function PD(t,e,n,r,i,s){let o=Le(null);try{let a=null;i&Zi.SignalBased&&(a=e[r][ji]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Zi.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):DT(e,a,r,s)}finally{Le(o)}}function B$(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)zs(~i);else{let s=i,o=n[++r],a=n[++r];Aj(o,s);let c=e[s];a(2,c)}}}finally{zs(-1)}}function dh(t,e,n,r,i,s,o,a,c,u,d){let h=e.blueprint.slice();return h[si]=i,h[pe]=r|4|128|8|64,(u!==null||t&&t[pe]&2048)&&(h[pe]|=2048),OT(h),h[un]=h[xa]=t,h[or]=n,h[Ir]=o||t&&t[Ir],h[Vt]=a||t&&t[Vt],h[va]=c||t&&t[va]||null,h[ar]=s,h[rh]=o$(),h[Pf]=d,h[xT]=u,h[Sr]=e.type==2?t[Sr]:h,h}function fh(t,e,n,r,i){let s=t.data[e];if(s===null)s=U$(t,e,n,r,i),xj()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=bj();s.injectorIndex=o===null?-1:o.injectorIndex}return Tl(s,!0),s}function U$(t,e,n,r,i){let s=UT(),o=jT(),a=o?s:s&&s.parent,c=t.data[e]=z$(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function kD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function OD(t,e,n,r,i){let s=Aa(),o=r&2;try{zs(-1),o&&e.length>Xi&&MD(t,e,Xi,!1),wr(o?2:0,i),n(r,i)}finally{zs(s),wr(o?3:1,i)}}function FD(t,e,n){if(TT(e)){let r=Le(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{Le(r)}}}function LD(t,e,n){BT()&&(X$(t,e,n,qn(n,e)),(n.flags&64)===64&&$D(t,e,n))}function VD(t,e,n=qn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function BD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=B_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function B_(t,e,n,r,i,s,o,a,c,u,d){let h=Xi+r,m=h+i,y=j$(h,m),_=typeof u=="function"?u():u;return y[De]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:d}}function j$(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Da);return n}function $$(t,e,n,r){let s=r.get(h$,vD)||n===Cr.ShadowDom,o=t.selectRootElement(e,s);return H$(o),o}function H$(t){q$(t)}var q$=()=>null;function z$(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return _j()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function VA(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=Zi.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?BA(r,n,u,a,c):BA(r,n,u,a)}return r}function BA(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function G$(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let d=r;d<i;d++){let h=s[d],m=n?n.get(h):null,y=m?m.inputs:null,_=m?m.outputs:null;c=VA(0,h.inputs,d,c,y),u=VA(1,h.outputs,d,u,_);let D=c!==null&&o!==null&&!m_(e)?l4(c,d,o):null;a.push(D)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function W$(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function K$(t,e,n,r,i,s,o,a){let c=qn(e,n),u=e.inputs,d;!a&&u!=null&&(d=u[r])?(U_(t,n,d,r,i),ih(e)&&Q$(n,e.index)):e.type&3?(r=W$(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function Q$(t,e){let n=ts(e,t);n[pe]&16||(n[pe]|=64)}function UD(t,e,n,r){if(BT()){let i=r===null?null:{"":-1},s=e4(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&jD(t,e,n,o,i,a),i&&t4(n,r,i)}n.mergedAttrs=El(n.mergedAttrs,n.attrs)}function jD(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Lv(jf(n,e),t,r[u].type);r4(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let d=r[u];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,c=kD(t,e,r.length,null);for(let u=0;u<r.length;u++){let d=r[u];n.mergedAttrs=El(n.mergedAttrs,d.hostAttrs),i4(t,n,e,c,d),n4(c,d,i),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let h=d.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}G$(t,n,s)}function Y$(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;Z$(o)!=a&&o.push(a),o.push(n,r,s)}}function Z$(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function X$(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;ih(n)&&s4(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||jf(n,e),Ws(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=wa(e,t,a,n);if(Ws(u,e),o!==null&&c4(e,a-i,u,c,n,o),Ji(c)){let d=ts(n.index,e);d[or]=wa(e,t,a,n)}}}function $D(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Tj();try{zs(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];kv(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&J$(c,u)}}finally{zs(-1),kv(o)}}function J$(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function e4(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(U3(e,o.selectors,!1))if(r||(r=[]),Ji(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Wv(t,e,c)}else r.unshift(o),Wv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Wv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function t4(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new ie(-301,!1);r.push(e[i],s)}}}function n4(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ji(e)&&(n[""]=t)}}function r4(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function i4(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=pa(i.type,!0)),o=new Gs(s,Ji(i),oe);t.blueprint[r]=o,n[r]=o,Y$(t,e,r,kD(t,n,i.hostVars,Da),i)}function s4(t,e,n){let r=qn(e,t),i=BD(n),s=t[Ir].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=hh(t,dh(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function o4(t,e,n,r,i,s){let o=qn(t,e);a4(e[Vt],o,s,t.value,n,r,i)}function a4(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?eh(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function c4(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],d=o[a++],h=o[a++];PD(r,n,c,u,d,h)}}function l4(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function HD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function qD(t,e){let n=t.contentQueries;if(n!==null){let r=Le(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];HT(s),a.contentQueries(2,e[o],o)}}}finally{Le(r)}}}function hh(t,e){return t[bl]?t[CA][sr]=e:t[bl]=e,t[CA]=e,e}function Kv(t,e,n){HT(0);let r=Le(null);try{e(t,n)}finally{Le(r)}}function u4(t){return t[kf]??=[]}function d4(t){return t.cleanup??=[]}function zD(t,e){let n=t[va],r=n?n.get(ti,null):null;r&&r.handleError(e)}function U_(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],d=t.data[o];PD(d,u,r,a,c,i)}}function f4(t,e,n){let r=PT(e,t);w$(t[Vt],r,n)}function h4(t,e){let n=ts(e,t),r=n[De];p4(r,n);let i=n[si];i!==null&&n[Pf]===null&&(n[Pf]=P_(i,n[va])),j_(r,n,n[or])}function p4(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function j_(t,e,n){w_(e);try{let r=t.viewQuery;r!==null&&Kv(1,r,n);let i=t.template;i!==null&&OD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ea]?.finishViewCreation(t),t.staticContentQueries&&qD(t,e),t.staticViewQueries&&Kv(2,t.viewQuery,n);let s=t.components;s!==null&&m4(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[pe]&=-5,b_()}}function m4(t,e){for(let n=0;n<e.length;n++)h4(t,e[n])}function g4(t,e,n,r){let i=Le(null);try{let s=e.tView,a=t[pe]&4096?4096:16,c=dh(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[_a]=u;let d=t[Ea];return d!==null&&(c[Ea]=d.createEmbeddedView(s)),j_(s,c,n),c}finally{Le(i)}}function UA(t,e){return!e||e.firstChild===null||fD(t)}function y4(t,e,n,r=!0){let i=e[De];if(S$(i,e,t,n),r){let o=Gv(n,t),a=e[Vt],c=TD(a,t[Hs]);c!==null&&C$(i,t[ar],a,e,c,o)}let s=e[Pf];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Gf(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(xr(s)),oi(s)&&v4(s,r);let o=n.type;if(o&8)Gf(t,e,n.child,r);else if(o&32){let a=O_(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=DD(e,n);if(Array.isArray(a))r.push(...a);else{let c=qs(e[Sr]);Gf(c[De],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function v4(t,e){for(let n=$n;n<t.length;n++){let r=t[n],i=r[De].firstChild;i!==null&&Gf(r[De],r,i,e)}t[Hs]!==t[si]&&e.push(t[Hs])}var GD=[];function _4(t){return t[jn]??E4(t)}function E4(t){let e=GD.pop()??Object.create(b4);return e.lView=t,e}function w4(t){t.lView[jn]!==t&&(t.lView=null,GD.push(t))}var b4=O(E({},fl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{oh(t.lView)},consumerOnSignalRead(){this.lView[jn]=this}});function C4(t){let e=t[jn]??Object.create(I4);return e.lView=t,e}var I4=O(E({},fl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=qs(t.lView);for(;e&&!WD(e[De]);)e=qs(e);e&&FT(e)},consumerOnSignalRead(){this.lView[jn]=this}});function WD(t){return t.type!==2}var S4=100;function KD(t,e=!0,n=0){let r=t[Ir],i=r.rendererFactory,s=!1;s||i.begin?.();try{x4(t,n)}catch(o){throw e&&zD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function x4(t,e){let n=$T();try{SA(!0),Qv(t,e);let r=0;for(;sh(t);){if(r===S4)throw new ie(103,!1);r++,Qv(t,1)}}finally{SA(n)}}function A4(t,e,n,r){let i=e[pe];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Ir].inlineEffectRunner?.flush(),w_(e);let a=!0,c=null,u=null;s||(WD(t)?(u=_4(e),c=qd(u)):Nx()===null?(a=!1,u=C4(e),c=qd(u)):e[jn]&&(jy(e[jn]),e[jn]=null));try{OT(e),Ij(t.bindingStartIndex),n!==null&&OD(t,e,n,2,r);let d=(i&3)===3;if(!s)if(d){let y=t.preOrderCheckHooks;y!==null&&Sf(e,y,null)}else{let y=t.preOrderHooks;y!==null&&xf(e,y,0,null),hv(e,0)}if(o||T4(e),QD(e,0),t.contentQueries!==null&&qD(t,e),!s)if(d){let y=t.contentCheckHooks;y!==null&&Sf(e,y)}else{let y=t.contentHooks;y!==null&&xf(e,y,1),hv(e,1)}B$(t,e);let h=t.components;h!==null&&ZD(e,h,0);let m=t.viewQuery;if(m!==null&&Kv(2,m,r),!s)if(d){let y=t.viewCheckHooks;y!==null&&Sf(e,y)}else{let y=t.viewHooks;y!==null&&xf(e,y,2),hv(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[fv]){for(let y of e[fv])y();e[fv]=null}s||(e[pe]&=-73)}catch(d){throw s||oh(e),d}finally{u!==null&&(By(u,c),a&&w4(u)),b_()}}function QD(t,e){for(let n=pD(t);n!==null;n=mD(n))for(let r=$n;r<n.length;r++){let i=n[r];YD(i,e)}}function T4(t){for(let e=pD(t);e!==null;e=mD(e)){if(!(e[pe]&Lf.HasTransplantedViews))continue;let n=e[Ff];for(let r=0;r<n.length;r++){let i=n[r];FT(i)}}}function D4(t,e,n){let r=ts(e,t);YD(r,n)}function YD(t,e){__(t)&&Qv(t,e)}function Qv(t,e){let r=t[De],i=t[pe],s=t[jn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Uy(s)),o||=!1,s&&(s.dirty=!1),t[pe]&=-9217,o)A4(r,t,r.template,t[or]);else if(i&8192){QD(t,1);let a=r.components;a!==null&&ZD(t,a,1)}}function ZD(t,e,n){for(let r=0;r<e.length;r++)D4(t,e[r],n)}function $_(t,e){let n=$T()?64:1088;for(t[Ir].changeDetectionScheduler?.notify(e);t;){t[pe]|=n;let r=qs(t);if(Nv(t)&&!r)return t;t=r}return null}var Ks=class{get rootNodes(){let e=this._lView,n=e[De];return Gf(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[or]}set context(e){this._lView[or]=e}get destroyed(){return(this._lView[pe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[un];if(oi(e)){let n=e[Of],r=n?n.indexOf(this):-1;r>-1&&(zv(e,r),Nf(n,r))}this._attachedToViewContainer=!1}xD(this._lView[De],this._lView)}onDestroy(e){LT(this._lView,e)}markForCheck(){$_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[pe]&=-129}reattach(){Pv(this._lView),this._lView[pe]|=128}detectChanges(){this._lView[pe]|=1024,KD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Nv(this._lView),n=this._lView[_a];n!==null&&!e&&F_(n,this._lView),ID(this._lView[De],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=e;let n=Nv(this._lView),r=this._lView[_a];r!==null&&!n&&SD(r,this._lView),Pv(this._lView)}},ph=(()=>{class t{static{this.__NG_ELEMENT_ID__=M4}}return t})(),R4=ph,N4=class extends R4{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=g4(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Ks(i)}};function M4(){return P4(En(),tt())}function P4(t,e){return t.type&4?new N4(e,t,ah(t,e)):null}var coe=new RegExp(`^(\\d+)*(${d$}|${u$})*(.*)`);var k4=()=>null;function jA(t,e){return k4(t,e)}var ba=class{},mh=new se("",{providedIn:"root",factory:()=>!1});var XD=new se(""),JD=new se(""),Yv=class{},Wf=class{};function O4(t){let e=Error(`No component factory found for ${ln(t)}.`);return e[F4]=t,e}var F4="ngComponent";var Zv=class{resolveComponentFactory(e){throw O4(e)}},Ca=class{static{this.NULL=new Zv}},Ia=class{},li=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>L4()}}return t})();function L4(){let t=tt(),e=En(),n=ts(e.index,t);return(Yi(n)?n:t)[Vt]}var V4=(()=>{class t{static{this.\u0275prov=ae({token:t,providedIn:"root",factory:()=>null})}}return t})();function Xv(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=hA(i,a);else if(s==2){let c=a,u=e[++o];r=hA(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Kf=class extends Ca{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=$s(e);return new Cl(n,this.ngModule)}};function $A(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Zi.None;e?n.push({propName:o,templateName:r,isSignal:(a&Zi.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function B4(t){let e=t.toLowerCase();return e==="svg"?dj:e==="math"?fj:null}var Cl=class extends Wf{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=$A(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return $A(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=q3(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=Le(null);try{i=i||this.ngModule;let o=i instanceof Hn?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Ov(e,o):e,c=a.get(Ia,null);if(c===null)throw new ie(407,!1);let u=a.get(V4,null),d=a.get(ba,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:d},m=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",_=r?$$(m,r,this.componentDef.encapsulation,a):CD(m,y,B4(y)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let x=null;_!==null&&(x=P_(_,a,!0));let k=B_(0,null,null,1,0,null,null,null,null,null,null),j=dh(null,k,null,D,null,null,h,m,a,null,x);w_(j);let G,ee,Ie=null;try{let re=this.componentDef,T,b=null;re.findHostDirectiveDefs?(T=[],b=new Map,re.findHostDirectiveDefs(re,T,b),T.push(re)):T=[re];let C=U4(j,_);Ie=j4(C,_,re,T,j,h,m),ee=kT(k,Xi),_&&q4(m,re,_,r),n!==void 0&&z4(ee,this.ngContentSelectors,n),G=H4(Ie,re,T,b,j,[G4]),j_(k,j,null)}catch(re){throw Ie!==null&&Hv(Ie),Hv(j),re}finally{b_()}return new Jv(this.componentType,G,ah(ee,j),j,ee)}finally{Le(s)}}},Jv=class extends Yv{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ks(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;U_(s[De],s,i,e,n),this.previousInputValues.set(e,n);let o=ts(this._tNode.index,s);$_(o,1)}}get injector(){return new js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function U4(t,e){let n=t[De],r=Xi;return t[r]=e,fh(n,r,2,"#host",null)}function j4(t,e,n,r,i,s,o){let a=i[De];$4(r,t,e,o);let c=null;e!==null&&(c=P_(e,i[va]));let u=s.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let h=dh(i,BD(n),null,d,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Wv(a,t,r.length-1),hh(i,h),i[t.index]=h}function $4(t,e,n,r){for(let i of t)e.mergedAttrs=El(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Xv(e,e.mergedAttrs,!0),n!==null&&ND(r,n,e))}function H4(t,e,n,r,i,s){let o=En(),a=i[De],c=qn(o,i);jD(a,i,o,n,null,r);for(let d=0;d<n.length;d++){let h=o.directiveStart+d,m=wa(i,a,h,o);Ws(m,i)}$D(a,i,o),c&&Ws(c,i);let u=wa(i,a,o.directiveStart+o.componentOffset,o);if(t[or]=i[or]=u,s!==null)for(let d of s)d(u,e);return FD(a,o,i),u}function q4(t,e,n,r){if(r)Av(t,n,["ng-version","18.2.9"]);else{let{attrs:i,classes:s}=z3(e.selectors[0]);i&&Av(t,n,i),s&&s.length>0&&RD(t,n,s.join(" "))}}function z4(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function G4(){let t=En();S_(tt()[De],t)}var Ra=(()=>{class t{static{this.__NG_ELEMENT_ID__=W4}}return t})();function W4(){let t=En();return Q4(t,tt())}var K4=Ra,eR=class extends K4{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ah(this._hostTNode,this._hostLView)}get injector(){return new js(this._hostTNode,this._hostLView)}get parentInjector(){let e=x_(this._hostTNode,this._hostLView);if(XT(e)){let n=Uf(e,this._hostLView),r=Bf(e),i=n[De].data[r+8];return new js(i,n)}else return new js(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=HA(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=jA(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,UA(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!aj(e),a;if(o)a=n;else{let _=n||{};a=_.index,r=_.injector,i=_.projectableNodes,s=_.environmentInjector||_.ngModuleRef}let c=o?e:new Cl($s(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let D=(o?u:this.parentInjector).get(Hn,null);D&&(s=D)}let d=$s(c.componentType??{}),h=jA(this._lContainer,d?.id??null),m=h?.firstChild??null,y=c.create(u,i,m,s);return this.insertImpl(y.hostView,a,UA(this._hostTNode,h)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(hj(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[un],u=new eR(c,c[ar],c[un]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return y4(o,i,s,r),e.attachToViewContainerRef(),uT(vv(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=HA(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=zv(this._lContainer,n);r&&(Nf(vv(this._lContainer),n),xD(r[De],r))}detach(e){let n=this._adjustIndex(e,-1),r=zv(this._lContainer,n);return r&&Nf(vv(this._lContainer),n)!=null?new Ks(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function HA(t){return t[Of]}function vv(t){return t[Of]||(t[Of]=[])}function Q4(t,e){let n,r=e[t.index];return oi(r)?n=r:(n=HD(r,e,null,t),e[t.index]=n,hh(e,n)),Z4(n,e,t,r),new eR(n,t,e)}function Y4(t,e){let n=t[Vt],r=n.createComment(""),i=qn(e,t),s=TD(n,i);return zf(n,s,r,R$(n,i),!1),r}var Z4=eH,X4=()=>!1;function J4(t,e,n){return X4(t,e,n)}function eH(t,e,n,r){if(t[Hs])return;let i;n.type&8?i=xr(r):i=Y4(e,n),t[Hs]=i}var qA=new Set;function Rl(t){qA.has(t)||(qA.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Nl(t,e){Rl("NgSignals");let n=$x(t),r=n[ji];return e?.equal&&(r.equal=e.equal),n.set=i=>$y(r,i),n.update=i=>Hx(r,i),n.asReadonly=tH.bind(n),n}function tH(){let t=this[ji];if(t.readonlyFn===void 0){let e=()=>this();e[ji]=t,t.readonlyFn=e}return t.readonlyFn}function nH(t){return Object.getPrototypeOf(t.prototype).constructor}function zn(t){let e=nH(t.type),n=!0,r=[t];for(;e;){let i;if(Ji(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ie(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=wf(t.inputs),o.inputTransforms=wf(t.inputTransforms),o.declaredInputs=wf(t.declaredInputs),o.outputs=wf(t.outputs);let a=i.hostBindings;a&&aH(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&sH(t,c),u&&oH(t,u),rH(t,i),f3(t.outputs,i.outputs),Ji(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===zn&&(n=!1)}}e=Object.getPrototypeOf(e)}iH(r)}function rH(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function iH(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=El(i.hostAttrs,n=El(n,i.hostAttrs))}}function wf(t){return t===ma?{}:t===Un?[]:t}function sH(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function oH(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function aH(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function H_(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var es=class{},Il=class{};var e_=class extends es{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Kf(this);let s=_T(e);this._bootstrapComponents=bD(s.bootstrap),this._r3Injector=aD(e,n,[{provide:es,useValue:this},{provide:Ca,useValue:this.componentFactoryResolver},...r],ln(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},t_=class extends Il{constructor(e){super(),this.moduleType=e}create(e){return new e_(this.moduleType,e,[])}};var Qf=class extends es{constructor(e){super(),this.componentFactoryResolver=new Kf(this),this.instance=null;let n=new wl([...e.providers,{provide:es,useValue:this},{provide:Ca,useValue:this.componentFactoryResolver}],e.parent||y_(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function q_(t,e,n=null){return new Qf({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function tR(t){return lH(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function cH(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function lH(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function gh(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function uH(t){return(t.flags&32)===32}function dH(t,e,n,r,i,s,o,a,c){let u=e.consts,d=fh(e,t,4,o||null,a||null);UD(e,n,d,Vf(u,c)),S_(e,d);let h=d.tView=B_(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}function fH(t,e,n,r,i,s,o,a,c,u){let d=n+Xi,h=e.firstCreatePass?dH(d,e,t,r,i,s,o,a,c):e.data[d];Tl(h,!1);let m=hH(e,t,h,n);C_()&&L_(e,t,m,h),Ws(m,t);let y=HD(m,t,m,h);return t[d]=y,hh(t,y),J4(y,h,t),v_(h)&&LD(e,t,h),c!=null&&VD(t,h,u),h}function je(t,e,n,r,i,s,o,a){let c=tt(),u=cr(),d=Vf(u.consts,s);return fH(c,u,t,e,n,r,i,d,o,a),je}var hH=pH;function pH(t,e,n,r){return I_(!0),e[Vt].createComment("")}var yl=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(yl||{}),mH=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}}return t})(),zA=class t{constructor(){this.ngZone=K(He),this.scheduler=K(ba),this.errorHandler=K(ti,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[yl.EarlyRead,yl.Write,yl.MixedReadWrite,yl.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}};function Ml(t,e,n,r){let i=tt(),s=E_();if(gh(i,s,e)){let o=cr(),a=QT();o4(a,i,t,e,n,r)}return Ml}function gH(t,e,n,r){return gh(t,E_(),n)?e+eh(n)+r:Da}function bf(t,e){return t<<17|e<<2}function Qs(t){return t>>17&32767}function yH(t){return(t&2)==2}function vH(t,e){return t&131071|e<<17}function n_(t){return t|2}function Sa(t){return(t&131068)>>2}function _v(t,e){return t&-131069|e<<2}function _H(t){return(t&1)===1}function r_(t){return t|1}function EH(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Qs(o),c=Sa(o);t[r]=n;let u=!1,d;if(Array.isArray(n)){let h=n;d=h[1],(d===null||Al(h,d)>0)&&(u=!0)}else d=n;if(i)if(c!==0){let m=Qs(t[a+1]);t[r+1]=bf(m,a),m!==0&&(t[m+1]=_v(t[m+1],r)),t[a+1]=vH(t[a+1],r)}else t[r+1]=bf(a,0),a!==0&&(t[a+1]=_v(t[a+1],r)),a=r;else t[r+1]=bf(c,0),a===0?a=r:t[c+1]=_v(t[c+1],r),c=r;u&&(t[r+1]=n_(t[r+1])),GA(t,d,r,!0),GA(t,d,r,!1),wH(e,d,t,r,s),o=bf(a,c),s?e.classBindings=o:e.styleBindings=o}function wH(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Al(s,e)>=0&&(n[r+1]=r_(n[r+1]))}function GA(t,e,n,r){let i=t[n+1],s=e===null,o=r?Qs(i):Sa(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];bH(c,e)&&(a=!0,t[o+1]=r?r_(u):n_(u)),o=r?Qs(u):Sa(u)}a&&(t[n+1]=r?n_(i):r_(i))}function bH(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Al(t,e)>=0:!1}function fe(t,e,n){let r=tt(),i=E_();if(gh(r,i,e)){let s=cr(),o=QT();K$(s,o,r,t,e,r[Vt],n,!1)}return fe}function WA(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";U_(t,n,s[o],o,r)}function yh(t,e){return CH(t,e,null,!0),yh}function CH(t,e,n,r){let i=tt(),s=cr(),o=Sj(2);if(s.firstUpdatePass&&SH(s,t,o,r),e!==Da&&gh(i,o,e)){let a=s.data[Aa()];RH(s,a,i,i[Vt],t,i[o+1]=NH(e,n),r,o)}}function IH(t,e){return e>=t.expandoStartIndex}function SH(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Aa()],o=IH(t,n);MH(s,r)&&e===null&&!o&&(e=!1),e=xH(i,s,e,r),EH(i,s,e,n,o,r)}}function xH(t,e,n,r){let i=Dj(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Ev(null,t,e,n,r),n=Sl(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Ev(i,t,e,n,r),s===null){let c=AH(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Ev(null,t,e,c[1],r),c=Sl(c,e.attrs,r),TH(t,e,r,c))}else s=DH(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function AH(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Sa(r)!==0)return t[Qs(r)]}function TH(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Qs(i)]=r}function DH(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Sl(r,o,n)}return Sl(r,e.attrs,n)}function Ev(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Sl(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Sl(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),M3(t,o,n?!0:e[++s]))}return t===void 0?null:t}function RH(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],d=_H(u)?KA(c,e,n,i,Sa(u),o):void 0;if(!Yf(d)){Yf(s)||yH(u)&&(s=KA(c,null,n,i,a,o));let h=PT(Aa(),n);L$(r,o,h,i,s)}}function KA(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),d=u?c[1]:c,h=d===null,m=n[i+1];m===Da&&(m=h?Un:void 0);let y=h?uv(m,r):d===r?m:void 0;if(u&&!Yf(y)&&(y=uv(c,r)),Yf(y)&&(a=y,o))return a;let _=t[i+1];i=o?Qs(_):Sa(_)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=uv(c,r))}return a}function Yf(t){return t!==void 0}function NH(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ln(Dl(t)))),t}function MH(t,e){return(t.flags&(e?8:16))!==0}function PH(t,e,n,r,i,s){let o=e.consts,a=Vf(o,i),c=fh(e,t,2,r,a);return UD(e,n,c,Vf(o,s)),c.attrs!==null&&Xv(c,c.attrs,!1),c.mergedAttrs!==null&&Xv(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function H(t,e,n,r){let i=tt(),s=cr(),o=Xi+t,a=i[Vt],c=s.firstCreatePass?PH(o,s,i,e,n,r):s.data[o],u=kH(s,i,c,a,e,t);i[o]=u;let d=v_(c);return Tl(c,!0),ND(a,u,c),!uH(c)&&C_()&&L_(s,i,u,c),gj()===0&&Ws(u,i),yj(),d&&(LD(s,i,c),FD(s,c,i)),r!==null&&VD(i,c),H}function V(){let t=En();jT()?Cj():(t=t.parent,Tl(t,!1));let e=t;Ej(e)&&wj(),vj();let n=cr();return n.firstCreatePass&&(S_(n,t),TT(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Fj(e)&&WA(n,e,tt(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Lj(e)&&WA(n,e,tt(),e.stylesWithoutHost,!1),V}function Je(t,e,n,r){return H(t,e,n,r),V(),Je}var kH=(t,e,n,r,i,s)=>(I_(!0),CD(r,i,Mj()));function ui(){return tt()}var Zf="en-US";var OH=Zf;function FH(t){typeof t=="string"&&(OH=t.toLowerCase().replace(/_/g,"-"))}var LH=(t,e,n)=>{};function ut(t,e,n,r){let i=tt(),s=cr(),o=En();return BH(s,i,i[Vt],o,t,e,r),ut}function VH(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[kf],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function BH(t,e,n,r,i,s,o){let a=v_(r),u=t.firstCreatePass&&d4(t),d=e[or],h=u4(e),m=!0;if(r.type&3||o){let D=qn(r,e),x=o?o(D):D,k=h.length,j=o?ee=>o(xr(ee[r.index])):r.index,G=null;if(!o&&a&&(G=VH(t,e,i,r.index)),G!==null){let ee=G.__ngLastListenerFn__||G;ee.__ngNextListenerFn__=s,G.__ngLastListenerFn__=s,m=!1}else{s=YA(r,e,d,s),LH(D,i,s);let ee=n.listen(x,i,s);h.push(s,ee),u&&u.push(i,j,k,k+1)}}else s=YA(r,e,d,s);let y=r.outputs,_;if(m&&y!==null&&(_=y[i])){let D=_.length;if(D)for(let x=0;x<D;x+=2){let k=_[x],j=_[x+1],Ie=e[k][j].subscribe(s),re=h.length;h.push(s,Ie),u&&u.push(i,r.index,re,-(re+1))}}}function QA(t,e,n,r){let i=Le(null);try{return wr(6,e,n),n(r)!==!1}catch(s){return zD(t,s),!1}finally{wr(7,e,n),Le(i)}}function YA(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?ts(t.index,e):e;$_(o,5);let a=QA(e,n,r,s),c=i.__ngNextListenerFn__;for(;c;)a=QA(e,n,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function ot(t=1){return Nj(t)}function W(t,e=""){let n=tt(),r=cr(),i=t+Xi,s=r.firstCreatePass?fh(r,i,1,e,null):r.data[i],o=UH(r,n,s,e,t);n[i]=o,C_()&&L_(r,n,o,s),Tl(s,!1)}var UH=(t,e,n,r,i)=>(I_(!0),E$(e[Vt],r));function wn(t){return Na("",t,""),wn}function Na(t,e,n){let r=tt(),i=gH(r,t,e,n);return i!==Da&&f4(r,Aa(),i),Na}function jH(t,e,n){let r=cr();if(r.firstCreatePass){let i=Ji(t);i_(n,r.data,r.blueprint,i,!0),i_(e,r.data,r.blueprint,i,!1)}}function i_(t,e,n,r,i){if(t=cn(t),Array.isArray(t))for(let s=0;s<t.length;s++)i_(t[s],e,n,r,i);else{let s=cr(),o=tt(),a=En(),c=ya(t)?t:cn(t.provide),u=ST(t),d=a.providerIndexes&1048575,h=a.directiveStart,m=a.providerIndexes>>20;if(ya(t)||!t.multi){let y=new Gs(u,i,oe),_=bv(c,e,i?d:d+m,h);_===-1?(Lv(jf(a,o),s,c),wv(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[_]=y,o[_]=y)}else{let y=bv(c,e,d+m,h),_=bv(c,e,d,d+m),D=y>=0&&n[y],x=_>=0&&n[_];if(i&&!x||!i&&!D){Lv(jf(a,o),s,c);let k=qH(i?HH:$H,n.length,i,r,u);!i&&x&&(n[_].providerFactory=k),wv(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),o.push(k)}else{let k=nR(n[i?_:y],u,!i&&r);wv(s,t,y>-1?y:_,k)}!i&&r&&x&&n[_].componentProviders++}}}function wv(t,e,n,r){let i=ya(e),s=J3(e);if(i||s){let c=(s?cn(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(n);d===-1?u.push(n,[r,c]):u[d+1].push(r,c)}else u.push(n,c)}}}function nR(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function bv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function $H(t,e,n,r){return s_(this.multi,[])}function HH(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=wa(n,n[De],this.providerFactory.index,r);s=a.slice(0,o),s_(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],s_(i,s);return s}function s_(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function qH(t,e,n,r,i){let s=new Gs(t,n,oe);return s.multi=[],s.index=e,s.componentProviders=0,nR(s,i,r&&!n),s}function rs(t,e=[]){return n=>{n.providersResolver=(r,i)=>jH(r,i?i(t):t,e)}}var zH=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=bT(!1,n.type),i=r.length>0?q_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ae({token:t,providedIn:"environment",factory:()=>new t(xe(Hn))})}}return t})();function Qt(t){Rl("NgStandalone"),t.getStandaloneInjector=e=>e.get(zH).getOrCreateStandaloneInjector(t)}var ri=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},rR=new ri("18.2.9");var vh=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var iR=new se("");function Xs(t){return!!t&&typeof t.then=="function"}function sR(t){return!!t&&typeof t.subscribe=="function"}var oR=new se(""),aR=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=K(oR,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(Xs(s))n.push(s);else if(sR(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),z_=new se("");function GH(){jx(()=>{throw new ie(600,!1)})}function WH(t){return t.isBoundToModule}var KH=10;function QH(t,e,n){try{let r=n();return Xs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Js=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(r$),this.afterRenderManager=K(mH),this.zonelessEnabled=K(mh),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Dt,this.afterTick=new Dt,this.componentTypes=[],this.components=[],this.isStable=K(Ta).hasPendingTasks.pipe(Se(n=>!n)),this._injector=K(Hn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Wf;if(!this._injector.get(aR).done){let m=!i&&vT(n),y=!1;throw new ie(405,y)}let o;i?o=n:o=this._injector.get(Ca).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=WH(o)?void 0:this._injector.get(es),c=r||o.selector,u=o.create(_n.NULL,[],c,a),d=u.location.nativeElement,h=u.injector.get(iR,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Af(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ie(101,!1);let n=Le(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Le(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Ia,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<KH;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)YH(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>sh(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Af(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(z_,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Af(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ie(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Af(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function YH(t,e,n,r){if(!n&&!sh(t))return;KD(t,e,n&&!r?0:1)}var o_=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},G_=(()=>{class t{compileModuleSync(n){return new t_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=_T(n),s=bD(i.declarations).reduce((o,a)=>{let c=$s(a);return c&&o.push(new Cl(c)),o},[]);return new o_(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ZH=(()=>{class t{constructor(){this.zone=K(He),this.changeDetectionScheduler=K(ba),this.applicationRef=K(Js)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),XH=new se("",{factory:()=>!1});function cR({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new He(O(E({},uR()),{scheduleInRootZone:n})),[{provide:He,useFactory:t},{provide:ga,multi:!0,useFactory:()=>{let r=K(ZH,{optional:!0});return()=>r.initialize()}},{provide:ga,multi:!0,useFactory:()=>{let r=K(JH);return()=>{r.initialize()}}},e===!0?{provide:XD,useValue:!0}:[],{provide:JD,useValue:n??cD}]}function lR(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=cR({ngZoneFactory:()=>{let i=uR(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Rl("NgZone_CoalesceEvent"),new He(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Tr([{provide:XH,useValue:!0},{provide:mh,useValue:!1},r])}function uR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var JH=(()=>{class t{constructor(){this.subscription=new it,this.initialized=!1,this.zone=K(He),this.pendingTasks=K(Ta)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{He.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var eq=(()=>{class t{constructor(){this.appRef=K(Js),this.taskService=K(Ta),this.ngZone=K(He),this.zonelessEnabled=K(mh),this.disableScheduling=K(XD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new it,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hf):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(K(JD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof $v||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?NA:uD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,NA(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function tq(){return typeof $localize<"u"&&$localize.locale||Zf}var W_=new se("",{providedIn:"root",factory:()=>K(W_,Ce.Optional|Ce.SkipSelf)||tq()});var a_=new se("");function Cf(t){return!t.moduleRef}function nq(t){let e=Cf(t)?t.r3Injector:t.moduleRef.injector,n=e.get(He);return n.run(()=>{Cf(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(ti,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Cf(t)){let s=()=>e.destroy(),o=t.platformInjector.get(a_);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(a_);o.add(s),t.moduleRef.onDestroy(()=>{Af(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return QH(r,n,()=>{let s=e.get(aR);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(W_,Zf);if(FH(o||Zf),Cf(t)){let a=e.get(Js);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return rq(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function rq(t,e){let n=t.injector.get(Js);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new ie(-403,!1);e.push(t)}var Tf=null;function iq(t=[],e){return _n.create({name:e,providers:[{provide:nh,useValue:"platform"},{provide:a_,useValue:new Set([()=>Tf=null])},...t]})}function sq(t=[]){if(Tf)return Tf;let e=iq(t);return Tf=e,GH(),oq(e),e}function oq(t){t.get(N_,null)?.forEach(n=>n())}var Ma=(()=>{class t{static{this.__NG_ELEMENT_ID__=aq}}return t})();function aq(t){return cq(En(),tt(),(t&16)===16)}function cq(t,e,n){if(ih(t)&&!n){let r=ts(t.index,e);return new Ks(r,r)}else if(t.type&175){let r=e[Sr];return new Ks(r,e)}return null}var c_=class{constructor(){}supports(e){return tR(e)}create(e){return new l_(e)}},lq=(t,e)=>e,l_=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||lq}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<ZA(r,i,s)?n:r,a=ZA(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,d=c-i;if(u!=d){for(let m=0;m<u;m++){let y=m<s.length?s[m]:s[m]=0,_=y+m;d<=_&&_<u&&(s[m]=y+1)}let h=o.previousIndex;s[h]=d-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!tR(e))throw new ie(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,cH(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new u_(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Xf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Xf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},u_=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},d_=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Xf=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new d_,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ZA(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function XA(){return new K_([new c_])}var K_=(()=>{class t{static{this.\u0275prov=ae({token:t,providedIn:"root",factory:XA})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||XA()),deps:[[t,new lT,new dn]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new ie(901,!1)}}return t})();function dR(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=sq(r),s=[cR({}),{provide:ba,useExisting:eq},...n||[]],o=new Qf({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return nq({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function eo(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Pl(t,e){Rl("NgSignals");let n=Vx(t);return e?.equal&&(n[ji].equal=e.equal),n}function di(t){let e=Le(null);try{return t()}finally{Le(e)}}var gR=null;function fi(){return gR}function yR(t){gR??=t}var _h=class{};var Gn=new se(""),vR=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:()=>K(uq),providedIn:"platform"})}}return t})();var uq=(()=>{class t extends vR{constructor(){super(),this._doc=K(Gn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fi().getBaseHref(this._doc)}onPopState(n){let r=fi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=fi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function _R(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function fR(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function to(t){return t&&t[0]!=="?"?"?"+t:t}var Pa=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:()=>K(ER),providedIn:"root"})}}return t})(),dq=new se(""),ER=(()=>{class t extends Pa{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??K(Gn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return _R(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+to(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+to(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+to(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(xe(vR),xe(dq,8))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var kl=(()=>{class t{constructor(n){this._subject=new gt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=pq(fR(hR(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+to(r))}normalize(n){return t.stripTrailingSlash(hq(this._basePath,hR(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+to(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+to(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=to}static{this.joinWithSlash=_R}static{this.stripTrailingSlash=fR}static{this.\u0275fac=function(r){return new(r||t)(xe(Pa))}}static{this.\u0275prov=ae({token:t,factory:()=>fq(),providedIn:"root"})}}return t})();function fq(){return new kl(xe(Pa))}function hq(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function hR(t){return t.replace(/\/index.html$/,"")}function pq(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function wR(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Q_=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},bR=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Q_(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),pR(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);pR(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(oe(Ra),oe(ph),oe(K_))}}static{this.\u0275dir=st({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function pR(t,e){t.context.$implicit=e.item}var is=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Y_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){mR("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){mR("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(oe(Ra),oe(ph))}}static{this.\u0275dir=st({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Y_=class{constructor(){this.$implicit=null,this.ngIf=null}};function mR(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ln(e)}'.`)}var Ol=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Zs({type:t})}static{this.\u0275inj=Ys({})}}return t})(),CR="browser",mq="server";function Z_(t){return t===mq}var Eh=class{};var eE=class extends _h{constructor(){super(...arguments),this.supportsDOMEvents=!0}},tE=class t extends eE{static makeCurrent(){yR(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=yq();return n==null?null:vq(n)}resetBaseElement(){Fl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return wR(document.cookie,e)}},Fl=null;function yq(){return Fl=Fl||document.querySelector("base"),Fl?Fl.getAttribute("href"):null}function vq(t){return new URL(t,document.baseURI).pathname}var _q=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac})}}return t})(),nE=new se(""),AR=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new ie(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(xe(nE),xe(He))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac})}}return t})(),wh=class{constructor(e){this._doc=e}},X_="ng-app-id",TR=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Z_(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${X_}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(X_),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(X_,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(xe(Gn),xe(R_),xe(M_,8),xe(ns))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac})}}return t})(),J_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},iE=/%COMP%/g,DR="%COMP%",Eq=`_nghost-${DR}`,wq=`_ngcontent-${DR}`,bq=!0,Cq=new se("",{providedIn:"root",factory:()=>bq});function Iq(t){return wq.replace(iE,t)}function Sq(t){return Eq.replace(iE,t)}function RR(t,e){return e.map(n=>n.replace(iE,t))}var IR=(()=>{class t{constructor(n,r,i,s,o,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Z_(a),this.defaultRenderer=new Ll(n,o,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Cr.ShadowDom&&(r=O(E({},r),{encapsulation:Cr.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof bh?i.applyToHost(n):i instanceof Vl&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Cr.Emulated:s=new bh(c,u,r,this.appId,d,o,a,h);break;case Cr.ShadowDom:return new rE(c,u,n,r,o,a,this.nonce,h);default:s=new Vl(c,u,r,d,o,a,h);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(xe(AR),xe(TR),xe(R_),xe(Cq),xe(Gn),xe(ns),xe(He),xe(M_))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac})}}return t})(),Ll=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(J_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(SR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(SR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ie(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=J_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=J_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ni.DashCase|ni.Important)?e.style.setProperty(n,r,i&ni.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ni.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=fi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function SR(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var rE=class extends Ll{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=RR(i.id,i.styles);for(let d of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Vl=class extends Ll{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?RR(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},bh=class extends Vl{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=Iq(u),this.hostAttr=Sq(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},xq=(()=>{class t extends wh{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(xe(Gn))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac})}}return t})(),xR=["alt","control","meta","shift"],Aq={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tq={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Dq=(()=>{class t extends wh{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),xR.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(n,r){let i=Aq[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),xR.forEach(o=>{if(o!==i){let a=Tq[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(xe(Gn))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac})}}return t})();function NR(t,e){return dR(E({rootComponent:t},Rq(e)))}function Rq(t){return{appProviders:[...Oq,...t?.providers??[]],platformProviders:kq}}function Nq(){tE.makeCurrent()}function Mq(){return new ti}function Pq(){return yD(document),document}var kq=[{provide:ns,useValue:CR},{provide:N_,useValue:Nq,multi:!0},{provide:Gn,useFactory:Pq,deps:[]}];var Oq=[{provide:nh,useValue:"root"},{provide:ti,useFactory:Mq,deps:[]},{provide:nE,useClass:xq,multi:!0,deps:[Gn,He,ns]},{provide:nE,useClass:Dq,multi:!0,deps:[Gn]},IR,TR,AR,{provide:Ia,useExisting:IR},{provide:Eh,useClass:_q,deps:[]},[]];var MR=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(xe(Gn))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ee="primary",eu=Symbol("RouteTitle"),lE=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ba(t){return new lE(t)}function Lq(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Vq(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Mr(t[n],e[n]))return!1;return!0}function Mr(t,e){let n=t?uE(t):void 0,r=e?uE(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!UR(t[i],e[i]))return!1;return!0}function uE(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function UR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function jR(t){return t.length>0?t[t.length-1]:null}function os(t){return nv(t)?t:Xs(t)?lt(Promise.resolve(t)):ve(t)}var Bq={exact:HR,subset:qR},$R={exact:Uq,subset:jq,ignored:()=>!0};function PR(t,e,n){return Bq[n.paths](t.root,e.root,n.matrixParams)&&$R[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Uq(t,e){return Mr(t,e)}function HR(t,e,n){if(!ro(t.segments,e.segments)||!Sh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!HR(t.children[r],e.children[r],n))return!1;return!0}function jq(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>UR(t[n],e[n]))}function qR(t,e,n){return zR(t,e,e.segments,n)}function zR(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ro(i,n)||e.hasChildren()||!Sh(i,n,r))}else if(t.segments.length===n.length){if(!ro(t.segments,n)||!Sh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!qR(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ro(t.segments,i)||!Sh(t.segments,i,r)||!t.children[Ee]?!1:zR(t.children[Ee],e,s,r)}}function Sh(t,e,n){return e.every((r,i)=>$R[n](t[i].parameters,r.parameters))}var pi=class{constructor(e=new Ue([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ba(this.queryParams),this._queryParamMap}toString(){return qq.serialize(this)}},Ue=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xh(this)}},no=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ba(this.parameters),this._parameterMap}toString(){return WR(this)}};function $q(t,e){return ro(t,e)&&t.every((n,r)=>Mr(n.parameters,e[r].parameters))}function ro(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Hq(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Ee&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Ee&&(n=n.concat(e(i,r)))}),n}var FE=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:()=>new zl,providedIn:"root"})}}return t})(),zl=class{parse(e){let n=new fE(e);return new pi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Bl(e.root,!0)}`,r=Wq(e.queryParams),i=typeof e.fragment=="string"?`#${zq(e.fragment)}`:"";return`${n}${r}${i}`}},qq=new zl;function xh(t){return t.segments.map(e=>WR(e)).join("/")}function Bl(t,e){if(!t.hasChildren())return xh(t);if(e){let n=t.children[Ee]?Bl(t.children[Ee],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Ee&&r.push(`${i}:${Bl(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Hq(t,(r,i)=>i===Ee?[Bl(t.children[Ee],!1)]:[`${i}:${Bl(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Ee]!=null?`${xh(t)}/${n[0]}`:`${xh(t)}/(${n.join("//")})`}}function GR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ch(t){return GR(t).replace(/%3B/gi,";")}function zq(t){return encodeURI(t)}function dE(t){return GR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ah(t){return decodeURIComponent(t)}function kR(t){return Ah(t.replace(/\+/g,"%20"))}function WR(t){return`${dE(t.path)}${Gq(t.parameters)}`}function Gq(t){return Object.entries(t).map(([e,n])=>`;${dE(e)}=${dE(n)}`).join("")}function Wq(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ch(n)}=${Ch(i)}`).join("&"):`${Ch(n)}=${Ch(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Kq=/^[^\/()?;#]+/;function sE(t){let e=t.match(Kq);return e?e[0]:""}var Qq=/^[^\/()?;=#]+/;function Yq(t){let e=t.match(Qq);return e?e[0]:""}var Zq=/^[^=?&#]+/;function Xq(t){let e=t.match(Zq);return e?e[0]:""}var Jq=/^[^&#]+/;function e6(t){let e=t.match(Jq);return e?e[0]:""}var fE=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Ee]=new Ue(e,n)),r}parseSegment(){let e=sE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ie(4009,!1);return this.capture(e),new no(Ah(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Yq(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=sE(this.remaining);i&&(r=i,this.capture(r))}e[Ah(n)]=Ah(r)}parseQueryParam(e){let n=Xq(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=e6(this.remaining);o&&(r=o,this.capture(r))}let i=kR(n),s=kR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=sE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ie(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ee);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[Ee]:new Ue([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ie(4011,!1)}};function KR(t){return t.segments.length>0?new Ue([],{[Ee]:t}):t}function QR(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=QR(i);if(r===Ee&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ue(t.segments,e);return t6(n)}function t6(t){if(t.numberOfChildren===1&&t.children[Ee]){let e=t.children[Ee];return new Ue(t.segments.concat(e.segments),e.children)}return t}function io(t){return t instanceof pi}function n6(t,e,n=null,r=null){let i=YR(t);return ZR(i,e,n,r)}function YR(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new Ue(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=KR(r);return e??i}function ZR(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return oE(i,i,i,n,r);let s=r6(e);if(s.toRoot())return oE(i,i,new Ue([],{}),n,r);let o=i6(s,i,t),a=o.processChildren?$l(o.segmentGroup,o.index,s.commands):JR(o.segmentGroup,o.index,s.commands);return oE(i,o.segmentGroup,a,n,r)}function Th(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Gl(t){return typeof t=="object"&&t!=null&&t.outlets}function oE(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;t===e?o=n:o=XR(t,e,n);let a=KR(QR(o));return new pi(a,s,i)}function XR(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=XR(s,e,n)}),new Ue(t.segments,r)}var Dh=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Th(r[0]))throw new ie(4003,!1);let i=r.find(Gl);if(i&&i!==jR(r))throw new ie(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function r6(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Dh(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Dh(n,e,r)}var Fa=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function i6(t,e,n){if(t.isAbsolute)return new Fa(e,!0,0);if(!n)return new Fa(e,!1,NaN);if(n.parent===null)return new Fa(n,!0,0);let r=Th(t.commands[0])?0:1,i=n.segments.length-1+r;return s6(n,i,t.numberOfDoubleDots)}function s6(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ie(4005,!1);i=r.segments.length}return new Fa(r,!1,i-s)}function o6(t){return Gl(t[0])?t[0].outlets:{[Ee]:t}}function JR(t,e,n){if(t??=new Ue([],{}),t.segments.length===0&&t.hasChildren())return $l(t,e,n);let r=a6(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ue(t.segments.slice(0,r.pathIndex),{});return s.children[Ee]=new Ue(t.segments.slice(r.pathIndex),t.children),$l(s,0,i)}else return r.match&&i.length===0?new Ue(t.segments,{}):r.match&&!t.hasChildren()?hE(t,e,n):r.match?$l(t,0,i):hE(t,e,n)}function $l(t,e,n){if(n.length===0)return new Ue(t.segments,{});{let r=o6(n),i={};if(Object.keys(r).some(s=>s!==Ee)&&t.children[Ee]&&t.numberOfChildren===1&&t.children[Ee].segments.length===0){let s=$l(t.children[Ee],e,n);return new Ue(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=JR(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ue(t.segments,i)}}function a6(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Gl(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!FR(c,u,o))return s;r+=2}else{if(!FR(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function hE(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Gl(s)){let c=c6(s.outlets);return new Ue(r,c)}if(i===0&&Th(n[0])){let c=t.segments[e];r.push(new no(c.path,OR(n[0]))),i++;continue}let o=Gl(s)?s.outlets[Ee]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Th(a)?(r.push(new no(o,OR(a))),i+=2):(r.push(new no(o,{})),i++)}return new Ue(r,{})}function c6(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=hE(new Ue([],{}),0,r))}),e}function OR(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function FR(t,e,n){return t==n.path&&Mr(e,n.parameters)}var Hl="imperative",Bt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Bt||{}),Wn=class{constructor(e,n){this.id=e,this.url=n}},Wl=class extends Wn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Bt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ss=class extends Wn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Bt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Mn||{}),pE=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(pE||{}),hi=class extends Wn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Bt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},so=class extends Wn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Bt.NavigationSkipped}},Kl=class extends Wn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Bt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Rh=class extends Wn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Bt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mE=class extends Wn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Bt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gE=class extends Wn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Bt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yE=class extends Wn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Bt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vE=class extends Wn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Bt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_E=class{constructor(e){this.route=e,this.type=Bt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},EE=class{constructor(e){this.route=e,this.type=Bt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},wE=class{constructor(e){this.snapshot=e,this.type=Bt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bE=class{constructor(e){this.snapshot=e,this.type=Bt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},CE=class{constructor(e){this.snapshot=e,this.type=Bt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},IE=class{constructor(e){this.snapshot=e,this.type=Bt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ql=class{},Ua=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function l6(t,e){return t.providers&&!t._injector&&(t._injector=q_(t.providers,e,`Route: ${t.path}`)),t._injector??e}function lr(t){return t.outlet||Ee}function u6(t,e){let n=t.filter(r=>lr(r)===e);return n.push(...t.filter(r=>lr(r)!==e)),n}function tu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var SE=class{get injector(){return tu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Lh(this.rootInjector),this.attachRef=null}},Lh=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new SE(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(xe(Hn))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Nh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=xE(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=xE(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=AE(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return AE(e,this._root).map(n=>n.value)}};function xE(t,e){if(t===e.value)return e;for(let n of e.children){let r=xE(t,n);if(r)return r}return null}function AE(t,e){if(t===e.value)return[e];for(let n of e.children){let r=AE(t,n);if(r.length)return r.unshift(e),r}return[]}var Nn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Oa(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Mh=class extends Nh{constructor(e,n){super(e),this.snapshot=n,LE(this,e)}toString(){return this.snapshot.toString()}};function eN(t){let e=d6(t),n=new It([new no("",{})]),r=new It({}),i=new It({}),s=new It({}),o=new It(""),a=new oo(n,r,s,o,i,Ee,t,e.root);return a.snapshot=e.root,new Mh(new Nn(a,[]),e)}function d6(t){let e={},n={},r={},i="",s=new La([],e,r,i,n,Ee,t,null,{});return new kh("",new Nn(s,[]))}var oo=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Se(u=>u[eu]))??ve(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Se(e=>Ba(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Se(e=>Ba(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ph(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),t.params),data:E(E({},e.data),t.data),resolve:E(E(E(E({},t.data),e.data),i?.data),t._resolvedData)}:r={params:E({},t.params),data:E({},t.data),resolve:E(E({},t.data),t._resolvedData??{})},i&&nN(i)&&(r.resolve[eu]=i.title),r}var La=class{get title(){return this.data?.[eu]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ba(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ba(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},kh=class extends Nh{constructor(e,n){super(n),this.url=e,LE(this,n)}toString(){return tN(this._root)}};function LE(t,e){e.value._routerState=t,e.children.forEach(n=>LE(t,n))}function tN(t){let e=t.children.length>0?` { ${t.children.map(tN).join(", ")} } `:"";return`${t.value}${e}`}function aE(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Mr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Mr(e.params,n.params)||t.paramsSubject.next(n.params),Vq(e.url,n.url)||t.urlSubject.next(n.url),Mr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function TE(t,e){let n=Mr(t.params,e.params)&&$q(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||TE(t.parent,e.parent))}function nN(t){return typeof t.title=="string"||t.title===null}var VE=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ee,this.activateEvents=new gt,this.deactivateEvents=new gt,this.attachEvents=new gt,this.detachEvents=new gt,this.parentContexts=K(Lh),this.location=K(Ra),this.changeDetector=K(Ma),this.inputBinder=K(BE,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ie(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ie(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ie(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ie(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new DE(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=st({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ai]})}}return t})(),DE=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===oo?this.route:e===Lh?this.childContexts:this.parent.get(e,n)}},BE=new se("");function f6(t,e,n){let r=Yl(t,e._root,n?n._root:void 0);return new Mh(r,e)}function Yl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=h6(t,e,n);return new Nn(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Yl(t,a)),o}}let r=p6(e.value),i=e.children.map(s=>Yl(t,s));return new Nn(r,i)}}function h6(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Yl(t,r,i);return Yl(t,r)})}function p6(t){return new oo(new It(t.url),new It(t.params),new It(t.queryParams),new It(t.fragment),new It(t.data),t.outlet,t.component,t)}var Zl=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},rN="ngNavigationCancelingError";function Oh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=io(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=iN(!1,Mn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function iN(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[rN]=!0,n.cancellationCode=e,n}function m6(t){return sN(t)&&io(t.url)}function sN(t){return!!t&&t[rN]}var g6=(t,e,n,r)=>Se(i=>(new RE(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),RE=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),aE(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Oa(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Oa(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Oa(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Oa(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new IE(s.value.snapshot))}),e.children.length&&this.forwardEvent(new bE(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(aE(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),aE(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Fh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Va=class{constructor(e,n){this.component=e,this.route=n}};function y6(t,e,n){let r=t._root,i=e?e._root:null;return Ul(r,i,n,[r.value])}function v6(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function $a(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!nT(t)?t:e.get(t):r}function Ul(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Oa(e);return t.children.forEach(o=>{_6(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ql(a,n.getContext(o),i)),i}function _6(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=E6(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Fh(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ul(t,e,a?a.children:null,r,i):Ul(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Va(a.outlet.component,o))}else o&&ql(e,a,i),i.canActivateChecks.push(new Fh(r)),s.component?Ul(t,null,a?a.children:null,r,i):Ul(t,null,n,r,i);return i}function E6(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ro(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ro(t.url,e.url)||!Mr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!TE(t,e)||!Mr(t.queryParams,e.queryParams);case"paramsChange":default:return!TE(t,e)}}function ql(t,e,n){let r=Oa(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ql(o,e.children.getContext(s),n):ql(o,null,n):ql(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Va(e.outlet.component,i)):n.canDeactivateChecks.push(new Va(null,i)):n.canDeactivateChecks.push(new Va(null,i))}function nu(t){return typeof t=="function"}function w6(t){return typeof t=="boolean"}function b6(t){return t&&nu(t.canLoad)}function C6(t){return t&&nu(t.canActivate)}function I6(t){return t&&nu(t.canActivateChild)}function S6(t){return t&&nu(t.canDeactivate)}function x6(t){return t&&nu(t.canMatch)}function oN(t){return t instanceof Jr||t?.name==="EmptyError"}var Ih=Symbol("INITIAL_VALUE");function ja(){return rr(t=>gf(t.map(e=>e.pipe(ei(1),cv(Ih)))).pipe(Se(e=>{for(let n of e)if(n!==!0){if(n===Ih)return Ih;if(n===!1||A6(n))return n}return!0}),nr(e=>e!==Ih),ei(1)))}function A6(t){return io(t)||t instanceof Zl}function T6(t,e){return St(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?ve(O(E({},n),{guardsResult:!0})):D6(o,r,i,t).pipe(St(a=>a&&w6(a)?R6(r,s,t,e):ve(a)),Se(a=>O(E({},n),{guardsResult:a})))})}function D6(t,e,n,r){return lt(t).pipe(St(i=>O6(i.component,i.route,n,e,r)),Er(i=>i!==!0,!0))}function R6(t,e,n,r){return lt(e).pipe(aa(i=>oa(M6(i.route.parent,r),N6(i.route,r),k6(t,i.path,n),P6(t,i.route,n))),Er(i=>i!==!0,!0))}function N6(t,e){return t!==null&&e&&e(new CE(t)),ve(!0)}function M6(t,e){return t!==null&&e&&e(new wE(t)),ve(!0)}function P6(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ve(!0);let i=r.map(s=>yf(()=>{let o=tu(e)??n,a=$a(s,o),c=C6(a)?a.canActivate(e,t):ii(o,()=>a(e,t));return os(c).pipe(Er())}));return ve(i).pipe(ja())}function k6(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>v6(o)).filter(o=>o!==null).map(o=>yf(()=>{let a=o.guards.map(c=>{let u=tu(o.node)??n,d=$a(c,u),h=I6(d)?d.canActivateChild(r,t):ii(u,()=>d(r,t));return os(h).pipe(Er())});return ve(a).pipe(ja())}));return ve(s).pipe(ja())}function O6(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ve(!0);let o=s.map(a=>{let c=tu(e)??i,u=$a(a,c),d=S6(u)?u.canDeactivate(t,e,n,r):ii(c,()=>u(t,e,n,r));return os(d).pipe(Er())});return ve(o).pipe(ja())}function F6(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ve(!0);let s=i.map(o=>{let a=$a(o,t),c=b6(a)?a.canLoad(e,n):ii(t,()=>a(e,n));return os(c)});return ve(s).pipe(ja(),aN(r))}function aN(t){return Ky(xt(e=>{if(typeof e!="boolean")throw Oh(t,e)}),Se(e=>e===!0))}function L6(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ve(!0);let s=i.map(o=>{let a=$a(o,t),c=x6(a)?a.canMatch(e,n):ii(t,()=>a(e,n));return os(c)});return ve(s).pipe(ja(),aN(r))}var Xl=class{constructor(e){this.segmentGroup=e||null}},Jl=class extends Error{constructor(e){super(),this.urlTree=e}};function ka(t){return sa(new Xl(t))}function V6(t){return sa(new ie(4e3,!1))}function B6(t){return sa(iN(!1,Mn.GuardRejected))}var NE=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ve(r);if(i.numberOfChildren>1||!i.children[Ee])return V6(`${e.redirectTo}`);i=i.children[Ee]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:c,fragment:u,routeConfig:d,url:h,outlet:m,params:y,data:_,title:D}=i,x=ii(s,()=>a({params:y,data:_,queryParams:c,fragment:u,routeConfig:d,url:h,outlet:m,title:D}));if(x instanceof pi)throw new Jl(x);n=x}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Jl(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new pi(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Ue(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new ie(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ME={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function U6(t,e,n,r,i){let s=cN(t,e,n);return s.matched?(r=l6(e,r),L6(r,e,n,i).pipe(Se(o=>o===!0?s:E({},ME)))):ve(s)}function cN(t,e,n){if(e.path==="**")return j6(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?E({},ME):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Lq)(n,t,e);if(!i)return E({},ME);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?E(E({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function j6(t){return{matched:!0,parameters:t.length>0?jR(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function LR(t,e,n,r){return n.length>0&&q6(t,n,r)?{segmentGroup:new Ue(e,H6(r,new Ue(n,t.children))),slicedSegments:[]}:n.length===0&&z6(t,n,r)?{segmentGroup:new Ue(t.segments,$6(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ue(t.segments,t.children),slicedSegments:n}}function $6(t,e,n,r){let i={};for(let s of n)if(Vh(t,e,s)&&!r[lr(s)]){let o=new Ue([],{});i[lr(s)]=o}return E(E({},r),i)}function H6(t,e){let n={};n[Ee]=e;for(let r of t)if(r.path===""&&lr(r)!==Ee){let i=new Ue([],{});n[lr(r)]=i}return n}function q6(t,e,n){return n.some(r=>Vh(t,e,r)&&lr(r)!==Ee)}function z6(t,e,n){return n.some(r=>Vh(t,e,r))}function Vh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function G6(t,e,n){return e.length===0&&!t.children[n]}var PE=class{};function W6(t,e,n,r,i,s,o="emptyOnly"){return new kE(t,e,n,r,i,o,s).recognize()}var K6=31,kE=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new NE(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ie(4002,`'${e.segmentGroup}'`)}recognize(){let e=LR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Se(({children:n,rootSnapshot:r})=>{let i=new Nn(r,n),s=new kh("",i),o=n6(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new La([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ee,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ee,n).pipe(Se(r=>({children:r,rootSnapshot:n})),Gi(r=>{if(r instanceof Jl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Xl?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(Se(o=>o instanceof Nn?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return lt(s).pipe(aa(o=>{let a=r.children[o],c=u6(n,o);return this.processSegmentGroup(e,c,a,o,i)}),av((o,a)=>(o.push(...a),o)),Wi(null),ov(),St(o=>{if(o===null)return ka(r);let a=lN(o);return Q6(a),ve(a)}))}processSegment(e,n,r,i,s,o,a){return lt(n).pipe(aa(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,s,o,a).pipe(Gi(u=>{if(u instanceof Xl)return ve(null);throw u}))),Er(c=>!!c),Gi(c=>{if(oN(c))return G6(r,i,s)?ve(new PE):ka(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,c){return lr(r)!==o&&(o===Ee||!Vh(i,s,r))?ka(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,c):ka(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:h,remainingSegments:m}=cN(n,i,s);if(!c)return ka(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>K6&&(this.allowRedirects=!1));let y=new La(s,u,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,VR(i),lr(i),i.component??i._loadedComponent??null,i,BR(i)),_=Ph(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(_.params),y.data=Object.freeze(_.data);let D=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,y,e);return this.applyRedirects.lineralizeSegments(i,D).pipe(St(x=>this.processSegment(e,r,n,x.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=U6(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(rr(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(rr(({routes:u})=>{let d=r._loadedInjector??e,{parameters:h,consumedSegments:m,remainingSegments:y}=c,_=new La(m,h,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,VR(r),lr(r),r.component??r._loadedComponent??null,r,BR(r)),D=Ph(_,o,this.paramsInheritanceStrategy);_.params=Object.freeze(D.params),_.data=Object.freeze(D.data);let{segmentGroup:x,slicedSegments:k}=LR(n,m,y,u);if(k.length===0&&x.hasChildren())return this.processChildren(d,u,x,_).pipe(Se(G=>new Nn(_,G)));if(u.length===0&&k.length===0)return ve(new Nn(_,[]));let j=lr(r)===s;return this.processSegment(d,u,x,k,j?Ee:s,!0,_).pipe(Se(G=>new Nn(_,G instanceof Nn?[G]:[])))}))):ka(n)))}getChildConfig(e,n,r){return n.children?ve({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ve({routes:n._loadedRoutes,injector:n._loadedInjector}):F6(e,n,r,this.urlSerializer).pipe(St(i=>i?this.configLoader.loadChildren(e,n).pipe(xt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):B6(n))):ve({routes:[],injector:e})}};function Q6(t){t.sort((e,n)=>e.value.outlet===Ee?-1:n.value.outlet===Ee?1:e.value.outlet.localeCompare(n.value.outlet))}function Y6(t){let e=t.value.routeConfig;return e&&e.path===""}function lN(t){let e=[],n=new Set;for(let r of t){if(!Y6(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=lN(r.children);e.push(new Nn(r.value,i))}return e.filter(r=>!n.has(r))}function VR(t){return t.data||{}}function BR(t){return t.resolve||{}}function Z6(t,e,n,r,i,s){return St(o=>W6(t,e,n,r,o.extractedUrl,i,s).pipe(Se(({state:a,tree:c})=>O(E({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function X6(t,e){return St(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ve(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of uN(c))o.add(u);let a=0;return lt(o).pipe(aa(c=>s.has(c)?J6(c,r,t,e):(c.data=Ph(c,c.parent,t).resolve,ve(void 0))),xt(()=>a++),ca(1),St(c=>a===o.size?ve(n):Rn))})}function uN(t){let e=t.children.map(n=>uN(n)).flat();return[t,...e]}function J6(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!nN(i)&&(s[eu]=i.title),ez(s,t,e,r).pipe(Se(o=>(t._resolvedData=o,t.data=Ph(t,t.parent,n).resolve,null)))}function ez(t,e,n,r){let i=uE(t);if(i.length===0)return ve({});let s={};return lt(i).pipe(St(o=>tz(t[o],e,n,r).pipe(Er(),xt(a=>{if(a instanceof Zl)throw Oh(new zl,a);s[o]=a}))),ca(1),sv(s),Gi(o=>oN(o)?Rn:sa(o)))}function tz(t,e,n,r){let i=tu(e)??r,s=$a(t,i),o=s.resolve?s.resolve(e,n):ii(i,()=>s(e,n));return os(o)}function cE(t){return rr(e=>{let n=t(e);return n?lt(n).pipe(Se(()=>e)):ve(e)})}var dN=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ee);return r}getResolvedTitleForRoute(n){return n.data[eu]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:()=>K(nz),providedIn:"root"})}}return t})(),nz=(()=>{class t extends dN{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(xe(MR))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),UE=new se("",{providedIn:"root",factory:()=>({})}),rz=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Kt({type:t,selectors:[["ng-component"]],standalone:!0,features:[Qt],decls:1,vars:0,template:function(r,i){r&1&&Je(0,"router-outlet")},dependencies:[VE],encapsulation:2})}}return t})();function jE(t){let e=t.children&&t.children.map(jE),n=e?O(E({},t),{children:e}):E({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ee&&(n.component=rz),n}var $E=new se(""),iz=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(G_)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ve(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=os(n.loadComponent()).pipe(Se(fN),xt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),ml(()=>{this.componentLoaders.delete(n)})),i=new Jo(r,()=>new Dt).pipe(Xo());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=sz(r,this.compiler,n,this.onLoadEndListener).pipe(ml(()=>{this.childrenLoaders.delete(r)})),o=new Jo(s,()=>new Dt).pipe(Xo());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function sz(t,e,n,r){return os(t.loadChildren()).pipe(Se(fN),St(i=>i instanceof Il||Array.isArray(i)?ve(i):lt(e.compileModuleAsync(i))),Se(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get($E,[],{optional:!0,self:!0}).flat()),{routes:o.map(jE),injector:s}}))}function oz(t){return t&&typeof t=="object"&&"default"in t}function fN(t){return oz(t)?t.default:t}var HE=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:()=>K(az),providedIn:"root"})}}return t})(),az=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),cz=new se("");var lz=new se(""),uz=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Dt,this.transitionAbortSubject=new Dt,this.configLoader=K(iz),this.environmentInjector=K(Hn),this.urlSerializer=K(FE),this.rootContexts=K(Lh),this.location=K(kl),this.inputBindingEnabled=K(BE,{optional:!0})!==null,this.titleStrategy=K(dN),this.options=K(UE,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=K(HE),this.createViewTransition=K(cz,{optional:!0}),this.navigationErrorHandler=K(lz,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ve(void 0),this.rootComponentType=null;let n=i=>this.events.next(new _E(i)),r=i=>this.events.next(new EE(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(O(E(E({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new It({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Hl,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(nr(s=>s.id!==0),Se(s=>O(E({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),rr(s=>{let o=!1,a=!1;return ve(s).pipe(rr(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Mn.SupersededByNewNavigation),Rn;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?O(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new so(c.id,this.urlSerializer.serialize(c.rawUrl),h,pE.IgnoredSameUrlNavigation)),c.resolve(!1),Rn}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ve(c).pipe(rr(h=>{let m=this.transitions?.getValue();return this.events.next(new Wl(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),m!==this.transitions?.getValue()?Rn:Promise.resolve(h)}),Z6(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),xt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=O(E({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let m=new Rh(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:m,source:y,restoredState:_,extras:D}=c,x=new Wl(h,this.urlSerializer.serialize(m),y,_);this.events.next(x);let k=eN(this.rootComponentType).snapshot;return this.currentTransition=s=O(E({},c),{targetSnapshot:k,urlAfterRedirects:m,extras:O(E({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,ve(s)}else{let h="";return this.events.next(new so(c.id,this.urlSerializer.serialize(c.extractedUrl),h,pE.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Rn}}),xt(c=>{let u=new mE(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Se(c=>(this.currentTransition=s=O(E({},c),{guards:y6(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),T6(this.environmentInjector,c=>this.events.next(c)),xt(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Oh(this.urlSerializer,c.guardsResult);let u=new gE(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),nr(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Mn.GuardRejected),!1)),cE(c=>{if(c.guards.canActivateChecks.length)return ve(c).pipe(xt(u=>{let d=new yE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),rr(u=>{let d=!1;return ve(u).pipe(X6(this.paramsInheritanceStrategy,this.environmentInjector),xt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Mn.NoDataFromResolver)}}))}),xt(u=>{let d=new vE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),cE(c=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(xt(m=>{d.component=m}),Se(()=>{})));for(let m of d.children)h.push(...u(m));return h};return gf(u(c.targetSnapshot.root)).pipe(Wi(null),ei(1))}),cE(()=>this.afterPreactivation()),rr(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?lt(d).pipe(Se(()=>s)):ve(s)}),Se(c=>{let u=f6(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=O(E({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),xt(()=>{this.events.next(new Ql)}),g6(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ei(1),xt({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ss(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),lv(this.transitionAbortSubject.pipe(xt(c=>{throw c}))),ml(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Mn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Gi(c=>{if(a=!0,sN(c))this.events.next(new hi(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),m6(c)?this.events.next(new Ua(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let u=new Kl(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let d=ii(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Zl){let{message:h,cancellationCode:m}=Oh(this.urlSerializer,d);this.events.next(new hi(s.id,this.urlSerializer.serialize(s.extractedUrl),h,m)),this.events.next(new Ua(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let h=n.errorHandler(c);s.resolve(!!h)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Rn}))}))}cancelNavigationTransition(n,r,i){let s=new hi(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function dz(t){return t!==Hl}var fz=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:()=>K(hz),providedIn:"root"})}}return t})(),OE=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},hz=(()=>{class t extends OE{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ci(t)))(i||t)}})()}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),hN=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:()=>K(pz),providedIn:"root"})}}return t})(),pz=(()=>{class t extends hN{constructor(){super(...arguments),this.location=K(kl),this.urlSerializer=K(FE),this.options=K(UE,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=K(HE),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new pi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=eN(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Wl)this.stateMemento=this.createStateMemento();else if(n instanceof so)this.rawUrlTree=r.initialUrl;else if(n instanceof Rh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Ql?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof hi&&(n.code===Mn.GuardRejected||n.code===Mn.NoDataFromResolver)?this.restoreHistory(r):n instanceof Kl?this.restoreHistory(r,!0):n instanceof ss&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof pi?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=E(E({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ci(t)))(i||t)}})()}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),jl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(jl||{});function mz(t,e){t.events.pipe(nr(n=>n instanceof ss||n instanceof hi||n instanceof Kl||n instanceof so),Se(n=>n instanceof ss||n instanceof so?jl.COMPLETE:(n instanceof hi?n.code===Mn.Redirect||n.code===Mn.SupersededByNewNavigation:!1)?jl.REDIRECTING:jl.FAILED),nr(n=>n!==jl.REDIRECTING),ei(1)).subscribe(()=>{e()})}function gz(t){throw t}var yz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},mi=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=K(vh),this.stateManager=K(hN),this.options=K(UE,{optional:!0})||{},this.pendingTasks=K(Ta),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=K(uz),this.urlSerializer=K(FE),this.location=K(kl),this.urlHandlingStrategy=K(HE),this._events=new Dt,this.errorHandler=this.options.errorHandler||gz,this.navigated=!1,this.routeReuseStrategy=K(fz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=K($E,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!K(BE,{optional:!0}),this.eventsSubscription=new it,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof hi&&r.code!==Mn.Redirect&&r.code!==Mn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ss)this.navigated=!0;else if(r instanceof Ua){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||dz(i.source)},o);this.scheduleNavigation(a,Hl,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Ez(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Hl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=E({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(jE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=E(E({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let m=i?i.snapshot:this.routerState.snapshot.root;h=YR(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),h=this.currentUrlTree.root}return ZR(h,n,d,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=io(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Hl,null,r)}navigate(n,r={skipLocationChange:!1}){return _z(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=E({},yz):r===!1?i=E({},vz):i=r,io(n))return PR(this.currentUrlTree,n,i);let s=this.parseUrl(n);return PR(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((h,m)=>{a=h,c=m});let d=this.pendingTasks.add();return mz(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _z(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ie(4008,!1)}function Ez(t){return!(t instanceof Ql)&&!(t instanceof Ua)}var pN=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.onChanges=new Dt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof ss&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(io(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:ED(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:io(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(oe(mi),oe(oo),A_("tabindex"),oe(li),oe(Nr),oe(Pa))}}static{this.\u0275dir=st({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ut("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Ml("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",eo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",eo],replaceUrl:[2,"replaceUrl","replaceUrl",eo],routerLink:"routerLink"},standalone:!0,features:[H_,ai]})}}return t})();var wz=new se("");function mN(t,...e){return Tr([{provide:$E,multi:!0,useValue:t},[],{provide:oo,useFactory:bz,deps:[mi]},{provide:z_,multi:!0,useFactory:Cz},e.map(n=>n.\u0275providers)])}function bz(t){return t.routerState.root}function Cz(){let t=K(_n);return e=>{let n=t.get(Js);if(e!==n.components[0])return;let r=t.get(mi),i=t.get(Iz);t.get(Sz)===1&&r.initialNavigation(),t.get(xz,null,Ce.Optional)?.setUpPreloading(),t.get(wz,null,Ce.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Iz=new se("",{factory:()=>new Dt}),Sz=new se("",{providedIn:"root",factory:()=>1});var xz=new se("");function Az(t,e){if(t&1&&(H(0,"div",7)(1,"div",8)(2,"div",9)(3,"h5",10),W(4),V(),H(5,"p",11),W(6),V()()()()),t&2){let n=e.$implicit;ne(4),wn(n.name),ne(2),wn(n.description)}}var Bh=class t{services=[{name:"Consulta M\xE9dica",description:"Atenci\xF3n m\xE9dica personalizada."},{name:"Ex\xE1menes de Laboratorio",description:"Realizamos ex\xE1menes de sangre y otros."},{name:"Radiolog\xEDa",description:"Servicios de rayos X y ultrasonido."},{name:"Vacunaci\xF3n",description:"Vacunas para todas las edades."}];static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Kt({type:t,selectors:[["app-home"]],standalone:!0,features:[Qt],decls:18,vars:1,consts:[[1,"container","mt-5","text-center"],[1,"text-light"],[1,"services","mt-4"],[1,"row"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"contact-section","mt-4"],["routerLink","/contact",1,"text-warning"],[1,"col-md-6"],[1,"card","mb-3"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(n,r){n&1&&(H(0,"div",0)(1,"h2",1),W(2,"Bienvenido a Nuestra Cl\xEDnica"),V(),H(3,"p",1),W(4,"Su salud es nuestra prioridad."),V(),H(5,"div",2)(6,"h3",1),W(7,"Servicios Ofrecidos"),V(),H(8,"div",3),je(9,Az,7,2,"div",4),V()(),H(10,"div",5)(11,"h3",1),W(12,"Cont\xE1ctenos"),V(),H(13,"p",1),W(14,"Si tiene preguntas, no dude en "),H(15,"a",6),W(16,"contactarnos"),V(),W(17,"."),V()()()),n&2&&(ne(9),fe("ngForOf",r.services))},dependencies:[bR],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:auto;background:#00000080;border-radius:10px;padding:20px;box-shadow:0 4px 20px #0003}.card[_ngcontent-%COMP%]{background:#ffffffe6}.text-light[_ngcontent-%COMP%]{color:#f8f9fa}.text-warning[_ngcontent-%COMP%]{color:#ffc107}"]})};var SN=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(oe(li),oe(Nr))}}static{this.\u0275dir=st({type:t})}}return t})(),Yh=(()=>{class t extends SN{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ci(t)))(i||t)}})()}static{this.\u0275dir=st({type:t,features:[zn]})}}return t})(),cu=new se("");var Tz={provide:cu,useExisting:Ar(()=>Ka),multi:!0};function Dz(){let t=fi()?fi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Rz=new se(""),Ka=(()=>{class t extends SN{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Dz())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(oe(li),oe(Nr),oe(Rz,8))}}static{this.\u0275dir=st({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ut("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[rs([Tz]),zn]})}}return t})();function as(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function xN(t){return t!=null&&typeof t.length=="number"}var YE=new se(""),AN=new se(""),Nz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,qe=class{static min(e){return Mz(e)}static max(e){return Pz(e)}static required(e){return TN(e)}static requiredTrue(e){return kz(e)}static email(e){return Oz(e)}static minLength(e){return Fz(e)}static maxLength(e){return Lz(e)}static pattern(e){return Vz(e)}static nullValidator(e){return $h(e)}static compose(e){return kN(e)}static composeAsync(e){return FN(e)}};function Mz(t){return e=>{if(as(e.value)||as(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function Pz(t){return e=>{if(as(e.value)||as(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function TN(t){return as(t.value)?{required:!0}:null}function kz(t){return t.value===!0?null:{required:!0}}function Oz(t){return as(t.value)||Nz.test(t.value)?null:{email:!0}}function Fz(t){return e=>as(e.value)||!xN(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Lz(t){return e=>xN(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Vz(t){if(!t)return $h;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(as(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function $h(t){return null}function DN(t){return t!=null}function RN(t){return Xs(t)?lt(t):t}function NN(t){let e={};return t.forEach(n=>{e=n!=null?E(E({},e),n):e}),Object.keys(e).length===0?null:e}function MN(t,e){return e.map(n=>n(t))}function Bz(t){return!t.validate}function PN(t){return t.map(e=>Bz(e)?e:n=>e.validate(n))}function kN(t){if(!t)return null;let e=t.filter(DN);return e.length==0?null:function(n){return NN(MN(n,e))}}function ON(t){return t!=null?kN(PN(t)):null}function FN(t){if(!t)return null;let e=t.filter(DN);return e.length==0?null:function(n){let r=MN(n,e).map(RN);return iv(r).pipe(Se(NN))}}function LN(t){return t!=null?FN(PN(t)):null}function gN(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function VN(t){return t._rawValidators}function BN(t){return t._rawAsyncValidators}function zE(t){return t?Array.isArray(t)?t:[t]:[]}function Hh(t,e){return Array.isArray(t)?t.includes(e):t===e}function yN(t,e){let n=zE(e);return zE(t).forEach(i=>{Hh(n,i)||n.push(i)}),n}function vN(t,e){return zE(e).filter(n=>!Hh(t,n))}var qh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ON(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=LN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ga=class extends qh{get formDirective(){return null}get path(){return null}},au=class extends qh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},zh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Uz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Yae=O(E({},Uz),{"[class.ng-submitted]":"isSubmitted"}),Zh=(()=>{class t extends zh{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(oe(au,2))}}static{this.\u0275dir=st({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&yh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[zn]})}}return t})(),Xh=(()=>{class t extends zh{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(oe(Ga,10))}}static{this.\u0275dir=st({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&yh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[zn]})}}return t})();var ru="VALID",Uh="INVALID",qa="PENDING",iu="DISABLED",cs=class{},Gh=class extends cs{constructor(e,n){super(),this.value=e,this.source=n}},su=class extends cs{constructor(e,n){super(),this.pristine=e,this.source=n}},ou=class extends cs{constructor(e,n){super(),this.touched=e,this.source=n}},za=class extends cs{constructor(e,n){super(),this.status=e,this.source=n}},GE=class extends cs{constructor(e){super(),this.source=e}},WE=class extends cs{constructor(e){super(),this.source=e}};function ZE(t){return(Jh(t)?t.validators:t)||null}function jz(t){return Array.isArray(t)?ON(t):t||null}function XE(t,e){return(Jh(e)?e.asyncValidators:t)||null}function $z(t){return Array.isArray(t)?LN(t):t||null}function Jh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function UN(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new ie(1e3,"");if(!r[n])throw new ie(1001,"")}function jN(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new ie(1002,"")})}var Wa=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Pl(()=>this.statusReactive()),this.statusReactive=Nl(void 0),this._pristine=Pl(()=>this.pristineReactive()),this.pristineReactive=Nl(!0),this._touched=Pl(()=>this.touchedReactive()),this.touchedReactive=Nl(!1),this._events=new Dt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return di(this.statusReactive)}set status(e){di(()=>this.statusReactive.set(e))}get valid(){return this.status===ru}get invalid(){return this.status===Uh}get pending(){return this.status==qa}get disabled(){return this.status===iu}get enabled(){return this.status!==iu}get pristine(){return di(this.pristineReactive)}set pristine(e){di(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return di(this.touchedReactive)}set touched(e){di(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(yN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(yN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(vN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(vN(e,this._rawAsyncValidators))}hasValidator(e){return Hh(this._rawValidators,e)}hasAsyncValidator(e){return Hh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(O(E({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ou(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ou(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(O(E({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new su(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new su(!0,r))}markAsPending(e={}){this.status=qa;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new za(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(O(E({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=iu,this.errors=null,this._forEachChild(i=>{i.disable(O(E({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gh(this.value,r)),this._events.next(new za(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(O(E({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ru,this._forEachChild(r=>{r.enable(O(E({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(O(E({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ru||this.status===qa)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gh(this.value,n)),this._events.next(new za(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(O(E({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?iu:ru}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=qa,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=RN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new za(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new gt,this.statusChanges=new gt}_calculateStatus(){return this._allControlsDisabled()?iu:this.errors?Uh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qa)?qa:this._anyControlsHaveStatus(Uh)?Uh:ru}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new su(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ou(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=jz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=$z(this._rawAsyncValidators)}},Wh=class extends Wa{constructor(e,n,r){super(ZE(n),XE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){jN(this,!0,e),Object.keys(e).forEach(r=>{UN(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var KE=class extends Wh{};var $N=new se("CallSetDisabledState",{providedIn:"root",factory:()=>JE}),JE="always";function Hz(t,e){return[...e.path,t]}function _N(t,e,n=JE){ew(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),zz(t,e),Wz(t,e),Gz(t,e),qz(t,e)}function EN(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Qh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Kh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function qz(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function ew(t,e){let n=VN(t);e.validator!==null?t.setValidators(gN(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=BN(t);e.asyncValidator!==null?t.setAsyncValidators(gN(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Kh(e._rawValidators,i),Kh(e._rawAsyncValidators,i)}function Qh(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=VN(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=BN(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Kh(e._rawValidators,r),Kh(e._rawAsyncValidators,r),n}function zz(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&HN(t,e)})}function Gz(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&HN(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function HN(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Wz(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Kz(t,e){t==null,ew(t,e)}function Qz(t,e){return Qh(t,e)}function Yz(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Zz(t){return Object.getPrototypeOf(t.constructor)===Yh}function Xz(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Jz(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Ka?n=s:Zz(s)?r=s:i=s}),i||r||n||null}function e8(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function wN(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function bN(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var jh=class extends Wa{constructor(e=null,n,r){super(ZE(n),XE(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(bN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){bN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var t8=t=>t instanceof jh;var ep=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=st({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),n8={provide:cu,useExisting:Ar(()=>tw),multi:!0},tw=(()=>{class t extends Yh{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ci(t)))(i||t)}})()}static{this.\u0275dir=st({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&ut("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[rs([n8]),zn]})}}return t})();var qN=new se("");var r8={provide:Ga,useExisting:Ar(()=>lu)},lu=(()=>{class t extends Ga{get submitted(){return di(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Pl(()=>this._submittedReactive()),this._submittedReactive=Nl(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new gt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return _N(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){EN(n.control||null,n,!1),e8(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),Xz(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new GE(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new WE(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(EN(r||null,n),t8(i)&&(_N(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);Kz(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&Qz(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ew(this.form,this),this._oldForm&&Qh(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(oe(YE,10),oe(AN,10),oe($N,8))}}static{this.\u0275dir=st({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ut("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[rs([r8]),zn,ai]})}}return t})();var i8={provide:au,useExisting:Ar(()=>uu)},uu=(()=>{class t extends au{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new gt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Jz(this,s)}ngOnChanges(n){this._added||this._setUpControl(),Yz(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Hz(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(oe(Ga,13),oe(YE,10),oe(AN,10),oe(cu,10),oe(qN,8))}}static{this.\u0275dir=st({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[rs([i8]),zn,ai]})}}return t})(),s8={provide:cu,useExisting:Ar(()=>tp),multi:!0};function zN(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function o8(t){return t.split(":")[0]}var tp=(()=>{class t extends Yh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=zN(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=o8(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ci(t)))(i||t)}})()}static{this.\u0275dir=st({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ut("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[rs([s8]),zn]})}}return t})(),GN=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(zN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(oe(Nr),oe(li),oe(tp,9))}}static{this.\u0275dir=st({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),a8={provide:cu,useExisting:Ar(()=>WN),multi:!0};function CN(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function c8(t){return t.split(":")[0]}var WN=(()=>{class t extends Yh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let c=o[a],u=this._getOptionValue(c.value);i.push(u)}}else{let o=r.options;for(let a=0;a<o.length;a++){let c=o[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=c8(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ci(t)))(i||t)}})()}static{this.\u0275dir=st({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ut("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[rs([a8]),zn]})}}return t})(),KN=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(CN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(CN(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(oe(Nr),oe(li),oe(WN,9))}}static{this.\u0275dir=st({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var l8=(()=>{class t{constructor(){this._validator=$h}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):$h,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=st({type:t,features:[ai]})}}return t})();var u8={provide:YE,useExisting:Ar(()=>du),multi:!0};var du=(()=>{class t extends l8{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=eo,this.createValidator=n=>TN}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ci(t)))(i||t)}})()}static{this.\u0275dir=st({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ml("required",i._enabled?"":null)},inputs:{required:"required"},features:[rs([u8]),zn]})}}return t})();var d8=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Zs({type:t})}static{this.\u0275inj=Ys({})}}return t})(),QE=class extends Wa{constructor(e,n,r){super(ZE(n),XE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){jN(this,!1,e),e.forEach((r,i)=>{UN(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function IN(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var np=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),s={};return IN(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Wh(i,s)}record(n,r=null){let i=this._reduceControls(n);return new KE(i,r)}control(n,r,i){let s={};return this.useNonNullable?(IN(r)?s=r:(s.validators=r,s.asyncValidators=i),new jh(n,O(E({},s),{nonNullable:!0}))):new jh(n,r,i)}array(n,r,i){let s=n.map(o=>this._createControl(o));return new QE(s,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof jh)return n;if(n instanceof Wa)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(r,i,s)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var rp=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:qN,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:$N,useValue:n.callSetDisabledState??JE}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Zs({type:t})}static{this.\u0275inj=Ys({imports:[d8]})}}return t})();var ZN=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},f8=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},XN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4,m=(a&15)<<2|u>>6,y=u&63;c||(y=64,o||(m=64)),r.push(n[d],n[h],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new rw;let m=s<<2|a>>4;if(r.push(m),u!==64){let y=a<<4&240|u>>2;if(r.push(y),h!==64){let _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},rw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},h8=function(t){let e=ZN(t);return XN.encodeByteArray(e,!0)},fu=function(t){return h8(t).replace(/\./g,"")},sw=function(t){try{return XN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function p8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var m8=()=>p8().__FIREBASE_DEFAULTS__,g8=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},y8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&sw(t[1]);return e&&JSON.parse(e)},sp=()=>{try{return m8()||g8()||y8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ow=t=>{var e,n;return(n=(e=sp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},JN=t=>{let e=ow(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aw=()=>{var t;return(t=sp())===null||t===void 0?void 0:t.config},cw=t=>{var e;return(e=sp())===null||e===void 0?void 0:e[`_${t}`]};var ip=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function eM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fu(JSON.stringify(n)),fu(JSON.stringify(o)),""].join(".")}function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function v8(){var t;let e=(t=sp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rM(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sM(){let t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oM(){return!v8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lw(){try{return typeof indexedDB=="object"}catch{return!1}}function aM(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var _8="FirebaseError",Pn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_8,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gi.prototype.create)}},gi=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?E8(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Pn(i,a,r)}};function E8(t,e){return t.replace(w8,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var w8=/\{\$([^}]+)}/g;function cM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ao(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(YN(s)&&YN(o)){if(!ao(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function YN(t){return t!==null&&typeof t=="object"}function hu(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qa(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ya(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function lM(t,e){let n=new iw(t,e);return n.subscribe.bind(n)}var iw=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");b8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nw),i.error===void 0&&(i.error=nw),i.complete===void 0&&(i.complete=nw);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function b8(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nw(){}var Jae=4*60*60*1e3;function Yt(t){return t&&t._delegate?t._delegate:t}var Kn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var co="[DEFAULT]";var uw=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ip;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I8(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return g(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:C8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function C8(t){return t===co?void 0:t}function I8(t){return t.instantiationMode==="EAGER"}var op=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new uw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var S8=[],Ne=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ne||{}),x8={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},A8=Ne.INFO,T8={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},D8=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=T8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ls=class{constructor(e){this.name=e,this._logLevel=A8,this._logHandler=D8,this._userLogHandler=null,S8.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}};var R8=(t,e)=>e.some(n=>t instanceof n),uM,dM;function N8(){return uM||(uM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M8(){return dM||(dM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var fM=new WeakMap,fw=new WeakMap,hM=new WeakMap,dw=new WeakMap,pw=new WeakMap;function P8(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Pr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fM.set(n,t)}).catch(()=>{}),pw.set(e,t),e}function k8(t){if(fw.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fw.set(t,e)}var hw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pM(t){hw=t(hw)}function O8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ap(this),e,...n);return hM.set(r,e.sort?e.sort():[e]),Pr(r)}:M8().includes(t)?function(...e){return t.apply(ap(this),e),Pr(fM.get(this))}:function(...e){return Pr(t.apply(ap(this),e))}}function F8(t){return typeof t=="function"?O8(t):(t instanceof IDBTransaction&&k8(t),R8(t,N8())?new Proxy(t,hw):t)}function Pr(t){if(t instanceof IDBRequest)return P8(t);if(dw.has(t))return dw.get(t);let e=F8(t);return e!==t&&(dw.set(t,e),pw.set(e,t)),e}var ap=t=>pw.get(t);function gM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Pr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Pr(o.result),c.oldVersion,c.newVersion,Pr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var L8=["get","getKey","getAll","getAllKeys","count"],V8=["put","add","delete","clear"],mw=new Map;function mM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mw.get(e))return mw.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=V8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||L8.includes(n)))return;let s=function(o,...a){return g(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return mw.set(e,s),s}pM(t=>O(E({},t),{get:(e,n,r)=>mM(e,n)||t.get(e,n,r),has:(e,n)=>!!mM(e,n)||t.has(e,n)}));var yw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(B8(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function B8(t){let e=t.getComponent();return e?.type==="VERSION"}var vw="@firebase/app",yM="0.10.13";var yi=new ls("@firebase/app"),U8="@firebase/app-compat",j8="@firebase/analytics-compat",$8="@firebase/analytics",H8="@firebase/app-check-compat",q8="@firebase/app-check",z8="@firebase/auth",G8="@firebase/auth-compat",W8="@firebase/database",K8="@firebase/data-connect",Q8="@firebase/database-compat",Y8="@firebase/functions",Z8="@firebase/functions-compat",X8="@firebase/installations",J8="@firebase/installations-compat",eG="@firebase/messaging",tG="@firebase/messaging-compat",nG="@firebase/performance",rG="@firebase/performance-compat",iG="@firebase/remote-config",sG="@firebase/remote-config-compat",oG="@firebase/storage",aG="@firebase/storage-compat",cG="@firebase/firestore",lG="@firebase/vertexai-preview",uG="@firebase/firestore-compat",dG="firebase",fG="10.14.1";var _w="[DEFAULT]",hG={[vw]:"fire-core",[U8]:"fire-core-compat",[$8]:"fire-analytics",[j8]:"fire-analytics-compat",[q8]:"fire-app-check",[H8]:"fire-app-check-compat",[z8]:"fire-auth",[G8]:"fire-auth-compat",[W8]:"fire-rtdb",[K8]:"fire-data-connect",[Q8]:"fire-rtdb-compat",[Y8]:"fire-fn",[Z8]:"fire-fn-compat",[X8]:"fire-iid",[J8]:"fire-iid-compat",[eG]:"fire-fcm",[tG]:"fire-fcm-compat",[nG]:"fire-perf",[rG]:"fire-perf-compat",[iG]:"fire-rc",[sG]:"fire-rc-compat",[oG]:"fire-gcs",[aG]:"fire-gcs-compat",[cG]:"fire-fst",[uG]:"fire-fst-compat",[lG]:"fire-vertex","fire-js":"fire-js",[dG]:"fire-js-all"};var pu=new Map,pG=new Map,Ew=new Map;function vM(t,e){try{t.container.addComponent(e)}catch(n){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ds(t){let e=t.name;if(Ew.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;Ew.set(e,t);for(let n of pu.values())vM(n,t);for(let n of pG.values())vM(n,t);return!0}function gu(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ur(t){return t.settings!==void 0}var mG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new gi("app","Firebase",mG);var ww=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}};var fs=fG;function Iw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:_w,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw us.create("bad-app-name",{appName:String(i)});if(n||(n=aw()),!n)throw us.create("no-options");let s=pu.get(i);if(s){if(ao(n,s.options)&&ao(r,s.config))return s;throw us.create("duplicate-app",{appName:i})}let o=new op(i);for(let c of Ew.values())o.addComponent(c);let a=new ww(n,r,o);return pu.set(i,a),a}function Za(t=_w){let e=pu.get(t);if(!e&&t===_w&&aw())return Iw();if(!e)throw us.create("no-app",{appName:t});return e}function cp(){return Array.from(pu.values())}function At(t,e,n){var r;let i=(r=hG[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(a.join(" "));return}ds(new Kn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var gG="firebase-heartbeat-database",yG=1,mu="firebase-heartbeat-store",gw=null;function bM(){return gw||(gw=gM(gG,yG,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw us.create("idb-open",{originalErrorMessage:t.message})})),gw}function vG(t){return g(this,null,function*(){try{let n=(yield bM()).transaction(mu),r=yield n.objectStore(mu).get(CM(t));return yield n.done,r}catch(e){if(e instanceof Pn)yi.warn(e.message);else{let n=us.create("idb-get",{originalErrorMessage:e?.message});yi.warn(n.message)}}})}function _M(t,e){return g(this,null,function*(){try{let r=(yield bM()).transaction(mu,"readwrite");yield r.objectStore(mu).put(e,CM(t)),yield r.done}catch(n){if(n instanceof Pn)yi.warn(n.message);else{let r=us.create("idb-set",{originalErrorMessage:n?.message});yi.warn(r.message)}}})}function CM(t){return`${t.name}!${t.options.appId}`}var _G=1024,EG=30*24*60*60*1e3,bw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Cw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return g(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=EM();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=EG}),this._storage.overwrite(this._heartbeatsCache))}catch(r){yi.warn(r)}})}getHeartbeatsHeader(){return g(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=EM(),{heartbeatsToSend:r,unsentEntries:i}=wG(this._heartbeatsCache.heartbeats),s=fu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return yi.warn(n),""}})}};function EM(){return new Date().toISOString().substring(0,10)}function wG(t,e=_G){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),wM(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Cw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(this,null,function*(){return lw()?aM().then(()=>!0).catch(()=>!1):!1})}read(){return g(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield vG(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return _M(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return _M(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function wM(t){return fu(JSON.stringify({version:2,heartbeats:t})).length}function bG(t){ds(new Kn("platform-logger",e=>new yw(e),"PRIVATE")),ds(new Kn("heartbeat",e=>new bw(e),"PRIVATE")),At(vw,yM,t),At(vw,yM,"esm2017"),At("fire-js","")}bG("");var CG="firebase",IG="10.14.1";At(CG,IG,"app");var uo=new ri("ANGULARFIRE2_VERSION");function up(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var yu=(t,e)=>{let n=e?[e]:cp(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ja=class{constructor(){return yu(SG)}},SG="app-check";function Xa(){}var lp=class{zone;delegate;constructor(e,n=ev){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Sw=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xa,{},Xa,Xa)),n.pipe(xt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ec=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new lp(Zone.current)),this.insideAngular=n.run(()=>new lp(Zone.current,Jy)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(xe(He))};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dp(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function xG(t){return dp().ngZone.runOutsideAngular(()=>t())}function lo(t){return dp().ngZone.run(()=>t())}function AG(t){return TG(dp())(t)}function TG(t){return function(n){return n=n.lift(new Sw(t.ngZone)),n.pipe(zi(t.outsideAngular),qi(t.insideAngular))}}var DG=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),lo(()=>t.apply(void 0,r))},Cn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=lo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xa,{},Xa,Xa))),r[s]=DG(r[s],n));let i=xG(()=>t.apply(this,r));if(!e)if(i instanceof ke){let s=dp();return i.pipe(zi(s.outsideAngular),qi(s.insideAngular))}else return lo(()=>i);return i instanceof ke?i.pipe(AG):i instanceof Promise?lo(()=>new Promise((s,o)=>i.then(a=>lo(()=>s(a)),a=>lo(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:lo(()=>i)};var vi=class{constructor(e){return e}},fo=class{constructor(){return cp()}};function RG(t){return t&&t.length===1?t[0]:new vi(Za())}var xw=new se("angularfire2._apps"),NG={provide:vi,useFactory:RG,deps:[[new dn,xw]]},MG={provide:fo,deps:[[new dn,xw]]};function PG(t){return(e,n)=>{let r=n.get(ns);At("angularfire",uo.full,"core"),At("angularfire",uo.full,"app"),At("angular",rR.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new vi(i)}}function IM(t,...e){return Tr([NG,MG,{provide:xw,useFactory:PG(t),multi:!0,deps:[He,_n,ec,...e]}])}var SM=Cn(Iw,!0);function $M(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var HM=$M,qM=new gi("auth","Firebase",$M());var yp=new ls("@firebase/auth");function kG(t,...e){yp.logLevel<=Ne.WARN&&yp.warn(`Auth (${fs}): ${t}`,...e)}function hp(t,...e){yp.logLevel<=Ne.ERROR&&yp.error(`Auth (${fs}): ${t}`,...e)}function Or(t,...e){throw Qw(t,...e)}function ho(t,...e){return Qw(t,...e)}function zM(t,e,n){let r=Object.assign(Object.assign({},HM()),{[e]:n});return new gi("auth","Firebase",r).create(e,{appName:t.name})}function wi(t){return zM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qw(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qM.create(t,...e)}function le(t,e,...n){if(!t)throw Qw(e,...n)}function _i(t){let e="INTERNAL ASSERTION FAILED: "+t;throw hp(e),new Error(e)}function ps(t,e){t||_i(e)}function Rw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function OG(){return xM()==="http:"||xM()==="https:"}function xM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function FG(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OG()||rM()||"connection"in navigator)?navigator.onLine:!0}function LG(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var po=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ps(n>e,"Short delay should be less than long delay!"),this.isMobile=tM()||iM()}get(){return FG()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Yw(t,e){ps(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var vp=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var VG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var BG=new po(3e4,6e4);function bi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ci(s,o,a,c){return g(this,arguments,function*(t,e,n,r,i={}){return GM(t,i,()=>g(this,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let h=hu(Object.assign({key:t.config.apiKey},d)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},u);return nM()||(y.referrerPolicy="no-referrer"),vp.fetch()(WM(t,t.config.apiHost,n,h),y)}))})}function GM(t,e,n){return g(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},VG),e);try{let i=new Nw(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw fp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw fp(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw fp(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw fp(t,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw zM(t,d,u);Or(t,d)}}catch(i){if(i instanceof Pn)throw i;Or(t,"network-request-failed",{message:String(i)})}})}function Su(s,o,a,c){return g(this,arguments,function*(t,e,n,r,i={}){let u=yield Ci(t,e,n,r,i);return"mfaPendingCredential"in u&&Or(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function WM(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Yw(t.config,i):`${t.config.apiScheme}://${i}`}function UG(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Nw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ho(this.auth,"network-request-failed")),BG.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function fp(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ho(t,e,r);return i.customData._tokenResponse=n,i}function AM(t){return t!==void 0&&t.enterprise!==void 0}var Mw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return UG(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function jG(t,e){return g(this,null,function*(){return Ci(t,"GET","/v2/recaptchaConfig",bi(t,e))})}function $G(t,e){return g(this,null,function*(){return Ci(t,"POST","/v1/accounts:delete",e)})}function KM(t,e){return g(this,null,function*(){return Ci(t,"POST","/v1/accounts:lookup",e)})}function vu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Zw(t,e=!1){return g(this,null,function*(){let n=Yt(t),r=yield n.getIdToken(e),i=Xw(r);le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:vu(Aw(i.auth_time)),issuedAtTime:vu(Aw(i.iat)),expirationTime:vu(Aw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Aw(t){return Number(t)*1e3}function Xw(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hp("JWT malformed, contained fewer than 3 sections"),null;try{let i=sw(n);return i?JSON.parse(i):(hp("Failed to decode base64 JWT payload"),null)}catch(i){return hp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function TM(t){let e=Xw(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Eu(t,e,n=!1){return g(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Pn&&HG(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function HG({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Pw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>g(this,null,function*(){yield this.iteration()}),n)}iteration(){return g(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var wu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function _p(t){return g(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Eu(t,KM(n,{idToken:r}));le(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?QM(s.providerUserInfo):[],a=qG(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,d=c?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new wu(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)})}function Jw(t){return g(this,null,function*(){let e=Yt(t);yield _p(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function qG(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function QM(t){return t.map(e=>{var{providerId:n}=e,r=tv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function zG(t,e){return g(this,null,function*(){let n=yield GM(t,{},()=>g(this,null,function*(){let r=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=WM(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vp.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function GG(t,e){return g(this,null,function*(){return Ci(t,"POST","/v2/accounts:revokeToken",bi(t,e))})}var _u=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");let n=TM(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return g(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return g(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield zG(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(le(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return _i("not implemented")}};function hs(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var tc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=tv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return g(this,null,function*(){let n=yield Eu(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Zw(this,e)}reload(){return Jw(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return g(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield _p(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return g(this,null,function*(){if(ur(this.auth.app))return Promise.reject(wi(this.auth));let e=yield this.getIdToken();return yield Eu(this,$G(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,d;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,D=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,k=(u=n.createdAt)!==null&&u!==void 0?u:void 0,j=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:G,emailVerified:ee,isAnonymous:Ie,providerData:re,stsTokenManager:T}=n;le(G&&T,e,"internal-error");let b=_u.fromJSON(this.name,T);le(typeof G=="string",e,"internal-error"),hs(h,e.name),hs(m,e.name),le(typeof ee=="boolean",e,"internal-error"),le(typeof Ie=="boolean",e,"internal-error"),hs(y,e.name),hs(_,e.name),hs(D,e.name),hs(x,e.name),hs(k,e.name),hs(j,e.name);let C=new t({uid:G,auth:e,email:m,emailVerified:ee,displayName:h,isAnonymous:Ie,photoURL:_,phoneNumber:y,tenantId:D,stsTokenManager:b,createdAt:k,lastLoginAt:j});return re&&Array.isArray(re)&&(C.providerData=re.map(S=>Object.assign({},S))),x&&(C._redirectEventId=x),C}static _fromIdTokenResponse(e,n,r=!1){return g(this,null,function*(){let i=new _u;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield _p(s),s})}static _fromGetAccountInfoResponse(e,n,r){return g(this,null,function*(){let i=n.users[0];le(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?QM(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new _u;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new wu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var DM=new Map;function Ei(t){ps(t instanceof Function,"Expected a class definition");let e=DM.get(t);return e?(ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DM.set(t,e),e)}var WG=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(this,null,function*(){return!0})}_set(n,r){return g(this,null,function*(){this.storage[n]=r})}_get(n){return g(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return g(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),kw=WG;function pp(t,e,n){return`firebase:${t}:${e}:${n}`}var Ep=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=pp(this.userKey,i.apiKey,s),this.fullPersistenceKey=pp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return g(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?tc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return g(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(this,null,function*(){if(!n.length)return new t(Ei(kw),e,r);let i=(yield Promise.all(n.map(u=>g(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Ei(kw),o=pp(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let d=yield u._get(o);if(d){let h=tc._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>g(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function RM(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tP(e))return"Blackberry";if(nP(e))return"Webos";if(ZM(e))return"Safari";if((e.includes("chrome/")||XM(e))&&!e.includes("edge/"))return"Chrome";if(eP(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function YM(t=Rt()){return/firefox\//i.test(t)}function ZM(t=Rt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XM(t=Rt()){return/crios\//i.test(t)}function JM(t=Rt()){return/iemobile/i.test(t)}function eP(t=Rt()){return/android/i.test(t)}function tP(t=Rt()){return/blackberry/i.test(t)}function nP(t=Rt()){return/webos/i.test(t)}function eb(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KG(t=Rt()){var e;return eb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QG(){return sM()&&document.documentMode===10}function rP(t=Rt()){return eb(t)||eP(t)||nP(t)||tP(t)||/windows phone/i.test(t)||JM(t)}function iP(t,e=[]){let n;switch(t){case"Browser":n=RM(Rt());break;case"Worker":n=`${RM(Rt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fs}/${r}`}var Ow=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return g(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function YG(n){return g(this,arguments,function*(t,e={}){return Ci(t,"GET","/v2/passwordPolicy",bi(t,e))})}var ZG=6,Fw=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ZG,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Lw=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wp(this),this.idTokenSubscription=new wp(this),this.beforeStateQueue=new Ow(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ei(n)),this._initializationPromise=this.queue(()=>g(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Ep.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return g(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return g(this,null,function*(){try{let n=yield KM(this,{idToken:e}),r=yield tc._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return g(this,null,function*(){var n;if(ur(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return g(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return g(this,null,function*(){try{yield _p(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=LG()}_delete(){return g(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return g(this,null,function*(){if(ur(this.app))return Promise.reject(wi(this));let n=e?Yt(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return g(this,null,function*(){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>g(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return g(this,null,function*(){return ur(this.app)?Promise.reject(wi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ur(this.app)?Promise.reject(wi(this)):this.queue(()=>g(this,null,function*(){yield this.assertedPersistence.setPersistence(Ei(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return g(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return g(this,null,function*(){let e=yield YG(this),n=new Fw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return g(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield GG(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return g(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return g(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ei(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=yield Ep.create(this,[Ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return g(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>g(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return g(this,null,function*(){if(e===this.currentUser)return this.queue(()=>g(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return g(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return g(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return g(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&kG(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function go(t){return Yt(t)}var wp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=lM(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Tp={loadJS(){return g(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XG(t){Tp=t}function sP(t){return Tp.loadJS(t)}function JG(){return Tp.recaptchaEnterpriseScript}function e9(){return Tp.gapiScript}function oP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var t9="recaptcha-enterprise",n9="NO_RECAPTCHA",Vw=class{constructor(e){this.type=t9,this.auth=go(e)}verify(e="verify",n=!1){return g(this,null,function*(){function r(s){return g(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>g(this,null,function*(){jG(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Mw(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;AM(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(n9)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&AM(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=JG();c.length!==0&&(c+=a),sP(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function NM(t,e,n,r=!1){return g(this,null,function*(){let i=new Vw(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Bw(t,e,n,r){return g(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield NM(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>g(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield NM(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function tb(t,e){let n=gu(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ao(s,e??{}))return i;Or(i,"already-initialized")}return n.initialize({options:e})}function r9(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ei);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function nb(t,e,n){let r=go(t);le(r._canInitEmulator,r,"emulator-config-failed"),le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=aP(e),{host:o,port:a}=i9(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||s9()}function aP(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function i9(t){let e=aP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:MM(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:MM(o)}}}function MM(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function s9(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var bu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _i("not implemented")}_getIdTokenResponse(e){return _i("not implemented")}_linkToIdToken(e,n){return _i("not implemented")}_getReauthenticationResolver(e){return _i("not implemented")}};function o9(t,e){return g(this,null,function*(){return Ci(t,"POST","/v1/accounts:signUp",e)})}function a9(t,e){return g(this,null,function*(){return Su(t,"POST","/v1/accounts:signInWithPassword",bi(t,e))})}function c9(t,e){return g(this,null,function*(){return Ci(t,"POST","/v1/accounts:sendOobCode",bi(t,e))})}function l9(t,e){return g(this,null,function*(){return c9(t,e)})}function u9(t,e){return g(this,null,function*(){return Su(t,"POST","/v1/accounts:signInWithEmailLink",bi(t,e))})}function d9(t,e){return g(this,null,function*(){return Su(t,"POST","/v1/accounts:signInWithEmailLink",bi(t,e))})}var Cu=class t extends bu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return g(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bw(e,n,"signInWithPassword",a9);case"emailLink":return u9(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}})}_linkToIdToken(e,n){return g(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bw(e,r,"signUpPassword",o9);case"emailLink":return d9(e,{idToken:n,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Tw(t,e){return g(this,null,function*(){return Su(t,"POST","/v1/accounts:signInWithIdp",bi(t,e))})}function f9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function h9(t){let e=Qa(Ya(t)).link,n=e?Qa(Ya(e)).deep_link_id:null,r=Qa(Ya(t)).deep_link_id;return(r?Qa(Ya(r)).link:null)||r||n||e||t}var bp=class t{constructor(e){var n,r,i,s,o,a;let c=Qa(Ya(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,h=f9((i=c.mode)!==null&&i!==void 0?i:null);le(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=h9(e);try{return new t(n)}catch{return null}}};var cP=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Cu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=bp.parseLink(r);return le(i,"argument-error"),Cu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Cp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Uw=class extends Cp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function p9(t,e){return g(this,null,function*(){return Su(t,"POST","/v1/accounts:signUp",bi(t,e))})}var nc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(this,null,function*(){let s=yield tc._fromIdTokenResponse(e,r,i),o=PM(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return g(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=PM(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function PM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var jw=class t extends Pn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function lP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?jw._fromErrorAndOperation(t,s,e,r):s})}function m9(t,e,n=!1){return g(this,null,function*(){let r=yield Eu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return nc._forOperation(t,"link",r)})}function g9(t,e,n=!1){return g(this,null,function*(){let{auth:r}=t;if(ur(r.app))return Promise.reject(wi(r));let i="reauthenticate";try{let s=yield Eu(t,lP(r,i,e,t),n);le(s.idToken,r,"internal-error");let o=Xw(s.idToken);le(o,r,"internal-error");let{sub:a}=o;return le(t.uid===a,r,"user-mismatch"),nc._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Or(r,"user-mismatch"),s}})}function uP(t,e,n=!1){return g(this,null,function*(){if(ur(t.app))return Promise.reject(wi(t));let r="signIn",i=yield lP(t,r,e),s=yield nc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function rb(t,e){return g(this,null,function*(){return uP(go(t),e)})}function y9(t,e,n){var r;le(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),le(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(le(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(le(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function dP(t){return g(this,null,function*(){let e=go(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function ib(t,e,n){return g(this,null,function*(){if(ur(t.app))return Promise.reject(wi(t));let r=go(t),o=yield Bw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",p9).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&dP(t),c}),a=yield nc._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function sb(t,e,n){return ur(t.app)?Promise.reject(wi(t)):rb(Yt(t),cP.credential(e,n)).catch(r=>g(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&dP(t),r}))}function ob(t,e){return g(this,null,function*(){let n=Yt(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&y9(n.auth,i,e);let{email:s}=yield l9(n.auth,i);s!==t.email&&(yield t.reload())})}function ab(t,e,n,r){return Yt(t).onIdTokenChanged(e,n,r)}function cb(t,e,n){return Yt(t).beforeAuthStateChanged(e,n)}var Ip="__sak";var Sp=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ip,"1"),this.storage.removeItem(Ip),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var v9=1e3,_9=10,E9=(()=>{class t extends Sp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rP(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);QG()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,_9):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},v9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return g(this,null,function*(){yield _r(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return g(this,null,function*(){let r=yield _r(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return g(this,null,function*(){yield _r(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),fP=E9;var w9=(()=>{class t extends Sp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),lb=w9;function b9(t){return Promise.all(t.map(e=>g(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var C9=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return g(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(d=>g(this,null,function*(){return d(r.origin,o)})),u=yield b9(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function hP(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var $w=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return g(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=hP("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){let m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function kr(){return window}function I9(t){kr().location.href=t}function pP(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}function S9(){return g(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function x9(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function A9(){return pP()?self:null}var mP="firebaseLocalStorageDb",T9=1,xp="firebaseLocalStorage",gP="fbase_key",mo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Dp(t,e){return t.transaction([xp],e?"readwrite":"readonly").objectStore(xp)}function D9(){let t=indexedDB.deleteDatabase(mP);return new mo(t).toPromise()}function Hw(){let t=indexedDB.open(mP,T9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(xp,{keyPath:gP})}catch(i){n(i)}}),t.addEventListener("success",()=>g(this,null,function*(){let r=t.result;r.objectStoreNames.contains(xp)?e(r):(r.close(),yield D9(),e(yield Hw()))}))})}function kM(t,e,n){return g(this,null,function*(){let r=Dp(t,!0).put({[gP]:e,value:n});return new mo(r).toPromise()})}function R9(t,e){return g(this,null,function*(){let n=Dp(t,!1).get(e),r=yield new mo(n).toPromise();return r===void 0?null:r.value})}function OM(t,e){let n=Dp(t,!0).delete(e);return new mo(n).toPromise()}var N9=800,M9=3,P9=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return g(this,null,function*(){return this.db?this.db:(this.db=yield Hw(),this.db)})}_withRetries(n){return g(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>M9)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return g(this,null,function*(){return pP()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return g(this,null,function*(){this.receiver=C9._getInstance(A9()),this.receiver._subscribe("keyChanged",(n,r)=>g(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>g(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return g(this,null,function*(){var n,r;if(this.activeServiceWorker=yield S9(),!this.activeServiceWorker)return;this.sender=new $w(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return g(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||x9()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return g(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Hw();return yield kM(n,Ip,"1"),yield OM(n,Ip),!0}catch{}return!1})}_withPendingWrite(n){return g(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(i=>kM(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return g(this,null,function*(){let r=yield this._withRetries(i=>R9(i,n));return this.localCache[n]=r,r})}_remove(n){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(r=>OM(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return g(this,null,function*(){let n=yield this._withRetries(s=>{let o=Dp(s,!1).getAll();return new mo(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>g(this,null,function*(){return this._poll()}),N9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),yP=P9;var Gce=oP("rcb"),Wce=new po(3e4,6e4);function k9(t,e){return e?Ei(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Iu=class extends bu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tw(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tw(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tw(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function O9(t){return uP(t.auth,new Iu(t),t.bypassAuthState)}function F9(t){let{auth:e,user:n}=t;return le(n,e,"internal-error"),g9(n,new Iu(t),t.bypassAuthState)}function L9(t){return g(this,null,function*(){let{auth:e,user:n}=t;return le(n,e,"internal-error"),m9(n,new Iu(t),t.bypassAuthState)})}var qw=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>g(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return g(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O9;case"linkViaPopup":case"linkViaRedirect":return L9;case"reauthViaPopup":case"reauthViaRedirect":return F9;default:Or(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Kce=new po(2e3,1e4);var V9="pendingRedirect",mp=new Map,zw=class t extends qw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return g(this,null,function*(){let e=mp.get(this.auth._key());if(!e){try{let r=(yield B9(this.resolver,this.auth))?yield _r(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mp.set(this.auth._key(),e)}return this.bypassAuthState||mp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return g(this,null,function*(){if(e.type==="signInViaRedirect")return _r(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,_r(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return g(this,null,function*(){})}cleanUp(){}};function B9(t,e){return g(this,null,function*(){let n=$9(e),r=j9(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function U9(t,e){mp.set(t._key(),e)}function j9(t){return Ei(t._redirectPersistence)}function $9(t){return pp(V9,t.config.apiKey,t.name)}function H9(t,e,n=!1){return g(this,null,function*(){if(ur(t.app))return Promise.reject(wi(t));let r=go(t),i=k9(r,e),o=yield new zw(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var q9=10*60*1e3,Gw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vP(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ho(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q9&&this.cachedEventUids.clear(),this.cachedEventUids.has(FM(e))}saveEventToCache(e){this.cachedEventUids.add(FM(e)),this.lastProcessedEventTime=Date.now()}};function FM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vP({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function z9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vP(t);default:return!1}}function G9(n){return g(this,arguments,function*(t,e={}){return Ci(t,"GET","/v1/projects",e)})}var W9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K9=/^https?/;function Q9(t){return g(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield G9(t);for(let n of e)try{if(Y9(n))return}catch{}Or(t,"unauthorized-domain")})}function Y9(t){let e=Rw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!K9.test(n))return!1;if(W9.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Z9=new po(3e4,6e4);function LM(){let t=kr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function X9(t){return new Promise((e,n)=>{var r,i,s;function o(){LM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LM(),n(ho(t,"network-request-failed"))},timeout:Z9.get()})}if(!((i=(r=kr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=kr().gapi)===null||s===void 0)&&s.load)o();else{let a=oP("iframefcb");return kr()[a]=()=>{gapi.load?o():n(ho(t,"network-request-failed"))},sP(`${e9()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw gp=null,e})}var gp=null;function J9(t){return gp=gp||X9(t),gp}var e5=new po(5e3,15e3),t5="__/auth/iframe",n5="emulator/auth/iframe",r5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s5(t){let e=t.config;le(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Yw(e,n5):`https://${t.config.authDomain}/${t5}`,r={apiKey:e.apiKey,appName:t.name,v:fs},i=i5.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hu(r).slice(1)}`}function o5(t){return g(this,null,function*(){let e=yield J9(t),n=kr().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:s5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r5,dontclear:!0},r=>new Promise((i,s)=>g(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ho(t,"network-request-failed"),a=kr().setTimeout(()=>{s(o)},e5.get());function c(){kr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var a5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c5=500,l5=600,u5="_blank",d5="http://localhost",Ap=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function f5(t,e,n,r=c5,i=l5){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},a5),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Rt().toLowerCase();n&&(a=XM(u)?u5:n),YM(u)&&(e=e||d5,c.scrollbars="yes");let d=Object.entries(c).reduce((m,[y,_])=>`${m}${y}=${_},`,"");if(KG(u)&&a!=="_self")return h5(e||"",a),new Ap(null);let h=window.open(e||"",a,d);le(h,t,"popup-blocked");try{h.focus()}catch{}return new Ap(h)}function h5(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var p5="__/auth/handler",m5="emulator/auth/handler",g5=encodeURIComponent("fac");function VM(t,e,n,r,i,s){return g(this,null,function*(){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fs,eventId:i};if(e instanceof Cp){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Uw){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield t._getAppCheckToken(),u=c?`#${g5}=${encodeURIComponent(c)}`:"";return`${y5(t)}?${hu(a).slice(1)}${u}`})}function y5({config:t}){return t.emulator?Yw(t,m5):`https://${t.authDomain}/${p5}`}var Dw="webStorageSupport",Ww=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lb,this._completeRedirectFn=H9,this._overrideRedirectResult=U9}_openPopup(e,n,r,i){return g(this,null,function*(){var s;ps((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield VM(e,n,r,Rw(),i);return f5(e,o,hP())})}_openRedirect(e,n,r,i){return g(this,null,function*(){yield this._originValidation(e);let s=yield VM(e,n,r,Rw(),i);return I9(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ps(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return g(this,null,function*(){let n=yield o5(e),r=new Gw(e);return n.register("authEvent",i=>(le(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dw,{type:Dw},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Dw];o!==void 0&&n(!!o),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Q9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rP()||ZM()||eb()}},_P=Ww;var BM="@firebase/auth",UM="1.7.9";var Kw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return g(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function v5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _5(t){ds(new Kn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iP(t)},u=new Lw(r,i,s,c);return r9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ds(new Kn("auth-internal",e=>{let n=go(e.getProvider("auth").getImmediate());return(r=>new Kw(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),At(BM,UM,v5(t)),At(BM,UM,"esm2017")}var E5=5*60,w5=cw("authIdTokenMaxAge")||E5,jM=null,b5=t=>e=>g(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>w5)return;let i=n?.token;jM!==i&&(jM=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ub(t=Za()){let e=gu(t,"auth");if(e.isInitialized())return e.getImmediate();let n=tb(t,{popupRedirectResolver:_P,persistence:[yP,fP,lb]}),r=cw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=b5(s.toString());cb(n,o,()=>o(n.currentUser)),ab(n,a=>o(a))}}let i=ow("auth");return i&&nb(n,`http://${i}`),n}function C5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}XG({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ho("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",C5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_5("Browser");var EP="auth",Ii=class{constructor(e){return e}},xu=class{constructor(){return yu(EP)}};var db=new se("angularfire2.auth-instances");function hW(t,e){let n=up(EP,t,e);return n&&new Ii(n)}function pW(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ii(r)}}var mW={provide:xu,deps:[[new dn,db]]},gW={provide:Ii,useFactory:hW,deps:[[new dn,db],vi]};function wP(t,...e){return At("angularfire",uo.full,"auth"),Tr([gW,mW,{provide:db,useFactory:pW(t),multi:!0,deps:[He,_n,ec,fo,[new dn,Ja],...e]}])}var bP=Cn(ib,!0);var CP=Cn(ub,!0);var IP=Cn(ob,!0);var SP=Cn(sb,!0);var AP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},TP={};var ms,fb;(function(){var t;function e(T,b){function C(){}C.prototype=b.prototype,T.D=b.prototype,T.prototype=new C,T.prototype.constructor=T,T.C=function(S,R,M){for(var I=Array(arguments.length-2),Qr=2;Qr<arguments.length;Qr++)I[Qr-2]=arguments[Qr];return b.prototype[R].apply(S,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,b,C){C||(C=0);var S=Array(16);if(typeof b=="string")for(var R=0;16>R;++R)S[R]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(R=0;16>R;++R)S[R]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=T.g[0],C=T.g[1],R=T.g[2];var M=T.g[3],I=b+(M^C&(R^M))+S[0]+3614090360&4294967295;b=C+(I<<7&4294967295|I>>>25),I=M+(R^b&(C^R))+S[1]+3905402710&4294967295,M=b+(I<<12&4294967295|I>>>20),I=R+(C^M&(b^C))+S[2]+606105819&4294967295,R=M+(I<<17&4294967295|I>>>15),I=C+(b^R&(M^b))+S[3]+3250441966&4294967295,C=R+(I<<22&4294967295|I>>>10),I=b+(M^C&(R^M))+S[4]+4118548399&4294967295,b=C+(I<<7&4294967295|I>>>25),I=M+(R^b&(C^R))+S[5]+1200080426&4294967295,M=b+(I<<12&4294967295|I>>>20),I=R+(C^M&(b^C))+S[6]+2821735955&4294967295,R=M+(I<<17&4294967295|I>>>15),I=C+(b^R&(M^b))+S[7]+4249261313&4294967295,C=R+(I<<22&4294967295|I>>>10),I=b+(M^C&(R^M))+S[8]+1770035416&4294967295,b=C+(I<<7&4294967295|I>>>25),I=M+(R^b&(C^R))+S[9]+2336552879&4294967295,M=b+(I<<12&4294967295|I>>>20),I=R+(C^M&(b^C))+S[10]+4294925233&4294967295,R=M+(I<<17&4294967295|I>>>15),I=C+(b^R&(M^b))+S[11]+2304563134&4294967295,C=R+(I<<22&4294967295|I>>>10),I=b+(M^C&(R^M))+S[12]+1804603682&4294967295,b=C+(I<<7&4294967295|I>>>25),I=M+(R^b&(C^R))+S[13]+4254626195&4294967295,M=b+(I<<12&4294967295|I>>>20),I=R+(C^M&(b^C))+S[14]+2792965006&4294967295,R=M+(I<<17&4294967295|I>>>15),I=C+(b^R&(M^b))+S[15]+1236535329&4294967295,C=R+(I<<22&4294967295|I>>>10),I=b+(R^M&(C^R))+S[1]+4129170786&4294967295,b=C+(I<<5&4294967295|I>>>27),I=M+(C^R&(b^C))+S[6]+3225465664&4294967295,M=b+(I<<9&4294967295|I>>>23),I=R+(b^C&(M^b))+S[11]+643717713&4294967295,R=M+(I<<14&4294967295|I>>>18),I=C+(M^b&(R^M))+S[0]+3921069994&4294967295,C=R+(I<<20&4294967295|I>>>12),I=b+(R^M&(C^R))+S[5]+3593408605&4294967295,b=C+(I<<5&4294967295|I>>>27),I=M+(C^R&(b^C))+S[10]+38016083&4294967295,M=b+(I<<9&4294967295|I>>>23),I=R+(b^C&(M^b))+S[15]+3634488961&4294967295,R=M+(I<<14&4294967295|I>>>18),I=C+(M^b&(R^M))+S[4]+3889429448&4294967295,C=R+(I<<20&4294967295|I>>>12),I=b+(R^M&(C^R))+S[9]+568446438&4294967295,b=C+(I<<5&4294967295|I>>>27),I=M+(C^R&(b^C))+S[14]+3275163606&4294967295,M=b+(I<<9&4294967295|I>>>23),I=R+(b^C&(M^b))+S[3]+4107603335&4294967295,R=M+(I<<14&4294967295|I>>>18),I=C+(M^b&(R^M))+S[8]+1163531501&4294967295,C=R+(I<<20&4294967295|I>>>12),I=b+(R^M&(C^R))+S[13]+2850285829&4294967295,b=C+(I<<5&4294967295|I>>>27),I=M+(C^R&(b^C))+S[2]+4243563512&4294967295,M=b+(I<<9&4294967295|I>>>23),I=R+(b^C&(M^b))+S[7]+1735328473&4294967295,R=M+(I<<14&4294967295|I>>>18),I=C+(M^b&(R^M))+S[12]+2368359562&4294967295,C=R+(I<<20&4294967295|I>>>12),I=b+(C^R^M)+S[5]+4294588738&4294967295,b=C+(I<<4&4294967295|I>>>28),I=M+(b^C^R)+S[8]+2272392833&4294967295,M=b+(I<<11&4294967295|I>>>21),I=R+(M^b^C)+S[11]+1839030562&4294967295,R=M+(I<<16&4294967295|I>>>16),I=C+(R^M^b)+S[14]+4259657740&4294967295,C=R+(I<<23&4294967295|I>>>9),I=b+(C^R^M)+S[1]+2763975236&4294967295,b=C+(I<<4&4294967295|I>>>28),I=M+(b^C^R)+S[4]+1272893353&4294967295,M=b+(I<<11&4294967295|I>>>21),I=R+(M^b^C)+S[7]+4139469664&4294967295,R=M+(I<<16&4294967295|I>>>16),I=C+(R^M^b)+S[10]+3200236656&4294967295,C=R+(I<<23&4294967295|I>>>9),I=b+(C^R^M)+S[13]+681279174&4294967295,b=C+(I<<4&4294967295|I>>>28),I=M+(b^C^R)+S[0]+3936430074&4294967295,M=b+(I<<11&4294967295|I>>>21),I=R+(M^b^C)+S[3]+3572445317&4294967295,R=M+(I<<16&4294967295|I>>>16),I=C+(R^M^b)+S[6]+76029189&4294967295,C=R+(I<<23&4294967295|I>>>9),I=b+(C^R^M)+S[9]+3654602809&4294967295,b=C+(I<<4&4294967295|I>>>28),I=M+(b^C^R)+S[12]+3873151461&4294967295,M=b+(I<<11&4294967295|I>>>21),I=R+(M^b^C)+S[15]+530742520&4294967295,R=M+(I<<16&4294967295|I>>>16),I=C+(R^M^b)+S[2]+3299628645&4294967295,C=R+(I<<23&4294967295|I>>>9),I=b+(R^(C|~M))+S[0]+4096336452&4294967295,b=C+(I<<6&4294967295|I>>>26),I=M+(C^(b|~R))+S[7]+1126891415&4294967295,M=b+(I<<10&4294967295|I>>>22),I=R+(b^(M|~C))+S[14]+2878612391&4294967295,R=M+(I<<15&4294967295|I>>>17),I=C+(M^(R|~b))+S[5]+4237533241&4294967295,C=R+(I<<21&4294967295|I>>>11),I=b+(R^(C|~M))+S[12]+1700485571&4294967295,b=C+(I<<6&4294967295|I>>>26),I=M+(C^(b|~R))+S[3]+2399980690&4294967295,M=b+(I<<10&4294967295|I>>>22),I=R+(b^(M|~C))+S[10]+4293915773&4294967295,R=M+(I<<15&4294967295|I>>>17),I=C+(M^(R|~b))+S[1]+2240044497&4294967295,C=R+(I<<21&4294967295|I>>>11),I=b+(R^(C|~M))+S[8]+1873313359&4294967295,b=C+(I<<6&4294967295|I>>>26),I=M+(C^(b|~R))+S[15]+4264355552&4294967295,M=b+(I<<10&4294967295|I>>>22),I=R+(b^(M|~C))+S[6]+2734768916&4294967295,R=M+(I<<15&4294967295|I>>>17),I=C+(M^(R|~b))+S[13]+1309151649&4294967295,C=R+(I<<21&4294967295|I>>>11),I=b+(R^(C|~M))+S[4]+4149444226&4294967295,b=C+(I<<6&4294967295|I>>>26),I=M+(C^(b|~R))+S[11]+3174756917&4294967295,M=b+(I<<10&4294967295|I>>>22),I=R+(b^(M|~C))+S[2]+718787259&4294967295,R=M+(I<<15&4294967295|I>>>17),I=C+(M^(R|~b))+S[9]+3951481745&4294967295,T.g[0]=T.g[0]+b&4294967295,T.g[1]=T.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+M&4294967295}r.prototype.u=function(T,b){b===void 0&&(b=T.length);for(var C=b-this.blockSize,S=this.B,R=this.h,M=0;M<b;){if(R==0)for(;M<=C;)i(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<b;)if(S[R++]=T.charCodeAt(M++),R==this.blockSize){i(this,S),R=0;break}}else for(;M<b;)if(S[R++]=T[M++],R==this.blockSize){i(this,S),R=0;break}}this.h=R,this.o+=b},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var b=1;b<T.length-8;++b)T[b]=0;var C=8*this.o;for(b=T.length-8;b<T.length;++b)T[b]=C&255,C/=256;for(this.u(T),T=Array(16),b=C=0;4>b;++b)for(var S=0;32>S;S+=8)T[C++]=this.g[b]>>>S&255;return T};function s(T,b){var C=a;return Object.prototype.hasOwnProperty.call(C,T)?C[T]:C[T]=b(T)}function o(T,b){this.h=b;for(var C=[],S=!0,R=T.length-1;0<=R;R--){var M=T[R]|0;S&&M==b||(C[R]=M,S=!1)}this.g=C}var a={};function c(T){return-128<=T&&128>T?s(T,function(b){return new o([b|0],0>b?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return x(u(-T));for(var b=[],C=1,S=0;T>=C;S++)b[S]=T/C|0,C*=4294967296;return new o(b,0)}function d(T,b){if(T.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T.charAt(0)=="-")return x(d(T.substring(1),b));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(b,8)),S=h,R=0;R<T.length;R+=8){var M=Math.min(8,T.length-R),I=parseInt(T.substring(R,R+M),b);8>M?(M=u(Math.pow(b,M)),S=S.j(M).add(u(I))):(S=S.j(C),S=S.add(u(I)))}return S}var h=c(0),m=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(D(this))return-x(this).m();for(var T=0,b=1,C=0;C<this.g.length;C++){var S=this.i(C);T+=(0<=S?S:4294967296+S)*b,b*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(_(this))return"0";if(D(this))return"-"+x(this).toString(T);for(var b=u(Math.pow(T,6)),C=this,S="";;){var R=ee(C,b).g;C=k(C,R.j(b));var M=((0<C.g.length?C.g[0]:C.h)>>>0).toString(T);if(C=R,_(C))return M+S;for(;6>M.length;)M="0"+M;S=M+S}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function _(T){if(T.h!=0)return!1;for(var b=0;b<T.g.length;b++)if(T.g[b]!=0)return!1;return!0}function D(T){return T.h==-1}t.l=function(T){return T=k(this,T),D(T)?-1:_(T)?0:1};function x(T){for(var b=T.g.length,C=[],S=0;S<b;S++)C[S]=~T.g[S];return new o(C,~T.h).add(m)}t.abs=function(){return D(this)?x(this):this},t.add=function(T){for(var b=Math.max(this.g.length,T.g.length),C=[],S=0,R=0;R<=b;R++){var M=S+(this.i(R)&65535)+(T.i(R)&65535),I=(M>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);S=I>>>16,M&=65535,I&=65535,C[R]=I<<16|M}return new o(C,C[C.length-1]&-2147483648?-1:0)};function k(T,b){return T.add(x(b))}t.j=function(T){if(_(this)||_(T))return h;if(D(this))return D(T)?x(this).j(x(T)):x(x(this).j(T));if(D(T))return x(this.j(x(T)));if(0>this.l(y)&&0>T.l(y))return u(this.m()*T.m());for(var b=this.g.length+T.g.length,C=[],S=0;S<2*b;S++)C[S]=0;for(S=0;S<this.g.length;S++)for(var R=0;R<T.g.length;R++){var M=this.i(S)>>>16,I=this.i(S)&65535,Qr=T.i(R)>>>16,Gc=T.i(R)&65535;C[2*S+2*R]+=I*Gc,j(C,2*S+2*R),C[2*S+2*R+1]+=M*Gc,j(C,2*S+2*R+1),C[2*S+2*R+1]+=I*Qr,j(C,2*S+2*R+1),C[2*S+2*R+2]+=M*Qr,j(C,2*S+2*R+2)}for(S=0;S<b;S++)C[S]=C[2*S+1]<<16|C[2*S];for(S=b;S<2*b;S++)C[S]=0;return new o(C,0)};function j(T,b){for(;(T[b]&65535)!=T[b];)T[b+1]+=T[b]>>>16,T[b]&=65535,b++}function G(T,b){this.g=T,this.h=b}function ee(T,b){if(_(b))throw Error("division by zero");if(_(T))return new G(h,h);if(D(T))return b=ee(x(T),b),new G(x(b.g),x(b.h));if(D(b))return b=ee(T,x(b)),new G(x(b.g),b.h);if(30<T.g.length){if(D(T)||D(b))throw Error("slowDivide_ only works with positive integers.");for(var C=m,S=b;0>=S.l(T);)C=Ie(C),S=Ie(S);var R=re(C,1),M=re(S,1);for(S=re(S,2),C=re(C,2);!_(S);){var I=M.add(S);0>=I.l(T)&&(R=R.add(C),M=I),S=re(S,1),C=re(C,1)}return b=k(T,R.j(b)),new G(R,b)}for(R=h;0<=T.l(b);){for(C=Math.max(1,Math.floor(T.m()/b.m())),S=Math.ceil(Math.log(C)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),M=u(C),I=M.j(b);D(I)||0<I.l(T);)C-=S,M=u(C),I=M.j(b);_(M)&&(M=m),R=R.add(M),T=k(T,I)}return new G(R,T)}t.A=function(T){return ee(this,T).h},t.and=function(T){for(var b=Math.max(this.g.length,T.g.length),C=[],S=0;S<b;S++)C[S]=this.i(S)&T.i(S);return new o(C,this.h&T.h)},t.or=function(T){for(var b=Math.max(this.g.length,T.g.length),C=[],S=0;S<b;S++)C[S]=this.i(S)|T.i(S);return new o(C,this.h|T.h)},t.xor=function(T){for(var b=Math.max(this.g.length,T.g.length),C=[],S=0;S<b;S++)C[S]=this.i(S)^T.i(S);return new o(C,this.h^T.h)};function Ie(T){for(var b=T.g.length+1,C=[],S=0;S<b;S++)C[S]=T.i(S)<<1|T.i(S-1)>>>31;return new o(C,T.h)}function re(T,b){var C=b>>5;b%=32;for(var S=T.g.length-C,R=[],M=0;M<S;M++)R[M]=0<b?T.i(M+C)>>>b|T.i(M+C+1)<<32-b:T.i(M+C);return new o(R,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fb=TP.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ms=TP.Integer=o}).apply(typeof AP<"u"?AP:typeof self<"u"?self:typeof window<"u"?window:{});var Rp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Si={};var hb,yW,rc,pb,Au,Np,mb,gb,yb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,p){return l==Array.prototype||l==Object.prototype||(l[f]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rp=="object"&&Rp];for(var f=0;f<l.length;++f){var p=l[f];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(l,f){if(f)e:{var p=r;l=l.split(".");for(var v=0;v<l.length-1;v++){var N=l[v];if(!(N in p))break e;p=p[N]}l=l[l.length-1],v=p[l],f=f(v),f!=v&&f!=null&&e(p,l,{configurable:!0,writable:!0,value:f})}}function s(l,f){l instanceof String&&(l+="");var p=0,v=!1,N={next:function(){if(!v&&p<l.length){var P=p++;return{value:f(P,l[P]),done:!1}}return v=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(l){return l||function(){return s(this,function(f,p){return p})}});var o=o||{},a=this||self;function c(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function u(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function d(l,f,p){return l.call.apply(l.bind,arguments)}function h(l,f,p){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,v),l.apply(f,N)}}return function(){return l.apply(f,arguments)}}function m(l,f,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,m.apply(null,arguments)}function y(l,f){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function _(l,f){function p(){}p.prototype=f.prototype,l.aa=f.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(v,N,P){for(var z=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)z[ze-2]=arguments[ze];return f.prototype[N].apply(v,z)}}function D(l){let f=l.length;if(0<f){let p=Array(f);for(let v=0;v<f;v++)p[v]=l[v];return p}return[]}function x(l,f){for(let p=1;p<arguments.length;p++){let v=arguments[p];if(c(v)){let N=l.length||0,P=v.length||0;l.length=N+P;for(let z=0;z<P;z++)l[N+z]=v[z]}else l.push(v)}}class k{constructor(f,p){this.i=f,this.j=p,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function j(l){return/^[\s\xa0]*$/.test(l)}function G(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function ee(l){return ee[" "](l),l}ee[" "]=function(){};var Ie=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function re(l,f,p){for(let v in l)f.call(p,l[v],v,l)}function T(l,f){for(let p in l)f.call(void 0,l[p],p,l)}function b(l){let f={};for(let p in l)f[p]=l[p];return f}let C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(l,f){let p,v;for(let N=1;N<arguments.length;N++){v=arguments[N];for(p in v)l[p]=v[p];for(let P=0;P<C.length;P++)p=C[P],Object.prototype.hasOwnProperty.call(v,p)&&(l[p]=v[p])}}function R(l){var f=1;l=l.split(":");let p=[];for(;0<f&&l.length;)p.push(l.shift()),f--;return l.length&&p.push(l.join(":")),p}function M(l){a.setTimeout(()=>{throw l},0)}function I(){var l=ay;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class Qr{constructor(){this.h=this.g=null}add(f,p){let v=Gc.get();v.set(f,p),this.h?this.h.next=v:this.g=v,this.h=v}}var Gc=new k(()=>new ZB,l=>l.reset());class ZB{constructor(){this.next=this.g=this.h=null}set(f,p){this.h=f,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Wc,Kc=!1,ay=new Qr,xS=()=>{let l=a.Promise.resolve(void 0);Wc=()=>{l.then(XB)}};var XB=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(p){M(p)}var f=Gc;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}Kc=!1};function Li(){this.s=this.s,this.C=this.C}Li.prototype.s=!1,Li.prototype.ma=function(){this.s||(this.s=!0,this.N())},Li.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function qt(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}qt.prototype.h=function(){this.defaultPrevented=!0};var JB=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,f),a.removeEventListener("test",p,f)}catch{}return l}();function Qc(l,f){if(qt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Ie){e:{try{ee(f.nodeName);var N=!0;break e}catch{}N=!1}N||(f=null)}}else p=="mouseover"?f=l.fromElement:p=="mouseout"&&(f=l.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:eU[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Qc.aa.h.call(this)}}_(Qc,qt);var eU={2:"touch",3:"pen",4:"mouse"};Qc.prototype.h=function(){Qc.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Yc="closure_listenable_"+(1e6*Math.random()|0),tU=0;function nU(l,f,p,v,N){this.listener=l,this.proxy=null,this.src=f,this.type=p,this.capture=!!v,this.ha=N,this.key=++tU,this.da=this.fa=!1}function Cd(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Id(l){this.src=l,this.g={},this.h=0}Id.prototype.add=function(l,f,p,v,N){var P=l.toString();l=this.g[P],l||(l=this.g[P]=[],this.h++);var z=ly(l,f,v,N);return-1<z?(f=l[z],p||(f.fa=!1)):(f=new nU(f,this.src,P,!!v,N),f.fa=p,l.push(f)),f};function cy(l,f){var p=f.type;if(p in l.g){var v=l.g[p],N=Array.prototype.indexOf.call(v,f,void 0),P;(P=0<=N)&&Array.prototype.splice.call(v,N,1),P&&(Cd(f),l.g[p].length==0&&(delete l.g[p],l.h--))}}function ly(l,f,p,v){for(var N=0;N<l.length;++N){var P=l[N];if(!P.da&&P.listener==f&&P.capture==!!p&&P.ha==v)return N}return-1}var uy="closure_lm_"+(1e6*Math.random()|0),dy={};function AS(l,f,p,v,N){if(v&&v.once)return DS(l,f,p,v,N);if(Array.isArray(f)){for(var P=0;P<f.length;P++)AS(l,f[P],p,v,N);return null}return p=my(p),l&&l[Yc]?l.K(f,p,u(v)?!!v.capture:!!v,N):TS(l,f,p,!1,v,N)}function TS(l,f,p,v,N,P){if(!f)throw Error("Invalid event type");var z=u(N)?!!N.capture:!!N,ze=hy(l);if(ze||(l[uy]=ze=new Id(l)),p=ze.add(f,p,v,z,P),p.proxy)return p;if(v=rU(),p.proxy=v,v.src=l,v.listener=p,l.addEventListener)JB||(N=z),N===void 0&&(N=!1),l.addEventListener(f.toString(),v,N);else if(l.attachEvent)l.attachEvent(NS(f.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function rU(){function l(p){return f.call(l.src,l.listener,p)}let f=iU;return l}function DS(l,f,p,v,N){if(Array.isArray(f)){for(var P=0;P<f.length;P++)DS(l,f[P],p,v,N);return null}return p=my(p),l&&l[Yc]?l.L(f,p,u(v)?!!v.capture:!!v,N):TS(l,f,p,!0,v,N)}function RS(l,f,p,v,N){if(Array.isArray(f))for(var P=0;P<f.length;P++)RS(l,f[P],p,v,N);else v=u(v)?!!v.capture:!!v,p=my(p),l&&l[Yc]?(l=l.i,f=String(f).toString(),f in l.g&&(P=l.g[f],p=ly(P,p,v,N),-1<p&&(Cd(P[p]),Array.prototype.splice.call(P,p,1),P.length==0&&(delete l.g[f],l.h--)))):l&&(l=hy(l))&&(f=l.g[f.toString()],l=-1,f&&(l=ly(f,p,v,N)),(p=-1<l?f[l]:null)&&fy(p))}function fy(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Yc])cy(f.i,l);else{var p=l.type,v=l.proxy;f.removeEventListener?f.removeEventListener(p,v,l.capture):f.detachEvent?f.detachEvent(NS(p),v):f.addListener&&f.removeListener&&f.removeListener(v),(p=hy(f))?(cy(p,l),p.h==0&&(p.src=null,f[uy]=null)):Cd(l)}}}function NS(l){return l in dy?dy[l]:dy[l]="on"+l}function iU(l,f){if(l.da)l=!0;else{f=new Qc(f,this);var p=l.listener,v=l.ha||l.src;l.fa&&fy(l),l=p.call(v,f)}return l}function hy(l){return l=l[uy],l instanceof Id?l:null}var py="__closure_events_fn_"+(1e9*Math.random()>>>0);function my(l){return typeof l=="function"?l:(l[py]||(l[py]=function(f){return l.handleEvent(f)}),l[py])}function zt(){Li.call(this),this.i=new Id(this),this.M=this,this.F=null}_(zt,Li),zt.prototype[Yc]=!0,zt.prototype.removeEventListener=function(l,f,p,v){RS(this,l,f,p,v)};function on(l,f){var p,v=l.F;if(v)for(p=[];v;v=v.F)p.push(v);if(l=l.M,v=f.type||f,typeof f=="string")f=new qt(f,l);else if(f instanceof qt)f.target=f.target||l;else{var N=f;f=new qt(v,l),S(f,N)}if(N=!0,p)for(var P=p.length-1;0<=P;P--){var z=f.g=p[P];N=Sd(z,v,!0,f)&&N}if(z=f.g=l,N=Sd(z,v,!0,f)&&N,N=Sd(z,v,!1,f)&&N,p)for(P=0;P<p.length;P++)z=f.g=p[P],N=Sd(z,v,!1,f)&&N}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var p=l.g[f],v=0;v<p.length;v++)Cd(p[v]);delete l.g[f],l.h--}}this.F=null},zt.prototype.K=function(l,f,p,v){return this.i.add(String(l),f,!1,p,v)},zt.prototype.L=function(l,f,p,v){return this.i.add(String(l),f,!0,p,v)};function Sd(l,f,p,v){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var N=!0,P=0;P<f.length;++P){var z=f[P];if(z&&!z.da&&z.capture==p){var ze=z.listener,Lt=z.ha||z.src;z.fa&&cy(l.i,z),N=ze.call(Lt,v)!==!1&&N}}return N&&!v.defaultPrevented}function MS(l,f,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function PS(l){l.g=MS(()=>{l.g=null,l.i&&(l.i=!1,PS(l))},l.l);let f=l.h;l.h=null,l.m.apply(null,f)}class sU extends Li{constructor(f,p){super(),this.m=f,this.l=p,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:PS(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zc(l){Li.call(this),this.h=l,this.g={}}_(Zc,Li);var kS=[];function OS(l){re(l.g,function(f,p){this.g.hasOwnProperty(p)&&fy(f)},l),l.g={}}Zc.prototype.N=function(){Zc.aa.N.call(this),OS(this)},Zc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gy=a.JSON.stringify,oU=a.JSON.parse,aU=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function yy(){}yy.prototype.h=null;function FS(l){return l.h||(l.h=l.i())}function LS(){}var Xc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vy(){qt.call(this,"d")}_(vy,qt);function _y(){qt.call(this,"c")}_(_y,qt);var Ms={},VS=null;function xd(){return VS=VS||new zt}Ms.La="serverreachability";function BS(l){qt.call(this,Ms.La,l)}_(BS,qt);function Jc(l){let f=xd();on(f,new BS(f))}Ms.STAT_EVENT="statevent";function US(l,f){qt.call(this,Ms.STAT_EVENT,l),this.stat=f}_(US,qt);function an(l){let f=xd();on(f,new US(f,l))}Ms.Ma="timingevent";function jS(l,f){qt.call(this,Ms.Ma,l),this.size=f}_(jS,qt);function el(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function tl(){this.g=!0}tl.prototype.xa=function(){this.g=!1};function cU(l,f,p,v,N,P){l.info(function(){if(l.g)if(P)for(var z="",ze=P.split("&"),Lt=0;Lt<ze.length;Lt++){var Ve=ze[Lt].split("=");if(1<Ve.length){var Gt=Ve[0];Ve=Ve[1];var Wt=Gt.split("_");z=2<=Wt.length&&Wt[1]=="type"?z+(Gt+"="+Ve+"&"):z+(Gt+"=redacted&")}}else z=null;else z=P;return"XMLHTTP REQ ("+v+") [attempt "+N+"]: "+f+`
`+p+`
`+z})}function lU(l,f,p,v,N,P,z){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+N+"]: "+f+`
`+p+`
`+P+" "+z})}function Ho(l,f,p,v){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+dU(l,p)+(v?" "+v:"")})}function uU(l,f){l.info(function(){return"TIMEOUT: "+f})}tl.prototype.info=function(){};function dU(l,f){if(!l.g)return f;if(!f)return null;try{var p=JSON.parse(f);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var v=p[l];if(!(2>v.length)){var N=v[1];if(Array.isArray(N)&&!(1>N.length)){var P=N[0];if(P!="noop"&&P!="stop"&&P!="close")for(var z=1;z<N.length;z++)N[z]=""}}}}return gy(p)}catch{return f}}var Ad={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$S={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ey;function Td(){}_(Td,yy),Td.prototype.g=function(){return new XMLHttpRequest},Td.prototype.i=function(){return{}},Ey=new Td;function Vi(l,f,p,v){this.j=l,this.i=f,this.l=p,this.R=v||1,this.U=new Zc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new HS}function HS(){this.i=null,this.g="",this.h=!1}var qS={},wy={};function by(l,f,p){l.L=1,l.v=Md(Yr(f)),l.m=p,l.P=!0,zS(l,null)}function zS(l,f){l.F=Date.now(),Dd(l),l.A=Yr(l.v);var p=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),sx(p.i,"t",v),l.C=0,p=l.j.J,l.h=new HS,l.g=Cx(l.j,p?f:null,!l.m),0<l.O&&(l.M=new sU(m(l.Y,l,l.g),l.O)),f=l.U,p=l.g,v=l.ca;var N="readystatechange";Array.isArray(N)||(N&&(kS[0]=N.toString()),N=kS);for(var P=0;P<N.length;P++){var z=AS(p,N[P],v||f.handleEvent,!1,f.h||f);if(!z)break;f.g[z.key]=z}f=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Jc(),cU(l.i,l.u,l.A,l.l,l.R,l.m)}Vi.prototype.ca=function(l){l=l.target;let f=this.M;f&&Zr(l)==3?f.j():this.Y(l)},Vi.prototype.Y=function(l){try{if(l==this.g)e:{let Wt=Zr(this.g);var f=this.g.Ba();let Go=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||fx(this.g)))){this.J||Wt!=4||f==7||(f==8||0>=Go?Jc(3):Jc(2)),Cy(this);var p=this.g.Z();this.X=p;t:if(GS(this)){var v=fx(this.g);l="";var N=v.length,P=Zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ps(this),nl(this);var z="";break t}this.h.i=new a.TextDecoder}for(f=0;f<N;f++)this.h.h=!0,l+=this.h.i.decode(v[f],{stream:!(P&&f==N-1)});v.length=0,this.h.g+=l,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=p==200,lU(this.i,this.u,this.A,this.l,this.R,Wt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Lt=this.g;if((ze=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(ze)){var Ve=ze;break t}}Ve=null}if(p=Ve)Ho(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Iy(this,p);else{this.o=!1,this.s=3,an(12),Ps(this),nl(this);break e}}if(this.P){p=!0;let er;for(;!this.J&&this.C<z.length;)if(er=fU(this,z),er==wy){Wt==4&&(this.s=4,an(14),p=!1),Ho(this.i,this.l,null,"[Incomplete Response]");break}else if(er==qS){this.s=4,an(15),Ho(this.i,this.l,z,"[Invalid Chunk]"),p=!1;break}else Ho(this.i,this.l,er,null),Iy(this,er);if(GS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||z.length!=0||this.h.h||(this.s=1,an(16),p=!1),this.o=this.o&&p,!p)Ho(this.i,this.l,z,"[Invalid Chunked Response]"),Ps(this),nl(this);else if(0<z.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Ry(Gt),Gt.M=!0,an(11))}}else Ho(this.i,this.l,z,null),Iy(this,z);Wt==4&&Ps(this),this.o&&!this.J&&(Wt==4?_x(this.j,this):(this.o=!1,Dd(this)))}else DU(this.g),p==400&&0<z.indexOf("Unknown SID")?(this.s=3,an(12)):(this.s=0,an(13)),Ps(this),nl(this)}}}catch{}finally{}};function GS(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function fU(l,f){var p=l.C,v=f.indexOf(`
`,p);return v==-1?wy:(p=Number(f.substring(p,v)),isNaN(p)?qS:(v+=1,v+p>f.length?wy:(f=f.slice(v,v+p),l.C=v+p,f)))}Vi.prototype.cancel=function(){this.J=!0,Ps(this)};function Dd(l){l.S=Date.now()+l.I,WS(l,l.I)}function WS(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=el(m(l.ba,l),f)}function Cy(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Vi.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(uU(this.i,this.A),this.L!=2&&(Jc(),an(17)),Ps(this),this.s=2,nl(this)):WS(this,this.S-l)};function nl(l){l.j.G==0||l.J||_x(l.j,l)}function Ps(l){Cy(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,OS(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Iy(l,f){try{var p=l.j;if(p.G!=0&&(p.g==l||Sy(p.h,l))){if(!l.K&&Sy(p.h,l)&&p.G==3){try{var v=p.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var N=v;if(N[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)Ld(p),Od(p);else break e;Dy(p),an(18)}}else p.za=N[1],0<p.za-p.T&&37500>N[2]&&p.F&&p.v==0&&!p.C&&(p.C=el(m(p.Za,p),6e3));if(1>=YS(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Os(p,11)}else if((l.K||p.g==l)&&Ld(p),!j(f))for(N=p.Da.g.parse(f),f=0;f<N.length;f++){let Ve=N[f];if(p.T=Ve[0],Ve=Ve[1],p.G==2)if(Ve[0]=="c"){p.K=Ve[1],p.ia=Ve[2];let Gt=Ve[3];Gt!=null&&(p.la=Gt,p.j.info("VER="+p.la));let Wt=Ve[4];Wt!=null&&(p.Aa=Wt,p.j.info("SVER="+p.Aa));let Go=Ve[5];Go!=null&&typeof Go=="number"&&0<Go&&(v=1.5*Go,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;let er=l.g;if(er){let Bd=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bd){var P=v.h;P.g||Bd.indexOf("spdy")==-1&&Bd.indexOf("quic")==-1&&Bd.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(xy(P,P.h),P.h=null))}if(v.D){let Ny=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;Ny&&(v.ya=Ny,Ye(v.I,v.D,Ny))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var z=l;if(v.qa=bx(v,v.J?v.ia:null,v.W),z.K){ZS(v.h,z);var ze=z,Lt=v.L;Lt&&(ze.I=Lt),ze.B&&(Cy(ze),Dd(ze)),v.g=z}else yx(v);0<p.i.length&&Fd(p)}else Ve[0]!="stop"&&Ve[0]!="close"||Os(p,7);else p.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Os(p,7):Ty(p):Ve[0]!="noop"&&p.l&&p.l.ta(Ve),p.v=0)}}Jc(4)}catch{}}var hU=class{constructor(l,f){this.g=l,this.map=f}};function KS(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function QS(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function YS(l){return l.h?1:l.g?l.g.size:0}function Sy(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function xy(l,f){l.g?l.g.add(f):l.h=f}function ZS(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}KS.prototype.cancel=function(){if(this.i=XS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function XS(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(let p of l.g.values())f=f.concat(p.D);return f}return D(l.i)}function pU(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var f=[],p=l.length,v=0;v<p;v++)f.push(l[v]);return f}f=[],p=0;for(v in l)f[p++]=l[v];return f}function mU(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var f=[];l=l.length;for(var p=0;p<l;p++)f.push(p);return f}f=[],p=0;for(let v in l)f[p++]=v;return f}}}function JS(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var p=mU(l),v=pU(l),N=v.length,P=0;P<N;P++)f.call(void 0,v[P],p&&p[P],l)}var ex=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gU(l,f){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var v=l[p].indexOf("="),N=null;if(0<=v){var P=l[p].substring(0,v);N=l[p].substring(v+1)}else P=l[p];f(P,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function ks(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ks){this.h=l.h,Rd(this,l.j),this.o=l.o,this.g=l.g,Nd(this,l.s),this.l=l.l;var f=l.i,p=new sl;p.i=f.i,f.g&&(p.g=new Map(f.g),p.h=f.h),tx(this,p),this.m=l.m}else l&&(f=String(l).match(ex))?(this.h=!1,Rd(this,f[1]||"",!0),this.o=rl(f[2]||""),this.g=rl(f[3]||"",!0),Nd(this,f[4]),this.l=rl(f[5]||"",!0),tx(this,f[6]||"",!0),this.m=rl(f[7]||"")):(this.h=!1,this.i=new sl(null,this.h))}ks.prototype.toString=function(){var l=[],f=this.j;f&&l.push(il(f,nx,!0),":");var p=this.g;return(p||f=="file")&&(l.push("//"),(f=this.o)&&l.push(il(f,nx,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(il(p,p.charAt(0)=="/"?_U:vU,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",il(p,wU)),l.join("")};function Yr(l){return new ks(l)}function Rd(l,f,p){l.j=p?rl(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Nd(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function tx(l,f,p){f instanceof sl?(l.i=f,bU(l.i,l.h)):(p||(f=il(f,EU)),l.i=new sl(f,l.h))}function Ye(l,f,p){l.i.set(f,p)}function Md(l){return Ye(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function rl(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function il(l,f,p){return typeof l=="string"?(l=encodeURI(l).replace(f,yU),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function yU(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var nx=/[#\/\?@]/g,vU=/[#\?:]/g,_U=/[#\?]/g,EU=/[#\?@]/g,wU=/#/g;function sl(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Bi(l){l.g||(l.g=new Map,l.h=0,l.i&&gU(l.i,function(f,p){l.add(decodeURIComponent(f.replace(/\+/g," ")),p)}))}t=sl.prototype,t.add=function(l,f){Bi(this),this.i=null,l=qo(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(f),this.h+=1,this};function rx(l,f){Bi(l),f=qo(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function ix(l,f){return Bi(l),f=qo(l,f),l.g.has(f)}t.forEach=function(l,f){Bi(this),this.g.forEach(function(p,v){p.forEach(function(N){l.call(f,N,v,this)},this)},this)},t.na=function(){Bi(this);let l=Array.from(this.g.values()),f=Array.from(this.g.keys()),p=[];for(let v=0;v<f.length;v++){let N=l[v];for(let P=0;P<N.length;P++)p.push(f[v])}return p},t.V=function(l){Bi(this);let f=[];if(typeof l=="string")ix(this,l)&&(f=f.concat(this.g.get(qo(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)f=f.concat(l[p])}return f},t.set=function(l,f){return Bi(this),this.i=null,l=qo(this,l),ix(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function sx(l,f,p){rx(l,f),0<p.length&&(l.i=null,l.g.set(qo(l,f),D(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],f=Array.from(this.g.keys());for(var p=0;p<f.length;p++){var v=f[p];let P=encodeURIComponent(String(v)),z=this.V(v);for(v=0;v<z.length;v++){var N=P;z[v]!==""&&(N+="="+encodeURIComponent(String(z[v]))),l.push(N)}}return this.i=l.join("&")};function qo(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function bU(l,f){f&&!l.j&&(Bi(l),l.i=null,l.g.forEach(function(p,v){var N=v.toLowerCase();v!=N&&(rx(this,v),sx(this,N,p))},l)),l.j=f}function CU(l,f){let p=new tl;if(a.Image){let v=new Image;v.onload=y(Ui,p,"TestLoadImage: loaded",!0,f,v),v.onerror=y(Ui,p,"TestLoadImage: error",!1,f,v),v.onabort=y(Ui,p,"TestLoadImage: abort",!1,f,v),v.ontimeout=y(Ui,p,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else f(!1)}function IU(l,f){let p=new tl,v=new AbortController,N=setTimeout(()=>{v.abort(),Ui(p,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:v.signal}).then(P=>{clearTimeout(N),P.ok?Ui(p,"TestPingServer: ok",!0,f):Ui(p,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(N),Ui(p,"TestPingServer: error",!1,f)})}function Ui(l,f,p,v,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),v(p)}catch{}}function SU(){this.g=new aU}function xU(l,f,p){let v=p||"";try{JS(l,function(N,P){let z=N;u(N)&&(z=gy(N)),f.push(v+P+"="+encodeURIComponent(z))})}catch(N){throw f.push(v+"type="+encodeURIComponent("_badmap")),N}}function ol(l){this.l=l.Ub||null,this.j=l.eb||!1}_(ol,yy),ol.prototype.g=function(){return new Pd(this.l,this.j)},ol.prototype.i=function(l){return function(){return l}}({});function Pd(l,f){zt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Pd,zt),t=Pd.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,cl(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,al(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,cl(this)),this.g&&(this.readyState=3,cl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ox(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ox(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?al(this):cl(this),this.readyState==3&&ox(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,al(this))},t.Qa=function(l){this.g&&(this.response=l,al(this))},t.ga=function(){this.g&&al(this)};function al(l){l.readyState=4,l.l=null,l.j=null,l.v=null,cl(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],f=this.h.entries();for(var p=f.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=f.next();return l.join(`\r
`)};function cl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Pd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ax(l){let f="";return re(l,function(p,v){f+=v,f+=":",f+=p,f+=`\r
`}),f}function Ay(l,f,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=ax(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Ye(l,f,p))}function rt(l){zt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(rt,zt);var AU=/^https?$/i,TU=["POST","PUT"];t=rt.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ey.g(),this.v=this.o?FS(this.o):FS(Ey),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(P){cx(this,P);return}if(l=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var N in v)p.set(N,v[N]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let P of v.keys())p.set(P,v.get(P));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),N=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(TU,f,void 0))||v||N||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,z]of p)this.g.setRequestHeader(P,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dx(this),this.u=!0,this.g.send(l),this.u=!1}catch(P){cx(this,P)}};function cx(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,lx(l),kd(l)}function lx(l){l.A||(l.A=!0,on(l,"complete"),on(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,on(this,"complete"),on(this,"abort"),kd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kd(this,!0)),rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ux(this):this.bb())},t.bb=function(){ux(this)};function ux(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Zr(l)!=4||l.Z()!=2)){if(l.u&&Zr(l)==4)MS(l.Ea,0,l);else if(on(l,"readystatechange"),Zr(l)==4){l.h=!1;try{let z=l.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var v;if(v=z===0){var N=String(l.D).match(ex)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),v=!AU.test(N?N.toLowerCase():"")}p=v}if(p)on(l,"complete"),on(l,"success");else{l.m=6;try{var P=2<Zr(l)?l.g.statusText:""}catch{P=""}l.l=P+" ["+l.Z()+"]",lx(l)}}finally{kd(l)}}}}function kd(l,f){if(l.g){dx(l);let p=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||on(l,"ready");try{p.onreadystatechange=v}catch{}}}function dx(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Zr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Zr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),oU(f)}};function fx(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function DU(l){let f={};l=(l.g&&2<=Zr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(j(l[v]))continue;var p=R(l[v]);let N=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let P=f[N]||[];f[N]=P,P.push(p)}T(f,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ll(l,f,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||f}function hx(l){this.Aa=0,this.i=[],this.j=new tl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ll("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ll("baseRetryDelayMs",5e3,l),this.cb=ll("retryDelaySeedMs",1e4,l),this.Wa=ll("forwardChannelMaxRetries",2,l),this.wa=ll("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new KS(l&&l.concurrentRequestLimit),this.Da=new SU,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=hx.prototype,t.la=8,t.G=1,t.connect=function(l,f,p,v){an(0),this.W=l,this.H=f||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=bx(this,null,this.W),Fd(this)};function Ty(l){if(px(l),l.G==3){var f=l.U++,p=Yr(l.I);if(Ye(p,"SID",l.K),Ye(p,"RID",f),Ye(p,"TYPE","terminate"),ul(l,p),f=new Vi(l,l.j,f),f.L=2,f.v=Md(Yr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=f.v,p=!0),p||(f.g=Cx(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Dd(f)}wx(l)}function Od(l){l.g&&(Ry(l),l.g.cancel(),l.g=null)}function px(l){Od(l),l.u&&(a.clearTimeout(l.u),l.u=null),Ld(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Fd(l){if(!QS(l.h)&&!l.s){l.s=!0;var f=l.Ga;Wc||xS(),Kc||(Wc(),Kc=!0),ay.add(f,l),l.B=0}}function RU(l,f){return YS(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=el(m(l.Ga,l,f),Ex(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let N=new Vi(this,this.j,l),P=this.o;if(this.S&&(P?(P=b(P),S(P,this.S)):P=this.S),this.m!==null||this.O||(N.H=P,P=null),this.P)e:{for(var f=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=p;break e}if(f===4096||p===this.i.length-1){f=p+1;break e}}f=1e3}else f=1e3;f=gx(this,N,f),p=Yr(this.I),Ye(p,"RID",l),Ye(p,"CVER",22),this.D&&Ye(p,"X-HTTP-Session-Id",this.D),ul(this,p),P&&(this.O?f="headers="+encodeURIComponent(String(ax(P)))+"&"+f:this.m&&Ay(p,this.m,P)),xy(this.h,N),this.Ua&&Ye(p,"TYPE","init"),this.P?(Ye(p,"$req",f),Ye(p,"SID","null"),N.T=!0,by(N,p,null)):by(N,p,f),this.G=2}}else this.G==3&&(l?mx(this,l):this.i.length==0||QS(this.h)||mx(this))};function mx(l,f){var p;f?p=f.l:p=l.U++;let v=Yr(l.I);Ye(v,"SID",l.K),Ye(v,"RID",p),Ye(v,"AID",l.T),ul(l,v),l.m&&l.o&&Ay(v,l.m,l.o),p=new Vi(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),f&&(l.i=f.D.concat(l.i)),f=gx(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),xy(l.h,p),by(p,v,f)}function ul(l,f){l.H&&re(l.H,function(p,v){Ye(f,v,p)}),l.l&&JS({},function(p,v){Ye(f,v,p)})}function gx(l,f,p){p=Math.min(l.i.length,p);var v=l.l?m(l.l.Na,l.l,l):null;e:{var N=l.i;let P=-1;for(;;){let z=["count="+p];P==-1?0<p?(P=N[0].g,z.push("ofs="+P)):P=0:z.push("ofs="+P);let ze=!0;for(let Lt=0;Lt<p;Lt++){let Ve=N[Lt].g,Gt=N[Lt].map;if(Ve-=P,0>Ve)P=Math.max(0,N[Lt].g-100),ze=!1;else try{xU(Gt,z,"req"+Ve+"_")}catch{v&&v(Gt)}}if(ze){v=z.join("&");break e}}}return l=l.i.splice(0,p),f.D=l,v}function yx(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Wc||xS(),Kc||(Wc(),Kc=!0),ay.add(f,l),l.v=0}}function Dy(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=el(m(l.Fa,l),Ex(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,vx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=el(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,an(10),Od(this),vx(this))};function Ry(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function vx(l){l.g=new Vi(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Yr(l.qa);Ye(f,"RID","rpc"),Ye(f,"SID",l.K),Ye(f,"AID",l.T),Ye(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ye(f,"TO",l.ja),Ye(f,"TYPE","xmlhttp"),ul(l,f),l.m&&l.o&&Ay(f,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=Md(Yr(f)),p.m=null,p.P=!0,zS(p,l)}t.Za=function(){this.C!=null&&(this.C=null,Od(this),Dy(this),an(19))};function Ld(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function _x(l,f){var p=null;if(l.g==f){Ld(l),Ry(l),l.g=null;var v=2}else if(Sy(l.h,f))p=f.D,ZS(l.h,f),v=1;else return;if(l.G!=0){if(f.o)if(v==1){p=f.m?f.m.length:0,f=Date.now()-f.F;var N=l.B;v=xd(),on(v,new jS(v,p)),Fd(l)}else yx(l);else if(N=f.s,N==3||N==0&&0<f.X||!(v==1&&RU(l,f)||v==2&&Dy(l)))switch(p&&0<p.length&&(f=l.h,f.i=f.i.concat(p)),N){case 1:Os(l,5);break;case 4:Os(l,10);break;case 3:Os(l,6);break;default:Os(l,2)}}}function Ex(l,f){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*f}function Os(l,f){if(l.j.info("Error code "+f),f==2){var p=m(l.fb,l),v=l.Xa;let N=!v;v=new ks(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Rd(v,"https"),Md(v),N?CU(v.toString(),p):IU(v.toString(),p)}else an(2);l.G=0,l.l&&l.l.sa(f),wx(l),px(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))};function wx(l){if(l.G=0,l.ka=[],l.l){let f=XS(l.h);(f.length!=0||l.i.length!=0)&&(x(l.ka,f),x(l.ka,l.i),l.h.i.length=0,D(l.i),l.i.length=0),l.l.ra()}}function bx(l,f,p){var v=p instanceof ks?Yr(p):new ks(p);if(v.g!="")f&&(v.g=f+"."+v.g),Nd(v,v.s);else{var N=a.location;v=N.protocol,f=f?f+"."+N.hostname:N.hostname,N=+N.port;var P=new ks(null);v&&Rd(P,v),f&&(P.g=f),N&&Nd(P,N),p&&(P.l=p),v=P}return p=l.D,f=l.ya,p&&f&&Ye(v,p,f),Ye(v,"VER",l.la),ul(l,v),v}function Cx(l,f,p){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new rt(new ol({eb:p})):new rt(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ix(){}t=Ix.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Vd(){}Vd.prototype.g=function(l,f){return new An(l,f)};function An(l,f){zt.call(this),this.g=new hx(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!j(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!j(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new zo(this)}_(An,zt),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Ty(this.g)},An.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=gy(l),l=p);f.i.push(new hU(f.Ya++,l)),f.G==3&&Fd(f)},An.prototype.N=function(){this.g.l=null,delete this.j,Ty(this.g),delete this.g,An.aa.N.call(this)};function Sx(l){vy.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(let p in f){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}_(Sx,vy);function xx(){_y.call(this),this.status=1}_(xx,_y);function zo(l){this.g=l}_(zo,Ix),zo.prototype.ua=function(){on(this.g,"a")},zo.prototype.ta=function(l){on(this.g,new Sx(l))},zo.prototype.sa=function(l){on(this.g,new xx)},zo.prototype.ra=function(){on(this.g,"b")},Vd.prototype.createWebChannel=Vd.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,yb=Si.createWebChannelTransport=function(){return new Vd},gb=Si.getStatEventTarget=function(){return xd()},mb=Si.Event=Ms,Np=Si.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ad.NO_ERROR=0,Ad.TIMEOUT=8,Ad.HTTP_ERROR=6,Au=Si.ErrorCode=Ad,$S.COMPLETE="complete",pb=Si.EventType=$S,LS.EventType=Xc,Xc.OPEN="a",Xc.CLOSE="b",Xc.ERROR="c",Xc.MESSAGE="d",zt.prototype.listen=zt.prototype.K,rc=Si.WebChannel=LS,yW=Si.FetchXmlHttpFactory=ol,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,hb=Si.XhrIo=rt}).apply(typeof Rp<"u"?Rp:typeof self<"u"?self:typeof window<"u"?window:{});var DP="@firebase/firestore";var Nt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");var Ic="10.14.0";var Eo=new ls("@firebase/firestore");function Tu(){return Eo.logLevel}function te(t,...e){if(Eo.logLevel<=Ne.DEBUG){let n=e.map(rC);Eo.debug(`Firestore (${Ic}): ${t}`,...n)}}function xi(t,...e){if(Eo.logLevel<=Ne.ERROR){let n=e.map(rC);Eo.error(`Firestore (${Ic}): ${t}`,...n)}}function dc(t,...e){if(Eo.logLevel<=Ne.WARN){let n=e.map(rC);Eo.warn(`Firestore (${Ic}): ${t}`,...n)}}function rC(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function he(t="Unexpected state"){let e=`FIRESTORE (${Ic}) INTERNAL ASSERTION FAILED: `+t;throw xi(e),new Error(e)}function $e(t,e){t||he()}function me(t,e){return t}var B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=class extends Pn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Vr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Fp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},bb=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}},Cb=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Ib=class{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>g(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new Fp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Nt(e)}},Sb=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},xb=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Sb(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ab=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Tb=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){$e(this.o===void 0);let r=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new Ab(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function vW(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Lp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=vW(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Be(t,e){return t<e?-1:t>e?1:0}function fc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ut=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var _e=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ut(0,0))}static max(){return new t(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Vp=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},nt=class t extends Vp{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new X(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},_W=/^[_a-zA-Z][_a-zA-Z0-9]*$/,kn=class t extends Vp{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return _W.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new X(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new X(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new X(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ce=class t{constructor(e){this.path=e}static fromPath(e){return new t(nt.fromString(e))}static fromName(e){return new t(nt.fromString(e).popFirst(5))}static empty(){return new t(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new nt(e.slice()))}};var Db=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Db.UNKNOWN_ID=-1;function EW(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new Ut(n+1,0):new Ut(n,r));return new wo(i,ce.empty(),e)}function wW(t){return new wo(t.readTime,t.key,-1)}var wo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(_e.min(),ce.empty(),-1)}static max(){return new t(_e.max(),ce.empty(),-1)}};function bW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}var CW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Rb=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Wu(t){return g(this,null,function*(){if(t.code!==B.FAILED_PRECONDITION||t.message!==CW)throw t;te("LocalStore","Unexpectedly lost primary lease")})}var q=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function IW(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ku(t){return t.name==="IndexedDbTransactionError"}var lk=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function fm(t){return t==null}function ku(t){return t===0&&1/t==-1/0}function SW(t){return typeof t=="number"&&Number.isInteger(t)&&!ku(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var xW=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Hle=[...xW,"documentOverlays"],AW=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],TW=AW,DW=[...TW,"indexConfiguration","indexState","indexEntries"];var qle=[...DW,"globals"];function RP(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uk(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var at=class t{constructor(e,n){this.comparator=e,this.root=n||Br.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Br.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}},ac=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Br=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();let e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}};Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1;Br.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Br(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Xt=class t{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bp(this.data.getIterator())}getIteratorFrom(e){return new Bp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Bp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Lr=class t{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Xt(kn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fc(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Up=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Jt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Up("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Jt.EMPTY_BYTE_STRING=new Jt("");var RW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ai(t){if($e(!!t),typeof t=="string"){let e=0,n=RW.exec(t);if($e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ys(t){return typeof t=="string"?Jt.fromBase64String(t):Jt.fromUint8Array(t)}function iC(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function sC(t){let e=t.mapValue.fields.__previous_value__;return iC(e)?sC(e):e}function Ou(t){let e=Ai(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}var Nb=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},jp=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Mp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?iC(t)?4:fk(t)?9007199254740991:dk(t)?10:11:he()}function $r(t,e){if(t===e)return!0;let n=bo(t);if(n!==bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ou(t).isEqual(Ou(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Ai(i.timestampValue),a=Ai(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ys(i.bytesValue).isEqual(ys(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return et(i.geoPointValue.latitude)===et(s.geoPointValue.latitude)&&et(i.geoPointValue.longitude)===et(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return et(i.integerValue)===et(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=et(i.doubleValue),a=et(s.doubleValue);return o===a?ku(o)===ku(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return fc(t.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(RP(o)!==RP(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!$r(o[c],a[c])))return!1;return!0}(t,e);default:return he()}}function Fu(t,e){return(t.values||[]).find(n=>$r(n,e))!==void 0}function hc(t,e){if(t===e)return 0;let n=bo(t),r=bo(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=et(s.integerValue||s.doubleValue),c=et(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return NP(t.timestampValue,e.timestampValue);case 4:return NP(Ou(t),Ou(e));case 5:return Be(t.stringValue,e.stringValue);case 6:return function(s,o){let a=ys(s),c=ys(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=Be(a[u],c[u]);if(d!==0)return d}return Be(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Be(et(s.latitude),et(o.latitude));return a!==0?a:Be(et(s.longitude),et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return MP(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,u,d;let h=s.fields||{},m=o.fields||{},y=(a=h.value)===null||a===void 0?void 0:a.arrayValue,_=(c=m.value)===null||c===void 0?void 0:c.arrayValue,D=Be(((u=y?.values)===null||u===void 0?void 0:u.length)||0,((d=_?.values)===null||d===void 0?void 0:d.length)||0);return D!==0?D:MP(y,_)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Mp.mapValue&&o===Mp.mapValue)return 0;if(s===Mp.mapValue)return 1;if(o===Mp.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){let m=Be(c[h],d[h]);if(m!==0)return m;let y=hc(a[c[h]],u[d[h]]);if(y!==0)return y}return Be(c.length,d.length)}(t.mapValue,e.mapValue);default:throw he()}}function NP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);let n=Ai(t),r=Ai(e),i=Be(n.seconds,r.seconds);return i!==0?i:Be(n.nanos,r.nanos)}function MP(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=hc(n[i],r[i]);if(s)return s}return Be(n.length,r.length)}function pc(t){return Mb(t)}function Mb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Ai(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Mb(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Mb(n.fields[o])}`;return i+"}"}(t.mapValue):he()}function PP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Pb(t){return!!t&&"integerValue"in t}function oC(t){return!!t&&"arrayValue"in t}function kP(t){return!!t&&"nullValue"in t}function OP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kp(t){return!!t&&"mapValue"in t}function dk(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ru(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Sc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ru(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ru(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var dr=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ru(n)}setAll(e){let n=kn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ru(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());kp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];kp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Sc(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ru(this.value))}};function hk(t){let e=[];return Sc(t.fields,(n,r)=>{let i=new kn([n]);if(kp(r)){let s=hk(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Lr(e)}var fr=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,_e.min(),_e.min(),_e.min(),dr.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,_e.min(),_e.min(),dr.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,_e.min(),_e.min(),dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var mc=class{constructor(e,n){this.position=e,this.inclusive=n}};function FP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ce.comparator(ce.fromName(o.referenceValue),n.key):r=hc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function LP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$r(t.position[n],e.position[n]))return!1;return!0}var gc=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function NW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var $p=class{},_t=class t extends $p{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ob(e,n,r):n==="array-contains"?new Vb(e,r):n==="in"?new Bb(e,r):n==="not-in"?new Ub(e,r):n==="array-contains-any"?new jb(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Fb(e,r):new Lb(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hc(n,this.value)):n!==null&&bo(this.value)===bo(n)&&this.matchesComparison(hc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},hr=class t extends $p{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return pk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function pk(t){return t.op==="and"}function mk(t){return MW(t)&&pk(t)}function MW(t){for(let e of t.filters)if(e instanceof hr)return!1;return!0}function kb(t){if(t instanceof _t)return t.field.canonicalString()+t.op.toString()+pc(t.value);if(mk(t))return t.filters.map(e=>kb(e)).join(",");{let e=t.filters.map(n=>kb(n)).join(",");return`${t.op}(${e})`}}function gk(t,e){return t instanceof _t?function(r,i){return i instanceof _t&&r.op===i.op&&r.field.isEqual(i.field)&&$r(r.value,i.value)}(t,e):t instanceof hr?function(r,i){return i instanceof hr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&gk(o,i.filters[a]),!0):!1}(t,e):void he()}function yk(t){return t instanceof _t?function(n){return`${n.field.canonicalString()} ${n.op} ${pc(n.value)}`}(t):t instanceof hr?function(n){return n.op.toString()+" {"+n.getFilters().map(yk).join(" ,")+"}"}(t):"Filter"}var Ob=class extends _t{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){let n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}},Fb=class extends _t{constructor(e,n){super(e,"in",n),this.keys=vk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Lb=class extends _t{constructor(e,n){super(e,"not-in",n),this.keys=vk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function vk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}var Vb=class extends _t{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return oC(n)&&Fu(n.arrayValue,this.value)}},Bb=class extends _t{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Fu(this.value.arrayValue,n)}},Ub=class extends _t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Fu(this.value.arrayValue,n)}},jb=class extends _t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!oC(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fu(this.value.arrayValue,r))}};var $b=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function VP(t,e=null,n=[],r=[],i=null,s=null,o=null){return new $b(t,e,n,r,i,s,o)}function aC(t){let e=me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),fm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pc(r)).join(",")),e.ue=n}return e.ue}function cC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LP(t.startAt,e.startAt)&&LP(t.endAt,e.endAt)}function Hb(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Co=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function PW(t,e,n,r,i,s,o,a){return new Co(t,e,n,r,i,s,o,a)}function _k(t){return new Co(t)}function BP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ek(t){return t.collectionGroup!==null}function Nu(t){let e=me(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Xt(kn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new gc(s,r))}),n.has(kn.keyField().canonicalString())||e.ce.push(new gc(kn.keyField(),r))}return e.ce}function Ur(t){let e=me(t);return e.le||(e.le=kW(e,Nu(t))),e.le}function kW(t,e){if(t.limitType==="F")return VP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new gc(i.field,s)});let n=t.endAt?new mc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mc(t.startAt.position,t.startAt.inclusive):null;return VP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qb(t,e){let n=t.filters.concat([e]);return new Co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zb(t,e,n){return new Co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hm(t,e){return cC(Ur(t),Ur(e))&&t.limitType===e.limitType}function wk(t){return`${aC(Ur(t))}|lt:${t.limitType}`}function ic(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yk(i)).join(", ")}]`),fm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>pc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>pc(i)).join(",")),`Target(${r})`}(Ur(t))}; limitType=${t.limitType})`}function pm(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ce.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Nu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=FP(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Nu(r),i)||r.endAt&&!function(o,a,c){let u=FP(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Nu(r),i))}(t,e)}function OW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bk(t){return(e,n)=>{let r=!1;for(let i of Nu(t)){let s=FW(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function FW(t,e,n){let r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?hc(c,u):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}var vs=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sc(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return uk(this.inner)}size(){return this.innerSize}};var LW=new at(ce.comparator);function Ti(){return LW}var Ck=new at(ce.comparator);function Du(...t){let e=Ck;for(let n of t)e=e.insert(n.key,n);return e}function Ik(t){let e=Ck;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yo(){return Mu()}function Sk(){return Mu()}function Mu(){return new vs(t=>t.toString(),(t,e)=>t.isEqual(e))}var VW=new at(ce.comparator),BW=new Xt(ce.comparator);function Me(...t){let e=BW;for(let n of t)e=e.add(n);return e}var UW=new Xt(Be);function jW(){return UW}function lC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ku(e)?"-0":e}}function xk(t){return{integerValue:""+t}}function $W(t,e){return SW(e)?xk(e):lC(t,e)}var yc=class{constructor(){this._=void 0}};function HW(t,e,n){return t instanceof vc?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&iC(s)&&(s=sC(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Io?Tk(t,e):t instanceof So?Dk(t,e):function(i,s){let o=Ak(i,s),a=UP(o)+UP(i.Pe);return Pb(o)&&Pb(i.Pe)?xk(a):lC(i.serializer,a)}(t,e)}function qW(t,e,n){return t instanceof Io?Tk(t,e):t instanceof So?Dk(t,e):n}function Ak(t,e){return t instanceof _c?function(r){return Pb(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var vc=class extends yc{},Io=class extends yc{constructor(e){super(),this.elements=e}};function Tk(t,e){let n=Rk(e);for(let r of t.elements)n.some(i=>$r(i,r))||n.push(r);return{arrayValue:{values:n}}}var So=class extends yc{constructor(e){super(),this.elements=e}};function Dk(t,e){let n=Rk(e);for(let r of t.elements)n=n.filter(i=>!$r(i,r));return{arrayValue:{values:n}}}var _c=class extends yc{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function UP(t){return et(t.integerValue||t.doubleValue)}function Rk(t){return oC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zW(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Io&&i instanceof Io||r instanceof So&&i instanceof So?fc(r.elements,i.elements,$r):r instanceof _c&&i instanceof _c?$r(r.Pe,i.Pe):r instanceof vc&&i instanceof vc}(t.transform,e.transform)}var Gb=class{constructor(e,n){this.version=e,this.transformResults=n}},_o=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Op(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ec=class{};function Nk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hp(t.key,_o.none()):new xo(t.key,t.data,_o.none());{let n=t.data,r=dr.empty(),i=new Xt(kn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Di(t.key,r,new Lr(i.toArray()),_o.none())}}function GW(t,e,n){t instanceof xo?function(i,s,o){let a=i.value.clone(),c=$P(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Di?function(i,s,o){if(!Op(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=$P(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(Mk(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Pu(t,e,n,r){return t instanceof xo?function(s,o,a,c){if(!Op(s.precondition,o))return a;let u=s.value.clone(),d=HP(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Di?function(s,o,a,c){if(!Op(s.precondition,o))return a;let u=HP(s.fieldTransforms,c,o),d=o.data;return d.setAll(Mk(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Op(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function WW(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=Ak(r.transform,i||null);s!=null&&(n===null&&(n=dr.empty()),n.set(r.field,s))}return n||null}function jP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fc(r,i,(s,o)=>zW(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var xo=class extends Ec{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Di=class extends Ec{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function Mk(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function $P(t,e,n){let r=new Map;$e(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,qW(o,a,n[i]))}return r}function HP(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,HW(s,o,e))}return r}var Hp=class extends Ec{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Wb=class extends Ec{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Kb=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&GW(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Pu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Sk();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=Nk(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&fc(this.mutations,e.mutations,(n,r)=>jP(n,r))&&fc(this.baseMutations,e.baseMutations,(n,r)=>jP(n,r))}},Qb=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$e(e.mutations.length===r.length);let i=function(){return VW}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Yb=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Zb=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var yt,Fe;function KW(t){switch(t){default:return he();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function Pk(t){if(t===void 0)return xi("GRPC error has no .code"),B.UNKNOWN;switch(t){case yt.OK:return B.OK;case yt.CANCELLED:return B.CANCELLED;case yt.UNKNOWN:return B.UNKNOWN;case yt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case yt.INTERNAL:return B.INTERNAL;case yt.UNAVAILABLE:return B.UNAVAILABLE;case yt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case yt.NOT_FOUND:return B.NOT_FOUND;case yt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case yt.ABORTED:return B.ABORTED;case yt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case yt.DATA_LOSS:return B.DATA_LOSS;default:return he()}}(Fe=yt||(yt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";var qP=null;function QW(){return new TextEncoder}var YW=new ms([4294967295,4294967295],0);function zP(t){let e=QW().encode(t),n=new fb;return n.update(e),new Uint8Array(n.digest())}function GP(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ms([n,r],0),new ms([i,s],0)]}var Xb=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vo(`Invalid padding: ${n}`);if(r<0)throw new vo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ms.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ms.fromNumber(r)));return i.compare(YW)===1&&(i=new ms([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=zP(e),[r,i]=GP(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=zP(e),[r,i]=GP(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},vo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var qp=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(_e.min(),i,new at(Be),Ti(),Me())}},Lu=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Me(),Me(),Me())}};var lc=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},zp=class{constructor(e,n){this.targetId=e,this.me=n}},Gp=class{constructor(e,n,r=Jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Wp=class{constructor(){this.fe=0,this.ge=KP(),this.pe=Jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),n=Me(),r=Me();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new Lu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=KP()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Jb=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ti(),this.qe=WP(),this.Qe=new at(Be)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Hb(s))if(r===0){let o=new ce(s.path);this.Ue(n,o,fr.newNoDocument(o,_e.min()))}else $e(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}qP?.et(function(d,h,m,y,_){var D,x,k,j,G,ee;let Ie={localCacheCount:d,existenceFilterCount:h.count,databaseId:m.database,projectId:m.projectId},re=h.unchangedNames;return re&&(Ie.bloomFilter={applied:_===0,hashCount:(D=re?.hashCount)!==null&&D!==void 0?D:0,bitmapLength:(j=(k=(x=re?.bits)===null||x===void 0?void 0:x.bitmap)===null||k===void 0?void 0:k.length)!==null&&j!==void 0?j:0,padding:(ee=(G=re?.bits)===null||G===void 0?void 0:G.padding)!==null&&ee!==void 0?ee:0,mightContain:T=>{var b;return(b=y?.mightContain(T))!==null&&b!==void 0&&b}}),Ie}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=ys(r).toUint8Array()}catch(c){if(c instanceof Up)return dc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Xb(o,i,s)}catch(c){return dc(c instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Hb(a.target)){let c=new ce(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,fr.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Me();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new qp(e,n,this.Qe,this.ke,r);return this.ke=Ti(),this.qe=WP(),this.Qe=new at(Be),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Wp,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Xt(Be),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Wp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function WP(){return new at(ce.comparator)}function KP(){return new at(ce.comparator)}var ZW={asc:"ASCENDING",desc:"DESCENDING"},XW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JW={and:"AND",or:"OR"},e0=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function t0(t,e){return t.useProto3Json||fm(e)?e:{value:e}}function Kp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eK(t,e){return Kp(t,e.toTimestamp())}function jr(t){return $e(!!t),_e.fromTimestamp(function(n){let r=Ai(n);return new Ut(r.seconds,r.nanos)}(t))}function uC(t,e){return n0(t,e).canonicalString()}function n0(t,e){let n=function(i){return new nt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Ok(t){let e=nt.fromString(t);return $e(Uk(e)),e}function r0(t,e){return uC(t.databaseId,e.path)}function vb(t,e){let n=Ok(e);if(n.get(1)!==t.databaseId.projectId)throw new X(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(Lk(n))}function Fk(t,e){return uC(t.databaseId,e)}function tK(t){let e=Ok(t);return e.length===4?nt.emptyPath():Lk(e)}function i0(t){return new nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Lk(t){return $e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function QP(t,e,n){return{name:r0(t,e),fields:n.value.mapValue.fields}}function nK(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?($e(d===void 0||typeof d=="string"),Jt.fromBase64String(d||"")):($e(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Jt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let d=u.code===void 0?B.UNKNOWN:Pk(u.code);return new X(d,u.message||"")}(o);n=new Gp(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=vb(t,r.document.name),s=jr(r.document.updateTime),o=r.document.createTime?jr(r.document.createTime):_e.min(),a=new dr({mapValue:{fields:r.document.fields}}),c=fr.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new lc(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=vb(t,r.document),s=r.readTime?jr(r.readTime):_e.min(),o=fr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new lc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=vb(t,r.document),s=r.removedTargetIds||[];n=new lc([],s,i,null)}else{if(!("filter"in e))return he();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Zb(i,s),a=r.targetId;n=new zp(a,o)}}return n}function rK(t,e){let n;if(e instanceof xo)n={update:QP(t,e.key,e.value)};else if(e instanceof Hp)n={delete:r0(t,e.key)};else if(e instanceof Di)n={update:QP(t,e.key,e.data),updateMask:fK(e.fieldMask)};else{if(!(e instanceof Wb))return he();n={verify:r0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof vc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Io)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof So)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _c)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:eK(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:he()}(t,e.precondition)),n}function iK(t,e){return t&&t.length>0?($e(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?jr(i.updateTime):jr(s);return o.isEqual(_e.min())&&(o=jr(s)),new Gb(o,i.transformResults||[])}(n,e))):[]}function sK(t,e){return{documents:[Fk(t,e.path)]}}function oK(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Fk(t,i);let s=function(u){if(u.length!==0)return Bk(hr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:sc(m.field),direction:lK(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=t0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function aK(t){let e=tK(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){$e(r===1);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){let m=Vk(h);return m instanceof hr&&mk(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(_){return new gc(oc(_.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,fm(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(h){let m=!!h.before,y=h.values||[];return new mc(y,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){let m=!h.before,y=h.values||[];return new mc(y,m)}(n.endAt)),PW(e,i,o,s,a,"F",c,u)}function cK(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Vk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=oc(n.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=oc(n.unaryFilter.field);return _t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=oc(n.unaryFilter.field);return _t.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=oc(n.unaryFilter.field);return _t.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return _t.create(oc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hr.create(n.compositeFilter.filters.map(r=>Vk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function lK(t){return ZW[t]}function uK(t){return XW[t]}function dK(t){return JW[t]}function sc(t){return{fieldPath:t.canonicalString()}}function oc(t){return kn.fromServerFormat(t.fieldPath)}function Bk(t){return t instanceof _t?function(n){if(n.op==="=="){if(OP(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NAN"}};if(kP(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OP(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NOT_NAN"}};if(kP(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sc(n.field),op:uK(n.op),value:n.value}}}(t):t instanceof hr?function(n){let r=n.getFilters().map(i=>Bk(i));return r.length===1?r[0]:{compositeFilter:{op:dK(n.op),filters:r}}}(t):he()}function fK(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Uk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Vu=class t{constructor(e,n,r,i,s=_e.min(),o=_e.min(),a=Jt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var s0=class{constructor(e){this.ct=e}};function hK(t){let e=aK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zb(e,e.limit,"L"):e}var Qp=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(et(e.integerValue));else if("doubleValue"in e){let r=et(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),ku(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Ai(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(ys(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?fk(e)?this.dt(n,Number.MAX_SAFE_INTEGER):dk(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):he()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(et(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ce.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Qp.vt=new Qp;var o0=class{constructor(){this.un=new a0}addToCollectionParentIndex(e,n){return this.un.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(wo.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}},a0=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xt(nt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xt(nt.comparator)).toArray()}};var Gle=new Uint8Array(0);var Fr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Fr.DEFAULT_COLLECTION_PERCENTILE=10,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fr.DEFAULT=new Fr(41943040,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fr.DISABLED=new Fr(-1,0,0);var Bu=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var c0=class{constructor(){this.changes=new vs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var l0=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var u0=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Pu(r.mutation,i,Lr.empty(),Ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Me()){let i=yo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Du();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=yo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Me()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ti(),o=Mu(),a=function(){return Mu()}();return n.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Di)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Pu(d.mutation,u,d.mutation.getFieldMask(),Ut.now())):o.set(u.key,Lr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new l0(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Mu(),i=new at((o,a)=>o-a),s=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let d=r.get(c)||Lr.empty();d=a.applyToLocalView(u,d),r.set(c,d);let h=(i.get(a.batchId)||Me()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,h=Sk();d.forEach(m=>{if(!s.has(m)){let y=Nk(n.get(m),r.get(m));y!==null&&h.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ek(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):q.resolve(yo()),a=-1,c=s;return o.next(u=>q.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?q.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Me())).next(d=>({batchId:a,changes:Ik(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let i=Du();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Du();return this.indexManager.getCollectionParents(e,s).next(a=>q.forEach(a,c=>{let u=function(h,m){return new Co(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,fr.newInvalidDocument(d)))});let a=Du();return o.forEach((c,u)=>{let d=s.get(c);d!==void 0&&Pu(d.mutation,u,Lr.empty(),Ut.now()),pm(n,u)&&(a=a.insert(c,u))}),a})}};var d0=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:jr(i.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:hK(i.bundledQuery),readTime:jr(i.readTime)}}(n)),q.resolve()}};var f0=class{constructor(){this.overlays=new at(ce.comparator),this.Ir=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){let r=yo();return q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),q.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){let i=yo(),s=n.length+1,o=new ce(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new at((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=yo(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=yo(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return q.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Yb(n,r));let s=this.Ir.get(n);s===void 0&&(s=Me(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var h0=class{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}};var Uu=class{constructor(){this.Tr=new Xt(vt.Er),this.dr=new Xt(vt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new vt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new vt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ce(new nt([])),r=new vt(n,e),i=new vt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ce(new nt([])),r=new vt(n,e),i=new vt(n,e+1),s=Me();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new vt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},vt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ce.comparator(e.key,n.key)||Be(e.wr,n.wr)}static Ar(e,n){return Be(e.wr,n.wr)||ce.comparator(e.key,n.key)}};var p0=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Xt(vt.Er)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Kb(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new vt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new vt(n,0),i=new vt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xt(Be);return n.forEach(i=>{let s=new vt(i,0),o=new vt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;ce.isDocumentKey(s)||(s=s.child(""));let o=new vt(new ce(s),0),a=new Xt(Be);return this.br.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.wr)),!0)},o),q.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){$e(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return q.forEach(n.mutations,i=>{let s=new vt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new vt(n,0),i=this.br.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var m0=class{constructor(e){this.Mr=e,this.docs=function(){return new at(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():fr.newInvalidDocument(n))}getEntries(e,n){let r=Ti();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():fr.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ti(),o=n.path,a=new ce(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||bW(wW(d),r)<=0||(i.has(d.key)||pm(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){he()}Or(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new g0(this)}getSize(e){return q.resolve(this.size)}},g0=class extends c0{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var y0=class{constructor(e){this.persistence=e,this.Nr=new vs(n=>aC(n),cC),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Uu,this.targetCount=0,this.kr=Bu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),q.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Bu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Kn(n),q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),q.waitFor(s).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),q.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Br.containsKey(n))}};var v0=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new lk(0),this.Kr=!1,this.Kr=!0,this.$r=new h0,this.referenceDelegate=e(this),this.Ur=new y0(this),this.indexManager=new o0,this.remoteDocumentCache=function(i){return new m0(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new s0(n),this.Gr=new d0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new f0,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new p0(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);let i=new _0(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},_0=class extends Rb{constructor(e){super(),this.currentSequenceNumber=e}},E0=class t{constructor(e){this.persistence=e,this.Jr=new Uu,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,r=>{let i=ce.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,_e.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return q.or([()=>q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var w0=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Me(),i=Me();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var b0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var C0=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return oM()?8:IW(Rt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new b0;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Tu()<=Ne.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",ic(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(Tu()<=Ne.DEBUG&&te("QueryEngine","Query:",ic(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Tu()<=Ne.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",ic(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(n))):q.resolve())}Yi(e,n){if(BP(n))return q.resolve(null);let r=Ur(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=zb(n,null,"F"),r=Ur(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Me(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.ts(n,a);return this.ns(n,u,o,c.readTime)?this.Yi(e,zb(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,i){return BP(n)||i.isEqual(_e.min())?q.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?q.resolve(null):(Tu()<=Ne.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ic(n)),this.rs(e,o,n,EW(i,-1)).next(a=>a))})}ts(e,n){let r=new Xt(bk(e));return n.forEach((i,s)=>{pm(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Tu()<=Ne.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",ic(n)),this.Ji.getDocumentsMatchingQuery(e,n,wo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var I0=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new at(Be),this._s=new vs(s=>aC(s),cC),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u0(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function pK(t,e,n,r){return new I0(t,e,n,r)}function jk(t,e){return g(this,null,function*(){let n=me(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Me();for(let u of i){o.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of s){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})})}function mK(t,e){let n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let h=u.batch,m=h.keys(),y=q.resolve();return m.forEach(_=>{y=y.next(()=>d.getEntry(c,_)).next(D=>{let x=u.docVersions.get(_);$e(x!==null),D.version.compareTo(x)<0&&(h.applyToRemoteDocument(D,u),D.isValidDocument()&&(D.setReadTime(u.commitVersion),d.addEntry(D)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Me();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $k(t){let e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function gK(t,e){let n=me(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((d,h)=>{let m=i.get(h);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(Jt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(h,y),function(D,x,k){return D.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,y,d)&&a.push(n.Ur.updateTargetData(s,y))});let c=Ti(),u=Me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(yK(s,o,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(_e.min())){let d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.os=i,s))}function yK(t,e,n){let r=Me(),i=Me();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ti();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(_e.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function vK(t,e){let n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _K(t,e){let n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,q.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Vu(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function S0(t,e,n){return g(this,null,function*(){let r=me(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ku(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function YP(t,e,n){let r=me(t),i=_e.min(),s=Me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){let h=me(c),m=h._s.get(d);return m!==void 0?q.resolve(h.os.get(m)):h.Ur.getTargetData(u,d)}(r,o,Ur(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:_e.min(),n?s:Me())).next(a=>(EK(r,OW(e),a),{documents:a,Ts:s})))}function EK(t,e,n){let r=t.us.get(e)||_e.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Yp=class{constructor(){this.activeTargetIds=jW()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var x0=class{constructor(){this.so=new Yp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Yp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var A0=class{_o(e){}shutdown(){}};var Zp=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Pp=null;function _b(){return Pp===null?Pp=function(){return 268435456+Math.round(2147483648*Math.random())}():Pp++,"0x"+Pp.toString(16)}var wK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var T0=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Zt="WebChannelConnection",D0=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=_b(),c=this.xo(n,r.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,c,u,i).then(d=>(te("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw dc("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ic}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=wK[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=_b();return new Promise((o,a)=>{let c=new hb;c.setWithCredentials(!0),c.listenOnce(pb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Au.NO_ERROR:let d=c.getResponseJson();te(Zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Au.TIMEOUT:te(Zt,`RPC '${e}' ${s} timed out`),a(new X(B.DEADLINE_EXCEEDED,"Request time out"));break;case Au.HTTP_ERROR:let h=c.getStatus();if(te(Zt,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let _=function(x){let k=x.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(k)>=0?k:B.UNKNOWN}(y.status);a(new X(_,y.message))}else a(new X(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new X(B.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{te(Zt,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);te(Zt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Bo(e,n,r){let i=_b(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yb(),a=gb(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let d=s.join("");te(Zt,`Creating RPC '${e}' stream ${i}: ${d}`,c);let h=o.createWebChannel(d,c),m=!1,y=!1,_=new T0({Io:x=>{y?te(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(te(Zt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),te(Zt,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},To:()=>h.close()}),D=(x,k,j)=>{x.listen(k,G=>{try{j(G)}catch(ee){setTimeout(()=>{throw ee},0)}})};return D(h,rc.EventType.OPEN,()=>{y||(te(Zt,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),D(h,rc.EventType.CLOSE,()=>{y||(y=!0,te(Zt,`RPC '${e}' stream ${i} transport closed`),_.So())}),D(h,rc.EventType.ERROR,x=>{y||(y=!0,dc(Zt,`RPC '${e}' stream ${i} transport errored:`,x),_.So(new X(B.UNAVAILABLE,"The operation could not be completed")))}),D(h,rc.EventType.MESSAGE,x=>{var k;if(!y){let j=x.data[0];$e(!!j);let G=j,ee=G.error||((k=G[0])===null||k===void 0?void 0:k.error);if(ee){te(Zt,`RPC '${e}' stream ${i} received error:`,ee);let Ie=ee.status,re=function(C){let S=yt[C];if(S!==void 0)return Pk(S)}(Ie),T=ee.message;re===void 0&&(re=B.INTERNAL,T="Unknown error status: "+Ie+" with message "+ee.message),y=!0,_.So(new X(re,T)),h.close()}else te(Zt,`RPC '${e}' stream ${i} received:`,j),_.bo(j)}}),D(a,mb.STAT_EVENT,x=>{x.stat===Np.PROXY?te(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Np.NOPROXY&&te(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}};function Eb(){return typeof document<"u"?document:null}function mm(t){return new e0(t,!0)}var Xp=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Jp=class{constructor(e,n,r,i,s,o,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Xp(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return g(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return g(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return g(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new X(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>g(this,null,function*(){this.state=0,this.start()}))}I_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},R0=class extends Jp{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=nK(this.serializer,e),r=function(s){if(!("targetChange"in s))return _e.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?_e.min():o.readTime?jr(o.readTime):_e.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=i0(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=Hb(c)?{documents:sK(s,c)}:{query:oK(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=kk(s,o.resumeToken);let u=t0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(_e.min())>0){a.readTime=Kp(s,o.snapshotVersion.toTimestamp());let u=t0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=cK(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=i0(this.serializer),n.removeTarget=e,this.a_(n)}},N0=class extends Jp{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=iK(e.writeResults,e.commitTime),r=jr(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=i0(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>rK(this.serializer,r))};this.a_(n)}};var M0=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new X(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,n0(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(B.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,n0(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(B.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},P0=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(xi(n),this.D_=!1):te("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var k0=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>g(this,null,function*(){Ao(this)&&(te("RemoteStore","Restarting streams for network reachability change."),yield function(c){return g(this,null,function*(){let u=me(c);u.L_.add(4),yield Qu(u),u.q_.set("Unknown"),u.L_.delete(4),yield gm(u)})}(this))}))}),this.q_=new P0(r,i)}};function gm(t){return g(this,null,function*(){if(Ao(t))for(let e of t.B_)yield e(!0)})}function Qu(t){return g(this,null,function*(){for(let e of t.B_)yield e(!1)})}function Hk(t,e){let n=me(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),pC(n)?hC(n):xc(n).r_()&&fC(n,e))}function dC(t,e){let n=me(t),r=xc(n);n.N_.delete(e),r.r_()&&qk(n,e),n.N_.size===0&&(r.r_()?r.o_():Ao(n)&&n.q_.set("Unknown"))}function fC(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xc(t).A_(e)}function qk(t,e){t.Q_.xe(e),xc(t).R_(e)}function hC(t){t.Q_=new Jb({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),xc(t).start(),t.q_.v_()}function pC(t){return Ao(t)&&!xc(t).n_()&&t.N_.size>0}function Ao(t){return me(t).L_.size===0}function zk(t){t.Q_=void 0}function bK(t){return g(this,null,function*(){t.q_.set("Online")})}function CK(t){return g(this,null,function*(){t.N_.forEach((e,n)=>{fC(t,e)})})}function IK(t,e){return g(this,null,function*(){zk(t),pC(t)?(t.q_.M_(e),hC(t)):t.q_.set("Unknown")})}function SK(t,e,n){return g(this,null,function*(){if(t.q_.set("Online"),e instanceof Gp&&e.state===2&&e.cause)try{yield function(i,s){return g(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield em(t,r)}else if(e instanceof lc?t.Q_.Ke(e):e instanceof zp?t.Q_.He(e):t.Q_.We(e),!n.isEqual(_e.min()))try{let r=yield $k(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let d=s.N_.get(c);if(!d)return;s.N_.set(c,d.withResumeToken(Jt.EMPTY_BYTE_STRING,d.snapshotVersion)),qk(s,c);let h=new Vu(d.target,c,u,d.sequenceNumber);fC(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){te("RemoteStore","Failed to raise snapshot:",r),yield em(t,r)}})}function em(t,e,n){return g(this,null,function*(){if(!Ku(e))throw e;t.L_.add(1),yield Qu(t),t.q_.set("Offline"),n||(n=()=>$k(t.localStore)),t.asyncQueue.enqueueRetryable(()=>g(this,null,function*(){te("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield gm(t)}))})}function Gk(t,e){return e().catch(n=>em(t,n,e))}function ym(t){return g(this,null,function*(){let e=me(t),n=_s(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;xK(e);)try{let i=yield vK(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,AK(e,i)}catch(i){yield em(e,i)}Wk(e)&&Kk(e)})}function xK(t){return Ao(t)&&t.O_.length<10}function AK(t,e){t.O_.push(e);let n=_s(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Wk(t){return Ao(t)&&!_s(t).n_()&&t.O_.length>0}function Kk(t){_s(t).start()}function TK(t){return g(this,null,function*(){_s(t).p_()})}function DK(t){return g(this,null,function*(){let e=_s(t);for(let n of t.O_)e.m_(n.mutations)})}function RK(t,e,n){return g(this,null,function*(){let r=t.O_.shift(),i=Qb.from(r,e,n);yield Gk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield ym(t)})}function NK(t,e){return g(this,null,function*(){e&&_s(t).V_&&(yield function(r,i){return g(this,null,function*(){if(function(o){return KW(o)&&o!==B.ABORTED}(i.code)){let s=r.O_.shift();_s(r).s_(),yield Gk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield ym(r)}})}(t,e)),Wk(t)&&Kk(t)})}function ZP(t,e){return g(this,null,function*(){let n=me(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");let r=Ao(n);n.L_.add(3),yield Qu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield gm(n)})}function MK(t,e){return g(this,null,function*(){let n=me(t);e?(n.L_.delete(2),yield gm(n)):e||(n.L_.add(2),yield Qu(n),n.q_.set("Unknown"))})}function xc(t){return t.K_||(t.K_=function(n,r,i){let s=me(n);return s.w_(),new R0(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:bK.bind(null,t),Ro:CK.bind(null,t),mo:IK.bind(null,t),d_:SK.bind(null,t)}),t.B_.push(e=>g(this,null,function*(){e?(t.K_.s_(),pC(t)?hC(t):t.q_.set("Unknown")):(yield t.K_.stop(),zk(t))}))),t.K_}function _s(t){return t.U_||(t.U_=function(n,r,i){let s=me(n);return s.w_(),new N0(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:TK.bind(null,t),mo:NK.bind(null,t),f_:DK.bind(null,t),g_:RK.bind(null,t)}),t.B_.push(e=>g(this,null,function*(){e?(t.U_.s_(),yield ym(t)):(yield t.U_.stop(),t.O_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var O0=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function mC(t,e){if(xi("AsyncQueue",`${e}: ${t}`),Ku(t))return new X(B.UNAVAILABLE,`${e}: ${t}`);throw t}var tm=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=Du(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var nm=class{constructor(){this.W_=new at(ce.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):he():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},wc=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,tm.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var F0=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},L0=class{constructor(){this.queries=XP(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=me(n),s=i.queries;i.queries=XP(),s.forEach((o,a)=>{for(let c of a.j_)c.onError(r)})})(this,new X(B.ABORTED,"Firestore shutting down"))}};function XP(){return new vs(t=>wk(t),hm)}function PK(t,e){return g(this,null,function*(){let n=me(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new F0,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=mC(o,`Initialization of query '${ic(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&gC(n)})}function kK(t,e){return g(this,null,function*(){let n=me(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function OK(t,e){let n=me(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&gC(n)}function FK(t,e,n){let r=me(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function gC(t){t.Y_.forEach(e=>{e.next()})}var V0,JP;(JP=V0||(V0={})).ea="default",JP.Cache="cache";var B0=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new wc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==V0.Cache}};var rm=class{constructor(e){this.key=e}},im=class{constructor(e){this.key=e}},U0=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Me(),this.mutatedKeys=Me(),this.Aa=bk(e),this.Ra=new tm(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new nm,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{let m=i.get(d),y=pm(this.query,h)?h:null,_=!!m&&this.mutatedKeys.has(m.key),D=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),x=!1;m&&y?m.data.isEqual(y.data)?_!==D&&(r.track({type:3,doc:y}),x=!0):this.ga(m,y)||(r.track({type:2,doc:y}),x=!0,(c&&this.Aa(y,c)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),x=!0):m&&!y&&(r.track({type:1,doc:m}),x=!0,(c||u)&&(a=!0)),x&&(y?(o=o.add(y),s=D?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((d,h)=>function(y,_){let D=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return D(y)-D(_)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new wc(this.query,e.Ra,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new nm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new im(r))}),this.da.forEach(r=>{e.has(r)||n.push(new rm(r))}),n}ba(e){this.Ta=e.Ts,this.da=Me();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return wc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},j0=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},$0=class{constructor(e){this.key=e,this.va=!1}},H0=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new vs(a=>wk(a),hm),this.Ma=new Map,this.xa=new Set,this.Oa=new at(ce.comparator),this.Na=new Map,this.La=new Uu,this.Ba={},this.ka=new Map,this.qa=Bu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function LK(t,e,n=!0){return g(this,null,function*(){let r=eO(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield Qk(r,e,n,!0),i})}function VK(t,e){return g(this,null,function*(){let n=eO(t);yield Qk(n,e,!0,!1)})}function Qk(t,e,n,r){return g(this,null,function*(){let i=yield _K(t.localStore,Ur(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield BK(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Hk(t.remoteStore,i),a})}function BK(t,e,n,r,i){return g(this,null,function*(){t.Ka=(h,m,y)=>function(D,x,k,j){return g(this,null,function*(){let G=x.view.ma(k);G.ns&&(G=yield YP(D.localStore,x.query,!1).then(({documents:T})=>x.view.ma(T,G)));let ee=j&&j.targetChanges.get(x.targetId),Ie=j&&j.targetMismatches.get(x.targetId)!=null,re=x.view.applyChanges(G,D.isPrimaryClient,ee,Ie);return tk(D,x.targetId,re.wa),re.snapshot})}(t,h,m,y);let s=yield YP(t.localStore,e,!0),o=new U0(e,s.Ts),a=o.ma(s.documents),c=Lu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);tk(t,n,u.wa);let d=new j0(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot})}function UK(t,e,n){return g(this,null,function*(){let r=me(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!hm(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield S0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&dC(r.remoteStore,i.targetId),q0(r,i.targetId)}).catch(Wu))):(q0(r,i.targetId),yield S0(r.localStore,i.targetId,!0))})}function jK(t,e){return g(this,null,function*(){let n=me(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dC(n.remoteStore,r.targetId))})}function $K(t,e,n){return g(this,null,function*(){let r=QK(t);try{let i=yield function(o,a){let c=me(o),u=Ut.now(),d=a.reduce((y,_)=>y.add(_.key),Me()),h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let _=Ti(),D=Me();return c.cs.getEntries(y,d).next(x=>{_=x,_.forEach((k,j)=>{j.isValidDocument()||(D=D.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,_)).next(x=>{h=x;let k=[];for(let j of a){let G=WW(j,h.get(j.key).overlayedDocument);G!=null&&k.push(new Di(j.key,G,hk(G.value.mapValue),_o.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,k,a)}).next(x=>{m=x;let k=x.applyToLocalDocumentSet(h,D);return c.documentOverlayCache.saveOverlays(y,x.batchId,k)})}).then(()=>({batchId:m.batchId,changes:Ik(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new at(Be)),u=u.insert(a,c),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Yu(r,i.changes),yield ym(r.remoteStore)}catch(i){let s=mC(i,"Failed to persist write");n.reject(s)}})}function Yk(t,e){return g(this,null,function*(){let n=me(t);try{let r=yield gK(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?$e(o.va):i.removedDocuments.size>0&&($e(o.va),o.va=!1))}),yield Yu(n,r,e)}catch(r){yield Wu(r)}})}function ek(t,e,n){let r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=me(o);c.onlineState=a;let u=!1;c.queries.forEach((d,h)=>{for(let m of h.j_)m.Z_(a)&&(u=!0)}),u&&gC(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function HK(t,e,n){return g(this,null,function*(){let r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new at(ce.comparator);o=o.insert(s,fr.newNoDocument(s,_e.min()));let a=Me().add(s),c=new qp(_e.min(),new Map,new at(Be),o,a);yield Yk(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),yC(r)}else yield S0(r.localStore,e,!1).then(()=>q0(r,e,n)).catch(Wu)})}function qK(t,e){return g(this,null,function*(){let n=me(t),r=e.batch.batchId;try{let i=yield mK(n.localStore,e);Xk(n,r,null),Zk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Yu(n,i)}catch(i){yield Wu(i)}})}function zK(t,e,n){return g(this,null,function*(){let r=me(t);try{let i=yield function(o,a){let c=me(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(h=>($e(h!==null),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);Xk(r,e,n),Zk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Yu(r,i)}catch(i){yield Wu(i)}})}function Zk(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Xk(t,e,n){let r=me(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function q0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Jk(t,r)})}function Jk(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(dC(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),yC(t))}function tk(t,e,n){for(let r of n)r instanceof rm?(t.La.addReference(r.key,e),GK(t,r)):r instanceof im?(te("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Jk(t,r.key)):he()}function GK(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(te("SyncEngine","New document in limbo: "+n),t.xa.add(r),yC(t))}function yC(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new ce(nt.fromString(e)),r=t.qa.next();t.Na.set(r,new $0(n)),t.Oa=t.Oa.insert(n,r),Hk(t.remoteStore,new Vu(Ur(_k(n.path)),r,"TargetPurposeLimboResolution",lk.oe))}}function Yu(t,e,n){return g(this,null,function*(){let r=me(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{o.push(r.Ka(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){let h=u?!u.fromCache:(d=n?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){i.push(u);let h=w0.Wi(c.targetId,u);s.push(h)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(c,u){return g(this,null,function*(){let d=me(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>q.forEach(u,m=>q.forEach(m.$i,y=>d.persistence.referenceDelegate.addReference(h,m.targetId,y)).next(()=>q.forEach(m.Ui,y=>d.persistence.referenceDelegate.removeReference(h,m.targetId,y)))))}catch(h){if(!Ku(h))throw h;te("LocalStore","Failed to update sequence numbers: "+h)}for(let h of u){let m=h.targetId;if(!h.fromCache){let y=d.os.get(m),_=y.snapshotVersion,D=y.withLastLimboFreeSnapshotVersion(_);d.os=d.os.insert(m,D)}}})}(r.localStore,s))})}function WK(t,e){return g(this,null,function*(){let n=me(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());let r=yield jk(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(c=>{c.reject(new X(B.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Yu(n,r.hs)}})}function KK(t,e){let n=me(t),r=n.Na.get(e);if(r&&r.va)return Me().add(r.key);{let i=Me(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function eO(t){let e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HK.bind(null,e),e.Ca.d_=OK.bind(null,e.eventManager),e.Ca.$a=FK.bind(null,e.eventManager),e}function QK(t){let e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zK.bind(null,e),e}var nk=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return g(this,null,function*(){this.serializer=mm(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return pK(this.persistence,new C0,n.initialUser,this.serializer)}Ga(n){return new v0(E0.Zr,this.serializer)}Wa(n){return new x0}terminate(){return g(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var YK=(()=>{class t{initialize(n,r){return g(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ek(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=WK.bind(null,this.syncEngine),yield MK(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new L0}()}createDatastore(n){let r=mm(n.databaseInfo.databaseId),i=function(o){return new D0(o)}(n.databaseInfo);return function(o,a,c,u){return new M0(o,a,c,u)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,a,c){return new k0(i,s,o,a,c)}(this.localStore,this.datastore,n.asyncQueue,r=>ek(this.syncEngine,r,0),function(){return Zp.D()?new Zp:new A0}())}createSyncEngine(n,r){return function(s,o,a,c,u,d,h){let m=new H0(s,o,a,c,u,d);return h&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return g(this,null,function*(){var n,r;yield function(s){return g(this,null,function*(){let o=me(s);te("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Qu(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var z0=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var G0=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=Lp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>g(this,null,function*(){te("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>g(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=mC(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function wb(t,e){return g(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>g(this,null,function*(){r.isEqual(i)||(yield jk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function rk(t,e){return g(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield ZK(t);te("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ZP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ZP(e.remoteStore,i)),t._onlineComponents=e})}function ZK(t){return g(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wb(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;dc("Error using user provided cache. Falling back to memory cache: "+n),yield wb(t,new nk)}}else te("FirestoreClient","Using default OfflineComponentProvider"),yield wb(t,new nk);return t._offlineComponents})}function tO(t){return g(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),yield rk(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),yield rk(t,new YK))),t._onlineComponents})}function XK(t){return tO(t).then(e=>e.syncEngine)}function JK(t){return g(this,null,function*(){let e=yield tO(t),n=e.eventManager;return n.onListen=LK.bind(null,e.syncEngine),n.onUnlisten=UK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jK.bind(null,e.syncEngine),n})}function e7(t,e,n={}){let r=new Vr;return t.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return function(s,o,a,c,u){let d=new z0({next:m=>{d.Za(),o.enqueueAndForget(()=>kK(s,h)),m.fromCache&&c.source==="server"?u.reject(new X(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new B0(a,d,{includeMetadataChanges:!0,_a:!0});return PK(s,h)}(yield JK(t),t.asyncQueue,e,n,r)})),r.promise}function nO(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var ik=new Map;function rO(t,e,n){if(!n)throw new X(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function t7(t,e,n,r){if(e===!0&&r===!0)throw new X(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sk(t){if(!ce.isDocumentKey(t))throw new X(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ok(t){if(ce.isDocumentKey(t))throw new X(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function sm(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=vm(t);throw new X(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var om=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}t7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},bc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new om({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new om(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bb;switch(r.type){case"firstParty":return new xb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return g(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=ik.get(n);r&&(te("ComponentProvider","Removing Datastore"),ik.delete(n),r.terminate())}(this),Promise.resolve()}};function iO(t,e,n,r={}){var i;let s=(t=sm(t,bc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&dc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Nt.MOCK_USER;else{a=eM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new X(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Nt(u)}t._authCredentials=new Cb(new Fp(a,c))}}var Cc=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Qn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},gs=class t extends Cc{constructor(e,n,r){super(e,n,_k(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new ce(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function sO(t,e,...n){if(t=Yt(t),rO("collection","path",e),t instanceof bc){let r=nt.fromString(e,...n);return ok(r),new gs(t,null,r)}{if(!(t instanceof Qn||t instanceof gs))throw new X(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(nt.fromString(e,...n));return ok(r),new gs(t.firestore,null,r)}}function oO(t,e,...n){if(t=Yt(t),arguments.length===1&&(e=Lp.newId()),rO("doc","path",e),t instanceof bc){let r=nt.fromString(e,...n);return sk(r),new Qn(t,null,new ce(r))}{if(!(t instanceof Qn||t instanceof gs))throw new X(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(nt.fromString(e,...n));return sk(r),new Qn(t.firestore,t instanceof gs?t.converter:null,new ce(r))}}var am=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Xp(this,"async_queue_retry"),this.Vu=()=>{let r=Eb();r&&te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Eb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Eb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Vr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return g(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ku(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw xi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=O0.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&he()}verifyOperationInProgress(){}wu(){return g(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var ju=class extends bc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new am,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return g(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new am(e),this._firestoreClient=void 0,yield e}})}};function aO(t,e){let n=typeof t=="object"?t:Za(),r=typeof t=="string"?t:e||"(default)",i=gu(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=JN("firestore");s&&iO(i,...s)}return i}function cO(t){if(t._terminated)throw new X(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||n7(t),t._firestoreClient}function n7(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,d){return new Nb(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,nO(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new G0(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(t._componentsProvider))}var $u=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Jt.fromBase64String(e))}catch(n){throw new X(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Hu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var cm=class{constructor(e){this._methodName=e}};var qu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}};var zu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var r7=/^__.*__$/,W0=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Di(e,this.data,this.fieldMask,n,this.fieldTransforms):new xo(e,this.data,n,this.fieldTransforms)}};function lO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}var K0=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return lm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(lO(this.Cu)&&r7.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Q0=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mm(e)}Qu(e,n,r,i=!1){return new K0({Cu:e,methodName:n,qu:r,path:kn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function uO(t){let e=t._freezeSettings(),n=mm(t._databaseId);return new Q0(t._databaseId,!!e.ignoreUndefinedProperties,n)}function i7(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);hO("Data must be an object, but it was:",o,r);let a=dO(r,o),c,u;if(s.merge)c=new Lr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let h of s.mergeFields){let m=o7(e,h,n);if(!o.contains(m))throw new X(B.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);c7(d,m)||d.push(m)}c=new Lr(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new W0(new dr(a),c,u)}function s7(t,e,n,r=!1){return vC(n,t.Qu(r?4:3,e))}function vC(t,e){if(fO(t=Yt(t)))return hO("Unsupported field value:",e,t),dO(t,e);if(t instanceof cm)return function(r,i){if(!lO(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=vC(a,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $W(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ut.fromDate(r);return{timestampValue:Kp(i.serializer,s)}}if(r instanceof Ut){let s=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kp(i.serializer,s)}}if(r instanceof qu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $u)return{bytesValue:kk(i.serializer,r._byteString)};if(r instanceof Qn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof zu)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return lC(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${vm(r)}`)}(t,e)}function dO(t,e){let n={};return uk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sc(t,(r,i)=>{let s=vC(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function fO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof qu||t instanceof $u||t instanceof Qn||t instanceof cm||t instanceof zu)}function hO(t,e,n){if(!fO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=vm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function o7(t,e,n){if((e=Yt(e))instanceof Hu)return e._internalPath;if(typeof e=="string")return pO(t,e);throw lm("Field path arguments must be of type string or ",t,!1,void 0,n)}var a7=new RegExp("[~\\*/\\[\\]]");function pO(t,e,n){if(e.search(a7)>=0)throw lm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hu(...e.split("."))._internalPath}catch{throw lm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lm(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new X(B.INVALID_ARGUMENT,a+t+c)}function c7(t,e){return t.some(n=>n.isEqual(e))}var um=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Y0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(_C("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Y0=class extends um{data(){return super.data()}};function _C(t,e){return typeof e=="string"?pO(t,e):e instanceof Hu?e._internalPath:e._delegate._internalPath}function l7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Gu=class{},Z0=class extends Gu{};function mO(t,e,...n){let r=[];e instanceof Gu&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof X0).length,a=s.filter(c=>c instanceof dm).length;if(o>1||o>0&&a>0)throw new X(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var dm=class t extends Z0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return yO(e._query,n),new Cc(e.firestore,e.converter,qb(e._query,n))}_parse(e){let n=uO(e.firestore);return function(s,o,a,c,u,d,h){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new X(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){ck(h,d);let y=[];for(let _ of h)y.push(ak(c,s,_));m={arrayValue:{values:y}}}else m=ak(c,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||ck(h,d),m=s7(a,o,h,d==="in"||d==="not-in");return _t.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function gO(t,e,n){let r=e,i=_C("where",t);return dm._create(i,r,n)}var X0=class t extends Gu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:hr.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)yO(o,c),o=qb(o,c)}(e._query,n),new Cc(e.firestore,e.converter,qb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function ak(t,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new X(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ek(e)&&n.indexOf("/")!==-1)throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(nt.fromString(n));if(!ce.isDocumentKey(r))throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return PP(t,new ce(r))}if(n instanceof Qn)return PP(t,n._key);throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vm(n)}.`)}function ck(t,e){if(!Array.isArray(t)||t.length===0)throw new X(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yO(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var J0=class{convertValue(e,n="none"){switch(bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Sc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>et(o.doubleValue));return new zu(s)}convertGeoPoint(e){return new qu(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=sC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ou(e));default:return null}}convertTimestamp(e){let n=Ai(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=nt.fromString(e);$e(Uk(r));let i=new jp(r.get(1),r.get(3)),s=new ce(r.popFirst(5));return i.isEqual(n)||xi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function u7(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var cc=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},eC=class extends um{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(_C("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},uc=class extends eC{data(e={}){return super.data(e)}},tC=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new cc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new uc(this._firestore,this._userDataWriter,r.key,r,new cc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new uc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new uc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:d7(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function d7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}var nC=class extends J0{constructor(e){super(),this.firestore=e}convertBytes(e){return new $u(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,n)}};function vO(t){t=sm(t,Cc);let e=sm(t.firestore,ju),n=cO(e),r=new nC(e);return l7(t._query),e7(n,t._query).then(i=>new tC(e,r,t,i))}function _O(t,e){let n=sm(t.firestore,ju),r=oO(t),i=u7(t.converter,e);return f7(n,[i7(uO(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,_o.exists(!1))]).then(()=>r)}function f7(t,e){return function(r,i){let s=new Vr;return r.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return $K(yield XK(r),i,s)})),s.promise}(cO(t),e)}(function(e,n=!0){(function(i){Ic=i})(fs),ds(new Kn("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new ju(new Ib(r.getProvider("auth-internal")),new Tb(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jp(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),At(DP,"4.7.3",e),At(DP,"4.7.3","esm2017")})();var Ri=class{constructor(e){return e}},EO="firestore",EC=class{constructor(){return yu(EO)}};var wC=new se("angularfire2.firestore-instances");function h7(t,e){let n=up(EO,t,e);return n&&new Ri(n)}function p7(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ri(r)}}var m7={provide:EC,deps:[[new dn,wC]]},g7={provide:Ri,useFactory:h7,deps:[[new dn,wC],vi]};function wO(t,...e){return At("angularfire",uo.full,"fst"),Tr([g7,m7,{provide:wC,useFactory:p7(t),multi:!0,deps:[He,_n,ec,fo,[new dn,xu],[new dn,Ja],...e]}])}var bO=Cn(_O,!0);var _m=Cn(sO,!0);var CO=Cn(vO,!0);var IO=Cn(aO,!0);var SO=Cn(mO,!0);var xO=Cn(gO,!0);var TO=t=>{let e=t.httpHandler;return{setHttpHandler(n){e=n},httpHandler(){return e},updateHttpClientConfig(n,r){e.updateHttpClientConfig(n,r)},httpHandlerConfigs(){return e.httpHandlerConfigs()}}},DO=t=>({httpHandler:t.httpHandler()});var Zu=function(t){return t.HTTP="http",t.HTTPS="https",t}(Zu||{});var Xu=function(t){return t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256",t}(Xu||{});var Ac="__smithy_context";var we=class t{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let n=new t(O(E({},e),{headers:E({},e.headers)}));return n.query&&(n.query=y7(n.query)),n}static isInstance(e){if(!e)return!1;let n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){return t.clone(this)}};function y7(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return O(E({},e),{[n]:Array.isArray(r)?[...r]:r})},{})}var In=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let n=e;return typeof n.statusCode=="number"&&typeof n.headers=="object"}};function v7(t){return e=>n=>g(this,null,function*(){let{request:r}=n;return we.isInstance(r)&&r.body&&t.runtime==="node"&&t.requestHandler?.constructor?.name!=="FetchHttpHandler"&&(r.headers=O(E({},r.headers),{Expect:"100-continue"})),e(O(E({},n),{request:r}))})}var _7={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},RO=t=>({applyToStack:e=>{e.add(v7(t),_7)}});var bC={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},CC=bC.WHEN_SUPPORTED;var IC=bC.WHEN_SUPPORTED,Ze=function(t){return t.MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.SHA1="SHA1",t.SHA256="SHA256",t}(Ze||{});var NO=Ze.MD5,MO=Ze.CRC32;function PO(t,e,n){return t.$source||(t.$source={}),t.$source[e]=n,t}function Mt(t,e,n){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=n}var SC=t=>In.isInstance(t)?t.headers?.date??t.headers?.Date:void 0;var Tc=t=>new Date(Date.now()+t);var kO=(t,e)=>Math.abs(Tc(e).getTime()-t)>=3e5;var xC=(t,e)=>{let n=Date.parse(t);return kO(n,e)?n-Date.now():e};var Ju=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},Em=t=>g(void 0,null,function*(){let e=Ju("context",t.context),n=Ju("config",t.config),r=e.endpointV2?.properties?.authSchemes?.[0],s=yield Ju("signer",n.signer)(r),o=t?.signingRegion,a=t?.signingRegionSet,c=t?.signingName;return{config:n,signer:s,signingRegion:o,signingRegionSet:a,signingName:c}}),To=class{sign(e,n,r){return g(this,null,function*(){if(!we.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let i=yield Em(r),{config:s,signer:o}=i,{signingRegion:a,signingName:c}=i,u=r.context;if(u?.authSchemes?.length??!1){let[h,m]=u.authSchemes;h?.name==="sigv4a"&&m?.name==="sigv4"&&(a=m?.signingRegion??a,c=m?.signingName??c)}return yield o.sign(e,{signingDate:Tc(s.systemClockOffset),signingRegion:a,signingService:c})})}errorHandler(e){return n=>{let r=n.ServerTime??SC(n.$response);if(r){let i=Ju("config",e.config),s=i.systemClockOffset;i.systemClockOffset=xC(r,i.systemClockOffset),i.systemClockOffset!==s&&n.$metadata&&(n.$metadata.clockSkewCorrected=!0)}throw n}}successHandler(e,n){let r=SC(e);if(r){let i=Ju("config",n.config);i.systemClockOffset=xC(r,i.systemClockOffset)}}};var ed=class extends To{sign(e,n,r){return g(this,null,function*(){if(!we.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:i,signer:s,signingRegion:o,signingRegionSet:a,signingName:c}=yield Em(r),d=((yield i.sigv4aSigningRegionSet?.())??a??[o]).join(",");return yield s.sign(e,{signingDate:Tc(i.systemClockOffset),signingRegion:d,signingService:c})})}};var pr=t=>t[Ac]||(t[Ac]={});var jt=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};function b7(t){let e=new Map;for(let n of t)e.set(n.schemeId,n);return e}var AC=(t,e)=>(n,r)=>i=>g(void 0,null,function*(){let s=t.httpAuthSchemeProvider(yield e.httpAuthSchemeParametersProvider(t,r,i.input)),o=b7(t.httpAuthSchemes),a=pr(r),c=[];for(let u of s){let d=o.get(u.schemeId);if(!d){c.push(`HttpAuthScheme \`${u.schemeId}\` was not enabled for this service.`);continue}let h=d.identityProvider(yield e.identityProviderConfigProvider(t));if(!h){c.push(`HttpAuthScheme \`${u.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:m={},signingProperties:y={}}=u.propertiesExtractor?.(t,r)||{};u.identityProperties=Object.assign(u.identityProperties||{},m),u.signingProperties=Object.assign(u.signingProperties||{},y),a.selectedHttpAuthScheme={httpAuthOption:u,identity:yield h(u.identityProperties),signer:d.signer};break}if(!a.selectedHttpAuthScheme)throw new Error(c.join(`
`));return n(i)});var C7={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},OO=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n})=>({applyToStack:r=>{r.addRelativeTo(AC(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n}),C7)}});var FO=(t,e)=>n=>r=>g(void 0,null,function*(){let{response:i}=yield n(r);try{let s=yield e(i,t);return{response:i,output:s}}catch(s){if(Object.defineProperty(s,"$response",{value:i}),!("$metadata"in s)){let o="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";s.message+=`
  `+o,typeof s.$responseBodyText<"u"&&s.$response&&(s.$response.body=s.$responseBodyText)}throw s}});var LO=(t,e)=>(n,r)=>i=>g(void 0,null,function*(){let s=r.endpointV2?.url&&t.urlParser?()=>g(void 0,null,function*(){return t.urlParser(r.endpointV2.url)}):t.endpoint;if(!s)throw new Error("No valid endpoint provider available.");let o=yield e(i.input,O(E({},t),{endpoint:s}));return n(O(E({},i),{request:o}))});var I7={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},td={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function wm(t,e,n){return{applyToStack:r=>{r.add(FO(t,n),I7),r.add(LO(t,e),td)}}}var rpe={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:td.name};var S7=t=>e=>{throw e},x7=(t,e)=>{},VO=t=>(e,n)=>r=>g(void 0,null,function*(){if(!we.isInstance(r.request))return e(r);let s=pr(n).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=s,u=yield e(O(E({},r),{request:yield c.sign(r.request,a,o)})).catch((c.errorHandler||S7)(o));return(c.successHandler||x7)(u.response,o),u});var TC={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},BO=t=>({applyToStack:e=>{e.addRelativeTo(VO(t),TC)}});var Ni=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};var Mi={},Do=new Array(64);for(let t=0,e=65,n=90;t+e<=n;t++){let r=String.fromCharCode(t+e);Mi[r]=t,Do[t]=r}for(let t=0,e=97,n=122;t+e<=n;t++){let r=String.fromCharCode(t+e),i=t+26;Mi[r]=i,Do[i]=r}for(let t=0;t<10;t++){Mi[t.toString(10)]=t+52;let e=t.toString(10),n=t+52;Mi[e]=n,Do[n]=e}Mi["+"]=62;Do[62]="+";Mi["/"]=63;Do[63]="/";var Es=6,Ro=8,UO=63;var Dc=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;let n=new ArrayBuffer(e),r=new DataView(n);for(let i=0;i<t.length;i+=4){let s=0,o=0;for(let u=i,d=i+3;u<=d;u++)if(t[u]!=="="){if(!(t[u]in Mi))throw new TypeError(`Invalid character ${t[u]} in base64 string.`);s|=Mi[t[u]]<<(d-u)*Es,o+=Es}else s>>=Es;let a=i/4*3;s>>=o%Ro;let c=Math.floor(o/Ro);for(let u=0;u<c;u++){let d=(c-u-1)*Ro;r.setUint8(a+u,(s&255<<d)>>d)}}return new Uint8Array(n)};var On=t=>new TextEncoder().encode(t);var Hr=t=>typeof t=="string"?On(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t);var Rc=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)};function No(t){let e;typeof t=="string"?e=On(t):e=t;let n=typeof e=="object"&&typeof e.length=="number",r=typeof e=="object"&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let s=0;s<e.length;s+=3){let o=0,a=0;for(let u=s,d=Math.min(s+3,e.length);u<d;u++)o|=e[u]<<(d-u-1)*Ro,a+=Ro;let c=Math.ceil(a/Es);o<<=c*Es-a;for(let u=1;u<=c;u++){let d=(c-u)*Es;i+=Do[(o&UO<<d)>>d]}i+="==".slice(0,4-c)}return i}function jO(t,e="utf-8"){return e==="base64"?No(t):Rc(t)}function $O(t,e){return e==="base64"?Pi.mutate(Dc(t)):Pi.mutate(On(t))}var Pi=class t extends Uint8Array{static fromString(e,n="utf-8"){switch(typeof e){case"string":return $O(e,n);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,t.prototype),e}transformToString(e="utf-8"){return jO(this,e)}};var HO=(t,e)=>{let{base64Encoder:n,bodyLengthChecker:r,checksumAlgorithmFn:i,checksumLocationName:s,streamHasher:o}=e,a=n!==void 0&&r!==void 0&&i!==void 0&&s!==void 0&&o!==void 0,c=a?o(i,t):void 0,u=t.getReader();return new ReadableStream({pull(h){return g(this,null,function*(){let{value:m,done:y}=yield u.read();if(y){if(h.enqueue(`0\r
`),a){let _=n(yield c);h.enqueue(`${s}:${_}\r
`),h.enqueue(`\r
`)}h.close()}else h.enqueue(`${(r(m)||0).toString(16)}\r
${m}\r
`)})}})};var mr=t=>encodeURIComponent(t).replace(/[!'()*]/g,A7),A7=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function DC(t){let e=[];for(let n of Object.keys(t).sort()){let r=t[n];if(n=mr(n),Array.isArray(r))for(let i=0,s=r.length;i<s;i++)e.push(`${n}=${mr(r[i])}`);else{let i=n;(r||typeof r=="string")&&(i+=`=${mr(r)}`),e.push(i)}}return e.join("&")}var qO=t=>g(void 0,null,function*(){return typeof Blob=="function"&&t instanceof Blob?new Uint8Array(yield t.arrayBuffer()):T7(t)});function T7(t){return g(this,null,function*(){let e=[],n=t.getReader(),r=!1,i=0;for(;!r;){let{done:a,value:c}=yield n.read();c&&(e.push(c),i+=c.length),r=a}let s=new Uint8Array(i),o=0;for(let a of e)s.set(a,o),o+=a.length;return s})}var zO={},RC={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),zO[t]=e,RC[e]=t}function bm(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){let r=t.slice(n,n+2).toLowerCase();if(r in RC)e[n/2]=RC[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return e}function dt(t){let e="";for(let n=0;n<t.byteLength;n++)e+=zO[t[n]];return e}var Cm=t=>typeof ReadableStream=="function"&&(t?.constructor?.name===ReadableStream.name||t instanceof ReadableStream);var GO="The stream has already been transformed.",KO=t=>{if(!WO(t)&&!Cm(t)){let i=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let e=!1,n=()=>g(void 0,null,function*(){if(e)throw new Error(GO);return e=!0,yield qO(t)}),r=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(t,{transformToByteArray:n,transformToString:i=>g(void 0,null,function*(){let s=yield n();if(i==="base64")return No(s);if(i==="hex")return dt(s);if(i===void 0||i==="utf8"||i==="utf-8")return Rc(s);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(s);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")}),transformToWebStream:()=>{if(e)throw new Error(GO);if(e=!0,WO(t))return r(t);if(Cm(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},WO=t=>typeof Blob=="function"&&t instanceof Blob;function QO(t){return g(this,null,function*(){return typeof t.stream=="function"&&(t=t.stream()),t.tee()})}function YO(t,e){return g(this,null,function*(){let n=0,r=[],i=t.getReader(),s=!1;for(;!s;){let{done:c,value:u}=yield i.read();if(u&&(r.push(u),n+=u?.byteLength??0),n>=e)break;s=c}i.releaseLock();let o=new Uint8Array(Math.min(e,n)),a=0;for(let c of r){if(c.byteLength>o.byteLength-a){o.set(c.subarray(0,o.byteLength-a),a);break}else o.set(c,a);a+=c.length}return o})}var nd=(...n)=>g(void 0,[...n],function*(t=new Uint8Array,e){if(t instanceof Uint8Array)return Pi.mutate(t);if(!t)return Pi.mutate(new Uint8Array);let r=e.streamCollector(t);return Pi.mutate(yield r)});function Im(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Sm(t,e){return new NC(t,e)}var NC=class{constructor(e,n){this.input=e,this.context=n,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}build(){return g(this,null,function*(){let{hostname:e,protocol:n="https",port:r,path:i}=yield this.context.endpoint();this.path=i;for(let s of this.resolvePathStack)s(this.path);return new we({protocol:n,hostname:this.hostname||e,port:r,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(n=>{this.path=`${n?.endsWith("/")?n.slice(0,-1):n||""}`+e}),this}p(e,n,r,i){return this.resolvePathStack.push(s=>{this.path=MC(s,this.input,e,n,r,i)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}};var MC=(t,e,n,r,i,s)=>{if(e!=null&&e[n]!==void 0){let o=r();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");t=t.replace(i,s?o.split("/").map(a=>Im(a)).join("/"):Im(o))}else throw new Error("No value provided for input HTTP label: "+n+".");return t};function ZO(t,e,n){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=n}var xm=class{constructor(e){this.authSchemes=new Map;for(let[n,r]of Object.entries(e))r!==void 0&&this.authSchemes.set(n,r)}getIdentityProvider(e){return this.authSchemes.get(e)}};var D7=t=>e=>PC(e)&&e.expiration.getTime()-Date.now()<t;var XO=D7(3e5),PC=t=>t.expiration!==void 0,JO=(t,e,n)=>{if(t===void 0)return;let r=typeof t!="function"?()=>g(void 0,null,function*(){return Promise.resolve(t)}):t,i,s,o,a=!1,c=u=>g(void 0,null,function*(){s||(s=r(u));try{i=yield s,o=!0,a=!1}finally{s=void 0}return i});return e===void 0?u=>g(void 0,null,function*(){return(!o||u?.forceRefresh)&&(i=yield c(u)),i}):u=>g(void 0,null,function*(){return(!o||u?.forceRefresh)&&(i=yield c(u)),a?i:n(i)?(e(i)&&(yield c(u)),i):(a=!0,i)})};var e1=(t,e,n)=>{let r,i,s,o=!1,a=()=>g(void 0,null,function*(){i||(i=t());try{r=yield i,s=!0,o=!1}finally{i=void 0}return r});return e===void 0?c=>g(void 0,null,function*(){return(!s||c?.forceRefresh)&&(r=yield a()),r}):c=>g(void 0,null,function*(){return(!s||c?.forceRefresh)&&(r=yield a()),o?r:n&&!n(r)?(o=!0,r):(e(r)&&(yield a()),r)})};var t1=t=>(t.sigv4aSigningRegionSet=Ni(t.sigv4aSigningRegionSet),t);var n1="X-Amz-Algorithm",r1="X-Amz-Credential",OC="X-Amz-Date",i1="X-Amz-SignedHeaders",s1="X-Amz-Expires",FC="X-Amz-Signature",LC="X-Amz-Security-Token";var VC="authorization",BC=OC.toLowerCase(),R7="date",o1=[VC,BC,R7],a1=FC.toLowerCase(),rd="x-amz-content-sha256",c1=LC.toLowerCase();var l1={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},u1=/^proxy-/,d1=/^sec-/;var Am="AWS4-HMAC-SHA256";var f1="AWS4-HMAC-SHA256-PAYLOAD",h1="UNSIGNED-PAYLOAD",p1=50,UC="aws4_request",m1=60*60*24*7;var Tm={},jC=[],Dm=(t,e,n)=>`${t}/${e}/${n}/${UC}`,y1=(t,e,n,r,i)=>g(void 0,null,function*(){let s=yield g1(t,e.secretAccessKey,e.accessKeyId),o=`${n}:${r}:${i}:${dt(s)}:${e.sessionToken}`;if(o in Tm)return Tm[o];for(jC.push(o);jC.length>p1;)delete Tm[jC.shift()];let a=`AWS4${e.secretAccessKey}`;for(let c of[n,r,i,UC])a=yield g1(t,a,c);return Tm[o]=a});var g1=(t,e,n)=>{let r=new t(e);return r.update(Hr(n)),r.digest()};var Rm=({headers:t},e,n)=>{let r={};for(let i of Object.keys(t).sort()){if(t[i]==null)continue;let s=i.toLowerCase();(s in l1||e?.has(s)||u1.test(s)||d1.test(s))&&(!n||n&&!n.has(s))||(r[s]=t[i].trim().replace(/\s+/g," "))}return r};var $C=({query:t={}})=>{let e=[],n={};for(let r of Object.keys(t)){if(r.toLowerCase()===a1)continue;let i=mr(r);e.push(i);let s=t[r];typeof s=="string"?n[i]=`${i}=${mr(s)}`:Array.isArray(s)&&(n[i]=s.slice(0).reduce((o,a)=>o.concat([`${i}=${mr(a)}`]),[]).sort().join("&"))}return e.sort().map(r=>n[r]).filter(r=>r).join("&")};var Nm=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]";var id=(r,i)=>g(void 0,[r,i],function*({headers:t,body:e},n){for(let s of Object.keys(t))if(s.toLowerCase()===rd)return t[s];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||Nm(e)){let s=new n;return s.update(Hr(e)),dt(yield s.digest())}return h1});var Mm=class{format(e){let n=[];for(let s of Object.keys(e)){let o=On(s);n.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[s]))}let r=new Uint8Array(n.reduce((s,o)=>s+o.byteLength,0)),i=0;for(let s of n)r.set(s,i),i+=s.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let o=new Uint8Array(s.buffer);return o.set(e.value,3),o;case"string":let a=On(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":let d=new Uint8Array(9);return d[0]=8,d.set(HC.fromNumber(e.value.valueOf()).bytes,1),d;case"uuid":if(!N7.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let h=new Uint8Array(17);return h[0]=9,h.set(bm(e.value.replace(/\-/g,"")),1),h}}};var N7=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,HC=class t{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let n=new Uint8Array(8);for(let r=7,i=Math.abs(Math.round(e));r>-1&&i>0;r--,i/=256)n[r]=i;return e<0&&v1(n),new t(n)}valueOf(){let e=this.bytes.slice(0),n=e[0]&128;return n&&v1(e),parseInt(dt(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function v1(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var _1=(t,e)=>{t=t.toLowerCase();for(let n of Object.keys(e))if(t===n.toLowerCase())return!0;return!1};var qC=(t,e={})=>{let{headers:n,query:r={}}=we.clone(t);for(let i of Object.keys(n)){let s=i.toLowerCase();(s.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(s)||e.hoistableHeaders?.has(s))&&(r[i]=n[i],delete n[i])}return O(E({},t),{headers:n,query:r})};var Pm=t=>{t=we.clone(t);for(let e of Object.keys(t.headers))o1.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t};var E1=t=>M7(t).toISOString().replace(/\.\d{3}Z$/,"Z"),M7=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;var Mo=class{constructor({applyChecksum:e,credentials:n,region:r,service:i,sha256:s,uriEscapePath:o=!0}){this.headerFormatter=new Mm,this.service=i,this.sha256=s,this.uriEscapePath=o,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=jt(r),this.credentialProvider=jt(n)}presign(r){return g(this,arguments,function*(e,n={}){let{signingDate:i=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:a,signableHeaders:c,hoistableHeaders:u,signingRegion:d,signingService:h}=n,m=yield this.credentialProvider();this.validateResolvedCredentials(m);let y=d??(yield this.regionProvider()),{longDate:_,shortDate:D}=km(i);if(s>m1)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let x=Dm(D,y,h??this.service),k=qC(Pm(e),{unhoistableHeaders:a,hoistableHeaders:u});m.sessionToken&&(k.query[LC]=m.sessionToken),k.query[n1]=Am,k.query[r1]=`${m.accessKeyId}/${x}`,k.query[OC]=_,k.query[s1]=s.toString(10);let j=Rm(k,o,c);return k.query[i1]=w1(j),k.query[FC]=yield this.getSignature(_,x,this.getSigningKey(m,y,D,h),this.createCanonicalRequest(k,j,yield id(e,this.sha256))),k})}sign(e,n){return g(this,null,function*(){return typeof e=="string"?this.signString(e,n):e.headers&&e.payload?this.signEvent(e,n):e.message?this.signMessage(e,n):this.signRequest(e,n)})}signEvent(a,c){return g(this,arguments,function*({headers:e,payload:n},{signingDate:r=new Date,priorSignature:i,signingRegion:s,signingService:o}){let u=s??(yield this.regionProvider()),{shortDate:d,longDate:h}=km(r),m=Dm(d,u,o??this.service),y=yield id({headers:{},body:n},this.sha256),_=new this.sha256;_.update(e);let D=dt(yield _.digest()),x=[f1,h,m,i,D,y].join(`
`);return this.signString(x,{signingDate:r,signingRegion:u,signingService:o})})}signMessage(s,o){return g(this,arguments,function*(e,{signingDate:n=new Date,signingRegion:r,signingService:i}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:n,signingRegion:r,signingService:i,priorSignature:e.priorSignature}).then(c=>({message:e.message,signature:c}))})}signString(s){return g(this,arguments,function*(e,{signingDate:n=new Date,signingRegion:r,signingService:i}={}){let o=yield this.credentialProvider();this.validateResolvedCredentials(o);let a=r??(yield this.regionProvider()),{shortDate:c}=km(n),u=new this.sha256(yield this.getSigningKey(o,a,c,i));return u.update(Hr(e)),dt(yield u.digest())})}signRequest(a){return g(this,arguments,function*(e,{signingDate:n=new Date,signableHeaders:r,unsignableHeaders:i,signingRegion:s,signingService:o}={}){let c=yield this.credentialProvider();this.validateResolvedCredentials(c);let u=s??(yield this.regionProvider()),d=Pm(e),{longDate:h,shortDate:m}=km(n),y=Dm(m,u,o??this.service);d.headers[BC]=h,c.sessionToken&&(d.headers[c1]=c.sessionToken);let _=yield id(d,this.sha256);!_1(rd,d.headers)&&this.applyChecksum&&(d.headers[rd]=_);let D=Rm(d,i,r),x=yield this.getSignature(h,y,this.getSigningKey(c,u,m,o),this.createCanonicalRequest(d,D,_));return d.headers[VC]=`${Am} Credential=${c.accessKeyId}/${y}, SignedHeaders=${w1(D)}, Signature=${x}`,d})}createCanonicalRequest(e,n,r){let i=Object.keys(n).sort();return`${e.method}
${this.getCanonicalPath(e)}
${$C(e)}
${i.map(s=>`${s}:${n[s]}`).join(`
`)}

${i.join(";")}
${r}`}createStringToSign(e,n,r){return g(this,null,function*(){let i=new this.sha256;i.update(Hr(r));let s=yield i.digest();return`${Am}
${e}
${n}
${dt(s)}`})}getCanonicalPath({path:e}){if(this.uriEscapePath){let n=[];for(let s of e.split("/"))s?.length!==0&&s!=="."&&(s===".."?n.pop():n.push(s));let r=`${e?.startsWith("/")?"/":""}${n.join("/")}${n.length>0&&e?.endsWith("/")?"/":""}`;return mr(r).replace(/%2F/g,"/")}return e}getSignature(e,n,r,i){return g(this,null,function*(){let s=yield this.createStringToSign(e,n,i),o=new this.sha256(yield r);return o.update(Hr(s)),dt(yield o.digest())})}getSigningKey(e,n,r,i){return y1(this.sha256,e,r,n,i||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},km=t=>{let e=E1(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},w1=t=>Object.keys(t).sort().join(";");var b1=t=>{let e=!1,n;t.credentials&&(e=!0,n=JO(t.credentials,XO,PC)),n||(t.credentialDefaultProvider?n=Ni(t.credentialDefaultProvider(Object.assign({},t,{parentClientConfig:t}))):n=()=>g(void 0,null,function*(){throw new Error("`credentials` is missing")}));let{signingEscapePath:r=!0,systemClockOffset:i=t.systemClockOffset||0,sha256:s}=t,o;return t.signer?o=Ni(t.signer):t.regionInfoProvider?o=()=>Ni(t.region)().then(a=>g(void 0,null,function*(){return[(yield t.regionInfoProvider(a,{useFipsEndpoint:yield t.useFipsEndpoint(),useDualstackEndpoint:yield t.useDualstackEndpoint()}))||{},a]})).then(([a,c])=>{let{signingRegion:u,signingService:d}=a;t.signingRegion=t.signingRegion||u||c,t.signingName=t.signingName||d||t.serviceId;let h=O(E({},t),{credentials:n,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:r}),m=t.signerConstructor||Mo;return new m(h)}):o=a=>g(void 0,null,function*(){a=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:yield Ni(t.region)(),properties:{}},a);let c=a.signingRegion,u=a.signingName;t.signingRegion=t.signingRegion||c,t.signingName=t.signingName||u||t.serviceId;let d=O(E({},t),{credentials:n,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:r}),h=t.signerConstructor||Mo;return new h(d)}),O(E({},t),{systemClockOffset:i,signingEscapePath:r,credentials:e?()=>g(void 0,null,function*(){return n().then(a=>PO(a,"CREDENTIALS_CODE","e"))}):n,signer:o})};var Po=(t,e)=>{let n=[];if(t&&n.push(t),e)for(let r of e)n.push(r);return n},ws=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,Nc=()=>{let t=[],e=[],n=!1,r=new Set,i=h=>h.sort((m,y)=>C1[y.step]-C1[m.step]||I1[y.priority||"normal"]-I1[m.priority||"normal"]),s=h=>{let m=!1,y=_=>{let D=Po(_.name,_.aliases);if(D.includes(h)){m=!0;for(let x of D)r.delete(x);return!1}return!0};return t=t.filter(y),e=e.filter(y),m},o=h=>{let m=!1,y=_=>{if(_.middleware===h){m=!0;for(let D of Po(_.name,_.aliases))r.delete(D);return!1}return!0};return t=t.filter(y),e=e.filter(y),m},a=h=>(t.forEach(m=>{h.add(m.middleware,E({},m))}),e.forEach(m=>{h.addRelativeTo(m.middleware,E({},m))}),h.identifyOnResolve?.(d.identifyOnResolve()),h),c=h=>{let m=[];return h.before.forEach(y=>{y.before.length===0&&y.after.length===0?m.push(y):m.push(...c(y))}),m.push(h),h.after.reverse().forEach(y=>{y.before.length===0&&y.after.length===0?m.push(y):m.push(...c(y))}),m},u=(h=!1)=>{let m=[],y=[],_={};return t.forEach(x=>{let k=O(E({},x),{before:[],after:[]});for(let j of Po(k.name,k.aliases))_[j]=k;m.push(k)}),e.forEach(x=>{let k=O(E({},x),{before:[],after:[]});for(let j of Po(k.name,k.aliases))_[j]=k;y.push(k)}),y.forEach(x=>{if(x.toMiddleware){let k=_[x.toMiddleware];if(k===void 0){if(h)return;throw new Error(`${x.toMiddleware} is not found when adding ${ws(x.name,x.aliases)} middleware ${x.relation} ${x.toMiddleware}`)}x.relation==="after"&&k.after.push(x),x.relation==="before"&&k.before.push(x)}}),i(m).map(c).reduce((x,k)=>(x.push(...k),x),[])},d={add:(h,m={})=>{let{name:y,override:_,aliases:D}=m,x=E({step:"initialize",priority:"normal",middleware:h},m),k=Po(y,D);if(k.length>0){if(k.some(j=>r.has(j))){if(!_)throw new Error(`Duplicate middleware name '${ws(y,D)}'`);for(let j of k){let G=t.findIndex(Ie=>Ie.name===j||Ie.aliases?.some(re=>re===j));if(G===-1)continue;let ee=t[G];if(ee.step!==x.step||x.priority!==ee.priority)throw new Error(`"${ws(ee.name,ee.aliases)}" middleware with ${ee.priority} priority in ${ee.step} step cannot be overridden by "${ws(y,D)}" middleware with ${x.priority} priority in ${x.step} step.`);t.splice(G,1)}}for(let j of k)r.add(j)}t.push(x)},addRelativeTo:(h,m)=>{let{name:y,override:_,aliases:D}=m,x=E({middleware:h},m),k=Po(y,D);if(k.length>0){if(k.some(j=>r.has(j))){if(!_)throw new Error(`Duplicate middleware name '${ws(y,D)}'`);for(let j of k){let G=e.findIndex(Ie=>Ie.name===j||Ie.aliases?.some(re=>re===j));if(G===-1)continue;let ee=e[G];if(ee.toMiddleware!==x.toMiddleware||ee.relation!==x.relation)throw new Error(`"${ws(ee.name,ee.aliases)}" middleware ${ee.relation} "${ee.toMiddleware}" middleware cannot be overridden by "${ws(y,D)}" middleware ${x.relation} "${x.toMiddleware}" middleware.`);e.splice(G,1)}}for(let j of k)r.add(j)}e.push(x)},clone:()=>a(Nc()),use:h=>{h.applyToStack(d)},remove:h=>typeof h=="string"?s(h):o(h),removeByTag:h=>{let m=!1,y=_=>{let{tags:D,name:x,aliases:k}=_;if(D&&D.includes(h)){let j=Po(x,k);for(let G of j)r.delete(G);return m=!0,!1}return!0};return t=t.filter(y),e=e.filter(y),m},concat:h=>{let m=a(Nc());return m.use(h),m.identifyOnResolve(n||m.identifyOnResolve()||(h.identifyOnResolve?.()??!1)),m},applyToStack:a,identify:()=>u(!0).map(h=>{let m=h.step??h.relation+" "+h.toMiddleware;return ws(h.name,h.aliases)+" - "+m}),identifyOnResolve(h){return typeof h=="boolean"&&(n=h),n},resolve:(h,m)=>{for(let y of u().map(_=>_.middleware).reverse())h=y(h,m);return n&&console.log(d.identify()),h}};return d},C1={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},I1={high:3,normal:2,low:1};var Om=class{constructor(e){this.config=e,this.middlewareStack=Nc()}send(e,n,r){let i=typeof n!="function"?n:void 0,s=typeof n=="function"?n:r,o=i===void 0&&this.config.cacheMiddleware===!0,a;if(o){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(e.constructor)?a=c.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,i),c.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,i);if(s)a(e).then(c=>s(null,c.output),c=>s(c)).catch(()=>{});else return a(e).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}};var ko=class{constructor(){this.middlewareStack=Nc()}static classBuilder(){return new zC}resolveMiddlewareWithContext(e,n,r,{middlewareFn:i,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:u,additionalContext:d,CommandCtor:h}){for(let x of i.bind(this)(h,e,n,r))this.middlewareStack.use(x);let m=e.concat(this.middlewareStack),{logger:y}=n,_=E({logger:y,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[Ac]:E({commandInstance:this},u)},d),{requestHandler:D}=n;return m.resolve(x=>D.handle(x.request,r||{}),_)}},zC=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,n,r={}){return this._smithyContext=E({service:e,operation:n},r),this}c(e={}){return this._additionalContext=e,this}n(e,n){return this._clientName=e,this._commandName=n,this}f(e=r=>r,n=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=n,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){let e=this,n;return n=class extends ko{static getEndpointParameterInstructions(){return e._ep}constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this)}resolveMiddleware(r,i,s){return this.resolveMiddlewareWithContext(r,i,s,{CommandCtor:n,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}};var Fn="***SensitiveInformation***";var GC=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}};var P7=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&k1.warn(P1(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},k7=Math.ceil(34028234663852886e22),S1=t=>{let e=P7(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>k7)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},O7=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}};var x1=t=>T1(t,16),A1=t=>T1(t,8),T1=(t,e)=>{let n=O7(t);if(n!==void 0&&F7(n,e)!==n)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return n},F7=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},WC=(t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t},D1=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;let e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},Mc=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return k1.warn(P1(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}};var R1=t=>S1(typeof t=="string"?KC(t):t),L7=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,KC=t=>{let e=t.match(L7);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)};var N1=t=>x1(typeof t=="string"?KC(t):t),M1=t=>A1(typeof t=="string"?KC(t):t),P1=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),k1={warn:console.warn};var V7=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],O1=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F1(t){let e=t.getUTCFullYear(),n=t.getUTCMonth(),r=t.getUTCDay(),i=t.getUTCDate(),s=t.getUTCHours(),o=t.getUTCMinutes(),a=t.getUTCSeconds(),c=i<10?`0${i}`:`${i}`,u=s<10?`0${s}`:`${s}`,d=o<10?`0${o}`:`${o}`,h=a<10?`0${a}`:`${a}`;return`${V7[r]}, ${c} ${O1[n]} ${e} ${u}:${d}:${h} GMT`}var kve=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var B7=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),L1=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=B7.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[n,r,i,s,o,a,c,u,d]=e,h=N1(V1(r)),m=sd(i,"month",1,12),y=sd(s,"day",1,31),_=U7(h,m,y,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:u});return d.toUpperCase()!="Z"&&_.setTime(_.getTime()-z7(d)),_},Ove=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Fve=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Lve=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/);var U7=(t,e,n,r)=>{let i=e-1;return $7(t,i,n),new Date(Date.UTC(t,i,n,sd(r.hours,"hour",0,23),sd(r.minutes,"minute",0,59),sd(r.seconds,"seconds",0,60),q7(r.fractionalMilliseconds)))};var Vve=50*365*24*60*60*1e3;var j7=[31,28,31,30,31,30,31,31,30,31,30,31],$7=(t,e,n)=>{let r=j7[e];if(e===1&&H7(t)&&(r=29),n>r)throw new TypeError(`Invalid day for ${O1[e]} in ${t}: ${n}`)},H7=t=>t%4===0&&(t%100!==0||t%400===0),sd=(t,e,n,r)=>{let i=M1(V1(t));if(i<n||i>r)throw new TypeError(`${e} must be between ${n} and ${r}, inclusive`);return i},q7=t=>t==null?0:R1("0."+t)*1e3,z7=t=>{let e=t[0],n=1;if(e=="+")n=1;else if(e=="-")n=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let r=Number(t.substring(1,3)),i=Number(t.substring(4,6));return n*(r*60+i)*60*1e3},V1=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)};var Fm=class t extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,t.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}},Yn=(t,e={})=>{Object.entries(e).filter(([,r])=>r!==void 0).forEach(([r,i])=>{(t[r]==null||t[r]==="")&&(t[r]=i)});let n=t.message||t.Message||"UnknownError";return t.message=n,delete t.Message,t};var G7=({output:t,parsedBody:e,exceptionCtor:n,errorCode:r})=>{let i=W7(t),s=i.httpStatusCode?i.httpStatusCode+"":void 0,o=new n({name:e?.code||e?.Code||r||s||"UnknownError",$fault:"client",$metadata:i});throw Yn(o,e)},B1=t=>({output:e,parsedBody:n,errorCode:r})=>{G7({output:e,parsedBody:n,exceptionCtor:t,errorCode:r})},W7=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]});var U1=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};var j1=t=>{let e=[];for(let n in Xu){let r=Xu[n];t[r]!==void 0&&e.push({algorithmId:()=>r,checksumConstructor:()=>t[r]})}return{_checksumAlgorithms:e,addChecksumAlgorithm(n){this._checksumAlgorithms.push(n)},checksumAlgorithms(){return this._checksumAlgorithms}}},$1=t=>{let e={};return t.checksumAlgorithms().forEach(n=>{e[n.algorithmId()]=n.checksumConstructor()}),e};var H1=t=>{let e=t.retryStrategy;return{setRetryStrategy(n){e=n},retryStrategy(){return e}}},q1=t=>{let e={};return e.retryStrategy=t.retryStrategy(),e};var z1=t=>E(E({},j1(t)),H1(t));var G1=t=>E(E({},$1(t)),q1(t));var QC=t=>{let e="#text";for(let n in t)t.hasOwnProperty(n)&&t[n][e]!==void 0?t[n]=t[n][e]:typeof t[n]=="object"&&t[n]!==null&&(t[n]=QC(t[n]));return t};var bs=t=>t!=null;var YC=function(){let t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),n=new e;return Object.setPrototypeOf(n,t.prototype),n};YC.prototype=Object.create(String.prototype,{constructor:{value:YC,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(YC,String);var Cs=class{trace(){}debug(){}info(){}warn(){}error(){}};function $t(t,e,n){let r,i,s;if(typeof e>"u"&&typeof n>"u")r={},s=t;else{if(r=t,typeof e=="function")return i=e,s=n,K7(r,i,s);s=e}for(let o of Object.keys(s)){if(!Array.isArray(s[o])){r[o]=s[o];continue}Q7(r,null,s,o)}return r}var K7=(t,e,n)=>$t(t,Object.entries(n).reduce((r,[i,s])=>(Array.isArray(s)?r[i]=s:typeof s=="function"?r[i]=[e,s()]:r[i]=[e,s],r),{})),Q7=(t,e,n,r)=>{if(e!==null){let o=n[r];typeof o=="function"&&(o=[,o]);let[a=Y7,c=Z7,u=r]=o;(typeof a=="function"&&a(e[u])||typeof a!="function"&&a)&&(t[r]=c(e[u]));return}let[i,s]=n[r];if(typeof s=="function"){let o,a=i===void 0&&(o=s())!=null,c=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;a?t[r]=o:c&&(t[r]=s())}else{let o=i===void 0&&s!=null,a=typeof i=="function"&&!!i(s)||typeof i!="function"&&!!i;(o||a)&&(t[r]=s)}},Y7=t=>t!=null,Z7=t=>t;var W1=t=>t.toISOString().replace(".000Z","Z");var K1=(t,e)=>nd(t,e).then(n=>e.utf8Encoder(n));var AF=Oy(xF());var sI=(t,e)=>K1(t,e).then(n=>{if(n.length){let r=new AF.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,u)=>u.trim()===""&&u.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let i;try{i=r.parse(n,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:n}),c}let s="#text",o=Object.keys(i)[0],a=i[o];return a[s]&&(a[o]=a[s],delete a[s]),QC(a)}return{}}),TF=(t,e)=>g(void 0,null,function*(){let n=yield sI(t,e);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n}),DF=(t,e)=>{if(e?.Error?.Code!==void 0)return e.Error.Code;if(e?.Code!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"};var cd=[Ze.CRC32,Ze.CRC32C,Ze.SHA1,Ze.SHA256],RF=[Ze.SHA256,Ze.SHA1,Ze.CRC32,Ze.CRC32C];var NF=(t,{requestChecksumRequired:e,requestAlgorithmMember:n},r)=>{let i=r?MO:NO;if(!n||!t[n])return e?i:void 0;let s=t[n];if(!cd.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${cd}.`);return s};var Pc=t=>t===Ze.MD5?"content-md5":`x-amz-checksum-${t.toLowerCase()}`;var MF=(t,e)=>{let n=t.toLowerCase();for(let r of Object.keys(e))if(n===r.toLowerCase())return!0;return!1};var kc=t=>t!==void 0&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!Nm(t);var oI=t=>new TextEncoder().encode(t);var oY=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:oI;function hn(t){return t instanceof Uint8Array?t:typeof t=="string"?oY(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function qr(t){return typeof t=="string"?t.length===0:t.byteLength===0}function ld(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}function ud(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),n=0;n<t.length;)e[n]=t[n],n+=1;return e}return Uint32Array.from(t)}var aI=function(){function t(){this.crc32=new Fo}return t.prototype.update=function(e){qr(e)||this.crc32.update(hn(e))},t.prototype.digest=function(){return Hi(this,void 0,void 0,function(){return ia(this,function(e){return[2,ld(this.crc32.digest())]})})},t.prototype.reset=function(){this.crc32=new Fo},t}();var Fo=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var n,r;try{for(var i=ra(e),s=i.next();!s.done;s=i.next()){var o=s.value;this.checksum=this.checksum>>>8^cY[(this.checksum^o)&255]}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();var aY=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],cY=ud(aY);var lI=function(){function t(){this.crc32c=new cI}return t.prototype.update=function(e){qr(e)||this.crc32c.update(hn(e))},t.prototype.digest=function(){return Hi(this,void 0,void 0,function(){return ia(this,function(e){return[2,ld(this.crc32c.digest())]})})},t.prototype.reset=function(){this.crc32c=new cI},t}();var cI=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var n,r;try{for(var i=ra(e),s=i.next();!s.done;s=i.next()){var o=s.value;this.checksum=this.checksum>>>8^uY[(this.checksum^o)&255]}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();var lY=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],uY=ud(lY);var Vm=(t,e)=>({[Ze.MD5]:e.md5,[Ze.CRC32]:aI,[Ze.CRC32C]:lI,[Ze.SHA1]:e.sha1,[Ze.SHA256]:e.sha256})[t];var Bm=(t,e)=>{let n=new t;return n.update(Hr(e||"")),n.digest()};var PF={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},kF=(t,e)=>(n,r)=>i=>g(void 0,null,function*(){if(!we.isInstance(i.request))return n(i);let{request:s}=i,{body:o,headers:a}=s,{base64Encoder:c,streamHasher:u}=t,{input:d,requestChecksumRequired:h,requestAlgorithmMember:m}=e,y=NF(d,{requestChecksumRequired:h,requestAlgorithmMember:m},!!r.isS3ExpressBucket),_=o,D=a;if(y){switch(y){case Ze.CRC32:Mt(r,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case Ze.CRC32C:Mt(r,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case Ze.SHA1:Mt(r,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case Ze.SHA256:Mt(r,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}let k=Pc(y),j=Vm(y,t);if(kc(o)){let{getAwsChunkedEncodingStream:G,bodyLengthChecker:ee}=t;_=G(o,{base64Encoder:c,bodyLengthChecker:ee,checksumLocationName:k,checksumAlgorithmFn:j,streamHasher:u}),D=O(E({},a),{"content-encoding":a["content-encoding"]?`${a["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":a["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":k}),delete D["content-length"]}else if(!MF(k,a)){let G=yield Bm(j,o);D=O(E({},a),{[k]:c(G)})}}return yield n(O(E({},i),{request:O(E({},s),{headers:D,body:_})}))});var Um=(t=[])=>{let e=[];for(let n of RF)!t.includes(n)||!cd.includes(n)||e.push(n);return e};var OF=t=>{let e=t.lastIndexOf("-");if(e!==-1){let n=t.slice(e+1);if(!n.startsWith("0")){let r=parseInt(n,10);if(!isNaN(r)&&r>=1&&r<=1e4)return!0}}return!1};function uI(t){return new Blob([t]).stream()}var FF=(i,s)=>g(void 0,[i,s],function*(t,{streamHasher:e,checksumAlgorithmFn:n,base64Encoder:r}){let o=kc(t)?e(n,t):Bm(n,t);return r(yield o)});var LF=(r,i)=>g(void 0,[r,i],function*(t,{config:e,responseAlgorithms:n}){let s=Um(n),{body:o,headers:a}=t;for(let c of s){let u=Pc(c),d=a[u];if(d){let h=Vm(c,e),{streamHasher:m,base64Encoder:y}=e,_=yield FF(o,{streamHasher:m,checksumAlgorithmFn:h,base64Encoder:y});if(_===d)break;throw new Error(`Checksum mismatch: expected "${_}" but received "${d}" in response header "${u}".`)}}});var VF={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},BF=(t,e)=>(n,r)=>i=>g(void 0,null,function*(){if(!we.isInstance(i.request))return n(i);let s=i.input,o=yield n(i),a=o.response,c,{requestValidationModeMember:u,responseAlgorithms:d}=e;if(u&&s[u]==="ENABLED"){let{clientName:h,commandName:m}=r;if(h==="S3Client"&&m==="GetObjectCommand"&&Um(d).every(D=>{let x=Pc(D),k=a.headers[x];return!k||OF(k)}))return o;let _=kc(a.body);_&&(c=yield t.streamCollector(a.body),a.body=uI(c)),yield LF(o.response,{config:t,responseAlgorithms:d}),_&&c&&(a.body=uI(c))}return o});var UF=(t,e)=>({applyToStack:n=>{n.add(kF(t,e),PF),n.addRelativeTo(BF(t,e),VF)}});var jF=t=>O(E({},t),{requestChecksumCalculation:jt(t.requestChecksumCalculation??CC),responseChecksumValidation:jt(t.responseChecksumValidation??IC)});var dY=t=>e=>n=>g(void 0,null,function*(){if(!we.isInstance(n.request))return e(n);let{request:r}=n,{handlerProtocol:i=""}=t.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let s=r.hostname;r.port!=null&&(s+=`:${r.port}`),r.headers.host=s}return e(n)}),fY={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},$F=t=>({applyToStack:e=>{e.add(dY(t),fY)}});var hY=()=>(t,e)=>n=>g(void 0,null,function*(){try{let i=yield t(n),{clientName:s,commandName:o,logger:a,dynamoDbDocumentClientOptions:c={}}=e,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:d}=c,h=u??e.inputFilterSensitiveLog,m=d??e.outputFilterSensitiveLog,r=i.output,{$metadata:y}=r,_=Fs(r,["$metadata"]);return a?.info?.({clientName:s,commandName:o,input:h(n.input),output:m(_),metadata:y}),i}catch(i){let{clientName:s,commandName:o,logger:a,dynamoDbDocumentClientOptions:c={}}=e,{overrideInputFilterSensitiveLog:u}=c,d=u??e.inputFilterSensitiveLog;throw a?.error?.({clientName:s,commandName:o,input:d(n.input),error:i,metadata:i.$metadata}),i}}),pY={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},HF=t=>({applyToStack:e=>{e.add(hY(),pY)}});var qF="X-Amzn-Trace-Id",mY="AWS_LAMBDA_FUNCTION_NAME",gY="_X_AMZN_TRACE_ID",yY=t=>e=>n=>g(void 0,null,function*(){let{request:r}=n;if(!we.isInstance(r)||t.runtime!=="node"||r.headers.hasOwnProperty(qF))return e(n);let i=process.env[mY],s=process.env[gY],o=a=>typeof a=="string"&&a.length>0;return o(i)&&o(s)&&(r.headers[qF]=s),e(O(E({},n),{request:r}))}),vY={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},zF=t=>({applyToStack:e=>{e.add(yY(t),vY)}});var _Y="content-length";function EY(){return(t,e)=>n=>g(this,null,function*(){let{request:r}=n;if(we.isInstance(r)&&!(_Y in r.headers)){let i="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof e?.logger?.warn=="function"&&!(e.logger instanceof Cs)?e.logger.warn(i):console.warn(i)}return t(E({},n))})}var wY={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},GF=t=>({applyToStack:e=>{e.add(EY(),wY)}});var WF=t=>(e,n)=>r=>g(void 0,null,function*(){let i=yield t.region(),s=t.region,o=()=>{};n.__s3RegionRedirect&&(Object.defineProperty(t,"region",{writable:!1,value:()=>g(void 0,null,function*(){return n.__s3RegionRedirect})}),o=()=>Object.defineProperty(t,"region",{writable:!0,value:s}));try{let a=yield e(r);if(n.__s3RegionRedirect){o();let c=yield t.region();if(i!==c)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw o(),a}}),KF={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function bY(t){return(e,n)=>r=>g(this,null,function*(){try{return yield e(r)}catch(i){if(t.followRegionRedirects&&(i?.$metadata?.httpStatusCode===301||i?.$metadata?.httpStatusCode===400&&i?.name==="IllegalLocationConstraintException")){try{let s=i.$response.headers["x-amz-bucket-region"];n.logger?.debug(`Redirecting from ${yield t.region()} to ${s}`),n.__s3RegionRedirect=s}catch(s){throw new Error("Region redirect failed: "+s)}return e(r)}throw i}})}var CY={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},QF=t=>({applyToStack:e=>{e.add(bY(t),CY),e.addRelativeTo(WF(t),KF)}});var dI=(()=>{class t{constructor(n={}){this.data=n,this.lastPurgeTime=Date.now()}get(n){let r=this.data[n];if(r)return r}set(n,r){return this.data[n]=r,r}delete(n){delete this.data[n]}purgeExpired(){return g(this,null,function*(){let n=Date.now();if(!(this.lastPurgeTime+t.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>n))for(let r in this.data){let i=this.data[r];if(!i.isRefreshing){let s=yield i.identity;s.expiration&&s.expiration.getTime()<n&&delete this.data[r]}}})}}return t.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4,t})();var Lo=class{constructor(e,n=!1,r=Date.now()){this._identity=e,this.isRefreshing=n,this.accessed=r}get identity(){return this.accessed=Date.now(),this._identity}};var fI=(()=>{class t{constructor(n,r=new dI){this.createSessionFn=n,this.cache=r}getS3ExpressIdentity(n,r){return g(this,null,function*(){let i=r.Bucket,{cache:s}=this,o=s.get(i);return o?o.identity.then(a=>(a.expiration?.getTime()??0)<Date.now()?s.set(i,new Lo(this.getIdentity(i))).identity:((a.expiration?.getTime()??0)<Date.now()+t.REFRESH_WINDOW_MS&&!o.isRefreshing&&(o.isRefreshing=!0,this.getIdentity(i).then(d=>{s.set(i,new Lo(Promise.resolve(d)))})),a)):s.set(i,new Lo(this.getIdentity(i))).identity})}getIdentity(n){return g(this,null,function*(){yield this.cache.purgeExpired().catch(s=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+s)});let r=yield this.createSessionFn(n);if(!r.Credentials?.AccessKeyId||!r.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}})}}return t.REFRESH_WINDOW_MS=6e4,t})();var XF="Directory",JF="S3Express",eL="sigv4-s3express",jm="X-Amz-S3session-Token",dd=jm.toLowerCase();var fd=class extends Mo{signWithCredentials(e,n,r){return g(this,null,function*(){let i=tL(n);e.headers[dd]=n.sessionToken;let s=this;return nL(s,i),s.signRequest(e,r??{})})}presignWithCredentials(e,n,r){return g(this,null,function*(){let i=tL(n);return delete e.headers[dd],e.headers[jm]=n.sessionToken,e.query=e.query??{},e.query[jm]=n.sessionToken,nL(this,i),this.presign(e,r)})}};function tL(t){return{accessKeyId:t.accessKeyId,secretAccessKey:t.secretAccessKey,expiration:t.expiration}}function nL(t,e){let n=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),r=t.credentialProvider,i=()=>(clearTimeout(n),t.credentialProvider=r,Promise.resolve(e));t.credentialProvider=i}var rL=t=>(e,n)=>r=>g(void 0,null,function*(){if(n.endpointV2){let i=n.endpointV2,s=i.properties?.authSchemes?.[0]?.name===eL;if((i.properties?.backend===JF||i.properties?.bucketType===XF)&&(Mt(n,"S3_EXPRESS_BUCKET","J"),n.isS3ExpressBucket=!0),s){let a=r.input.Bucket;if(a){let c=yield t.s3ExpressIdentityProvider.getS3ExpressIdentity(yield t.credentials(),{Bucket:a});n.s3ExpressIdentity=c,we.isInstance(r.request)&&c.sessionToken&&(r.request.headers[dd]=c.sessionToken)}}}return e(r)}),iL={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},hI=t=>({applyToStack:e=>{e.add(rL(t),iL)}});var sL=(t,e,n,r)=>g(void 0,null,function*(){let i=yield r.signWithCredentials(n,t,{});if(i.headers["X-Amz-Security-Token"]||i.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return i});var SY=t=>e=>{throw e},xY=(t,e)=>{};var oL=t=>(e,n)=>r=>g(void 0,null,function*(){if(!we.isInstance(r.request))return e(r);let s=pr(n).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=s,u;n.s3ExpressIdentity?u=yield sL(n.s3ExpressIdentity,o,r.request,yield t.signer()):u=yield c.sign(r.request,a,o);let d=yield e(O(E({},r),{request:u})).catch((c.errorHandler||SY)(o));return(c.successHandler||xY)(d.response,o),d}),pI=t=>({applyToStack:e=>{e.addRelativeTo(oL(t),TC)}});var aL=(t,{session:e})=>{let[n,r]=e;return O(E({},t),{forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,followRegionRedirects:t.followRegionRedirects??!1,s3ExpressIdentityProvider:t.s3ExpressIdentityProvider??new fI(i=>g(void 0,null,function*(){return n().send(new r({Bucket:i,SessionMode:"ReadWrite"}))})),bucketEndpoint:t.bucketEndpoint??!1})};var AY={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},TY=3e3,DY=t=>(e,n)=>r=>g(void 0,null,function*(){let i=yield e(r),{response:s}=i;if(!In.isInstance(s))return i;let{statusCode:o,body:a}=s;if(o<200||o>=300||!(typeof a?.stream=="function"||typeof a?.pipe=="function"||typeof a?.tee=="function"))return i;let u=a,d=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([u,d]=yield QO(a)),s.body=d;let h=yield RY(u,{streamCollector:y=>g(void 0,null,function*(){return YO(y,TY)})});typeof u?.destroy=="function"&&u.destroy();let m=t.utf8Encoder(h.subarray(h.length-16));if(h.length===0&&AY[n.commandName]){let y=new Error("S3 aborted request");throw y.name="InternalError",y}return m&&m.endsWith("</Error>")&&(s.statusCode=400),i}),RY=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),NY={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},$m=t=>({applyToStack:e=>{e.addRelativeTo(DY(t),NY)}});var cL=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6;function lL(t){return(e,n)=>r=>g(this,null,function*(){if(t.bucketEndpoint){let i=n.endpointV2;if(i){let s=r.input.Bucket;if(typeof s=="string")try{let o=new URL(s);n.endpointV2=O(E({},i),{url:o})}catch(o){let a=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${s} could not be parsed as URL.`;throw n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a),o}}}return e(r)})}var uL={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function MY({bucketEndpoint:t}){return e=>n=>g(this,null,function*(){let{input:{Bucket:r}}=n;if(!t&&typeof r=="string"&&!cL(r)&&r.indexOf("/")>=0){let i=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw i.name="InvalidBucketName",i}return e(E({},n))})}var PY={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},dL=t=>({applyToStack:e=>{e.add(MY(t),PY),e.addRelativeTo(lL(t),uL)}});var kY=void 0;function OY(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function fL(t){let e=Ni(t.userAgentAppId??kY);return O(E({},t),{customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent,userAgentAppId:()=>g(this,null,function*(){let n=yield e();if(!OY(n)){let r=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console:t.logger;typeof n!="string"?r?.warn("userAgentAppId must be a string or undefined."):n.length>50&&r?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n})})}var Hm=class{constructor({size:e,params:n}){this.data=new Map,this.parameters=[],this.capacity=e??50,n&&(this.parameters=n)}get(e,n){let r=this.hash(e);if(r===!1)return n();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let i=this.data.keys(),s=0;for(;;){let{value:o,done:a}=i.next();if(this.data.delete(o),a||++s>10)break}}this.data.set(r,n())}return this.data.get(r)}size(){return this.data.size}hash(e){let n="",{parameters:r}=this;if(r.length===0)return!1;for(let i of r){let s=String(e[i]??"");if(s.includes("|;"))return!1;n+=s+"|;"}return n}};var FY=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),hd=t=>FY.test(t)||t.startsWith("[")&&t.endsWith("]");var LY=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),pd=(t,e=!1)=>{if(!e)return LY.test(t);let n=t.split(".");for(let r of n)if(!pd(r))return!1;return!0};var Vo={};var Oi="endpoints";function Zn(t){return typeof t!="object"||t==null?t:"ref"in t?`$${Zn(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(Zn).join(", ")})`:JSON.stringify(t,null,2)}var We=class extends Error{constructor(e){super(e),this.name="EndpointError"}};var hL=(t,e)=>t===e;var pL=t=>{let e=t.split("."),n=[];for(let r of e){let i=r.indexOf("[");if(i!==-1){if(r.indexOf("]")!==r.length-1)throw new We(`Path: '${t}' does not end with ']'`);let s=r.slice(i+1,-1);if(Number.isNaN(parseInt(s)))throw new We(`Invalid array index: '${s}' in path: '${t}'`);i!==0&&n.push(r.slice(0,i)),n.push(s)}else n.push(r)}return n};var qm=(t,e)=>pL(e).reduce((n,r)=>{if(typeof n!="object")throw new We(`Index '${r}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]},t);var mL=t=>t!=null;var gL=t=>!t;var mI={[Zu.HTTP]:80,[Zu.HTTPS]:443},yL=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:m,port:y,protocol:_="",path:D="",query:x={}}=t,k=new URL(`${_}//${m}${y?`:${y}`:""}${D}`);return k.search=Object.entries(x).map(([j,G])=>`${j}=${G}`).join("&"),k}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let n=e.href,{host:r,hostname:i,pathname:s,protocol:o,search:a}=e;if(a)return null;let c=o.slice(0,-1);if(!Object.values(Zu).includes(c))return null;let u=hd(i),d=n.includes(`${r}:${mI[c]}`)||typeof t=="string"&&t.includes(`${r}:${mI[c]}`),h=`${r}${d?`:${mI[c]}`:""}`;return{scheme:c,authority:h,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:u}};var vL=(t,e)=>t===e;var _L=(t,e,n,r)=>e>=n||t.length<n?null:r?t.substring(t.length-n,t.length-e):t.substring(e,n);var EL=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`);var wL={booleanEquals:hL,getAttr:qm,isSet:mL,isValidHostLabel:pd,not:gL,parseURL:yL,stringEquals:vL,substring:_L,uriEncode:EL};var zm=(t,e)=>{let n=[],r=E(E({},e.endpointParams),e.referenceRecord),i=0;for(;i<t.length;){let s=t.indexOf("{",i);if(s===-1){n.push(t.slice(i));break}n.push(t.slice(i,s));let o=t.indexOf("}",s);if(o===-1){n.push(t.slice(s));break}t[s+1]==="{"&&t[o+1]==="}"&&(n.push(t.slice(s+1,o)),i=o+2);let a=t.substring(s+1,o);if(a.includes("#")){let[c,u]=a.split("#");n.push(qm(r[c],u))}else n.push(r[a]);i=o+1}return n.join("")};var bL=({ref:t},e)=>E(E({},e.endpointParams),e.referenceRecord)[t];var Ss=(t,e,n)=>{if(typeof t=="string")return zm(t,n);if(t.fn)return Gm(t,n);if(t.ref)return bL(t,n);throw new We(`'${e}': ${String(t)} is not a string, function or reference.`)};var Gm=({fn:t,argv:e},n)=>{let r=e.map(s=>["boolean","number"].includes(typeof s)?s:Ss(s,"arg",n)),i=t.split(".");return i[0]in Vo&&i[1]!=null?Vo[i[0]][i[1]](...r):wL[t](...r)};var CL=(r,n)=>{var i=r,{assign:t}=i,e=Fs(i,["assign"]);if(t&&t in n.referenceRecord)throw new We(`'${t}' is already defined in Reference Record.`);let s=Gm(e,n);return n.logger?.debug?.(`${Oi} evaluateCondition: ${Zn(e)} = ${Zn(s)}`),E({result:s===""?!0:!!s},t!=null&&{toAssign:{name:t,value:s}})};var Oc=(t=[],e)=>{let n={};for(let r of t){let{result:i,toAssign:s}=CL(r,O(E({},e),{referenceRecord:E(E({},e.referenceRecord),n)}));if(!i)return{result:i};s&&(n[s.name]=s.value,e.logger?.debug?.(`${Oi} assign: ${s.name} := ${Zn(s.value)}`))}return{result:!0,referenceRecord:n}};var IL=(t,e)=>Object.entries(t).reduce((n,[r,i])=>O(E({},n),{[r]:i.map(s=>{let o=Ss(s,"Header value entry",e);if(typeof o!="string")throw new We(`Header '${r}' value '${o}' is not a string`);return o})}),{});var gI=(t,e)=>{if(Array.isArray(t))return t.map(n=>gI(n,e));switch(typeof t){case"string":return zm(t,e);case"object":if(t===null)throw new We(`Unexpected endpoint property: ${t}`);return Wm(t,e);case"boolean":return t;default:throw new We(`Unexpected endpoint property type: ${typeof t}`)}};var Wm=(t,e)=>Object.entries(t).reduce((n,[r,i])=>O(E({},n),{[r]:gI(i,e)}),{});var SL=(t,e)=>{let n=Ss(t,"Endpoint URL",e);if(typeof n=="string")try{return new URL(n)}catch(r){throw console.error(`Failed to construct URL with ${n}`,r),r}throw new We(`Endpoint URL must be a string, got ${typeof n}`)};var xL=(t,e)=>{let{conditions:n,endpoint:r}=t,{result:i,referenceRecord:s}=Oc(n,e);if(!i)return;let o=O(E({},e),{referenceRecord:E(E({},e.referenceRecord),s)}),{url:a,properties:c,headers:u}=r;return e.logger?.debug?.(`${Oi} Resolving endpoint from template: ${Zn(r)}`),O(E(E({},u!=null&&{headers:IL(u,o)}),c!=null&&{properties:Wm(c,o)}),{url:SL(a,o)})};var AL=(t,e)=>{let{conditions:n,error:r}=t,{result:i,referenceRecord:s}=Oc(n,e);if(i)throw new We(Ss(r,"Error",O(E({},e),{referenceRecord:E(E({},e.referenceRecord),s)})))};var TL=(t,e)=>{let{conditions:n,rules:r}=t,{result:i,referenceRecord:s}=Oc(n,e);if(i)return Km(r,O(E({},e),{referenceRecord:E(E({},e.referenceRecord),s)}))};var Km=(t,e)=>{for(let n of t)if(n.type==="endpoint"){let r=xL(n,e);if(r)return r}else if(n.type==="error")AL(n,e);else if(n.type==="tree"){let r=TL(n,e);if(r)return r}else throw new We(`Unknown endpoint rule: ${n}`);throw new We("Rules evaluation failed")};var yI=(t,e)=>{let{endpointParams:n,logger:r}=e,{parameters:i,rules:s}=t;e.logger?.debug?.(`${Oi} Initial EndpointParams: ${Zn(n)}`);let o=Object.entries(i).filter(([,u])=>u.default!=null).map(([u,d])=>[u,d.default]);if(o.length>0)for(let[u,d]of o)n[u]=n[u]??d;let a=Object.entries(i).filter(([,u])=>u.required).map(([u])=>u);for(let u of a)if(n[u]==null)throw new We(`Missing required parameter: '${u}'`);let c=Km(s,{endpointParams:n,logger:r,referenceRecord:{}});return e.logger?.debug?.(`${Oi} Resolved endpoint: ${Zn(c)}`),c};var vI=(t,e=!1)=>{if(e){for(let n of t.split("."))if(!vI(n))return!1;return!0}return!(!pd(t)||t.length<3||t.length>63||t!==t.toLowerCase()||hd(t))};var DL=":",VY="/",RL=t=>{let e=t.split(DL);if(e.length<6)return null;let[n,r,i,s,o,...a]=e;if(n!=="arn"||r===""||i===""||a.join(DL)==="")return null;let c=a.map(u=>u.split(VY)).flat();return{partition:r,service:i,region:s,accountId:o,resourceId:c}};var NL={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"};var UY=NL,jY="",ML=t=>{let{partitions:e}=UY;for(let r of e){let{regions:i,outputs:s}=r;for(let[o,a]of Object.entries(i))if(o===t)return E(E({},s),a)}for(let r of e){let{regionRegex:i,outputs:s}=r;if(new RegExp(i).test(t))return E({},s)}let n=e.find(r=>r.id==="aws");if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return E({},n.outputs)};var PL=()=>jY;var _I={isVirtualHostableS3Bucket:vI,parseArn:RL,partition:ML};Vo.aws=_I;var $Y=/\d{12}\.ddb/;function kL(t,e,n){return g(this,null,function*(){if(n.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Mt(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){let s=yield e.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?Mt(t,"RETRY_MODE_ADAPTIVE","F"):Mt(t,"RETRY_MODE_STANDARD","E"):Mt(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){let s=t.endpointV2;switch(String(s?.url?.hostname).match($Y)&&Mt(t,"ACCOUNT_ID_ENDPOINT","O"),yield e.accountIdEndpointMode?.()){case"disabled":Mt(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Mt(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Mt(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let i=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(i?.$source){let s=i;s.accountId&&Mt(t,"RESOLVED_ACCOUNT_ID","T");for(let[o,a]of Object.entries(s.$source??{}))Mt(t,o,a)}})}var EI="user-agent",Qm="x-amz-user-agent",wI=" ",Ym="/",OL=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,FL=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,bI="-";function LL(t){let e="";for(let n in t){let r=t[n];if(e.length+r.length+1<=1024){e.length?e+=","+r:e+=r;continue}break}return e}var HY=t=>(e,n)=>r=>g(void 0,null,function*(){let{request:i}=r;if(!we.isInstance(i))return e(r);let{headers:s}=i,o=n?.userAgent?.map(Zm)||[],a=(yield t.defaultUserAgentProvider()).map(Zm);yield kL(n,t,r);let c=n;a.push(`m/${LL(Object.assign({},n.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let u=t?.customUserAgent?.map(Zm)||[],d=yield t.userAgentAppId();d&&a.push(Zm([`app/${d}`]));let h=PL(),m=(h?[h]:[]).concat([...a,...o,...u]).join(wI),y=[...a.filter(_=>_.startsWith("aws-sdk-")),...u].join(wI);return t.runtime!=="browser"?(y&&(s[Qm]=s[Qm]?`${s[EI]} ${y}`:y),s[EI]=m):s[Qm]=m,e(O(E({},r),{request:i}))}),Zm=t=>{let e=t[0].split(Ym).map(o=>o.replace(OL,bI)).join(Ym),n=t[1]?.replace(FL,bI),r=e.indexOf(Ym),i=e.substring(0,r),s=e.substring(r+1);return i==="api"&&(s=s.toLowerCase()),[i,s,n].filter(o=>o&&o.length>0).reduce((o,a,c)=>{switch(c){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},qY={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},VL=t=>({applyToStack:e=>{e.add(HY(t),qY)}});var BL=!1;var UL=!1;var Xm=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"));var CI=t=>Xm(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t;var jL=t=>{let{region:e,useFipsEndpoint:n}=t;if(!e)throw new Error("Region is missing");return O(E({},t),{region:()=>g(void 0,null,function*(){if(typeof e=="string")return CI(e);let r=yield e();return CI(r)}),useFipsEndpoint:()=>g(void 0,null,function*(){let r=typeof e=="string"?e:yield e();return Xm(r)?!0:typeof n!="function"?Promise.resolve(!!n):n()})})};var $L=t=>O(E({},t),{eventStreamMarshaller:t.eventStreamSerdeProvider(t)});var HL="content-length";function zY(t){return e=>n=>g(this,null,function*(){let r=n.request;if(we.isInstance(r)){let{body:i,headers:s}=r;if(i&&Object.keys(s).map(o=>o.toLowerCase()).indexOf(HL)===-1)try{let o=t(i);r.headers=O(E({},r.headers),{[HL]:String(o)})}catch{}}return e(O(E({},n),{request:r}))})}var GY={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},qL=t=>({applyToStack:e=>{e.add(zY(t.bodyLengthChecker),GY)}});var zL=t=>g(void 0,null,function*(){let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),ZY(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!YY(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t}),WY=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,KY=/(\d+\.){3}\d+/,QY=/\.\./;var YY=t=>WY.test(t)&&!KY.test(t)&&!QY.test(t),ZY=t=>{let[e,n,r,,,i]=t.split(":"),s=e==="arn"&&t.split(":").length>=6,o=!!(s&&n&&r&&i);if(s&&!o)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return o};var GL=(t,e,n)=>{let r=()=>g(void 0,null,function*(){let i=n[t]??n[e];return typeof i=="function"?i():i});return t==="credentialScope"||e==="CredentialScope"?()=>g(void 0,null,function*(){let i=typeof n.credentials=="function"?yield n.credentials():n.credentials;return i?.credentialScope??i?.CredentialScope}):t==="accountId"||e==="AccountId"?()=>g(void 0,null,function*(){let i=typeof n.credentials=="function"?yield n.credentials():n.credentials;return i?.accountId??i?.AccountId}):t==="endpoint"||e==="endpoint"?()=>g(void 0,null,function*(){let i=yield r();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){let{protocol:s,hostname:o,port:a,path:c}=i;return`${s}//${o}${a?":"+a:""}${c}`}}return i}):r};var Jm=t=>g(void 0,null,function*(){});function WL(t){let e={};if(t=t.replace(/^\?/,""),t)for(let n of t.split("&")){let[r,i=null]=n.split("=");r=decodeURIComponent(r),i&&(i=decodeURIComponent(i)),r in e?Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i}return e}var Fc=t=>{if(typeof t=="string")return Fc(new URL(t));let{hostname:e,pathname:n,port:r,protocol:i,search:s}=t,o;return s&&(o=WL(s)),{hostname:e,port:r?parseInt(r):void 0,protocol:i,path:n,query:o}};var eg=t=>typeof t=="object"?"url"in t?Fc(t.url):t:Fc(t);var KL=(t,e,n,r)=>g(void 0,null,function*(){if(!n.endpoint){let o;n.serviceConfiguredEndpoint?o=yield n.serviceConfiguredEndpoint():o=yield Jm(n.serviceId),o&&(n.endpoint=()=>Promise.resolve(eg(o)))}let i=yield II(t,e,n);if(typeof n.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return n.endpointProvider(i,r)}),II=(t,e,n)=>g(void 0,null,function*(){let r={},i=e?.getEndpointParameterInstructions?.()||{};for(let[s,o]of Object.entries(i))switch(o.type){case"staticContextParams":r[s]=o.value;break;case"contextParams":r[s]=t[o.name];break;case"clientContextParams":case"builtInParams":r[s]=yield GL(o.name,s,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return Object.keys(i).length===0&&Object.assign(r,n),String(n.serviceId).toLowerCase()==="s3"&&(yield zL(r)),r});var QL=({config:t,instructions:e})=>(n,r)=>i=>g(void 0,null,function*(){t.endpoint&&ZO(r,"ENDPOINT_OVERRIDE","N");let s=yield KL(i.input,{getEndpointParameterInstructions(){return e}},E({},t),r);r.endpointV2=s,r.authSchemes=s.properties?.authSchemes;let o=r.authSchemes?.[0];if(o){r.signing_region=o.signingRegion,r.signing_service=o.signingName;let c=pr(r)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return n(E({},i))});var XY={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:td.name},tg=(t,e)=>({applyToStack:n=>{n.addRelativeTo(QL({config:t,instructions:e}),XY)}});var YL=t=>{let e=t.tls??!0,{endpoint:n}=t,r=n!=null?()=>g(void 0,null,function*(){return eg(yield jt(n)())}):void 0,i=!!n,s=O(E({},t),{endpoint:r,tls:e,isCustomEndpoint:i,useDualstackEndpoint:jt(t.useDualstackEndpoint??!1),useFipsEndpoint:jt(t.useFipsEndpoint??!1)}),o;return s.serviceConfiguredEndpoint=()=>g(void 0,null,function*(){return t.serviceId&&!o&&(o=Jm(t.serviceId)),o}),s};var zr=function(t){return t.STANDARD="standard",t.ADAPTIVE="adaptive",t}(zr||{}),xs=3,SI=zr.STANDARD;var ZL=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],XL=["TimeoutError","RequestTimeout","RequestTimeoutException"],JL=[500,502,503,504],eV=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"];var JY=t=>t.$metadata?.clockSkewCorrected,Lc=t=>t.$metadata?.httpStatusCode===429||ZL.includes(t.name)||t.$retryable?.throttling==!0,ng=t=>JY(t)||XL.includes(t.name)||eV.includes(t?.code||"")||JL.includes(t.$metadata?.httpStatusCode||0),tV=t=>{if(t.$metadata?.httpStatusCode!==void 0){let e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!ng(t)}return!1};var md=class{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let n=this.getCurrentTimeInSeconds();this.lastThrottleTime=n,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}getSendToken(){return g(this,null,function*(){return this.acquireTokenBucket(1)})}acquireTokenBucket(e){return g(this,null,function*(){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let n=(e-this.currentCapacity)/this.fillRate*1e3;yield new Promise(r=>setTimeout(r,n))}this.currentCapacity=this.currentCapacity-e}})}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let n=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+n),this.lastTimestamp=e}updateClientSendingRate(e){let n;if(this.updateMeasuredRate(),Lc(e)){let i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),n=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),n=this.cubicSuccess(this.getCurrentTimeInSeconds());let r=Math.min(n,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),n=Math.floor(e*2)/2;if(this.requestCount++,n>this.lastTxRateBucket){let r=this.requestCount/(n-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=n}}getPrecise(e){return parseFloat(e.toFixed(8))}};var rg="amz-sdk-invocation-id",ig="amz-sdk-request";var nV=()=>{let t=100;return{computeNextBackoffDelay:r=>Math.floor(Math.min(2e4,Math.random()*2**r*t)),setDelayBase:r=>{t=r}}};var xI=({retryDelay:t,retryCount:e,retryCost:n})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(2e4,t),getRetryCost:()=>n});var Bo=class{constructor(e){this.maxAttempts=e,this.mode=zr.STANDARD,this.capacity=500,this.retryBackoffStrategy=nV(),this.maxAttemptsProvider=typeof e=="function"?e:()=>g(this,null,function*(){return e})}acquireInitialRetryToken(e){return g(this,null,function*(){return xI({retryDelay:100,retryCount:0})})}refreshRetryTokenForRetry(e,n){return g(this,null,function*(){let r=yield this.getMaxAttempts();if(this.shouldRetry(e,n,r)){let i=n.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?500:100);let s=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),o=n.retryAfterHint?Math.max(n.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(i);return this.capacity-=a,xI({retryDelay:o,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")})}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}getMaxAttempts(){return g(this,null,function*(){try{return yield this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${xs}`),xs}})}shouldRetry(e,n,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(n.errorType)&&this.isRetryableError(n.errorType)}getCapacityCost(e){return e==="TRANSIENT"?10:5}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}};var og=class{constructor(e,n){this.maxAttemptsProvider=e,this.mode=zr.ADAPTIVE;let{rateLimiter:r}=n??{};this.rateLimiter=r??new md,this.standardRetryStrategy=new Bo(e)}acquireInitialRetryToken(e){return g(this,null,function*(){return yield this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)})}refreshRetryTokenForRetry(e,n){return g(this,null,function*(){return this.rateLimiter.updateClientSendingRate(n),this.standardRetryStrategy.refreshRetryTokenForRetry(e,n)})}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}};var ag,eZ=new Uint8Array(16);function TI(){if(!ag&&(ag=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ag))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ag(eZ)}var Ht=[];for(let t=0;t<256;++t)Ht.push((t+256).toString(16).slice(1));function aV(t,e=0){return Ht[t[e+0]]+Ht[t[e+1]]+Ht[t[e+2]]+Ht[t[e+3]]+"-"+Ht[t[e+4]]+Ht[t[e+5]]+"-"+Ht[t[e+6]]+Ht[t[e+7]]+"-"+Ht[t[e+8]]+Ht[t[e+9]]+"-"+Ht[t[e+10]]+Ht[t[e+11]]+Ht[t[e+12]]+Ht[t[e+13]]+Ht[t[e+14]]+Ht[t[e+15]]}var tZ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),DI={randomUUID:tZ};function nZ(t,e,n){if(DI.randomUUID&&!e&&!t)return DI.randomUUID();t=t||{};let r=t.random||(t.rng||TI)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return aV(r)}var RI=nZ;var NI=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`);var cV=t=>{let{retryStrategy:e}=t,n=jt(t.maxAttempts??xs);return O(E({},t),{maxAttempts:n,retryStrategy:()=>g(void 0,null,function*(){return e||((yield jt(t.retryMode)())===zr.ADAPTIVE?new og(n):new Bo(n))})})};var lV=t=>t?.body instanceof ReadableStream;var rZ=t=>(e,n)=>r=>g(void 0,null,function*(){let i=yield t.retryStrategy(),s=yield t.maxAttempts();if(iZ(i)){i=i;let o=yield i.acquireInitialRetryToken(n.partition_id),a=new Error,c=0,u=0,{request:d}=r,h=we.isInstance(d);for(h&&(d.headers[rg]=RI());;)try{h&&(d.headers[ig]=`attempt=${c+1}; max=${s}`);let{response:m,output:y}=yield e(r);return i.recordSuccess(o),y.$metadata.attempts=c+1,y.$metadata.totalRetryDelay=u,{response:m,output:y}}catch(m){let y=sZ(m);if(a=NI(m),h&&lV(d))throw(n.logger instanceof Cs?console:n.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{o=yield i.refreshRetryTokenForRetry(o,y)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=u,a}c=o.getRetryCount();let _=o.getRetryDelay();u+=_,yield new Promise(D=>setTimeout(D,_))}}else return i=i,i?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(e,r)}),iZ=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",sZ=t=>{let e={error:t,errorType:oZ(t)},n=cZ(t.$response);return n&&(e.retryAfterHint=n),e},oZ=t=>Lc(t)?"THROTTLING":ng(t)?"TRANSIENT":tV(t)?"SERVER_ERROR":"CLIENT_ERROR",aZ={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},uV=t=>({applyToStack:e=>{e.add(rZ(t),aZ)}}),cZ=t=>{if(!In.isInstance(t))return;let e=Object.keys(t.headers).find(s=>s.toLowerCase()==="retry-after");if(!e)return;let n=t.headers[e],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(r*1e3)};var cg={CrtSignerV4:null};var lg=class{constructor(e){this.sigv4Signer=new fd(e),this.signerOptions=e}sign(r){return g(this,arguments,function*(e,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(e,n)}return this.sigv4Signer.sign(e,n)})}signWithCredentials(i,s){return g(this,arguments,function*(e,n,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().signWithCredentials(e,n,r)}return this.sigv4Signer.signWithCredentials(e,n,r)})}presign(r){return g(this,arguments,function*(e,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(e,n)}return this.sigv4Signer.presign(e,n)})}presignWithCredentials(i,s){return g(this,arguments,function*(e,n,r={}){if(r.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(e,n,r)})}getSigv4aSigner(){if(!this.sigv4aSigner){let e=null;try{if(e=cg.CrtSignerV4,typeof e!="function")throw new Error}catch(n){throw n.message=`${n.message}
Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,n}this.sigv4aSigner=new e(O(E({},this.signerOptions),{signingAlgorithm:1}))}return this.sigv4aSigner}};var rS="required",w="type",A="conditions",F="fn",L="argv",ue="ref",ct="assign",Q="url",Y="properties",d2="backend",yr="authSchemes",Ln="disableDoubleEncoding",Vn="signingName",Kr="signingRegion",Z="headers",iS="signingRegionSet";var Xn="isSet",Ft="booleanEquals",J="error",gg="aws.partition",Xe="stringEquals",ht="getAttr",en="name",Gr="substring",dV="bucketSuffix",f2="parseURL",fV="{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",$="endpoint",U="tree",h2="aws.isVirtualHostableS3Bucket",hg="{url#scheme}://{Bucket}.{url#authority}{url#path}",Wr="not",pg="{url#scheme}://{url#authority}{url#path}",p2="hardwareType",m2="regionPrefix",hV="bucketAliasSuffix",tS="outpostId",jo="isValidHostLabel",sS="sigv4a",vd="s3-outposts",$c="s3",g2="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",y2="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",pV="https://{Bucket}.s3.{partitionResult#dnsSuffix}",v2="aws.parseArn",_2="bucketArn",E2="arnType",yg="",oS="s3-object-lambda",w2="accesspoint",aS="accessPointName",mV="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",gV="mrapPartition",yV="outpostType",vV="arnPrefix",b2="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",_V="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",EV="https://s3.{partitionResult#dnsSuffix}",Bc={[rS]:!1,[w]:"String"},Uc={[rS]:!0,default:!1,[w]:"Boolean"},gd={[rS]:!1,[w]:"Boolean"},gr={[F]:Ft,[L]:[{[ue]:"Accelerate"},!0]},Qe={[F]:Ft,[L]:[{[ue]:"UseFIPS"},!0]},Ke={[F]:Ft,[L]:[{[ue]:"UseDualStack"},!0]},wt={[F]:Xn,[L]:[{[ue]:"Endpoint"}]},C2={[F]:gg,[L]:[{[ue]:"Region"}],[ct]:"partitionResult"},wV={[F]:Xe,[L]:[{[F]:ht,[L]:[{[ue]:"partitionResult"},en]},"aws-cn"]},vg={[F]:Xn,[L]:[{[ue]:"Bucket"}]},mn={[ue]:"Bucket"},pn={[F]:f2,[L]:[{[ue]:"Endpoint"}],[ct]:"url"},mg={[F]:Ft,[L]:[{[F]:ht,[L]:[{[ue]:"url"},"isIp"]},!0]},I2={[ue]:"url"},S2={[F]:"uriEncode",[L]:[mn],[ct]:"uri_encoded_bucket"},Fi={[d2]:"S3Express",[yr]:[{[Ln]:!0,[en]:"sigv4",[Vn]:"s3express",[Kr]:"{Region}"}]},de={},x2={[F]:h2,[L]:[mn,!1]},MI={[J]:"S3Express bucket name is not a valid virtual hostable name.",[w]:J},_g={[d2]:"S3Express",[yr]:[{[Ln]:!0,[en]:"sigv4-s3express",[Vn]:"s3express",[Kr]:"{Region}"}]},bV={[F]:Xn,[L]:[{[ue]:"UseS3ExpressControlEndpoint"}]},CV={[F]:Ft,[L]:[{[ue]:"UseS3ExpressControlEndpoint"},!0]},ge={[F]:Wr,[L]:[wt]},IV={[J]:"Unrecognized S3Express bucket name format.",[w]:J},SV={[F]:Wr,[L]:[vg]},xV={[ue]:p2},AV={[A]:[ge],[J]:"Expected a endpoint to be specified but no endpoint was found",[w]:J},ug={[yr]:[{[Ln]:!0,[en]:sS,[Vn]:vd,[iS]:["*"]},{[Ln]:!0,[en]:"sigv4",[Vn]:vd,[Kr]:"{Region}"}]},PI={[F]:Ft,[L]:[{[ue]:"ForcePathStyle"},!1]},lZ={[ue]:"ForcePathStyle"},Et={[F]:Ft,[L]:[{[ue]:"Accelerate"},!1]},Tt={[F]:Xe,[L]:[{[ue]:"Region"},"aws-global"]},Pt={[yr]:[{[Ln]:!0,[en]:"sigv4",[Vn]:$c,[Kr]:"us-east-1"}]},Pe={[F]:Wr,[L]:[Tt]},kt={[F]:Ft,[L]:[{[ue]:"UseGlobalEndpoint"},!0]},TV={[Q]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Y]:{[yr]:[{[Ln]:!0,[en]:"sigv4",[Vn]:$c,[Kr]:"{Region}"}]},[Z]:{}},bt={[yr]:[{[Ln]:!0,[en]:"sigv4",[Vn]:$c,[Kr]:"{Region}"}]},Ot={[F]:Ft,[L]:[{[ue]:"UseGlobalEndpoint"},!1]},Ae={[F]:Ft,[L]:[{[ue]:"UseDualStack"},!1]},DV={[Q]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[Y]:bt,[Z]:{}},be={[F]:Ft,[L]:[{[ue]:"UseFIPS"},!1]},RV={[Q]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[Y]:bt,[Z]:{}},NV={[Q]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Y]:bt,[Z]:{}},kI={[F]:Ft,[L]:[{[F]:ht,[L]:[I2,"isIp"]},!1]},OI={[Q]:g2,[Y]:bt,[Z]:{}},nS={[Q]:hg,[Y]:bt,[Z]:{}},MV={[$]:nS,[w]:$},FI={[Q]:y2,[Y]:bt,[Z]:{}},PV={[Q]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[Y]:bt,[Z]:{}},dg={[J]:"Invalid region: region was not a valid DNS name.",[w]:J},Sn={[ue]:_2},A2={[ue]:E2},LI={[F]:ht,[L]:[Sn,"service"]},cS={[ue]:aS},kV={[A]:[Ke],[J]:"S3 Object Lambda does not support Dual-stack",[w]:J},OV={[A]:[gr],[J]:"S3 Object Lambda does not support S3 Accelerate",[w]:J},FV={[A]:[{[F]:Xn,[L]:[{[ue]:"DisableAccessPoints"}]},{[F]:Ft,[L]:[{[ue]:"DisableAccessPoints"},!0]}],[J]:"Access points are not supported for this operation",[w]:J},VI={[A]:[{[F]:Xn,[L]:[{[ue]:"UseArnRegion"}]},{[F]:Ft,[L]:[{[ue]:"UseArnRegion"},!1]},{[F]:Wr,[L]:[{[F]:Xe,[L]:[{[F]:ht,[L]:[Sn,"region"]},"{Region}"]}]}],[J]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[w]:J},T2={[F]:ht,[L]:[{[ue]:"bucketPartition"},en]},D2={[F]:ht,[L]:[Sn,"accountId"]},BI={[yr]:[{[Ln]:!0,[en]:"sigv4",[Vn]:oS,[Kr]:"{bucketArn#region}"}]},LV={[J]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[w]:J},UI={[J]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[w]:J},jI={[J]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[w]:J},$I={[J]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[w]:J},VV={[J]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[w]:J},BV={[J]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[w]:J},yd={[yr]:[{[Ln]:!0,[en]:"sigv4",[Vn]:$c,[Kr]:"{bucketArn#region}"}]},UV={[yr]:[{[Ln]:!0,[en]:sS,[Vn]:vd,[iS]:["*"]},{[Ln]:!0,[en]:"sigv4",[Vn]:vd,[Kr]:"{bucketArn#region}"}]},jV={[F]:v2,[L]:[mn]},$V={[Q]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Y]:bt,[Z]:{}},HV={[Q]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Y]:bt,[Z]:{}},qV={[Q]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Y]:bt,[Z]:{}},HI={[Q]:b2,[Y]:bt,[Z]:{}},zV={[Q]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Y]:bt,[Z]:{}},GV={[ue]:"UseObjectLambdaEndpoint"},qI={[yr]:[{[Ln]:!0,[en]:"sigv4",[Vn]:oS,[Kr]:"{Region}"}]},WV={[Q]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Y]:bt,[Z]:{}},KV={[Q]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[Y]:bt,[Z]:{}},QV={[Q]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Y]:bt,[Z]:{}},zI={[Q]:pg,[Y]:bt,[Z]:{}},YV={[Q]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[Y]:bt,[Z]:{}},GI=[{[ue]:"Region"}],uZ=[{[ue]:"Endpoint"}],dZ=[mn],WI=[Ke],fg=[gr],Uo=[wt,pn],ZV=[{[F]:Xn,[L]:[{[ue]:"DisableS3ExpressSessionAuth"}]},{[F]:Ft,[L]:[{[ue]:"DisableS3ExpressSessionAuth"},!0]}],XV=[mg],KI=[S2],QI=[x2],jc=[Qe],JV=[{[F]:Gr,[L]:[mn,6,14,!0],[ct]:"s3expressAvailabilityZoneId"},{[F]:Gr,[L]:[mn,14,16,!0],[ct]:"s3expressAvailabilityZoneDelim"},{[F]:Xe,[L]:[{[ue]:"s3expressAvailabilityZoneDelim"},"--"]}],e2=[{[A]:[Qe],[$]:{[Q]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[Y]:Fi,[Z]:{}},[w]:$},{[$]:{[Q]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[Y]:Fi,[Z]:{}},[w]:$}],t2=[{[F]:Gr,[L]:[mn,6,15,!0],[ct]:"s3expressAvailabilityZoneId"},{[F]:Gr,[L]:[mn,15,17,!0],[ct]:"s3expressAvailabilityZoneDelim"},{[F]:Xe,[L]:[{[ue]:"s3expressAvailabilityZoneDelim"},"--"]}],n2=[{[A]:[Qe],[$]:{[Q]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[Y]:_g,[Z]:{}},[w]:$},{[$]:{[Q]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[Y]:_g,[Z]:{}},[w]:$}],fZ=[vg],r2=[{[F]:jo,[L]:[{[ue]:tS},!1]}],i2=[{[F]:Xe,[L]:[{[ue]:m2},"beta"]}],hZ=["*"],As=[C2],s2=[{[F]:jo,[L]:[{[ue]:"Region"},!1]}],Ts=[{[F]:Xe,[L]:[{[ue]:"Region"},"us-east-1"]}],YI=[{[F]:Xe,[L]:[A2,w2]}],o2=[{[F]:ht,[L]:[Sn,"resourceId[1]"],[ct]:aS},{[F]:Wr,[L]:[{[F]:Xe,[L]:[cS,yg]}]}],pZ=[Sn,"resourceId[1]"],ZI=[{[F]:Wr,[L]:[{[F]:Xe,[L]:[{[F]:ht,[L]:[Sn,"region"]},yg]}]}],a2=[{[F]:Wr,[L]:[{[F]:Xn,[L]:[{[F]:ht,[L]:[Sn,"resourceId[2]"]}]}]}],mZ=[Sn,"resourceId[2]"],XI=[{[F]:gg,[L]:[{[F]:ht,[L]:[Sn,"region"]}],[ct]:"bucketPartition"}],c2=[{[F]:Xe,[L]:[T2,{[F]:ht,[L]:[{[ue]:"partitionResult"},en]}]}],JI=[{[F]:jo,[L]:[{[F]:ht,[L]:[Sn,"region"]},!0]}],eS=[{[F]:jo,[L]:[D2,!1]}],l2=[{[F]:jo,[L]:[cS,!1]}],u2=[{[F]:jo,[L]:[{[ue]:"Region"},!0]}],gZ={version:"1.0",parameters:{Bucket:Bc,Region:Bc,UseFIPS:Uc,UseDualStack:Uc,Endpoint:Bc,ForcePathStyle:Uc,Accelerate:Uc,UseGlobalEndpoint:Uc,UseObjectLambdaEndpoint:gd,Key:Bc,Prefix:Bc,CopySource:Bc,DisableAccessPoints:gd,DisableMultiRegionAccessPoints:Uc,UseArnRegion:gd,UseS3ExpressControlEndpoint:gd,DisableS3ExpressSessionAuth:gd},rules:[{[A]:[{[F]:Xn,[L]:GI}],rules:[{[A]:[gr,Qe],error:"Accelerate cannot be used with FIPS",[w]:J},{[A]:[Ke,wt],error:"Cannot set dual-stack in combination with a custom endpoint.",[w]:J},{[A]:[wt,Qe],error:"A custom endpoint cannot be combined with FIPS",[w]:J},{[A]:[wt,gr],error:"A custom endpoint cannot be combined with S3 Accelerate",[w]:J},{[A]:[Qe,C2,wV],error:"Partition does not support FIPS",[w]:J},{[A]:[vg,{[F]:Gr,[L]:[mn,0,6,!0],[ct]:dV},{[F]:Xe,[L]:[{[ue]:dV},"--x-s3"]}],rules:[{[A]:WI,error:"S3Express does not support Dual-stack.",[w]:J},{[A]:fg,error:"S3Express does not support S3 Accelerate.",[w]:J},{[A]:Uo,rules:[{[A]:ZV,rules:[{[A]:XV,rules:[{[A]:KI,rules:[{endpoint:{[Q]:fV,[Y]:Fi,[Z]:de},[w]:$}],[w]:U}],[w]:U},{[A]:QI,rules:[{endpoint:{[Q]:hg,[Y]:Fi,[Z]:de},[w]:$}],[w]:U},MI],[w]:U},{[A]:XV,rules:[{[A]:KI,rules:[{endpoint:{[Q]:fV,[Y]:_g,[Z]:de},[w]:$}],[w]:U}],[w]:U},{[A]:QI,rules:[{endpoint:{[Q]:hg,[Y]:_g,[Z]:de},[w]:$}],[w]:U},MI],[w]:U},{[A]:[bV,CV],rules:[{[A]:[S2,ge],rules:[{[A]:jc,endpoint:{[Q]:"https://s3express-control-fips.{Region}.amazonaws.com/{uri_encoded_bucket}",[Y]:Fi,[Z]:de},[w]:$},{endpoint:{[Q]:"https://s3express-control.{Region}.amazonaws.com/{uri_encoded_bucket}",[Y]:Fi,[Z]:de},[w]:$}],[w]:U}],[w]:U},{[A]:QI,rules:[{[A]:ZV,rules:[{[A]:JV,rules:e2,[w]:U},{[A]:t2,rules:e2,[w]:U},IV],[w]:U},{[A]:JV,rules:n2,[w]:U},{[A]:t2,rules:n2,[w]:U},IV],[w]:U},MI],[w]:U},{[A]:[SV,bV,CV],rules:[{[A]:Uo,endpoint:{[Q]:pg,[Y]:Fi,[Z]:de},[w]:$},{[A]:jc,endpoint:{[Q]:"https://s3express-control-fips.{Region}.amazonaws.com",[Y]:Fi,[Z]:de},[w]:$},{endpoint:{[Q]:"https://s3express-control.{Region}.amazonaws.com",[Y]:Fi,[Z]:de},[w]:$}],[w]:U},{[A]:[vg,{[F]:Gr,[L]:[mn,49,50,!0],[ct]:p2},{[F]:Gr,[L]:[mn,8,12,!0],[ct]:m2},{[F]:Gr,[L]:[mn,0,7,!0],[ct]:hV},{[F]:Gr,[L]:[mn,32,49,!0],[ct]:tS},{[F]:gg,[L]:GI,[ct]:"regionPartition"},{[F]:Xe,[L]:[{[ue]:hV},"--op-s3"]}],rules:[{[A]:r2,rules:[{[A]:[{[F]:Xe,[L]:[xV,"e"]}],rules:[{[A]:i2,rules:[AV,{[A]:Uo,endpoint:{[Q]:"https://{Bucket}.ec2.{url#authority}",[Y]:ug,[Z]:de},[w]:$}],[w]:U},{endpoint:{[Q]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Y]:ug,[Z]:de},[w]:$}],[w]:U},{[A]:[{[F]:Xe,[L]:[xV,"o"]}],rules:[{[A]:i2,rules:[AV,{[A]:Uo,endpoint:{[Q]:"https://{Bucket}.op-{outpostId}.{url#authority}",[Y]:ug,[Z]:de},[w]:$}],[w]:U},{endpoint:{[Q]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Y]:ug,[Z]:de},[w]:$}],[w]:U},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[w]:J}],[w]:U},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[w]:J}],[w]:U},{[A]:fZ,rules:[{[A]:[wt,{[F]:Wr,[L]:[{[F]:Xn,[L]:[{[F]:f2,[L]:uZ}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[w]:J},{[A]:[PI,x2],rules:[{[A]:As,rules:[{[A]:s2,rules:[{[A]:[gr,wV],error:"S3 Accelerate cannot be used in this region",[w]:J},{[A]:[Ke,Qe,Et,ge,Tt],endpoint:{[Q]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Y]:Pt,[Z]:de},[w]:$},{[A]:[Ke,Qe,Et,ge,Pe,kt],rules:[{endpoint:TV,[w]:$}],[w]:U},{[A]:[Ke,Qe,Et,ge,Pe,Ot],endpoint:TV,[w]:$},{[A]:[Ae,Qe,Et,ge,Tt],endpoint:{[Q]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Y]:Pt,[Z]:de},[w]:$},{[A]:[Ae,Qe,Et,ge,Pe,kt],rules:[{endpoint:DV,[w]:$}],[w]:U},{[A]:[Ae,Qe,Et,ge,Pe,Ot],endpoint:DV,[w]:$},{[A]:[Ke,be,gr,ge,Tt],endpoint:{[Q]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Y]:Pt,[Z]:de},[w]:$},{[A]:[Ke,be,gr,ge,Pe,kt],rules:[{endpoint:RV,[w]:$}],[w]:U},{[A]:[Ke,be,gr,ge,Pe,Ot],endpoint:RV,[w]:$},{[A]:[Ke,be,Et,ge,Tt],endpoint:{[Q]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Y]:Pt,[Z]:de},[w]:$},{[A]:[Ke,be,Et,ge,Pe,kt],rules:[{endpoint:NV,[w]:$}],[w]:U},{[A]:[Ke,be,Et,ge,Pe,Ot],endpoint:NV,[w]:$},{[A]:[Ae,be,Et,wt,pn,mg,Tt],endpoint:{[Q]:g2,[Y]:Pt,[Z]:de},[w]:$},{[A]:[Ae,be,Et,wt,pn,kI,Tt],endpoint:{[Q]:hg,[Y]:Pt,[Z]:de},[w]:$},{[A]:[Ae,be,Et,wt,pn,mg,Pe,kt],rules:[{[A]:Ts,endpoint:OI,[w]:$},{endpoint:OI,[w]:$}],[w]:U},{[A]:[Ae,be,Et,wt,pn,kI,Pe,kt],rules:[{[A]:Ts,endpoint:nS,[w]:$},MV],[w]:U},{[A]:[Ae,be,Et,wt,pn,mg,Pe,Ot],endpoint:OI,[w]:$},{[A]:[Ae,be,Et,wt,pn,kI,Pe,Ot],endpoint:nS,[w]:$},{[A]:[Ae,be,gr,ge,Tt],endpoint:{[Q]:y2,[Y]:Pt,[Z]:de},[w]:$},{[A]:[Ae,be,gr,ge,Pe,kt],rules:[{[A]:Ts,endpoint:FI,[w]:$},{endpoint:FI,[w]:$}],[w]:U},{[A]:[Ae,be,gr,ge,Pe,Ot],endpoint:FI,[w]:$},{[A]:[Ae,be,Et,ge,Tt],endpoint:{[Q]:pV,[Y]:Pt,[Z]:de},[w]:$},{[A]:[Ae,be,Et,ge,Pe,kt],rules:[{[A]:Ts,endpoint:{[Q]:pV,[Y]:bt,[Z]:de},[w]:$},{endpoint:PV,[w]:$}],[w]:U},{[A]:[Ae,be,Et,ge,Pe,Ot],endpoint:PV,[w]:$}],[w]:U},dg],[w]:U}],[w]:U},{[A]:[wt,pn,{[F]:Xe,[L]:[{[F]:ht,[L]:[I2,"scheme"]},"http"]},{[F]:h2,[L]:[mn,!0]},PI,be,Ae,Et],rules:[{[A]:As,rules:[{[A]:s2,rules:[MV],[w]:U},dg],[w]:U}],[w]:U},{[A]:[PI,{[F]:v2,[L]:dZ,[ct]:_2}],rules:[{[A]:[{[F]:ht,[L]:[Sn,"resourceId[0]"],[ct]:E2},{[F]:Wr,[L]:[{[F]:Xe,[L]:[A2,yg]}]}],rules:[{[A]:[{[F]:Xe,[L]:[LI,oS]}],rules:[{[A]:YI,rules:[{[A]:o2,rules:[kV,OV,{[A]:ZI,rules:[FV,{[A]:a2,rules:[VI,{[A]:XI,rules:[{[A]:As,rules:[{[A]:c2,rules:[{[A]:JI,rules:[{[A]:[{[F]:Xe,[L]:[D2,yg]}],error:"Invalid ARN: Missing account id",[w]:J},{[A]:eS,rules:[{[A]:l2,rules:[{[A]:Uo,endpoint:{[Q]:mV,[Y]:BI,[Z]:de},[w]:$},{[A]:jc,endpoint:{[Q]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Y]:BI,[Z]:de},[w]:$},{endpoint:{[Q]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Y]:BI,[Z]:de},[w]:$}],[w]:U},LV],[w]:U},UI],[w]:U},jI],[w]:U},$I],[w]:U}],[w]:U}],[w]:U},VV],[w]:U},{error:"Invalid ARN: bucket ARN is missing a region",[w]:J}],[w]:U},BV],[w]:U},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[w]:J}],[w]:U},{[A]:YI,rules:[{[A]:o2,rules:[{[A]:ZI,rules:[{[A]:YI,rules:[{[A]:ZI,rules:[FV,{[A]:a2,rules:[VI,{[A]:XI,rules:[{[A]:As,rules:[{[A]:[{[F]:Xe,[L]:[T2,"{partitionResult#name}"]}],rules:[{[A]:JI,rules:[{[A]:[{[F]:Xe,[L]:[LI,$c]}],rules:[{[A]:eS,rules:[{[A]:l2,rules:[{[A]:fg,error:"Access Points do not support S3 Accelerate",[w]:J},{[A]:[Qe,Ke],endpoint:{[Q]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Y]:yd,[Z]:de},[w]:$},{[A]:[Qe,Ae],endpoint:{[Q]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Y]:yd,[Z]:de},[w]:$},{[A]:[be,Ke],endpoint:{[Q]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Y]:yd,[Z]:de},[w]:$},{[A]:[be,Ae,wt,pn],endpoint:{[Q]:mV,[Y]:yd,[Z]:de},[w]:$},{[A]:[be,Ae],endpoint:{[Q]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Y]:yd,[Z]:de},[w]:$}],[w]:U},LV],[w]:U},UI],[w]:U},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[w]:J}],[w]:U},jI],[w]:U},$I],[w]:U}],[w]:U}],[w]:U},VV],[w]:U}],[w]:U}],[w]:U},{[A]:[{[F]:jo,[L]:[cS,!0]}],rules:[{[A]:WI,error:"S3 MRAP does not support dual-stack",[w]:J},{[A]:jc,error:"S3 MRAP does not support FIPS",[w]:J},{[A]:fg,error:"S3 MRAP does not support S3 Accelerate",[w]:J},{[A]:[{[F]:Ft,[L]:[{[ue]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[w]:J},{[A]:[{[F]:gg,[L]:GI,[ct]:gV}],rules:[{[A]:[{[F]:Xe,[L]:[{[F]:ht,[L]:[{[ue]:gV},en]},{[F]:ht,[L]:[Sn,"partition"]}]}],rules:[{endpoint:{[Q]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[Y]:{[yr]:[{[Ln]:!0,name:sS,[Vn]:$c,[iS]:hZ}]},[Z]:de},[w]:$}],[w]:U},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[w]:J}],[w]:U}],[w]:U},{error:"Invalid Access Point Name",[w]:J}],[w]:U},BV],[w]:U},{[A]:[{[F]:Xe,[L]:[LI,vd]}],rules:[{[A]:WI,error:"S3 Outposts does not support Dual-stack",[w]:J},{[A]:jc,error:"S3 Outposts does not support FIPS",[w]:J},{[A]:fg,error:"S3 Outposts does not support S3 Accelerate",[w]:J},{[A]:[{[F]:Xn,[L]:[{[F]:ht,[L]:[Sn,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[w]:J},{[A]:[{[F]:ht,[L]:pZ,[ct]:tS}],rules:[{[A]:r2,rules:[VI,{[A]:XI,rules:[{[A]:As,rules:[{[A]:c2,rules:[{[A]:JI,rules:[{[A]:eS,rules:[{[A]:[{[F]:ht,[L]:mZ,[ct]:yV}],rules:[{[A]:[{[F]:ht,[L]:[Sn,"resourceId[3]"],[ct]:aS}],rules:[{[A]:[{[F]:Xe,[L]:[{[ue]:yV},w2]}],rules:[{[A]:Uo,endpoint:{[Q]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[Y]:UV,[Z]:de},[w]:$},{endpoint:{[Q]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Y]:UV,[Z]:de},[w]:$}],[w]:U},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[w]:J}],[w]:U},{error:"Invalid ARN: expected an access point name",[w]:J}],[w]:U},{error:"Invalid ARN: Expected a 4-component resource",[w]:J}],[w]:U},UI],[w]:U},jI],[w]:U},$I],[w]:U}],[w]:U}],[w]:U},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[w]:J}],[w]:U},{error:"Invalid ARN: The Outpost Id was not set",[w]:J}],[w]:U},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[w]:J}],[w]:U},{error:"Invalid ARN: No ARN type specified",[w]:J}],[w]:U},{[A]:[{[F]:Gr,[L]:[mn,0,4,!1],[ct]:vV},{[F]:Xe,[L]:[{[ue]:vV},"arn:"]},{[F]:Wr,[L]:[{[F]:Xn,[L]:[jV]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[w]:J},{[A]:[{[F]:Ft,[L]:[lZ,!0]},jV],error:"Path-style addressing cannot be used with ARN buckets",[w]:J},{[A]:KI,rules:[{[A]:As,rules:[{[A]:[Et],rules:[{[A]:[Ke,ge,Qe,Tt],endpoint:{[Q]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Y]:Pt,[Z]:de},[w]:$},{[A]:[Ke,ge,Qe,Pe,kt],rules:[{endpoint:$V,[w]:$}],[w]:U},{[A]:[Ke,ge,Qe,Pe,Ot],endpoint:$V,[w]:$},{[A]:[Ae,ge,Qe,Tt],endpoint:{[Q]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Y]:Pt,[Z]:de},[w]:$},{[A]:[Ae,ge,Qe,Pe,kt],rules:[{endpoint:HV,[w]:$}],[w]:U},{[A]:[Ae,ge,Qe,Pe,Ot],endpoint:HV,[w]:$},{[A]:[Ke,ge,be,Tt],endpoint:{[Q]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Y]:Pt,[Z]:de},[w]:$},{[A]:[Ke,ge,be,Pe,kt],rules:[{endpoint:qV,[w]:$}],[w]:U},{[A]:[Ke,ge,be,Pe,Ot],endpoint:qV,[w]:$},{[A]:[Ae,wt,pn,be,Tt],endpoint:{[Q]:b2,[Y]:Pt,[Z]:de},[w]:$},{[A]:[Ae,wt,pn,be,Pe,kt],rules:[{[A]:Ts,endpoint:HI,[w]:$},{endpoint:HI,[w]:$}],[w]:U},{[A]:[Ae,wt,pn,be,Pe,Ot],endpoint:HI,[w]:$},{[A]:[Ae,ge,be,Tt],endpoint:{[Q]:_V,[Y]:Pt,[Z]:de},[w]:$},{[A]:[Ae,ge,be,Pe,kt],rules:[{[A]:Ts,endpoint:{[Q]:_V,[Y]:bt,[Z]:de},[w]:$},{endpoint:zV,[w]:$}],[w]:U},{[A]:[Ae,ge,be,Pe,Ot],endpoint:zV,[w]:$}],[w]:U},{error:"Path-style addressing cannot be used with S3 Accelerate",[w]:J}],[w]:U}],[w]:U}],[w]:U},{[A]:[{[F]:Xn,[L]:[GV]},{[F]:Ft,[L]:[GV,!0]}],rules:[{[A]:As,rules:[{[A]:u2,rules:[kV,OV,{[A]:Uo,endpoint:{[Q]:pg,[Y]:qI,[Z]:de},[w]:$},{[A]:jc,endpoint:{[Q]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[Y]:qI,[Z]:de},[w]:$},{endpoint:{[Q]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[Y]:qI,[Z]:de},[w]:$}],[w]:U},dg],[w]:U}],[w]:U},{[A]:[SV],rules:[{[A]:As,rules:[{[A]:u2,rules:[{[A]:[Qe,Ke,ge,Tt],endpoint:{[Q]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Y]:Pt,[Z]:de},[w]:$},{[A]:[Qe,Ke,ge,Pe,kt],rules:[{endpoint:WV,[w]:$}],[w]:U},{[A]:[Qe,Ke,ge,Pe,Ot],endpoint:WV,[w]:$},{[A]:[Qe,Ae,ge,Tt],endpoint:{[Q]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Y]:Pt,[Z]:de},[w]:$},{[A]:[Qe,Ae,ge,Pe,kt],rules:[{endpoint:KV,[w]:$}],[w]:U},{[A]:[Qe,Ae,ge,Pe,Ot],endpoint:KV,[w]:$},{[A]:[be,Ke,ge,Tt],endpoint:{[Q]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Y]:Pt,[Z]:de},[w]:$},{[A]:[be,Ke,ge,Pe,kt],rules:[{endpoint:QV,[w]:$}],[w]:U},{[A]:[be,Ke,ge,Pe,Ot],endpoint:QV,[w]:$},{[A]:[be,Ae,wt,pn,Tt],endpoint:{[Q]:pg,[Y]:Pt,[Z]:de},[w]:$},{[A]:[be,Ae,wt,pn,Pe,kt],rules:[{[A]:Ts,endpoint:zI,[w]:$},{endpoint:zI,[w]:$}],[w]:U},{[A]:[be,Ae,wt,pn,Pe,Ot],endpoint:zI,[w]:$},{[A]:[be,Ae,ge,Tt],endpoint:{[Q]:EV,[Y]:Pt,[Z]:de},[w]:$},{[A]:[be,Ae,ge,Pe,kt],rules:[{[A]:Ts,endpoint:{[Q]:EV,[Y]:bt,[Z]:de},[w]:$},{endpoint:YV,[w]:$}],[w]:U},{[A]:[be,Ae,ge,Pe,Ot],endpoint:YV,[w]:$}],[w]:U},dg],[w]:U}],[w]:U}],[w]:U},{error:"A region must be set when sending requests to S3.",[w]:J}]},R2=gZ;var yZ=new Hm({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),Eg=(t,e={})=>yZ.get(t,()=>yI(R2,{endpointParams:t,logger:e.logger}));Vo.aws=_I;var vZ=t=>(e,n,r)=>g(void 0,null,function*(){if(!r)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let i=yield t(e,n,r),s=pr(n)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!s)throw new Error(`getEndpointParameterInstructions() is not defined on \`${n.commandName}\``);let o=yield II(r,{getEndpointParameterInstructions:s},e);return Object.assign(i,o)}),_Z=(t,e,n)=>g(void 0,null,function*(){return{operation:pr(e).operation,region:(yield jt(t.region)())||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}}),N2=vZ(_Z);function M2(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}function P2(t){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}var EZ=(t,e,n)=>i=>{let o=t(i).properties?.authSchemes;if(!o)return e(i);let a=[];for(let u of o){let c=u,{name:d,properties:h={}}=c,m=Fs(c,["name","properties"]),y=d.toLowerCase();d!==y&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${d}\` to \`${y}\``);let _;if(y==="sigv4a"){_="aws.auth#sigv4a";let k=o.find(j=>{let G=j.name.toLowerCase();return G!=="sigv4a"&&G.startsWith("sigv4")});if(!cg.CrtSignerV4&&k)continue}else if(y.startsWith("sigv4"))_="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${y}\``);let D=n[_];if(!D)throw new Error(`Could not find HttpAuthOption create function for \`${_}\``);let x=D(i);x.schemeId=_,x.signingProperties=E(E(E({},x.signingProperties||{}),m),h),a.push(x)}return a},wZ=t=>{let e=[];switch(t.operation){default:e.push(M2(t)),e.push(P2(t))}return e},k2=EZ(Eg,wZ,{"aws.auth#sigv4":M2,"aws.auth#sigv4a":P2}),O2=t=>{let e=b1(t),n=t1(e);return E({},n)};var F2=t=>O(E({},t),{useFipsEndpoint:t.useFipsEndpoint??!1,useDualstackEndpoint:t.useDualstackEndpoint??!1,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),wg={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var gn=class t extends Fm{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};var bg=class t extends gn{constructor(e){super(E({name:"NoSuchUpload",$fault:"client"},e)),this.name="NoSuchUpload",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var Cg=class t extends gn{constructor(e){super(E({name:"ObjectNotInActiveTierError",$fault:"client"},e)),this.name="ObjectNotInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}},Ig=class t extends gn{constructor(e){super(E({name:"BucketAlreadyExists",$fault:"client"},e)),this.name="BucketAlreadyExists",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}},Sg=class t extends gn{constructor(e){super(E({name:"BucketAlreadyOwnedByYou",$fault:"client"},e)),this.name="BucketAlreadyOwnedByYou",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var xg=class t extends gn{constructor(e){super(E({name:"NoSuchBucket",$fault:"client"},e)),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var Ag=class t extends gn{constructor(e){super(E({name:"InvalidObjectState",$fault:"client"},e)),this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,t.prototype),this.StorageClass=e.StorageClass,this.AccessTier=e.AccessTier}},Tg=class t extends gn{constructor(e){super(E({name:"NoSuchKey",$fault:"client"},e)),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var Dg=class t extends gn{constructor(e){super(E({name:"NotFound",$fault:"client"},e)),this.name="NotFound",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var bZ=t=>E(E(E({},t),t.SecretAccessKey&&{SecretAccessKey:Fn}),t.SessionToken&&{SessionToken:Fn}),L2=t=>E(E(E(E({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Fn}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Fn}),t.Credentials&&{Credentials:bZ(t.Credentials)}),V2=t=>E(E(E({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Fn}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Fn});var Rg=class t extends gn{constructor(e){super(E({name:"ObjectAlreadyInActiveTierError",$fault:"client"},e)),this.name="ObjectAlreadyInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var B2=t=>E(E(E({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Fn}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Fn}),U2=t=>E(E(E(E({},t),t.SSECustomerKey&&{SSECustomerKey:Fn}),t.SSEKMSKeyId&&{SSEKMSKeyId:Fn}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Fn});var q2=(t,e)=>g(void 0,null,function*(){let n=Sm(t,e),r=$t({},bs,{[yX]:t[eX],[Fg]:t[Pg],[Lg]:t[Og],[Vg]:t[kg],[qc]:[()=>bs(t[Hc]),()=>t[Hc].toString()]});n.bp("/"),n.p("Bucket",()=>t.Bucket,"{Bucket}",!1);let i=$t({[mX]:[,""]});return n.m("GET").h(r).q(i).b(void 0),n.build()});var z2=(t,e)=>g(void 0,null,function*(){let n=Sm(t,e),r=$t({},bs,E({[dX]:t[$Z]||"application/octet-stream",[gX]:t[OZ],[sX]:t[LZ],[oX]:t[VZ],[aX]:t[BZ],[cX]:t[UZ],[lX]:[()=>bs(t[j2]),()=>t[j2].toString()],[uX]:t[jZ],[RX]:t[FZ],[tB]:t[Q2],[nB]:t[Y2],[rB]:t[Z2],[iB]:t[X2],[fX]:[()=>bs(t[$2]),()=>F1(t[$2]).toString()],[pX]:t[QZ],[EX]:t[zZ],[wX]:t[GZ],[bX]:t[WZ],[CX]:t[KZ],[Fg]:t[Pg],[DX]:t[Mg],[kX]:t[iX],[sB]:t[J2],[NX]:t[tX],[oB]:t[eB],[Lg]:t[Og],[Vg]:t[kg],[qc]:[()=>bs(t[Hc]),()=>t[Hc].toString()],[TX]:t[JZ],[MX]:t[nX],[SX]:t[ZZ],[xX]:[()=>bs(t[H2]),()=>W1(t[H2]).toString()],[IX]:t[YZ],[_X]:t[HZ]},t.Metadata!==void 0&&Object.keys(t.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=t.Metadata[c],a),{})));n.bp("/{Key+}"),n.p("Bucket",()=>t.Bucket,"{Bucket}",!1),n.p("Key",()=>t.Key,"{Key+}",!0);let i=$t({[OX]:[,"PutObject"]}),s,o;return t.Body!==void 0&&(o=t.Body,s=o),n.m("PUT").h(r).q(i).b(s),n.build()});var G2=(t,e)=>g(void 0,null,function*(){if(t.statusCode!==200&&t.statusCode>=300)return K2(t,e);let n=$t({$metadata:vr(t),[Pg]:[,t.headers[Fg]],[Og]:[,t.headers[Lg]],[kg]:[,t.headers[Vg]],[Hc]:[()=>t.headers[qc]!==void 0,()=>GC(t.headers[qc])]}),r=WC(D1(yield sI(t.body,e)),"body");return r[dS]!=null&&(n[dS]=kZ(r[dS],e)),n});var W2=(t,e)=>g(void 0,null,function*(){if(t.statusCode!==200&&t.statusCode>=300)return K2(t,e);let n=$t({$metadata:vr(t),[Ng]:[,t.headers[vX]],[qZ]:[,t.headers[hX]],[Q2]:[,t.headers[tB]],[Y2]:[,t.headers[nB]],[Z2]:[,t.headers[rB]],[X2]:[,t.headers[iB]],[Pg]:[,t.headers[Fg]],[rX]:[,t.headers[PX]],[J2]:[,t.headers[sB]],[eB]:[,t.headers[oB]],[Og]:[,t.headers[Lg]],[kg]:[,t.headers[Vg]],[Hc]:[()=>t.headers[qc]!==void 0,()=>GC(t.headers[qc])],[XZ]:[,t.headers[AX]]});return yield nd(t.body,e),n});var K2=(t,e)=>g(void 0,null,function*(){let n=O(E({},t),{body:yield TF(t.body,e)}),r=DF(t,n.body);switch(r){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw yield RZ(n,e);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw yield PZ(n,e);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw yield SZ(n,e);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw yield xZ(n,e);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw yield TZ(n,e);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw yield AZ(n,e);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw yield DZ(n,e);case"NotFound":case"com.amazonaws.s3#NotFound":throw yield NZ(n,e);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw yield MZ(n,e);default:let i=n.body;return IZ({output:t,parsedBody:i,errorCode:r})}}),IZ=B1(gn),SZ=(t,e)=>g(void 0,null,function*(){let n=$t({}),r=t.body,i=new Ig(E({$metadata:vr(t)},n));return Yn(i,t.body)}),xZ=(t,e)=>g(void 0,null,function*(){let n=$t({}),r=t.body,i=new Sg(E({$metadata:vr(t)},n));return Yn(i,t.body)}),AZ=(t,e)=>g(void 0,null,function*(){let n=$t({}),r=t.body;r[uS]!=null&&(n[uS]=Mc(r[uS])),r[Mg]!=null&&(n[Mg]=Mc(r[Mg]));let i=new Ag(E({$metadata:vr(t)},n));return Yn(i,t.body)}),TZ=(t,e)=>g(void 0,null,function*(){let n=$t({}),r=t.body,i=new xg(E({$metadata:vr(t)},n));return Yn(i,t.body)}),DZ=(t,e)=>g(void 0,null,function*(){let n=$t({}),r=t.body,i=new Tg(E({$metadata:vr(t)},n));return Yn(i,t.body)}),RZ=(t,e)=>g(void 0,null,function*(){let n=$t({}),r=t.body,i=new bg(E({$metadata:vr(t)},n));return Yn(i,t.body)}),NZ=(t,e)=>g(void 0,null,function*(){let n=$t({}),r=t.body,i=new Dg(E({$metadata:vr(t)},n));return Yn(i,t.body)}),MZ=(t,e)=>g(void 0,null,function*(){let n=$t({}),r=t.body,i=new Rg(E({$metadata:vr(t)},n));return Yn(i,t.body)}),PZ=(t,e)=>g(void 0,null,function*(){let n=$t({}),r=t.body,i=new Cg(E({$metadata:vr(t)},n));return Yn(i,t.body)});var kZ=(t,e)=>{let n={};return t[lS]!=null&&(n[lS]=Mc(t[lS])),t[fS]!=null&&(n[fS]=Mc(t[fS])),t[hS]!=null&&(n[hS]=Mc(t[hS])),t[Ng]!=null&&(n[Ng]=WC(L1(t[Ng]))),n};var vr=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]});var OZ="ACL";var lS="AccessKeyId";var uS="AccessTier";var Hc="BucketKeyEnabled";var dS="Credentials",FZ="ChecksumAlgorithm";var LZ="CacheControl",Q2="ChecksumCRC32",Y2="ChecksumCRC32C",VZ="ContentDisposition";var BZ="ContentEncoding";var UZ="ContentLanguage",j2="ContentLength";var jZ="ContentMD5";var Z2="ChecksumSHA1",X2="ChecksumSHA256";var $Z="ContentType";var $2="Expires";var HZ="ExpectedBucketOwner";var qZ="ETag";var Ng="Expiration";var zZ="GrantFullControl";var GZ="GrantRead",WZ="GrantReadACP";var KZ="GrantWriteACP";var QZ="IfNoneMatch";var YZ="ObjectLockLegalHoldStatus",ZZ="ObjectLockMode";var H2="ObjectLockRetainUntilDate";var XZ="RequestCharged";var JZ="RequestPayer";var fS="SecretAccessKey";var Mg="StorageClass";var eX="SessionMode";var Pg="ServerSideEncryption";var J2="SSECustomerAlgorithm",tX="SSECustomerKey",eB="SSECustomerKeyMD5";var kg="SSEKMSEncryptionContext",Og="SSEKMSKeyId";var hS="SessionToken";var nX="Tagging";var rX="VersionId";var iX="WebsiteRedirectLocation";var sX="cache-control",oX="content-disposition",aX="content-encoding",cX="content-language",lX="content-length",uX="content-md5";var dX="content-type";var fX="expires";var hX="etag";var pX="if-none-match";var mX="session";var gX="x-amz-acl";var tB="x-amz-checksum-crc32",nB="x-amz-checksum-crc32c";var rB="x-amz-checksum-sha1",iB="x-amz-checksum-sha256";var yX="x-amz-create-session-mode";var vX="x-amz-expiration",_X="x-amz-expected-bucket-owner";var EX="x-amz-grant-full-control",wX="x-amz-grant-read",bX="x-amz-grant-read-acp";var CX="x-amz-grant-write-acp";var IX="x-amz-object-lock-legal-hold",SX="x-amz-object-lock-mode",xX="x-amz-object-lock-retain-until-date";var AX="x-amz-request-charged";var TX="x-amz-request-payer";var DX="x-amz-storage-class",RX="x-amz-sdk-checksum-algorithm";var Fg="x-amz-server-side-encryption",Lg="x-amz-server-side-encryption-aws-kms-key-id",qc="x-amz-server-side-encryption-bucket-key-enabled",Vg="x-amz-server-side-encryption-context",sB="x-amz-server-side-encryption-customer-algorithm",NX="x-amz-server-side-encryption-customer-key",oB="x-amz-server-side-encryption-customer-key-md5",MX="x-amz-tagging";var PX="x-amz-version-id",kX="x-amz-website-redirect-location",OX="x-id";var Bg=class extends ko.classBuilder().ep(O(E({},wg),{DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}})).m(function(e,n,r,i){return[wm(r,this.serialize,this.deserialize),tg(r,e.getEndpointParameterInstructions()),$m(r)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(V2,L2).ser(q2).de(G2).build(){};var aB={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.679.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"vitest run","test:watch":"vitest watch","test:e2e":"vitest run -c vitest.config.e2e.ts && yarn test:browser","test:e2e:watch":"vitest watch -c vitest.config.e2e.ts","test:browser":"node ./test/browser-build/esbuild && vitest run -c vitest.config.browser.ts","test:browser:watch":"node ./test/browser-build/esbuild && vitest watch -c vitest.config.browser.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.679.0","@aws-sdk/client-sts":"3.679.0","@aws-sdk/core":"3.679.0","@aws-sdk/credential-provider-node":"3.679.0","@aws-sdk/middleware-bucket-endpoint":"3.679.0","@aws-sdk/middleware-expect-continue":"3.679.0","@aws-sdk/middleware-flexible-checksums":"3.679.0","@aws-sdk/middleware-host-header":"3.679.0","@aws-sdk/middleware-location-constraint":"3.679.0","@aws-sdk/middleware-logger":"3.679.0","@aws-sdk/middleware-recursion-detection":"3.679.0","@aws-sdk/middleware-sdk-s3":"3.679.0","@aws-sdk/middleware-ssec":"3.679.0","@aws-sdk/middleware-user-agent":"3.679.0","@aws-sdk/region-config-resolver":"3.679.0","@aws-sdk/signature-v4-multi-region":"3.679.0","@aws-sdk/types":"3.679.0","@aws-sdk/util-endpoints":"3.679.0","@aws-sdk/util-user-agent-browser":"3.679.0","@aws-sdk/util-user-agent-node":"3.679.0","@aws-sdk/xml-builder":"3.679.0","@smithy/config-resolver":"^3.0.9","@smithy/core":"^2.4.8","@smithy/eventstream-serde-browser":"^3.0.10","@smithy/eventstream-serde-config-resolver":"^3.0.7","@smithy/eventstream-serde-node":"^3.0.9","@smithy/fetch-http-handler":"^3.2.9","@smithy/hash-blob-browser":"^3.1.6","@smithy/hash-node":"^3.0.7","@smithy/hash-stream-node":"^3.1.6","@smithy/invalid-dependency":"^3.0.7","@smithy/md5-js":"^3.0.7","@smithy/middleware-content-length":"^3.0.9","@smithy/middleware-endpoint":"^3.1.4","@smithy/middleware-retry":"^3.0.23","@smithy/middleware-serde":"^3.0.7","@smithy/middleware-stack":"^3.0.7","@smithy/node-config-provider":"^3.1.8","@smithy/node-http-handler":"^3.2.4","@smithy/protocol-http":"^4.1.4","@smithy/smithy-client":"^3.4.0","@smithy/types":"^3.5.0","@smithy/url-parser":"^3.0.7","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.23","@smithy/util-defaults-mode-node":"^3.0.23","@smithy/util-endpoints":"^2.1.3","@smithy/util-middleware":"^3.0.7","@smithy/util-retry":"^3.0.7","@smithy/util-stream":"^3.1.9","@smithy/util-utf8":"^3.0.0","@smithy/util-waiter":"^3.1.6",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/signature-v4-crt":"3.679.0","@tsconfig/node16":"16.1.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};var pS=t=>new TextEncoder().encode(t);function mS(t){return typeof t=="string"?t.length===0:t.byteLength===0}var gS={name:"SHA-1"},yS={name:"HMAC",hash:gS},cB=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);var LX={};function Jn(){return typeof window<"u"?window:typeof self<"u"?self:LX}var vS=function(){function t(e){this.toHash=new Uint8Array(0),e!==void 0&&(this.key=new Promise(function(n,r){Jn().crypto.subtle.importKey("raw",lB(e),yS,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))}return t.prototype.update=function(e){if(!mS(e)){var n=lB(e),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(n){return Jn().crypto.subtle.sign(yS,n,e.toHash).then(function(r){return new Uint8Array(r)})}):mS(this.toHash)?Promise.resolve(cB):Promise.resolve().then(function(){return Jn().crypto.subtle.digest(gS,e.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},t.prototype.reset=function(){this.toHash=new Uint8Array(0)},t}();function lB(t){return typeof t=="string"?pS(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var VX=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function Ug(t){if(BX(t)&&typeof t.crypto.subtle=="object"){var e=t.crypto.subtle;return UX(e)}return!1}function BX(t){if(typeof t=="object"&&typeof t.crypto=="object"){var e=t.crypto.getRandomValues;return typeof e=="function"}return!1}function UX(t){return t&&VX.every(function(e){return typeof t[e]=="function"})}var uB=function(){function t(e){if(Ug(Jn()))this.hash=new vS(e);else throw new Error("SHA1 not supported")}return t.prototype.update=function(e,n){this.hash.update(hn(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();var _S={name:"SHA-256"},ES={name:"HMAC",hash:_S},dB=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);var wS=function(){function t(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return t.prototype.update=function(e){if(!qr(e)){var n=hn(e),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(n){return Jn().crypto.subtle.sign(ES,n,e.toHash).then(function(r){return new Uint8Array(r)})}):qr(this.toHash)?Promise.resolve(dB):Promise.resolve().then(function(){return Jn().crypto.subtle.digest(_S,e.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},t.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(n,r){Jn().crypto.subtle.importKey("raw",hn(e.secret),ES,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))},t}();var xn=64,fB=32,hB=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pB=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],mB=Math.pow(2,53)-1;var _d=function(){function t(){this.state=Int32Array.from(pB),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,r=e.byteLength;if(this.bytesHashed+=r,this.bytesHashed*8>mB)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=e[n++],r--,this.bufferLength===xn&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(n.setUint8(this.bufferLength++,128),r%xn>=xn-8){for(var i=this.bufferLength;i<xn;i++)n.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<xn-8;i++)n.setUint8(i,0);n.setUint32(xn-8,Math.floor(e/4294967296),!0),n.setUint32(xn-4,e),this.hashBuffer(),this.finished=!0}for(var s=new Uint8Array(fB),i=0;i<8;i++)s[i*4]=this.state[i]>>>24&255,s[i*4+1]=this.state[i]>>>16&255,s[i*4+2]=this.state[i]>>>8&255,s[i*4+3]=this.state[i]>>>0&255;return s},t.prototype.hashBuffer=function(){for(var e=this,n=e.buffer,r=e.state,i=r[0],s=r[1],o=r[2],a=r[3],c=r[4],u=r[5],d=r[6],h=r[7],m=0;m<xn;m++){if(m<16)this.temp[m]=(n[m*4]&255)<<24|(n[m*4+1]&255)<<16|(n[m*4+2]&255)<<8|n[m*4+3]&255;else{var y=this.temp[m-2],_=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10;y=this.temp[m-15];var D=(y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;this.temp[m]=(_+this.temp[m-7]|0)+(D+this.temp[m-16]|0)}var x=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&u^~c&d)|0)+(h+(hB[m]+this.temp[m]|0)|0)|0,k=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&s^i&o^s&o)|0;h=d,d=u,u=c,c=a+x|0,a=o,o=s,s=i,i=x+k|0}r[0]+=i,r[1]+=s,r[2]+=o,r[3]+=a,r[4]+=c,r[5]+=u,r[6]+=d,r[7]+=h},t}();var gB=function(){function t(e){this.secret=e,this.hash=new _d,this.reset()}return t.prototype.update=function(e){if(!(qr(e)||this.error))try{this.hash.update(hn(e))}catch(n){this.error=n}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return Hi(this,void 0,void 0,function(){return ia(this,function(e){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new _d,this.secret){this.outer=new _d;var e=jX(this.secret),n=new Uint8Array(xn);n.set(e);for(var r=0;r<xn;r++)e[r]^=54,n[r]^=92;this.hash.update(e),this.outer.update(n);for(var r=0;r<e.byteLength;r++)e[r]=0}},t}();function jX(t){var e=hn(t);if(e.byteLength>xn){var n=new _d;n.update(e),e=n.digest()}var r=new Uint8Array(xn);return r.set(e),r}var yB=function(){function t(e){Ug(Jn())?this.hash=new wS(e):this.hash=new gB(e)}return t.prototype.update=function(e,n){this.hash.update(hn(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();var vB=Oy(CS());var _B=({serviceId:t,clientVersion:e})=>n=>g(void 0,null,function*(){let r=typeof window<"u"&&window?.navigator?.userAgent?vB.default.parse(window.navigator.userAgent):void 0,i=[["aws-sdk-js",e],["ua","2.1"],[`os/${r?.os?.name||"other"}`,r?.os?.version],["lang/js"],["md/browser",`${r?.browser?.name??"unknown"}_${r?.browser?.version??"unknown"}`]];t&&i.push([`api/${t}`,e]);let s=yield n?.userAgentAppId?.();return s&&i.push([`app/${s}`]),i});var zc=class t{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let n=new Uint8Array(8);for(let r=7,i=Math.abs(Math.round(e));r>-1&&i>0;r--,i/=256)n[r]=i;return e<0&&EB(n),new t(n)}valueOf(){let e=this.bytes.slice(0),n=e[0]&128;return n&&EB(e),parseInt(dt(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function EB(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var jg=class{constructor(e,n){this.toUtf8=e,this.fromUtf8=n}format(e){let n=[];for(let s of Object.keys(e)){let o=this.fromUtf8(s);n.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[s]))}let r=new Uint8Array(n.reduce((s,o)=>s+o.byteLength,0)),i=0;for(let s of n)r.set(s,i),i+=s.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let o=new Uint8Array(s.buffer);return o.set(e.value,3),o;case"string":let a=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":let d=new Uint8Array(9);return d[0]=8,d.set(zc.fromNumber(e.value.valueOf()).bytes,1),d;case"uuid":if(!YX.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let h=new Uint8Array(17);return h[0]=9,h.set(bm(e.value.replace(/\-/g,"")),1),h}}parse(e){let n={},r=0;for(;r<e.byteLength;){let i=e.getUint8(r++),s=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,i));switch(r+=i,e.getUint8(r++)){case 0:n[s]={type:wB,value:!0};break;case 1:n[s]={type:wB,value:!1};break;case 2:n[s]={type:$X,value:e.getInt8(r++)};break;case 3:n[s]={type:HX,value:e.getInt16(r,!1)},r+=2;break;case 4:n[s]={type:qX,value:e.getInt32(r,!1)},r+=4;break;case 5:n[s]={type:zX,value:new zc(new Uint8Array(e.buffer,e.byteOffset+r,8))},r+=8;break;case 6:let o=e.getUint16(r,!1);r+=2,n[s]={type:GX,value:new Uint8Array(e.buffer,e.byteOffset+r,o)},r+=o;break;case 7:let a=e.getUint16(r,!1);r+=2,n[s]={type:WX,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,a))},r+=a;break;case 8:n[s]={type:KX,value:new Date(new zc(new Uint8Array(e.buffer,e.byteOffset+r,8)).valueOf())},r+=8;break;case 9:let c=new Uint8Array(e.buffer,e.byteOffset+r,16);r+=16,n[s]={type:QX,value:`${dt(c.subarray(0,4))}-${dt(c.subarray(4,6))}-${dt(c.subarray(6,8))}-${dt(c.subarray(8,10))}-${dt(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return n}};var wB="boolean",$X="byte",HX="short",qX="integer",zX="long",GX="binary",WX="string",KX="timestamp",QX="uuid",YX=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var bB=4,Ds=bB*2,$o=4,ZX=Ds+$o*2;function CB({byteLength:t,byteOffset:e,buffer:n}){if(t<ZX)throw new Error("Provided message too short to accommodate event stream message overhead");let r=new DataView(n,e,t),i=r.getUint32(0,!1);if(t!==i)throw new Error("Reported message length does not match received message length");let s=r.getUint32(bB,!1),o=r.getUint32(Ds,!1),a=r.getUint32(t-$o,!1),c=new Fo().update(new Uint8Array(n,e,Ds));if(o!==c.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(n,e+Ds,t-(Ds+$o))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(n,e+Ds+$o,s),body:new Uint8Array(n,e+Ds+$o+s,i-s-(Ds+$o+$o))}}var $g=class{constructor(e,n){this.headerMarshaller=new jg(e,n),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){let e=this.messageBuffer.pop(),n=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return n}}}getAvailableMessages(){let e=this.messageBuffer;this.messageBuffer=[];let n=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return n}}}encode({headers:e,body:n}){let r=this.headerMarshaller.format(e),i=r.byteLength+n.byteLength+16,s=new Uint8Array(i),o=new DataView(s.buffer,s.byteOffset,s.byteLength),a=new Fo;return o.setUint32(0,i,!1),o.setUint32(4,r.byteLength,!1),o.setUint32(8,a.update(s.subarray(0,8)).digest(),!1),s.set(r,12),s.set(n,r.byteLength+12),o.setUint32(i-4,a.update(s.subarray(8,i-4)).digest(),!1),s}decode(e){let{headers:n,body:r}=CB(e);return{headers:this.headerMarshaller.parse(n),body:r}}formatHeaders(e){return this.headerMarshaller.format(e)}};var Hg=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return yn(this,null,function*(){try{for(var e=Xr(this.options.inputStream),n,r,i;n=!(r=yield new pt(e.next())).done;n=!1){let s=r.value;yield this.options.decoder.decode(s)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new pt(r.call(e)))}finally{if(i)throw i[0]}}})}};var qg=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return yn(this,null,function*(){try{for(var e=Xr(this.options.messageStream),n,r,i;n=!(r=yield new pt(e.next())).done;n=!1){let s=r.value;yield this.options.encoder.encode(s)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new pt(r.call(e)))}finally{if(i)throw i[0]}}this.options.includeEndFrame&&(yield new Uint8Array(0))})}};var zg=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return yn(this,null,function*(){try{for(var e=Xr(this.options.messageStream),n,r,i;n=!(r=yield new pt(e.next())).done;n=!1){let s=r.value;let o=yield new pt(this.options.deserializer(s));o!==void 0&&(yield o)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new pt(r.call(e)))}finally{if(i)throw i[0]}}})}};var Gg=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return yn(this,null,function*(){try{for(var e=Xr(this.options.inputStream),n,r,i;n=!(r=yield new pt(e.next())).done;n=!1){let s=r.value;yield this.options.serializer(s)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new pt(r.call(e)))}finally{if(i)throw i[0]}}})}};function IB(t){let e=0,n=0,r=null,i=null,s=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);e=a,n=4,r=new Uint8Array(a),new DataView(r.buffer).setUint32(0,a,!1)},o=function(){return yn(this,null,function*(){let a=t[Symbol.asyncIterator]();for(;;){let{value:c,done:u}=yield new pt(a.next());if(u){if(e)if(e===n)yield r;else throw new Error("Truncated event message received.");else return;return}let d=c.length,h=0;for(;h<d;){if(!r){let y=d-h;i||(i=new Uint8Array(4));let _=Math.min(4-n,y);if(i.set(c.slice(h,h+_),n),n+=_,h+=_,n<4)break;s(new DataView(i.buffer).getUint32(0,!1)),i=null}let m=Math.min(e-n,d-h);r.set(c.slice(h,h+m),n),n+=m,h+=m,e&&e===n&&(yield r,r=null,e=0,n=0)}}})};return{[Symbol.asyncIterator]:o}}function SB(t,e){return function(n){return g(this,null,function*(){let{value:r}=n.headers[":message-type"];if(r==="error"){let i=new Error(n.headers[":error-message"].value||"UnknownError");throw i.name=n.headers[":error-code"].value,i}else if(r==="exception"){let i=n.headers[":exception-type"].value,s={[i]:n},o=yield t(s);if(o.$unknown){let a=new Error(e(n.body));throw a.name=i,a}throw o[i]}else if(r==="event"){let i={[n.headers[":event-type"].value]:n},s=yield t(i);return s.$unknown?void 0:s}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)})}}var wd=class{constructor({utf8Encoder:e,utf8Decoder:n}){this.eventStreamCodec=new $g(e,n),this.utfEncoder=e}deserialize(e,n){let r=IB(e);return new zg({messageStream:new Hg({inputStream:r,decoder:this.eventStreamCodec}),deserializer:SB(n,this.utfEncoder)})}serialize(e,n){return new qg({messageStream:new Gg({inputStream:e,serializer:n}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};var xB=t=>({[Symbol.asyncIterator]:function(){return yn(this,null,function*(){let e=t.getReader();try{for(;;){let{done:n,value:r}=yield new pt(e.read());if(n)return;yield r}}finally{e.releaseLock()}})}}),AB=t=>{let e=t[Symbol.asyncIterator]();return new ReadableStream({pull(r){return g(this,null,function*(){let{done:i,value:s}=yield e.next();if(i)return r.close();r.enqueue(s)})}})};var Wg=class{constructor({utf8Encoder:e,utf8Decoder:n}){this.universalMarshaller=new wd({utf8Decoder:n,utf8Encoder:e})}deserialize(e,n){let r=XX(e)?xB(e):e;return this.universalMarshaller.deserialize(r,n)}serialize(e,n){let r=this.universalMarshaller.serialize(e,n);return typeof ReadableStream=="function"?AB(r):r}},XX=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream;var TB=t=>new Wg(t);function DB(t=0){return new Promise((e,n)=>{t&&setTimeout(()=>{let r=new Error(`Request did not complete within ${t} ms`);r.name="TimeoutError",n(r)},t)})}var IS={supported:void 0},Kg=class t{static create(e){return typeof e?.handle=="function"?e:new t(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(n=>n||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),IS.supported===void 0&&(IS.supported=typeof Request<"u"&&"keepalive"in new Request("https://[::1]"))}destroy(){}handle(r){return g(this,arguments,function*(e,{abortSignal:n}={}){this.config||(this.config=yield this.configProvider);let i=this.config.requestTimeout,s=this.config.keepAlive===!0,o=this.config.credentials;if(n?.aborted){let j=new Error("Request aborted");return j.name="AbortError",Promise.reject(j)}let a=e.path,c=DC(e.query||{});c&&(a+=`?${c}`),e.fragment&&(a+=`#${e.fragment}`);let u="";if(e.username!=null||e.password!=null){let j=e.username??"",G=e.password??"";u=`${j}:${G}@`}let{port:d,method:h}=e,m=`${e.protocol}//${u}${e.hostname}${d?`:${d}`:""}${a}`,y=h==="GET"||h==="HEAD"?void 0:e.body,_={body:y,headers:new Headers(e.headers),method:h,credentials:o};this.config?.cache&&(_.cache=this.config.cache),y&&(_.duplex="half"),typeof AbortController<"u"&&(_.signal=n),IS.supported&&(_.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(_,this.config.requestInit(e));let D=()=>{},x=new Request(m,_),k=[fetch(x).then(j=>{let G=j.headers,ee={};for(let re of G.entries())ee[re[0]]=re[1];return j.body!=null?{response:new In({headers:ee,reason:j.statusText,statusCode:j.status,body:j.body})}:j.blob().then(re=>({response:new In({headers:ee,reason:j.statusText,statusCode:j.status,body:re})}))}),DB(i)];return n&&k.push(new Promise((j,G)=>{let ee=()=>{let Ie=new Error("Request aborted");Ie.name="AbortError",G(Ie)};if(typeof n.addEventListener=="function"){let Ie=n;Ie.addEventListener("abort",ee,{once:!0}),D=()=>Ie.removeEventListener("abort",ee)}else n.onabort=ee})),Promise.race(k).finally(D)})}updateHttpClientConfig(e,n){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[e]=n,r))}httpHandlerConfigs(){return this.config??{}}};var RB=t=>typeof Blob=="function"&&t instanceof Blob?JX(t):eJ(t);function JX(t){return g(this,null,function*(){let e=yield tJ(t),n=Dc(e);return new Uint8Array(n)})}function eJ(t){return g(this,null,function*(){let e=[],n=t.getReader(),r=!1,i=0;for(;!r;){let{done:a,value:c}=yield n.read();c&&(e.push(c),i+=c.length),r=a}let s=new Uint8Array(i),o=0;for(let a of e)s.set(a,o),o+=a.length;return s})}function tJ(t){return new Promise((e,n)=>{let r=new FileReader;r.onloadend=()=>{if(r.readyState!==2)return n(new Error("Reader aborted too early"));let i=r.result??"",s=i.indexOf(","),o=s>-1?s+1:i.length;e(i.substring(o))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(t)})}function NB(r,i){return g(this,arguments,function*(t,e,n=1024*1024){let s=t.size,o=0;for(;o<s;){let a=t.slice(o,Math.min(s,o+n));e(new Uint8Array(yield a.arrayBuffer())),o+=a.size}})}var MB=function(e,n){return g(this,null,function*(){let r=new e;return yield NB(n,i=>{r.update(i)}),r.digest()})};var PB=t=>()=>Promise.reject(t);var kB=[1732584193,4023233417,2562383102,271733878];var Qg=class{constructor(){this.reset()}update(e){if(rJ(e))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");let n=iJ(e),r=0,{byteLength:i}=n;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,n[r++]),i--,this.bufferLength===64&&(this.hashBuffer(),this.bufferLength=0)}digest(){return g(this,null,function*(){if(!this.finished){let{buffer:n,bufferLength:r,bytesHashed:i}=this,s=i*8;if(n.setUint8(this.bufferLength++,128),r%64>=56){for(let o=this.bufferLength;o<64;o++)n.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(let o=this.bufferLength;o<56;o++)n.setUint8(o,0);n.setUint32(56,s>>>0,!0),n.setUint32(60,Math.floor(s/4294967296),!0),this.hashBuffer(),this.finished=!0}let e=new DataView(new ArrayBuffer(16));for(let n=0;n<4;n++)e.setUint32(n*4,this.state[n],!0);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)})}hashBuffer(){let{buffer:e,state:n}=this,r=n[0],i=n[1],s=n[2],o=n[3];r=tn(r,i,s,o,e.getUint32(0,!0),7,3614090360),o=tn(o,r,i,s,e.getUint32(4,!0),12,3905402710),s=tn(s,o,r,i,e.getUint32(8,!0),17,606105819),i=tn(i,s,o,r,e.getUint32(12,!0),22,3250441966),r=tn(r,i,s,o,e.getUint32(16,!0),7,4118548399),o=tn(o,r,i,s,e.getUint32(20,!0),12,1200080426),s=tn(s,o,r,i,e.getUint32(24,!0),17,2821735955),i=tn(i,s,o,r,e.getUint32(28,!0),22,4249261313),r=tn(r,i,s,o,e.getUint32(32,!0),7,1770035416),o=tn(o,r,i,s,e.getUint32(36,!0),12,2336552879),s=tn(s,o,r,i,e.getUint32(40,!0),17,4294925233),i=tn(i,s,o,r,e.getUint32(44,!0),22,2304563134),r=tn(r,i,s,o,e.getUint32(48,!0),7,1804603682),o=tn(o,r,i,s,e.getUint32(52,!0),12,4254626195),s=tn(s,o,r,i,e.getUint32(56,!0),17,2792965006),i=tn(i,s,o,r,e.getUint32(60,!0),22,1236535329),r=nn(r,i,s,o,e.getUint32(4,!0),5,4129170786),o=nn(o,r,i,s,e.getUint32(24,!0),9,3225465664),s=nn(s,o,r,i,e.getUint32(44,!0),14,643717713),i=nn(i,s,o,r,e.getUint32(0,!0),20,3921069994),r=nn(r,i,s,o,e.getUint32(20,!0),5,3593408605),o=nn(o,r,i,s,e.getUint32(40,!0),9,38016083),s=nn(s,o,r,i,e.getUint32(60,!0),14,3634488961),i=nn(i,s,o,r,e.getUint32(16,!0),20,3889429448),r=nn(r,i,s,o,e.getUint32(36,!0),5,568446438),o=nn(o,r,i,s,e.getUint32(56,!0),9,3275163606),s=nn(s,o,r,i,e.getUint32(12,!0),14,4107603335),i=nn(i,s,o,r,e.getUint32(32,!0),20,1163531501),r=nn(r,i,s,o,e.getUint32(52,!0),5,2850285829),o=nn(o,r,i,s,e.getUint32(8,!0),9,4243563512),s=nn(s,o,r,i,e.getUint32(28,!0),14,1735328473),i=nn(i,s,o,r,e.getUint32(48,!0),20,2368359562),r=rn(r,i,s,o,e.getUint32(20,!0),4,4294588738),o=rn(o,r,i,s,e.getUint32(32,!0),11,2272392833),s=rn(s,o,r,i,e.getUint32(44,!0),16,1839030562),i=rn(i,s,o,r,e.getUint32(56,!0),23,4259657740),r=rn(r,i,s,o,e.getUint32(4,!0),4,2763975236),o=rn(o,r,i,s,e.getUint32(16,!0),11,1272893353),s=rn(s,o,r,i,e.getUint32(28,!0),16,4139469664),i=rn(i,s,o,r,e.getUint32(40,!0),23,3200236656),r=rn(r,i,s,o,e.getUint32(52,!0),4,681279174),o=rn(o,r,i,s,e.getUint32(0,!0),11,3936430074),s=rn(s,o,r,i,e.getUint32(12,!0),16,3572445317),i=rn(i,s,o,r,e.getUint32(24,!0),23,76029189),r=rn(r,i,s,o,e.getUint32(36,!0),4,3654602809),o=rn(o,r,i,s,e.getUint32(48,!0),11,3873151461),s=rn(s,o,r,i,e.getUint32(60,!0),16,530742520),i=rn(i,s,o,r,e.getUint32(8,!0),23,3299628645),r=sn(r,i,s,o,e.getUint32(0,!0),6,4096336452),o=sn(o,r,i,s,e.getUint32(28,!0),10,1126891415),s=sn(s,o,r,i,e.getUint32(56,!0),15,2878612391),i=sn(i,s,o,r,e.getUint32(20,!0),21,4237533241),r=sn(r,i,s,o,e.getUint32(48,!0),6,1700485571),o=sn(o,r,i,s,e.getUint32(12,!0),10,2399980690),s=sn(s,o,r,i,e.getUint32(40,!0),15,4293915773),i=sn(i,s,o,r,e.getUint32(4,!0),21,2240044497),r=sn(r,i,s,o,e.getUint32(32,!0),6,1873313359),o=sn(o,r,i,s,e.getUint32(60,!0),10,4264355552),s=sn(s,o,r,i,e.getUint32(24,!0),15,2734768916),i=sn(i,s,o,r,e.getUint32(52,!0),21,1309151649),r=sn(r,i,s,o,e.getUint32(16,!0),6,4149444226),o=sn(o,r,i,s,e.getUint32(44,!0),10,3174756917),s=sn(s,o,r,i,e.getUint32(8,!0),15,718787259),i=sn(i,s,o,r,e.getUint32(36,!0),21,3951481745),n[0]=r+n[0]&4294967295,n[1]=i+n[1]&4294967295,n[2]=s+n[2]&4294967295,n[3]=o+n[3]&4294967295}reset(){this.state=Uint32Array.from(kB),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}};function Yg(t,e,n,r,i,s){return e=(e+t&4294967295)+(r+s&4294967295)&4294967295,(e<<i|e>>>32-i)+n&4294967295}function tn(t,e,n,r,i,s,o){return Yg(e&n|~e&r,t,e,i,s,o)}function nn(t,e,n,r,i,s,o){return Yg(e&r|n&~r,t,e,i,s,o)}function rn(t,e,n,r,i,s,o){return Yg(e^n^r,t,e,i,s,o)}function sn(t,e,n,r,i,s,o){return Yg(n^(e|~r),t,e,i,s,o)}function rJ(t){return typeof t=="string"?t.length===0:t.byteLength===0}function iJ(t){return typeof t=="string"?On(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var OB=typeof TextEncoder=="function"?new TextEncoder:null,FB=t=>{if(typeof t=="string"){if(OB)return OB.encode(t).byteLength;let e=t.length;for(let n=e-1;n>=0;n--){let r=t.charCodeAt(n);r>127&&r<=2047?e++:r>2047&&r<=65535&&(e+=2),r>=56320&&r<=57343&&n--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)};var LB=t=>({apiVersion:"2006-03-01",base64Decoder:t?.base64Decoder??Dc,base64Encoder:t?.base64Encoder??No,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??Eg,extensions:t?.extensions??[],getAwsChunkedEncodingStream:t?.getAwsChunkedEncodingStream??HO,httpAuthSchemeProvider:t?.httpAuthSchemeProvider??k2,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new To},{schemeId:"aws.auth#sigv4a",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4a"),signer:new ed}],logger:t?.logger??new Cs,sdkStreamMixin:t?.sdkStreamMixin??KO,serviceId:t?.serviceId??"S3",signerConstructor:t?.signerConstructor??lg,signingEscapePath:t?.signingEscapePath??!1,urlParser:t?.urlParser??Fc,useArnRegion:t?.useArnRegion??!1,utf8Decoder:t?.utf8Decoder??On,utf8Encoder:t?.utf8Encoder??Rc});var BB=Oy(CS());var VB=["in-region","cross-region","mobile","standard","legacy"];var UB=({defaultsMode:t}={})=>e1(()=>g(void 0,null,function*(){let e=typeof t=="function"?yield t():t;switch(e?.toLowerCase()){case"auto":return Promise.resolve(sJ()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${VB.join(", ")}, got ${e}`)}})),sJ=()=>{let e=(typeof window<"u"&&window?.navigator?.userAgent?BB.default.parse(window.navigator.userAgent):void 0)?.platform?.type;return e==="tablet"||e==="mobile"};var jB=t=>{let e=UB(t),n=()=>e().then(U1),r=LB(t);return O(E(E({},r),t),{runtime:"browser",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??FB,credentialDefaultProvider:t?.credentialDefaultProvider??(i=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:t?.defaultUserAgentProvider??_B({serviceId:r.serviceId,clientVersion:aB.version}),eventStreamSerdeProvider:t?.eventStreamSerdeProvider??TB,maxAttempts:t?.maxAttempts??xs,md5:t?.md5??Qg,region:t?.region??PB("Region is missing"),requestHandler:Kg.create(t?.requestHandler??n),retryMode:t?.retryMode??(()=>g(void 0,null,function*(){return(yield n()).retryMode||SI})),sha1:t?.sha1??uB,sha256:t?.sha256??yB,streamCollector:t?.streamCollector??RB,streamHasher:t?.streamHasher??MB,useDualstackEndpoint:t?.useDualstackEndpoint??(()=>Promise.resolve(BL)),useFipsEndpoint:t?.useFipsEndpoint??(()=>Promise.resolve(UL))})};var $B=t=>{let e=()=>g(void 0,null,function*(){if(t.region===void 0)throw new Error("Region is missing from runtimeConfig");let n=t.region;return typeof n=="string"?n:n()});return{setRegion(n){e=n},region(){return e}}},HB=t=>({region:t.region()});var qB=t=>{let e=t.httpAuthSchemes,n=t.httpAuthSchemeProvider,r=t.credentials;return{setHttpAuthScheme(i){let s=e.findIndex(o=>o.schemeId===i.schemeId);s===-1?e.push(i):e.splice(s,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){n=i},httpAuthSchemeProvider(){return n},setCredentials(i){r=i},credentials(){return r}}},zB=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()});var Zg=t=>t,GB=(t,e)=>{let n=E(E(E(E({},Zg($B(t))),Zg(z1(t))),Zg(TO(t))),Zg(qB(t)));return e.forEach(r=>r.configure(n)),E(E(E(E(E({},t),HB(n)),G1(n)),DO(n)),zB(n))};var Xg=class extends Om{constructor(...[e]){let n=jB(e||{}),r=F2(n),i=fL(r),s=jF(i),o=cV(s),a=jL(o),c=a,u=YL(c),d=$L(u),h=O2(d),m=aL(h,{session:[()=>this,Bg]}),y=GB(m,e?.extensions||[]);super(y),this.config=y,this.middlewareStack.use(VL(this.config)),this.middlewareStack.use(uV(this.config)),this.middlewareStack.use(qL(this.config)),this.middlewareStack.use($F(this.config)),this.middlewareStack.use(HF(this.config)),this.middlewareStack.use(zF(this.config)),this.middlewareStack.use(OO(this.config,{httpAuthSchemeParametersProvider:N2,identityProviderConfigProvider:_=>g(this,null,function*(){return new xm({"aws.auth#sigv4":_.credentials,"aws.auth#sigv4a":_.credentials})})})),this.middlewareStack.use(BO(this.config)),this.middlewareStack.use(dL(this.config)),this.middlewareStack.use(RO(this.config)),this.middlewareStack.use(QF(this.config)),this.middlewareStack.use(hI(this.config)),this.middlewareStack.use(pI(this.config))}destroy(){super.destroy()}};function aJ(t){return e=>n=>g(this,null,function*(){let r=E({},n.input),i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let s of i){let o=r[s.target];if(o){let a;typeof o=="string"?lJ(o,t)?a=t.base64Decoder(o):(a=t.utf8Decoder(o),r[s.target]=t.base64Encoder(a)):(a=ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o),r[s.target]=t.base64Encoder(a));let c=new t.md5;c.update(a),r[s.hash]=t.base64Encoder(yield c.digest())}}return e(O(E({},n),{input:r}))})}var cJ={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},WB=t=>({applyToStack:e=>{e.add(aJ(t),cJ)}});function lJ(t,e){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t))return!1;try{return e.base64Decoder(t).length===32}catch{return!1}}var Jg=class extends ko.classBuilder().ep(O(E({},wg),{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(e,n,r,i){return[wm(r,this.serialize,this.deserialize),tg(r,e.getEndpointParameterInstructions()),UF(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}),GF(r),$m(r),WB(r)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(U2,B2).ser(z2).de(W2).build(){};var bd={bucketName:"clinic-profile-images",region:"nyc3",accessKeyId:"DO00U2C2Q94HAEM78V2Q",secretAccessKey:"Vj8Gg8mgZ0p78/cy6TadY3a/dJ1Al1Z6DfcDKhkHENA"};var ey=class t{s3Client;bucketName=bd.bucketName;region=bd.region;constructor(){this.s3Client=new Xg({region:this.region,endpoint:"https://nyc3.digitaloceanspaces.com",credentials:{accessKeyId:bd.accessKeyId,secretAccessKey:bd.secretAccessKey}})}uploadImage(e){return g(this,null,function*(){let n=new Jg({Bucket:this.bucketName,Key:e.name,Body:e,ACL:"public-read"});try{return yield this.s3Client.send(n),`https://${this.bucketName}.nyc3.digitaloceanspaces.com/${e.name}`}catch(r){console.error("Error al subir la imagen",r);let i=r;throw new Error(`Error al subir la imagen: ${i.message}`)}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ns=class t{userSubject=new It(this.isLoggedIn());user$=this.userSubject.asObservable();isLoggedIn(){return!!localStorage.getItem("user")}login(){this.userSubject.next(!0)}logout(){localStorage.removeItem("user"),this.userSubject.next(!1)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})};function dJ(t,e){if(t&1){let n=ui();H(0,"div",4)(1,"div",5),ut("click",function(){Dr(n);let i=ot();return Rr(i.selectType("paciente"))}),H(2,"h5",6),W(3,"Paciente"),V()(),H(4,"div",7),ut("click",function(){Dr(n);let i=ot();return Rr(i.selectType("especialista"))}),H(5,"h5",6),W(6,"Especialista"),V()()()}}function fJ(t,e){t&1&&(H(0,"div",24),W(1," El nombre es requerido y solo puede contener letras. "),V())}function hJ(t,e){t&1&&(H(0,"div",24),W(1," El apellido es requerido y solo puede contener letras. "),V())}function pJ(t,e){t&1&&(H(0,"div",24),W(1," La edad es requerida y debe ser un n\xFAmero positivo. "),V())}function mJ(t,e){t&1&&(H(0,"div",24),W(1," El DNI es requerido y debe tener 10 d\xEDgitos. "),V())}function gJ(t,e){t&1&&(H(0,"div",24),W(1," La obra social es requerida. "),V())}function yJ(t,e){if(t&1&&(H(0,"div",9)(1,"label",29),W(2,"Obra Social"),V(),Je(3,"input",30),je(4,gJ,2,0,"div",12),V()),t&2){let n,r=ot(2);ne(4),fe("ngIf",((n=r.registerForm.get("obraSocial"))==null?null:n.invalid)&&((n=r.registerForm.get("obraSocial"))==null?null:n.touched))}}function vJ(t,e){t&1&&(H(0,"div",24),W(1," La especialidad es requerida. "),V())}function _J(t,e){t&1&&Je(0,"input",39)}function EJ(t,e){t&1&&(H(0,"div",24),W(1," La especialidad es requerida y solo puede contener letras. "),V())}function wJ(t,e){if(t&1){let n=ui();H(0,"div",9)(1,"label",31),W(2,"Especialidad"),V(),H(3,"select",32),ut("change",function(i){Dr(n);let s=ot(2);return Rr(s.onEspecialidadChange(i))}),H(4,"option",33),W(5,"Selecciona una especialidad"),V(),H(6,"option",34),W(7,"Medicina"),V(),H(8,"option",35),W(9,"Odontolog\xEDa"),V(),H(10,"option",36),W(11,"Psicolog\xEDa"),V(),H(12,"option",37),W(13,"Otra"),V()(),je(14,vJ,2,0,"div",12)(15,_J,1,0,"input",38)(16,EJ,2,0,"div",12),V()}if(t&2){let n,r,i,s=ot(2);ne(14),fe("ngIf",((n=s.registerForm.get("especialidad"))==null?null:n.invalid)&&((n=s.registerForm.get("especialidad"))==null?null:n.touched)),ne(),fe("ngIf",((r=s.registerForm.get("especialidad"))==null?null:r.value)==="otra"),ne(),fe("ngIf",((i=s.registerForm.get("nuevaEspecialidad"))==null?null:i.invalid)&&((i=s.registerForm.get("nuevaEspecialidad"))==null?null:i.touched))}}function bJ(t,e){t&1&&(H(0,"div",24),W(1," Por favor, ingresa un correo v\xE1lido. "),V())}function CJ(t,e){t&1&&(H(0,"div",24),W(1," La contrase\xF1a es requerida y debe tener al menos 6 caracteres. "),V())}function IJ(t,e){if(t&1){let n=ui();H(0,"div",9)(1,"label",40),W(2,"Imagen de Perfil 1"),V(),H(3,"input",41),ut("change",function(i){Dr(n);let s=ot(2);return Rr(s.onFileChange(i,"perfil1"))}),V()()}}function SJ(t,e){if(t&1){let n=ui();H(0,"div",9)(1,"label",42),W(2,"Imagen de Perfil 2"),V(),H(3,"input",43),ut("change",function(i){Dr(n);let s=ot(2);return Rr(s.onFileChange(i,"perfil2"))}),V()()}}function xJ(t,e){if(t&1){let n=ui();H(0,"div",9)(1,"label",44),W(2,"Imagen de Perfil"),V(),H(3,"input",45),ut("change",function(i){Dr(n);let s=ot(2);return Rr(s.onFileChange(i,"perfil1"))}),V()()}}function AJ(t,e){t&1&&(H(0,"div"),W(1," Debes cargar ambas im\xE1genes de perfil. "),V())}function TJ(t,e){t&1&&(H(0,"div"),W(1," Debes cargar la imagen de perfil. "),V())}function DJ(t,e){t&1&&(H(0,"div",46)(1,"div",47)(2,"span",48),W(3,"Cargando..."),V()()())}function RJ(t,e){if(t&1&&(H(0,"div",49),W(1),V()),t&2){let n=ot(2);ne(),Na(" ",n.errorMessage," ")}}function NJ(t,e){if(t&1){let n=ui();H(0,"form",8),ut("ngSubmit",function(){Dr(n);let i=ot();return Rr(i.onSubmit())}),H(1,"div",9)(2,"label",10),W(3,"Nombre"),V(),Je(4,"input",11),je(5,fJ,2,0,"div",12),V(),H(6,"div",9)(7,"label",13),W(8,"Apellido"),V(),Je(9,"input",14),je(10,hJ,2,0,"div",12),V(),H(11,"div",9)(12,"label",15),W(13,"Edad"),V(),Je(14,"input",16),je(15,pJ,2,0,"div",12),V(),H(16,"div",9)(17,"label",17),W(18,"DNI"),V(),Je(19,"input",18),je(20,mJ,2,0,"div",12),V(),je(21,yJ,5,1,"div",19)(22,wJ,17,3,"div",19),H(23,"div",9)(24,"label",20),W(25,"Mail"),V(),Je(26,"input",21),je(27,bJ,2,0,"div",12),V(),H(28,"div",9)(29,"label",22),W(30,"Contrase\xF1a"),V(),Je(31,"input",23),je(32,CJ,2,0,"div",12),V(),je(33,IJ,4,0,"div",19)(34,SJ,4,0,"div",19)(35,xJ,4,0,"div",19),H(36,"div",24),je(37,AJ,2,0,"div",25)(38,TJ,2,0,"div",25),V(),H(39,"button",26),W(40," Registrar "),V(),je(41,DJ,4,0,"div",27)(42,RJ,2,1,"div",28),V()}if(t&2){let n,r,i,s,o,a,c=ot();fe("formGroup",c.registerForm),ne(5),fe("ngIf",((n=c.registerForm.get("nombre"))==null?null:n.invalid)&&((n=c.registerForm.get("nombre"))==null?null:n.touched)),ne(5),fe("ngIf",((r=c.registerForm.get("apellido"))==null?null:r.invalid)&&((r=c.registerForm.get("apellido"))==null?null:r.touched)),ne(5),fe("ngIf",((i=c.registerForm.get("edad"))==null?null:i.invalid)&&((i=c.registerForm.get("edad"))==null?null:i.touched)),ne(5),fe("ngIf",((s=c.registerForm.get("dni"))==null?null:s.invalid)&&((s=c.registerForm.get("dni"))==null?null:s.touched)),ne(),fe("ngIf",!c.isSpecialist),ne(),fe("ngIf",c.isSpecialist),ne(5),fe("ngIf",((o=c.registerForm.get("email"))==null?null:o.invalid)&&((o=c.registerForm.get("email"))==null?null:o.touched)),ne(5),fe("ngIf",((a=c.registerForm.get("password"))==null?null:a.invalid)&&((a=c.registerForm.get("password"))==null?null:a.touched)),ne(),fe("ngIf",!c.isSpecialist),ne(),fe("ngIf",!c.isSpecialist),ne(),fe("ngIf",c.isSpecialist),ne(2),fe("ngIf",!c.perfil1Loaded&&!c.perfil2Loaded&&!c.isSpecialist),ne(),fe("ngIf",!c.perfil1Loaded&&c.isSpecialist),ne(),fe("disabled",c.registerForm.invalid||!c.isSpecialist&&(!c.perfil1Loaded||!c.perfil2Loaded)||c.isSpecialist&&!c.perfil1Loaded),ne(2),fe("ngIf",c.loading),ne(),fe("ngIf",c.errorMessage)}}var ty=class t{constructor(e,n,r,i,s,o){this.fb=e;this.auth=n;this.firestore=r;this.router=i;this.imagesService=s;this.authService=o;this.registerForm=this.fb.group({nombre:["",[qe.required,qe.pattern(/^[a-zA-Z\s]*$/)]],apellido:["",[qe.required,qe.pattern(/^[a-zA-Z\s]*$/)]],edad:["",[qe.required,qe.min(0)]],dni:["",[qe.required,qe.pattern(/^\d{8}$/)]],obraSocial:["",[qe.required,qe.pattern(/^[a-zA-Z\s]*$/)]],email:["",[qe.required,qe.email]],password:["",[qe.required,qe.minLength(6)]],perfil1:[null],perfil2:[null],especialidad:["",[qe.required,qe.pattern(/^[a-zA-Z\s]*$/)]],nuevaEspecialidad:[""]})}registerForm;isSpecialist=!1;selectedType="";title="Seleccione un tipo de usuario";perfil1Loaded=!1;perfil2Loaded=!1;errorMessage="";loading=!1;onFileChange(e,n){let r=e.target.files[0];r&&(this.registerForm.patchValue({[n]:r}),n==="perfil1"?this.perfil1Loaded=!0:n==="perfil2"&&(this.perfil2Loaded=!0))}resetImages(){this.perfil1Loaded=!1,this.perfil2Loaded=!1}selectType(e){this.title="Registro de "+e,this.selectedType=e,this.isSpecialist=e==="especialista",this.updateValidators()}onEspecialidadChange(e){let n=e.target.value,r=this.registerForm.get("nuevaEspecialidad");n==="otra"?r?.setValidators([qe.required,qe.pattern(/^[a-zA-Z\s]*$/)]):(r?.clearValidators(),r?.setValue("")),r?.updateValueAndValidity()}updateValidators(){let e=this.registerForm.get("obraSocial"),n=this.registerForm.get("especialidad");this.isSpecialist?(e?.clearValidators(),e?.setValue(""),n?.setValidators([qe.required])):(n?.clearValidators(),n?.setValue(""),e?.setValidators([qe.required])),e?.updateValueAndValidity(),n?.updateValueAndValidity()}onSubmit(){return g(this,null,function*(){this.registerForm.valid&&(this.loading=!0,bP(this.auth,this.registerForm.value.email,this.registerForm.value.password).then(e=>g(this,null,function*(){let n=e.user;console.log("Usuario creado",n);try{yield IP(n),console.log("Email de verificaci\xF3n enviado")}catch(i){console.error("Error al enviar email de verificaci\xF3n",i)}let r=yield this.imagesService.uploadImage(this.registerForm.value.perfil1);if(this.isSpecialist)yield this.logUser(r,"");else{let i=yield this.imagesService.uploadImage(this.registerForm.value.perfil2);yield this.logUser(r,i)}this.router.navigate(["/login"])})).catch(e=>{switch(e.code){case"auth/email-already-in-use":this.errorMessage="El email ya est\xE1 en uso";break;case"auth/invalid-email":this.errorMessage="El email no es v\xE1lido";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a tiene que tener al menos 6 caracteres";break;default:this.errorMessage="Error al registrar el usuario";break}this.loading=!1}).finally(()=>{this.loading=!1}))})}logUser(e,n){return g(this,null,function*(){let r=_m(this.firestore,"users"),i={nombre:this.registerForm.value.nombre,apellido:this.registerForm.value.apellido,edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,email:this.registerForm.value.email,perfil1:e};this.isSpecialist?(i.especialidad=this.registerForm.value.especialidad,i.profileValidatedByAdmin=!1):(i.obraSocial=this.registerForm.value.obraSocial,i.perfil2=n);try{yield bO(r,i),console.log("Usuario registrado en Firestore:",i)}catch(s){console.error("Error al registrar el usuario en Firestore:",s)}})}static \u0275fac=function(n){return new(n||t)(oe(np),oe(Ii),oe(Ri),oe(mi),oe(ey),oe(Ns))};static \u0275cmp=Kt({type:t,selectors:[["app-register"]],standalone:!0,features:[Qt],decls:5,vars:3,consts:[[1,"container","mt-5"],[1,"text-center"],["class","d-flex flex-wrap justify-content-center mb-4",4,"ngIf"],["class","container-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-center","mb-4"],[1,"card","p-5","mx-2","option-card","bg-primary","text-white","shadow",3,"click"],[1,"text-center","option-title"],[1,"card","p-5","mx-2","option-card","bg-light","shadow",3,"click"],[1,"container-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","required","",1,"form-control"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","required","",1,"form-control"],["class","mb-3",4,"ngIf"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","required","",1,"form-control"],[1,"text-danger"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["for","obraSocial",1,"form-label"],["type","text","id","obraSocial","formControlName","obraSocial","required","",1,"form-control"],["for","especialidad",1,"form-label"],["id","especialidad","formControlName","especialidad","required","",1,"form-select",3,"change"],["value",""],["value","medicina"],["value","odontologia"],["value","psicologia"],["value","otra"],["type","text","class","form-control mt-2","placeholder","Agregar nueva especialidad","formControlName","nuevaEspecialidad",4,"ngIf"],["type","text","placeholder","Agregar nueva especialidad","formControlName","nuevaEspecialidad",1,"form-control","mt-2"],["for","perfil1",1,"form-label"],["type","file","id","perfil1","accept","image/*","required","",1,"form-control",3,"change"],["for","perfil2",1,"form-label"],["type","file","id","perfil2","accept","image/*","required","",1,"form-control",3,"change"],["for","perfil",1,"form-label"],["type","file","id","perfil","accept","image/*","required","",1,"form-control",3,"change"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(n,r){n&1&&(H(0,"div",0)(1,"h2",1),W(2),V(),je(3,dJ,7,0,"div",2)(4,NJ,43,17,"form",3),V()),n&2&&(ne(2),wn(r.title),ne(),fe("ngIf",!r.selectedType),ne(),fe("ngIf",r.selectedType))},dependencies:[rp,ep,GN,KN,Ka,tw,tp,Zh,Xh,du,lu,uu,is,Ol],styles:[".option-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s,box-shadow .3s;border-radius:15px;width:350px;height:250px;display:flex;justify-content:center;align-items:center;text-align:center;box-shadow:0 4px 12px #0003;margin:20px}.option-card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 24px #0000004d}.option-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.3)}.bg-primary[_ngcontent-%COMP%]{background-color:#007bff}.bg-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.bg-light[_ngcontent-%COMP%]{background-color:#f8f9fa}.bg-light[_ngcontent-%COMP%]:hover{background-color:#e2e6ea}h2[_ngcontent-%COMP%]{font-size:2.5vw;font-weight:700;margin-bottom:20px}.container-form[_ngcontent-%COMP%]{background-color:#fff;padding:30px;margin-bottom:20px;border-radius:10px;box-shadow:0 4px 8px #0000001a}@media (max-width: 768px){.option-card[_ngcontent-%COMP%]{width:80vw;height:30vh}h2[_ngcontent-%COMP%]{font-size:5vw}.container-form[_ngcontent-%COMP%]{padding:20px}}@media (max-width: 576px){.option-card[_ngcontent-%COMP%]{height:25vh}h2[_ngcontent-%COMP%]{font-size:6vw}.container-form[_ngcontent-%COMP%]{padding:15px}}@media (min-width: 769px){.option-card[_ngcontent-%COMP%]{width:400px;height:300px}}"]})};function MJ(t,e){t&1&&(H(0,"div",12),W(1," Por favor, ingresa un correo v\xE1lido. "),V())}function PJ(t,e){t&1&&(H(0,"div",12),W(1," La contrase\xF1a es requerida. "),V())}function kJ(t,e){if(t&1&&(H(0,"div",13),W(1),V()),t&2){let n=ot();ne(),Na(" ",n.errorMessage," ")}}function OJ(t,e){t&1&&(H(0,"div",14)(1,"div",15)(2,"span",16),W(3,"Cargando..."),V()()())}var ny=class t{constructor(e,n,r,i,s){this.fb=e;this.firestore=n;this.auth=r;this.router=i;this.authService=s;this.loginForm=this.fb.group({email:["",[qe.required,qe.email]],password:["",[qe.required,qe.minLength(6)]]})}loginForm;errorMessage=null;loading=!1;sub;onSubmit(){return g(this,null,function*(){if(this.loginForm.valid){this.loading=!0;let{email:e,password:n}=this.loginForm.value;try{let r=e.toLowerCase(),s=(yield SP(this.auth,r,n)).user;if(!s.emailVerified){this.errorMessage="Por favor, verifica tu correo electr\xF3nico antes de iniciar sesi\xF3n.";return}if(yield this.getUser(r))console.log("Inicio de sesi\xF3n exitoso",s),this.errorMessage=null,this.authService.login(),this.router.navigate(["/home"]);else{this.errorMessage="El usuario no ha sido validado por el administrador.";return}}catch(r){console.error("Error al iniciar sesi\xF3n",r),this.errorMessage="Email y/o contrase\xF1a incorrecto."}finally{this.loading=!1}}})}getUser(e){return g(this,null,function*(){try{let n=_m(this.firestore,"users"),r=SO(n,xO("email","==",e)),i=yield CO(r);if(i.empty)return!1;{let s=i.docs[0].data();return s.profileValidatedByAdmin===!1?!1:(localStorage.setItem("user",JSON.stringify(s)),!0)}}catch(n){throw console.error("Error al obtener el usuario:",n),n}})}static \u0275fac=function(n){return new(n||t)(oe(np),oe(Ri),oe(Ii),oe(mi),oe(Ns))};static \u0275cmp=Kt({type:t,selectors:[["app-login"]],standalone:!0,features:[Qt],decls:18,vars:6,consts:[[1,"container","mt-5"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","autocomplete","email","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","autocomplete","current-password","required","",1,"form-control"],["class","text-danger mb-3",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],[1,"text-danger"],[1,"text-danger","mb-3"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(n,r){if(n&1&&(H(0,"div",0)(1,"h2",1),W(2,"Iniciar Sesi\xF3n"),V(),H(3,"form",2),ut("ngSubmit",function(){return r.onSubmit()}),H(4,"div",3)(5,"label",4),W(6,"Correo Electr\xF3nico"),V(),Je(7,"input",5),je(8,MJ,2,0,"div",6),V(),H(9,"div",3)(10,"label",7),W(11,"Contrase\xF1a"),V(),Je(12,"input",8),je(13,PJ,2,0,"div",6),V(),je(14,kJ,2,1,"div",9),H(15,"button",10),W(16," Iniciar Sesi\xF3n "),V()(),je(17,OJ,4,0,"div",11),V()),n&2){let i,s;ne(3),fe("formGroup",r.loginForm),ne(5),fe("ngIf",((i=r.loginForm.get("email"))==null?null:i.invalid)&&((i=r.loginForm.get("email"))==null?null:i.touched)),ne(5),fe("ngIf",((s=r.loginForm.get("password"))==null?null:s.invalid)&&((s=r.loginForm.get("password"))==null?null:s.touched)),ne(),fe("ngIf",r.errorMessage),ne(),fe("disabled",r.loginForm.invalid||r.loading),ne(2),fe("ngIf",r.loading)}},dependencies:[rp,ep,Ka,Zh,Xh,du,lu,uu,is],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#f0f2f5}.container[_ngcontent-%COMP%]{max-width:600px;width:90%;height:auto;padding:5%;border:1px solid #ced4da;border-radius:10px;background-color:#f8f9fa;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{font-size:2rem;color:#333;text-align:center;margin-bottom:20px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;border-color:#0056b3}.text-danger[_ngcontent-%COMP%]{font-size:.875rem}@media (max-width: 576px){.container[_ngcontent-%COMP%]{padding:25% 5%}h2[_ngcontent-%COMP%]{font-size:1.8rem}label[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 376px){.container[_ngcontent-%COMP%]{padding:6% 3%}h2[_ngcontent-%COMP%]{font-size:1.5rem}label[_ngcontent-%COMP%]{font-size:1rem}}"]})};function FJ(t,e){if(t&1&&(H(0,"div"),Je(1,"img",11),V()),t&2){let n=ot(2);ne(),fe("src",n.user.perfil1,lh)}}function LJ(t,e){if(t&1&&(H(0,"div",6)(1,"strong"),W(2,"Especialidad: "),V(),H(3,"span",9),W(4),V()()),t&2){let n=ot(2);ne(4),wn(n.user.especialidad)}}function VJ(t,e){if(t&1&&(H(0,"div",6)(1,"strong"),W(2,"Obra Social: "),V(),H(3,"span",9),W(4),V()()),t&2){let n=ot(2);ne(4),wn(n.user.obraSocial)}}function BJ(t,e){if(t&1&&(H(0,"div",6)(1,"div"),Je(2,"img",12),V()()),t&2){let n=ot(2);ne(2),fe("src",n.user.perfil2,lh)}}function UJ(t,e){if(t&1&&(H(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),je(4,FJ,2,1,"div",7),V()(),H(5,"div",8)(6,"div",6)(7,"strong"),W(8,"Nombre: "),V(),H(9,"span",9),W(10),V()(),H(11,"div",6)(12,"strong"),W(13,"Apellido: "),V(),H(14,"span",9),W(15),V()(),H(16,"div",6)(17,"strong"),W(18,"Edad: "),V(),H(19,"span",9),W(20),V()(),H(21,"div",6)(22,"strong"),W(23,"DNI: "),V(),H(24,"span",9),W(25),V()(),H(26,"div",6)(27,"strong"),W(28,"Email: "),V(),H(29,"span",9),W(30),V()(),je(31,LJ,5,1,"div",10)(32,VJ,5,1,"div",10),V(),H(33,"div",5),je(34,BJ,3,1,"div",10),V()()()),t&2){let n=ot();ne(4),fe("ngIf",n.user.perfil1),ne(6),wn(n.user.nombre),ne(5),wn(n.user.apellido),ne(5),wn(n.user.edad),ne(5),wn(n.user.dni),ne(5),wn(n.user.email),ne(),fe("ngIf",n.user.especialidad),ne(),fe("ngIf",n.user.obraSocial),ne(2),fe("ngIf",n.user.perfil2)}}var ry=class t{user;constructor(){}ngOnInit(){this.loadUser()}loadUser(){let e=localStorage.getItem("user");e&&(this.user=JSON.parse(e))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Kt({type:t,selectors:[["app-perfil"]],standalone:!0,features:[Qt],decls:4,vars:1,consts:[[1,"container","mt-5"],[1,"text-center","text-dark"],["class","profile-card bg-light p-4 rounded shadow",4,"ngIf"],[1,"profile-card","bg-light","p-4","rounded","shadow"],[1,"row"],[1,"col-md-4","text-center"],[1,"mb-3"],[4,"ngIf"],[1,"col-md-4"],[1,"text-muted"],["class","mb-3",4,"ngIf"],["alt","Perfil 1",1,"img-thumbnail","profile-img",3,"src"],["alt","Perfil 2",1,"img-thumbnail","profile-img",3,"src"]],template:function(n,r){n&1&&(H(0,"div",0)(1,"h2",1),W(2,"Perfil del Usuario"),V(),je(3,UJ,35,9,"div",2),V()),n&2&&(ne(3),fe("ngIf",r.user))},dependencies:[is,Ol],styles:[".container[_ngcontent-%COMP%]{max-width:1000px;margin:auto;background:#fffffff2;border-radius:10px;padding:40px;box-shadow:0 4px 20px #0000001a}h2[_ngcontent-%COMP%]{margin-bottom:30px;color:#0056b3}strong[_ngcontent-%COMP%]{color:#0056b3}.text-muted[_ngcontent-%COMP%]{color:#495057}.profile-img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:5px;border:2px solid #007bff}.profile-card[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;border-radius:10px;box-shadow:0 2px 10px #00000026}"]})};var KB=[{path:"home",title:"Home",component:Bh},{path:"",redirectTo:"home",pathMatch:"full"},{path:"register",title:"Register",component:ty},{path:"login",title:"Login",component:ny},{path:"perfil",title:"Perfil",component:ry}];var QB={projectId:"clinica-online-9aa96",appId:"1:439052174571:web:1456e09cacc106cf1eaaae",storageBucket:"clinica-online-9aa96.appspot.com",apiKey:"AIzaSyDrTHnOp6JR1tvhpz6Hqs-9BhY1HCwesRY",authDomain:"clinica-online-9aa96.firebaseapp.com",messagingSenderId:"439052174571"};var YB={providers:[lR({eventCoalescing:!0}),mN(KB),IM(()=>SM(QB)),wP(()=>CP()),wO(()=>IO())]};function jJ(t,e){t&1&&(H(0,"li",6)(1,"a",9),W(2,"Iniciar Sesi\xF3n"),V()())}function $J(t,e){t&1&&(H(0,"li",6)(1,"a",10),W(2,"Registrarse"),V()())}function HJ(t,e){t&1&&(H(0,"li",6)(1,"a",11),W(2,"Perfil"),V()())}function qJ(t,e){if(t&1){let n=ui();H(0,"li",6)(1,"button",12),ut("click",function(){Dr(n);let i=ot();return Rr(i.logout())}),W(2,"Cerrar Sesi\xF3n"),V()()}}var iy=class t{constructor(e,n){this.authService=e;this.router=n;this.authService.user$.subscribe(r=>{this.userInLocalStorage=r})}userInLocalStorage=!1;logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||t)(oe(Ns),oe(mi))};static \u0275cmp=Kt({type:t,selectors:[["app-navbar"]],standalone:!0,features:[Qt],decls:13,vars:4,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item","me-3"],["aria-current","page","routerLink","home",1,"nav-link","active","hover-effect"],["class","nav-item me-3",4,"ngIf"],["routerLink","login",1,"nav-link","hover-effect"],["routerLink","register",1,"nav-link","hover-effect"],["routerLink","perfil",1,"nav-link","hover-effect"],[1,"btn","btn-danger",3,"click"]],template:function(n,r){n&1&&(H(0,"nav",0)(1,"div",1)(2,"button",2),Je(3,"span",3),V(),H(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),W(8,"Inicio"),V()(),je(9,jJ,3,0,"li",8)(10,$J,3,0,"li",8)(11,HJ,3,0,"li",8)(12,qJ,3,0,"li",8),V()()()()),n&2&&(ne(9),fe("ngIf",!r.userInLocalStorage),ne(),fe("ngIf",!r.userInLocalStorage),ne(),fe("ngIf",r.userInLocalStorage),ne(),fe("ngIf",r.userInLocalStorage))},dependencies:[pN,is],styles:[".hover-effect[_ngcontent-%COMP%]{transition:box-shadow .3s ease,background-color .3s ease}.hover-effect[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0003;background-color:#007bff1a;border-radius:10px}"]})};var sy=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Kt({type:t,selectors:[["app-footer"]],standalone:!0,features:[Qt],decls:5,vars:0,consts:[[1,"nav","justify-content-center","flex-wrap"],[1,"nav-item"],["href","#",1,"nav-link"]],template:function(n,r){n&1&&(H(0,"footer")(1,"ul",0)(2,"li",1)(3,"a",2),W(4,"Repositorio de Github"),V()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;text-align:center;position:relative;bottom:0;width:100%}.nav[_ngcontent-%COMP%]{flex-wrap:wrap}.nav-link[_ngcontent-%COMP%]{margin:5px}"]})};var oy=class t{title="clinica-online";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Kt({type:t,selectors:[["app-root"]],standalone:!0,features:[Qt],decls:4,vars:0,consts:[[1,"app-container"]],template:function(n,r){n&1&&(Je(0,"app-navbar"),H(1,"div",0),Je(2,"router-outlet"),V(),Je(3,"app-footer"))},dependencies:[VE,iy,sy],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}.app-container[_ngcontent-%COMP%]{min-height:calc(100vh - 152px);display:flex;flex-direction:column;background:url("./media/fondo-clinica-RSVOCLWJ.jpg") no-repeat center center;background-size:cover}app-footer[_ngcontent-%COMP%]{flex-shrink:0}']})};NR(oy,YB).catch(t=>console.error(t));
