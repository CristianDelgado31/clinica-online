var Zj=Object.create;var Dw=Object.defineProperty,Jj=Object.defineProperties,Xj=Object.getOwnPropertyDescriptor,e$=Object.getOwnPropertyDescriptors,t$=Object.getOwnPropertyNames,Tp=Object.getOwnPropertySymbols,VT=Object.getPrototypeOf,Rw=Object.prototype.hasOwnProperty,BT=Object.prototype.propertyIsEnumerable,n$=Reflect.get;var Tw=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t);var LT=(t,e,n)=>e in t?Dw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I=(t,e)=>{for(var n in e||={})Rw.call(e,n)&&LT(t,n,e[n]);if(Tp)for(var n of Tp(e))BT.call(e,n)&&LT(t,n,e[n]);return t},q=(t,e)=>Jj(t,e$(e));var Ea=(t,e)=>{var n={};for(var r in t)Rw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Tp)for(var r of Tp(t))e.indexOf(r)<0&&BT.call(t,r)&&(n[r]=t[r]);return n};var Qn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var r$=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of t$(e))!Rw.call(t,i)&&i!==n&&Dw(t,i,{get:()=>e[i],enumerable:!(r=Xj(e,i))||r.enumerable});return t};var ba=(t,e,n)=>(n=t!=null?Zj(VT(t)):{},r$(e||!t||!t.__esModule?Dw(n,"default",{value:t,enumerable:!0}):n,t));var bi=(t,e,n)=>n$(VT(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(u){i(u)}},s=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())}),Ft=function(t,e){this[0]=t,this[1]=e},Yn=(t,e,n)=>{var r=(s,a,c,u)=>{try{var f=n[s](a),h=(a=f.value)instanceof Ft,y=f.done;Promise.resolve(h?a[0]:a).then(w=>h?r(s==="return"?s:"next",a[1]?{done:w.done,value:w.value}:w,c,u):c({value:w,done:y})).catch(w=>r("throw",w,c,u))}catch(w){u(w)}},i=s=>o[s]=a=>new Promise((c,u)=>r(s,a,c,u)),o={};return n=n.apply(t,e),o[Tw("asyncIterator")]=()=>o,i("next"),i("throw"),i("return"),o};var oo=(t,e,n)=>(e=t[Tw("asyncIterator")])?e.call(t):(t=t[Tw("iterator")](),e={},n=(r,i)=>(i=t[r])&&(e[r]=o=>new Promise((s,a,c)=>(o=i.call(t,o),c=o.done,Promise.resolve(o.value).then(u=>s({value:u,done:c}),a)))),n("next"),n("return"),e);var lh=Qn((Yi,vx)=>{"use strict";(function(t,e){typeof Yi=="object"&&typeof vx<"u"?vx.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(Yi,function(){"use strict";function t(d,p,v){if(typeof d=="function"?d===p:d.has(p))return arguments.length<3?p:v;throw new TypeError("Private element is not present on this object")}function e(d,p){if(p.has(d))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(d,p){return d.get(t(d,p))}function r(d,p,v){e(d,p),p.set(d,v)}function i(d,p,v){return d.set(t(d,p),v),v}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},c=d=>new Promise(p=>{if(!d)return p();let v=window.scrollX,C=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),p()},o),window.scrollTo(v,C)}),u="swal2-",h=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((d,p)=>(d[p]=u+p,d),{}),w=["success","warning","info","question","error"].reduce((d,p)=>(d[p]=u+p,d),{}),b="SweetAlert2:",L=d=>d.charAt(0).toUpperCase()+d.slice(1),M=d=>{console.warn(`${b} ${typeof d=="object"?d.join(" "):d}`)},j=d=>{console.error(`${b} ${d}`)},K=[],ee=d=>{K.includes(d)||(K.push(d),M(d))},ce=function(d){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;ee(`"${d}" is deprecated and will be removed in the next major release.${p?` Use "${p}" instead.`:""}`)},xe=d=>typeof d=="function"?d():d,de=d=>d&&typeof d.toPromise=="function",P=d=>de(d)?d.toPromise():Promise.resolve(d),x=d=>d&&Promise.resolve(d)===d,T=()=>document.body.querySelector(`.${h.container}`),N=d=>{let p=T();return p?p.querySelector(d):null},k=d=>N(`.${d}`),O=()=>k(h.popup),R=()=>k(h.icon),$r=()=>k(h["icon-content"]),Ho=()=>k(h.title),Wu=()=>k(h["html-container"]),qo=()=>k(h.image),ro=()=>k(h["progress-steps"]),zo=()=>k(h["validation-message"]),or=()=>N(`.${h.actions} .${h.confirm}`),Go=()=>N(`.${h.actions} .${h.cancel}`),bn=()=>N(`.${h.actions} .${h.deny}`),tn=()=>k(h["input-label"]),Wo=()=>N(`.${h.loader}`),Hr=()=>k(h.actions),Fh=()=>k(h.footer),hi=()=>k(h["timer-progress-bar"]),Ku=()=>k(h.close),lw=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ko=()=>{let d=O();if(!d)return[];let p=d.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),v=Array.from(p).sort((ne,Ne)=>{let et=parseInt(ne.getAttribute("tabindex")||"0"),Et=parseInt(Ne.getAttribute("tabindex")||"0");return et>Et?1:et<Et?-1:0}),C=d.querySelectorAll(lw),U=Array.from(C).filter(ne=>ne.getAttribute("tabindex")!=="-1");return[...new Set(v.concat(U))].filter(ne=>gn(ne))},Qo=()=>sr(document.body,h.shown)&&!sr(document.body,h["toast-shown"])&&!sr(document.body,h["no-backdrop"]),Yo=()=>{let d=O();return d?sr(d,h.toast):!1},Qu=()=>{let d=O();return d?d.hasAttribute("data-loading"):!1},mn=(d,p)=>{if(d.textContent="",p){let C=new DOMParser().parseFromString(p,"text/html"),U=C.querySelector("head");U&&Array.from(U.childNodes).forEach(Ne=>{d.appendChild(Ne)});let ne=C.querySelector("body");ne&&Array.from(ne.childNodes).forEach(Ne=>{Ne instanceof HTMLVideoElement||Ne instanceof HTMLAudioElement?d.appendChild(Ne.cloneNode(!0)):d.appendChild(Ne)})}},sr=(d,p)=>{if(!p)return!1;let v=p.split(/\s+/);for(let C=0;C<v.length;C++)if(!d.classList.contains(v[C]))return!1;return!0},Lh=(d,p)=>{Array.from(d.classList).forEach(v=>{!Object.values(h).includes(v)&&!Object.values(w).includes(v)&&!Object.values(p.showClass||{}).includes(v)&&d.classList.remove(v)})},Cn=(d,p,v)=>{if(Lh(d,p),!p.customClass)return;let C=p.customClass[v];if(C){if(typeof C!="string"&&!C.forEach){M(`Invalid type of customClass.${v}! Expected string or iterable object, got "${typeof C}"`);return}Ue(d,C)}},Nc=(d,p)=>{if(!p)return null;switch(p){case"select":case"textarea":case"file":return d.querySelector(`.${h.popup} > .${h[p]}`);case"checkbox":return d.querySelector(`.${h.popup} > .${h.checkbox} input`);case"radio":return d.querySelector(`.${h.popup} > .${h.radio} input:checked`)||d.querySelector(`.${h.popup} > .${h.radio} input:first-child`);case"range":return d.querySelector(`.${h.popup} > .${h.range} input`);default:return d.querySelector(`.${h.popup} > .${h.input}`)}},Yu=d=>{if(d.focus(),d.type!=="file"){let p=d.value;d.value="",d.value=p}},Zu=(d,p,v)=>{!d||!p||(typeof p=="string"&&(p=p.split(/\s+/).filter(Boolean)),p.forEach(C=>{Array.isArray(d)?d.forEach(U=>{v?U.classList.add(C):U.classList.remove(C)}):v?d.classList.add(C):d.classList.remove(C)}))},Ue=(d,p)=>{Zu(d,p,!0)},ar=(d,p)=>{Zu(d,p,!1)},pi=(d,p)=>{let v=Array.from(d.children);for(let C=0;C<v.length;C++){let U=v[C];if(U instanceof HTMLElement&&sr(U,p))return U}},qr=(d,p,v)=>{v===`${parseInt(v)}`&&(v=parseInt(v)),v||parseInt(v)===0?d.style.setProperty(p,typeof v=="number"?`${v}px`:v):d.style.removeProperty(p)},It=function(d){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";d&&(d.style.display=p)},Pt=d=>{d&&(d.style.display="none")},kt=function(d){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";d&&new MutationObserver(()=>{mi(d,d.innerHTML,p)}).observe(d,{childList:!0,subtree:!0})},nn=(d,p,v,C)=>{let U=d.querySelector(p);U&&U.style.setProperty(v,C)},mi=function(d,p){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";p?It(d,v):Pt(d)},gn=d=>!!(d&&(d.offsetWidth||d.offsetHeight||d.getClientRects().length)),Vh=()=>!gn(or())&&!gn(bn())&&!gn(Go()),Bh=d=>d.scrollHeight>d.clientHeight,Zo=d=>{let p=window.getComputedStyle(d),v=parseFloat(p.getPropertyValue("animation-duration")||"0"),C=parseFloat(p.getPropertyValue("transition-duration")||"0");return v>0||C>0},Pc=function(d){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=hi();v&&gn(v)&&(p&&(v.style.transition="none",v.style.width="100%"),setTimeout(()=>{v.style.transition=`width ${d/1e3}s linear`,v.style.width="0%"},10))},Uh=()=>{let d=hi();if(!d)return;let p=parseInt(window.getComputedStyle(d).width);d.style.removeProperty("transition"),d.style.width="100%";let v=parseInt(window.getComputedStyle(d).width),C=p/v*100;d.style.width=`${C}%`},Ju=()=>typeof window>"u"||typeof document>"u",uw=`
 <div aria-labelledby="${h.title}" aria-describedby="${h["html-container"]}" class="${h.popup}" tabindex="-1">
   <button type="button" class="${h.close}"></button>
   <ul class="${h["progress-steps"]}"></ul>
   <div class="${h.icon}"></div>
   <img class="${h.image}" />
   <h2 class="${h.title}" id="${h.title}"></h2>
   <div class="${h["html-container"]}" id="${h["html-container"]}"></div>
   <input class="${h.input}" id="${h.input}" />
   <input type="file" class="${h.file}" />
   <div class="${h.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${h.select}" id="${h.select}"></select>
   <div class="${h.radio}"></div>
   <label class="${h.checkbox}">
     <input type="checkbox" id="${h.checkbox}" />
     <span class="${h.label}"></span>
   </label>
   <textarea class="${h.textarea}" id="${h.textarea}"></textarea>
   <div class="${h["validation-message"]}" id="${h["validation-message"]}"></div>
   <div class="${h.actions}">
     <div class="${h.loader}"></div>
     <button type="button" class="${h.confirm}"></button>
     <button type="button" class="${h.deny}"></button>
     <button type="button" class="${h.cancel}"></button>
   </div>
   <div class="${h.footer}"></div>
   <div class="${h["timer-progress-bar-container"]}">
     <div class="${h["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),dw=()=>{let d=T();return d?(d.remove(),ar([document.documentElement,document.body],[h["no-backdrop"],h["toast-shown"],h["has-column"]]),!0):!1},zr=()=>{s.currentInstance.resetValidationMessage()},jh=()=>{let d=O(),p=pi(d,h.input),v=pi(d,h.file),C=d.querySelector(`.${h.range} input`),U=d.querySelector(`.${h.range} output`),ne=pi(d,h.select),Ne=d.querySelector(`.${h.checkbox} input`),et=pi(d,h.textarea);p.oninput=zr,v.onchange=zr,ne.onchange=zr,Ne.onchange=zr,et.oninput=zr,C.oninput=()=>{zr(),U.value=C.value},C.onchange=()=>{zr(),U.value=C.value}},$h=d=>typeof d=="string"?document.querySelector(d):d,oa=d=>{let p=O();p.setAttribute("role",d.toast?"alert":"dialog"),p.setAttribute("aria-live",d.toast?"polite":"assertive"),d.toast||p.setAttribute("aria-modal","true")},Xu=d=>{window.getComputedStyle(d).direction==="rtl"&&Ue(T(),h.rtl)},ed=d=>{let p=dw();if(Ju()){j("SweetAlert2 requires document to initialize");return}let v=document.createElement("div");v.className=h.container,p&&Ue(v,h["no-transition"]),mn(v,uw);let C=$h(d.target);C.appendChild(v),oa(d),Xu(C),jh()},Gr=(d,p)=>{d instanceof HTMLElement?p.appendChild(d):typeof d=="object"?Hh(d,p):d&&mn(p,d)},Hh=(d,p)=>{d.jquery?kc(p,d):mn(p,d.toString())},kc=(d,p)=>{if(d.textContent="",0 in p)for(let v=0;v in p;v++)d.appendChild(p[v].cloneNode(!0));else d.appendChild(p.cloneNode(!0))},qh=(d,p)=>{let v=Hr(),C=Wo();!v||!C||(!p.showConfirmButton&&!p.showDenyButton&&!p.showCancelButton?Pt(v):It(v),Cn(v,p,"actions"),sa(v,C,p),mn(C,p.loaderHtml||""),Cn(C,p,"loader"))};function sa(d,p,v){let C=or(),U=bn(),ne=Go();!C||!U||!ne||(zt(C,"confirm",v),zt(U,"deny",v),zt(ne,"cancel",v),zh(C,U,ne,v),v.reverseButtons&&(v.toast?(d.insertBefore(ne,C),d.insertBefore(U,C)):(d.insertBefore(ne,p),d.insertBefore(U,p),d.insertBefore(C,p))))}function zh(d,p,v,C){if(!C.buttonsStyling){ar([d,p,v],h.styled);return}Ue([d,p,v],h.styled),C.confirmButtonColor&&(d.style.backgroundColor=C.confirmButtonColor,Ue(d,h["default-outline"])),C.denyButtonColor&&(p.style.backgroundColor=C.denyButtonColor,Ue(p,h["default-outline"])),C.cancelButtonColor&&(v.style.backgroundColor=C.cancelButtonColor,Ue(v,h["default-outline"]))}function zt(d,p,v){let C=L(p);mi(d,v[`show${C}Button`],"inline-block"),mn(d,v[`${p}ButtonText`]||""),d.setAttribute("aria-label",v[`${p}ButtonAriaLabel`]||""),d.className=h[p],Cn(d,v,`${p}Button`)}let Gh=(d,p)=>{let v=Ku();v&&(mn(v,p.closeButtonHtml||""),Cn(v,p,"closeButton"),mi(v,p.showCloseButton),v.setAttribute("aria-label",p.closeButtonAriaLabel||""))},aa=(d,p)=>{let v=T();v&&(ca(v,p.backdrop),fw(v,p.position),hw(v,p.grow),Cn(v,p,"container"))};function ca(d,p){typeof p=="string"?d.style.background=p:p||Ue([document.documentElement,document.body],h["no-backdrop"])}function fw(d,p){p&&(p in h?Ue(d,h[p]):(M('The "position" parameter is not valid, defaulting to "center"'),Ue(d,h.center)))}function hw(d,p){p&&Ue(d,h[`grow-${p}`])}var Ye={innerParams:new WeakMap,domCache:new WeakMap};let pw=["input","file","range","select","radio","checkbox","textarea"],mw=(d,p)=>{let v=O();if(!v)return;let C=Ye.innerParams.get(d),U=!C||p.input!==C.input;pw.forEach(ne=>{let Ne=pi(v,h[ne]);Ne&&(td(ne,p.inputAttributes),Ne.className=h[ne],U&&Pt(Ne))}),p.input&&(U&&Oc(p),Fc(p))},Oc=d=>{if(!d.input)return;if(!pt[d.input]){j(`Unexpected type of input! Expected ${Object.keys(pt).join(" | ")}, got "${d.input}"`);return}let p=nd(d.input);if(!p)return;let v=pt[d.input](p,d);It(p),d.inputAutoFocus&&setTimeout(()=>{Yu(v)})},Wh=d=>{for(let p=0;p<d.attributes.length;p++){let v=d.attributes[p].name;["id","type","value","style"].includes(v)||d.removeAttribute(v)}},td=(d,p)=>{let v=O();if(!v)return;let C=Nc(v,d);if(C){Wh(C);for(let U in p)C.setAttribute(U,p[U])}},Fc=d=>{if(!d.input)return;let p=nd(d.input);p&&Cn(p,d,"input")},Cr=(d,p)=>{!d.placeholder&&p.inputPlaceholder&&(d.placeholder=p.inputPlaceholder)},Jo=(d,p,v)=>{if(v.inputLabel){let C=document.createElement("label"),U=h["input-label"];C.setAttribute("for",d.id),C.className=U,typeof v.customClass=="object"&&Ue(C,v.customClass.inputLabel),C.innerText=v.inputLabel,p.insertAdjacentElement("beforebegin",C)}},nd=d=>{let p=O();if(p)return pi(p,h[d]||h.input)},Xo=(d,p)=>{["string","number"].includes(typeof p)?d.value=`${p}`:x(p)||M(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof p}"`)},pt={};pt.text=pt.email=pt.password=pt.number=pt.tel=pt.url=pt.search=pt.date=pt["datetime-local"]=pt.time=pt.week=pt.month=(d,p)=>(Xo(d,p.inputValue),Jo(d,d,p),Cr(d,p),d.type=p.input,d),pt.file=(d,p)=>(Jo(d,d,p),Cr(d,p),d),pt.range=(d,p)=>{let v=d.querySelector("input"),C=d.querySelector("output");return Xo(v,p.inputValue),v.type=p.input,Xo(C,p.inputValue),Jo(v,d,p),d},pt.select=(d,p)=>{if(d.textContent="",p.inputPlaceholder){let v=document.createElement("option");mn(v,p.inputPlaceholder),v.value="",v.disabled=!0,v.selected=!0,d.appendChild(v)}return Jo(d,d,p),d},pt.radio=d=>(d.textContent="",d),pt.checkbox=(d,p)=>{let v=Nc(O(),"checkbox");v.value="1",v.checked=!!p.inputValue;let C=d.querySelector("span");return mn(C,p.inputPlaceholder||p.inputLabel),v},pt.textarea=(d,p)=>{Xo(d,p.inputValue),Cr(d,p),Jo(d,d,p);let v=C=>parseInt(window.getComputedStyle(C).marginLeft)+parseInt(window.getComputedStyle(C).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let C=parseInt(window.getComputedStyle(O()).width),U=()=>{if(!document.body.contains(d))return;let ne=d.offsetWidth+v(d);ne>C?O().style.width=`${ne}px`:qr(O(),"width",p.width)};new MutationObserver(U).observe(d,{attributes:!0,attributeFilter:["style"]})}}),d};let Kh=(d,p)=>{let v=Wu();v&&(kt(v),Cn(v,p,"htmlContainer"),p.html?(Gr(p.html,v),It(v,"block")):p.text?(v.textContent=p.text,It(v,"block")):Pt(v),mw(d,p))},Qh=(d,p)=>{let v=Fh();v&&(kt(v),mi(v,p.footer,"block"),p.footer&&Gr(p.footer,v),Cn(v,p,"footer"))},gw=(d,p)=>{let v=Ye.innerParams.get(d),C=R();if(C){if(v&&p.icon===v.icon){gi(C,p),la(C,p);return}if(!p.icon&&!p.iconHtml){Pt(C);return}if(p.icon&&Object.keys(w).indexOf(p.icon)===-1){j(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${p.icon}"`),Pt(C);return}It(C),gi(C,p),la(C,p),Ue(C,p.showClass&&p.showClass.icon)}},la=(d,p)=>{for(let[v,C]of Object.entries(w))p.icon!==v&&ar(d,C);Ue(d,p.icon&&w[p.icon]),id(d,p),Yh(),Cn(d,p,"icon")},Yh=()=>{let d=O();if(!d)return;let p=window.getComputedStyle(d).getPropertyValue("background-color"),v=d.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let C=0;C<v.length;C++)v[C].style.backgroundColor=p},rd=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,ua=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,gi=(d,p)=>{if(!p.icon&&!p.iconHtml)return;let v=d.innerHTML,C="";p.iconHtml?C=Zh(p.iconHtml):p.icon==="success"?(C=rd,v=v.replace(/ style=".*?"/g,"")):p.icon==="error"?C=ua:p.icon&&(C=Zh({question:"?",warning:"!",info:"i"}[p.icon])),v.trim()!==C.trim()&&mn(d,C)},id=(d,p)=>{if(p.iconColor){d.style.color=p.iconColor,d.style.borderColor=p.iconColor;for(let v of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])nn(d,v,"background-color",p.iconColor);nn(d,".swal2-success-ring","border-color",p.iconColor)}},Zh=d=>`<div class="${h["icon-content"]}">${d}</div>`,Jh=(d,p)=>{let v=qo();if(v){if(!p.imageUrl){Pt(v);return}It(v,""),v.setAttribute("src",p.imageUrl),v.setAttribute("alt",p.imageAlt||""),qr(v,"width",p.imageWidth),qr(v,"height",p.imageHeight),v.className=h.image,Cn(v,p,"image")}},Xh=(d,p)=>{let v=T(),C=O();if(!(!v||!C)){if(p.toast){qr(v,"width",p.width),C.style.width="100%";let U=Wo();U&&C.insertBefore(U,R())}else qr(C,"width",p.width);qr(C,"padding",p.padding),p.color&&(C.style.color=p.color),p.background&&(C.style.background=p.background),Pt(zo()),ep(C,p)}},ep=(d,p)=>{let v=p.showClass||{};d.className=`${h.popup} ${gn(d)?v.popup:""}`,p.toast?(Ue([document.documentElement,document.body],h["toast-shown"]),Ue(d,h.toast)):Ue(d,h.modal),Cn(d,p,"popup"),typeof p.customClass=="string"&&Ue(d,p.customClass),p.icon&&Ue(d,h[`icon-${p.icon}`])},od=(d,p)=>{let v=ro();if(!v)return;let{progressSteps:C,currentProgressStep:U}=p;if(!C||C.length===0||U===void 0){Pt(v);return}It(v),v.textContent="",U>=C.length&&M("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),C.forEach((ne,Ne)=>{let et=sd(ne);if(v.appendChild(et),Ne===U&&Ue(et,h["active-progress-step"]),Ne!==C.length-1){let Et=tp(p);v.appendChild(Et)}})},sd=d=>{let p=document.createElement("li");return Ue(p,h["progress-step"]),mn(p,d),p},tp=d=>{let p=document.createElement("li");return Ue(p,h["progress-step-line"]),d.progressStepsDistance&&qr(p,"width",d.progressStepsDistance),p},np=(d,p)=>{let v=Ho();v&&(kt(v),mi(v,p.title||p.titleText,"block"),p.title&&Gr(p.title,v),p.titleText&&(v.innerText=p.titleText),Cn(v,p,"title"))},rp=(d,p)=>{Xh(d,p),aa(d,p),od(d,p),gw(d,p),Jh(d,p),np(d,p),Gh(d,p),Kh(d,p),qh(d,p),Qh(d,p);let v=O();typeof p.didRender=="function"&&v&&p.didRender(v),s.eventEmitter.emit("didRender",v)},yw=()=>gn(O()),ad=()=>{var d;return(d=or())===null||d===void 0?void 0:d.click()},ip=()=>{var d;return(d=bn())===null||d===void 0?void 0:d.click()},vw=()=>{var d;return(d=Go())===null||d===void 0?void 0:d.click()},Wn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ir=d=>{d.keydownTarget&&d.keydownHandlerAdded&&(d.keydownTarget.removeEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!1)},Lc=(d,p,v)=>{Ir(d),p.toast||(d.keydownHandler=C=>Vc(p,C,v),d.keydownTarget=p.keydownListenerCapture?window:O(),d.keydownListenerCapture=p.keydownListenerCapture,d.keydownTarget.addEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!0)},es=(d,p)=>{var v;let C=Ko();if(C.length){d=d+p,d===C.length?d=0:d===-1&&(d=C.length-1),C[d].focus();return}(v=O())===null||v===void 0||v.focus()},cd=["ArrowRight","ArrowDown"],st=["ArrowLeft","ArrowUp"],Vc=(d,p,v)=>{d&&(p.isComposing||p.keyCode===229||(d.stopKeydownPropagation&&p.stopPropagation(),p.key==="Enter"?da(p,d):p.key==="Tab"?fa(p):[...cd,...st].includes(p.key)?_w(p.key):p.key==="Escape"&&op(p,d,v)))},da=(d,p)=>{if(!xe(p.allowEnterKey))return;let v=Nc(O(),p.input);if(d.target&&v&&d.target instanceof HTMLElement&&d.target.outerHTML===v.outerHTML){if(["textarea","file"].includes(p.input))return;ad(),d.preventDefault()}},fa=d=>{let p=d.target,v=Ko(),C=-1;for(let U=0;U<v.length;U++)if(p===v[U]){C=U;break}d.shiftKey?es(C,-1):es(C,1),d.stopPropagation(),d.preventDefault()},_w=d=>{let p=Hr(),v=or(),C=bn(),U=Go();if(!p||!v||!C||!U)return;let ne=[v,C,U];if(document.activeElement instanceof HTMLElement&&!ne.includes(document.activeElement))return;let Ne=cd.includes(d)?"nextElementSibling":"previousElementSibling",et=document.activeElement;if(et){for(let Et=0;Et<p.children.length;Et++){if(et=et[Ne],!et)return;if(et instanceof HTMLButtonElement&&gn(et))break}et instanceof HTMLButtonElement&&et.focus()}},op=(d,p,v)=>{xe(p.allowEscapeKey)&&(d.preventDefault(),v(Wn.esc))};var ts={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let ww=()=>{let d=T();Array.from(document.body.children).forEach(v=>{v.contains(d)||(v.hasAttribute("aria-hidden")&&v.setAttribute("data-previous-aria-hidden",v.getAttribute("aria-hidden")||""),v.setAttribute("aria-hidden","true"))})},sp=()=>{Array.from(document.body.children).forEach(p=>{p.hasAttribute("data-previous-aria-hidden")?(p.setAttribute("aria-hidden",p.getAttribute("data-previous-aria-hidden")||""),p.removeAttribute("data-previous-aria-hidden")):p.removeAttribute("aria-hidden")})},ap=typeof window<"u"&&!!window.GestureEvent,ha=()=>{if(ap&&!sr(document.body,h.iosfix)){let d=document.body.scrollTop;document.body.style.top=`${d*-1}px`,Ue(document.body,h.iosfix),yi()}},yi=()=>{let d=T();if(!d)return;let p;d.ontouchstart=v=>{p=cp(v)},d.ontouchmove=v=>{p&&(v.preventDefault(),v.stopPropagation())}},cp=d=>{let p=d.target,v=T(),C=Wu();return!v||!C||lp(d)||up(d)?!1:p===v||!Bh(v)&&p instanceof HTMLElement&&p.tagName!=="INPUT"&&p.tagName!=="TEXTAREA"&&!(Bh(C)&&C.contains(p))},lp=d=>d.touches&&d.touches.length&&d.touches[0].touchType==="stylus",up=d=>d.touches&&d.touches.length>1,ns=()=>{if(sr(document.body,h.iosfix)){let d=parseInt(document.body.style.top,10);ar(document.body,h.iosfix),document.body.style.top="",document.body.scrollTop=d*-1}},Ew=()=>{let d=document.createElement("div");d.className=h["scrollbar-measure"],document.body.appendChild(d);let p=d.getBoundingClientRect().width-d.clientWidth;return document.body.removeChild(d),p},rs=null,bw=d=>{rs===null&&(document.body.scrollHeight>window.innerHeight||d==="scroll")&&(rs=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${rs+Ew()}px`)},vi=()=>{rs!==null&&(document.body.style.paddingRight=`${rs}px`,rs=null)};function dp(d,p,v,C){Yo()?mt(d,C):(c(v).then(()=>mt(d,C)),Ir(s)),ap?(p.setAttribute("style","display:none !important"),p.removeAttribute("class"),p.innerHTML=""):p.remove(),Qo()&&(vi(),ns(),sp()),Cw()}function Cw(){ar([document.documentElement,document.body],[h.shown,h["height-auto"],h["no-backdrop"],h["toast-shown"]])}function Kn(d){d=pa(d);let p=ts.swalPromiseResolve.get(this),v=Bc(this);this.isAwaitingPromise?d.isDismissed||(Wr(this),p(d)):v&&p(d)}let Bc=d=>{let p=O();if(!p)return!1;let v=Ye.innerParams.get(d);if(!v||sr(p,v.hideClass.popup))return!1;ar(p,v.showClass.popup),Ue(p,v.hideClass.popup);let C=T();return ar(C,v.showClass.backdrop),Ue(C,v.hideClass.backdrop),fp(d,p,v),!0};function ld(d){let p=ts.swalPromiseReject.get(this);Wr(this),p&&p(d)}let Wr=d=>{d.isAwaitingPromise&&(delete d.isAwaitingPromise,Ye.innerParams.get(d)||d._destroy())},pa=d=>typeof d>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},d),fp=(d,p,v)=>{let C=T(),U=Zo(p);typeof v.willClose=="function"&&v.willClose(p),s.eventEmitter.emit("willClose",p),U?ud(d,p,C,v.returnFocus,v.didClose):dp(d,C,v.returnFocus,v.didClose)},ud=(d,p,v,C,U)=>{s.swalCloseEventFinishedCallback=dp.bind(null,d,v,C,U);let ne=function(Ne){Ne.target===p&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback,p.removeEventListener("animationend",ne),p.removeEventListener("transitionend",ne))};p.addEventListener("animationend",ne),p.addEventListener("transitionend",ne)},mt=(d,p)=>{setTimeout(()=>{typeof p=="function"&&p.bind(d.params)(),s.eventEmitter.emit("didClose"),d._destroy&&d._destroy()})},is=d=>{let p=O();if(p||new Ap,p=O(),!p)return;let v=Wo();Yo()?Pt(R()):Iw(p,d),It(v),p.setAttribute("data-loading","true"),p.setAttribute("aria-busy","true"),p.focus()},Iw=(d,p)=>{let v=Hr(),C=Wo();!v||!C||(!p&&gn(or())&&(p=or()),It(v),p&&(Pt(p),C.setAttribute("data-button-to-replace",p.className),v.insertBefore(C,p)),Ue([d,v],h.loading))},hp=(d,p)=>{p.input==="select"||p.input==="radio"?Kr(d,p):["text","email","number","tel","textarea"].some(v=>v===p.input)&&(de(p.inputValue)||x(p.inputValue))&&(is(or()),yp(d,p))},pp=(d,p)=>{let v=d.getInput();if(!v)return null;switch(p.input){case"checkbox":return mp(v);case"radio":return Uc(v);case"file":return gp(v);default:return p.inputAutoTrim?v.value.trim():v.value}},mp=d=>d.checked?1:0,Uc=d=>d.checked?d.value:null,gp=d=>d.files&&d.files.length?d.getAttribute("multiple")!==null?d.files:d.files[0]:null,Kr=(d,p)=>{let v=O();if(!v)return;let C=U=>{p.input==="select"?Sw(v,ga(U),p):p.input==="radio"&&ma(v,ga(U),p)};de(p.inputOptions)||x(p.inputOptions)?(is(or()),P(p.inputOptions).then(U=>{d.hideLoading(),C(U)})):typeof p.inputOptions=="object"?C(p.inputOptions):j(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof p.inputOptions}`)},yp=(d,p)=>{let v=d.getInput();v&&(Pt(v),P(p.inputValue).then(C=>{v.value=p.input==="number"?`${parseFloat(C)||0}`:`${C}`,It(v),v.focus(),d.hideLoading()}).catch(C=>{j(`Error in inputValue promise: ${C}`),v.value="",It(v),v.focus(),d.hideLoading()}))};function Sw(d,p,v){let C=pi(d,h.select);if(!C)return;let U=(ne,Ne,et)=>{let Et=document.createElement("option");Et.value=et,mn(Et,Ne),Et.selected=jc(et,v.inputValue),ne.appendChild(Et)};p.forEach(ne=>{let Ne=ne[0],et=ne[1];if(Array.isArray(et)){let Et=document.createElement("optgroup");Et.label=Ne,Et.disabled=!1,C.appendChild(Et),et.forEach(zc=>U(Et,zc[1],zc[0]))}else U(C,et,Ne)}),C.focus()}function ma(d,p,v){let C=pi(d,h.radio);if(!C)return;p.forEach(ne=>{let Ne=ne[0],et=ne[1],Et=document.createElement("input"),zc=document.createElement("label");Et.type="radio",Et.name=h.radio,Et.value=Ne,jc(Ne,v.inputValue)&&(Et.checked=!0);let Aw=document.createElement("span");mn(Aw,et),Aw.className=h.label,zc.appendChild(Et),zc.appendChild(Aw),C.appendChild(zc)});let U=C.querySelectorAll("input");U.length&&U[0].focus()}let ga=d=>{let p=[];return d instanceof Map?d.forEach((v,C)=>{let U=v;typeof U=="object"&&(U=ga(U)),p.push([C,U])}):Object.keys(d).forEach(v=>{let C=d[v];typeof C=="object"&&(C=ga(C)),p.push([v,C])}),p},jc=(d,p)=>!!p&&p.toString()===d.toString(),$c=d=>{let p=Ye.innerParams.get(d);d.disableButtons(),p.input?_p(d,"confirm"):ya(d,!0)},vp=d=>{let p=Ye.innerParams.get(d);d.disableButtons(),p.returnInputValueOnDeny?_p(d,"deny"):io(d,!1)},Hc=(d,p)=>{d.disableButtons(),p(Wn.cancel)},_p=(d,p)=>{let v=Ye.innerParams.get(d);if(!v.input){j(`The "input" parameter is needed to be set when using returnInputValueOn${L(p)}`);return}let C=d.getInput(),U=pp(d,v);v.inputValidator?wp(d,U,p):C&&!C.checkValidity()?(d.enableButtons(),d.showValidationMessage(v.validationMessage||C.validationMessage)):p==="deny"?io(d,U):ya(d,U)},wp=(d,p,v)=>{let C=Ye.innerParams.get(d);d.disableInput(),Promise.resolve().then(()=>P(C.inputValidator(p,C.validationMessage))).then(ne=>{d.enableButtons(),d.enableInput(),ne?d.showValidationMessage(ne):v==="deny"?io(d,p):ya(d,p)})},io=(d,p)=>{let v=Ye.innerParams.get(d||void 0);v.showLoaderOnDeny&&is(bn()),v.preDeny?(d.isAwaitingPromise=!0,Promise.resolve().then(()=>P(v.preDeny(p,v.validationMessage))).then(U=>{U===!1?(d.hideLoading(),Wr(d)):d.close({isDenied:!0,value:typeof U>"u"?p:U})}).catch(U=>fd(d||void 0,U))):d.close({isDenied:!0,value:p})},dd=(d,p)=>{d.close({isConfirmed:!0,value:p})},fd=(d,p)=>{d.rejectPromise(p)},ya=(d,p)=>{let v=Ye.innerParams.get(d||void 0);v.showLoaderOnConfirm&&is(),v.preConfirm?(d.resetValidationMessage(),d.isAwaitingPromise=!0,Promise.resolve().then(()=>P(v.preConfirm(p,v.validationMessage))).then(U=>{gn(zo())||U===!1?(d.hideLoading(),Wr(d)):dd(d,typeof U>"u"?p:U)}).catch(U=>fd(d||void 0,U))):dd(d,p)};function os(){let d=Ye.innerParams.get(this);if(!d)return;let p=Ye.domCache.get(this);Pt(p.loader),Yo()?d.icon&&It(R()):Ep(p),ar([p.popup,p.actions],h.loading),p.popup.removeAttribute("aria-busy"),p.popup.removeAttribute("data-loading"),p.confirmButton.disabled=!1,p.denyButton.disabled=!1,p.cancelButton.disabled=!1}let Ep=d=>{let p=d.popup.getElementsByClassName(d.loader.getAttribute("data-button-to-replace"));p.length?It(p[0],"inline-block"):Vh()&&Pt(d.actions)};function va(){let d=Ye.innerParams.get(this),p=Ye.domCache.get(this);return p?Nc(p.popup,d.input):null}function hd(d,p,v){let C=Ye.domCache.get(d);p.forEach(U=>{C[U].disabled=v})}function pd(d,p){let v=O();if(!(!v||!d))if(d.type==="radio"){let C=v.querySelectorAll(`[name="${h.radio}"]`);for(let U=0;U<C.length;U++)C[U].disabled=p}else d.disabled=p}function _i(){hd(this,["confirmButton","denyButton","cancelButton"],!1)}function md(){hd(this,["confirmButton","denyButton","cancelButton"],!0)}function gd(){pd(this.getInput(),!1)}function yd(){pd(this.getInput(),!0)}function vd(d){let p=Ye.domCache.get(this),v=Ye.innerParams.get(this);mn(p.validationMessage,d),p.validationMessage.className=h["validation-message"],v.customClass&&v.customClass.validationMessage&&Ue(p.validationMessage,v.customClass.validationMessage),It(p.validationMessage);let C=this.getInput();C&&(C.setAttribute("aria-invalid","true"),C.setAttribute("aria-describedby",h["validation-message"]),Yu(C),Ue(C,h.inputerror))}function _a(){let d=Ye.domCache.get(this);d.validationMessage&&Pt(d.validationMessage);let p=this.getInput();p&&(p.removeAttribute("aria-invalid"),p.removeAttribute("aria-describedby"),ar(p,h.inputerror))}let Ot={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},bp=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Cp={allowEnterKey:void 0},ss=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],l=d=>Object.prototype.hasOwnProperty.call(Ot,d),m=d=>bp.indexOf(d)!==-1,g=d=>Cp[d],E=d=>{l(d)||M(`Unknown parameter "${d}"`)},B=d=>{ss.includes(d)&&M(`The parameter "${d}" is incompatible with toasts`)},$=d=>{let p=g(d);p&&ce(d,p)},X=d=>{d.backdrop===!1&&d.allowOutsideClick&&M('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let p in d)E(p),d.toast&&B(p),$(p)};function Xe(d){let p=O(),v=Ye.innerParams.get(this);if(!p||sr(p,v.hideClass.popup)){M("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let C=Gt(d),U=Object.assign({},v,C);rp(this,U),Ye.innerParams.set(this,U),Object.defineProperties(this,{params:{value:Object.assign({},this.params,d),writable:!1,enumerable:!0}})}let Gt=d=>{let p={};return Object.keys(d).forEach(v=>{m(v)?p[v]=d[v]:M(`Invalid parameter to update: ${v}`)}),p};function We(){let d=Ye.domCache.get(this),p=Ye.innerParams.get(this);if(!p){Wt(this);return}d.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof p.didDestroy=="function"&&p.didDestroy(),s.eventEmitter.emit("didDestroy"),rn(this)}let rn=d=>{Wt(d),delete d.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},Wt=d=>{d.isAwaitingPromise?(wi(Ye,d),d.isAwaitingPromise=!0):(wi(ts,d),wi(Ye,d),delete d.isAwaitingPromise,delete d.disableButtons,delete d.enableButtons,delete d.getInput,delete d.disableInput,delete d.enableInput,delete d.hideLoading,delete d.disableLoading,delete d.showValidationMessage,delete d.resetValidationMessage,delete d.close,delete d.closePopup,delete d.closeModal,delete d.closeToast,delete d.rejectPromise,delete d.update,delete d._destroy)},wi=(d,p)=>{for(let v in d)d[v].delete(p)};var cr=Object.freeze({__proto__:null,_destroy:We,close:Kn,closeModal:Kn,closePopup:Kn,closeToast:Kn,disableButtons:md,disableInput:yd,disableLoading:os,enableButtons:_i,enableInput:gd,getInput:va,handleAwaitingPromise:Wr,hideLoading:os,rejectPromise:ld,resetValidationMessage:_a,showValidationMessage:vd,update:Xe});let qc=(d,p,v)=>{d.toast?_d(d,p,v):(dj(p),fj(p),hj(d,p,v))},_d=(d,p,v)=>{p.popup.onclick=()=>{d&&(uj(d)||d.timer||d.input)||v(Wn.close)}},uj=d=>!!(d.showConfirmButton||d.showDenyButton||d.showCancelButton||d.showCloseButton),Ip=!1,dj=d=>{d.popup.onmousedown=()=>{d.container.onmouseup=function(p){d.container.onmouseup=()=>{},p.target===d.container&&(Ip=!0)}}},fj=d=>{d.container.onmousedown=p=>{p.target===d.container&&p.preventDefault(),d.popup.onmouseup=function(v){d.popup.onmouseup=()=>{},(v.target===d.popup||v.target instanceof HTMLElement&&d.popup.contains(v.target))&&(Ip=!0)}}},hj=(d,p,v)=>{p.container.onclick=C=>{if(Ip){Ip=!1;return}C.target===p.container&&xe(d.allowOutsideClick)&&v(Wn.backdrop)}},pj=d=>typeof d=="object"&&d.jquery,RT=d=>d instanceof Element||pj(d),mj=d=>{let p={};return typeof d[0]=="object"&&!RT(d[0])?Object.assign(p,d[0]):["title","html","icon"].forEach((v,C)=>{let U=d[C];typeof U=="string"||RT(U)?p[v]=U:U!==void 0&&j(`Unexpected type of ${v}! Expected "string" or "Element", got ${typeof U}`)}),p};function gj(){for(var d=arguments.length,p=new Array(d),v=0;v<d;v++)p[v]=arguments[v];return new this(...p)}function yj(d){class p extends this{_main(C,U){return super._main(C,Object.assign({},d,U))}}return p}let vj=()=>s.timeout&&s.timeout.getTimerLeft(),MT=()=>{if(s.timeout)return Uh(),s.timeout.stop()},NT=()=>{if(s.timeout){let d=s.timeout.start();return Pc(d),d}},_j=()=>{let d=s.timeout;return d&&(d.running?MT():NT())},wj=d=>{if(s.timeout){let p=s.timeout.increase(d);return Pc(p,!0),p}},Ej=()=>!!(s.timeout&&s.timeout.isRunning()),PT=!1,xw={};function bj(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";xw[d]=this,PT||(document.body.addEventListener("click",Cj),PT=!0)}let Cj=d=>{for(let p=d.target;p&&p!==document;p=p.parentNode)for(let v in xw){let C=p.getAttribute(v);if(C){xw[v].fire({template:C});return}}};class Ij{constructor(){this.events={}}_getHandlersByEventName(p){return typeof this.events[p]>"u"&&(this.events[p]=[]),this.events[p]}on(p,v){let C=this._getHandlersByEventName(p);C.includes(v)||C.push(v)}once(p,v){var C=this;let U=function(){C.removeListener(p,U);for(var ne=arguments.length,Ne=new Array(ne),et=0;et<ne;et++)Ne[et]=arguments[et];v.apply(C,Ne)};this.on(p,U)}emit(p){for(var v=arguments.length,C=new Array(v>1?v-1:0),U=1;U<v;U++)C[U-1]=arguments[U];this._getHandlersByEventName(p).forEach(ne=>{try{ne.apply(this,C)}catch(Ne){console.error(Ne)}})}removeListener(p,v){let C=this._getHandlersByEventName(p),U=C.indexOf(v);U>-1&&C.splice(U,1)}removeAllListeners(p){this.events[p]!==void 0&&(this.events[p].length=0)}reset(){this.events={}}}s.eventEmitter=new Ij;var Sj=Object.freeze({__proto__:null,argsToParams:mj,bindClickHandler:bj,clickCancel:vw,clickConfirm:ad,clickDeny:ip,enableLoading:is,fire:gj,getActions:Hr,getCancelButton:Go,getCloseButton:Ku,getConfirmButton:or,getContainer:T,getDenyButton:bn,getFocusableElements:Ko,getFooter:Fh,getHtmlContainer:Wu,getIcon:R,getIconContent:$r,getImage:qo,getInputLabel:tn,getLoader:Wo,getPopup:O,getProgressSteps:ro,getTimerLeft:vj,getTimerProgressBar:hi,getTitle:Ho,getValidationMessage:zo,increaseTimer:wj,isDeprecatedParameter:g,isLoading:Qu,isTimerRunning:Ej,isUpdatableParameter:m,isValidParameter:l,isVisible:yw,mixin:yj,off:(d,p)=>{if(!d){s.eventEmitter.reset();return}p?s.eventEmitter.removeListener(d,p):s.eventEmitter.removeAllListeners(d)},on:(d,p)=>{s.eventEmitter.on(d,p)},once:(d,p)=>{s.eventEmitter.once(d,p)},resumeTimer:NT,showLoading:is,stopTimer:MT,toggleTimer:_j});class xj{constructor(p,v){this.callback=p,this.remaining=v,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(p){let v=this.running;return v&&this.stop(),this.remaining+=p,v&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let kT=["swal-title","swal-html","swal-footer"],Aj=d=>{let p=typeof d.template=="string"?document.querySelector(d.template):d.template;if(!p)return{};let v=p.content;return Oj(v),Object.assign(Tj(v),Dj(v),Rj(v),Mj(v),Nj(v),Pj(v),kj(v,kT))},Tj=d=>{let p={};return Array.from(d.querySelectorAll("swal-param")).forEach(C=>{wa(C,["name","value"]);let U=C.getAttribute("name"),ne=C.getAttribute("value");!U||!ne||(typeof Ot[U]=="boolean"?p[U]=ne!=="false":typeof Ot[U]=="object"?p[U]=JSON.parse(ne):p[U]=ne)}),p},Dj=d=>{let p={};return Array.from(d.querySelectorAll("swal-function-param")).forEach(C=>{let U=C.getAttribute("name"),ne=C.getAttribute("value");!U||!ne||(p[U]=new Function(`return ${ne}`)())}),p},Rj=d=>{let p={};return Array.from(d.querySelectorAll("swal-button")).forEach(C=>{wa(C,["type","color","aria-label"]);let U=C.getAttribute("type");!U||!["confirm","cancel","deny"].includes(U)||(p[`${U}ButtonText`]=C.innerHTML,p[`show${L(U)}Button`]=!0,C.hasAttribute("color")&&(p[`${U}ButtonColor`]=C.getAttribute("color")),C.hasAttribute("aria-label")&&(p[`${U}ButtonAriaLabel`]=C.getAttribute("aria-label")))}),p},Mj=d=>{let p={},v=d.querySelector("swal-image");return v&&(wa(v,["src","width","height","alt"]),v.hasAttribute("src")&&(p.imageUrl=v.getAttribute("src")||void 0),v.hasAttribute("width")&&(p.imageWidth=v.getAttribute("width")||void 0),v.hasAttribute("height")&&(p.imageHeight=v.getAttribute("height")||void 0),v.hasAttribute("alt")&&(p.imageAlt=v.getAttribute("alt")||void 0)),p},Nj=d=>{let p={},v=d.querySelector("swal-icon");return v&&(wa(v,["type","color"]),v.hasAttribute("type")&&(p.icon=v.getAttribute("type")),v.hasAttribute("color")&&(p.iconColor=v.getAttribute("color")),p.iconHtml=v.innerHTML),p},Pj=d=>{let p={},v=d.querySelector("swal-input");v&&(wa(v,["type","label","placeholder","value"]),p.input=v.getAttribute("type")||"text",v.hasAttribute("label")&&(p.inputLabel=v.getAttribute("label")),v.hasAttribute("placeholder")&&(p.inputPlaceholder=v.getAttribute("placeholder")),v.hasAttribute("value")&&(p.inputValue=v.getAttribute("value")));let C=Array.from(d.querySelectorAll("swal-input-option"));return C.length&&(p.inputOptions={},C.forEach(U=>{wa(U,["value"]);let ne=U.getAttribute("value");if(!ne)return;let Ne=U.innerHTML;p.inputOptions[ne]=Ne})),p},kj=(d,p)=>{let v={};for(let C in p){let U=p[C],ne=d.querySelector(U);ne&&(wa(ne,[]),v[U.replace(/^swal-/,"")]=ne.innerHTML.trim())}return v},Oj=d=>{let p=kT.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(d.children).forEach(v=>{let C=v.tagName.toLowerCase();p.includes(C)||M(`Unrecognized element <${C}>`)})},wa=(d,p)=>{Array.from(d.attributes).forEach(v=>{p.indexOf(v.name)===-1&&M([`Unrecognized attribute "${v.name}" on <${d.tagName.toLowerCase()}>.`,`${p.length?`Allowed attributes are: ${p.join(", ")}`:"To set the value, use HTML within the element."}`])})},OT=10,Fj=d=>{let p=T(),v=O();typeof d.willOpen=="function"&&d.willOpen(v),s.eventEmitter.emit("willOpen",v);let U=window.getComputedStyle(document.body).overflowY;Bj(p,v,d),setTimeout(()=>{Lj(p,v)},OT),Qo()&&(Vj(p,d.scrollbarPadding,U),ww()),!Yo()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof d.didOpen=="function"&&setTimeout(()=>d.didOpen(v)),s.eventEmitter.emit("didOpen",v),ar(p,h["no-transition"])},Sp=d=>{let p=O();if(d.target!==p)return;let v=T();p.removeEventListener("animationend",Sp),p.removeEventListener("transitionend",Sp),v.style.overflowY="auto"},Lj=(d,p)=>{Zo(p)?(d.style.overflowY="hidden",p.addEventListener("animationend",Sp),p.addEventListener("transitionend",Sp)):d.style.overflowY="auto"},Vj=(d,p,v)=>{ha(),p&&v!=="hidden"&&bw(v),setTimeout(()=>{d.scrollTop=0})},Bj=(d,p,v)=>{Ue(d,v.showClass.backdrop),v.animation?(p.style.setProperty("opacity","0","important"),It(p,"grid"),setTimeout(()=>{Ue(p,v.showClass.popup),p.style.removeProperty("opacity")},OT)):It(p,"grid"),Ue([document.documentElement,document.body],h.shown),v.heightAuto&&v.backdrop&&!v.toast&&Ue([document.documentElement,document.body],h["height-auto"])};var FT={email:(d,p)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(d)?Promise.resolve():Promise.resolve(p||"Invalid email address"),url:(d,p)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(d)?Promise.resolve():Promise.resolve(p||"Invalid URL")};function Uj(d){d.inputValidator||(d.input==="email"&&(d.inputValidator=FT.email),d.input==="url"&&(d.inputValidator=FT.url))}function jj(d){(!d.target||typeof d.target=="string"&&!document.querySelector(d.target)||typeof d.target!="string"&&!d.target.appendChild)&&(M('Target parameter is not valid, defaulting to "body"'),d.target="body")}function $j(d){Uj(d),d.showLoaderOnConfirm&&!d.preConfirm&&M(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),jj(d),typeof d.title=="string"&&(d.title=d.title.split(`
`).join("<br />")),ed(d)}let Ei;var xp=new WeakMap;class Dt{constructor(){if(r(this,xp,void 0),typeof window>"u")return;Ei=this;for(var p=arguments.length,v=new Array(p),C=0;C<p;C++)v[C]=arguments[C];let U=Object.freeze(this.constructor.argsToParams(v));this.params=U,this.isAwaitingPromise=!1,i(xp,this,this._main(Ei.params))}_main(p){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(X(Object.assign({},v,p)),s.currentInstance){let ne=ts.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:Ne}=s.currentInstance;s.currentInstance._destroy(),Ne||ne({isDismissed:!0}),Qo()&&sp()}s.currentInstance=Ei;let C=qj(p,v);$j(C),Object.freeze(C),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let U=zj(Ei);return rp(Ei,C),Ye.innerParams.set(Ei,C),Hj(Ei,U,C)}then(p){return n(xp,this).then(p)}finally(p){return n(xp,this).finally(p)}}let Hj=(d,p,v)=>new Promise((C,U)=>{let ne=Ne=>{d.close({isDismissed:!0,dismiss:Ne})};ts.swalPromiseResolve.set(d,C),ts.swalPromiseReject.set(d,U),p.confirmButton.onclick=()=>{$c(d)},p.denyButton.onclick=()=>{vp(d)},p.cancelButton.onclick=()=>{Hc(d,ne)},p.closeButton.onclick=()=>{ne(Wn.close)},qc(v,p,ne),Lc(s,v,ne),hp(d,v),Fj(v),Gj(s,v,ne),Wj(p,v),setTimeout(()=>{p.container.scrollTop=0})}),qj=(d,p)=>{let v=Aj(d),C=Object.assign({},Ot,p,v,d);return C.showClass=Object.assign({},Ot.showClass,C.showClass),C.hideClass=Object.assign({},Ot.hideClass,C.hideClass),C.animation===!1&&(C.showClass={backdrop:"swal2-noanimation"},C.hideClass={}),C},zj=d=>{let p={popup:O(),container:T(),actions:Hr(),confirmButton:or(),denyButton:bn(),cancelButton:Go(),loader:Wo(),closeButton:Ku(),validationMessage:zo(),progressSteps:ro()};return Ye.domCache.set(d,p),p},Gj=(d,p,v)=>{let C=hi();Pt(C),p.timer&&(d.timeout=new xj(()=>{v("timer"),delete d.timeout},p.timer),p.timerProgressBar&&(It(C),Cn(C,p,"timerProgressBar"),setTimeout(()=>{d.timeout&&d.timeout.running&&Pc(p.timer)})))},Wj=(d,p)=>{if(!p.toast){if(!xe(p.allowEnterKey)){ce("allowEnterKey"),Yj();return}Kj(d)||Qj(d,p)||es(-1,1)}},Kj=d=>{let p=d.popup.querySelectorAll("[autofocus]");for(let v of p)if(v instanceof HTMLElement&&gn(v))return v.focus(),!0;return!1},Qj=(d,p)=>p.focusDeny&&gn(d.denyButton)?(d.denyButton.focus(),!0):p.focusCancel&&gn(d.cancelButton)?(d.cancelButton.focus(),!0):p.focusConfirm&&gn(d.confirmButton)?(d.confirmButton.focus(),!0):!1,Yj=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let d=new Date,p=localStorage.getItem("swal-initiation");p?(d.getTime()-Date.parse(p))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let v=document.createElement("audio");v.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",v.loop=!0,document.body.appendChild(v),setTimeout(()=>{v.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${d}`)}Dt.prototype.disableButtons=md,Dt.prototype.enableButtons=_i,Dt.prototype.getInput=va,Dt.prototype.disableInput=yd,Dt.prototype.enableInput=gd,Dt.prototype.hideLoading=os,Dt.prototype.disableLoading=os,Dt.prototype.showValidationMessage=vd,Dt.prototype.resetValidationMessage=_a,Dt.prototype.close=Kn,Dt.prototype.closePopup=Kn,Dt.prototype.closeModal=Kn,Dt.prototype.closeToast=Kn,Dt.prototype.rejectPromise=ld,Dt.prototype.update=Xe,Dt.prototype._destroy=We,Object.assign(Dt,Sj),Object.keys(cr).forEach(d=>{Dt[d]=function(){return Ei&&Ei[d]?Ei[d](...arguments):null}}),Dt.DismissReason=Wn,Dt.version="11.14.4";let Ap=Dt;return Ap.default=Ap,Ap});typeof Yi<"u"&&Yi.Sweetalert2&&(Yi.swal=Yi.sweetAlert=Yi.Swal=Yi.SweetAlert=Yi.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});var Vv=Qn(Uo=>{"use strict";var oL=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",xZ=oL+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",sL="["+oL+"]["+xZ+"]*",AZ=new RegExp("^"+sL+"$"),TZ=function(t,e){let n=[],r=e.exec(t);for(;r;){let i=[];i.startIndex=e.lastIndex-r[0].length;let o=r.length;for(let s=0;s<o;s++)i.push(r[s]);n.push(i),r=e.exec(t)}return n},DZ=function(t){let e=AZ.exec(t);return!(e===null||typeof e>"u")};Uo.isExist=function(t){return typeof t<"u"};Uo.isEmptyObject=function(t){return Object.keys(t).length===0};Uo.merge=function(t,e,n){if(e){let r=Object.keys(e),i=r.length;for(let o=0;o<i;o++)n==="strict"?t[r[o]]=[e[r[o]]]:t[r[o]]=e[r[o]]}};Uo.getValue=function(t){return Uo.isExist(t)?t:""};Uo.isName=DZ;Uo.getAllMatches=TZ;Uo.nameRegexp=sL});var Qx=Qn(dL=>{"use strict";var Kx=Vv(),RZ={allowBooleanAttributes:!1,unpairedTags:[]};dL.validate=function(t,e){e=Object.assign({},RZ,e);let n=[],r=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let o=0;o<t.length;o++)if(t[o]==="<"&&t[o+1]==="?"){if(o+=2,o=cL(t,o),o.err)return o}else if(t[o]==="<"){let s=o;if(o++,t[o]==="!"){o=lL(t,o);continue}else{let a=!1;t[o]==="/"&&(a=!0,o++);let c="";for(;o<t.length&&t[o]!==">"&&t[o]!==" "&&t[o]!=="	"&&t[o]!==`
`&&t[o]!=="\r";o++)c+=t[o];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),o--),!VZ(c)){let h;return c.trim().length===0?h="Invalid space after '<'.":h="Tag '"+c+"' is an invalid name.",Mt("InvalidTag",h,$n(t,o))}let u=PZ(t,o);if(u===!1)return Mt("InvalidAttr","Attributes for '"+c+"' have open quote.",$n(t,o));let f=u.value;if(o=u.index,f[f.length-1]==="/"){let h=o-f.length;f=f.substring(0,f.length-1);let y=uL(f,e);if(y===!0)r=!0;else return Mt(y.err.code,y.err.msg,$n(t,h+y.err.line))}else if(a)if(u.tagClosed){if(f.trim().length>0)return Mt("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",$n(t,s));if(n.length===0)return Mt("InvalidTag","Closing tag '"+c+"' has not been opened.",$n(t,s));{let h=n.pop();if(c!==h.tagName){let y=$n(t,h.tagStartPos);return Mt("InvalidTag","Expected closing tag '"+h.tagName+"' (opened in line "+y.line+", col "+y.col+") instead of closing tag '"+c+"'.",$n(t,s))}n.length==0&&(i=!0)}}else return Mt("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",$n(t,o));else{let h=uL(f,e);if(h!==!0)return Mt(h.err.code,h.err.msg,$n(t,o-f.length+h.err.line));if(i===!0)return Mt("InvalidXml","Multiple possible root nodes found.",$n(t,o));e.unpairedTags.indexOf(c)!==-1||n.push({tagName:c,tagStartPos:s}),r=!0}for(o++;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="!"){o++,o=lL(t,o);continue}else if(t[o+1]==="?"){if(o=cL(t,++o),o.err)return o}else break;else if(t[o]==="&"){let h=FZ(t,o);if(h==-1)return Mt("InvalidChar","char '&' is not expected.",$n(t,o));o=h}else if(i===!0&&!aL(t[o]))return Mt("InvalidXml","Extra text at the end",$n(t,o));t[o]==="<"&&o--}}else{if(aL(t[o]))continue;return Mt("InvalidChar","char '"+t[o]+"' is not expected.",$n(t,o))}if(r){if(n.length==1)return Mt("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",$n(t,n[0].tagStartPos));if(n.length>0)return Mt("InvalidXml","Invalid '"+JSON.stringify(n.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Mt("InvalidXml","Start tag expected.",1);return!0};function aL(t){return t===" "||t==="	"||t===`
`||t==="\r"}function cL(t,e){let n=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let r=t.substr(n,e-n);if(e>5&&r==="xml")return Mt("InvalidXml","XML declaration allowed only at the start of the document.",$n(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function lL(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let n=1;for(e+=8;e<t.length;e++)if(t[e]==="<")n++;else if(t[e]===">"&&(n--,n===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}var MZ='"',NZ="'";function PZ(t,e){let n="",r="",i=!1;for(;e<t.length;e++){if(t[e]===MZ||t[e]===NZ)r===""?r=t[e]:r!==t[e]||(r="");else if(t[e]===">"&&r===""){i=!0;break}n+=t[e]}return r!==""?!1:{value:n,index:e,tagClosed:i}}var kZ=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function uL(t,e){let n=Kx.getAllMatches(t,kZ),r={};for(let i=0;i<n.length;i++){if(n[i][1].length===0)return Mt("InvalidAttr","Attribute '"+n[i][2]+"' has no space in starting.",_h(n[i]));if(n[i][3]!==void 0&&n[i][4]===void 0)return Mt("InvalidAttr","Attribute '"+n[i][2]+"' is without value.",_h(n[i]));if(n[i][3]===void 0&&!e.allowBooleanAttributes)return Mt("InvalidAttr","boolean attribute '"+n[i][2]+"' is not allowed.",_h(n[i]));let o=n[i][2];if(!LZ(o))return Mt("InvalidAttr","Attribute '"+o+"' is an invalid name.",_h(n[i]));if(!r.hasOwnProperty(o))r[o]=1;else return Mt("InvalidAttr","Attribute '"+o+"' is repeated.",_h(n[i]))}return!0}function OZ(t,e){let n=/\d/;for(t[e]==="x"&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(n))break}return-1}function FZ(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,OZ(t,e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(t[e]===";")break;return-1}return e}function Mt(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function LZ(t){return Kx.isName(t)}function VZ(t){return Kx.isName(t)}function $n(t,e){let n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function _h(t){return t.startIndex+t[1].length}});var hL=Qn(Yx=>{"use strict";var fL={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}},BZ=function(t){return Object.assign({},fL,t)};Yx.buildOptions=BZ;Yx.defaultOptions=fL});var mL=Qn((abe,pL)=>{"use strict";var Zx=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,n){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:n})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};pL.exports=Zx});var yL=Qn((cbe,gL)=>{"use strict";var UZ=Vv();function jZ(t,e){let n={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let r=1,i=!1,o=!1,s="";for(;e<t.length;e++)if(t[e]==="<"&&!o){if(i&&qZ(t,e))e+=7,[entityName,val,e]=$Z(t,e+1),val.indexOf("&")===-1&&(n[KZ(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(i&&zZ(t,e))e+=8;else if(i&&GZ(t,e))e+=8;else if(i&&WZ(t,e))e+=9;else if(HZ)o=!0;else throw new Error("Invalid DOCTYPE");r++,s=""}else if(t[e]===">"){if(o?t[e-1]==="-"&&t[e-2]==="-"&&(o=!1,r--):r--,r===0)break}else t[e]==="["?i=!0:s+=t[e];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:e}}function $Z(t,e){let n="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)n+=t[e];if(n=n.trim(),n.indexOf(" ")!==-1)throw new Error("External entites are not supported");let r=t[e++],i="";for(;e<t.length&&t[e]!==r;e++)i+=t[e];return[n,i,e]}function HZ(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function qZ(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function zZ(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function GZ(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function WZ(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function KZ(t){if(UZ.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}gL.exports=jZ});var _L=Qn((lbe,vL)=>{"use strict";var QZ=/^[-+]?0x[a-fA-F0-9]+$/,YZ=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var ZZ={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function JZ(t,e={}){if(e=Object.assign({},ZZ,e),!t||typeof t!="string")return t;let n=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(n))return t;if(e.hex&&QZ.test(n))return Number.parseInt(n,16);{let r=YZ.exec(n);if(r){let i=r[1],o=r[2],s=XZ(r[3]),a=r[4]||r[6];if(!e.leadingZeros&&o.length>0&&i&&n[2]!==".")return t;if(!e.leadingZeros&&o.length>0&&!i&&n[1]!==".")return t;{let c=Number(n),u=""+c;return u.search(/[eE]/)!==-1||a?e.eNotation?c:t:n.indexOf(".")!==-1?u==="0"&&s===""||u===s||i&&u==="-"+s?c:t:o?s===u||i+s===u?c:t:n===u||n===i+u?c:t}}else return t}}function XZ(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}vL.exports=JZ});var bL=Qn((ube,EL)=>{"use strict";var wL=Vv(),wh=mL(),eJ=yL(),tJ=_L(),Jx=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,16))}},this.addExternalEntities=nJ,this.parseXml=aJ,this.parseTextData=rJ,this.resolveNameSpace=iJ,this.buildAttributesMap=sJ,this.isItStopNode=dJ,this.replaceEntitiesValue=lJ,this.readStopNodeData=hJ,this.saveTextToParentTag=uJ,this.addChild=cJ}};function nJ(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function rJ(t,e,n,r,i,o,s){if(t!==void 0&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){s||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,n,i,o);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?eA(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?eA(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function iJ(t){if(this.options.removeNSPrefix){let e=t.split(":"),n=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=n+e[1])}return t}var oJ=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function sJ(t,e,n){if(!this.options.ignoreAttributes&&typeof t=="string"){let r=wL.getAllMatches(t,oJ),i=r.length,o={};for(let s=0;s<i;s++){let a=this.resolveNameSpace(r[s][1]),c=r[s][4],u=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let f=this.options.attributeValueProcessor(a,c,e);f==null?o[u]=c:typeof f!=typeof c||f!==c?o[u]=f:o[u]=eA(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[u]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=o,s}return o}}var aJ=function(t){t=t.replace(/\r\n?/g,`
`);let e=new wh("!xml"),n=e,r="",i="";for(let o=0;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="/"){let a=Ic(t,">",o,"Closing Tag is not closed."),c=t.substring(o+2,a).trim();if(this.options.removeNSPrefix){let h=c.indexOf(":");h!==-1&&(c=c.substr(h+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&(r=this.saveTextToParentTag(r,n,i));let u=i.substring(i.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let f=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(f=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):f=i.lastIndexOf("."),i=i.substring(0,f),n=this.tagsNodeStack.pop(),r="",o=a}else if(t[o+1]==="?"){let a=Xx(t,o,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new wh(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(n,c,i)}o=a.closeIndex+1}else if(t.substr(o+1,3)==="!--"){let a=Ic(t,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){let c=t.substring(o+4,a-2);r=this.saveTextToParentTag(r,n,i),n.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}o=a}else if(t.substr(o+1,2)==="!D"){let a=eJ(t,o);this.docTypeEntities=a.entities,o=a.i}else if(t.substr(o+1,2)==="!["){let a=Ic(t,"]]>",o,"CDATA is not closed.")-2,c=t.substring(o+9,a);r=this.saveTextToParentTag(r,n,i);let u=this.parseTextData(c,n.tagname,i,!0,!1,!0,!0);u==null&&(u=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):n.add(this.options.textNodeName,u),o=a+2}else{let a=Xx(t,o,this.options.removeNSPrefix),c=a.tagName,u=a.rawTagName,f=a.tagExp,h=a.attrExpPresent,y=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,i,!1));let w=n;if(w&&this.options.unpairedTags.indexOf(w.tagname)!==-1&&(n=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),c!==e.tagname&&(i+=i?"."+c:c),this.isItStopNode(this.options.stopNodes,i,c)){let b="";if(f.length>0&&f.lastIndexOf("/")===f.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),f=c):f=f.substr(0,f.length-1),o=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)o=a.closeIndex;else{let M=this.readStopNodeData(t,u,y+1);if(!M)throw new Error(`Unexpected end of ${u}`);o=M.i,b=M.tagContent}let L=new wh(c);c!==f&&h&&(L[":@"]=this.buildAttributesMap(f,i,c)),b&&(b=this.parseTextData(b,c,i,!0,h,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),L.add(this.options.textNodeName,b),this.addChild(n,L,i)}else{if(f.length>0&&f.lastIndexOf("/")===f.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),f=c):f=f.substr(0,f.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let b=new wh(c);c!==f&&h&&(b[":@"]=this.buildAttributesMap(f,i,c)),this.addChild(n,b,i),i=i.substr(0,i.lastIndexOf("."))}else{let b=new wh(c);this.tagsNodeStack.push(n),c!==f&&h&&(b[":@"]=this.buildAttributesMap(f,i,c)),this.addChild(n,b,i),n=b}r="",o=y}}else r+=t[o];return e.child};function cJ(t,e,n){let r=this.options.updateTag(e.tagname,n,e[":@"]);r===!1||(typeof r=="string"&&(e.tagname=r),t.addChild(e))}var lJ=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){let n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function uJ(t,e,n,r){return t&&(r===void 0&&(r=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,n,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,r),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function dJ(t,e,n){let r="*."+n;for(let i in t){let o=t[i];if(r===o||e===o)return!0}return!1}function fJ(t,e,n=">"){let r,i="";for(let o=e;o<t.length;o++){let s=t[o];if(r)s===r&&(r="");else if(s==='"'||s==="'")r=s;else if(s===n[0])if(n[1]){if(t[o+1]===n[1])return{data:i,index:o}}else return{data:i,index:o};else s==="	"&&(s=" ");i+=s}}function Ic(t,e,n,r){let i=t.indexOf(e,n);if(i===-1)throw new Error(r);return i+e.length-1}function Xx(t,e,n,r=">"){let i=fJ(t,e+1,r);if(!i)return;let o=i.data,s=i.index,a=o.search(/\s/),c=o,u=!0;a!==-1&&(c=o.substring(0,a),o=o.substring(a+1).trimStart());let f=c;if(n){let h=c.indexOf(":");h!==-1&&(c=c.substr(h+1),u=c!==i.data.substr(h+1))}return{tagName:c,tagExp:o,closeIndex:s,attrExpPresent:u,rawTagName:f}}function hJ(t,e,n){let r=n,i=1;for(;n<t.length;n++)if(t[n]==="<")if(t[n+1]==="/"){let o=Ic(t,">",n,`${e} is not closed`);if(t.substring(n+2,o).trim()===e&&(i--,i===0))return{tagContent:t.substring(r,n),i:o};n=o}else if(t[n+1]==="?")n=Ic(t,"?>",n+1,"StopNode is not closed.");else if(t.substr(n+1,3)==="!--")n=Ic(t,"-->",n+3,"StopNode is not closed.");else if(t.substr(n+1,2)==="![")n=Ic(t,"]]>",n,"StopNode is not closed.")-2;else{let o=Xx(t,n,">");o&&((o&&o.tagName)===e&&o.tagExp[o.tagExp.length-1]!=="/"&&i++,n=o.closeIndex)}}function eA(t,e,n){if(e&&typeof t=="string"){let r=t.trim();return r==="true"?!0:r==="false"?!1:tJ(t,n)}else return wL.isExist(t)?t:""}EL.exports=Jx});var SL=Qn(IL=>{"use strict";function pJ(t,e){return CL(t,e)}function CL(t,e,n){let r,i={};for(let o=0;o<t.length;o++){let s=t[o],a=mJ(s),c="";if(n===void 0?c=a:c=n+"."+a,a===e.textNodeName)r===void 0?r=s[a]:r+=""+s[a];else{if(a===void 0)continue;if(s[a]){let u=CL(s[a],e,c),f=yJ(u,e);s[":@"]?gJ(u,s[":@"],c,e):Object.keys(u).length===1&&u[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?u=u[e.textNodeName]:Object.keys(u).length===0&&(e.alwaysCreateTextNode?u[e.textNodeName]="":u=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(u)):e.isArray(a,c,f)?i[a]=[u]:i[a]=u}}}return typeof r=="string"?r.length>0&&(i[e.textNodeName]=r):r!==void 0&&(i[e.textNodeName]=r),i}function mJ(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];if(r!==":@")return r}}function gJ(t,e,n,r){if(e){let i=Object.keys(e),o=i.length;for(let s=0;s<o;s++){let a=i[s];r.isArray(a,n+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function yJ(t,e){let{textNodeName:n}=e,r=Object.keys(t).length;return!!(r===0||r===1&&(t[n]||typeof t[n]=="boolean"||t[n]===0))}IL.prettify=pJ});var AL=Qn((fbe,xL)=>{"use strict";var{buildOptions:vJ}=hL(),_J=bL(),{prettify:wJ}=SL(),EJ=Qx(),tA=class{constructor(e){this.externalEntities={},this.options=vJ(e)}parse(e,n){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});let o=EJ.validate(e,n);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}let r=new _J(this.options);r.addExternalEntities(this.externalEntities);let i=r.parseXml(e);return this.options.preserveOrder||i===void 0?i:wJ(i,this.options)}addEntity(e,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=n}};xL.exports=tA});var NL=Qn((hbe,ML)=>{"use strict";var bJ=`
`;function CJ(t,e){let n="";return e.format&&e.indentBy.length>0&&(n=bJ),DL(t,e,"",n)}function DL(t,e,n,r){let i="",o=!1;for(let s=0;s<t.length;s++){let a=t[s],c=IJ(a);if(c===void 0)continue;let u="";if(n.length===0?u=c:u=`${n}.${c}`,c===e.textNodeName){let b=a[c];SJ(u,e)||(b=e.tagValueProcessor(c,b),b=RL(b,e)),o&&(i+=r),i+=b,o=!1;continue}else if(c===e.cdataPropName){o&&(i+=r),i+=`<![CDATA[${a[c][0][e.textNodeName]}]]>`,o=!1;continue}else if(c===e.commentPropName){i+=r+`<!--${a[c][0][e.textNodeName]}-->`,o=!0;continue}else if(c[0]==="?"){let b=TL(a[":@"],e),L=c==="?xml"?"":r,M=a[c][0][e.textNodeName];M=M.length!==0?" "+M:"",i+=L+`<${c}${M}${b}?>`,o=!0;continue}let f=r;f!==""&&(f+=e.indentBy);let h=TL(a[":@"],e),y=r+`<${c}${h}`,w=DL(a[c],e,u,f);e.unpairedTags.indexOf(c)!==-1?e.suppressUnpairedNode?i+=y+">":i+=y+"/>":(!w||w.length===0)&&e.suppressEmptyNode?i+=y+"/>":w&&w.endsWith(">")?i+=y+`>${w}${r}</${c}>`:(i+=y+">",w&&r!==""&&(w.includes("/>")||w.includes("</"))?i+=r+e.indentBy+w+r:i+=w,i+=`</${c}>`),o=!0}return i}function IJ(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];if(t.hasOwnProperty(r)&&r!==":@")return r}}function TL(t,e){let n="";if(t&&!e.ignoreAttributes)for(let r in t){if(!t.hasOwnProperty(r))continue;let i=e.attributeValueProcessor(r,t[r]);i=RL(i,e),i===!0&&e.suppressBooleanAttributes?n+=` ${r.substr(e.attributeNamePrefix.length)}`:n+=` ${r.substr(e.attributeNamePrefix.length)}="${i}"`}return n}function SJ(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let n=t.substr(t.lastIndexOf(".")+1);for(let r in e.stopNodes)if(e.stopNodes[r]===t||e.stopNodes[r]==="*."+n)return!0;return!1}function RL(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){let r=e.entities[n];t=t.replace(r.regex,r.val)}return t}ML.exports=CJ});var kL=Qn((pbe,PL)=>{"use strict";var xJ=NL(),AJ={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Zs(t){this.options=Object.assign({},AJ,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=RJ),this.processTextOrObjNode=TJ,this.options.format?(this.indentate=DJ,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Zs.prototype.build=function(t){return this.options.preserveOrder?xJ(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};Zs.prototype.j2x=function(t,e){let n="",r="";for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i))if(typeof t[i]>"u")this.isAttribute(i)&&(r+="");else if(t[i]===null)this.isAttribute(i)?r+="":i[0]==="?"?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)r+=this.buildTextValNode(t[i],i,"",e);else if(typeof t[i]!="object"){let o=this.isAttribute(i);if(o)n+=this.buildAttrPairStr(o,""+t[i]);else if(i===this.options.textNodeName){let s=this.options.tagValueProcessor(i,""+t[i]);r+=this.replaceEntitiesValue(s)}else r+=this.buildTextValNode(t[i],i,"",e)}else if(Array.isArray(t[i])){let o=t[i].length,s="",a="";for(let c=0;c<o;c++){let u=t[i][c];if(!(typeof u>"u"))if(u===null)i[0]==="?"?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(typeof u=="object")if(this.options.oneListGroup){let f=this.j2x(u,e+1);s+=f.val,this.options.attributesGroupName&&u.hasOwnProperty(this.options.attributesGroupName)&&(a+=f.attrStr)}else s+=this.processTextOrObjNode(u,i,e);else if(this.options.oneListGroup){let f=this.options.tagValueProcessor(i,u);f=this.replaceEntitiesValue(f),s+=f}else s+=this.buildTextValNode(u,i,"",e)}this.options.oneListGroup&&(s=this.buildObjectNode(s,i,a,e)),r+=s}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){let o=Object.keys(t[i]),s=o.length;for(let a=0;a<s;a++)n+=this.buildAttrPairStr(o[a],""+t[i][o[a]])}else r+=this.processTextOrObjNode(t[i],i,e);return{attrStr:n,val:r}};Zs.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function TJ(t,e,n){let r=this.j2x(t,n+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,r.attrStr,n):this.buildObjectNode(r.val,e,r.attrStr,n)}Zs.prototype.buildObjectNode=function(t,e,n,r){if(t==="")return e[0]==="?"?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar;{let i="</"+e+this.tagEndChar,o="";return e[0]==="?"&&(o="?",i=""),(n||n==="")&&t.indexOf("<")===-1?this.indentate(r)+"<"+e+n+o+">"+t+i:this.options.commentPropName!==!1&&e===this.options.commentPropName&&o.length===0?this.indentate(r)+`<!--${t}-->`+this.newLine:this.indentate(r)+"<"+e+n+o+this.tagEndChar+t+this.indentate(r)+i}};Zs.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};Zs.prototype.buildTextValNode=function(t,e,n,r){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(r)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(r)+"<"+e+n+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),i===""?this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(r)+"<"+e+n+">"+i+"</"+e+this.tagEndChar}};Zs.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t};function DJ(t){return this.options.indentBy.repeat(t)}function RJ(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}PL.exports=Zs});var FL=Qn((mbe,OL)=>{"use strict";var MJ=Qx(),NJ=AL(),PJ=kL();OL.exports={XMLParser:NJ,XMLValidator:MJ,XMLBuilder:PJ}});var wT=Qn((Ph,_T)=>{"use strict";(function(t,e){typeof Ph=="object"&&typeof _T=="object"?_T.exports=e():typeof define=="function"&&define.amd?define([],e):typeof Ph=="object"?Ph.bowser=e():t.bowser=e()})(Ph,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(r,i,o){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var s in r)n.d(o,s,function(a){return r[a]}.bind(null,s));return o},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=90)}({17:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(18),i=function(){function o(){}return o.getFirstMatch=function(s,a){var c=a.match(s);return c&&c.length>0&&c[1]||""},o.getSecondMatch=function(s,a){var c=a.match(s);return c&&c.length>1&&c[2]||""},o.matchAndReturnConst=function(s,a,c){if(s.test(a))return c},o.getWindowsVersionName=function(s){switch(s){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},o.getMacOSVersionName=function(s){var a=s.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(a.push(0),a[0]===10)switch(a[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},o.getAndroidVersionName=function(s){var a=s.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(a.push(0),!(a[0]===1&&a[1]<5))return a[0]===1&&a[1]<6?"Cupcake":a[0]===1&&a[1]>=6?"Donut":a[0]===2&&a[1]<2?"Eclair":a[0]===2&&a[1]===2?"Froyo":a[0]===2&&a[1]>2?"Gingerbread":a[0]===3?"Honeycomb":a[0]===4&&a[1]<1?"Ice Cream Sandwich":a[0]===4&&a[1]<4?"Jelly Bean":a[0]===4&&a[1]>=4?"KitKat":a[0]===5?"Lollipop":a[0]===6?"Marshmallow":a[0]===7?"Nougat":a[0]===8?"Oreo":a[0]===9?"Pie":void 0},o.getVersionPrecision=function(s){return s.split(".").length},o.compareVersions=function(s,a,c){c===void 0&&(c=!1);var u=o.getVersionPrecision(s),f=o.getVersionPrecision(a),h=Math.max(u,f),y=0,w=o.map([s,a],function(b){var L=h-o.getVersionPrecision(b),M=b+new Array(L+1).join(".0");return o.map(M.split("."),function(j){return new Array(20-j.length).join("0")+j}).reverse()});for(c&&(y=h-Math.min(u,f)),h-=1;h>=y;){if(w[0][h]>w[1][h])return 1;if(w[0][h]===w[1][h]){if(h===y)return 0;h-=1}else if(w[0][h]<w[1][h])return-1}},o.map=function(s,a){var c,u=[];if(Array.prototype.map)return Array.prototype.map.call(s,a);for(c=0;c<s.length;c+=1)u.push(a(s[c]));return u},o.find=function(s,a){var c,u;if(Array.prototype.find)return Array.prototype.find.call(s,a);for(c=0,u=s.length;c<u;c+=1){var f=s[c];if(a(f,c))return f}},o.assign=function(s){for(var a,c,u=s,f=arguments.length,h=new Array(f>1?f-1:0),y=1;y<f;y++)h[y-1]=arguments[y];if(Object.assign)return Object.assign.apply(Object,[s].concat(h));var w=function(){var b=h[a];typeof b=="object"&&b!==null&&Object.keys(b).forEach(function(L){u[L]=b[L]})};for(a=0,c=h.length;a<c;a+=1)w();return s},o.getBrowserAlias=function(s){return r.BROWSER_ALIASES_MAP[s]},o.getBrowserTypeByAlias=function(s){return r.BROWSER_MAP[s]||""},o}();e.default=i,t.exports=e.default},18:function(t,e,n){"use strict";e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function s(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}var a=function(){function c(){}var u,f,h;return c.getParser=function(y,w){if(w===void 0&&(w=!1),typeof y!="string")throw new Error("UserAgent should be a string");return new i.default(y,w)},c.parse=function(y){return new i.default(y).getResult()},u=c,h=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(f=null)&&s(u.prototype,f),h&&s(u,h),c}();e.default=a,t.exports=e.default},91:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=c(n(92)),i=c(n(93)),o=c(n(94)),s=c(n(95)),a=c(n(17));function c(f){return f&&f.__esModule?f:{default:f}}var u=function(){function f(y,w){if(w===void 0&&(w=!1),y==null||y==="")throw new Error("UserAgent parameter can't be empty");this._ua=y,this.parsedResult={},w!==!0&&this.parse()}var h=f.prototype;return h.getUA=function(){return this._ua},h.test=function(y){return y.test(this._ua)},h.parseBrowser=function(){var y=this;this.parsedResult.browser={};var w=a.default.find(r.default,function(b){if(typeof b.test=="function")return b.test(y);if(b.test instanceof Array)return b.test.some(function(L){return y.test(L)});throw new Error("Browser's test function is not valid")});return w&&(this.parsedResult.browser=w.describe(this.getUA())),this.parsedResult.browser},h.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},h.getBrowserName=function(y){return y?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},h.getBrowserVersion=function(){return this.getBrowser().version},h.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},h.parseOS=function(){var y=this;this.parsedResult.os={};var w=a.default.find(i.default,function(b){if(typeof b.test=="function")return b.test(y);if(b.test instanceof Array)return b.test.some(function(L){return y.test(L)});throw new Error("Browser's test function is not valid")});return w&&(this.parsedResult.os=w.describe(this.getUA())),this.parsedResult.os},h.getOSName=function(y){var w=this.getOS().name;return y?String(w).toLowerCase()||"":w||""},h.getOSVersion=function(){return this.getOS().version},h.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},h.getPlatformType=function(y){y===void 0&&(y=!1);var w=this.getPlatform().type;return y?String(w).toLowerCase()||"":w||""},h.parsePlatform=function(){var y=this;this.parsedResult.platform={};var w=a.default.find(o.default,function(b){if(typeof b.test=="function")return b.test(y);if(b.test instanceof Array)return b.test.some(function(L){return y.test(L)});throw new Error("Browser's test function is not valid")});return w&&(this.parsedResult.platform=w.describe(this.getUA())),this.parsedResult.platform},h.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},h.getEngineName=function(y){return y?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},h.parseEngine=function(){var y=this;this.parsedResult.engine={};var w=a.default.find(s.default,function(b){if(typeof b.test=="function")return b.test(y);if(b.test instanceof Array)return b.test.some(function(L){return y.test(L)});throw new Error("Browser's test function is not valid")});return w&&(this.parsedResult.engine=w.describe(this.getUA())),this.parsedResult.engine},h.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},h.getResult=function(){return a.default.assign({},this.parsedResult)},h.satisfies=function(y){var w=this,b={},L=0,M={},j=0;if(Object.keys(y).forEach(function(T){var N=y[T];typeof N=="string"?(M[T]=N,j+=1):typeof N=="object"&&(b[T]=N,L+=1)}),L>0){var K=Object.keys(b),ee=a.default.find(K,function(T){return w.isOS(T)});if(ee){var ce=this.satisfies(b[ee]);if(ce!==void 0)return ce}var xe=a.default.find(K,function(T){return w.isPlatform(T)});if(xe){var de=this.satisfies(b[xe]);if(de!==void 0)return de}}if(j>0){var P=Object.keys(M),x=a.default.find(P,function(T){return w.isBrowser(T,!0)});if(x!==void 0)return this.compareVersion(M[x])}},h.isBrowser=function(y,w){w===void 0&&(w=!1);var b=this.getBrowserName().toLowerCase(),L=y.toLowerCase(),M=a.default.getBrowserTypeByAlias(L);return w&&M&&(L=M.toLowerCase()),L===b},h.compareVersion=function(y){var w=[0],b=y,L=!1,M=this.getBrowserVersion();if(typeof M=="string")return y[0]===">"||y[0]==="<"?(b=y.substr(1),y[1]==="="?(L=!0,b=y.substr(2)):w=[],y[0]===">"?w.push(1):w.push(-1)):y[0]==="="?b=y.substr(1):y[0]==="~"&&(L=!0,b=y.substr(1)),w.indexOf(a.default.compareVersions(M,b,L))>-1},h.isOS=function(y){return this.getOSName(!0)===String(y).toLowerCase()},h.isPlatform=function(y){return this.getPlatformType(!0)===String(y).toLowerCase()},h.isEngine=function(y){return this.getEngineName(!0)===String(y).toLowerCase()},h.is=function(y,w){return w===void 0&&(w=!1),this.isBrowser(y,w)||this.isOS(y)||this.isPlatform(y)},h.some=function(y){var w=this;return y===void 0&&(y=[]),y.some(function(b){return w.is(b)})},f}();e.default=u,t.exports=e.default},92:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(a){var c={name:"Googlebot"},u=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,a)||i.default.getFirstMatch(o,a);return u&&(c.version=u),c}},{test:[/opera/i],describe:function(a){var c={name:"Opera"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/opr\/|opios/i],describe:function(a){var c={name:"Opera"},u=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,a)||i.default.getFirstMatch(o,a);return u&&(c.version=u),c}},{test:[/SamsungBrowser/i],describe:function(a){var c={name:"Samsung Internet for Android"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/Whale/i],describe:function(a){var c={name:"NAVER Whale Browser"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/MZBrowser/i],describe:function(a){var c={name:"MZ Browser"},u=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return u&&(c.version=u),c}},{test:[/focus/i],describe:function(a){var c={name:"Focus"},u=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return u&&(c.version=u),c}},{test:[/swing/i],describe:function(a){var c={name:"Swing"},u=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return u&&(c.version=u),c}},{test:[/coast/i],describe:function(a){var c={name:"Opera Coast"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(a){var c={name:"Opera Touch"},u=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return u&&(c.version=u),c}},{test:[/yabrowser/i],describe:function(a){var c={name:"Yandex Browser"},u=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return u&&(c.version=u),c}},{test:[/ucbrowser/i],describe:function(a){var c={name:"UC Browser"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/Maxthon|mxios/i],describe:function(a){var c={name:"Maxthon"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/epiphany/i],describe:function(a){var c={name:"Epiphany"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/puffin/i],describe:function(a){var c={name:"Puffin"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/sleipnir/i],describe:function(a){var c={name:"Sleipnir"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/k-meleon/i],describe:function(a){var c={name:"K-Meleon"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/micromessenger/i],describe:function(a){var c={name:"WeChat"},u=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return u&&(c.version=u),c}},{test:[/qqbrowser/i],describe:function(a){var c={name:/qqbrowserlite/i.test(a)?"QQ Browser Lite":"QQ Browser"},u=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return u&&(c.version=u),c}},{test:[/msie|trident/i],describe:function(a){var c={name:"Internet Explorer"},u=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/\sedg\//i],describe:function(a){var c={name:"Microsoft Edge"},u=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/edg([ea]|ios)/i],describe:function(a){var c={name:"Microsoft Edge"},u=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/vivaldi/i],describe:function(a){var c={name:"Vivaldi"},u=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/seamonkey/i],describe:function(a){var c={name:"SeaMonkey"},u=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/sailfish/i],describe:function(a){var c={name:"Sailfish"},u=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,a);return u&&(c.version=u),c}},{test:[/silk/i],describe:function(a){var c={name:"Amazon Silk"},u=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/phantom/i],describe:function(a){var c={name:"PhantomJS"},u=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/slimerjs/i],describe:function(a){var c={name:"SlimerJS"},u=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var c={name:"BlackBerry"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var c={name:"WebOS Browser"},u=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/bada/i],describe:function(a){var c={name:"Bada"},u=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/tizen/i],describe:function(a){var c={name:"Tizen"},u=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return u&&(c.version=u),c}},{test:[/qupzilla/i],describe:function(a){var c={name:"QupZilla"},u=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return u&&(c.version=u),c}},{test:[/firefox|iceweasel|fxios/i],describe:function(a){var c={name:"Firefox"},u=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/electron/i],describe:function(a){var c={name:"Electron"},u=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/MiuiBrowser/i],describe:function(a){var c={name:"Miui"},u=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/chromium/i],describe:function(a){var c={name:"Chromium"},u=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return u&&(c.version=u),c}},{test:[/chrome|crios|crmo/i],describe:function(a){var c={name:"Chrome"},u=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/GSA/i],describe:function(a){var c={name:"Google Search"},u=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:function(a){var c=!a.test(/like android/i),u=a.test(/android/i);return c&&u},describe:function(a){var c={name:"Android Browser"},u=i.default.getFirstMatch(o,a);return u&&(c.version=u),c}},{test:[/playstation 4/i],describe:function(a){var c={name:"PlayStation 4"},u=i.default.getFirstMatch(o,a);return u&&(c.version=u),c}},{test:[/safari|applewebkit/i],describe:function(a){var c={name:"Safari"},u=i.default.getFirstMatch(o,a);return u&&(c.version=u),c}},{test:[/.*/i],describe:function(a){var c=a.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(c,a),version:i.default.getSecondMatch(c,a)}}}];e.default=s,t.exports=e.default},93:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(a){var c=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,a);return{name:o.OS_MAP.Roku,version:c}}},{test:[/windows phone/i],describe:function(a){var c=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.WindowsPhone,version:c}}},{test:[/windows /i],describe:function(a){var c=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,a),u=i.default.getWindowsVersionName(c);return{name:o.OS_MAP.Windows,version:c,versionName:u}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(a){var c={name:o.OS_MAP.iOS},u=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,a);return u&&(c.version=u),c}},{test:[/macintosh/i],describe:function(a){var c=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,a).replace(/[_\s]/g,"."),u=i.default.getMacOSVersionName(c),f={name:o.OS_MAP.MacOS,version:c};return u&&(f.versionName=u),f}},{test:[/(ipod|iphone|ipad)/i],describe:function(a){var c=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,a).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:c}}},{test:function(a){var c=!a.test(/like android/i),u=a.test(/android/i);return c&&u},describe:function(a){var c=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,a),u=i.default.getAndroidVersionName(c),f={name:o.OS_MAP.Android,version:c};return u&&(f.versionName=u),f}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var c=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,a),u={name:o.OS_MAP.WebOS};return c&&c.length&&(u.version=c),u}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var c=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,a)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,a)||i.default.getFirstMatch(/\bbb(\d+)/i,a);return{name:o.OS_MAP.BlackBerry,version:c}}},{test:[/bada/i],describe:function(a){var c=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.Bada,version:c}}},{test:[/tizen/i],describe:function(a){var c=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.Tizen,version:c}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(a){var c=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.PlayStation4,version:c}}}];e.default=s,t.exports=e.default},94:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(a){var c=i.default.getFirstMatch(/(can-l01)/i,a)&&"Nova",u={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return c&&(u.model=c),u}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(a){var c=a.test(/ipod|iphone/i),u=a.test(/like (ipod|iphone)/i);return c&&!u},describe:function(a){var c=i.default.getFirstMatch(/(ipod|iphone)/i,a);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:c}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName(!0)==="blackberry"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(a){return a.getBrowserName(!0)==="bada"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName()==="windows phone"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(a){var c=Number(String(a.getOSVersion()).split(".")[0]);return a.getOSName(!0)==="android"&&c>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(a){return a.getOSName(!0)==="android"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getOSName(!0)==="macos"},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(a){return a.getOSName(!0)==="windows"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="linux"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="playstation 4"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(a){return a.getOSName(!0)==="roku"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];e.default=s,t.exports=e.default},95:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:function(a){return a.getBrowserName(!0)==="microsoft edge"},describe:function(a){if(/\sedg\//i.test(a))return{name:o.ENGINE_MAP.Blink};var c=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,a);return{name:o.ENGINE_MAP.EdgeHTML,version:c}}},{test:[/trident/i],describe:function(a){var c={name:o.ENGINE_MAP.Trident},u=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:function(a){return a.test(/presto/i)},describe:function(a){var c={name:o.ENGINE_MAP.Presto},u=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:function(a){var c=a.test(/gecko/i),u=a.test(/like gecko/i);return c&&!u},describe:function(a){var c={name:o.ENGINE_MAP.Gecko},u=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(a){var c={name:o.ENGINE_MAP.WebKit},u=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,a);return u&&(c.version=u),c}}];e.default=s,t.exports=e.default}})})});function UT(t,e){return Object.is(t,e)}var Kt=null,Dp=!1,Rp=1,as=Symbol("SIGNAL");function Ze(t){let e=Kt;return Kt=t,e}function jT(){return Kt}var Ed={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Pw(t){if(Dp)throw new Error("");if(Kt===null)return;Kt.consumerOnSignalRead(t);let e=Kt.nextProducerIndex++;if(kp(Kt),e<Kt.producerNode.length&&Kt.producerNode[e]!==t&&wd(Kt)){let n=Kt.producerNode[e];Pp(n,Kt.producerIndexOfThis[e])}Kt.producerNode[e]!==t&&(Kt.producerNode[e]=t,Kt.producerIndexOfThis[e]=wd(Kt)?zT(t,Kt,e):0),Kt.producerLastReadVersion[e]=t.version}function i$(){Rp++}function $T(t){if(!(wd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Rp)){if(!t.producerMustRecompute(t)&&!Ow(t)){t.dirty=!1,t.lastCleanEpoch=Rp;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Rp}}function HT(t){if(t.liveConsumerNode===void 0)return;let e=Dp;Dp=!0;try{for(let n of t.liveConsumerNode)n.dirty||o$(n)}finally{Dp=e}}function qT(){return Kt?.consumerAllowSignalWrites!==!1}function o$(t){t.dirty=!0,HT(t),t.consumerMarkedDirty?.(t)}function Np(t){return t&&(t.nextProducerIndex=0),Ze(t)}function kw(t,e){if(Ze(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(wd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Pp(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ow(t){kp(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||($T(n),r!==n.version))return!0}return!1}function Fw(t){if(kp(t),wd(t))for(let e=0;e<t.producerNode.length;e++)Pp(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function zT(t,e,n){if(GT(t),t.liveConsumerNode.length===0&&WT(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=zT(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Pp(t,e){if(GT(t),t.liveConsumerNode.length===1&&WT(t))for(let r=0;r<t.producerNode.length;r++)Pp(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];kp(i),i.producerIndexOfThis[r]=e}}function wd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function kp(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function GT(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function WT(t){return t.producerNode!==void 0}function KT(t){let e=Object.create(s$);e.computation=t;let n=()=>{if($T(e),Pw(e),e.value===Mp)throw e.error;return e.value};return n[as]=e,n}var Mw=Symbol("UNSET"),Nw=Symbol("COMPUTING"),Mp=Symbol("ERRORED"),s$=q(I({},Ed),{value:Mw,dirty:!0,error:null,equal:UT,producerMustRecompute(t){return t.value===Mw||t.value===Nw},producerRecomputeValue(t){if(t.value===Nw)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Nw;let n=Np(t),r;try{r=t.computation()}catch(i){r=Mp,t.error=i}finally{kw(t,n)}if(e!==Mw&&e!==Mp&&r!==Mp&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function a$(){throw new Error}var QT=a$;function YT(){QT()}function ZT(t){QT=t}var c$=null;function JT(t){let e=Object.create(eD);e.value=t;let n=()=>(Pw(e),e.value);return n[as]=e,n}function Lw(t,e){qT()||YT(),t.equal(t.value,e)||(t.value=e,l$(t))}function XT(t,e){qT()||YT(),Lw(t,e(t.value))}var eD=q(I({},Ed),{equal:UT,value:void 0});function l$(t){t.version++,i$(),HT(t),c$?.()}function Ae(t){return typeof t=="function"}function Gc(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Op=Gc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ca(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var St=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Ae(r))try{r()}catch(o){e=o instanceof Op?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{tD(o)}catch(s){e=e??[],s instanceof Op?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Op(e)}}add(e){var n;if(e&&e!==this)if(this.closed)tD(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ca(n,e)}remove(e){let{_finalizers:n}=this;n&&Ca(n,e),e instanceof t&&e._removeParent(this)}};St.EMPTY=(()=>{let t=new St;return t.closed=!0,t})();var Vw=St.EMPTY;function Fp(t){return t instanceof St||t&&"closed"in t&&Ae(t.remove)&&Ae(t.add)&&Ae(t.unsubscribe)}function tD(t){Ae(t)?t():t.unsubscribe()}var Qr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Wc={setTimeout(t,e,...n){let{delegate:r}=Wc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Wc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Lp(t){Wc.setTimeout(()=>{let{onUnhandledError:e}=Qr;if(e)e(t);else throw t})}function bd(){}var nD=Bw("C",void 0,void 0);function rD(t){return Bw("E",void 0,t)}function iD(t){return Bw("N",t,void 0)}function Bw(t,e,n){return{kind:t,value:e,error:n}}var Ia=null;function Kc(t){if(Qr.useDeprecatedSynchronousErrorHandling){let e=!Ia;if(e&&(Ia={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ia;if(Ia=null,n)throw r}}else t()}function oD(t){Qr.useDeprecatedSynchronousErrorHandling&&Ia&&(Ia.errorThrown=!0,Ia.error=t)}var Sa=class extends St{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Fp(e)&&e.add(this)):this.destination=f$}static create(e,n,r){return new Qc(e,n,r)}next(e){this.isStopped?jw(iD(e),this):this._next(e)}error(e){this.isStopped?jw(rD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?jw(nD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},u$=Function.prototype.bind;function Uw(t,e){return u$.call(t,e)}var $w=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Vp(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Vp(r)}else Vp(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Vp(n)}}},Qc=class extends Sa{constructor(e,n,r){super();let i;if(Ae(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Qr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Uw(e.next,o),error:e.error&&Uw(e.error,o),complete:e.complete&&Uw(e.complete,o)}):i=e}this.destination=new $w(i)}};function Vp(t){Qr.useDeprecatedSynchronousErrorHandling?oD(t):Lp(t)}function d$(t){throw t}function jw(t,e){let{onStoppedNotification:n}=Qr;n&&Wc.setTimeout(()=>n(t,e))}var f$={closed:!0,next:bd,error:d$,complete:bd};var Yc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function lr(t){return t}function Bp(...t){return Hw(t)}function Hw(t){return t.length===0?lr:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var je=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=p$(n)?n:new Qc(n,r,i);return Kc(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=sD(r),new r((i,o)=>{let s=new Qc({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Yc](){return this}pipe(...n){return Hw(n)(this)}toPromise(n){return n=sD(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function sD(t){var e;return(e=t??Qr.Promise)!==null&&e!==void 0?e:Promise}function h$(t){return t&&Ae(t.next)&&Ae(t.error)&&Ae(t.complete)}function p$(t){return t&&t instanceof Sa||h$(t)&&Fp(t)}function qw(t){return Ae(t?.lift)}function Ke(t){return e=>{if(qw(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $e(t,e,n,r,i){return new zw(t,e,n,r,i)}var zw=class extends Sa{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Zc(){return Ke((t,e)=>{let n=null;t._refCount++;let r=$e(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Jc=class extends je{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,qw(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new St;let n=this.getSubject();e.add(this.source.subscribe($e(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=St.EMPTY)}return e}refCount(){return Zc()(this)}};var aD=Gc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var on=(()=>{class t extends je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Up(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new aD}next(n){Kc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Kc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Kc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Vw:(this.currentObservers=null,o.push(n),new St(()=>{this.currentObservers=null,Ca(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new je;return n.source=this,n}}return t.create=(e,n)=>new Up(e,n),t})(),Up=class extends on{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Vw}};var Qt=class extends on{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Gw={now(){return(Gw.delegate||Date).now()},delegate:void 0};var jp=class extends St{constructor(e,n){super()}schedule(e,n=0){return this}};var Cd={setInterval(t,e,...n){let{delegate:r}=Cd;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Cd;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Xc=class extends jp{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Cd.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Cd.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ca(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var el=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};el.now=Gw.now;var tl=class extends el{constructor(e,n=el.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ww=new tl(Xc);var $p=class extends Xc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Hp=class extends tl{};var Kw=new Hp($p);var ur=new je(t=>t.complete());function cD(t){return t&&Ae(t.schedule)}function lD(t){return t[t.length-1]}function qp(t){return Ae(lD(t))?t.pop():void 0}function cs(t){return cD(lD(t))?t.pop():void 0}function Qw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ls(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{u(r.next(f))}catch(h){s(h)}}function c(f){try{u(r.throw(f))}catch(h){s(h)}}function u(f){f.done?o(f.value):i(f.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function rl(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(f){return c([u,f])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(f){u=[6,f],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function nl(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xa(t){return this instanceof xa?(this.v=t,this):new xa(t)}function uD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(w){return function(b){return Promise.resolve(b).then(w,h)}}function a(w,b){r[w]&&(i[w]=function(L){return new Promise(function(M,j){o.push([w,L,M,j])>1||c(w,L)})},b&&(i[w]=b(i[w])))}function c(w,b){try{u(r[w](b))}catch(L){y(o[0][3],L)}}function u(w){w.value instanceof xa?Promise.resolve(w.value.v).then(f,h):y(o[0][2],w)}function f(w){c("next",w)}function h(w){c("throw",w)}function y(w,b){w(b),o.shift(),o.length&&c(o[0][0],o[0][1])}}function dD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nl=="function"?nl(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var zp=t=>t&&typeof t.length=="number"&&typeof t!="function";function Gp(t){return Ae(t?.then)}function Wp(t){return Ae(t[Yc])}function Kp(t){return Symbol.asyncIterator&&Ae(t?.[Symbol.asyncIterator])}function Qp(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function m$(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Yp=m$();function Zp(t){return Ae(t?.[Yp])}function Jp(t){return uD(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield xa(n.read());if(i)return yield xa(void 0);yield yield xa(r)}}finally{n.releaseLock()}})}function Xp(t){return Ae(t?.getReader)}function Lt(t){if(t instanceof je)return t;if(t!=null){if(Wp(t))return g$(t);if(zp(t))return y$(t);if(Gp(t))return v$(t);if(Kp(t))return fD(t);if(Zp(t))return _$(t);if(Xp(t))return w$(t)}throw Qp(t)}function g$(t){return new je(e=>{let n=t[Yc]();if(Ae(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function y$(t){return new je(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function v$(t){return new je(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Lp)})}function _$(t){return new je(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function fD(t){return new je(e=>{E$(t,e).catch(n=>e.error(n))})}function w$(t){return fD(Jp(t))}function E$(t,e){var n,r,i,o;return ls(this,void 0,void 0,function*(){try{for(n=dD(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Zn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function us(t,e=0){return Ke((n,r)=>{n.subscribe($e(r,i=>Zn(r,t,()=>r.next(i),e),()=>Zn(r,t,()=>r.complete(),e),i=>Zn(r,t,()=>r.error(i),e)))})}function ds(t,e=0){return Ke((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function hD(t,e){return Lt(t).pipe(ds(e),us(e))}function pD(t,e){return Lt(t).pipe(ds(e),us(e))}function mD(t,e){return new je(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function gD(t,e){return new je(n=>{let r;return Zn(n,e,()=>{r=t[Yp](),Zn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Ae(r?.return)&&r.return()})}function em(t,e){if(!t)throw new Error("Iterable cannot be null");return new je(n=>{Zn(n,e,()=>{let r=t[Symbol.asyncIterator]();Zn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function yD(t,e){return em(Jp(t),e)}function vD(t,e){if(t!=null){if(Wp(t))return hD(t,e);if(zp(t))return mD(t,e);if(Gp(t))return pD(t,e);if(Kp(t))return em(t,e);if(Zp(t))return gD(t,e);if(Xp(t))return yD(t,e)}throw Qp(t)}function xt(t,e){return e?vD(t,e):Lt(t)}function Te(...t){let e=cs(t);return xt(t,e)}function il(t,e){let n=Ae(t)?t:()=>t,r=i=>i.error(n());return new je(e?i=>e.schedule(r,0,i):r)}function Yw(t){return!!t&&(t instanceof je||Ae(t.lift)&&Ae(t.subscribe))}var so=Gc(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Pe(t,e){return Ke((n,r)=>{let i=0;n.subscribe($e(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:b$}=Array;function C$(t,e){return b$(e)?t(...e):t(e)}function tm(t){return Pe(e=>C$(t,e))}var{isArray:I$}=Array,{getPrototypeOf:S$,prototype:x$,keys:A$}=Object;function nm(t){if(t.length===1){let e=t[0];if(I$(e))return{args:e,keys:null};if(T$(e)){let n=A$(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function T$(t){return t&&typeof t=="object"&&S$(t)===x$}function rm(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function im(...t){let e=cs(t),n=qp(t),{args:r,keys:i}=nm(t);if(r.length===0)return xt([],e);let o=new je(D$(r,e,i?s=>rm(i,s):lr));return n?o.pipe(tm(n)):o}function D$(t,e,n=lr){return r=>{_D(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)_D(e,()=>{let u=xt(t[c],e),f=!1;u.subscribe($e(r,h=>{o[c]=h,f||(f=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function _D(t,e,n){t?Zn(n,t,e):e()}function wD(t,e,n,r,i,o,s,a){let c=[],u=0,f=0,h=!1,y=()=>{h&&!c.length&&!u&&e.complete()},w=L=>u<r?b(L):c.push(L),b=L=>{o&&e.next(L),u++;let M=!1;Lt(n(L,f++)).subscribe($e(e,j=>{i?.(j),o?w(j):e.next(j)},()=>{M=!0},void 0,()=>{if(M)try{for(u--;c.length&&u<r;){let j=c.shift();s?Zn(e,s,()=>b(j)):b(j)}y()}catch(j){e.error(j)}}))};return t.subscribe($e(e,w,()=>{h=!0,y()})),()=>{a?.()}}function Yt(t,e,n=1/0){return Ae(e)?Yt((r,i)=>Pe((o,s)=>e(r,o,i,s))(Lt(t(r,i))),n):(typeof e=="number"&&(n=e),Ke((r,i)=>wD(r,i,t,n)))}function Zw(t=1/0){return Yt(lr,t)}function ED(){return Zw(1)}function ol(...t){return ED()(xt(t,cs(t)))}function om(t){return new je(e=>{Lt(t()).subscribe(e)})}function Jw(...t){let e=qp(t),{args:n,keys:r}=nm(t),i=new je(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let f=0;f<s;f++){let h=!1;Lt(n[f]).subscribe($e(o,y=>{h||(h=!0,u--),a[f]=y},()=>c--,void 0,()=>{(!c||!h)&&(u||o.next(r?rm(r,a):a),o.complete())}))}});return e?i.pipe(tm(e)):i}function Sr(t,e){return Ke((n,r)=>{let i=0;n.subscribe($e(r,o=>t.call(e,o,i++)&&r.next(o)))})}function fs(t){return Ke((e,n)=>{let r=null,i=!1,o;r=e.subscribe($e(n,void 0,void 0,s=>{o=Lt(t(s,fs(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function bD(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe($e(s,f=>{let h=u++;c=a?t(c,f,h):(a=!0,f),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function sl(t,e){return Ae(e)?Yt(t,e,1):Yt(t,1)}function hs(t){return Ke((e,n)=>{let r=!1;e.subscribe($e(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ao(t){return t<=0?()=>ur:Ke((e,n)=>{let r=0;e.subscribe($e(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Xw(t){return Pe(()=>t)}function sm(t=R$){return Ke((e,n)=>{let r=!1;e.subscribe($e(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function R$(){return new so}function Id(t){return Ke((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ci(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Sr((i,o)=>t(i,o,r)):lr,ao(1),n?hs(e):sm(()=>new so))}function al(t){return t<=0?()=>ur:Ke((e,n)=>{let r=[];e.subscribe($e(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function e0(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Sr((i,o)=>t(i,o,r)):lr,al(1),n?hs(e):sm(()=>new so))}function am(t,e){return Ke(bD(t,e,arguments.length>=2,!0))}function cm(...t){let e=cs(t);return Ke((n,r)=>{(e?ol(t,n,e):ol(t,n)).subscribe(r)})}function Yr(t,e){return Ke((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe($e(r,c=>{i?.unsubscribe();let u=0,f=o++;Lt(t(c,f)).subscribe(i=$e(r,h=>r.next(e?e(c,h,f,u++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function t0(t){return Ke((e,n)=>{Lt(t).subscribe($e(n,()=>n.complete(),bd)),!n.closed&&e.subscribe(n)})}function Zt(t,e,n){let r=Ae(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ke((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe($e(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):lr}var lR="https://g.co/ng/security#xss",pe=class extends Error{constructor(e,n){super(rE(e,n)),this.code=e}};function rE(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Od(t){return{toString:t}.toString()}var lm="__parameters__";function M$(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function uR(t,e,n){return Od(()=>{let r=M$(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,f){let h=c.hasOwnProperty(lm)?c[lm]:Object.defineProperty(c,lm,{value:[]})[lm];for(;h.length<=f;)h.push(null);return(h[f]=h[f]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var m0=globalThis;function at(t){for(let e in t)if(t[e]===at)return e;throw Error("Could not find renamed property on target object.")}function N$(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function kn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(kn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function CD(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var P$=at({__forward_ref__:at});function Mr(t){return t.__forward_ref__=Mr,t.toString=function(){return kn(this())},t}function Pn(t){return dR(t)?t():t}function dR(t){return typeof t=="function"&&t.hasOwnProperty(P$)&&t.__forward_ref__===Mr}function ge(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Oa(t){return{providers:t.providers||[],imports:t.imports||[]}}function Hm(t){return ID(t,hR)||ID(t,pR)}function fR(t){return Hm(t)!==null}function ID(t,e){return t.hasOwnProperty(e)?t[e]:null}function k$(t){let e=t&&(t[hR]||t[pR]);return e||null}function SD(t){return t&&(t.hasOwnProperty(xD)||t.hasOwnProperty(O$))?t[xD]:null}var hR=at({\u0275prov:at}),xD=at({\u0275inj:at}),pR=at({ngInjectableDef:at}),O$=at({ngInjectorDef:at}),me=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ge({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function mR(t){return t&&!!t.\u0275providers}var F$=at({\u0275cmp:at}),L$=at({\u0275dir:at}),V$=at({\u0275pipe:at}),B$=at({\u0275mod:at}),_m=at({\u0275fac:at}),Ad=at({__NG_ELEMENT_ID__:at}),AD=at({__NG_ENV_ID__:at});function hl(t){return typeof t=="string"?t:t==null?"":String(t)}function U$(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():hl(t)}function j$(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new pe(-200,t)}function iE(t,e){throw new pe(-201,!1)}var Fe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Fe||{}),g0;function gR(){return g0}function xr(t){let e=g0;return g0=t,e}function yR(t,e,n){let r=Hm(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Fe.Optional)return null;if(e!==void 0)return e;iE(t,"Injector")}var $$={},Td=$$,y0="__NG_DI_FLAG__",wm="ngTempTokenPath",H$="ngTokenPath",q$=/\n/gm,z$="\u0275",TD="__source",dl;function G$(){return dl}function ps(t){let e=dl;return dl=t,e}function W$(t,e=Fe.Default){if(dl===void 0)throw new pe(-203,!1);return dl===null?yR(t,void 0,e):dl.get(t,e&Fe.Optional?null:void 0,e)}function Ve(t,e=Fe.Default){return(gR()||W$)(Pn(t),e)}function re(t,e=Fe.Default){return Ve(t,qm(e))}function qm(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function v0(t){let e=[];for(let n=0;n<t.length;n++){let r=Pn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new pe(900,!1);let i,o=Fe.Default;for(let s=0;s<r.length;s++){let a=r[s],c=K$(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Ve(i,o))}else e.push(Ve(r))}return e}function vR(t,e){return t[y0]=e,t.prototype[y0]=e,t}function K$(t){return t[y0]}function Q$(t,e,n,r){let i=t[wm];throw e[TD]&&i.unshift(e[TD]),t.message=Y$(`
`+t.message,i,n,r),t[H$]=i,t[wm]=null,t}function Y$(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==z$?t.slice(2):t;let i=kn(e);if(Array.isArray(e))i=e.map(kn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):kn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(q$,`
  `)}`}var Fn=vR(uR("Optional"),8);var _R=vR(uR("SkipSelf"),4);function pl(t,e){let n=t.hasOwnProperty(_m);return n?t[_m]:null}function oE(t,e){t.forEach(n=>Array.isArray(n)?oE(n,e):e(n))}function wR(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Em(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Z$(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function J$(t,e,n){let r=Fd(t,e);return r>=0?t[r|1]=n:(r=~r,Z$(t,r,e,n)),r}function n0(t,e){let n=Fd(t,e);if(n>=0)return t[n|1]}function Fd(t,e){return X$(t,e,1)}function X$(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ml={},Ar=[],gl=new me(""),ER=new me("",-1),bR=new me(""),bm=class{get(e,n=Td){if(n===Td){let r=new Error(`NullInjectorError: No provider for ${kn(e)}!`);throw r.name="NullInjectorError",r}return n}},CR=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(CR||{}),xi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(xi||{}),ys=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ys||{});function e4(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function _0(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];t4(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function IR(t){return t===3||t===4||t===6}function t4(t){return t.charCodeAt(0)===64}function Dd(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?DD(t,n,i,null,e[++r]):DD(t,n,i,null,null))}}return t}function DD(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var SR="ng-template";function n4(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&e4(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(sE(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function sE(t){return t.type===4&&t.value!==SR}function r4(t,e,n){let r=t.type===4&&!n?SR:t.value;return e===r}function i4(t,e,n){let r=4,i=t.attrs,o=i!==null?a4(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Zr(r)&&!Zr(c))return!1;if(s&&Zr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!r4(t,c,n)||c===""&&e.length===1){if(Zr(r))return!1;s=!0}}else if(r&8){if(i===null||!n4(t,i,c,n)){if(Zr(r))return!1;s=!0}}else{let u=e[++a],f=o4(c,i,sE(t),n);if(f===-1){if(Zr(r))return!1;s=!0;continue}if(u!==""){let h;if(f>o?h="":h=i[f+1].toLowerCase(),r&2&&u!==h){if(Zr(r))return!1;s=!0}}}}return Zr(r)||s}function Zr(t){return(t&1)===0}function o4(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return c4(e,t)}function s4(t,e,n=!1){for(let r=0;r<e.length;r++)if(i4(t,e[r],n))return!0;return!1}function a4(t){for(let e=0;e<t.length;e++){let n=t[e];if(IR(n))return e}return t.length}function c4(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function RD(t,e){return t?":not("+e.trim()+")":e}function l4(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Zr(s)&&(e+=RD(o,i),i=""),r=s,o=o||!Zr(r);n++}return i!==""&&(e+=RD(o,i)),e}function u4(t){return t.map(l4).join(",")}function d4(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Zr(i))break;i=o}r++}return{attrs:e,classes:n}}function vt(t){return Od(()=>{let e=RR(t),n=q(I({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===CR.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||xi.Emulated,styles:t.styles||Ar,_:null,schemas:t.schemas||null,tView:null,id:""});MR(n);let r=t.dependencies;return n.directiveDefs=ND(r,!1),n.pipeDefs=ND(r,!0),n.id=p4(n),n})}function f4(t){return Ta(t)||xR(t)}function h4(t){return t!==null}function Fa(t){return Od(()=>({type:t.type,bootstrap:t.bootstrap||Ar,declarations:t.declarations||Ar,imports:t.imports||Ar,exports:t.exports||Ar,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function MD(t,e){if(t==null)return ml;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=ys.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ys.None?[r,a]:r,e[o]=s):n[o]=r}return n}function ut(t){return Od(()=>{let e=RR(t);return MR(e),e})}function Ta(t){return t[F$]||null}function xR(t){return t[L$]||null}function AR(t){return t[V$]||null}function TR(t){let e=Ta(t)||xR(t)||AR(t);return e!==null?e.standalone:!1}function DR(t,e){let n=t[B$]||null;if(!n&&e===!0)throw new Error(`Type ${kn(t)} does not have '\u0275mod' property.`);return n}function RR(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ml,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ar,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:MD(t.inputs,e),outputs:MD(t.outputs),debugInfo:null}}function MR(t){t.features?.forEach(e=>e(t))}function ND(t,e){if(!t)return null;let n=e?AR:f4;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(h4)}function p4(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ri(t){return{\u0275providers:t}}function m4(...t){return{\u0275providers:NR(!0,t),\u0275fromNgModule:!0}}function NR(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return oE(e,s=>{let a=s;w0(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&PR(i,o),n}function PR(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];aE(i,o=>{e(o,r)})}}function w0(t,e,n,r){if(t=Pn(t),!t)return!1;let i=null,o=SD(t),s=!o&&Ta(t);if(!o&&!s){let c=t.ngModule;if(o=SD(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)w0(u,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{oE(o.imports,f=>{w0(f,e,n,r)&&(u||=[],u.push(f))})}finally{}u!==void 0&&PR(u,e)}if(!a){let u=pl(i)||(()=>new i);e({provide:i,useFactory:u,deps:Ar},i),e({provide:bR,useValue:i,multi:!0},i),e({provide:gl,useValue:()=>Ve(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=t;aE(c,f=>{e(f,u)})}}else return!1;return i!==t&&t.providers!==void 0}function aE(t,e){for(let n of t)mR(n)&&(n=n.\u0275providers),Array.isArray(n)?aE(n,e):e(n)}var g4=at({provide:String,useValue:at});function kR(t){return t!==null&&typeof t=="object"&&g4 in t}function y4(t){return!!(t&&t.useExisting)}function v4(t){return!!(t&&t.useFactory)}function yl(t){return typeof t=="function"}function _4(t){return!!t.useClass}var zm=new me(""),pm={},w4={},r0;function cE(){return r0===void 0&&(r0=new bm),r0}var Rr=class{},Rd=class extends Rr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,b0(e,s=>this.processProvider(s)),this.records.set(ER,cl(void 0,this)),i.has("environment")&&this.records.set(Rr,cl(void 0,this));let o=this.records.get(zm);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(bR,Ar,Fe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ze(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ze(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ps(this),r=xr(void 0),i;try{return e()}finally{ps(n),xr(r)}}get(e,n=Td,r=Fe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(AD))return e[AD](this);r=qm(r);let i,o=ps(this),s=xr(void 0);try{if(!(r&Fe.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=S4(e)&&Hm(e);u&&this.injectableDefInScope(u)?c=cl(E0(e),pm):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Fe.Self?cE():this.parent;return n=r&Fe.Optional&&n===Td?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[wm]=a[wm]||[]).unshift(kn(e)),o)throw a;return Q$(a,e,"R3InjectorError",this.source)}else throw a}finally{xr(s),ps(o)}}resolveInjectorInitializers(){let e=Ze(null),n=ps(this),r=xr(void 0),i;try{let o=this.get(gl,Ar,Fe.Self);for(let s of o)s()}finally{ps(n),xr(r),Ze(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(kn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(e){e=Pn(e);let n=yl(e)?e:Pn(e&&e.provide),r=b4(e);if(!yl(e)&&e.multi===!0){let i=this.records.get(n);i||(i=cl(void 0,pm,!0),i.factory=()=>v0(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ze(null);try{return n.value===pm&&(n.value=w4,n.value=n.factory()),typeof n.value=="object"&&n.value&&I4(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ze(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Pn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function E0(t){let e=Hm(t),n=e!==null?e.factory:pl(t);if(n!==null)return n;if(t instanceof me)throw new pe(204,!1);if(t instanceof Function)return E4(t);throw new pe(204,!1)}function E4(t){if(t.length>0)throw new pe(204,!1);let n=k$(t);return n!==null?()=>n.factory(t):()=>new t}function b4(t){if(kR(t))return cl(void 0,t.useValue);{let e=OR(t);return cl(e,pm)}}function OR(t,e,n){let r;if(yl(t)){let i=Pn(t);return pl(i)||E0(i)}else if(kR(t))r=()=>Pn(t.useValue);else if(v4(t))r=()=>t.useFactory(...v0(t.deps||[]));else if(y4(t))r=()=>Ve(Pn(t.useExisting));else{let i=Pn(t&&(t.useClass||t.provide));if(C4(t))r=()=>new i(...v0(t.deps));else return pl(i)||E0(i)}return r}function cl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function C4(t){return!!t.deps}function I4(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function S4(t){return typeof t=="function"||typeof t=="object"&&t instanceof me}function b0(t,e){for(let n of t)Array.isArray(n)?b0(n,e):n&&mR(n)?b0(n.\u0275providers,e):e(n)}function ho(t,e){t instanceof Rd&&t.assertNotDestroyed();let n,r=ps(t),i=xr(void 0);try{return e()}finally{ps(r),xr(i)}}function x4(){return gR()!==void 0||G$()!=null}function A4(t){return typeof t=="function"}var po=0,He=1,Ce=2,On=3,Jr=4,ei=5,Cm=6,Im=7,Xr=8,vl=9,Ai=10,Jt=11,Md=12,PD=13,Tl=14,Ti=15,_l=16,ll=17,wl=18,Gm=19,FR=20,ms=21,i0=22,Tr=23,co=25,LR=1;var Da=7,Sm=8,xm=9,Dr=10,Am=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Am||{});function gs(t){return Array.isArray(t)&&typeof t[LR]=="object"}function mo(t){return Array.isArray(t)&&t[LR]===!0}function lE(t){return(t.flags&4)!==0}function Wm(t){return t.componentOffset>-1}function Km(t){return(t.flags&1)===1}function vs(t){return!!t.template}function C0(t){return(t[Ce]&512)!==0}var I0=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function VR(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function go(){return BR}function BR(t){return t.type.prototype.ngOnChanges&&(t.setInput=D4),T4}go.ngInherit=!0;function T4(){let t=jR(this),e=t?.current;if(e){let n=t.previous;if(n===ml)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function D4(t,e,n,r,i){let o=this.declaredInputs[r],s=jR(t)||R4(t,{previous:ml,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new I0(u&&u.currentValue,n,c===ml),VR(t,e,i,n)}var UR="__ngSimpleChanges__";function jR(t){return t[UR]||null}function R4(t,e){return t[UR]=e}var kD=null;var Ii=function(t,e,n){kD?.(t,e,n)},M4="svg",N4="math";function Di(t){for(;Array.isArray(t);)t=t[po];return t}function $R(t,e){return Di(e[t])}function Nr(t,e){return Di(e[t.index])}function HR(t,e){return t.data[e]}function Es(t,e){let n=e[t];return gs(n)?n:n[po]}function uE(t){return(t[Ce]&128)===128}function P4(t){return mo(t[On])}function El(t,e){return e==null?null:t[e]}function qR(t){t[ll]=0}function zR(t){t[Ce]&1024||(t[Ce]|=1024,uE(t)&&Ym(t))}function k4(t,e){for(;t>0;)e=e[Tl],t--;return e}function Qm(t){return!!(t[Ce]&9216||t[Tr]?.dirty)}function S0(t){t[Ai].changeDetectionScheduler?.notify(8),t[Ce]&64&&(t[Ce]|=1024),Qm(t)&&Ym(t)}function Ym(t){t[Ai].changeDetectionScheduler?.notify(0);let e=Ra(t);for(;e!==null&&!(e[Ce]&8192||(e[Ce]|=8192,!uE(e)));)e=Ra(e)}function GR(t,e){if((t[Ce]&256)===256)throw new pe(911,!1);t[ms]===null&&(t[ms]=[]),t[ms].push(e)}function O4(t,e){if(t[ms]===null)return;let n=t[ms].indexOf(e);n!==-1&&t[ms].splice(n,1)}function Ra(t){let e=t[On];return mo(e)?e[On]:e}var Le={lFrame:nM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var WR=!1;function F4(){return Le.lFrame.elementDepthCount}function L4(){Le.lFrame.elementDepthCount++}function V4(){Le.lFrame.elementDepthCount--}function KR(){return Le.bindingsEnabled}function B4(){return Le.skipHydrationRootTNode!==null}function U4(t){return Le.skipHydrationRootTNode===t}function j4(){Le.skipHydrationRootTNode=null}function ct(){return Le.lFrame.lView}function Xn(){return Le.lFrame.tView}function ti(t){return Le.lFrame.contextLView=t,t[Xr]}function ni(t){return Le.lFrame.contextLView=null,t}function Ln(){let t=QR();for(;t!==null&&t.type===64;)t=t.parent;return t}function QR(){return Le.lFrame.currentTNode}function $4(){let t=Le.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function La(t,e){let n=Le.lFrame;n.currentTNode=t,n.isParent=e}function dE(){return Le.lFrame.isParent}function YR(){Le.lFrame.isParent=!1}function ZR(){return WR}function OD(t){WR=t}function H4(){let t=Le.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function q4(){return Le.lFrame.bindingIndex}function z4(t){return Le.lFrame.bindingIndex=t}function fE(){return Le.lFrame.bindingIndex++}function JR(t){let e=Le.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function G4(){return Le.lFrame.inI18n}function W4(t,e){let n=Le.lFrame;n.bindingIndex=n.bindingRootIndex=t,x0(e)}function K4(){return Le.lFrame.currentDirectiveIndex}function x0(t){Le.lFrame.currentDirectiveIndex=t}function Q4(t){let e=Le.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function XR(t){Le.lFrame.currentQueryIndex=t}function Y4(t){let e=t[He];return e.type===2?e.declTNode:e.type===1?t[ei]:null}function eM(t,e,n){if(n&Fe.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Fe.Host);)if(i=Y4(o),i===null||(o=o[Tl],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Le.lFrame=tM();return r.currentTNode=e,r.lView=t,!0}function hE(t){let e=tM(),n=t[He];Le.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function tM(){let t=Le.lFrame,e=t===null?null:t.child;return e===null?nM(t):e}function nM(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function rM(){let t=Le.lFrame;return Le.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var iM=rM;function pE(){let t=rM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Z4(t){return(Le.lFrame.contextLView=k4(t,Le.lFrame.contextLView))[Xr]}function Va(){return Le.lFrame.selectedIndex}function Ma(t){Le.lFrame.selectedIndex=t}function mE(){let t=Le.lFrame;return HR(t.tView,t.selectedIndex)}function J4(){return Le.lFrame.currentNamespace}var oM=!0;function Zm(){return oM}function Jm(t){oM=t}function X4(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=BR(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Xm(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function mm(t,e,n){sM(t,e,3,n)}function gm(t,e,n,r){(t[Ce]&3)===n&&sM(t,e,n,r)}function o0(t,e){let n=t[Ce];(n&3)===e&&(n&=16383,n+=1,t[Ce]=n)}function sM(t,e,n,r){let i=r!==void 0?t[ll]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[ll]+=65536),(a<o||o==-1)&&(eH(t,n,e,c),t[ll]=(t[ll]&4294901760)+c+2),c++}function FD(t,e){Ii(4,t,e);let n=Ze(null);try{e.call(t)}finally{Ze(n),Ii(5,t,e)}}function eH(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Ce]>>14<t[ll]>>16&&(t[Ce]&3)===e&&(t[Ce]+=16384,FD(a,o)):FD(a,o)}var fl=-1,Na=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function tH(t){return t instanceof Na}function nH(t){return(t.flags&8)!==0}function rH(t){return(t.flags&16)!==0}var s0={},A0=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=qm(r);let i=this.injector.get(e,s0,r);return i!==s0||n===s0?i:this.parentInjector.get(e,n,r)}};function aM(t){return t!==fl}function Tm(t){return t&32767}function iH(t){return t>>16}function Dm(t,e){let n=iH(t),r=e;for(;n>0;)r=r[Tl],n--;return r}var T0=!0;function LD(t){let e=T0;return T0=t,e}var oH=256,cM=oH-1,lM=5,sH=0,Si={};function aH(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ad)&&(r=n[Ad]),r==null&&(r=n[Ad]=sH++);let i=r&cM,o=1<<i;e.data[t+(i>>lM)]|=o}function Rm(t,e){let n=uM(t,e);if(n!==-1)return n;let r=e[He];r.firstCreatePass&&(t.injectorIndex=e.length,a0(r.data,t),a0(e,null),a0(r.blueprint,null));let i=gE(t,e),o=t.injectorIndex;if(aM(i)){let s=Tm(i),a=Dm(i,e),c=a[He].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function a0(t,e){t.push(0,0,0,0,0,0,0,0,e)}function uM(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function gE(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=mM(i),r===null)return fl;if(n++,i=i[Tl],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return fl}function D0(t,e,n){aH(t,e,n)}function cH(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(IR(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function dM(t,e,n){if(n&Fe.Optional||t!==void 0)return t;iE(e,"NodeInjector")}function fM(t,e,n,r){if(n&Fe.Optional&&r===void 0&&(r=null),!(n&(Fe.Self|Fe.Host))){let i=t[vl],o=xr(void 0);try{return i?i.get(e,r,n&Fe.Optional):yR(e,r,n&Fe.Optional)}finally{xr(o)}}return dM(r,e,n)}function hM(t,e,n,r=Fe.Default,i){if(t!==null){if(e[Ce]&2048&&!(r&Fe.Self)){let s=hH(t,e,n,r,Si);if(s!==Si)return s}let o=pM(t,e,n,r,Si);if(o!==Si)return o}return fM(e,n,r,i)}function pM(t,e,n,r,i){let o=dH(n);if(typeof o=="function"){if(!eM(e,t,r))return r&Fe.Host?dM(i,n,r):fM(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Fe.Optional))iE(n);else return s}finally{iM()}}else if(typeof o=="number"){let s=null,a=uM(t,e),c=fl,u=r&Fe.Host?e[Ti][ei]:null;for((a===-1||r&Fe.SkipSelf)&&(c=a===-1?gE(t,e):e[a+8],c===fl||!BD(r,!1)?a=-1:(s=e[He],a=Tm(c),e=Dm(c,e)));a!==-1;){let f=e[He];if(VD(o,a,f.data)){let h=lH(a,e,n,s,r,u);if(h!==Si)return h}c=e[a+8],c!==fl&&BD(r,e[He].data[a+8]===u)&&VD(o,a,e)?(s=f,a=Tm(c),e=Dm(c,e)):a=-1}}return i}function lH(t,e,n,r,i,o){let s=e[He],a=s.data[t+8],c=r==null?Wm(a)&&T0:r!=s&&(a.type&3)!==0,u=i&Fe.Host&&o===a,f=uH(a,s,n,c,u);return f!==null?bl(e,s,f,a):Si}function uH(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,u=t.directiveEnd,f=o>>20,h=r?a:a+f,y=i?a+f:u;for(let w=h;w<y;w++){let b=s[w];if(w<c&&n===b||w>=c&&b.type===n)return w}if(i){let w=s[c];if(w&&vs(w)&&w.type===n)return c}return null}function bl(t,e,n,r){let i=t[n],o=e.data;if(tH(i)){let s=i;s.resolving&&j$(U$(o[n]));let a=LD(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?xr(s.injectImpl):null,f=eM(t,r,Fe.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&X4(n,o[n],e)}finally{u!==null&&xr(u),LD(a),s.resolving=!1,iM()}}return i}function dH(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ad)?t[Ad]:void 0;return typeof e=="number"?e>=0?e&cM:fH:e}function VD(t,e,n){let r=1<<t;return!!(n[e+(t>>lM)]&r)}function BD(t,e){return!(t&Fe.Self)&&!(t&Fe.Host&&e)}var Aa=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return hM(this._tNode,this._lView,e,qm(r),n)}};function fH(){return new Aa(Ln(),ct())}function Mi(t){return Od(()=>{let e=t.prototype.constructor,n=e[_m]||R0(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[_m]||R0(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function R0(t){return dR(t)?()=>{let e=R0(Pn(t));return e&&e()}:pl(t)}function hH(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Ce]&2048&&!(s[Ce]&512);){let a=pM(o,s,n,r|Fe.Self,Si);if(a!==Si)return a;let c=o.parent;if(!c){let u=s[FR];if(u){let f=u.get(n,Si,r);if(f!==Si)return f}c=mM(s),s=s[Tl]}o=c}return i}function mM(t){let e=t[He],n=e.type;return n===2?e.declTNode:n===1?t[ei]:null}function yE(t){return cH(Ln(),t)}function UD(t,e=null,n=null,r){let i=gM(t,e,n,r);return i.resolveInjectorInitializers(),i}function gM(t,e=null,n=null,r,i=new Set){let o=[n||Ar,m4(t)];return r=r||(typeof t=="object"?void 0:kn(t)),new Rd(o,e||cE(),r||null,i)}var Jn=class t{static{this.THROW_IF_NOT_FOUND=Td}static{this.NULL=new bm}static create(e,n){if(Array.isArray(e))return UD({name:""},n,e,"");{let r=e.name??"";return UD({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=ge({token:t,providedIn:"any",factory:()=>Ve(ER)})}static{this.__NG_ELEMENT_ID__=-1}};var pH=new me("");pH.__NG_ELEMENT_ID__=t=>{let e=Ln();if(e===null)throw new pe(204,!1);if(e.type&2)return e.value;if(t&Fe.Optional)return null;throw new pe(204,!1)};var mH="ngOriginalError";function c0(t){return t[mH]}var yM=!0,vM=(()=>{class t{static{this.__NG_ELEMENT_ID__=gH}static{this.__NG_ENV_ID__=n=>n}}return t})(),M0=class extends vM{constructor(e){super(),this._lView=e}onDestroy(e){return GR(this._lView,e),()=>O4(this._lView,e)}};function gH(){return new M0(ct())}var Dl=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Qt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=ge({token:t,providedIn:"root",factory:()=>new t})}}return t})();var N0=class extends on{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,x4()&&(this.destroyRef=re(vM,{optional:!0})??void 0,this.pendingTasks=re(Dl,{optional:!0})??void 0)}emit(e){let n=Ze(null);try{super.next(e)}finally{Ze(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof St&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},lt=N0;function Mm(...t){}function _M(t){let e,n;function r(){t=Mm;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function jD(t){return queueMicrotask(()=>t()),()=>{t=Mm}}var vE="isAngularZone",Nm=vE+"_ID",yH=0,ot=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lt(!1),this.onMicrotaskEmpty=new lt(!1),this.onStable=new lt(!1),this.onError=new lt(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=yM}=e;if(typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,wH(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(vE)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new pe(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,vH,Mm,Mm);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},vH={};function _E(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function _H(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){_M(()=>{t.callbackScheduled=!1,P0(t),t.isCheckStableRunning=!0,_E(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),P0(t)}function wH(t){let e=()=>{_H(t)},n=yH++;t._inner=t._inner.fork({name:"angular",properties:{[vE]:!0,[Nm]:n,[Nm+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(EH(c))return r.invokeTask(o,s,a,c);try{return $D(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),HD(t)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return $D(t),r.invoke(o,s,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!bH(c)&&e(),HD(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,P0(t),_E(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function P0(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function $D(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function HD(t){t._nesting--,_E(t)}var k0=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lt,this.onMicrotaskEmpty=new lt,this.onStable=new lt,this.onError=new lt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function EH(t){return wM(t,"__ignore_ng_zone__")}function bH(t){return wM(t,"__scheduler_tick__")}function wM(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var lo=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&c0(e);for(;n&&c0(n);)n=c0(n);return n||null}},CH=new me("",{providedIn:"root",factory:()=>{let t=re(ot),e=re(lo);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function IH(){return eg(Ln(),ct())}function eg(t,e){return new ri(Nr(t,e))}var ri=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=IH}}return t})();function EM(t){return(t.flags&128)===128}var bM=new Map,SH=0;function xH(){return SH++}function AH(t){bM.set(t[Gm],t)}function O0(t){bM.delete(t[Gm])}var qD="__ngContext__";function _s(t,e){gs(e)?(t[qD]=e[Gm],AH(e)):t[qD]=e}function CM(t){return SM(t[Md])}function IM(t){return SM(t[Jr])}function SM(t){for(;t!==null&&!mo(t);)t=t[Jr];return t}var F0;function xM(t){F0=t}function TH(){if(F0!==void 0)return F0;if(typeof document<"u")return document;throw new pe(210,!1)}var wE=new me("",{providedIn:"root",factory:()=>DH}),DH="ng",EE=new me(""),bs=new me("",{providedIn:"platform",factory:()=>"unknown"});var bE=new me("",{providedIn:"root",factory:()=>TH().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var RH="h",MH="b";var NH=()=>null;function CE(t,e,n=!1){return NH(t,e,n)}var AM=!1,PH=new me("",{providedIn:"root",factory:()=>AM});var um;function kH(){if(um===void 0&&(um=null,m0.trustedTypes))try{um=m0.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return um}function zD(t){return kH()?.createScriptURL(t)||t}var Pm=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lR})`}};function Ld(t){return t instanceof Pm?t.changingThisBreaksApplicationSecurity:t}function IE(t,e){let n=OH(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${lR})`)}return n===e}function OH(t){return t instanceof Pm&&t.getTypeName()||null}var FH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function TM(t){return t=String(t),t.match(FH)?t:"unsafe:"+t}var tg=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(tg||{});function Vn(t){let e=RM();return e?e.sanitize(tg.URL,t)||"":IE(t,"URL")?Ld(t):TM(hl(t))}function LH(t){let e=RM();if(e)return zD(e.sanitize(tg.RESOURCE_URL,t)||"");if(IE(t,"ResourceURL"))return zD(Ld(t));throw new pe(904,!1)}function VH(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?LH:Vn}function DM(t,e,n){return VH(e,n)(t)}function RM(){let t=ct();return t&&t[Ai].sanitizer}var BH=/^>|^->|<!--|-->|--!>|<!-$/g,UH=/(<|>)/g,jH="\u200B$1\u200B";function $H(t){return t.replace(BH,e=>e.replace(UH,jH))}function MM(t){return t instanceof Function?t():t}var uo=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(uo||{}),HH;function SE(t,e){return HH(t,e)}function ul(t,e,n,r,i){if(r!=null){let o,s=!1;mo(r)?o=r:gs(r)&&(s=!0,r=r[po]);let a=Di(r);t===0&&n!==null?i==null?FM(e,n,a):km(e,n,a,i||null,!0):t===1&&n!==null?km(e,n,a,i||null,!0):t===2?o5(e,a,s):t===3&&e.destroyNode(a),o!=null&&a5(e,t,o,n,i)}}function qH(t,e){return t.createText(e)}function zH(t,e,n){t.setValue(e,n)}function GH(t,e){return t.createComment($H(e))}function NM(t,e,n){return t.createElement(e,n)}function WH(t,e){PM(t,e),e[po]=null,e[ei]=null}function KH(t,e,n,r,i,o){r[po]=i,r[ei]=e,rg(t,r,n,1,i,o)}function PM(t,e){e[Ai].changeDetectionScheduler?.notify(9),rg(t,e,e[Jt],2,null,null)}function QH(t){let e=t[Md];if(!e)return l0(t[He],t);for(;e;){let n=null;if(gs(e))n=e[Md];else{let r=e[Dr];r&&(n=r)}if(!n){for(;e&&!e[Jr]&&e!==t;)gs(e)&&l0(e[He],e),e=e[On];e===null&&(e=t),gs(e)&&l0(e[He],e),n=e&&e[Jr]}e=n}}function YH(t,e,n,r){let i=Dr+r,o=n.length;r>0&&(n[i-1][Jr]=e),r<o-Dr?(e[Jr]=n[i],wR(n,Dr+r,e)):(n.push(e),e[Jr]=null),e[On]=n;let s=e[_l];s!==null&&n!==s&&kM(s,e);let a=e[wl];a!==null&&a.insertView(t),S0(e),e[Ce]|=128}function kM(t,e){let n=t[xm],r=e[On];if(gs(r))t[Ce]|=Am.HasTransplantedViews;else{let i=r[On][Ti];e[Ti]!==i&&(t[Ce]|=Am.HasTransplantedViews)}n===null?t[xm]=[e]:n.push(e)}function xE(t,e){let n=t[xm],r=n.indexOf(e);n.splice(r,1)}function L0(t,e){if(t.length<=Dr)return;let n=Dr+e,r=t[n];if(r){let i=r[_l];i!==null&&i!==t&&xE(i,r),e>0&&(t[n-1][Jr]=r[Jr]);let o=Em(t,Dr+e);WH(r[He],r);let s=o[wl];s!==null&&s.detachView(o[He]),r[On]=null,r[Jr]=null,r[Ce]&=-129}return r}function OM(t,e){if(!(e[Ce]&256)){let n=e[Jt];n.destroyNode&&rg(t,e,n,3,null,null),QH(e)}}function l0(t,e){if(e[Ce]&256)return;let n=Ze(null);try{e[Ce]&=-129,e[Ce]|=256,e[Tr]&&Fw(e[Tr]),JH(t,e),ZH(t,e),e[He].type===1&&e[Jt].destroy();let r=e[_l];if(r!==null&&mo(e[On])){r!==e[On]&&xE(r,e);let i=e[wl];i!==null&&i.detachView(t)}O0(e)}finally{Ze(n)}}function ZH(t,e){let n=t.cleanup,r=e[Im];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Im]=null);let i=e[ms];if(i!==null){e[ms]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function JH(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Na)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ii(4,a,c);try{c.call(a)}finally{Ii(5,a,c)}}else{Ii(4,i,o);try{o.call(i)}finally{Ii(5,i,o)}}}}}function XH(t,e,n){return e5(t,e.parent,n)}function e5(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[po];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===xi.None||o===xi.Emulated)return null}return Nr(r,n)}}function km(t,e,n,r,i){t.insertBefore(e,n,r,i)}function FM(t,e,n){t.appendChild(e,n)}function GD(t,e,n,r,i){r!==null?km(t,e,n,r,i):FM(t,e,n)}function LM(t,e){return t.parentNode(e)}function t5(t,e){return t.nextSibling(e)}function n5(t,e,n){return i5(t,e,n)}function r5(t,e,n){return t.type&40?Nr(t,n):null}var i5=r5,WD;function ng(t,e,n,r){let i=XH(t,r,e),o=e[Jt],s=r.parent||e[ei],a=n5(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)GD(o,i,n[c],a,!1);else GD(o,i,n,a,!1);WD!==void 0&&WD(o,r,e,n,i)}function Sd(t,e){if(e!==null){let n=e.type;if(n&3)return Nr(e,t);if(n&4)return V0(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Sd(t,r);{let i=t[e.index];return mo(i)?V0(-1,i):Di(i)}}else{if(n&128)return Sd(t,e.next);if(n&32)return SE(e,t)()||Di(t[e.index]);{let r=VM(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ra(t[Ti]);return Sd(i,r)}else return Sd(t,e.next)}}}return null}function VM(t,e){if(e!==null){let r=t[Ti][ei],i=e.projection;return r.projection[i]}return null}function V0(t,e){let n=Dr+t+1;if(n<e.length){let r=e[n],i=r[He].firstChild;if(i!==null)return Sd(r,i)}return e[Da]}function o5(t,e,n){t.removeChild(null,e,n)}function AE(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&_s(Di(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)AE(t,e,n.child,r,i,o,!1),ul(e,t,i,a,o);else if(c&32){let u=SE(n,r),f;for(;f=u();)ul(e,t,i,f,o);ul(e,t,i,a,o)}else c&16?s5(t,e,r,n,i,o):ul(e,t,i,a,o);n=s?n.projectionNext:n.next}}function rg(t,e,n,r,i,o){AE(n,r,t.firstChild,e,i,o,!1)}function s5(t,e,n,r,i,o){let s=n[Ti],c=s[ei].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let f=c[u];ul(e,t,i,f,o)}else{let u=c,f=s[On];EM(r)&&(u.flags|=128),AE(t,e,u,f,i,o,!0)}}function a5(t,e,n,r,i){let o=n[Da],s=Di(n);o!==s&&ul(e,t,r,o,i);for(let a=Dr;a<n.length;a++){let c=n[a];rg(c[He],c,t,e,r,o)}}function c5(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:uo.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=uo.Important),t.setStyle(n,r,i,o))}}function l5(t,e,n){t.setAttribute(e,"style",n)}function BM(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function UM(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&_0(t,e,r),i!==null&&BM(t,e,i),o!==null&&l5(t,e,o)}var Ni={};function H(t=1){jM(Xn(),ct(),Va()+t,!1)}function jM(t,e,n,r){if(!r)if((e[Ce]&3)===3){let o=t.preOrderCheckHooks;o!==null&&mm(e,o,n)}else{let o=t.preOrderHooks;o!==null&&gm(e,o,0,n)}Ma(n)}function te(t,e=Fe.Default){let n=ct();if(n===null)return Ve(t,e);let r=Ln();return hM(r,n,Pn(t),e)}function $M(t,e,n,r,i,o){let s=Ze(null);try{let a=null;i&ys.SignalBased&&(a=e[r][as]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ys.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):VR(e,a,r,o)}finally{Ze(s)}}function u5(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ma(~i);else{let o=i,s=n[++r],a=n[++r];W4(s,o);let c=e[o];a(2,c)}}}finally{Ma(-1)}}function ig(t,e,n,r,i,o,s,a,c,u,f){let h=e.blueprint.slice();return h[po]=i,h[Ce]=r|4|128|8|64,(u!==null||t&&t[Ce]&2048)&&(h[Ce]|=2048),qR(h),h[On]=h[Tl]=t,h[Xr]=n,h[Ai]=s||t&&t[Ai],h[Jt]=a||t&&t[Jt],h[vl]=c||t&&t[vl]||null,h[ei]=o,h[Gm]=xH(),h[Cm]=f,h[FR]=u,h[Ti]=e.type==2?t[Ti]:h,h}function Vd(t,e,n,r,i){let o=t.data[e];if(o===null)o=d5(t,e,n,r,i),G4()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=$4();o.injectorIndex=s===null?-1:s.injectorIndex}return La(o,!0),o}function d5(t,e,n,r,i){let o=QR(),s=dE(),a=s?o:o&&o.parent,c=t.data[e]=g5(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function HM(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function qM(t,e,n,r,i){let o=Va(),s=r&2;try{Ma(-1),s&&e.length>co&&jM(t,e,co,!1),Ii(s?2:0,i),n(r,i)}finally{Ma(o),Ii(s?3:1,i)}}function TE(t,e,n){if(lE(e)){let r=Ze(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Ze(r)}}}function DE(t,e,n){KR()&&(b5(t,e,n,Nr(n,e)),(n.flags&64)===64&&KM(t,e,n))}function RE(t,e,n=Nr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function zM(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ME(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ME(t,e,n,r,i,o,s,a,c,u,f){let h=co+r,y=h+i,w=f5(h,y),b=typeof u=="function"?u():u;return w[He]={type:t,blueprint:w,template:n,queries:null,viewQuery:a,declTNode:e,data:w.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:f}}function f5(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ni);return n}function h5(t,e,n,r){let o=r.get(PH,AM)||n===xi.ShadowDom,s=t.selectRootElement(e,o);return p5(s),s}function p5(t){m5(t)}var m5=()=>null;function g5(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return B4()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function KD(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=ys.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}t===0?QD(r,n,u,a,c):QD(r,n,u,a)}return r}function QD(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function y5(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,u=null;for(let f=r;f<i;f++){let h=o[f],y=n?n.get(h):null,w=y?y.inputs:null,b=y?y.outputs:null;c=KD(0,h.inputs,f,c,w),u=KD(1,h.outputs,f,u,b);let L=c!==null&&s!==null&&!sE(e)?P5(c,f,s):null;a.push(L)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function v5(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function GM(t,e,n,r,i,o,s,a){let c=Nr(e,n),u=e.inputs,f;!a&&u!=null&&(f=u[r])?(PE(t,n,f,r,i),Wm(e)&&_5(n,e.index)):e.type&3?(r=v5(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function _5(t,e){let n=Es(e,t);n[Ce]&16||(n[Ce]|=64)}function NE(t,e,n,r){if(KR()){let i=r===null?null:{"":-1},o=I5(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&WM(t,e,n,s,i,a),i&&S5(n,r,i)}n.mergedAttrs=Dd(n.mergedAttrs,n.attrs)}function WM(t,e,n,r,i,o){for(let u=0;u<r.length;u++)D0(Rm(n,e),t,r[u].type);A5(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let f=r[u];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,c=HM(t,e,r.length,null);for(let u=0;u<r.length;u++){let f=r[u];n.mergedAttrs=Dd(n.mergedAttrs,f.hostAttrs),T5(t,n,e,c,f),x5(c,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let h=f.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}y5(t,n,o)}function w5(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;E5(s)!=a&&s.push(a),s.push(n,r,o)}}function E5(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function b5(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Wm(n)&&D5(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Rm(n,e),_s(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],u=bl(e,t,a,n);if(_s(u,e),s!==null&&N5(e,a-i,u,c,n,s),vs(c)){let f=Es(n.index,e);f[Xr]=bl(e,t,a,n)}}}function KM(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=K4();try{Ma(o);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];x0(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&C5(c,u)}}finally{Ma(-1),x0(s)}}function C5(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function I5(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(s4(e,s.selectors,!1))if(r||(r=[]),vs(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;B0(t,e,c)}else r.unshift(s),B0(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function B0(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function S5(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new pe(-301,!1);r.push(e[i],o)}}}function x5(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vs(e)&&(n[""]=t)}}function A5(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function T5(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=pl(i.type,!0)),s=new Na(o,vs(i),te);t.blueprint[r]=s,n[r]=s,w5(t,e,r,HM(t,n,i.hostVars,Ni),i)}function D5(t,e,n){let r=Nr(e,t),i=zM(n),o=t[Ai].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=og(t,ig(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function R5(t,e,n,r,i,o){let s=Nr(t,e);M5(e[Jt],s,o,t.value,n,r,i)}function M5(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?hl(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function N5(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],f=s[a++],h=s[a++];$M(r,n,c,u,f,h)}}function P5(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function QM(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function YM(t,e){let n=t.contentQueries;if(n!==null){let r=Ze(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];XR(o),a.contentQueries(2,e[s],s)}}}finally{Ze(r)}}}function og(t,e){return t[Md]?t[PD][Jr]=e:t[Md]=e,t[PD]=e,e}function U0(t,e,n){XR(0);let r=Ze(null);try{e(t,n)}finally{Ze(r)}}function k5(t){return t[Im]??=[]}function O5(t){return t.cleanup??=[]}function ZM(t,e){let n=t[vl],r=n?n.get(lo,null):null;r&&r.handleError(e)}function PE(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],u=e[s],f=t.data[s];$M(f,u,r,a,c,i)}}function JM(t,e,n){let r=$R(e,t);zH(t[Jt],r,n)}function F5(t,e){let n=Es(e,t),r=n[He];L5(r,n);let i=n[po];i!==null&&n[Cm]===null&&(n[Cm]=CE(i,n[vl])),kE(r,n,n[Xr])}function L5(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function kE(t,e,n){hE(e);try{let r=t.viewQuery;r!==null&&U0(1,r,n);let i=t.template;i!==null&&qM(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[wl]?.finishViewCreation(t),t.staticContentQueries&&YM(t,e),t.staticViewQueries&&U0(2,t.viewQuery,n);let o=t.components;o!==null&&V5(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Ce]&=-5,pE()}}function V5(t,e){for(let n=0;n<e.length;n++)F5(t,e[n])}function B5(t,e,n,r){let i=Ze(null);try{let o=e.tView,a=t[Ce]&4096?4096:16,c=ig(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[_l]=u;let f=t[wl];return f!==null&&(c[wl]=f.createEmbeddedView(o)),kE(o,c,n),c}finally{Ze(i)}}function YD(t,e){return!e||e.firstChild===null||EM(t)}function U5(t,e,n,r=!0){let i=e[He];if(YH(i,e,t,n),r){let s=V0(n,t),a=e[Jt],c=LM(a,t[Da]);c!==null&&KH(i,t[ei],a,e,c,s)}let o=e[Cm];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Om(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Di(o)),mo(o)&&j5(o,r);let s=n.type;if(s&8)Om(t,e,n.child,r);else if(s&32){let a=SE(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=VM(e,n);if(Array.isArray(a))r.push(...a);else{let c=Ra(e[Ti]);Om(c[He],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function j5(t,e){for(let n=Dr;n<t.length;n++){let r=t[n],i=r[He].firstChild;i!==null&&Om(r[He],r,i,e)}t[Da]!==t[po]&&e.push(t[Da])}var XM=[];function $5(t){return t[Tr]??H5(t)}function H5(t){let e=XM.pop()??Object.create(z5);return e.lView=t,e}function q5(t){t.lView[Tr]!==t&&(t.lView=null,XM.push(t))}var z5=q(I({},Ed),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ym(t.lView)},consumerOnSignalRead(){this.lView[Tr]=this}});function G5(t){let e=t[Tr]??Object.create(W5);return e.lView=t,e}var W5=q(I({},Ed),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Ra(t.lView);for(;e&&!eN(e[He]);)e=Ra(e);e&&zR(e)},consumerOnSignalRead(){this.lView[Tr]=this}});function eN(t){return t.type!==2}var K5=100;function tN(t,e=!0,n=0){let r=t[Ai],i=r.rendererFactory,o=!1;o||i.begin?.();try{Q5(t,n)}catch(s){throw e&&ZM(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Q5(t,e){let n=ZR();try{OD(!0),j0(t,e);let r=0;for(;Qm(t);){if(r===K5)throw new pe(103,!1);r++,j0(t,1)}}finally{OD(n)}}function Y5(t,e,n,r){let i=e[Ce];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Ai].inlineEffectRunner?.flush(),hE(e);let a=!0,c=null,u=null;o||(eN(t)?(u=$5(e),c=Np(u)):jT()===null?(a=!1,u=G5(e),c=Np(u)):e[Tr]&&(Fw(e[Tr]),e[Tr]=null));try{qR(e),z4(t.bindingStartIndex),n!==null&&qM(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let w=t.preOrderCheckHooks;w!==null&&mm(e,w,null)}else{let w=t.preOrderHooks;w!==null&&gm(e,w,0,null),o0(e,0)}if(s||Z5(e),nN(e,0),t.contentQueries!==null&&YM(t,e),!o)if(f){let w=t.contentCheckHooks;w!==null&&mm(e,w)}else{let w=t.contentHooks;w!==null&&gm(e,w,1),o0(e,1)}u5(t,e);let h=t.components;h!==null&&iN(e,h,0);let y=t.viewQuery;if(y!==null&&U0(2,y,r),!o)if(f){let w=t.viewCheckHooks;w!==null&&mm(e,w)}else{let w=t.viewHooks;w!==null&&gm(e,w,2),o0(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[i0]){for(let w of e[i0])w();e[i0]=null}o||(e[Ce]&=-73)}catch(f){throw o||Ym(e),f}finally{u!==null&&(kw(u,c),a&&q5(u)),pE()}}function nN(t,e){for(let n=CM(t);n!==null;n=IM(n))for(let r=Dr;r<n.length;r++){let i=n[r];rN(i,e)}}function Z5(t){for(let e=CM(t);e!==null;e=IM(e)){if(!(e[Ce]&Am.HasTransplantedViews))continue;let n=e[xm];for(let r=0;r<n.length;r++){let i=n[r];zR(i)}}}function J5(t,e,n){let r=Es(e,t);rN(r,n)}function rN(t,e){uE(t)&&j0(t,e)}function j0(t,e){let r=t[He],i=t[Ce],o=t[Tr],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ow(o)),s||=!1,o&&(o.dirty=!1),t[Ce]&=-9217,s)Y5(r,t,r.template,t[Xr]);else if(i&8192){nN(t,1);let a=r.components;a!==null&&iN(t,a,1)}}function iN(t,e,n){for(let r=0;r<e.length;r++)J5(t,e[r],n)}function OE(t,e){let n=ZR()?64:1088;for(t[Ai].changeDetectionScheduler?.notify(e);t;){t[Ce]|=n;let r=Ra(t);if(C0(t)&&!r)return t;t=r}return null}var Pa=class{get rootNodes(){let e=this._lView,n=e[He];return Om(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xr]}set context(e){this._lView[Xr]=e}get destroyed(){return(this._lView[Ce]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[On];if(mo(e)){let n=e[Sm],r=n?n.indexOf(this):-1;r>-1&&(L0(e,r),Em(n,r))}this._attachedToViewContainer=!1}OM(this._lView[He],this._lView)}onDestroy(e){GR(this._lView,e)}markForCheck(){OE(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ce]&=-129}reattach(){S0(this._lView),this._lView[Ce]|=128}detectChanges(){this._lView[Ce]|=1024,tN(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=C0(this._lView),n=this._lView[_l];n!==null&&!e&&xE(n,this._lView),PM(this._lView[He],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=e;let n=C0(this._lView),r=this._lView[_l];r!==null&&!n&&kM(r,this._lView),S0(this._lView)}},sg=(()=>{class t{static{this.__NG_ELEMENT_ID__=t6}}return t})(),X5=sg,e6=class extends X5{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=B5(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Pa(i)}};function t6(){return n6(Ln(),ct())}function n6(t,e){return t.type&4?new e6(e,t,eg(t,e)):null}var ple=new RegExp(`^(\\d+)*(${MH}|${RH})*(.*)`);var r6=()=>null;function ZD(t,e){return r6(t,e)}var Cl=class{},ag=new me("",{providedIn:"root",factory:()=>!1});var oN=new me(""),sN=new me(""),$0=class{},Fm=class{};function i6(t){let e=Error(`No component factory found for ${kn(t)}.`);return e[o6]=t,e}var o6="ngComponent";var H0=class{resolveComponentFactory(e){throw i6(e)}},Il=class{static{this.NULL=new H0}},Sl=class{},Pi=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>s6()}}return t})();function s6(){let t=ct(),e=Ln(),n=Es(e.index,t);return(gs(n)?n:t)[Jt]}var a6=(()=>{class t{static{this.\u0275prov=ge({token:t,providedIn:"root",factory:()=>null})}}return t})();function Lm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=CD(i,a);else if(o==2){let c=a,u=e[++s];r=CD(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Vm=class extends Il{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ta(e);return new Nd(n,this.ngModule)}};function JD(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:ys.None;e?n.push({propName:s,templateName:r,isSignal:(a&ys.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function c6(t){let e=t.toLowerCase();return e==="svg"?M4:e==="math"?N4:null}var Nd=class extends Fm{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=JD(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return JD(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=u4(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Ze(null);try{i=i||this.ngModule;let s=i instanceof Rr?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new A0(e,s):e,c=a.get(Sl,null);if(c===null)throw new pe(407,!1);let u=a.get(a6,null),f=a.get(Cl,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:f},y=c.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",b=r?h5(y,r,this.componentDef.encapsulation,a):NM(y,w,c6(w)),L=512;this.componentDef.signals?L|=4096:this.componentDef.onPush||(L|=16);let M=null;b!==null&&(M=CE(b,a,!0));let j=ME(0,null,null,1,0,null,null,null,null,null,null),K=ig(null,j,null,L,null,null,h,y,a,null,M);hE(K);let ee,ce,xe=null;try{let de=this.componentDef,P,x=null;de.findHostDirectiveDefs?(P=[],x=new Map,de.findHostDirectiveDefs(de,P,x),P.push(de)):P=[de];let T=l6(K,b);xe=u6(T,b,de,P,K,h,y),ce=HR(j,co),b&&h6(y,de,b,r),n!==void 0&&p6(ce,this.ngContentSelectors,n),ee=f6(xe,de,P,x,K,[m6]),kE(j,K,null)}catch(de){throw xe!==null&&O0(xe),O0(K),de}finally{pE()}return new q0(this.componentType,ee,eg(ce,K),K,ce)}finally{Ze(o)}}},q0=class extends $0{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Pa(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;PE(o[He],o,i,e,n),this.previousInputValues.set(e,n);let s=Es(this._tNode.index,o);OE(s,1)}}get injector(){return new Aa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function l6(t,e){let n=t[He],r=co;return t[r]=e,Vd(n,r,2,"#host",null)}function u6(t,e,n,r,i,o,s){let a=i[He];d6(r,t,e,s);let c=null;e!==null&&(c=CE(e,i[vl]));let u=o.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let h=ig(i,zM(n),null,f,i[t.index],t,o,u,null,null,c);return a.firstCreatePass&&B0(a,t,r.length-1),og(i,h),i[t.index]=h}function d6(t,e,n,r){for(let i of t)e.mergedAttrs=Dd(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Lm(e,e.mergedAttrs,!0),n!==null&&UM(r,n,e))}function f6(t,e,n,r,i,o){let s=Ln(),a=i[He],c=Nr(s,i);WM(a,i,s,n,null,r);for(let f=0;f<n.length;f++){let h=s.directiveStart+f,y=bl(i,a,h,s);_s(y,i)}KM(a,i,s),c&&_s(c,i);let u=bl(i,a,s.directiveStart+s.componentOffset,s);if(t[Xr]=i[Xr]=u,o!==null)for(let f of o)f(u,e);return TE(a,s,i),u}function h6(t,e,n,r){if(r)_0(t,n,["ng-version","18.2.9"]);else{let{attrs:i,classes:o}=d4(e.selectors[0]);i&&_0(t,n,i),o&&o.length>0&&BM(t,n,o.join(" "))}}function p6(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function m6(){let t=Ln();Xm(ct()[He],t)}var Rl=(()=>{class t{static{this.__NG_ELEMENT_ID__=g6}}return t})();function g6(){let t=Ln();return v6(t,ct())}var y6=Rl,aN=class extends y6{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return eg(this._hostTNode,this._hostLView)}get injector(){return new Aa(this._hostTNode,this._hostLView)}get parentInjector(){let e=gE(this._hostTNode,this._hostLView);if(aM(e)){let n=Dm(e,this._hostLView),r=Tm(e),i=n[He].data[r+8];return new Aa(i,n)}else return new Aa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=XD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Dr}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ZD(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,YD(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!A4(e),a;if(s)a=n;else{let b=n||{};a=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}let c=s?e:new Nd(Ta(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let L=(s?u:this.parentInjector).get(Rr,null);L&&(o=L)}let f=Ta(c.componentType??{}),h=ZD(this._lContainer,f?.id??null),y=h?.firstChild??null,w=c.create(u,i,y,o);return this.insertImpl(w.hostView,a,YD(this._hostTNode,h)),w}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(P4(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[On],u=new aN(c,c[ei],c[On]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return U5(s,i,o,r),e.attachToViewContainerRef(),wR(u0(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=XD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=L0(this._lContainer,n);r&&(Em(u0(this._lContainer),n),OM(r[He],r))}detach(e){let n=this._adjustIndex(e,-1),r=L0(this._lContainer,n);return r&&Em(u0(this._lContainer),n)!=null?new Pa(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function XD(t){return t[Sm]}function u0(t){return t[Sm]||(t[Sm]=[])}function v6(t,e){let n,r=e[t.index];return mo(r)?n=r:(n=QM(r,e,null,t),e[t.index]=n,og(e,n)),w6(n,e,t,r),new aN(n,t,e)}function _6(t,e){let n=t[Jt],r=n.createComment(""),i=Nr(e,t),o=LM(n,i);return km(n,o,r,t5(n,i),!1),r}var w6=C6,E6=()=>!1;function b6(t,e,n){return E6(t,e,n)}function C6(t,e,n,r){if(t[Da])return;let i;n.type&8?i=Di(r):i=_6(e,n),t[Da]=i}var eR=new Set;function Bd(t){eR.has(t)||(eR.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Ud(t,e){Bd("NgSignals");let n=JT(t),r=n[as];return e?.equal&&(r.equal=e.equal),n.set=i=>Lw(r,i),n.update=i=>XT(r,i),n.asReadonly=I6.bind(n),n}function I6(){let t=this[as];if(t.readonlyFn===void 0){let e=()=>this();e[as]=t,t.readonlyFn=e}return t.readonlyFn}function S6(t){return Object.getPrototypeOf(t.prototype).constructor}function Bn(t){let e=S6(t.type),n=!0,r=[t];for(;e;){let i;if(vs(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new pe(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=dm(t.inputs),s.inputTransforms=dm(t.inputTransforms),s.declaredInputs=dm(t.declaredInputs),s.outputs=dm(t.outputs);let a=i.hostBindings;a&&R6(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&T6(t,c),u&&D6(t,u),x6(t,i),N$(t.outputs,i.outputs),vs(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Bn&&(n=!1)}}e=Object.getPrototypeOf(e)}A6(r)}function x6(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function A6(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Dd(i.hostAttrs,n=Dd(n,i.hostAttrs))}}function dm(t){return t===ml?{}:t===Ar?[]:t}function T6(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function D6(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function R6(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function FE(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var ws=class{},Pd=class{};var z0=class extends ws{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vm(this);let o=DR(e);this._bootstrapComponents=MM(o.bootstrap),this._r3Injector=gM(e,n,[{provide:ws,useValue:this},{provide:Il,useValue:this.componentFactoryResolver},...r],kn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},G0=class extends Pd{constructor(e){super(),this.moduleType=e}create(e){return new z0(this.moduleType,e,[])}};var Bm=class extends ws{constructor(e){super(),this.componentFactoryResolver=new Vm(this),this.instance=null;let n=new Rd([...e.providers,{provide:ws,useValue:this},{provide:Il,useValue:this.componentFactoryResolver}],e.parent||cE(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function LE(t,e,n=null){return new Bm({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function cN(t){return N6(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function M6(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function N6(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function P6(t,e,n){return t[e]=n}function xl(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function lN(t,e,n,r){let i=xl(t,e,n);return xl(t,e+1,r)||i}function k6(t){return(t.flags&32)===32}function O6(t,e,n,r,i,o,s,a,c){let u=e.consts,f=Vd(e,t,4,s||null,a||null);NE(e,n,f,El(u,c)),Xm(e,f);let h=f.tView=ME(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,f),h.queries=e.queries.embeddedTView(f)),f}function F6(t,e,n,r,i,o,s,a,c,u){let f=n+co,h=e.firstCreatePass?O6(f,e,t,r,i,o,s,a,c):e.data[f];La(h,!1);let y=L6(e,t,h,n);Zm()&&ng(e,t,y,h),_s(y,t);let w=QM(y,t,y,h);return t[f]=w,og(t,w),b6(w,h,t),Km(h)&&DE(e,t,h),c!=null&&RE(t,h,u),h}function he(t,e,n,r,i,o,s,a){let c=ct(),u=Xn(),f=El(u.consts,o);return F6(c,u,t,e,n,r,i,f,s,a),he}var L6=V6;function V6(t,e,n,r){return Jm(!0),e[Jt].createComment("")}var xd=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(xd||{}),B6=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=ge({token:t,providedIn:"root",factory:()=>new t})}}return t})(),tR=class t{constructor(){this.ngZone=re(ot),this.scheduler=re(Cl),this.errorHandler=re(lo,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[xd.EarlyRead,xd.Write,xd.MixedReadWrite,xd.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=ge({token:t,providedIn:"root",factory:()=>new t})}};function jd(t,e,n,r){let i=ct(),o=fE();if(xl(i,o,e)){let s=Xn(),a=mE();R5(a,i,t,e,n,r)}return jd}function uN(t,e,n,r){return xl(t,fE(),n)?e+hl(n)+r:Ni}function U6(t,e,n,r,i,o){let s=q4(),a=lN(t,s,n,i);return JR(2),a?e+hl(n)+r+hl(i)+o:Ni}function fm(t,e){return t<<17|e<<2}function ka(t){return t>>17&32767}function j6(t){return(t&2)==2}function $6(t,e){return t&131071|e<<17}function W0(t){return t|2}function Al(t){return(t&131068)>>2}function d0(t,e){return t&-131069|e<<2}function H6(t){return(t&1)===1}function K0(t){return t|1}function q6(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ka(s),c=Al(s);t[r]=n;let u=!1,f;if(Array.isArray(n)){let h=n;f=h[1],(f===null||Fd(h,f)>0)&&(u=!0)}else f=n;if(i)if(c!==0){let y=ka(t[a+1]);t[r+1]=fm(y,a),y!==0&&(t[y+1]=d0(t[y+1],r)),t[a+1]=$6(t[a+1],r)}else t[r+1]=fm(a,0),a!==0&&(t[a+1]=d0(t[a+1],r)),a=r;else t[r+1]=fm(c,0),a===0?a=r:t[c+1]=d0(t[c+1],r),c=r;u&&(t[r+1]=W0(t[r+1])),nR(t,f,r,!0),nR(t,f,r,!1),z6(e,f,t,r,o),s=fm(a,c),o?e.classBindings=s:e.styleBindings=s}function z6(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Fd(o,e)>=0&&(n[r+1]=K0(n[r+1]))}function nR(t,e,n,r){let i=t[n+1],o=e===null,s=r?ka(i):Al(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],u=t[s+1];G6(c,e)&&(a=!0,t[s+1]=r?K0(u):W0(u)),s=r?ka(u):Al(u)}a&&(t[n+1]=r?W0(i):K0(i))}function G6(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Fd(t,e)>=0:!1}function Z(t,e,n){let r=ct(),i=fE();if(xl(r,i,e)){let o=Xn(),s=mE();GM(o,s,r,t,e,r[Jt],n,!1)}return Z}function rR(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";PE(t,n,o[s],s,r)}function cg(t,e){return W6(t,e,null,!0),cg}function W6(t,e,n,r){let i=ct(),o=Xn(),s=JR(2);if(o.firstUpdatePass&&Q6(o,t,s,r),e!==Ni&&xl(i,s,e)){let a=o.data[Va()];eq(o,a,i,i[Jt],t,i[s+1]=tq(e,n),r,s)}}function K6(t,e){return e>=t.expandoStartIndex}function Q6(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Va()],s=K6(t,n);nq(o,r)&&e===null&&!s&&(e=!1),e=Y6(i,o,e,r),q6(i,o,e,n,s,r)}}function Y6(t,e,n,r){let i=Q4(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=f0(null,t,e,n,r),n=kd(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=f0(i,t,e,n,r),o===null){let c=Z6(t,e,r);c!==void 0&&Array.isArray(c)&&(c=f0(null,t,e,c[1],r),c=kd(c,e.attrs,r),J6(t,e,r,c))}else o=X6(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function Z6(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Al(r)!==0)return t[ka(r)]}function J6(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ka(i)]=r}function X6(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=kd(r,s,n)}return kd(r,e.attrs,n)}function f0(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=kd(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function kd(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),J$(t,s,n?!0:e[++o]))}return t===void 0?null:t}function eq(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],f=H6(u)?iR(c,e,n,i,Al(u),s):void 0;if(!Um(f)){Um(o)||j6(u)&&(o=iR(c,null,n,i,a,s));let h=$R(Va(),n);c5(r,s,h,i,o)}}function iR(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),f=u?c[1]:c,h=f===null,y=n[i+1];y===Ni&&(y=h?Ar:void 0);let w=h?n0(y,r):f===r?y:void 0;if(u&&!Um(w)&&(w=n0(c,r)),Um(w)&&(a=w,s))return a;let b=t[i+1];i=s?ka(b):Al(b)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=n0(c,r))}return a}function Um(t){return t!==void 0}function tq(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=kn(Ld(t)))),t}function nq(t,e){return(t.flags&(e?8:16))!==0}function rq(t,e,n,r,i,o){let s=e.consts,a=El(s,i),c=Vd(e,t,2,r,a);return NE(e,n,c,El(s,o)),c.attrs!==null&&Lm(c,c.attrs,!1),c.mergedAttrs!==null&&Lm(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function D(t,e,n,r){let i=ct(),o=Xn(),s=co+t,a=i[Jt],c=o.firstCreatePass?rq(s,o,i,e,n,r):o.data[s],u=iq(o,i,c,a,e,t);i[s]=u;let f=Km(c);return La(c,!0),UM(a,u,c),!k6(c)&&Zm()&&ng(o,i,u,c),F4()===0&&_s(u,i),L4(),f&&(DE(o,i,c),TE(o,c,i)),r!==null&&RE(i,c),D}function A(){let t=Ln();dE()?YR():(t=t.parent,La(t,!1));let e=t;U4(e)&&j4(),V4();let n=Xn();return n.firstCreatePass&&(Xm(n,t),lE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&nH(e)&&rR(n,e,ct(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&rH(e)&&rR(n,e,ct(),e.stylesWithoutHost,!1),A}function fe(t,e,n,r){return D(t,e,n,r),A(),fe}var iq=(t,e,n,r,i,o)=>(Jm(!0),NM(r,i,J4()));function oq(t,e,n,r,i){let o=e.consts,s=El(o,r),a=Vd(e,t,8,"ng-container",s);s!==null&&Lm(a,s,!0);let c=El(o,i);return NE(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function $d(t,e,n){let r=ct(),i=Xn(),o=t+co,s=i.firstCreatePass?oq(o,i,r,e,n):i.data[o];La(s,!0);let a=sq(i,r,s,t);return r[o]=a,Zm()&&ng(i,r,a,s),_s(a,r),Km(s)&&(DE(i,r,s),TE(i,s,r)),n!=null&&RE(r,s),$d}function Hd(){let t=Ln(),e=Xn();return dE()?YR():(t=t.parent,La(t,!1)),e.firstCreatePass&&(Xm(e,t),lE(t)&&e.queries.elementEnd(t)),Hd}var sq=(t,e,n,r)=>(Jm(!0),GH(e[Jt],""));function yo(){return ct()}var jm="en-US";var aq=jm;function cq(t){typeof t=="string"&&(aq=t.toLowerCase().replace(/_/g,"-"))}var lq=(t,e,n)=>{};function De(t,e,n,r){let i=ct(),o=Xn(),s=Ln();return dq(o,i,i[Jt],s,t,e,r),De}function uq(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Im],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function dq(t,e,n,r,i,o,s){let a=Km(r),u=t.firstCreatePass&&O5(t),f=e[Xr],h=k5(e),y=!0;if(r.type&3||s){let L=Nr(r,e),M=s?s(L):L,j=h.length,K=s?ce=>s(Di(ce[r.index])):r.index,ee=null;if(!s&&a&&(ee=uq(t,e,i,r.index)),ee!==null){let ce=ee.__ngLastListenerFn__||ee;ce.__ngNextListenerFn__=o,ee.__ngLastListenerFn__=o,y=!1}else{o=sR(r,e,f,o),lq(L,i,o);let ce=n.listen(M,i,o);h.push(o,ce),u&&u.push(i,K,j,j+1)}}else o=sR(r,e,f,o);let w=r.outputs,b;if(y&&w!==null&&(b=w[i])){let L=b.length;if(L)for(let M=0;M<L;M+=2){let j=b[M],K=b[M+1],xe=e[j][K].subscribe(o),de=h.length;h.push(o,xe),u&&u.push(i,r.index,de,-(de+1))}}}function oR(t,e,n,r){let i=Ze(null);try{return Ii(6,e,n),n(r)!==!1}catch(o){return ZM(t,o),!1}finally{Ii(7,e,n),Ze(i)}}function sR(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Es(t.index,e):e;OE(s,5);let a=oR(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=oR(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function tt(t=1){return Z4(t)}function Ba(t,e,n){return dN(t,"",e,"",n),Ba}function dN(t,e,n,r,i){let o=ct(),s=uN(o,e,n,r);if(s!==Ni){let a=Xn(),c=mE();GM(a,c,o,t,s,o[Jt],i,!1)}return dN}function V(t,e=""){let n=ct(),r=Xn(),i=t+co,o=r.firstCreatePass?Vd(r,i,1,e,null):r.data[i],s=fq(r,n,o,e,t);n[i]=s,Zm()&&ng(r,n,s,o),La(o,!1)}var fq=(t,e,n,r,i)=>(Jm(!0),qH(e[Jt],r));function nt(t){return dr("",t,""),nt}function dr(t,e,n){let r=ct(),i=uN(r,t,e,n);return i!==Ni&&JM(r,Va(),i),dr}function VE(t,e,n,r,i){let o=ct(),s=U6(o,t,e,n,r,i);return s!==Ni&&JM(o,Va(),s),VE}function hq(t,e,n){let r=Xn();if(r.firstCreatePass){let i=vs(t);Q0(n,r.data,r.blueprint,i,!0),Q0(e,r.data,r.blueprint,i,!1)}}function Q0(t,e,n,r,i){if(t=Pn(t),Array.isArray(t))for(let o=0;o<t.length;o++)Q0(t[o],e,n,r,i);else{let o=Xn(),s=ct(),a=Ln(),c=yl(t)?t:Pn(t.provide),u=OR(t),f=a.providerIndexes&1048575,h=a.directiveStart,y=a.providerIndexes>>20;if(yl(t)||!t.multi){let w=new Na(u,i,te),b=p0(c,e,i?f:f+y,h);b===-1?(D0(Rm(a,s),o,c),h0(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(w),s.push(w)):(n[b]=w,s[b]=w)}else{let w=p0(c,e,f+y,h),b=p0(c,e,f,f+y),L=w>=0&&n[w],M=b>=0&&n[b];if(i&&!M||!i&&!L){D0(Rm(a,s),o,c);let j=gq(i?mq:pq,n.length,i,r,u);!i&&M&&(n[b].providerFactory=j),h0(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(j),s.push(j)}else{let j=fN(n[i?b:w],u,!i&&r);h0(o,t,w>-1?w:b,j)}!i&&r&&M&&n[b].componentProviders++}}}function h0(t,e,n,r){let i=yl(e),o=_4(e);if(i||o){let c=(o?Pn(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=u.indexOf(n);f===-1?u.push(n,[r,c]):u[f+1].push(r,c)}else u.push(n,c)}}}function fN(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function p0(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function pq(t,e,n,r){return Y0(this.multi,[])}function mq(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=bl(n,n[He],this.providerFactory.index,r);o=a.slice(0,s),Y0(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Y0(i,o);return o}function Y0(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function gq(t,e,n,r,i){let o=new Na(t,n,te);return o.multi=[],o.index=e,o.componentProviders=0,fN(o,i,r&&!n),o}function ki(t,e=[]){return n=>{n.providersResolver=(r,i)=>hq(r,i?i(t):t,e)}}var yq=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=NR(!1,n.type),i=r.length>0?LE([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ge({token:t,providedIn:"environment",factory:()=>new t(Ve(Rr))})}}return t})();function _t(t){Bd("NgStandalone"),t.getStandaloneInjector=e=>e.get(yq).getOrCreateStandaloneInjector(t)}function BE(t,e,n,r,i){return _q(ct(),H4(),t,e,n,r,i)}function vq(t,e){let n=t[e];return n===Ni?void 0:n}function _q(t,e,n,r,i,o,s){let a=e+n;return lN(t,a,i,o)?P6(t,a+2,s?r.call(s,i,o):r(i,o)):vq(t,a+2)}var fo=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},hN=new fo("18.2.9");var lg=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var pN=new me("");function Ua(t){return!!t&&typeof t.then=="function"}function mN(t){return!!t&&typeof t.subscribe=="function"}var gN=new me(""),yN=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=re(gN,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(Ua(o))n.push(o);else if(mN(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),UE=new me("");function wq(){ZT(()=>{throw new pe(600,!1)})}function Eq(t){return t.isBoundToModule}var bq=10;function Cq(t,e,n){try{let r=n();return Ua(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ja=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=re(CH),this.afterRenderManager=re(B6),this.zonelessEnabled=re(ag),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new on,this.afterTick=new on,this.componentTypes=[],this.components=[],this.isStable=re(Dl).hasPendingTasks.pipe(Pe(n=>!n)),this._injector=re(Rr)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Fm;if(!this._injector.get(yN).done){let y=!i&&TR(n),w=!1;throw new pe(405,w)}let s;i?s=n:s=this._injector.get(Il).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=Eq(s)?void 0:this._injector.get(ws),c=r||s.selector,u=s.create(Jn.NULL,[],c,a),f=u.location.nativeElement,h=u.injector.get(pN,null);return h?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),ym(this.components,u),h?.unregisterApplication(f)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new pe(101,!1);let n=Ze(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ze(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Sl,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<bq;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)Iq(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Qm(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ym(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(UE,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ym(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new pe(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ym(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Iq(t,e,n,r){if(!n&&!Qm(t))return;tN(t,e,n&&!r?0:1)}var Z0=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},jE=(()=>{class t{compileModuleSync(n){return new G0(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=DR(n),o=MM(i.declarations).reduce((s,a)=>{let c=Ta(a);return c&&s.push(new Nd(c)),s},[]);return new Z0(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Sq=(()=>{class t{constructor(){this.zone=re(ot),this.changeDetectionScheduler=re(Cl),this.applicationRef=re(ja)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xq=new me("",{factory:()=>!1});function vN({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ot(q(I({},wN()),{scheduleInRootZone:n})),[{provide:ot,useFactory:t},{provide:gl,multi:!0,useFactory:()=>{let r=re(Sq,{optional:!0});return()=>r.initialize()}},{provide:gl,multi:!0,useFactory:()=>{let r=re(Aq);return()=>{r.initialize()}}},e===!0?{provide:oN,useValue:!0}:[],{provide:sN,useValue:n??yM}]}function _N(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=vN({ngZoneFactory:()=>{let i=wN(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Bd("NgZone_CoalesceEvent"),new ot(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Ri([{provide:xq,useValue:!0},{provide:ag,useValue:!1},r])}function wN(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Aq=(()=>{class t{constructor(){this.subscription=new St,this.initialized=!1,this.zone=re(ot),this.pendingTasks=re(Dl)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ot.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ot.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Tq=(()=>{class t{constructor(){this.appRef=re(ja),this.taskService=re(Dl),this.ngZone=re(ot),this.zonelessEnabled=re(ag),this.disableScheduling=re(oN,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new St,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Nm):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(re(sN,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof k0||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?jD:_M;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Nm+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,jD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Dq(){return typeof $localize<"u"&&$localize.locale||jm}var $E=new me("",{providedIn:"root",factory:()=>re($E,Fe.Optional|Fe.SkipSelf)||Dq()});var J0=new me("");function hm(t){return!t.moduleRef}function Rq(t){let e=hm(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ot);return n.run(()=>{hm(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(lo,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),hm(t)){let o=()=>e.destroy(),s=t.platformInjector.get(J0);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(J0);s.add(o),t.moduleRef.onDestroy(()=>{ym(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return Cq(r,n,()=>{let o=e.get(yN);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get($E,jm);if(cq(s||jm),hm(t)){let a=e.get(ja);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return Mq(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Mq(t,e){let n=t.injector.get(ja);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new pe(-403,!1);e.push(t)}var vm=null;function Nq(t=[],e){return Jn.create({name:e,providers:[{provide:zm,useValue:"platform"},{provide:J0,useValue:new Set([()=>vm=null])},...t]})}function Pq(t=[]){if(vm)return vm;let e=Nq(t);return vm=e,wq(),kq(e),e}function kq(t){t.get(EE,null)?.forEach(n=>n())}var Ml=(()=>{class t{static{this.__NG_ELEMENT_ID__=Oq}}return t})();function Oq(t){return Fq(Ln(),ct(),(t&16)===16)}function Fq(t,e,n){if(Wm(t)&&!n){let r=Es(t.index,e);return new Pa(r,r)}else if(t.type&175){let r=e[Ti];return new Pa(r,e)}return null}var X0=class{constructor(){}supports(e){return cN(e)}create(e){return new eE(e)}},Lq=(t,e)=>e,eE=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Lq}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<aR(r,i,o)?n:r,a=aR(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,f=c-i;if(u!=f){for(let y=0;y<u;y++){let w=y<o.length?o[y]:o[y]=0,b=w+y;f<=b&&b<u&&(o[y]=w+1)}let h=s.previousIndex;o[h]=f-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!cN(e))throw new pe(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,M6(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new tE(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new $m),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new $m),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},tE=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},nE=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},$m=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new nE,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function aR(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function cR(){return new HE([new X0])}var HE=(()=>{class t{static{this.\u0275prov=ge({token:t,providedIn:"root",factory:cR})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||cR()),deps:[[t,new _R,new Fn]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new pe(901,!1)}}return t})();function EN(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Pq(r),o=[vN({}),{provide:Cl,useExisting:Tq},...n||[]],s=new Bm({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Rq({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function $a(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function qd(t,e){Bd("NgSignals");let n=KT(t);return e?.equal&&(n[as].equal=e.equal),n}function vo(t){let e=Ze(null);try{return t()}finally{Ze(e)}}var AN=null;function _o(){return AN}function TN(t){AN??=t}var ug=class{};var Pr=new me(""),DN=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:()=>re(Vq),providedIn:"platform"})}}return t})();var Vq=(()=>{class t extends DN{constructor(){super(),this._doc=re(Pr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _o().getBaseHref(this._doc)}onPopState(n){let r=_o().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=_o().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function RN(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function bN(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ha(t){return t&&t[0]!=="?"?"?"+t:t}var Nl=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:()=>re(MN),providedIn:"root"})}}return t})(),Bq=new me(""),MN=(()=>{class t extends Nl{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??re(Pr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return RN(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ha(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Ha(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Ha(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(Ve(DN),Ve(Bq,8))}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var zd=(()=>{class t{constructor(n){this._subject=new lt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=$q(bN(CN(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ha(r))}normalize(n){return t.stripTrailingSlash(jq(this._basePath,CN(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ha(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ha(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Ha}static{this.joinWithSlash=RN}static{this.stripTrailingSlash=bN}static{this.\u0275fac=function(r){return new(r||t)(Ve(Nl))}}static{this.\u0275prov=ge({token:t,factory:()=>Uq(),providedIn:"root"})}}return t})();function Uq(){return new zd(Ve(Nl))}function jq(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function CN(t){return t.replace(/\/index.html$/,"")}function $q(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function NN(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var qE=/\s+/,IN=[],PN=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=IN,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(qE):IN}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(qE):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(qE).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(te(ri),te(Pi))}}static{this.\u0275dir=ut({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var zE=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Pl=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new zE(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),SN(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);SN(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(te(Rl),te(sg),te(HE))}}static{this.\u0275dir=ut({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function SN(t,e){t.context.$implicit=e.item}var In=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new GE,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){xN("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){xN("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(te(Rl),te(sg))}}static{this.\u0275dir=ut({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),GE=class{constructor(){this.$implicit=null,this.ngIf=null}};function xN(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${kn(e)}'.`)}var fr=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Fa({type:t})}static{this.\u0275inj=Oa({})}}return t})(),kN="browser",Hq="server";function WE(t){return t===Hq}var dg=class{};var YE=class extends ug{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ZE=class t extends YE{static makeCurrent(){TN(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=qq();return n==null?null:zq(n)}resetBaseElement(){Wd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return NN(document.cookie,e)}},Wd=null;function qq(){return Wd=Wd||document.querySelector("base"),Wd?Wd.getAttribute("href"):null}function zq(t){return new URL(t,document.baseURI).pathname}var Gq=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac})}}return t})(),JE=new me(""),VN=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new pe(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(Ve(JE),Ve(ot))}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac})}}return t})(),fg=class{constructor(e){this._doc=e}},KE="ng-app-id",BN=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=WE(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${KE}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(KE),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(KE,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(Ve(Pr),Ve(wE),Ve(bE,8),Ve(bs))}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac})}}return t})(),QE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},eb=/%COMP%/g,UN="%COMP%",Wq=`_nghost-${UN}`,Kq=`_ngcontent-${UN}`,Qq=!0,Yq=new me("",{providedIn:"root",factory:()=>Qq});function Zq(t){return Kq.replace(eb,t)}function Jq(t){return Wq.replace(eb,t)}function jN(t,e){return e.map(n=>n.replace(eb,t))}var ON=(()=>{class t{constructor(n,r,i,o,s,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=WE(a),this.defaultRenderer=new Kd(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===xi.ShadowDom&&(r=q(I({},r),{encapsulation:xi.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof hg?i.applyToHost(n):i instanceof Qd&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case xi.Emulated:o=new hg(c,u,r,this.appId,f,s,a,h);break;case xi.ShadowDom:return new XE(c,u,n,r,s,a,this.nonce,h);default:o=new Qd(c,u,r,f,s,a,h);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(Ve(VN),Ve(BN),Ve(wE),Ve(Yq),Ve(Pr),Ve(bs),Ve(ot),Ve(bE))}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac})}}return t})(),Kd=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(QE[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(FN(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(FN(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new pe(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=QE[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=QE[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(uo.DashCase|uo.Important)?e.style.setProperty(n,r,i&uo.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&uo.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=_o().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function FN(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var XE=class extends Kd{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=jN(i.id,i.styles);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Qd=class extends Kd{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?jN(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},hg=class extends Qd{constructor(e,n,r,i,o,s,a,c){let u=i+"-"+r.id;super(e,n,r,o,s,a,c,u),this.contentAttr=Zq(u),this.hostAttr=Jq(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Xq=(()=>{class t extends fg{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(Ve(Pr))}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac})}}return t})(),LN=["alt","control","meta","shift"],e8={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},t8={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},n8=(()=>{class t extends fg{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_o().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),LN.forEach(u=>{let f=r.indexOf(u);f>-1&&(r.splice(f,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=e8[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),LN.forEach(s=>{if(s!==i){let a=t8[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(Ve(Pr))}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac})}}return t})();function $N(t,e){return EN(I({rootComponent:t},r8(e)))}function r8(t){return{appProviders:[...c8,...t?.providers??[]],platformProviders:a8}}function i8(){ZE.makeCurrent()}function o8(){return new lo}function s8(){return xM(document),document}var a8=[{provide:bs,useValue:kN},{provide:EE,useValue:i8,multi:!0},{provide:Pr,useFactory:s8,deps:[]}];var c8=[{provide:zm,useValue:"root"},{provide:lo,useFactory:o8,deps:[]},{provide:JE,useClass:Xq,multi:!0,deps:[Pr,ot,bs]},{provide:JE,useClass:n8,multi:!0,deps:[Pr]},ON,BN,VN,{provide:Sl,useExisting:ON},{provide:dg,useClass:Gq,deps:[]},[]];var HN=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(Ve(Pr))}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Me="primary",ff=Symbol("RouteTitle"),ob=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Bl(t){return new ob(t)}function u8(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function d8(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Oi(t[n],e[n]))return!1;return!0}function Oi(t,e){let n=t?sb(t):void 0,r=e?sb(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!ZN(t[i],e[i]))return!1;return!0}function sb(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ZN(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function JN(t){return t.length>0?t[t.length-1]:null}function Is(t){return Yw(t)?t:Ua(t)?xt(Promise.resolve(t)):Te(t)}var f8={exact:eP,subset:tP},XN={exact:h8,subset:p8,ignored:()=>!0};function qN(t,e,n){return f8[n.paths](t.root,e.root,n.matrixParams)&&XN[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function h8(t,e){return Oi(t,e)}function eP(t,e,n){if(!za(t.segments,e.segments)||!gg(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!eP(t.children[r],e.children[r],n))return!1;return!0}function p8(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ZN(t[n],e[n]))}function tP(t,e,n){return nP(t,e,e.segments,n)}function nP(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!za(i,n)||e.hasChildren()||!gg(i,n,r))}else if(t.segments.length===n.length){if(!za(t.segments,n)||!gg(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!tP(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!za(t.segments,i)||!gg(t.segments,i,r)||!t.children[Me]?!1:nP(t.children[Me],e,o,r)}}function gg(t,e,n){return e.every((r,i)=>XN[n](t[i].parameters,r.parameters))}var Eo=class{constructor(e=new rt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Bl(this.queryParams),this._queryParamMap}toString(){return y8.serialize(this)}},rt=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yg(this)}},qa=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Bl(this.parameters),this._parameterMap}toString(){return iP(this)}};function m8(t,e){return za(t,e)&&t.every((n,r)=>Oi(n.parameters,e[r].parameters))}function za(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function g8(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Me&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Me&&(n=n.concat(e(i,r)))}),n}var Nb=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:()=>new nf,providedIn:"root"})}}return t})(),nf=class{parse(e){let n=new cb(e);return new Eo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Yd(e.root,!0)}`,r=w8(e.queryParams),i=typeof e.fragment=="string"?`#${v8(e.fragment)}`:"";return`${n}${r}${i}`}},y8=new nf;function yg(t){return t.segments.map(e=>iP(e)).join("/")}function Yd(t,e){if(!t.hasChildren())return yg(t);if(e){let n=t.children[Me]?Yd(t.children[Me],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Me&&r.push(`${i}:${Yd(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=g8(t,(r,i)=>i===Me?[Yd(t.children[Me],!1)]:[`${i}:${Yd(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Me]!=null?`${yg(t)}/${n[0]}`:`${yg(t)}/(${n.join("//")})`}}function rP(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pg(t){return rP(t).replace(/%3B/gi,";")}function v8(t){return encodeURI(t)}function ab(t){return rP(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vg(t){return decodeURIComponent(t)}function zN(t){return vg(t.replace(/\+/g,"%20"))}function iP(t){return`${ab(t.path)}${_8(t.parameters)}`}function _8(t){return Object.entries(t).map(([e,n])=>`;${ab(e)}=${ab(n)}`).join("")}function w8(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${pg(n)}=${pg(i)}`).join("&"):`${pg(n)}=${pg(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var E8=/^[^\/()?;#]+/;function tb(t){let e=t.match(E8);return e?e[0]:""}var b8=/^[^\/()?;=#]+/;function C8(t){let e=t.match(b8);return e?e[0]:""}var I8=/^[^=?&#]+/;function S8(t){let e=t.match(I8);return e?e[0]:""}var x8=/^[^&#]+/;function A8(t){let e=t.match(x8);return e?e[0]:""}var cb=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new rt([],{}):new rt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Me]=new rt(e,n)),r}parseSegment(){let e=tb(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new pe(4009,!1);return this.capture(e),new qa(vg(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=C8(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=tb(this.remaining);i&&(r=i,this.capture(r))}e[vg(n)]=vg(r)}parseQueryParam(e){let n=S8(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=A8(this.remaining);s&&(r=s,this.capture(r))}let i=zN(n),o=zN(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=tb(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new pe(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Me);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Me]:new rt([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new pe(4011,!1)}};function oP(t){return t.segments.length>0?new rt([],{[Me]:t}):t}function sP(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=sP(i);if(r===Me&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new rt(t.segments,e);return T8(n)}function T8(t){if(t.numberOfChildren===1&&t.children[Me]){let e=t.children[Me];return new rt(t.segments.concat(e.segments),e.children)}return t}function Ga(t){return t instanceof Eo}function D8(t,e,n=null,r=null){let i=aP(t);return cP(i,e,n,r)}function aP(t){let e;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new rt(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=oP(r);return e??i}function cP(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return nb(i,i,i,n,r);let o=R8(e);if(o.toRoot())return nb(i,i,new rt([],{}),n,r);let s=M8(o,i,t),a=s.processChildren?Xd(s.segmentGroup,s.index,o.commands):uP(s.segmentGroup,s.index,o.commands);return nb(i,s.segmentGroup,a,n,r)}function _g(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function rf(t){return typeof t=="object"&&t!=null&&t.outlets}function nb(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`});let s;t===e?s=n:s=lP(t,e,n);let a=oP(sP(s));return new Eo(a,o,i)}function lP(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=lP(o,e,n)}),new rt(t.segments,r)}var wg=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&_g(r[0]))throw new pe(4003,!1);let i=r.find(rf);if(i&&i!==JN(r))throw new pe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function R8(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new wg(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new wg(n,e,r)}var Fl=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function M8(t,e,n){if(t.isAbsolute)return new Fl(e,!0,0);if(!n)return new Fl(e,!1,NaN);if(n.parent===null)return new Fl(n,!0,0);let r=_g(t.commands[0])?0:1,i=n.segments.length-1+r;return N8(n,i,t.numberOfDoubleDots)}function N8(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new pe(4005,!1);i=r.segments.length}return new Fl(r,!1,i-o)}function P8(t){return rf(t[0])?t[0].outlets:{[Me]:t}}function uP(t,e,n){if(t??=new rt([],{}),t.segments.length===0&&t.hasChildren())return Xd(t,e,n);let r=k8(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new rt(t.segments.slice(0,r.pathIndex),{});return o.children[Me]=new rt(t.segments.slice(r.pathIndex),t.children),Xd(o,0,i)}else return r.match&&i.length===0?new rt(t.segments,{}):r.match&&!t.hasChildren()?lb(t,e,n):r.match?Xd(t,0,i):lb(t,e,n)}function Xd(t,e,n){if(n.length===0)return new rt(t.segments,{});{let r=P8(n),i={};if(Object.keys(r).some(o=>o!==Me)&&t.children[Me]&&t.numberOfChildren===1&&t.children[Me].segments.length===0){let o=Xd(t.children[Me],e,n);return new rt(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=uP(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new rt(t.segments,i)}}function k8(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(rf(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!WN(c,u,s))return o;r+=2}else{if(!WN(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function lb(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(rf(o)){let c=O8(o.outlets);return new rt(r,c)}if(i===0&&_g(n[0])){let c=t.segments[e];r.push(new qa(c.path,GN(n[0]))),i++;continue}let s=rf(o)?o.outlets[Me]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&_g(a)?(r.push(new qa(s,GN(a))),i+=2):(r.push(new qa(s,{})),i++)}return new rt(r,{})}function O8(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=lb(new rt([],{}),0,r))}),e}function GN(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function WN(t,e,n){return t==n.path&&Oi(e,n.parameters)}var ef="imperative",yn=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(yn||{}),kr=class{constructor(e,n){this.id=e,this.url=n}},of=class extends kr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=yn.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Cs=class extends kr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=yn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},pr=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(pr||{}),ub=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ub||{}),wo=class extends kr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=yn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Wa=class extends kr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=yn.NavigationSkipped}},sf=class extends kr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=yn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Eg=class extends kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=yn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},db=class extends kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=yn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fb=class extends kr{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=yn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},hb=class extends kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=yn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pb=class extends kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=yn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mb=class{constructor(e){this.route=e,this.type=yn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},gb=class{constructor(e){this.route=e,this.type=yn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},yb=class{constructor(e){this.snapshot=e,this.type=yn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vb=class{constructor(e){this.snapshot=e,this.type=yn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_b=class{constructor(e){this.snapshot=e,this.type=yn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wb=class{constructor(e){this.snapshot=e,this.type=yn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var af=class{},Ul=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function F8(t,e){return t.providers&&!t._injector&&(t._injector=LE(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ii(t){return t.outlet||Me}function L8(t,e){let n=t.filter(r=>ii(r)===e);return n.push(...t.filter(r=>ii(r)!==e)),n}function hf(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Eb=class{get injector(){return hf(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Tg(this.rootInjector),this.attachRef=null}},Tg=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Eb(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(Ve(Rr))}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),bg=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=bb(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=bb(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Cb(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Cb(e,this._root).map(n=>n.value)}};function bb(t,e){if(t===e.value)return e;for(let n of e.children){let r=bb(t,n);if(r)return r}return null}function Cb(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Cb(t,n);if(r.length)return r.unshift(e),r}return[]}var hr=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ol(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Cg=class extends bg{constructor(e,n){super(e),this.snapshot=n,Pb(this,e)}toString(){return this.snapshot.toString()}};function dP(t){let e=V8(t),n=new Qt([new qa("",{})]),r=new Qt({}),i=new Qt({}),o=new Qt({}),s=new Qt(""),a=new Ka(n,r,o,s,i,Me,t,e.root);return a.snapshot=e.root,new Cg(new hr(a,[]),e)}function V8(t){let e={},n={},r={},i="",o=new Ll([],e,r,i,n,Me,t,null,{});return new Sg("",new hr(o,[]))}var Ka=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Pe(u=>u[ff]))??Te(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Pe(e=>Bl(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Pe(e=>Bl(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ig(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:I(I({},e.params),t.params),data:I(I({},e.data),t.data),resolve:I(I(I(I({},t.data),e.data),i?.data),t._resolvedData)}:r={params:I({},t.params),data:I({},t.data),resolve:I(I({},t.data),t._resolvedData??{})},i&&hP(i)&&(r.resolve[ff]=i.title),r}var Ll=class{get title(){return this.data?.[ff]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Bl(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Bl(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Sg=class extends bg{constructor(e,n){super(n),this.url=e,Pb(this,n)}toString(){return fP(this._root)}};function Pb(t,e){e.value._routerState=t,e.children.forEach(n=>Pb(t,n))}function fP(t){let e=t.children.length>0?` { ${t.children.map(fP).join(", ")} } `:"";return`${t.value}${e}`}function rb(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Oi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Oi(e.params,n.params)||t.paramsSubject.next(n.params),d8(e.url,n.url)||t.urlSubject.next(n.url),Oi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Ib(t,e){let n=Oi(t.params,e.params)&&m8(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Ib(t.parent,e.parent))}function hP(t){return typeof t.title=="string"||t.title===null}var kb=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Me,this.activateEvents=new lt,this.deactivateEvents=new lt,this.attachEvents=new lt,this.detachEvents=new lt,this.parentContexts=re(Tg),this.location=re(Rl),this.changeDetector=re(Ml),this.inputBinder=re(Ob,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new pe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new pe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new pe(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new pe(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Sb(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ut({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[go]})}}return t})(),Sb=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ka?this.route:e===Tg?this.childContexts:this.parent.get(e,n)}},Ob=new me("");function B8(t,e,n){let r=cf(t,e._root,n?n._root:void 0);return new Cg(r,e)}function cf(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=U8(t,e,n);return new hr(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>cf(t,a)),s}}let r=j8(e.value),i=e.children.map(o=>cf(t,o));return new hr(r,i)}}function U8(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return cf(t,r,i);return cf(t,r)})}function j8(t){return new Ka(new Qt(t.url),new Qt(t.params),new Qt(t.queryParams),new Qt(t.fragment),new Qt(t.data),t.outlet,t.component,t)}var lf=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},pP="ngNavigationCancelingError";function xg(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ga(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=mP(!1,pr.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function mP(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[pP]=!0,n.cancellationCode=e,n}function $8(t){return gP(t)&&Ga(t.url)}function gP(t){return!!t&&t[pP]}var H8=(t,e,n,r)=>Pe(i=>(new xb(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),xb=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),rb(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ol(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ol(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ol(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ol(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new wb(o.value.snapshot))}),e.children.length&&this.forwardEvent(new vb(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(rb(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),rb(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ag=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Vl=class{constructor(e,n){this.component=e,this.route=n}};function q8(t,e,n){let r=t._root,i=e?e._root:null;return Zd(r,i,n,[r.value])}function z8(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function $l(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!fR(t)?t:e.get(t):r}function Zd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ol(e);return t.children.forEach(s=>{G8(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>tf(a,n.getContext(s),i)),i}function G8(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=W8(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ag(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Zd(t,e,a?a.children:null,r,i):Zd(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Vl(a.outlet.component,s))}else s&&tf(e,a,i),i.canActivateChecks.push(new Ag(r)),o.component?Zd(t,null,a?a.children:null,r,i):Zd(t,null,n,r,i);return i}function W8(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!za(t.url,e.url);case"pathParamsOrQueryParamsChange":return!za(t.url,e.url)||!Oi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ib(t,e)||!Oi(t.queryParams,e.queryParams);case"paramsChange":default:return!Ib(t,e)}}function tf(t,e,n){let r=Ol(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?tf(s,e.children.getContext(o),n):tf(s,null,n):tf(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Vl(e.outlet.component,i)):n.canDeactivateChecks.push(new Vl(null,i)):n.canDeactivateChecks.push(new Vl(null,i))}function pf(t){return typeof t=="function"}function K8(t){return typeof t=="boolean"}function Q8(t){return t&&pf(t.canLoad)}function Y8(t){return t&&pf(t.canActivate)}function Z8(t){return t&&pf(t.canActivateChild)}function J8(t){return t&&pf(t.canDeactivate)}function X8(t){return t&&pf(t.canMatch)}function yP(t){return t instanceof so||t?.name==="EmptyError"}var mg=Symbol("INITIAL_VALUE");function jl(){return Yr(t=>im(t.map(e=>e.pipe(ao(1),cm(mg)))).pipe(Pe(e=>{for(let n of e)if(n!==!0){if(n===mg)return mg;if(n===!1||ez(n))return n}return!0}),Sr(e=>e!==mg),ao(1)))}function ez(t){return Ga(t)||t instanceof lf}function tz(t,e){return Yt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Te(q(I({},n),{guardsResult:!0})):nz(s,r,i,t).pipe(Yt(a=>a&&K8(a)?rz(r,o,t,e):Te(a)),Pe(a=>q(I({},n),{guardsResult:a})))})}function nz(t,e,n,r){return xt(t).pipe(Yt(i=>cz(i.component,i.route,n,e,r)),Ci(i=>i!==!0,!0))}function rz(t,e,n,r){return xt(e).pipe(sl(i=>ol(oz(i.route.parent,r),iz(i.route,r),az(t,i.path,n),sz(t,i.route,n))),Ci(i=>i!==!0,!0))}function iz(t,e){return t!==null&&e&&e(new _b(t)),Te(!0)}function oz(t,e){return t!==null&&e&&e(new yb(t)),Te(!0)}function sz(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Te(!0);let i=r.map(o=>om(()=>{let s=hf(e)??n,a=$l(o,s),c=Y8(a)?a.canActivate(e,t):ho(s,()=>a(e,t));return Is(c).pipe(Ci())}));return Te(i).pipe(jl())}function az(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>z8(s)).filter(s=>s!==null).map(s=>om(()=>{let a=s.guards.map(c=>{let u=hf(s.node)??n,f=$l(c,u),h=Z8(f)?f.canActivateChild(r,t):ho(u,()=>f(r,t));return Is(h).pipe(Ci())});return Te(a).pipe(jl())}));return Te(o).pipe(jl())}function cz(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Te(!0);let s=o.map(a=>{let c=hf(e)??i,u=$l(a,c),f=J8(u)?u.canDeactivate(t,e,n,r):ho(c,()=>u(t,e,n,r));return Is(f).pipe(Ci())});return Te(s).pipe(jl())}function lz(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Te(!0);let o=i.map(s=>{let a=$l(s,t),c=Q8(a)?a.canLoad(e,n):ho(t,()=>a(e,n));return Is(c)});return Te(o).pipe(jl(),vP(r))}function vP(t){return Bp(Zt(e=>{if(typeof e!="boolean")throw xg(t,e)}),Pe(e=>e===!0))}function uz(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Te(!0);let o=i.map(s=>{let a=$l(s,t),c=X8(a)?a.canMatch(e,n):ho(t,()=>a(e,n));return Is(c)});return Te(o).pipe(jl(),vP(r))}var uf=class{constructor(e){this.segmentGroup=e||null}},df=class extends Error{constructor(e){super(),this.urlTree=e}};function kl(t){return il(new uf(t))}function dz(t){return il(new pe(4e3,!1))}function fz(t){return il(mP(!1,pr.GuardRejected))}var Ab=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Te(r);if(i.numberOfChildren>1||!i.children[Me])return dz(`${e.redirectTo}`);i=i.children[Me]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:u,routeConfig:f,url:h,outlet:y,params:w,data:b,title:L}=i,M=ho(o,()=>a({params:w,data:b,queryParams:c,fragment:u,routeConfig:f,url:h,outlet:y,title:L}));if(M instanceof Eo)throw new df(M);n=M}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new df(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Eo(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new rt(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new pe(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Tb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hz(t,e,n,r,i){let o=_P(t,e,n);return o.matched?(r=F8(e,r),uz(r,e,n,i).pipe(Pe(s=>s===!0?o:I({},Tb)))):Te(o)}function _P(t,e,n){if(e.path==="**")return pz(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?I({},Tb):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||u8)(n,t,e);if(!i)return I({},Tb);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?I(I({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function pz(t){return{matched:!0,parameters:t.length>0?JN(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function KN(t,e,n,r){return n.length>0&&yz(t,n,r)?{segmentGroup:new rt(e,gz(r,new rt(n,t.children))),slicedSegments:[]}:n.length===0&&vz(t,n,r)?{segmentGroup:new rt(t.segments,mz(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new rt(t.segments,t.children),slicedSegments:n}}function mz(t,e,n,r){let i={};for(let o of n)if(Dg(t,e,o)&&!r[ii(o)]){let s=new rt([],{});i[ii(o)]=s}return I(I({},r),i)}function gz(t,e){let n={};n[Me]=e;for(let r of t)if(r.path===""&&ii(r)!==Me){let i=new rt([],{});n[ii(r)]=i}return n}function yz(t,e,n){return n.some(r=>Dg(t,e,r)&&ii(r)!==Me)}function vz(t,e,n){return n.some(r=>Dg(t,e,r))}function Dg(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function _z(t,e,n){return e.length===0&&!t.children[n]}var Db=class{};function wz(t,e,n,r,i,o,s="emptyOnly"){return new Rb(t,e,n,r,i,s,o).recognize()}var Ez=31,Rb=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ab(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new pe(4002,`'${e.segmentGroup}'`)}recognize(){let e=KN(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Pe(({children:n,rootSnapshot:r})=>{let i=new hr(r,n),o=new Sg("",i),s=D8(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Ll([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Me,n).pipe(Pe(r=>({children:r,rootSnapshot:n})),fs(r=>{if(r instanceof df)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof uf?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(Pe(s=>s instanceof hr?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return xt(o).pipe(sl(s=>{let a=r.children[s],c=L8(n,s);return this.processSegmentGroup(e,c,a,s,i)}),am((s,a)=>(s.push(...a),s)),hs(null),e0(),Yt(s=>{if(s===null)return kl(r);let a=wP(s);return bz(a),Te(a)}))}processSegment(e,n,r,i,o,s,a){return xt(n).pipe(sl(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(fs(u=>{if(u instanceof uf)return Te(null);throw u}))),Ci(c=>!!c),fs(c=>{if(yP(c))return _z(r,i,o)?Te(new Db):kl(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return ii(r)!==s&&(s===Me||!Dg(i,o,r))?kl(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):kl(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:f,positionalParamSegments:h,remainingSegments:y}=_P(n,i,o);if(!c)return kl(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ez&&(this.allowRedirects=!1));let w=new Ll(o,u,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,QN(i),ii(i),i.component??i._loadedComponent??null,i,YN(i)),b=Ig(w,a,this.paramsInheritanceStrategy);w.params=Object.freeze(b.params),w.data=Object.freeze(b.data);let L=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,h,w,e);return this.applyRedirects.lineralizeSegments(i,L).pipe(Yt(M=>this.processSegment(e,r,n,M.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=hz(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Yr(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Yr(({routes:u})=>{let f=r._loadedInjector??e,{parameters:h,consumedSegments:y,remainingSegments:w}=c,b=new Ll(y,h,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,QN(r),ii(r),r.component??r._loadedComponent??null,r,YN(r)),L=Ig(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(L.params),b.data=Object.freeze(L.data);let{segmentGroup:M,slicedSegments:j}=KN(n,y,w,u);if(j.length===0&&M.hasChildren())return this.processChildren(f,u,M,b).pipe(Pe(ee=>new hr(b,ee)));if(u.length===0&&j.length===0)return Te(new hr(b,[]));let K=ii(r)===o;return this.processSegment(f,u,M,j,K?Me:o,!0,b).pipe(Pe(ee=>new hr(b,ee instanceof hr?[ee]:[])))}))):kl(n)))}getChildConfig(e,n,r){return n.children?Te({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Te({routes:n._loadedRoutes,injector:n._loadedInjector}):lz(e,n,r,this.urlSerializer).pipe(Yt(i=>i?this.configLoader.loadChildren(e,n).pipe(Zt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):fz(n))):Te({routes:[],injector:e})}};function bz(t){t.sort((e,n)=>e.value.outlet===Me?-1:n.value.outlet===Me?1:e.value.outlet.localeCompare(n.value.outlet))}function Cz(t){let e=t.value.routeConfig;return e&&e.path===""}function wP(t){let e=[],n=new Set;for(let r of t){if(!Cz(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=wP(r.children);e.push(new hr(r.value,i))}return e.filter(r=>!n.has(r))}function QN(t){return t.data||{}}function YN(t){return t.resolve||{}}function Iz(t,e,n,r,i,o){return Yt(s=>wz(t,e,n,r,s.extractedUrl,i,o).pipe(Pe(({state:a,tree:c})=>q(I({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Sz(t,e){return Yt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Te(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of EP(c))s.add(u);let a=0;return xt(s).pipe(sl(c=>o.has(c)?xz(c,r,t,e):(c.data=Ig(c,c.parent,t).resolve,Te(void 0))),Zt(()=>a++),al(1),Yt(c=>a===s.size?Te(n):ur))})}function EP(t){let e=t.children.map(n=>EP(n)).flat();return[t,...e]}function xz(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!hP(i)&&(o[ff]=i.title),Az(o,t,e,r).pipe(Pe(s=>(t._resolvedData=s,t.data=Ig(t,t.parent,n).resolve,null)))}function Az(t,e,n,r){let i=sb(t);if(i.length===0)return Te({});let o={};return xt(i).pipe(Yt(s=>Tz(t[s],e,n,r).pipe(Ci(),Zt(a=>{if(a instanceof lf)throw xg(new nf,a);o[s]=a}))),al(1),Xw(o),fs(s=>yP(s)?ur:il(s)))}function Tz(t,e,n,r){let i=hf(e)??r,o=$l(t,i),s=o.resolve?o.resolve(e,n):ho(i,()=>o(e,n));return Is(s)}function ib(t){return Yr(e=>{let n=t(e);return n?xt(n).pipe(Pe(()=>e)):Te(e)})}var bP=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Me);return r}getResolvedTitleForRoute(n){return n.data[ff]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:()=>re(Dz),providedIn:"root"})}}return t})(),Dz=(()=>{class t extends bP{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(Ve(HN))}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Fb=new me("",{providedIn:"root",factory:()=>({})}),Rz=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=vt({type:t,selectors:[["ng-component"]],standalone:!0,features:[_t],decls:1,vars:0,template:function(r,i){r&1&&fe(0,"router-outlet")},dependencies:[kb],encapsulation:2})}}return t})();function Lb(t){let e=t.children&&t.children.map(Lb),n=e?q(I({},t),{children:e}):I({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Me&&(n.component=Rz),n}var Vb=new me(""),Mz=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=re(jE)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Te(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Is(n.loadComponent()).pipe(Pe(CP),Zt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Id(()=>{this.componentLoaders.delete(n)})),i=new Jc(r,()=>new on).pipe(Zc());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Nz(r,this.compiler,n,this.onLoadEndListener).pipe(Id(()=>{this.childrenLoaders.delete(r)})),s=new Jc(o,()=>new on).pipe(Zc());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Nz(t,e,n,r){return Is(t.loadChildren()).pipe(Pe(CP),Yt(i=>i instanceof Pd||Array.isArray(i)?Te(i):xt(e.compileModuleAsync(i))),Pe(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Vb,[],{optional:!0,self:!0}).flat()),{routes:s.map(Lb),injector:o}}))}function Pz(t){return t&&typeof t=="object"&&"default"in t}function CP(t){return Pz(t)?t.default:t}var Bb=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:()=>re(kz),providedIn:"root"})}}return t})(),kz=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Oz=new me("");var Fz=new me(""),Lz=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new on,this.transitionAbortSubject=new on,this.configLoader=re(Mz),this.environmentInjector=re(Rr),this.urlSerializer=re(Nb),this.rootContexts=re(Tg),this.location=re(zd),this.inputBindingEnabled=re(Ob,{optional:!0})!==null,this.titleStrategy=re(bP),this.options=re(Fb,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=re(Bb),this.createViewTransition=re(Oz,{optional:!0}),this.navigationErrorHandler=re(Fz,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Te(void 0),this.rootComponentType=null;let n=i=>this.events.next(new mb(i)),r=i=>this.events.next(new gb(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(q(I(I({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Qt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ef,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Sr(o=>o.id!==0),Pe(o=>q(I({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Yr(o=>{let s=!1,a=!1;return Te(o).pipe(Yr(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",pr.SupersededByNewNavigation),ur;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?q(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&f!=="reload"){let h="";return this.events.next(new Wa(c.id,this.urlSerializer.serialize(c.rawUrl),h,ub.IgnoredSameUrlNavigation)),c.resolve(!1),ur}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Te(c).pipe(Yr(h=>{let y=this.transitions?.getValue();return this.events.next(new of(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),y!==this.transitions?.getValue()?ur:Promise.resolve(h)}),Iz(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Zt(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=q(I({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let y=new Eg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:y,source:w,restoredState:b,extras:L}=c,M=new of(h,this.urlSerializer.serialize(y),w,b);this.events.next(M);let j=dP(this.rootComponentType).snapshot;return this.currentTransition=o=q(I({},c),{targetSnapshot:j,urlAfterRedirects:y,extras:q(I({},L),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,Te(o)}else{let h="";return this.events.next(new Wa(c.id,this.urlSerializer.serialize(c.extractedUrl),h,ub.IgnoredByUrlHandlingStrategy)),c.resolve(!1),ur}}),Zt(c=>{let u=new db(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Pe(c=>(this.currentTransition=o=q(I({},c),{guards:q8(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),tz(this.environmentInjector,c=>this.events.next(c)),Zt(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw xg(this.urlSerializer,c.guardsResult);let u=new fb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Sr(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",pr.GuardRejected),!1)),ib(c=>{if(c.guards.canActivateChecks.length)return Te(c).pipe(Zt(u=>{let f=new hb(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),Yr(u=>{let f=!1;return Te(u).pipe(Sz(this.paramsInheritanceStrategy,this.environmentInjector),Zt({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(u,"",pr.NoDataFromResolver)}}))}),Zt(u=>{let f=new pb(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}))}),ib(c=>{let u=f=>{let h=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(f.routeConfig).pipe(Zt(y=>{f.component=y}),Pe(()=>{})));for(let y of f.children)h.push(...u(y));return h};return im(u(c.targetSnapshot.root)).pipe(hs(null),ao(1))}),ib(()=>this.afterPreactivation()),Yr(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,f=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return f?xt(f).pipe(Pe(()=>o)):Te(o)}),Pe(c=>{let u=B8(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=q(I({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Zt(()=>{this.events.next(new af)}),H8(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ao(1),Zt({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Cs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),t0(this.transitionAbortSubject.pipe(Zt(c=>{throw c}))),Id(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",pr.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),fs(c=>{if(a=!0,gP(c))this.events.next(new wo(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),$8(c)?this.events.next(new Ul(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new sf(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let f=ho(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(f instanceof lf){let{message:h,cancellationCode:y}=xg(this.urlSerializer,f);this.events.next(new wo(o.id,this.urlSerializer.serialize(o.extractedUrl),h,y)),this.events.next(new Ul(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(u);let h=n.errorHandler(c);o.resolve(!!h)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return ur}))}))}cancelNavigationTransition(n,r,i){let o=new wo(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Vz(t){return t!==ef}var Bz=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:()=>re(Uz),providedIn:"root"})}}return t})(),Mb=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Uz=(()=>{class t extends Mb{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Mi(t)))(i||t)}})()}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),IP=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:()=>re(jz),providedIn:"root"})}}return t})(),jz=(()=>{class t extends IP{constructor(){super(...arguments),this.location=re(zd),this.urlSerializer=re(Nb),this.options=re(Fb,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=re(Bb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Eo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=dP(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof of)this.stateMemento=this.createStateMemento();else if(n instanceof Wa)this.rawUrlTree=r.initialUrl;else if(n instanceof Eg){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof af?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof wo&&(n.code===pr.GuardRejected||n.code===pr.NoDataFromResolver)?this.restoreHistory(r):n instanceof sf?this.restoreHistory(r,!0):n instanceof Cs&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Eo?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=I(I({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=I(I({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Mi(t)))(i||t)}})()}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Jd=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Jd||{});function $z(t,e){t.events.pipe(Sr(n=>n instanceof Cs||n instanceof wo||n instanceof sf||n instanceof Wa),Pe(n=>n instanceof Cs||n instanceof Wa?Jd.COMPLETE:(n instanceof wo?n.code===pr.Redirect||n.code===pr.SupersededByNewNavigation:!1)?Jd.REDIRECTING:Jd.FAILED),Sr(n=>n!==Jd.REDIRECTING),ao(1)).subscribe(()=>{e()})}function Hz(t){throw t}var qz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Un=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=re(lg),this.stateManager=re(IP),this.options=re(Fb,{optional:!0})||{},this.pendingTasks=re(Dl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=re(Lz),this.urlSerializer=re(Nb),this.location=re(zd),this.urlHandlingStrategy=re(Bb),this._events=new on,this.errorHandler=this.options.errorHandler||Hz,this.navigated=!1,this.routeReuseStrategy=re(Bz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=re(Vb,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!re(Ob,{optional:!0}),this.eventsSubscription=new St,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof wo&&r.code!==pr.Redirect&&r.code!==pr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Cs)this.navigated=!0;else if(r instanceof Ul){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=I({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Vz(i.source)},s);this.scheduleNavigation(a,ef,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Wz(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ef,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=I({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Lb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let h;try{let y=i?i.snapshot:this.routerState.snapshot.root;h=aP(y)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),h=this.currentUrlTree.root}return cP(h,n,f,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ga(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ef,null,r)}navigate(n,r={skipLocationChange:!1}){return Gz(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=I({},qz):r===!1?i=I({},zz):i=r,Ga(n))return qN(this.currentUrlTree,n,i);let o=this.parseUrl(n);return qN(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((h,y)=>{a=h,c=y});let f=this.pendingTasks.add();return $z(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Gz(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new pe(4008,!1)}function Wz(t){return!(t instanceof af)&&!(t instanceof Ul)}var SP=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new on,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Cs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ga(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:DM(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Ga(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(te(Un),te(Ka),yE("tabindex"),te(Pi),te(ri),te(Nl))}}static{this.\u0275dir=ut({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&De("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&jd("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",$a],skipLocationChange:[2,"skipLocationChange","skipLocationChange",$a],replaceUrl:[2,"replaceUrl","replaceUrl",$a],routerLink:"routerLink"},standalone:!0,features:[FE,go]})}}return t})();var Kz=new me("");function xP(t,...e){return Ri([{provide:Vb,multi:!0,useValue:t},[],{provide:Ka,useFactory:Qz,deps:[Un]},{provide:UE,multi:!0,useFactory:Yz},e.map(n=>n.\u0275providers)])}function Qz(t){return t.routerState.root}function Yz(){let t=re(Jn);return e=>{let n=t.get(ja);if(e!==n.components[0])return;let r=t.get(Un),i=t.get(Zz);t.get(Jz)===1&&r.initialNavigation(),t.get(Xz,null,Fe.Optional)?.setUpPreloading(),t.get(Kz,null,Fe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Zz=new me("",{factory:()=>new on}),Jz=new me("",{providedIn:"root",factory:()=>1});var Xz=new me("");function e9(t,e){if(t&1&&(D(0,"div",8)(1,"div",9)(2,"div",10)(3,"h5",11),V(4),A(),D(5,"p",12),V(6),A()()()()),t&2){let n=e.$implicit;H(4),nt(n.name),H(2),nt(n.description)}}var Rg=class t{services=[{name:"Consulta M\xE9dica",description:"Atenci\xF3n m\xE9dica personalizada."},{name:"Ex\xE1menes de Laboratorio",description:"Realizamos ex\xE1menes de sangre y otros."},{name:"Radiolog\xEDa",description:"Servicios de rayos X y ultrasonido."},{name:"Vacunaci\xF3n",description:"Vacunas para todas las edades."}];static \u0275fac=function(n){return new(n||t)};static \u0275cmp=vt({type:t,selectors:[["app-home"]],standalone:!0,features:[_t],decls:11,vars:1,consts:[[1,"container","mt-5","text-center"],["src","icon_hospital.png","alt","Icono de Hospital",1,"hospital-icon","mb-3"],[1,"welcome-title"],[1,"welcome-subtitle"],[1,"services","mt-4"],[1,"section-title"],[1,"row"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"card","mb-3","service-card"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(n,r){n&1&&(D(0,"div",0),fe(1,"img",1),D(2,"h2",2),V(3,"Bienvenido a Nuestra Cl\xEDnica"),A(),D(4,"p",3),V(5,"Su salud es nuestra prioridad."),A(),D(6,"div",4)(7,"h3",5),V(8,"Servicios Ofrecidos"),A(),D(9,"div",6),he(10,e9,7,2,"div",7),A()()()),n&2&&(H(10),Z("ngForOf",r.services))},dependencies:[Pl],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:auto;background:#0009;border-radius:10px;padding:40px;box-shadow:0 4px 20px #0000004d}.welcome-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#f8f9fa;margin-bottom:10px}.welcome-subtitle[_ngcontent-%COMP%]{font-size:1.25rem;color:#f8f9fa;margin-bottom:20px}.section-title[_ngcontent-%COMP%]{font-size:2rem;color:#ffc107;margin-bottom:20px}.service-card[_ngcontent-%COMP%]{background:#ffffffe6;border-radius:10px;transition:transform .2s,box-shadow .2s}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0003}.contact-text[_ngcontent-%COMP%]{font-size:1rem;color:#f8f9fa}.text-warning[_ngcontent-%COMP%]{color:#ffc107;font-weight:700}.hospital-icon[_ngcontent-%COMP%]{width:80px;height:auto;margin-bottom:20px}"]})};var FP=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(te(Pi),te(ri))}}static{this.\u0275dir=ut({type:t})}}return t})(),jg=(()=>{class t extends FP{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Mi(t)))(i||t)}})()}static{this.\u0275dir=ut({type:t,features:[Bn]})}}return t})(),wf=new me("");var t9={provide:wf,useExisting:Mr(()=>Li),multi:!0};function n9(){let t=_o()?_o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var r9=new me(""),Li=(()=>{class t extends FP{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!n9())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(te(Pi),te(ri),te(r9,8))}}static{this.\u0275dir=ut({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&De("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ki([t9]),Bn]})}}return t})();function Ss(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function LP(t){return t!=null&&typeof t.length=="number"}var Ef=new me(""),$g=new me(""),i9=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ve=class{static min(e){return o9(e)}static max(e){return s9(e)}static required(e){return VP(e)}static requiredTrue(e){return a9(e)}static email(e){return c9(e)}static minLength(e){return l9(e)}static maxLength(e){return u9(e)}static pattern(e){return d9(e)}static nullValidator(e){return Pg(e)}static compose(e){return qP(e)}static composeAsync(e){return GP(e)}};function o9(t){return e=>{if(Ss(e.value)||Ss(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function s9(t){return e=>{if(Ss(e.value)||Ss(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function VP(t){return Ss(t.value)?{required:!0}:null}function a9(t){return t.value===!0?null:{required:!0}}function c9(t){return Ss(t.value)||i9.test(t.value)?null:{email:!0}}function l9(t){return e=>Ss(e.value)||!LP(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function u9(t){return e=>LP(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function d9(t){if(!t)return Pg;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ss(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Pg(t){return null}function BP(t){return t!=null}function UP(t){return Ua(t)?xt(t):t}function jP(t){let e={};return t.forEach(n=>{e=n!=null?I(I({},e),n):e}),Object.keys(e).length===0?null:e}function $P(t,e){return e.map(n=>n(t))}function f9(t){return!t.validate}function HP(t){return t.map(e=>f9(e)?e:n=>e.validate(n))}function qP(t){if(!t)return null;let e=t.filter(BP);return e.length==0?null:function(n){return jP($P(n,e))}}function zP(t){return t!=null?qP(HP(t)):null}function GP(t){if(!t)return null;let e=t.filter(BP);return e.length==0?null:function(n){let r=$P(n,e).map(UP);return Jw(r).pipe(Pe(jP))}}function WP(t){return t!=null?GP(HP(t)):null}function AP(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function KP(t){return t._rawValidators}function QP(t){return t._rawAsyncValidators}function Ub(t){return t?Array.isArray(t)?t:[t]:[]}function kg(t,e){return Array.isArray(t)?t.includes(e):t===e}function TP(t,e){let n=Ub(e);return Ub(t).forEach(i=>{kg(n,i)||n.push(i)}),n}function DP(t,e){return Ub(e).filter(n=>!kg(t,n))}var Og=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=WP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Or=class extends Og{get formDirective(){return null}get path(){return null}},_f=class extends Og{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Fg=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},h9={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},nde=q(I({},h9),{"[class.ng-submitted]":"isSubmitted"}),As=(()=>{class t extends Fg{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(te(_f,2))}}static{this.\u0275dir=ut({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&cg("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Bn]})}}return t})(),Ts=(()=>{class t extends Fg{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(te(Or,10))}}static{this.\u0275dir=ut({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&cg("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Bn]})}}return t})();var mf="VALID",Mg="INVALID",ql="PENDING",gf="DISABLED",xs=class{},Lg=class extends xs{constructor(e,n){super(),this.value=e,this.source=n}},yf=class extends xs{constructor(e,n){super(),this.pristine=e,this.source=n}},vf=class extends xs{constructor(e,n){super(),this.touched=e,this.source=n}},zl=class extends xs{constructor(e,n){super(),this.status=e,this.source=n}},jb=class extends xs{constructor(e){super(),this.source=e}},$b=class extends xs{constructor(e){super(),this.source=e}};function zb(t){return(Hg(t)?t.validators:t)||null}function p9(t){return Array.isArray(t)?zP(t):t||null}function Gb(t,e){return(Hg(e)?e.asyncValidators:t)||null}function m9(t){return Array.isArray(t)?WP(t):t||null}function Hg(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function YP(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new pe(1e3,"");if(!r[n])throw new pe(1001,"")}function ZP(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new pe(1002,"")})}var Gl=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=qd(()=>this.statusReactive()),this.statusReactive=Ud(void 0),this._pristine=qd(()=>this.pristineReactive()),this.pristineReactive=Ud(!0),this._touched=qd(()=>this.touchedReactive()),this.touchedReactive=Ud(!1),this._events=new on,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return vo(this.statusReactive)}set status(e){vo(()=>this.statusReactive.set(e))}get valid(){return this.status===mf}get invalid(){return this.status===Mg}get pending(){return this.status==ql}get disabled(){return this.status===gf}get enabled(){return this.status!==gf}get pristine(){return vo(this.pristineReactive)}set pristine(e){vo(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return vo(this.touchedReactive)}set touched(e){vo(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(DP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(DP(e,this._rawAsyncValidators))}hasValidator(e){return kg(this._rawValidators,e)}hasAsyncValidator(e){return kg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(q(I({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new vf(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new vf(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(q(I({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new yf(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new yf(!0,r))}markAsPending(e={}){this.status=ql;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new zl(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(q(I({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=gf,this.errors=null,this._forEachChild(i=>{i.disable(q(I({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Lg(this.value,r)),this._events.next(new zl(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(q(I({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=mf,this._forEachChild(r=>{r.enable(q(I({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(q(I({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mf||this.status===ql)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Lg(this.value,n)),this._events.next(new zl(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(q(I({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gf:mf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ql,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=UP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new zl(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new lt,this.statusChanges=new lt}_calculateStatus(){return this._allControlsDisabled()?gf:this.errors?Mg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ql)?ql:this._anyControlsHaveStatus(Mg)?Mg:mf}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new yf(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new vf(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Hg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=p9(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=m9(this._rawAsyncValidators)}},Vg=class extends Gl{constructor(e,n,r){super(zb(n),Gb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){ZP(this,!0,e),Object.keys(e).forEach(r=>{YP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Hb=class extends Vg{};var JP=new me("CallSetDisabledState",{providedIn:"root",factory:()=>Wb}),Wb="always";function Kb(t,e){return[...e.path,t]}function RP(t,e,n=Wb){Qb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),y9(t,e),_9(t,e),v9(t,e),g9(t,e)}function MP(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ug(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Bg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function g9(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Qb(t,e){let n=KP(t);e.validator!==null?t.setValidators(AP(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=QP(t);e.asyncValidator!==null?t.setAsyncValidators(AP(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Bg(e._rawValidators,i),Bg(e._rawAsyncValidators,i)}function Ug(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=KP(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=QP(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Bg(e._rawValidators,r),Bg(e._rawAsyncValidators,r),n}function y9(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&XP(t,e)})}function v9(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&XP(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function XP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function _9(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function w9(t,e){t==null,Qb(t,e)}function E9(t,e){return Ug(t,e)}function b9(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function C9(t){return Object.getPrototypeOf(t.constructor)===jg}function I9(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function S9(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Li?n=o:C9(o)?r=o:i=o}),i||r||n||null}function x9(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function NP(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function PP(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Ng=class extends Gl{constructor(e=null,n,r){super(zb(n),Gb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(PP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){NP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){NP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){PP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var A9=t=>t instanceof Ng,T9=(()=>{class t extends Or{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Kb(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Mi(t)))(i||t)}})()}static{this.\u0275dir=ut({type:t,features:[Bn]})}}return t})();var Ds=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ut({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),D9={provide:wf,useExisting:Mr(()=>Qa),multi:!0},Qa=(()=>{class t extends jg{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Mi(t)))(i||t)}})()}static{this.\u0275dir=ut({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&De("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[ki([D9]),Bn]})}}return t})();var e1=new me("");var R9={provide:Or,useExisting:Mr(()=>Vi)},Vi=(()=>{class t extends Or{get submitted(){return vo(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=qd(()=>this._submittedReactive()),this._submittedReactive=Ud(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new lt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ug(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return RP(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){MP(n.control||null,n,!1),x9(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),I9(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new jb(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new $b(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(MP(r||null,n),A9(i)&&(RP(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);w9(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&E9(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Qb(this.form,this),this._oldForm&&Ug(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(te(Ef,10),te($g,10),te(JP,8))}}static{this.\u0275dir=ut({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&De("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ki([R9]),Bn,go]})}}return t})(),M9={provide:Or,useExisting:Mr(()=>qg)},qg=(()=>{class t extends T9{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){t1(this._parent)}static{this.\u0275fac=function(r){return new(r||t)(te(Or,13),te(Ef,10),te($g,10))}}static{this.\u0275dir=ut({type:t,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[ki([M9]),Bn]})}}return t})(),N9={provide:Or,useExisting:Mr(()=>zg)},zg=(()=>{class t extends Or{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Kb(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){t1(this._parent)}static{this.\u0275fac=function(r){return new(r||t)(te(Or,13),te(Ef,10),te($g,10))}}static{this.\u0275dir=ut({type:t,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[ki([N9]),Bn]})}}return t})();function t1(t){return!(t instanceof qg)&&!(t instanceof Vi)&&!(t instanceof zg)}var P9={provide:_f,useExisting:Mr(()=>bo)},bo=(()=>{class t extends _f{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new lt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=S9(this,o)}ngOnChanges(n){this._added||this._setUpControl(),b9(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Kb(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(te(Or,13),te(Ef,10),te($g,10),te(wf,10),te(e1,8))}}static{this.\u0275dir=ut({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ki([P9]),Bn,go]})}}return t})(),k9={provide:wf,useExisting:Mr(()=>Gg),multi:!0};function n1(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function O9(t){return t.split(":")[0]}var Gg=(()=>{class t extends jg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=n1(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=O9(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Mi(t)))(i||t)}})()}static{this.\u0275dir=ut({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&De("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ki([k9]),Bn]})}}return t})(),r1=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(n1(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(te(ri),te(Pi),te(Gg,9))}}static{this.\u0275dir=ut({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),F9={provide:wf,useExisting:Mr(()=>i1),multi:!0};function kP(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function L9(t){return t.split(":")[0]}var i1=(()=>{class t extends jg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=L9(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Mi(t)))(i||t)}})()}static{this.\u0275dir=ut({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&De("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ki([F9]),Bn]})}}return t})(),o1=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(kP(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(kP(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(te(ri),te(Pi),te(i1,9))}}static{this.\u0275dir=ut({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var V9=(()=>{class t{constructor(){this._validator=Pg}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Pg,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ut({type:t,features:[go]})}}return t})();var B9={provide:Ef,useExisting:Mr(()=>Co),multi:!0};var Co=(()=>{class t extends V9{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=$a,this.createValidator=n=>VP}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Mi(t)))(i||t)}})()}static{this.\u0275dir=ut({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&jd("required",i._enabled?"":null)},inputs:{required:"required"},features:[ki([B9]),Bn]})}}return t})();var U9=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Fa({type:t})}static{this.\u0275inj=Oa({})}}return t})(),qb=class extends Gl{constructor(e,n,r){super(zb(n),Gb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){ZP(this,!1,e),e.forEach((r,i)=>{YP(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function OP(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Rs=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return OP(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Vg(i,o)}record(n,r=null){let i=this._reduceControls(n);return new Hb(i,r)}control(n,r,i){let o={};return this.useNonNullable?(OP(r)?o=r:(o.validators=r,o.asyncValidators=i),new Ng(n,q(I({},o),{nonNullable:!0}))):new Ng(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new qb(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Ng)return n;if(n instanceof Gl)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Bi=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:e1,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:JP,useValue:n.callSetDisabledState??Wb}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Fa({type:t})}static{this.\u0275inj=Oa({imports:[U9]})}}return t})();var a1=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},j9=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},c1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,f=o>>2,h=(o&3)<<4|a>>4,y=(a&15)<<2|u>>6,w=u&63;c||(w=64,s||(y=64)),r.push(n[f],n[h],n[y],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):j9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new Zb;let y=o<<2|a>>4;if(r.push(y),u!==64){let w=a<<4&240|u>>2;if(r.push(w),h!==64){let b=u<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Zb=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$9=function(t){let e=a1(t);return c1.encodeByteArray(e,!0)},bf=function(t){return $9(t).replace(/\./g,"")},Xb=function(t){try{return c1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function H9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var q9=()=>H9().__FIREBASE_DEFAULTS__,z9=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},G9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Xb(t[1]);return e&&JSON.parse(e)},Qg=()=>{try{return q9()||z9()||G9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eC=t=>{var e,n;return(n=(e=Qg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},l1=t=>{let e=eC(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tC=()=>{var t;return(t=Qg())===null||t===void 0?void 0:t.config},nC=t=>{var e;return(e=Qg())===null||e===void 0?void 0:e[`_${t}`]};var Kg=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function u1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bf(JSON.stringify(n)),bf(JSON.stringify(s)),""].join(".")}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function W9(){var t;let e=(t=Qg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function f1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h1(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function p1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m1(){let t=an();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g1(){return!W9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rC(){try{return typeof indexedDB=="object"}catch{return!1}}function y1(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var K9="FirebaseError",mr=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=K9,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Io.prototype.create)}},Io=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Q9(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new mr(i,a,r)}};function Q9(t,e){return t.replace(Y9,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Y9=/\{\$([^}]+)}/g;function v1(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ya(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(s1(o)&&s1(s)){if(!Ya(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function s1(t){return t!==null&&typeof t=="object"}function Cf(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wl(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Kl(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _1(t,e){let n=new Jb(t,e);return n.subscribe.bind(n)}var Jb=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Z9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Yb),i.error===void 0&&(i.error=Yb),i.complete===void 0&&(i.complete=Yb);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Z9(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yb(){}var ode=4*60*60*1e3;function Vt(t){return t&&t._delegate?t._delegate:t}var Fr=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Za="[DEFAULT]";var iC=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Kg;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X9(e))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Za){return this.instances.has(e)}getOptions(e=Za){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:J9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Za){return this.component?this.component.multipleInstances?e:Za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function J9(t){return t===Za?void 0:t}function X9(t){return t.instantiationMode==="EAGER"}var Yg=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new iC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var eG=[],qe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(qe||{}),tG={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},nG=qe.INFO,rG={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},iG=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=rG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ms=class{constructor(e){this.name=e,this._logLevel=nG,this._logHandler=iG,this._userLogHandler=null,eG.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}};var oG=(t,e)=>e.some(n=>t instanceof n),w1,E1;function sG(){return w1||(w1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aG(){return E1||(E1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var b1=new WeakMap,sC=new WeakMap,C1=new WeakMap,oC=new WeakMap,cC=new WeakMap;function cG(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ui(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&b1.set(n,t)}).catch(()=>{}),cC.set(e,t),e}function lG(t){if(sC.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});sC.set(t,e)}var aC={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sC.get(t);if(e==="objectStoreNames")return t.objectStoreNames||C1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ui(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function I1(t){aC=t(aC)}function uG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Zg(this),e,...n);return C1.set(r,e.sort?e.sort():[e]),Ui(r)}:aG().includes(t)?function(...e){return t.apply(Zg(this),e),Ui(b1.get(this))}:function(...e){return Ui(t.apply(Zg(this),e))}}function dG(t){return typeof t=="function"?uG(t):(t instanceof IDBTransaction&&lG(t),oG(t,sG())?new Proxy(t,aC):t)}function Ui(t){if(t instanceof IDBRequest)return cG(t);if(oC.has(t))return oC.get(t);let e=dG(t);return e!==t&&(oC.set(t,e),cC.set(e,t)),e}var Zg=t=>cC.get(t);function x1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Ui(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ui(s.result),c.oldVersion,c.newVersion,Ui(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var fG=["get","getKey","getAll","getAllKeys","count"],hG=["put","add","delete","clear"],lC=new Map;function S1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lC.get(e))return lC.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=hG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fG.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return lC.set(e,o),o}I1(t=>q(I({},t),{get:(e,n,r)=>S1(e,n)||t.get(e,n,r),has:(e,n)=>!!S1(e,n)||t.has(e,n)}));var dC=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pG(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function pG(t){let e=t.getComponent();return e?.type==="VERSION"}var fC="@firebase/app",A1="0.10.13";var So=new Ms("@firebase/app"),mG="@firebase/app-compat",gG="@firebase/analytics-compat",yG="@firebase/analytics",vG="@firebase/app-check-compat",_G="@firebase/app-check",wG="@firebase/auth",EG="@firebase/auth-compat",bG="@firebase/database",CG="@firebase/data-connect",IG="@firebase/database-compat",SG="@firebase/functions",xG="@firebase/functions-compat",AG="@firebase/installations",TG="@firebase/installations-compat",DG="@firebase/messaging",RG="@firebase/messaging-compat",MG="@firebase/performance",NG="@firebase/performance-compat",PG="@firebase/remote-config",kG="@firebase/remote-config-compat",OG="@firebase/storage",FG="@firebase/storage-compat",LG="@firebase/firestore",VG="@firebase/vertexai-preview",BG="@firebase/firestore-compat",UG="firebase",jG="10.14.1";var hC="[DEFAULT]",$G={[fC]:"fire-core",[mG]:"fire-core-compat",[yG]:"fire-analytics",[gG]:"fire-analytics-compat",[_G]:"fire-app-check",[vG]:"fire-app-check-compat",[wG]:"fire-auth",[EG]:"fire-auth-compat",[bG]:"fire-rtdb",[CG]:"fire-data-connect",[IG]:"fire-rtdb-compat",[SG]:"fire-fn",[xG]:"fire-fn-compat",[AG]:"fire-iid",[TG]:"fire-iid-compat",[DG]:"fire-fcm",[RG]:"fire-fcm-compat",[MG]:"fire-perf",[NG]:"fire-perf-compat",[PG]:"fire-rc",[kG]:"fire-rc-compat",[OG]:"fire-gcs",[FG]:"fire-gcs-compat",[LG]:"fire-fst",[BG]:"fire-fst-compat",[VG]:"fire-vertex","fire-js":"fire-js",[UG]:"fire-js-all"};var If=new Map,HG=new Map,pC=new Map;function T1(t,e){try{t.container.addComponent(e)}catch(n){So.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ps(t){let e=t.name;if(pC.has(e))return So.debug(`There were multiple attempts to register component ${e}.`),!1;pC.set(e,t);for(let n of If.values())T1(n,t);for(let n of HG.values())T1(n,t);return!0}function xf(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function oi(t){return t.settings!==void 0}var qG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new Io("app","Firebase",qG);var mC=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}};var ks=jG;function vC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:hC,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ns.create("bad-app-name",{appName:String(i)});if(n||(n=tC()),!n)throw Ns.create("no-options");let o=If.get(i);if(o){if(Ya(n,o.options)&&Ya(r,o.config))return o;throw Ns.create("duplicate-app",{appName:i})}let s=new Yg(i);for(let c of pC.values())s.addComponent(c);let a=new mC(n,r,s);return If.set(i,a),a}function Ql(t=hC){let e=If.get(t);if(!e&&t===hC&&tC())return vC();if(!e)throw Ns.create("no-app",{appName:t});return e}function Jg(){return Array.from(If.values())}function Xt(t,e,n){var r;let i=(r=$G[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),So.warn(a.join(" "));return}Ps(new Fr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var zG="firebase-heartbeat-database",GG=1,Sf="firebase-heartbeat-store",uC=null;function N1(){return uC||(uC=x1(zG,GG,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ns.create("idb-open",{originalErrorMessage:t.message})})),uC}function WG(t){return _(this,null,function*(){try{let n=(yield N1()).transaction(Sf),r=yield n.objectStore(Sf).get(P1(t));return yield n.done,r}catch(e){if(e instanceof mr)So.warn(e.message);else{let n=Ns.create("idb-get",{originalErrorMessage:e?.message});So.warn(n.message)}}})}function D1(t,e){return _(this,null,function*(){try{let r=(yield N1()).transaction(Sf,"readwrite");yield r.objectStore(Sf).put(e,P1(t)),yield r.done}catch(n){if(n instanceof mr)So.warn(n.message);else{let r=Ns.create("idb-set",{originalErrorMessage:n?.message});So.warn(r.message)}}})}function P1(t){return`${t.name}!${t.options.appId}`}var KG=1024,QG=30*24*60*60*1e3,gC=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new yC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=R1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=QG}),this._storage.overwrite(this._heartbeatsCache))}catch(r){So.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=R1(),{heartbeatsToSend:r,unsentEntries:i}=YG(this._heartbeatsCache.heartbeats),o=bf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return So.warn(n),""}})}};function R1(){return new Date().toISOString().substring(0,10)}function YG(t,e=KG){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),M1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),M1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var yC=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return rC()?y1().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield WG(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return D1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return D1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function M1(t){return bf(JSON.stringify({version:2,heartbeats:t})).length}function ZG(t){Ps(new Fr("platform-logger",e=>new dC(e),"PRIVATE")),Ps(new Fr("heartbeat",e=>new gC(e),"PRIVATE")),Xt(fC,A1,t),Xt(fC,A1,"esm2017"),Xt("fire-js","")}ZG("");var JG="firebase",XG="10.14.1";Xt(JG,XG,"app");var Xa=new fo("ANGULARFIRE2_VERSION");function ey(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Af=(t,e)=>{let n=e?[e]:Jg(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Zl=class{constructor(){return Af(e7)}},e7="app-check";function Yl(){}var Xg=class{zone;delegate;constructor(e,n=Kw){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},_C=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yl,{},Yl,Yl)),n.pipe(Zt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Jl=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Xg(Zone.current)),this.insideAngular=n.run(()=>new Xg(Zone.current,Ww)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Ve(ot))};static \u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ty(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function t7(t){return ty().ngZone.runOutsideAngular(()=>t())}function Ja(t){return ty().ngZone.run(()=>t())}function n7(t){return r7(ty())(t)}function r7(t){return function(n){return n=n.lift(new _C(t.ngZone)),n.pipe(ds(t.outsideAngular),us(t.insideAngular))}}var i7=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ja(()=>t.apply(void 0,r))},cn=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Ja(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yl,{},Yl,Yl))),r[o]=i7(r[o],n));let i=t7(()=>t.apply(this,r));if(!e)if(i instanceof je){let o=ty();return i.pipe(ds(o.outsideAngular),us(o.insideAngular))}else return Ja(()=>i);return i instanceof je?i.pipe(n7):i instanceof Promise?Ja(()=>new Promise((o,s)=>i.then(a=>Ja(()=>o(a)),a=>Ja(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ja(()=>i)};var xo=class{constructor(e){return e}},ec=class{constructor(){return Jg()}};function o7(t){return t&&t.length===1?t[0]:new xo(Ql())}var wC=new me("angularfire2._apps"),s7={provide:xo,useFactory:o7,deps:[[new Fn,wC]]},a7={provide:ec,deps:[[new Fn,wC]]};function c7(t){return(e,n)=>{let r=n.get(bs);Xt("angularfire",Xa.full,"core"),Xt("angularfire",Xa.full,"app"),Xt("angular",hN.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new xo(i)}}function k1(t,...e){return Ri([s7,a7,{provide:wC,useFactory:c7(t),multi:!0,deps:[ot,Jn,Jl,...e]}])}var O1=cn(vC,!0);function J1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var X1=J1,ek=new Io("auth","Firebase",J1());var ay=new Ms("@firebase/auth");function l7(t,...e){ay.logLevel<=qe.WARN&&ay.warn(`Auth (${ks}): ${t}`,...e)}function ry(t,...e){ay.logLevel<=qe.ERROR&&ay.error(`Auth (${ks}): ${t}`,...e)}function $i(t,...e){throw HC(t,...e)}function tc(t,...e){return HC(t,...e)}function tk(t,e,n){let r=Object.assign(Object.assign({},X1()),{[e]:n});return new Io("auth","Firebase",r).create(e,{appName:t.name})}function Do(t){return tk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HC(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ek.create(t,...e)}function _e(t,e,...n){if(!t)throw HC(e,...n)}function Ao(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ry(e),new Error(e)}function Fs(t,e){t||Ao(e)}function IC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function u7(){return F1()==="http:"||F1()==="https:"}function F1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function d7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u7()||h1()||"connection"in navigator)?navigator.onLine:!0}function f7(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var nc=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fs(n>e,"Short delay should be less than long delay!"),this.isMobile=d1()||p1()}get(){return d7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function qC(t,e){Fs(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var cy=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ao("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ao("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ao("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var h7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var p7=new nc(3e4,6e4);function Ro(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Mo(o,s,a,c){return _(this,arguments,function*(t,e,n,r,i={}){return nk(t,i,()=>_(this,null,function*(){let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});let h=Cf(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let w=Object.assign({method:e,headers:y},u);return f1()||(w.referrerPolicy="no-referrer"),cy.fetch()(rk(t,t.config.apiHost,n,h),w)}))})}function nk(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},h7),e);try{let i=new SC(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw ny(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ny(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw ny(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw ny(t,"user-disabled",s);let f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tk(t,f,u);$i(t,f)}}catch(i){if(i instanceof mr)throw i;$i(t,"network-request-failed",{message:String(i)})}})}function Of(o,s,a,c){return _(this,arguments,function*(t,e,n,r,i={}){let u=yield Mo(t,e,n,r,i);return"mfaPendingCredential"in u&&$i(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function rk(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?qC(t.config,i):`${t.config.apiScheme}://${i}`}function m7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var SC=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(tc(this.auth,"network-request-failed")),p7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ny(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=tc(t,e,r);return i.customData._tokenResponse=n,i}function L1(t){return t!==void 0&&t.enterprise!==void 0}var xC=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return m7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function g7(t,e){return _(this,null,function*(){return Mo(t,"GET","/v2/recaptchaConfig",Ro(t,e))})}function y7(t,e){return _(this,null,function*(){return Mo(t,"POST","/v1/accounts:delete",e)})}function ik(t,e){return _(this,null,function*(){return Mo(t,"POST","/v1/accounts:lookup",e)})}function Tf(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function zC(t,e=!1){return _(this,null,function*(){let n=Vt(t),r=yield n.getIdToken(e),i=GC(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Tf(EC(i.auth_time)),issuedAtTime:Tf(EC(i.iat)),expirationTime:Tf(EC(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function EC(t){return Number(t)*1e3}function GC(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ry("JWT malformed, contained fewer than 3 sections"),null;try{let i=Xb(n);return i?JSON.parse(i):(ry("Failed to decode base64 JWT payload"),null)}catch(i){return ry("Caught error parsing JWT payload as JSON",i?.toString()),null}}function V1(t){let e=GC(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Rf(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof mr&&v7(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function v7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var AC=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Mf=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tf(this.lastLoginAt),this.creationTime=Tf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ly(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Rf(t,ik(n,{idToken:r}));_e(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ok(o.providerUserInfo):[],a=_7(t.providerData,s),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!a?.length,f=c?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Mf(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,h)})}function WC(t){return _(this,null,function*(){let e=Vt(t);yield ly(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function _7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ok(t){return t.map(e=>{var{providerId:n}=e,r=Qw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function w7(t,e){return _(this,null,function*(){let n=yield nk(t,{},()=>_(this,null,function*(){let r=Cf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=rk(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",cy.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function E7(t,e){return _(this,null,function*(){return Mo(t,"POST","/v2/accounts:revokeToken",Ro(t,e))})}var Df=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");let n=V1(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield w7(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(_e(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ao("not implemented")}};function Os(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Xl=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Qw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Mf(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield Rf(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return zC(this,e)}reload(){return WC(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield ly(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(oi(this.auth.app))return Promise.reject(Do(this.auth));let e=yield this.getIdToken();return yield Rf(this,y7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,f;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,b=(s=n.photoURL)!==null&&s!==void 0?s:void 0,L=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,j=(u=n.createdAt)!==null&&u!==void 0?u:void 0,K=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:ee,emailVerified:ce,isAnonymous:xe,providerData:de,stsTokenManager:P}=n;_e(ee&&P,e,"internal-error");let x=Df.fromJSON(this.name,P);_e(typeof ee=="string",e,"internal-error"),Os(h,e.name),Os(y,e.name),_e(typeof ce=="boolean",e,"internal-error"),_e(typeof xe=="boolean",e,"internal-error"),Os(w,e.name),Os(b,e.name),Os(L,e.name),Os(M,e.name),Os(j,e.name),Os(K,e.name);let T=new t({uid:ee,auth:e,email:y,emailVerified:ce,displayName:h,isAnonymous:xe,photoURL:b,phoneNumber:w,tenantId:L,stsTokenManager:x,createdAt:j,lastLoginAt:K});return de&&Array.isArray(de)&&(T.providerData=de.map(N=>Object.assign({},N))),M&&(T._redirectEventId=M),T}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new Df;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ly(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];_e(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?ok(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Df;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Mf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var B1=new Map;function To(t){Fs(t instanceof Function,"Expected a class definition");let e=B1.get(t);return e?(Fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,B1.set(t,e),e)}var b7=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),TC=b7;function iy(t,e,n){return`firebase:${t}:${e}:${n}`}var uy=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=iy(this.userKey,i.apiKey,o),this.fullPersistenceKey=iy("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Xl._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(To(TC),e,r);let i=(yield Promise.all(n.map(u=>_(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||To(TC),s=iy(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let f=yield u._get(s);if(f){let h=Xl._fromJSON(e,f);u!==o&&(a=h),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(u=>_(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new t(o,e,r))})}};function U1(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dk(e))return"Blackberry";if(fk(e))return"Webos";if(ak(e))return"Safari";if((e.includes("chrome/")||ck(e))&&!e.includes("edge/"))return"Chrome";if(uk(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function sk(t=an()){return/firefox\//i.test(t)}function ak(t=an()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ck(t=an()){return/crios\//i.test(t)}function lk(t=an()){return/iemobile/i.test(t)}function uk(t=an()){return/android/i.test(t)}function dk(t=an()){return/blackberry/i.test(t)}function fk(t=an()){return/webos/i.test(t)}function KC(t=an()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function C7(t=an()){var e;return KC(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function I7(){return m1()&&document.documentMode===10}function hk(t=an()){return KC(t)||uk(t)||fk(t)||dk(t)||/windows phone/i.test(t)||lk(t)}function pk(t,e=[]){let n;switch(t){case"Browser":n=U1(an());break;case"Worker":n=`${U1(an())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ks}/${r}`}var DC=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function S7(n){return _(this,arguments,function*(t,e={}){return Mo(t,"GET","/v2/passwordPolicy",Ro(t,e))})}var x7=6,RC=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:x7,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var MC=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dy(this),this.idTokenSubscription=new dy(this),this.beforeStateQueue=new DC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ek,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=To(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield uy.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield ik(this,{idToken:e}),r=yield Xl._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(oi(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield ly(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=f7()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(oi(this.app))return Promise.reject(Do(this));let n=e?Vt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return oi(this.app)?Promise.reject(Do(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return oi(this.app)?Promise.reject(Do(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(To(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield S7(this),n=new RC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Io("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield E7(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&To(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=yield uy.create(this,[To(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&l7(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ic(t){return Vt(t)}var dy=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=_1(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var vy={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function A7(t){vy=t}function mk(t){return vy.loadJS(t)}function T7(){return vy.recaptchaEnterpriseScript}function D7(){return vy.gapiScript}function gk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var R7="recaptcha-enterprise",M7="NO_RECAPTCHA",NC=class{constructor(e){this.type=R7,this.auth=ic(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(this,null,function*(){g7(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new xC(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;L1(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(M7)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&L1(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=T7();c.length!==0&&(c+=a),mk(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function j1(t,e,n,r=!1){return _(this,null,function*(){let i=new NC(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function PC(t,e,n,r){return _(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield j1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>_(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield j1(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function QC(t,e){let n=xf(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Ya(o,e??{}))return i;$i(i,"already-initialized")}return n.initialize({options:e})}function N7(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(To);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function YC(t,e,n){let r=ic(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=yk(e),{host:s,port:a}=P7(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||k7()}function yk(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function P7(t){let e=yk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:$1(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:$1(s)}}}function $1(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function k7(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Nf=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ao("not implemented")}_getIdTokenResponse(e){return Ao("not implemented")}_linkToIdToken(e,n){return Ao("not implemented")}_getReauthenticationResolver(e){return Ao("not implemented")}};function O7(t,e){return _(this,null,function*(){return Mo(t,"POST","/v1/accounts:signUp",e)})}function F7(t,e){return _(this,null,function*(){return Of(t,"POST","/v1/accounts:signInWithPassword",Ro(t,e))})}function L7(t,e){return _(this,null,function*(){return Mo(t,"POST","/v1/accounts:sendOobCode",Ro(t,e))})}function V7(t,e){return _(this,null,function*(){return L7(t,e)})}function B7(t,e){return _(this,null,function*(){return Of(t,"POST","/v1/accounts:signInWithEmailLink",Ro(t,e))})}function U7(t,e){return _(this,null,function*(){return Of(t,"POST","/v1/accounts:signInWithEmailLink",Ro(t,e))})}var Pf=class t extends Nf{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PC(e,n,"signInWithPassword",F7);case"emailLink":return B7(e,{email:this._email,oobCode:this._password});default:$i(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PC(e,r,"signUpPassword",O7);case"emailLink":return U7(e,{idToken:n,email:this._email,oobCode:this._password});default:$i(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function bC(t,e){return _(this,null,function*(){return Of(t,"POST","/v1/accounts:signInWithIdp",Ro(t,e))})}function j7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $7(t){let e=Wl(Kl(t)).link,n=e?Wl(Kl(e)).deep_link_id:null,r=Wl(Kl(t)).deep_link_id;return(r?Wl(Kl(r)).link:null)||r||n||e||t}var fy=class t{constructor(e){var n,r,i,o,s,a;let c=Wl(Kl(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,h=j7((i=c.mode)!==null&&i!==void 0?i:null);_e(u&&f&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=f,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=$7(e);try{return new t(n)}catch{return null}}};var vk=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Pf._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=fy.parseLink(r);return _e(i,"argument-error"),Pf._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),hy=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var kC=class extends hy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function H7(t,e){return _(this,null,function*(){return Of(t,"POST","/v1/accounts:signUp",Ro(t,e))})}var eu=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield Xl._fromIdTokenResponse(e,r,i),s=H1(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=H1(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function H1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var OC=class t extends mr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function _k(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?OC._fromErrorAndOperation(t,o,e,r):o})}function q7(t,e,n=!1){return _(this,null,function*(){let r=yield Rf(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return eu._forOperation(t,"link",r)})}function z7(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(oi(r.app))return Promise.reject(Do(r));let i="reauthenticate";try{let o=yield Rf(t,_k(r,i,e,t),n);_e(o.idToken,r,"internal-error");let s=GC(o.idToken);_e(s,r,"internal-error");let{sub:a}=s;return _e(t.uid===a,r,"user-mismatch"),eu._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&$i(r,"user-mismatch"),o}})}function wk(t,e,n=!1){return _(this,null,function*(){if(oi(t.app))return Promise.reject(Do(t));let r="signIn",i=yield _k(t,r,e),o=yield eu._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function ZC(t,e){return _(this,null,function*(){return wk(ic(t),e)})}function G7(t,e,n){var r;_e(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),_e(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(_e(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(_e(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function Ek(t){return _(this,null,function*(){let e=ic(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function JC(t,e,n){return _(this,null,function*(){if(oi(t.app))return Promise.reject(Do(t));let r=ic(t),s=yield PC(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",H7).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Ek(t),c}),a=yield eu._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function XC(t,e,n){return oi(t.app)?Promise.reject(Do(t)):ZC(Vt(t),vk.credential(e,n)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Ek(t),r}))}function eI(t,e){return _(this,null,function*(){let n=Vt(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&G7(n.auth,i,e);let{email:o}=yield V7(n.auth,i);o!==t.email&&(yield t.reload())})}function tI(t,e,n,r){return Vt(t).onIdTokenChanged(e,n,r)}function nI(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}var py="__sak";var my=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(py,"1"),this.storage.removeItem(py),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var W7=1e3,K7=10,Q7=(()=>{class t extends my{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hk(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);I7()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,K7):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},W7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield bi(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield bi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield bi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),bk=Q7;var Y7=(()=>{class t extends my{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),rI=Y7;function Z7(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var J7=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(f=>_(this,null,function*(){return f(r.origin,s)})),u=yield Z7(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Ck(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var FC=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=Ck("",20);i.port1.start();let f=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){let y=h;if(y.data.eventId===u)switch(y.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(y.data.response);break;default:clearTimeout(f),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ji(){return window}function X7(t){ji().location.href=t}function Ik(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}function eW(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function tW(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function nW(){return Ik()?self:null}var Sk="firebaseLocalStorageDb",rW=1,gy="firebaseLocalStorage",xk="fbase_key",rc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function _y(t,e){return t.transaction([gy],e?"readwrite":"readonly").objectStore(gy)}function iW(){let t=indexedDB.deleteDatabase(Sk);return new rc(t).toPromise()}function LC(){let t=indexedDB.open(Sk,rW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(gy,{keyPath:xk})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(gy)?e(r):(r.close(),yield iW(),e(yield LC()))}))})}function q1(t,e,n){return _(this,null,function*(){let r=_y(t,!0).put({[xk]:e,value:n});return new rc(r).toPromise()})}function oW(t,e){return _(this,null,function*(){let n=_y(t,!1).get(e),r=yield new rc(n).toPromise();return r===void 0?null:r.value})}function z1(t,e){let n=_y(t,!0).delete(e);return new rc(n).toPromise()}var sW=800,aW=3,cW=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield LC(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>aW)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return Ik()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=J7._getInstance(nW()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield eW(),!this.activeServiceWorker)return;this.sender=new FC(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||tW()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield LC();return yield q1(n,py,"1"),yield z1(n,py),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>q1(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>oW(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>z1(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=_y(o,!1).getAll();return new rc(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),sW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Ak=cW;var Jde=gk("rcb"),Xde=new nc(3e4,6e4);function lW(t,e){return e?To(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var kf=class extends Nf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bC(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bC(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bC(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function uW(t){return wk(t.auth,new kf(t),t.bypassAuthState)}function dW(t){let{auth:e,user:n}=t;return _e(n,e,"internal-error"),z7(n,new kf(t),t.bypassAuthState)}function fW(t){return _(this,null,function*(){let{auth:e,user:n}=t;return _e(n,e,"internal-error"),q7(n,new kf(t),t.bypassAuthState)})}var VC=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uW;case"linkViaPopup":case"linkViaRedirect":return fW;case"reauthViaPopup":case"reauthViaRedirect":return dW;default:$i(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var efe=new nc(2e3,1e4);var hW="pendingRedirect",oy=new Map,BC=class t extends VC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=oy.get(this.auth._key());if(!e){try{let r=(yield pW(this.resolver,this.auth))?yield bi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}oy.set(this.auth._key(),e)}return this.bypassAuthState||oy.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return bi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,bi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function pW(t,e){return _(this,null,function*(){let n=yW(e),r=gW(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function mW(t,e){oy.set(t._key(),e)}function gW(t){return To(t._redirectPersistence)}function yW(t){return iy(hW,t.config.apiKey,t.name)}function vW(t,e,n=!1){return _(this,null,function*(){if(oi(t.app))return Promise.reject(Do(t));let r=ic(t),i=lW(r,e),s=yield new BC(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var _W=10*60*1e3,UC=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Tk(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(tc(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_W&&this.cachedEventUids.clear(),this.cachedEventUids.has(G1(e))}saveEventToCache(e){this.cachedEventUids.add(G1(e)),this.lastProcessedEventTime=Date.now()}};function G1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Tk({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function wW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tk(t);default:return!1}}function EW(n){return _(this,arguments,function*(t,e={}){return Mo(t,"GET","/v1/projects",e)})}var bW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CW=/^https?/;function IW(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield EW(t);for(let n of e)try{if(SW(n))return}catch{}$i(t,"unauthorized-domain")})}function SW(t){let e=IC(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!CW.test(n))return!1;if(bW.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var xW=new nc(3e4,6e4);function W1(){let t=ji().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AW(t){return new Promise((e,n)=>{var r,i,o;function s(){W1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W1(),n(tc(t,"network-request-failed"))},timeout:xW.get()})}if(!((i=(r=ji().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ji().gapi)===null||o===void 0)&&o.load)s();else{let a=gk("iframefcb");return ji()[a]=()=>{gapi.load?s():n(tc(t,"network-request-failed"))},mk(`${D7()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw sy=null,e})}var sy=null;function TW(t){return sy=sy||AW(t),sy}var DW=new nc(5e3,15e3),RW="__/auth/iframe",MW="emulator/auth/iframe",NW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kW(t){let e=t.config;_e(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?qC(e,MW):`https://${t.config.authDomain}/${RW}`,r={apiKey:e.apiKey,appName:t.name,v:ks},i=PW.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Cf(r).slice(1)}`}function OW(t){return _(this,null,function*(){let e=yield TW(t),n=ji().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:kW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NW,dontclear:!0},r=>new Promise((i,o)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=tc(t,"network-request-failed"),a=ji().setTimeout(()=>{o(s)},DW.get());function c(){ji().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var FW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LW=500,VW=600,BW="_blank",UW="http://localhost",yy=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function jW(t,e,n,r=LW,i=VW){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},FW),{width:r.toString(),height:i.toString(),top:o,left:s}),u=an().toLowerCase();n&&(a=ck(u)?BW:n),sk(u)&&(e=e||UW,c.scrollbars="yes");let f=Object.entries(c).reduce((y,[w,b])=>`${y}${w}=${b},`,"");if(C7(u)&&a!=="_self")return $W(e||"",a),new yy(null);let h=window.open(e||"",a,f);_e(h,t,"popup-blocked");try{h.focus()}catch{}return new yy(h)}function $W(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var HW="__/auth/handler",qW="emulator/auth/handler",zW=encodeURIComponent("fac");function K1(t,e,n,r,i,o){return _(this,null,function*(){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ks,eventId:i};if(e instanceof hy){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",v1(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,h]of Object.entries(o||{}))s[f]=h}if(e instanceof kC){let f=e.getScopes().filter(h=>h!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let c=yield t._getAppCheckToken(),u=c?`#${zW}=${encodeURIComponent(c)}`:"";return`${GW(t)}?${Cf(a).slice(1)}${u}`})}function GW({config:t}){return t.emulator?qC(t,qW):`https://${t.authDomain}/${HW}`}var CC="webStorageSupport",jC=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rI,this._completeRedirectFn=vW,this._overrideRedirectResult=mW}_openPopup(e,n,r,i){return _(this,null,function*(){var o;Fs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield K1(e,n,r,IC(),i);return jW(e,s,Ck())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield K1(e,n,r,IC(),i);return X7(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Fs(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield OW(e),r=new UC(e);return n.register("authEvent",i=>(_e(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(CC,{type:CC},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[CC];s!==void 0&&n(!!s),$i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hk()||ak()||KC()}},Dk=jC;var Q1="@firebase/auth",Y1="1.7.9";var $C=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function WW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KW(t){Ps(new Fr("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;_e(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pk(t)},u=new MC(r,i,o,c);return N7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ps(new Fr("auth-internal",e=>{let n=ic(e.getProvider("auth").getImmediate());return(r=>new $C(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xt(Q1,Y1,WW(t)),Xt(Q1,Y1,"esm2017")}var QW=5*60,YW=nC("authIdTokenMaxAge")||QW,Z1=null,ZW=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YW)return;let i=n?.token;Z1!==i&&(Z1=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function iI(t=Ql()){let e=xf(t,"auth");if(e.isInitialized())return e.getImmediate();let n=QC(t,{popupRedirectResolver:Dk,persistence:[Ak,bk,rI]}),r=nC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=ZW(o.toString());nI(n,s,()=>s(n.currentUser)),tI(n,a=>s(a))}}let i=eC("auth");return i&&YC(n,`http://${i}`),n}function JW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}A7({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=tc("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",JW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KW("Browser");var Rk="auth",gr=class{constructor(e){return e}},Ff=class{constructor(){return Af(Rk)}};var oI=new me("angularfire2.auth-instances");function $K(t,e){let n=ey(Rk,t,e);return n&&new gr(n)}function HK(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new gr(r)}}var qK={provide:Ff,deps:[[new Fn,oI]]},zK={provide:gr,useFactory:$K,deps:[[new Fn,oI],xo]};function Mk(t,...e){return Xt("angularfire",Xa.full,"auth"),Ri([zK,qK,{provide:oI,useFactory:HK(t),multi:!0,deps:[ot,Jn,Jl,ec,[new Fn,Zl],...e]}])}var tu=cn(JC,!0);var Nk=cn(iI,!0);var nu=cn(eI,!0);var Pk=cn(XC,!0);var kk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ok={};var Ls,sI;(function(){var t;function e(P,x){function T(){}T.prototype=x.prototype,P.D=x.prototype,P.prototype=new T,P.prototype.constructor=P,P.C=function(N,k,O){for(var R=Array(arguments.length-2),$r=2;$r<arguments.length;$r++)R[$r-2]=arguments[$r];return x.prototype[k].apply(N,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,x,T){T||(T=0);var N=Array(16);if(typeof x=="string")for(var k=0;16>k;++k)N[k]=x.charCodeAt(T++)|x.charCodeAt(T++)<<8|x.charCodeAt(T++)<<16|x.charCodeAt(T++)<<24;else for(k=0;16>k;++k)N[k]=x[T++]|x[T++]<<8|x[T++]<<16|x[T++]<<24;x=P.g[0],T=P.g[1],k=P.g[2];var O=P.g[3],R=x+(O^T&(k^O))+N[0]+3614090360&4294967295;x=T+(R<<7&4294967295|R>>>25),R=O+(k^x&(T^k))+N[1]+3905402710&4294967295,O=x+(R<<12&4294967295|R>>>20),R=k+(T^O&(x^T))+N[2]+606105819&4294967295,k=O+(R<<17&4294967295|R>>>15),R=T+(x^k&(O^x))+N[3]+3250441966&4294967295,T=k+(R<<22&4294967295|R>>>10),R=x+(O^T&(k^O))+N[4]+4118548399&4294967295,x=T+(R<<7&4294967295|R>>>25),R=O+(k^x&(T^k))+N[5]+1200080426&4294967295,O=x+(R<<12&4294967295|R>>>20),R=k+(T^O&(x^T))+N[6]+2821735955&4294967295,k=O+(R<<17&4294967295|R>>>15),R=T+(x^k&(O^x))+N[7]+4249261313&4294967295,T=k+(R<<22&4294967295|R>>>10),R=x+(O^T&(k^O))+N[8]+1770035416&4294967295,x=T+(R<<7&4294967295|R>>>25),R=O+(k^x&(T^k))+N[9]+2336552879&4294967295,O=x+(R<<12&4294967295|R>>>20),R=k+(T^O&(x^T))+N[10]+4294925233&4294967295,k=O+(R<<17&4294967295|R>>>15),R=T+(x^k&(O^x))+N[11]+2304563134&4294967295,T=k+(R<<22&4294967295|R>>>10),R=x+(O^T&(k^O))+N[12]+1804603682&4294967295,x=T+(R<<7&4294967295|R>>>25),R=O+(k^x&(T^k))+N[13]+4254626195&4294967295,O=x+(R<<12&4294967295|R>>>20),R=k+(T^O&(x^T))+N[14]+2792965006&4294967295,k=O+(R<<17&4294967295|R>>>15),R=T+(x^k&(O^x))+N[15]+1236535329&4294967295,T=k+(R<<22&4294967295|R>>>10),R=x+(k^O&(T^k))+N[1]+4129170786&4294967295,x=T+(R<<5&4294967295|R>>>27),R=O+(T^k&(x^T))+N[6]+3225465664&4294967295,O=x+(R<<9&4294967295|R>>>23),R=k+(x^T&(O^x))+N[11]+643717713&4294967295,k=O+(R<<14&4294967295|R>>>18),R=T+(O^x&(k^O))+N[0]+3921069994&4294967295,T=k+(R<<20&4294967295|R>>>12),R=x+(k^O&(T^k))+N[5]+3593408605&4294967295,x=T+(R<<5&4294967295|R>>>27),R=O+(T^k&(x^T))+N[10]+38016083&4294967295,O=x+(R<<9&4294967295|R>>>23),R=k+(x^T&(O^x))+N[15]+3634488961&4294967295,k=O+(R<<14&4294967295|R>>>18),R=T+(O^x&(k^O))+N[4]+3889429448&4294967295,T=k+(R<<20&4294967295|R>>>12),R=x+(k^O&(T^k))+N[9]+568446438&4294967295,x=T+(R<<5&4294967295|R>>>27),R=O+(T^k&(x^T))+N[14]+3275163606&4294967295,O=x+(R<<9&4294967295|R>>>23),R=k+(x^T&(O^x))+N[3]+4107603335&4294967295,k=O+(R<<14&4294967295|R>>>18),R=T+(O^x&(k^O))+N[8]+1163531501&4294967295,T=k+(R<<20&4294967295|R>>>12),R=x+(k^O&(T^k))+N[13]+2850285829&4294967295,x=T+(R<<5&4294967295|R>>>27),R=O+(T^k&(x^T))+N[2]+4243563512&4294967295,O=x+(R<<9&4294967295|R>>>23),R=k+(x^T&(O^x))+N[7]+1735328473&4294967295,k=O+(R<<14&4294967295|R>>>18),R=T+(O^x&(k^O))+N[12]+2368359562&4294967295,T=k+(R<<20&4294967295|R>>>12),R=x+(T^k^O)+N[5]+4294588738&4294967295,x=T+(R<<4&4294967295|R>>>28),R=O+(x^T^k)+N[8]+2272392833&4294967295,O=x+(R<<11&4294967295|R>>>21),R=k+(O^x^T)+N[11]+1839030562&4294967295,k=O+(R<<16&4294967295|R>>>16),R=T+(k^O^x)+N[14]+4259657740&4294967295,T=k+(R<<23&4294967295|R>>>9),R=x+(T^k^O)+N[1]+2763975236&4294967295,x=T+(R<<4&4294967295|R>>>28),R=O+(x^T^k)+N[4]+1272893353&4294967295,O=x+(R<<11&4294967295|R>>>21),R=k+(O^x^T)+N[7]+4139469664&4294967295,k=O+(R<<16&4294967295|R>>>16),R=T+(k^O^x)+N[10]+3200236656&4294967295,T=k+(R<<23&4294967295|R>>>9),R=x+(T^k^O)+N[13]+681279174&4294967295,x=T+(R<<4&4294967295|R>>>28),R=O+(x^T^k)+N[0]+3936430074&4294967295,O=x+(R<<11&4294967295|R>>>21),R=k+(O^x^T)+N[3]+3572445317&4294967295,k=O+(R<<16&4294967295|R>>>16),R=T+(k^O^x)+N[6]+76029189&4294967295,T=k+(R<<23&4294967295|R>>>9),R=x+(T^k^O)+N[9]+3654602809&4294967295,x=T+(R<<4&4294967295|R>>>28),R=O+(x^T^k)+N[12]+3873151461&4294967295,O=x+(R<<11&4294967295|R>>>21),R=k+(O^x^T)+N[15]+530742520&4294967295,k=O+(R<<16&4294967295|R>>>16),R=T+(k^O^x)+N[2]+3299628645&4294967295,T=k+(R<<23&4294967295|R>>>9),R=x+(k^(T|~O))+N[0]+4096336452&4294967295,x=T+(R<<6&4294967295|R>>>26),R=O+(T^(x|~k))+N[7]+1126891415&4294967295,O=x+(R<<10&4294967295|R>>>22),R=k+(x^(O|~T))+N[14]+2878612391&4294967295,k=O+(R<<15&4294967295|R>>>17),R=T+(O^(k|~x))+N[5]+4237533241&4294967295,T=k+(R<<21&4294967295|R>>>11),R=x+(k^(T|~O))+N[12]+1700485571&4294967295,x=T+(R<<6&4294967295|R>>>26),R=O+(T^(x|~k))+N[3]+2399980690&4294967295,O=x+(R<<10&4294967295|R>>>22),R=k+(x^(O|~T))+N[10]+4293915773&4294967295,k=O+(R<<15&4294967295|R>>>17),R=T+(O^(k|~x))+N[1]+2240044497&4294967295,T=k+(R<<21&4294967295|R>>>11),R=x+(k^(T|~O))+N[8]+1873313359&4294967295,x=T+(R<<6&4294967295|R>>>26),R=O+(T^(x|~k))+N[15]+4264355552&4294967295,O=x+(R<<10&4294967295|R>>>22),R=k+(x^(O|~T))+N[6]+2734768916&4294967295,k=O+(R<<15&4294967295|R>>>17),R=T+(O^(k|~x))+N[13]+1309151649&4294967295,T=k+(R<<21&4294967295|R>>>11),R=x+(k^(T|~O))+N[4]+4149444226&4294967295,x=T+(R<<6&4294967295|R>>>26),R=O+(T^(x|~k))+N[11]+3174756917&4294967295,O=x+(R<<10&4294967295|R>>>22),R=k+(x^(O|~T))+N[2]+718787259&4294967295,k=O+(R<<15&4294967295|R>>>17),R=T+(O^(k|~x))+N[9]+3951481745&4294967295,P.g[0]=P.g[0]+x&4294967295,P.g[1]=P.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,P.g[2]=P.g[2]+k&4294967295,P.g[3]=P.g[3]+O&4294967295}r.prototype.u=function(P,x){x===void 0&&(x=P.length);for(var T=x-this.blockSize,N=this.B,k=this.h,O=0;O<x;){if(k==0)for(;O<=T;)i(this,P,O),O+=this.blockSize;if(typeof P=="string"){for(;O<x;)if(N[k++]=P.charCodeAt(O++),k==this.blockSize){i(this,N),k=0;break}}else for(;O<x;)if(N[k++]=P[O++],k==this.blockSize){i(this,N),k=0;break}}this.h=k,this.o+=x},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var x=1;x<P.length-8;++x)P[x]=0;var T=8*this.o;for(x=P.length-8;x<P.length;++x)P[x]=T&255,T/=256;for(this.u(P),P=Array(16),x=T=0;4>x;++x)for(var N=0;32>N;N+=8)P[T++]=this.g[x]>>>N&255;return P};function o(P,x){var T=a;return Object.prototype.hasOwnProperty.call(T,P)?T[P]:T[P]=x(P)}function s(P,x){this.h=x;for(var T=[],N=!0,k=P.length-1;0<=k;k--){var O=P[k]|0;N&&O==x||(T[k]=O,N=!1)}this.g=T}var a={};function c(P){return-128<=P&&128>P?o(P,function(x){return new s([x|0],0>x?-1:0)}):new s([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return h;if(0>P)return M(u(-P));for(var x=[],T=1,N=0;P>=T;N++)x[N]=P/T|0,T*=4294967296;return new s(x,0)}function f(P,x){if(P.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P.charAt(0)=="-")return M(f(P.substring(1),x));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(x,8)),N=h,k=0;k<P.length;k+=8){var O=Math.min(8,P.length-k),R=parseInt(P.substring(k,k+O),x);8>O?(O=u(Math.pow(x,O)),N=N.j(O).add(u(R))):(N=N.j(T),N=N.add(u(R)))}return N}var h=c(0),y=c(1),w=c(16777216);t=s.prototype,t.m=function(){if(L(this))return-M(this).m();for(var P=0,x=1,T=0;T<this.g.length;T++){var N=this.i(T);P+=(0<=N?N:4294967296+N)*x,x*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(b(this))return"0";if(L(this))return"-"+M(this).toString(P);for(var x=u(Math.pow(P,6)),T=this,N="";;){var k=ce(T,x).g;T=j(T,k.j(x));var O=((0<T.g.length?T.g[0]:T.h)>>>0).toString(P);if(T=k,b(T))return O+N;for(;6>O.length;)O="0"+O;N=O+N}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function b(P){if(P.h!=0)return!1;for(var x=0;x<P.g.length;x++)if(P.g[x]!=0)return!1;return!0}function L(P){return P.h==-1}t.l=function(P){return P=j(this,P),L(P)?-1:b(P)?0:1};function M(P){for(var x=P.g.length,T=[],N=0;N<x;N++)T[N]=~P.g[N];return new s(T,~P.h).add(y)}t.abs=function(){return L(this)?M(this):this},t.add=function(P){for(var x=Math.max(this.g.length,P.g.length),T=[],N=0,k=0;k<=x;k++){var O=N+(this.i(k)&65535)+(P.i(k)&65535),R=(O>>>16)+(this.i(k)>>>16)+(P.i(k)>>>16);N=R>>>16,O&=65535,R&=65535,T[k]=R<<16|O}return new s(T,T[T.length-1]&-2147483648?-1:0)};function j(P,x){return P.add(M(x))}t.j=function(P){if(b(this)||b(P))return h;if(L(this))return L(P)?M(this).j(M(P)):M(M(this).j(P));if(L(P))return M(this.j(M(P)));if(0>this.l(w)&&0>P.l(w))return u(this.m()*P.m());for(var x=this.g.length+P.g.length,T=[],N=0;N<2*x;N++)T[N]=0;for(N=0;N<this.g.length;N++)for(var k=0;k<P.g.length;k++){var O=this.i(N)>>>16,R=this.i(N)&65535,$r=P.i(k)>>>16,Ho=P.i(k)&65535;T[2*N+2*k]+=R*Ho,K(T,2*N+2*k),T[2*N+2*k+1]+=O*Ho,K(T,2*N+2*k+1),T[2*N+2*k+1]+=R*$r,K(T,2*N+2*k+1),T[2*N+2*k+2]+=O*$r,K(T,2*N+2*k+2)}for(N=0;N<x;N++)T[N]=T[2*N+1]<<16|T[2*N];for(N=x;N<2*x;N++)T[N]=0;return new s(T,0)};function K(P,x){for(;(P[x]&65535)!=P[x];)P[x+1]+=P[x]>>>16,P[x]&=65535,x++}function ee(P,x){this.g=P,this.h=x}function ce(P,x){if(b(x))throw Error("division by zero");if(b(P))return new ee(h,h);if(L(P))return x=ce(M(P),x),new ee(M(x.g),M(x.h));if(L(x))return x=ce(P,M(x)),new ee(M(x.g),x.h);if(30<P.g.length){if(L(P)||L(x))throw Error("slowDivide_ only works with positive integers.");for(var T=y,N=x;0>=N.l(P);)T=xe(T),N=xe(N);var k=de(T,1),O=de(N,1);for(N=de(N,2),T=de(T,2);!b(N);){var R=O.add(N);0>=R.l(P)&&(k=k.add(T),O=R),N=de(N,1),T=de(T,1)}return x=j(P,k.j(x)),new ee(k,x)}for(k=h;0<=P.l(x);){for(T=Math.max(1,Math.floor(P.m()/x.m())),N=Math.ceil(Math.log(T)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),O=u(T),R=O.j(x);L(R)||0<R.l(P);)T-=N,O=u(T),R=O.j(x);b(O)&&(O=y),k=k.add(O),P=j(P,R)}return new ee(k,P)}t.A=function(P){return ce(this,P).h},t.and=function(P){for(var x=Math.max(this.g.length,P.g.length),T=[],N=0;N<x;N++)T[N]=this.i(N)&P.i(N);return new s(T,this.h&P.h)},t.or=function(P){for(var x=Math.max(this.g.length,P.g.length),T=[],N=0;N<x;N++)T[N]=this.i(N)|P.i(N);return new s(T,this.h|P.h)},t.xor=function(P){for(var x=Math.max(this.g.length,P.g.length),T=[],N=0;N<x;N++)T[N]=this.i(N)^P.i(N);return new s(T,this.h^P.h)};function xe(P){for(var x=P.g.length+1,T=[],N=0;N<x;N++)T[N]=P.i(N)<<1|P.i(N-1)>>>31;return new s(T,P.h)}function de(P,x){var T=x>>5;x%=32;for(var N=P.g.length-T,k=[],O=0;O<N;O++)k[O]=0<x?P.i(O+T)>>>x|P.i(O+T+1)<<32-x:P.i(O+T);return new s(k,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sI=Ok.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=f,Ls=Ok.Integer=s}).apply(typeof kk<"u"?kk:typeof self<"u"?self:typeof window<"u"?window:{});var Ey=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},No={};var aI,GK,ru,cI,Lf,by,lI,uI,dI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,m,g){return l==Array.prototype||l==Object.prototype||(l[m]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ey=="object"&&Ey];for(var m=0;m<l.length;++m){var g=l[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,m){if(m)e:{var g=r;l=l.split(".");for(var E=0;E<l.length-1;E++){var B=l[E];if(!(B in g))break e;g=g[B]}l=l[l.length-1],E=g[l],m=m(E),m!=E&&m!=null&&e(g,l,{configurable:!0,writable:!0,value:m})}}function o(l,m){l instanceof String&&(l+="");var g=0,E=!1,B={next:function(){if(!E&&g<l.length){var $=g++;return{value:m($,l[$]),done:!1}}return E=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}i("Array.prototype.values",function(l){return l||function(){return o(this,function(m,g){return g})}});var s=s||{},a=this||self;function c(l){var m=typeof l;return m=m!="object"?m:l?Array.isArray(l)?"array":m:"null",m=="array"||m=="object"&&typeof l.length=="number"}function u(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function f(l,m,g){return l.call.apply(l.bind,arguments)}function h(l,m,g){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,E),l.apply(m,B)}}return function(){return l.apply(m,arguments)}}function y(l,m,g){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,y.apply(null,arguments)}function w(l,m){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function b(l,m){function g(){}g.prototype=m.prototype,l.aa=m.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(E,B,$){for(var X=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)X[Xe-2]=arguments[Xe];return m.prototype[B].apply(E,X)}}function L(l){let m=l.length;if(0<m){let g=Array(m);for(let E=0;E<m;E++)g[E]=l[E];return g}return[]}function M(l,m){for(let g=1;g<arguments.length;g++){let E=arguments[g];if(c(E)){let B=l.length||0,$=E.length||0;l.length=B+$;for(let X=0;X<$;X++)l[B+X]=E[X]}else l.push(E)}}class j{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(l){return/^[\s\xa0]*$/.test(l)}function ee(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function ce(l){return ce[" "](l),l}ce[" "]=function(){};var xe=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function de(l,m,g){for(let E in l)m.call(g,l[E],E,l)}function P(l,m){for(let g in l)m.call(void 0,l[g],g,l)}function x(l){let m={};for(let g in l)m[g]=l[g];return m}let T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(l,m){let g,E;for(let B=1;B<arguments.length;B++){E=arguments[B];for(g in E)l[g]=E[g];for(let $=0;$<T.length;$++)g=T[$],Object.prototype.hasOwnProperty.call(E,g)&&(l[g]=E[g])}}function k(l){var m=1;l=l.split(":");let g=[];for(;0<m&&l.length;)g.push(l.shift()),m--;return l.length&&g.push(l.join(":")),g}function O(l){a.setTimeout(()=>{throw l},0)}function R(){var l=zo;let m=null;return l.g&&(m=l.g,l.g=l.g.next,l.g||(l.h=null),m.next=null),m}class $r{constructor(){this.h=this.g=null}add(m,g){let E=Ho.get();E.set(m,g),this.h?this.h.next=E:this.g=E,this.h=E}}var Ho=new j(()=>new Wu,l=>l.reset());class Wu{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let qo,ro=!1,zo=new $r,or=()=>{let l=a.Promise.resolve(void 0);qo=()=>{l.then(Go)}};var Go=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(g){O(g)}var m=Ho;m.j(l),100>m.h&&(m.h++,l.next=m.g,m.g=l)}ro=!1};function bn(){this.s=this.s,this.C=this.C}bn.prototype.s=!1,bn.prototype.ma=function(){this.s||(this.s=!0,this.N())},bn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tn(l,m){this.type=l,this.g=this.target=m,this.defaultPrevented=!1}tn.prototype.h=function(){this.defaultPrevented=!0};var Wo=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let g=()=>{};a.addEventListener("test",g,m),a.removeEventListener("test",g,m)}catch{}return l}();function Hr(l,m){if(tn.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=m,m=l.relatedTarget){if(xe){e:{try{ce(m.nodeName);var B=!0;break e}catch{}B=!1}B||(m=null)}}else g=="mouseover"?m=l.fromElement:g=="mouseout"&&(m=l.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Fh[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Hr.aa.h.call(this)}}b(Hr,tn);var Fh={2:"touch",3:"pen",4:"mouse"};Hr.prototype.h=function(){Hr.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var hi="closure_listenable_"+(1e6*Math.random()|0),Ku=0;function lw(l,m,g,E,B){this.listener=l,this.proxy=null,this.src=m,this.type=g,this.capture=!!E,this.ha=B,this.key=++Ku,this.da=this.fa=!1}function Ko(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Qo(l){this.src=l,this.g={},this.h=0}Qo.prototype.add=function(l,m,g,E,B){var $=l.toString();l=this.g[$],l||(l=this.g[$]=[],this.h++);var X=Qu(l,m,E,B);return-1<X?(m=l[X],g||(m.fa=!1)):(m=new lw(m,this.src,$,!!E,B),m.fa=g,l.push(m)),m};function Yo(l,m){var g=m.type;if(g in l.g){var E=l.g[g],B=Array.prototype.indexOf.call(E,m,void 0),$;($=0<=B)&&Array.prototype.splice.call(E,B,1),$&&(Ko(m),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Qu(l,m,g,E){for(var B=0;B<l.length;++B){var $=l[B];if(!$.da&&$.listener==m&&$.capture==!!g&&$.ha==E)return B}return-1}var mn="closure_lm_"+(1e6*Math.random()|0),sr={};function Lh(l,m,g,E,B){if(E&&E.once)return Yu(l,m,g,E,B);if(Array.isArray(m)){for(var $=0;$<m.length;$++)Lh(l,m[$],g,E,B);return null}return g=Pt(g),l&&l[hi]?l.K(m,g,u(E)?!!E.capture:!!E,B):Cn(l,m,g,!1,E,B)}function Cn(l,m,g,E,B,$){if(!m)throw Error("Invalid event type");var X=u(B)?!!B.capture:!!B,Xe=qr(l);if(Xe||(l[mn]=Xe=new Qo(l)),g=Xe.add(m,g,E,X,$),g.proxy)return g;if(E=Nc(),g.proxy=E,E.src=l,E.listener=g,l.addEventListener)Wo||(B=X),B===void 0&&(B=!1),l.addEventListener(m.toString(),E,B);else if(l.attachEvent)l.attachEvent(ar(m.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Nc(){function l(g){return m.call(l.src,l.listener,g)}let m=pi;return l}function Yu(l,m,g,E,B){if(Array.isArray(m)){for(var $=0;$<m.length;$++)Yu(l,m[$],g,E,B);return null}return g=Pt(g),l&&l[hi]?l.L(m,g,u(E)?!!E.capture:!!E,B):Cn(l,m,g,!0,E,B)}function Zu(l,m,g,E,B){if(Array.isArray(m))for(var $=0;$<m.length;$++)Zu(l,m[$],g,E,B);else E=u(E)?!!E.capture:!!E,g=Pt(g),l&&l[hi]?(l=l.i,m=String(m).toString(),m in l.g&&($=l.g[m],g=Qu($,g,E,B),-1<g&&(Ko($[g]),Array.prototype.splice.call($,g,1),$.length==0&&(delete l.g[m],l.h--)))):l&&(l=qr(l))&&(m=l.g[m.toString()],l=-1,m&&(l=Qu(m,g,E,B)),(g=-1<l?m[l]:null)&&Ue(g))}function Ue(l){if(typeof l!="number"&&l&&!l.da){var m=l.src;if(m&&m[hi])Yo(m.i,l);else{var g=l.type,E=l.proxy;m.removeEventListener?m.removeEventListener(g,E,l.capture):m.detachEvent?m.detachEvent(ar(g),E):m.addListener&&m.removeListener&&m.removeListener(E),(g=qr(m))?(Yo(g,l),g.h==0&&(g.src=null,m[mn]=null)):Ko(l)}}}function ar(l){return l in sr?sr[l]:sr[l]="on"+l}function pi(l,m){if(l.da)l=!0;else{m=new Hr(m,this);var g=l.listener,E=l.ha||l.src;l.fa&&Ue(l),l=g.call(E,m)}return l}function qr(l){return l=l[mn],l instanceof Qo?l:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pt(l){return typeof l=="function"?l:(l[It]||(l[It]=function(m){return l.handleEvent(m)}),l[It])}function kt(){bn.call(this),this.i=new Qo(this),this.M=this,this.F=null}b(kt,bn),kt.prototype[hi]=!0,kt.prototype.removeEventListener=function(l,m,g,E){Zu(this,l,m,g,E)};function nn(l,m){var g,E=l.F;if(E)for(g=[];E;E=E.F)g.push(E);if(l=l.M,E=m.type||m,typeof m=="string")m=new tn(m,l);else if(m instanceof tn)m.target=m.target||l;else{var B=m;m=new tn(E,l),N(m,B)}if(B=!0,g)for(var $=g.length-1;0<=$;$--){var X=m.g=g[$];B=mi(X,E,!0,m)&&B}if(X=m.g=l,B=mi(X,E,!0,m)&&B,B=mi(X,E,!1,m)&&B,g)for($=0;$<g.length;$++)X=m.g=g[$],B=mi(X,E,!1,m)&&B}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var l=this.i,m;for(m in l.g){for(var g=l.g[m],E=0;E<g.length;E++)Ko(g[E]);delete l.g[m],l.h--}}this.F=null},kt.prototype.K=function(l,m,g,E){return this.i.add(String(l),m,!1,g,E)},kt.prototype.L=function(l,m,g,E){return this.i.add(String(l),m,!0,g,E)};function mi(l,m,g,E){if(m=l.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,$=0;$<m.length;++$){var X=m[$];if(X&&!X.da&&X.capture==g){var Xe=X.listener,Gt=X.ha||X.src;X.fa&&Yo(l.i,X),B=Xe.call(Gt,E)!==!1&&B}}return B&&!E.defaultPrevented}function gn(l,m,g){if(typeof l=="function")g&&(l=y(l,g));else if(l&&typeof l.handleEvent=="function")l=y(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(l,m||0)}function Vh(l){l.g=gn(()=>{l.g=null,l.i&&(l.i=!1,Vh(l))},l.l);let m=l.h;l.h=null,l.m.apply(null,m)}class Bh extends bn{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Vh(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zo(l){bn.call(this),this.h=l,this.g={}}b(Zo,bn);var Pc=[];function Uh(l){de(l.g,function(m,g){this.g.hasOwnProperty(g)&&Ue(m)},l),l.g={}}Zo.prototype.N=function(){Zo.aa.N.call(this),Uh(this)},Zo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ju=a.JSON.stringify,uw=a.JSON.parse,dw=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function zr(){}zr.prototype.h=null;function jh(l){return l.h||(l.h=l.i())}function $h(){}var oa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xu(){tn.call(this,"d")}b(Xu,tn);function ed(){tn.call(this,"c")}b(ed,tn);var Gr={},Hh=null;function kc(){return Hh=Hh||new kt}Gr.La="serverreachability";function qh(l){tn.call(this,Gr.La,l)}b(qh,tn);function sa(l){let m=kc();nn(m,new qh(m))}Gr.STAT_EVENT="statevent";function zh(l,m){tn.call(this,Gr.STAT_EVENT,l),this.stat=m}b(zh,tn);function zt(l){let m=kc();nn(m,new zh(m,l))}Gr.Ma="timingevent";function Gh(l,m){tn.call(this,Gr.Ma,l),this.size=m}b(Gh,tn);function aa(l,m){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},m)}function ca(){this.g=!0}ca.prototype.xa=function(){this.g=!1};function fw(l,m,g,E,B,$){l.info(function(){if(l.g)if($)for(var X="",Xe=$.split("&"),Gt=0;Gt<Xe.length;Gt++){var We=Xe[Gt].split("=");if(1<We.length){var rn=We[0];We=We[1];var Wt=rn.split("_");X=2<=Wt.length&&Wt[1]=="type"?X+(rn+"="+We+"&"):X+(rn+"=redacted&")}}else X=null;else X=$;return"XMLHTTP REQ ("+E+") [attempt "+B+"]: "+m+`
`+g+`
`+X})}function hw(l,m,g,E,B,$,X){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+B+"]: "+m+`
`+g+`
`+$+" "+X})}function Ye(l,m,g,E){l.info(function(){return"XMLHTTP TEXT ("+m+"): "+mw(l,g)+(E?" "+E:"")})}function pw(l,m){l.info(function(){return"TIMEOUT: "+m})}ca.prototype.info=function(){};function mw(l,m){if(!l.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var E=g[l];if(!(2>E.length)){var B=E[1];if(Array.isArray(B)&&!(1>B.length)){var $=B[0];if($!="noop"&&$!="stop"&&$!="close")for(var X=1;X<B.length;X++)B[X]=""}}}}return Ju(g)}catch{return m}}var Oc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},td;function Fc(){}b(Fc,zr),Fc.prototype.g=function(){return new XMLHttpRequest},Fc.prototype.i=function(){return{}},td=new Fc;function Cr(l,m,g,E){this.j=l,this.i=m,this.l=g,this.R=E||1,this.U=new Zo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jo}function Jo(){this.i=null,this.g="",this.h=!1}var nd={},Xo={};function pt(l,m,g){l.L=1,l.v=Vc(Ir(m)),l.m=g,l.P=!0,Kh(l,null)}function Kh(l,m){l.F=Date.now(),la(l),l.A=Ir(l.v);var g=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),up(g.i,"t",E),l.C=0,g=l.j.J,l.h=new Jo,l.g=yd(l.j,g?m:null,!l.m),0<l.O&&(l.M=new Bh(y(l.Y,l,l.g),l.O)),m=l.U,g=l.g,E=l.ca;var B="readystatechange";Array.isArray(B)||(B&&(Pc[0]=B.toString()),B=Pc);for(var $=0;$<B.length;$++){var X=Lh(g,B[$],E||m.handleEvent,!1,m.h||m);if(!X)break;m.g[X.key]=X}m=l.H?x(l.H):{},l.m?(l.u||(l.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,m)):(l.u="GET",l.g.ea(l.A,l.u,null,m)),sa(),fw(l.i,l.u,l.A,l.l,l.R,l.m)}Cr.prototype.ca=function(l){l=l.target;let m=this.M;m&&Kr(l)==3?m.j():this.Y(l)},Cr.prototype.Y=function(l){try{if(l==this.g)e:{let Wt=Kr(this.g);var m=this.g.Ba();let wi=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||yp(this.g)))){this.J||Wt!=4||m==7||(m==8||0>=wi?sa(3):sa(2)),rd(this);var g=this.g.Z();this.X=g;t:if(Qh(this)){var E=yp(this.g);l="";var B=E.length,$=Kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gi(this),ua(this);var X="";break t}this.h.i=new a.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,l+=this.h.i.decode(E[m],{stream:!($&&m==B-1)});E.length=0,this.h.g+=l,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=g==200,hw(this.i,this.u,this.A,this.l,this.R,Wt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Gt=this.g;if((Xe=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Xe)){var We=Xe;break t}}We=null}if(g=We)Ye(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,id(this,g);else{this.o=!1,this.s=3,zt(12),gi(this),ua(this);break e}}if(this.P){g=!0;let cr;for(;!this.J&&this.C<X.length;)if(cr=gw(this,X),cr==Xo){Wt==4&&(this.s=4,zt(14),g=!1),Ye(this.i,this.l,null,"[Incomplete Response]");break}else if(cr==nd){this.s=4,zt(15),Ye(this.i,this.l,X,"[Invalid Chunk]"),g=!1;break}else Ye(this.i,this.l,cr,null),id(this,cr);if(Qh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||X.length!=0||this.h.h||(this.s=1,zt(16),g=!1),this.o=this.o&&g,!g)Ye(this.i,this.l,X,"[Invalid Chunked Response]"),gi(this),ua(this);else if(0<X.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),os(rn),rn.M=!0,zt(11))}}else Ye(this.i,this.l,X,null),id(this,X);Wt==4&&gi(this),this.o&&!this.J&&(Wt==4?hd(this.j,this):(this.o=!1,la(this)))}else Sw(this.g),g==400&&0<X.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),gi(this),ua(this)}}}catch{}finally{}};function Qh(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function gw(l,m){var g=l.C,E=m.indexOf(`
`,g);return E==-1?Xo:(g=Number(m.substring(g,E)),isNaN(g)?nd:(E+=1,E+g>m.length?Xo:(m=m.slice(E,E+g),l.C=E+g,m)))}Cr.prototype.cancel=function(){this.J=!0,gi(this)};function la(l){l.S=Date.now()+l.I,Yh(l,l.I)}function Yh(l,m){if(l.B!=null)throw Error("WatchDog timer not null");l.B=aa(y(l.ba,l),m)}function rd(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Cr.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(pw(this.i,this.A),this.L!=2&&(sa(),zt(17)),gi(this),this.s=2,ua(this)):Yh(this,this.S-l)};function ua(l){l.j.G==0||l.J||hd(l.j,l)}function gi(l){rd(l);var m=l.M;m&&typeof m.ma=="function"&&m.ma(),l.M=null,Uh(l.U),l.g&&(m=l.g,l.g=null,m.abort(),m.ma())}function id(l,m){try{var g=l.j;if(g.G!=0&&(g.g==l||od(g.h,l))){if(!l.K&&od(g.h,l)&&g.G==3){try{var E=g.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var B=E;if(B[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)va(g),$c(g);else break e;ya(g),zt(18)}}else g.za=B[1],0<g.za-g.T&&37500>B[2]&&g.F&&g.v==0&&!g.C&&(g.C=aa(y(g.Za,g),6e3));if(1>=ep(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else _i(g,11)}else if((l.K||g.g==l)&&va(g),!K(m))for(B=g.Da.g.parse(m),m=0;m<B.length;m++){let We=B[m];if(g.T=We[0],We=We[1],g.G==2)if(We[0]=="c"){g.K=We[1],g.ia=We[2];let rn=We[3];rn!=null&&(g.la=rn,g.j.info("VER="+g.la));let Wt=We[4];Wt!=null&&(g.Aa=Wt,g.j.info("SVER="+g.Aa));let wi=We[5];wi!=null&&typeof wi=="number"&&0<wi&&(E=1.5*wi,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;let cr=l.g;if(cr){let qc=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qc){var $=E.h;$.g||qc.indexOf("spdy")==-1&&qc.indexOf("quic")==-1&&qc.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(sd($,$.h),$.h=null))}if(E.D){let _d=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;_d&&(E.ya=_d,st(E.I,E.D,_d))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var X=l;if(E.qa=gd(E,E.J?E.ia:null,E.W),X.K){tp(E.h,X);var Xe=X,Gt=E.L;Gt&&(Xe.I=Gt),Xe.B&&(rd(Xe),la(Xe)),E.g=X}else fd(E);0<g.i.length&&Hc(g)}else We[0]!="stop"&&We[0]!="close"||_i(g,7);else g.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?_i(g,7):jc(g):We[0]!="noop"&&g.l&&g.l.ta(We),g.v=0)}}sa(4)}catch{}}var Zh=class{constructor(l,m){this.g=l,this.map=m}};function Jh(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xh(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ep(l){return l.h?1:l.g?l.g.size:0}function od(l,m){return l.h?l.h==m:l.g?l.g.has(m):!1}function sd(l,m){l.g?l.g.add(m):l.h=m}function tp(l,m){l.h&&l.h==m?l.h=null:l.g&&l.g.has(m)&&l.g.delete(m)}Jh.prototype.cancel=function(){if(this.i=np(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function np(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let m=l.i;for(let g of l.g.values())m=m.concat(g.D);return m}return L(l.i)}function rp(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var m=[],g=l.length,E=0;E<g;E++)m.push(l[E]);return m}m=[],g=0;for(E in l)m[g++]=l[E];return m}function yw(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var m=[];l=l.length;for(var g=0;g<l;g++)m.push(g);return m}m=[],g=0;for(let E in l)m[g++]=E;return m}}}function ad(l,m){if(l.forEach&&typeof l.forEach=="function")l.forEach(m,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,m,void 0);else for(var g=yw(l),E=rp(l),B=E.length,$=0;$<B;$++)m.call(void 0,E[$],g&&g[$],l)}var ip=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vw(l,m){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var E=l[g].indexOf("="),B=null;if(0<=E){var $=l[g].substring(0,E);B=l[g].substring(E+1)}else $=l[g];m($,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Wn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Wn){this.h=l.h,Lc(this,l.j),this.o=l.o,this.g=l.g,es(this,l.s),this.l=l.l;var m=l.i,g=new ha;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),cd(this,g),this.m=l.m}else l&&(m=String(l).match(ip))?(this.h=!1,Lc(this,m[1]||"",!0),this.o=da(m[2]||""),this.g=da(m[3]||"",!0),es(this,m[4]),this.l=da(m[5]||"",!0),cd(this,m[6]||"",!0),this.m=da(m[7]||"")):(this.h=!1,this.i=new ha(null,this.h))}Wn.prototype.toString=function(){var l=[],m=this.j;m&&l.push(fa(m,op,!0),":");var g=this.g;return(g||m=="file")&&(l.push("//"),(m=this.o)&&l.push(fa(m,op,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(fa(g,g.charAt(0)=="/"?ww:ts,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",fa(g,ap)),l.join("")};function Ir(l){return new Wn(l)}function Lc(l,m,g){l.j=g?da(m,!0):m,l.j&&(l.j=l.j.replace(/:$/,""))}function es(l,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);l.s=m}else l.s=null}function cd(l,m,g){m instanceof ha?(l.i=m,Ew(l.i,l.h)):(g||(m=fa(m,sp)),l.i=new ha(m,l.h))}function st(l,m,g){l.i.set(m,g)}function Vc(l){return st(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function da(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function fa(l,m,g){return typeof l=="string"?(l=encodeURI(l).replace(m,_w),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function _w(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var op=/[#\/\?@]/g,ts=/[#\?:]/g,ww=/[#\?]/g,sp=/[#\?@]/g,ap=/#/g;function ha(l,m){this.h=this.g=null,this.i=l||null,this.j=!!m}function yi(l){l.g||(l.g=new Map,l.h=0,l.i&&vw(l.i,function(m,g){l.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=ha.prototype,t.add=function(l,m){yi(this),this.i=null,l=ns(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(m),this.h+=1,this};function cp(l,m){yi(l),m=ns(l,m),l.g.has(m)&&(l.i=null,l.h-=l.g.get(m).length,l.g.delete(m))}function lp(l,m){return yi(l),m=ns(l,m),l.g.has(m)}t.forEach=function(l,m){yi(this),this.g.forEach(function(g,E){g.forEach(function(B){l.call(m,B,E,this)},this)},this)},t.na=function(){yi(this);let l=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let E=0;E<m.length;E++){let B=l[E];for(let $=0;$<B.length;$++)g.push(m[E])}return g},t.V=function(l){yi(this);let m=[];if(typeof l=="string")lp(this,l)&&(m=m.concat(this.g.get(ns(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)m=m.concat(l[g])}return m},t.set=function(l,m){return yi(this),this.i=null,l=ns(this,l),lp(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[m]),this.h+=1,this},t.get=function(l,m){return l?(l=this.V(l),0<l.length?String(l[0]):m):m};function up(l,m,g){cp(l,m),0<g.length&&(l.i=null,l.g.set(ns(l,m),L(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var E=m[g];let $=encodeURIComponent(String(E)),X=this.V(E);for(E=0;E<X.length;E++){var B=$;X[E]!==""&&(B+="="+encodeURIComponent(String(X[E]))),l.push(B)}}return this.i=l.join("&")};function ns(l,m){return m=String(m),l.j&&(m=m.toLowerCase()),m}function Ew(l,m){m&&!l.j&&(yi(l),l.i=null,l.g.forEach(function(g,E){var B=E.toLowerCase();E!=B&&(cp(this,E),up(this,B,g))},l)),l.j=m}function rs(l,m){let g=new ca;if(a.Image){let E=new Image;E.onload=w(vi,g,"TestLoadImage: loaded",!0,m,E),E.onerror=w(vi,g,"TestLoadImage: error",!1,m,E),E.onabort=w(vi,g,"TestLoadImage: abort",!1,m,E),E.ontimeout=w(vi,g,"TestLoadImage: timeout",!1,m,E),a.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else m(!1)}function bw(l,m){let g=new ca,E=new AbortController,B=setTimeout(()=>{E.abort(),vi(g,"TestPingServer: timeout",!1,m)},1e4);fetch(l,{signal:E.signal}).then($=>{clearTimeout(B),$.ok?vi(g,"TestPingServer: ok",!0,m):vi(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),vi(g,"TestPingServer: error",!1,m)})}function vi(l,m,g,E,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),E(g)}catch{}}function dp(){this.g=new dw}function Cw(l,m,g){let E=g||"";try{ad(l,function(B,$){let X=B;u(B)&&(X=Ju(B)),m.push(E+$+"="+encodeURIComponent(X))})}catch(B){throw m.push(E+"type="+encodeURIComponent("_badmap")),B}}function Kn(l){this.l=l.Ub||null,this.j=l.eb||!1}b(Kn,zr),Kn.prototype.g=function(){return new Bc(this.l,this.j)},Kn.prototype.i=function(l){return function(){return l}}({});function Bc(l,m){kt.call(this),this.D=l,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Bc,kt),t=Bc.prototype,t.open=function(l,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=m,this.readyState=1,pa(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(m.body=l),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wr(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,pa(this)),this.g&&(this.readyState=3,pa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ld(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ld(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var m=l.value?l.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!l.done}))&&(this.response=this.responseText+=m)}l.done?Wr(this):pa(this),this.readyState==3&&ld(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Wr(this))},t.Qa=function(l){this.g&&(this.response=l,Wr(this))},t.ga=function(){this.g&&Wr(this)};function Wr(l){l.readyState=4,l.l=null,l.j=null,l.v=null,pa(l)}t.setRequestHeader=function(l,m){this.u.append(l,m)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=m.next();return l.join(`\r
`)};function pa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Bc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function fp(l){let m="";return de(l,function(g,E){m+=E,m+=":",m+=g,m+=`\r
`}),m}function ud(l,m,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=fp(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):st(l,m,g))}function mt(l){kt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(mt,kt);var is=/^https?$/i,Iw=["POST","PUT"];t=mt.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,m,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);m=m?m.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():td.g(),this.v=this.o?jh(this.o):jh(td),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(m,String(l),!0),this.B=!1}catch($){hp(this,$);return}if(l=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var B in E)g.set(B,E[B]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(let $ of E.keys())g.set($,E.get($));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find($=>$.toLowerCase()=="content-type"),B=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Iw,m,void 0))||E||B||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[$,X]of g)this.g.setRequestHeader($,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gp(this),this.u=!0,this.g.send(l),this.u=!1}catch($){hp(this,$)}};function hp(l,m){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=m,l.m=5,pp(l),Uc(l)}function pp(l){l.A||(l.A=!0,nn(l,"complete"),nn(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,nn(this,"complete"),nn(this,"abort"),Uc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Uc(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?mp(this):this.bb())},t.bb=function(){mp(this)};function mp(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Kr(l)!=4||l.Z()!=2)){if(l.u&&Kr(l)==4)gn(l.Ea,0,l);else if(nn(l,"readystatechange"),Kr(l)==4){l.h=!1;try{let X=l.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var E;if(E=X===0){var B=String(l.D).match(ip)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),E=!is.test(B?B.toLowerCase():"")}g=E}if(g)nn(l,"complete"),nn(l,"success");else{l.m=6;try{var $=2<Kr(l)?l.g.statusText:""}catch{$=""}l.l=$+" ["+l.Z()+"]",pp(l)}}finally{Uc(l)}}}}function Uc(l,m){if(l.g){gp(l);let g=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,m||nn(l,"ready");try{g.onreadystatechange=E}catch{}}}function gp(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Kr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Kr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var m=this.g.responseText;return l&&m.indexOf(l)==0&&(m=m.substring(l.length)),uw(m)}};function yp(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Sw(l){let m={};l=(l.g&&2<=Kr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(K(l[E]))continue;var g=k(l[E]);let B=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let $=m[B]||[];m[B]=$,$.push(g)}P(m,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ma(l,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||m}function ga(l){this.Aa=0,this.i=[],this.j=new ca,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ma("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ma("baseRetryDelayMs",5e3,l),this.cb=ma("retryDelaySeedMs",1e4,l),this.Wa=ma("forwardChannelMaxRetries",2,l),this.wa=ma("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Jh(l&&l.concurrentRequestLimit),this.Da=new dp,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ga.prototype,t.la=8,t.G=1,t.connect=function(l,m,g,E){zt(0),this.W=l,this.H=m||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=gd(this,null,this.W),Hc(this)};function jc(l){if(vp(l),l.G==3){var m=l.U++,g=Ir(l.I);if(st(g,"SID",l.K),st(g,"RID",m),st(g,"TYPE","terminate"),io(l,g),m=new Cr(l,l.j,m),m.L=2,m.v=Vc(Ir(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=m.v,g=!0),g||(m.g=yd(m.j,null),m.g.ea(m.v)),m.F=Date.now(),la(m)}md(l)}function $c(l){l.g&&(os(l),l.g.cancel(),l.g=null)}function vp(l){$c(l),l.u&&(a.clearTimeout(l.u),l.u=null),va(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Hc(l){if(!Xh(l.h)&&!l.s){l.s=!0;var m=l.Ga;qo||or(),ro||(qo(),ro=!0),zo.add(m,l),l.B=0}}function _p(l,m){return ep(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=m.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=aa(y(l.Ga,l,m),pd(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let B=new Cr(this,this.j,l),$=this.o;if(this.S&&($?($=x($),N($,this.S)):$=this.S),this.m!==null||this.O||(B.H=$,$=null),this.P)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=dd(this,B,m),g=Ir(this.I),st(g,"RID",l),st(g,"CVER",22),this.D&&st(g,"X-HTTP-Session-Id",this.D),io(this,g),$&&(this.O?m="headers="+encodeURIComponent(String(fp($)))+"&"+m:this.m&&ud(g,this.m,$)),sd(this.h,B),this.Ua&&st(g,"TYPE","init"),this.P?(st(g,"$req",m),st(g,"SID","null"),B.T=!0,pt(B,g,null)):pt(B,g,m),this.G=2}}else this.G==3&&(l?wp(this,l):this.i.length==0||Xh(this.h)||wp(this))};function wp(l,m){var g;m?g=m.l:g=l.U++;let E=Ir(l.I);st(E,"SID",l.K),st(E,"RID",g),st(E,"AID",l.T),io(l,E),l.m&&l.o&&ud(E,l.m,l.o),g=new Cr(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),m&&(l.i=m.D.concat(l.i)),m=dd(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),sd(l.h,g),pt(g,E,m)}function io(l,m){l.H&&de(l.H,function(g,E){st(m,E,g)}),l.l&&ad({},function(g,E){st(m,E,g)})}function dd(l,m,g){g=Math.min(l.i.length,g);var E=l.l?y(l.l.Na,l.l,l):null;e:{var B=l.i;let $=-1;for(;;){let X=["count="+g];$==-1?0<g?($=B[0].g,X.push("ofs="+$)):$=0:X.push("ofs="+$);let Xe=!0;for(let Gt=0;Gt<g;Gt++){let We=B[Gt].g,rn=B[Gt].map;if(We-=$,0>We)$=Math.max(0,B[Gt].g-100),Xe=!1;else try{Cw(rn,X,"req"+We+"_")}catch{E&&E(rn)}}if(Xe){E=X.join("&");break e}}}return l=l.i.splice(0,g),m.D=l,E}function fd(l){if(!l.g&&!l.u){l.Y=1;var m=l.Fa;qo||or(),ro||(qo(),ro=!0),zo.add(m,l),l.v=0}}function ya(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=aa(y(l.Fa,l),pd(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Ep(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=aa(y(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),$c(this),Ep(this))};function os(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Ep(l){l.g=new Cr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var m=Ir(l.qa);st(m,"RID","rpc"),st(m,"SID",l.K),st(m,"AID",l.T),st(m,"CI",l.F?"0":"1"),!l.F&&l.ja&&st(m,"TO",l.ja),st(m,"TYPE","xmlhttp"),io(l,m),l.m&&l.o&&ud(m,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Vc(Ir(m)),g.m=null,g.P=!0,Kh(g,l)}t.Za=function(){this.C!=null&&(this.C=null,$c(this),ya(this),zt(19))};function va(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function hd(l,m){var g=null;if(l.g==m){va(l),os(l),l.g=null;var E=2}else if(od(l.h,m))g=m.D,tp(l.h,m),E=1;else return;if(l.G!=0){if(m.o)if(E==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var B=l.B;E=kc(),nn(E,new Gh(E,g)),Hc(l)}else fd(l);else if(B=m.s,B==3||B==0&&0<m.X||!(E==1&&_p(l,m)||E==2&&ya(l)))switch(g&&0<g.length&&(m=l.h,m.i=m.i.concat(g)),B){case 1:_i(l,5);break;case 4:_i(l,10);break;case 3:_i(l,6);break;default:_i(l,2)}}}function pd(l,m){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*m}function _i(l,m){if(l.j.info("Error code "+m),m==2){var g=y(l.fb,l),E=l.Xa;let B=!E;E=new Wn(E||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Lc(E,"https"),Vc(E),B?rs(E.toString(),g):bw(E.toString(),g)}else zt(2);l.G=0,l.l&&l.l.sa(m),md(l),vp(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function md(l){if(l.G=0,l.ka=[],l.l){let m=np(l.h);(m.length!=0||l.i.length!=0)&&(M(l.ka,m),M(l.ka,l.i),l.h.i.length=0,L(l.i),l.i.length=0),l.l.ra()}}function gd(l,m,g){var E=g instanceof Wn?Ir(g):new Wn(g);if(E.g!="")m&&(E.g=m+"."+E.g),es(E,E.s);else{var B=a.location;E=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var $=new Wn(null);E&&Lc($,E),m&&($.g=m),B&&es($,B),g&&($.l=g),E=$}return g=l.D,m=l.ya,g&&m&&st(E,g,m),st(E,"VER",l.la),io(l,E),E}function yd(l,m,g){if(m&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=l.Ca&&!l.pa?new mt(new Kn({eb:g})):new mt(l.pa),m.Ha(l.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vd(){}t=vd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _a(){}_a.prototype.g=function(l,m){return new Ot(l,m)};function Ot(l,m){kt.call(this),this.g=new ga(m),this.l=l,this.h=m&&m.messageUrlParams||null,l=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(l?l["X-WebChannel-Content-Type"]=m.messageContentType:l={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(l?l["X-WebChannel-Client-Profile"]=m.va:l={"X-WebChannel-Client-Profile":m.va}),this.g.S=l,(l=m&&m.Sb)&&!K(l)&&(this.g.m=l),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!K(m)&&(this.g.D=m,l=this.h,l!==null&&m in l&&(l=this.h,m in l&&delete l[m])),this.j=new ss(this)}b(Ot,kt),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){jc(this.g)},Ot.prototype.o=function(l){var m=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Ju(l),l=g);m.i.push(new Zh(m.Ya++,l)),m.G==3&&Hc(m)},Ot.prototype.N=function(){this.g.l=null,delete this.j,jc(this.g),delete this.g,Ot.aa.N.call(this)};function bp(l){Xu.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var m=l.__sm__;if(m){e:{for(let g in m){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,m=m!==null&&l in m?m[l]:void 0),this.data=m}else this.data=l}b(bp,Xu);function Cp(){ed.call(this),this.status=1}b(Cp,ed);function ss(l){this.g=l}b(ss,vd),ss.prototype.ua=function(){nn(this.g,"a")},ss.prototype.ta=function(l){nn(this.g,new bp(l))},ss.prototype.sa=function(l){nn(this.g,new Cp)},ss.prototype.ra=function(){nn(this.g,"b")},_a.prototype.createWebChannel=_a.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,dI=No.createWebChannelTransport=function(){return new _a},uI=No.getStatEventTarget=function(){return kc()},lI=No.Event=Gr,by=No.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oc.NO_ERROR=0,Oc.TIMEOUT=8,Oc.HTTP_ERROR=6,Lf=No.ErrorCode=Oc,Wh.COMPLETE="complete",cI=No.EventType=Wh,$h.EventType=oa,oa.OPEN="a",oa.CLOSE="b",oa.ERROR="c",oa.MESSAGE="d",kt.prototype.listen=kt.prototype.K,ru=No.WebChannel=$h,GK=No.FetchXmlHttpFactory=Kn,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,aI=No.XhrIo=mt}).apply(typeof Ey<"u"?Ey:typeof self<"u"?self:typeof window<"u"?window:{});var Fk="@firebase/firestore";var ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");var bu="10.14.0";var cc=new Ms("@firebase/firestore");function Vf(){return cc.logLevel}function ue(t,...e){if(cc.logLevel<=qe.DEBUG){let n=e.map(KS);cc.debug(`Firestore (${bu}): ${t}`,...n)}}function ko(t,...e){if(cc.logLevel<=qe.ERROR){let n=e.map(KS);cc.error(`Firestore (${bu}): ${t}`,...n)}}function uu(t,...e){if(cc.logLevel<=qe.WARN){let n=e.map(KS);cc.warn(`Firestore (${bu}): ${t}`,...n)}}function KS(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function be(t="Unexpected state"){let e=`FIRESTORE (${bu}) INTERNAL ASSERTION FAILED: `+t;throw ko(e),new Error(e)}function it(t,e){t||be()}function Ie(t,e){return t}var W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ae=class extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var qi=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Ay=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},gI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}},yI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},vI=class{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qi,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>_(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qi)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string"),new Ay(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string"),new ln(e)}},_I=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},wI=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new _I(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}},EI=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},bI=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){it(this.o===void 0);let r=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(it(typeof n.token=="string"),this.R=n.token,new EI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function WK(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ty=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=WK(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Je(t,e){return t<e?-1:t>e?1:0}function du(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ct=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Re=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ct(0,0))}static max(){return new t(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Dy=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(),r===void 0?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},bt=class t extends Dy{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new ae(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},KK=/^[_a-zA-Z][_a-zA-Z0-9]*$/,vr=class t extends Dy{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return KK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new ae(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new ae(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ae(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ae(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ye=class t{constructor(e){this.path=e}static fromPath(e){return new t(bt.fromString(e))}static fromName(e){return new t(bt.fromString(e).popFirst(5))}static empty(){return new t(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new bt(e.slice()))}};var CI=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};CI.UNKNOWN_ID=-1;function QK(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new lc(i,ye.empty(),e)}function YK(t){return new lc(t.readTime,t.key,-1)}var lc=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Re.min(),ye.empty(),-1)}static max(){return new t(Re.max(),ye.empty(),-1)}};function ZK(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}var JK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",II=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function rh(t){return _(this,null,function*(){if(t.code!==W.FAILED_PRECONDITION||t.message!==JK)throw t;ue("LocalStore","Unexpectedly lost primary lease")})}var J=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;n(e[u]).next(f=>{s[u]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function XK(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ih(t){return t.name==="IndexedDbTransactionError"}var yO=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function cv(t){return t==null}function qf(t){return t===0&&1/t==-1/0}function eQ(t){return typeof t=="number"&&Number.isInteger(t)&&!qf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var tQ=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Qfe=[...tQ,"documentOverlays"],nQ=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rQ=nQ,iQ=[...rQ,"indexConfiguration","indexState","indexEntries"];var Yfe=[...iQ,"globals"];function Lk(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vO(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var At=class t{constructor(e,n){this.comparator=e,this.root=n||zi.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zi.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new au(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new au(this.root,e,this.comparator,!1)}getReverseIterator(){return new au(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new au(this.root,e,this.comparator,!0)}},au=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},zi=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();let e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}};zi.EMPTY=null,zi.RED=!0,zi.BLACK=!1;zi.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,r,i,o){return this}insert(e,n,r){return new zi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var xn=class t{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ry(this.data.getIterator())}getIteratorFrom(e){return new Ry(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ry=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Lr=class t{constructor(e){this.fields=e,e.sort(vr.comparator)}static empty(){return new t([])}unionWith(e){let n=new xn(vr.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return du(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var My=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var An=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new My("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};An.EMPTY_BYTE_STRING=new An("");var oQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oo(t){if(it(!!t),typeof t=="string"){let e=0,n=oQ.exec(t);if(it(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Us(t){return typeof t=="string"?An.fromBase64String(t):An.fromUint8Array(t)}function QS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function YS(t){let e=t.mapValue.fields.__previous_value__;return QS(e)?YS(e):e}function zf(t){let e=Oo(t.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}var SI=class{constructor(e,n,r,i,o,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Ny=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Cy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function uc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?QS(t)?4:wO(t)?9007199254740991:_O(t)?10:11:be()}function Ki(t,e){if(t===e)return!0;let n=uc(t);if(n!==uc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zf(t).isEqual(zf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Oo(i.timestampValue),a=Oo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Us(i.bytesValue).isEqual(Us(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=wt(i.doubleValue),a=wt(o.doubleValue);return s===a?qf(s)===qf(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return du(t.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Lk(s)!==Lk(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Ki(s[c],a[c])))return!1;return!0}(t,e);default:return be()}}function Gf(t,e){return(t.values||[]).find(n=>Ki(n,e))!==void 0}function fu(t,e){if(t===e)return 0;let n=uc(t),r=uc(e);if(n!==r)return Je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=wt(o.integerValue||o.doubleValue),c=wt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Vk(t.timestampValue,e.timestampValue);case 4:return Vk(zf(t),zf(e));case 5:return Je(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Us(o),c=Us(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let f=Je(a[u],c[u]);if(f!==0)return f}return Je(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Je(wt(o.latitude),wt(s.latitude));return a!==0?a:Je(wt(o.longitude),wt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Bk(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,f;let h=o.fields||{},y=s.fields||{},w=(a=h.value)===null||a===void 0?void 0:a.arrayValue,b=(c=y.value)===null||c===void 0?void 0:c.arrayValue,L=Je(((u=w?.values)===null||u===void 0?void 0:u.length)||0,((f=b?.values)===null||f===void 0?void 0:f.length)||0);return L!==0?L:Bk(w,b)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Cy.mapValue&&s===Cy.mapValue)return 0;if(o===Cy.mapValue)return 1;if(s===Cy.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let h=0;h<c.length&&h<f.length;++h){let y=Je(c[h],f[h]);if(y!==0)return y;let w=fu(a[c[h]],u[f[h]]);if(w!==0)return w}return Je(c.length,f.length)}(t.mapValue,e.mapValue);default:throw be()}}function Vk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);let n=Oo(t),r=Oo(e),i=Je(n.seconds,r.seconds);return i!==0?i:Je(n.nanos,r.nanos)}function Bk(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=fu(n[i],r[i]);if(o)return o}return Je(n.length,r.length)}function hu(t){return xI(t)}function xI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Oo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Us(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=xI(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${xI(n.fields[s])}`;return i+"}"}(t.mapValue):be()}function Uk(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function AI(t){return!!t&&"integerValue"in t}function ZS(t){return!!t&&"arrayValue"in t}function jk(t){return!!t&&"nullValue"in t}function $k(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sy(t){return!!t&&"mapValue"in t}function _O(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Uf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return mc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Uf(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function wO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var yr=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uf(n)}setAll(e){let n=vr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Uf(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Sy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){mc(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Uf(this.value))}};function EO(t){let e=[];return mc(t.fields,(n,r)=>{let i=new vr([n]);if(Sy(r)){let o=EO(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Lr(e)}var si=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Re.min(),Re.min(),Re.min(),yr.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Re.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Re.min(),Re.min(),yr.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Re.min(),Re.min(),yr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var pu=class{constructor(e,n){this.position=e,this.inclusive=n}};function Hk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ye.comparator(ye.fromName(s.referenceValue),n.key):r=fu(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function qk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ki(t.position[n],e.position[n]))return!1;return!0}var dc=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function sQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Py=class{},jt=class t extends Py{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new DI(e,n,r):n==="array-contains"?new NI(e,r):n==="in"?new PI(e,r):n==="not-in"?new kI(e,r):n==="array-contains-any"?new OI(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new RI(e,r):new MI(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fu(n,this.value)):n!==null&&uc(this.value)===uc(n)&&this.matchesComparison(fu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ai=class t extends Py{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return bO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function bO(t){return t.op==="and"}function CO(t){return aQ(t)&&bO(t)}function aQ(t){for(let e of t.filters)if(e instanceof ai)return!1;return!0}function TI(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+hu(t.value);if(CO(t))return t.filters.map(e=>TI(e)).join(",");{let e=t.filters.map(n=>TI(n)).join(",");return`${t.op}(${e})`}}function IO(t,e){return t instanceof jt?function(r,i){return i instanceof jt&&r.op===i.op&&r.field.isEqual(i.field)&&Ki(r.value,i.value)}(t,e):t instanceof ai?function(r,i){return i instanceof ai&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&IO(s,i.filters[a]),!0):!1}(t,e):void be()}function SO(t){return t instanceof jt?function(n){return`${n.field.canonicalString()} ${n.op} ${hu(n.value)}`}(t):t instanceof ai?function(n){return n.op.toString()+" {"+n.getFilters().map(SO).join(" ,")+"}"}(t):"Filter"}var DI=class extends jt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){let n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}},RI=class extends jt{constructor(e,n){super(e,"in",n),this.keys=xO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},MI=class extends jt{constructor(e,n){super(e,"not-in",n),this.keys=xO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function xO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}var NI=class extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return ZS(n)&&Gf(n.arrayValue,this.value)}},PI=class extends jt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Gf(this.value.arrayValue,n)}},kI=class extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Gf(this.value.arrayValue,n)}},OI=class extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!ZS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gf(this.value.arrayValue,r))}};var FI=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function zk(t,e=null,n=[],r=[],i=null,o=null,s=null){return new FI(t,e,n,r,i,o,s)}function JS(t){let e=Ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>TI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),cv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hu(r)).join(",")),e.ue=n}return e.ue}function XS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qk(t.startAt,e.startAt)&&qk(t.endAt,e.endAt)}function LI(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var js=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function cQ(t,e,n,r,i,o,s,a){return new js(t,e,n,r,i,o,s,a)}function ex(t){return new js(t)}function Gk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AO(t){return t.collectionGroup!==null}function jf(t){let e=Ie(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new xn(vr.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new dc(o,r))}),n.has(vr.keyField().canonicalString())||e.ce.push(new dc(vr.keyField(),r))}return e.ce}function Gi(t){let e=Ie(t);return e.le||(e.le=lQ(e,jf(t))),e.le}function lQ(t,e){if(t.limitType==="F")return zk(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new dc(i.field,o)});let n=t.endAt?new pu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pu(t.startAt.position,t.startAt.inclusive):null;return zk(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function VI(t,e){let n=t.filters.concat([e]);return new js(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function BI(t,e,n){return new js(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lv(t,e){return XS(Gi(t),Gi(e))&&t.limitType===e.limitType}function TO(t){return`${JS(Gi(t))}|lt:${t.limitType}`}function iu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>SO(i)).join(", ")}]`),cv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>hu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>hu(i)).join(",")),`Target(${r})`}(Gi(t))}; limitType=${t.limitType})`}function uv(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ye.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of jf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=Hk(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,jf(r),i)||r.endAt&&!function(s,a,c){let u=Hk(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,jf(r),i))}(t,e)}function uQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DO(t){return(e,n)=>{let r=!1;for(let i of jf(t)){let o=dQ(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function dQ(t,e,n){let r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?fu(c,u):be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}var $s=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mc(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return vO(this.inner)}size(){return this.innerSize}};var fQ=new At(ye.comparator);function Fo(){return fQ}var RO=new At(ye.comparator);function Bf(...t){let e=RO;for(let n of t)e=e.insert(n.key,n);return e}function MO(t){let e=RO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function oc(){return $f()}function NO(){return $f()}function $f(){return new $s(t=>t.toString(),(t,e)=>t.isEqual(e))}var hQ=new At(ye.comparator),pQ=new xn(ye.comparator);function ze(...t){let e=pQ;for(let n of t)e=e.add(n);return e}var mQ=new xn(Je);function gQ(){return mQ}function tx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qf(e)?"-0":e}}function PO(t){return{integerValue:""+t}}function yQ(t,e){return eQ(e)?PO(e):tx(t,e)}var mu=class{constructor(){this._=void 0}};function vQ(t,e,n){return t instanceof gu?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&QS(o)&&(o=YS(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof fc?OO(t,e):t instanceof hc?FO(t,e):function(i,o){let s=kO(i,o),a=Wk(s)+Wk(i.Pe);return AI(s)&&AI(i.Pe)?PO(a):tx(i.serializer,a)}(t,e)}function _Q(t,e,n){return t instanceof fc?OO(t,e):t instanceof hc?FO(t,e):n}function kO(t,e){return t instanceof yu?function(r){return AI(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var gu=class extends mu{},fc=class extends mu{constructor(e){super(),this.elements=e}};function OO(t,e){let n=LO(e);for(let r of t.elements)n.some(i=>Ki(i,r))||n.push(r);return{arrayValue:{values:n}}}var hc=class extends mu{constructor(e){super(),this.elements=e}};function FO(t,e){let n=LO(e);for(let r of t.elements)n=n.filter(i=>!Ki(i,r));return{arrayValue:{values:n}}}var yu=class extends mu{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function Wk(t){return wt(t.integerValue||t.doubleValue)}function LO(t){return ZS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function wQ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof fc&&i instanceof fc||r instanceof hc&&i instanceof hc?du(r.elements,i.elements,Ki):r instanceof yu&&i instanceof yu?Ki(r.Pe,i.Pe):r instanceof gu&&i instanceof gu}(t.transform,e.transform)}var UI=class{constructor(e,n){this.version=e,this.transformResults=n}},Vs=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function xy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var vu=class{};function VO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ky(t.key,Vs.none()):new pc(t.key,t.data,Vs.none());{let n=t.data,r=yr.empty(),i=new xn(vr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Qi(t.key,r,new Lr(i.toArray()),Vs.none())}}function EQ(t,e,n){t instanceof pc?function(i,o,s){let a=i.value.clone(),c=Qk(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Qi?function(i,o,s){if(!xy(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=Qk(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(BO(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Hf(t,e,n,r){return t instanceof pc?function(o,s,a,c){if(!xy(o.precondition,s))return a;let u=o.value.clone(),f=Yk(o.fieldTransforms,c,s);return u.setAll(f),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qi?function(o,s,a,c){if(!xy(o.precondition,s))return a;let u=Yk(o.fieldTransforms,c,s),f=s.data;return f.setAll(BO(o)),f.setAll(u),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return xy(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function bQ(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=kO(r.transform,i||null);o!=null&&(n===null&&(n=yr.empty()),n.set(r.field,o))}return n||null}function Kk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&du(r,i,(o,s)=>wQ(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var pc=class extends vu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Qi=class extends vu{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function BO(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function Qk(t,e,n){let r=new Map;it(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,_Q(s,a,n[i]))}return r}function Yk(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,vQ(o,s,e))}return r}var ky=class extends vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},jI=class extends vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var $I=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&EQ(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hf(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Hf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=NO();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=VO(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&du(this.mutations,e.mutations,(n,r)=>Kk(n,r))&&du(this.baseMutations,e.baseMutations,(n,r)=>Kk(n,r))}},HI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){it(e.mutations.length===r.length);let i=function(){return hQ}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var qI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var zI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Bt,Qe;function CQ(t){switch(t){default:return be();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function UO(t){if(t===void 0)return ko("GRPC error has no .code"),W.UNKNOWN;switch(t){case Bt.OK:return W.OK;case Bt.CANCELLED:return W.CANCELLED;case Bt.UNKNOWN:return W.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return W.INTERNAL;case Bt.UNAVAILABLE:return W.UNAVAILABLE;case Bt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Bt.NOT_FOUND:return W.NOT_FOUND;case Bt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Bt.ABORTED:return W.ABORTED;case Bt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Bt.DATA_LOSS:return W.DATA_LOSS;default:return be()}}(Qe=Bt||(Bt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";var Zk=null;function IQ(){return new TextEncoder}var SQ=new Ls([4294967295,4294967295],0);function Jk(t){let e=IQ().encode(t),n=new sI;return n.update(e),new Uint8Array(n.digest())}function Xk(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ls([n,r],0),new Ls([i,o],0)]}var GI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sc(`Invalid padding: ${n}`);if(r<0)throw new sc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ls.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ls.fromNumber(r)));return i.compare(SQ)===1&&(i=new Ls([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=Jk(e),[r,i]=Xk(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=Jk(e),[r,i]=Xk(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},sc=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Oy=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Wf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Re.min(),i,new At(Je),Fo(),ze())}},Wf=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ze(),ze(),ze())}};var cu=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Fy=class{constructor(e,n){this.targetId=e,this.me=n}},Ly=class{constructor(e,n,r=An.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Vy=class{constructor(){this.fe=0,this.ge=tO(),this.pe=An.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ze(),n=ze(),r=ze();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:be()}}),new Wf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=tO()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,it(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},WI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fo(),this.qe=eO(),this.Qe=new At(Je)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(LI(o))if(r===0){let s=new ye(o.path);this.Ue(n,s,si.newNoDocument(s,Re.min()))}else it(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}Zk?.et(function(f,h,y,w,b){var L,M,j,K,ee,ce;let xe={localCacheCount:f,existenceFilterCount:h.count,databaseId:y.database,projectId:y.projectId},de=h.unchangedNames;return de&&(xe.bloomFilter={applied:b===0,hashCount:(L=de?.hashCount)!==null&&L!==void 0?L:0,bitmapLength:(K=(j=(M=de?.bits)===null||M===void 0?void 0:M.bitmap)===null||j===void 0?void 0:j.length)!==null&&K!==void 0?K:0,padding:(ce=(ee=de?.bits)===null||ee===void 0?void 0:ee.padding)!==null&&ce!==void 0?ce:0,mightContain:P=>{var x;return(x=w?.mightContain(P))!==null&&x!==void 0&&x}}),xe}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Us(r).toUint8Array()}catch(c){if(c instanceof My)return uu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new GI(s,i,o)}catch(c){return uu(c instanceof sc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&LI(a.target)){let c=new ye(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,si.newNoDocument(c,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ze();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Oy(e,n,this.Qe,this.ke,r);return this.ke=Fo(),this.qe=eO(),this.Qe=new At(Je),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Vy,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new xn(Je),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Vy),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function eO(){return new At(ye.comparator)}function tO(){return new At(ye.comparator)}var xQ={asc:"ASCENDING",desc:"DESCENDING"},AQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TQ={and:"AND",or:"OR"},KI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function QI(t,e){return t.useProto3Json||cv(e)?e:{value:e}}function By(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DQ(t,e){return By(t,e.toTimestamp())}function Wi(t){return it(!!t),Re.fromTimestamp(function(n){let r=Oo(n);return new Ct(r.seconds,r.nanos)}(t))}function nx(t,e){return YI(t,e).canonicalString()}function YI(t,e){let n=function(i){return new bt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $O(t){let e=bt.fromString(t);return it(WO(e)),e}function ZI(t,e){return nx(t.databaseId,e.path)}function fI(t,e){let n=$O(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(qO(n))}function HO(t,e){return nx(t.databaseId,e)}function RQ(t){let e=$O(t);return e.length===4?bt.emptyPath():qO(e)}function JI(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qO(t){return it(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function nO(t,e,n){return{name:ZI(t,e),fields:n.value.mapValue.fields}}function MQ(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,f){return u.useProto3Json?(it(f===void 0||typeof f=="string"),An.fromBase64String(f||"")):(it(f===void 0||f instanceof Buffer||f instanceof Uint8Array),An.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let f=u.code===void 0?W.UNKNOWN:UO(u.code);return new ae(f,u.message||"")}(s);n=new Ly(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=fI(t,r.document.name),o=Wi(r.document.updateTime),s=r.document.createTime?Wi(r.document.createTime):Re.min(),a=new yr({mapValue:{fields:r.document.fields}}),c=si.newFoundDocument(i,o,s,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new cu(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=fI(t,r.document),o=r.readTime?Wi(r.readTime):Re.min(),s=si.newNoDocument(i,o),a=r.removedTargetIds||[];n=new cu([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=fI(t,r.document),o=r.removedTargetIds||[];n=new cu([],o,i,null)}else{if(!("filter"in e))return be();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new zI(i,o),a=r.targetId;n=new Fy(a,s)}}return n}function NQ(t,e){let n;if(e instanceof pc)n={update:nO(t,e.key,e.value)};else if(e instanceof ky)n={delete:ZI(t,e.key)};else if(e instanceof Qi)n={update:nO(t,e.key,e.data),updateMask:jQ(e.fieldMask)};else{if(!(e instanceof jI))return be();n={verify:ZI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof gu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof fc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof hc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yu)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw be()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:DQ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:be()}(t,e.precondition)),n}function PQ(t,e){return t&&t.length>0?(it(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Wi(i.updateTime):Wi(o);return s.isEqual(Re.min())&&(s=Wi(o)),new UI(s,i.transformResults||[])}(n,e))):[]}function kQ(t,e){return{documents:[HO(t,e.path)]}}function OQ(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HO(t,i);let o=function(u){if(u.length!==0)return GO(ai.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(f=>function(y){return{field:ou(y.field),direction:VQ(y.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=QI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function FQ(t){let e=RQ(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){it(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(h){let y=zO(h);return y instanceof ai&&CO(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(y=>function(b){return new dc(su(b.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(h){let y;return y=typeof h=="object"?h.value:h,cv(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(h){let y=!!h.before,w=h.values||[];return new pu(w,y)}(n.startAt));let u=null;return n.endAt&&(u=function(h){let y=!h.before,w=h.values||[];return new pu(w,y)}(n.endAt)),cQ(e,i,s,o,a,"F",c,u)}function LQ(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=su(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=su(n.unaryFilter.field);return jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=su(n.unaryFilter.field);return jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=su(n.unaryFilter.field);return jt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):t.fieldFilter!==void 0?function(n){return jt.create(su(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ai.create(n.compositeFilter.filters.map(r=>zO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(t):be()}function VQ(t){return xQ[t]}function BQ(t){return AQ[t]}function UQ(t){return TQ[t]}function ou(t){return{fieldPath:t.canonicalString()}}function su(t){return vr.fromServerFormat(t.fieldPath)}function GO(t){return t instanceof jt?function(n){if(n.op==="=="){if($k(n.value))return{unaryFilter:{field:ou(n.field),op:"IS_NAN"}};if(jk(n.value))return{unaryFilter:{field:ou(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($k(n.value))return{unaryFilter:{field:ou(n.field),op:"IS_NOT_NAN"}};if(jk(n.value))return{unaryFilter:{field:ou(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ou(n.field),op:BQ(n.op),value:n.value}}}(t):t instanceof ai?function(n){let r=n.getFilters().map(i=>GO(i));return r.length===1?r[0]:{compositeFilter:{op:UQ(n.op),filters:r}}}(t):be()}function jQ(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Kf=class t{constructor(e,n,r,i,o=Re.min(),s=Re.min(),a=An.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var XI=class{constructor(e){this.ct=e}};function $Q(t){let e=FQ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?BI(e,e.limit,"L"):e}var Uy=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(wt(e.integerValue));else if("doubleValue"in e){let r=wt(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),qf(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Oo(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Us(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?wO(e)?this.dt(n,Number.MAX_SAFE_INTEGER):_O(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):be()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(wt(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ye.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Uy.vt=new Uy;var eS=class{constructor(){this.un=new tS}addToCollectionParentIndex(e,n){return this.un.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(lc.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(lc.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}},tS=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xn(bt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xn(bt.comparator)).toArray()}};var Jfe=new Uint8Array(0);var Hi=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Hi.DEFAULT_COLLECTION_PERCENTILE=10,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hi.DEFAULT=new Hi(41943040,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hi.DISABLED=new Hi(-1,0,0);var Qf=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var nS=class{constructor(){this.changes=new $s(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,si.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var rS=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var iS=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Hf(r.mutation,i,Lr.empty(),Ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ze()){let i=oc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Bf();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=oc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ze()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Fo(),s=$f(),a=function(){return $f()}();return n.forEach((c,u)=>{let f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Qi)?o=o.insert(u.key,u):f!==void 0?(s.set(u.key,f.mutation.getFieldMask()),Hf(f.mutation,u,f.mutation.getFieldMask(),Ct.now())):s.set(u.key,Lr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,f)=>s.set(u,f)),n.forEach((u,f)=>{var h;return a.set(u,new rS(f,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){let r=$f(),i=new At((s,a)=>s-a),o=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let f=r.get(c)||Lr.empty();f=a.applyToLocalView(u,f),r.set(c,f);let h=(i.get(a.batchId)||ze()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,f=c.value,h=NO();f.forEach(y=>{if(!o.has(y)){let w=VO(n.get(y),r.get(y));w!==null&&h.set(y,w),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return J.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):J.resolve(oc()),a=-1,c=o;return s.next(u=>J.forEach(u,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(f)?J.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{c=c.insert(f,y)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,ze())).next(f=>({batchId:a,changes:MO(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let i=Bf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Bf();return this.indexManager.getCollectionParents(e,o).next(a=>J.forEach(a,c=>{let u=function(h,y){return new js(y,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((h,y)=>{s=s.insert(h,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,u)=>{let f=u.getKey();s.get(f)===null&&(s=s.insert(f,si.newInvalidDocument(f)))});let a=Bf();return s.forEach((c,u)=>{let f=o.get(c);f!==void 0&&Hf(f.mutation,u,Lr.empty(),Ct.now()),uv(n,u)&&(a=a.insert(c,u))}),a})}};var oS=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return J.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wi(i.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:$Q(i.bundledQuery),readTime:Wi(i.readTime)}}(n)),J.resolve()}};var sS=class{constructor(){this.overlays=new At(ye.comparator),this.Ir=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){let r=oc();return J.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),J.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){let i=oc(),o=n.length+1,s=new ye(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return J.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new At((u,f)=>u-f),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=o.get(u.largestBatchId);f===null&&(f=oc(),o=o.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}let a=oc(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return J.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new qI(n,r));let o=this.Ir.get(n);o===void 0&&(o=ze(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var aS=class{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}};var Yf=class{constructor(){this.Tr=new xn(Ut.Er),this.dr=new xn(Ut.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ut(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ut(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ye(new bt([])),r=new Ut(n,e),i=new Ut(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ye(new bt([])),r=new Ut(n,e),i=new Ut(n,e+1),o=ze();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ut(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ut=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ye.comparator(e.key,n.key)||Je(e.wr,n.wr)}static Ar(e,n){return Je(e.wr,n.wr)||ye.comparator(e.key,n.key)}};var cS=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new xn(Ut.Er)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new $I(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return J.resolve(s)}lookupMutationBatch(e,n){return J.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return J.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),J.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xn(Je);return n.forEach(i=>{let o=new Ut(i,0),s=new Ut(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),J.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;ye.isDocumentKey(o)||(o=o.child(""));let s=new Ut(new ye(o),0),a=new xn(Je);return this.br.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.wr)),!0)},s),J.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){it(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return J.forEach(n.mutations,i=>{let o=new Ut(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ut(n,0),i=this.br.firstAfterOrEqual(r);return J.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var lS=class{constructor(e){this.Mr=e,this.docs=function(){return new At(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():si.newInvalidDocument(n))}getEntries(e,n){let r=Fo();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():si.newInvalidDocument(i))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Fo(),s=n.path,a=new ye(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:f}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||ZK(YK(f),r)<=0||(i.has(f.key)||uv(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return J.resolve(o)}getAllFromCollectionGroup(e,n,r,i){be()}Or(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new uS(this)}getSize(e){return J.resolve(this.size)}},uS=class extends nS{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var dS=class{constructor(e){this.persistence=e,this.Nr=new $s(n=>JS(n),XS),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Yf,this.targetCount=0,this.kr=Qf.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),J.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Qf(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Kn(n),J.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),J.waitFor(o).next(()=>i)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),J.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),J.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.Br.containsKey(n))}};var fS=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new yO(0),this.Kr=!1,this.Kr=!0,this.$r=new aS,this.referenceDelegate=e(this),this.Ur=new dS(this),this.indexManager=new eS,this.remoteDocumentCache=function(i){return new lS(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new XI(n),this.Gr=new oS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new cS(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);let i=new hS(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return J.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},hS=class extends II{constructor(e){super(),this.currentSequenceNumber=e}},pS=class t{constructor(e){this.persistence=e,this.Jr=new Yf,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw be()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),J.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.Xr,r=>{let i=ye.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return J.or([()=>J.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var mS=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ze(),i=ze();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var gS=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var yS=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return g1()?8:XK(an())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new gS;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Vf()<=qe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",iu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),J.resolve()):(Vf()<=qe.DEBUG&&ue("QueryEngine","Query:",iu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Vf()<=qe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",iu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(n))):J.resolve())}Yi(e,n){if(Gk(n))return J.resolve(null);let r=Gi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=BI(n,null,"F"),r=Gi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ze(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.ts(n,a);return this.ns(n,u,s,c.readTime)?this.Yi(e,BI(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,i){return Gk(n)||i.isEqual(Re.min())?J.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?J.resolve(null):(Vf()<=qe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),iu(n)),this.rs(e,s,n,QK(i,-1)).next(a=>a))})}ts(e,n){let r=new xn(DO(e));return n.forEach((i,o)=>{uv(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Vf()<=qe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",iu(n)),this.Ji.getDocumentsMatchingQuery(e,n,lc.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var vS=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new At(Je),this._s=new $s(o=>JS(o),XS),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iS(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function HQ(t,e,n,r){return new vS(t,e,n,r)}function KO(t,e){return _(this,null,function*(){let n=Ie(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=ze();for(let u of i){s.push(u.batchId);for(let f of u.mutations)c=c.add(f.key)}for(let u of o){a.push(u.batchId);for(let f of u.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function qQ(t,e){let n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,f){let h=u.batch,y=h.keys(),w=J.resolve();return y.forEach(b=>{w=w.next(()=>f.getEntry(c,b)).next(L=>{let M=u.docVersions.get(b);it(M!==null),L.version.compareTo(M)<0&&(h.applyToRemoteDocument(L,u),L.isValidDocument()&&(L.setReadTime(u.commitVersion),f.addEntry(L)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ze();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function QO(t){let e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function zQ(t,e){let n=Ie(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((f,h)=>{let y=i.get(h);if(!y)return;a.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,h)));let w=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?w=w.withResumeToken(An.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,r)),i=i.insert(h,w),function(L,M,j){return L.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(y,w,f)&&a.push(n.Ur.updateTargetData(o,w))});let c=Fo(),u=ze();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(GQ(o,s,e.documentUpdates).next(f=>{c=f.Ps,u=f.Is})),!r.isEqual(Re.min())){let f=n.Ur.getLastRemoteSnapshotVersion(o).next(h=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return J.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.os=i,o))}function GQ(t,e,n){let r=ze(),i=ze();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Fo();return n.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Re.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function WQ(t,e){let n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function KQ(t,e){let n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,J.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Kf(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function _S(t,e,n){return _(this,null,function*(){let r=Ie(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ih(s))throw s;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function rO(t,e,n){let r=Ie(t),i=Re.min(),o=ze();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,f){let h=Ie(c),y=h._s.get(f);return y!==void 0?J.resolve(h.os.get(y)):h.Ur.getTargetData(u,f)}(r,s,Gi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Re.min(),n?o:ze())).next(a=>(QQ(r,uQ(e),a),{documents:a,Ts:o})))}function QQ(t,e,n){let r=t.us.get(e)||Re.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var jy=class{constructor(){this.activeTargetIds=gQ()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var wS=class{constructor(){this.so=new jy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new jy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var ES=class{_o(e){}shutdown(){}};var $y=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Iy=null;function hI(){return Iy===null?Iy=function(){return 268435456+Math.round(2147483648*Math.random())}():Iy++,"0x"+Iy.toString(16)}var YQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var bS=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Sn="WebChannelConnection",CS=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=hI(),c=this.xo(n,r.toUriEncodedString());ue("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,c,u,i).then(f=>(ue("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw uu("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",c,"request:",i),f})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=YQ[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=hI();return new Promise((s,a)=>{let c=new aI;c.setWithCredentials(!0),c.listenOnce(cI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Lf.NO_ERROR:let f=c.getResponseJson();ue(Sn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Lf.TIMEOUT:ue(Sn,`RPC '${e}' ${o} timed out`),a(new ae(W.DEADLINE_EXCEEDED,"Request time out"));break;case Lf.HTTP_ERROR:let h=c.getStatus();if(ue(Sn,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);let w=y?.error;if(w&&w.status&&w.message){let b=function(M){let j=M.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(j)>=0?j:W.UNKNOWN}(w.status);a(new ae(b,w.message))}else a(new ae(W.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ae(W.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{ue(Sn,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);ue(Sn,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}Bo(e,n,r){let i=hI(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=dI(),a=uI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let f=o.join("");ue(Sn,`Creating RPC '${e}' stream ${i}: ${f}`,c);let h=s.createWebChannel(f,c),y=!1,w=!1,b=new bS({Io:M=>{w?ue(Sn,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(y||(ue(Sn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),y=!0),ue(Sn,`RPC '${e}' stream ${i} sending:`,M),h.send(M))},To:()=>h.close()}),L=(M,j,K)=>{M.listen(j,ee=>{try{K(ee)}catch(ce){setTimeout(()=>{throw ce},0)}})};return L(h,ru.EventType.OPEN,()=>{w||(ue(Sn,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),L(h,ru.EventType.CLOSE,()=>{w||(w=!0,ue(Sn,`RPC '${e}' stream ${i} transport closed`),b.So())}),L(h,ru.EventType.ERROR,M=>{w||(w=!0,uu(Sn,`RPC '${e}' stream ${i} transport errored:`,M),b.So(new ae(W.UNAVAILABLE,"The operation could not be completed")))}),L(h,ru.EventType.MESSAGE,M=>{var j;if(!w){let K=M.data[0];it(!!K);let ee=K,ce=ee.error||((j=ee[0])===null||j===void 0?void 0:j.error);if(ce){ue(Sn,`RPC '${e}' stream ${i} received error:`,ce);let xe=ce.status,de=function(T){let N=Bt[T];if(N!==void 0)return UO(N)}(xe),P=ce.message;de===void 0&&(de=W.INTERNAL,P="Unknown error status: "+xe+" with message "+ce.message),w=!0,b.So(new ae(de,P)),h.close()}else ue(Sn,`RPC '${e}' stream ${i} received:`,K),b.bo(K)}}),L(a,lI.STAT_EVENT,M=>{M.stat===by.PROXY?ue(Sn,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===by.NOPROXY&&ue(Sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}};function pI(){return typeof document<"u"?document:null}function dv(t){return new KI(t,!0)}var Hy=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var qy=class{constructor(e,n,r,i,o,s,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Hy(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return _(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return _(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return _(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(ko(n.toString()),ko("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new ae(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>_(this,null,function*(){this.state=0,this.start()}))}I_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},IS=class extends qy{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=MQ(this.serializer,e),r=function(o){if(!("targetChange"in o))return Re.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Re.min():s.readTime?Wi(s.readTime):Re.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=JI(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=LI(c)?{documents:kQ(o,c)}:{query:OQ(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=jO(o,s.resumeToken);let u=QI(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Re.min())>0){a.readTime=By(o,s.snapshotVersion.toTimestamp());let u=QI(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=LQ(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=JI(this.serializer),n.removeTarget=e,this.a_(n)}},SS=class extends qy{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return it(!!e.streamToken),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=PQ(e.writeResults,e.commitTime),r=Wi(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=JI(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>NQ(this.serializer,r))};this.a_(n)}};var xS=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ae(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,YI(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(W.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,YI(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(W.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},AS=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ko(n),this.D_=!1):ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var TS=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>_(this,null,function*(){gc(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),yield function(c){return _(this,null,function*(){let u=Ie(c);u.L_.add(4),yield oh(u),u.q_.set("Unknown"),u.L_.delete(4),yield fv(u)})}(this))}))}),this.q_=new AS(r,i)}};function fv(t){return _(this,null,function*(){if(gc(t))for(let e of t.B_)yield e(!0)})}function oh(t){return _(this,null,function*(){for(let e of t.B_)yield e(!1)})}function YO(t,e){let n=Ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),sx(n)?ox(n):Cu(n).r_()&&ix(n,e))}function rx(t,e){let n=Ie(t),r=Cu(n);n.N_.delete(e),r.r_()&&ZO(n,e),n.N_.size===0&&(r.r_()?r.o_():gc(n)&&n.q_.set("Unknown"))}function ix(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cu(t).A_(e)}function ZO(t,e){t.Q_.xe(e),Cu(t).R_(e)}function ox(t){t.Q_=new WI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Cu(t).start(),t.q_.v_()}function sx(t){return gc(t)&&!Cu(t).n_()&&t.N_.size>0}function gc(t){return Ie(t).L_.size===0}function JO(t){t.Q_=void 0}function ZQ(t){return _(this,null,function*(){t.q_.set("Online")})}function JQ(t){return _(this,null,function*(){t.N_.forEach((e,n)=>{ix(t,e)})})}function XQ(t,e){return _(this,null,function*(){JO(t),sx(t)?(t.q_.M_(e),ox(t)):t.q_.set("Unknown")})}function eY(t,e,n){return _(this,null,function*(){if(t.q_.set("Online"),e instanceof Ly&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield zy(t,r)}else if(e instanceof cu?t.Q_.Ke(e):e instanceof Fy?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Re.min()))try{let r=yield QO(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let f=o.N_.get(u);f&&o.N_.set(u,f.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let f=o.N_.get(c);if(!f)return;o.N_.set(c,f.withResumeToken(An.EMPTY_BYTE_STRING,f.snapshotVersion)),ZO(o,c);let h=new Kf(f.target,c,u,f.sequenceNumber);ix(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),yield zy(t,r)}})}function zy(t,e,n){return _(this,null,function*(){if(!ih(e))throw e;t.L_.add(1),yield oh(t),t.q_.set("Offline"),n||(n=()=>QO(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){ue("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield fv(t)}))})}function XO(t,e){return e().catch(n=>zy(t,n,e))}function hv(t){return _(this,null,function*(){let e=Ie(t),n=Hs(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;tY(e);)try{let i=yield WQ(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,nY(e,i)}catch(i){yield zy(e,i)}eF(e)&&tF(e)})}function tY(t){return gc(t)&&t.O_.length<10}function nY(t,e){t.O_.push(e);let n=Hs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function eF(t){return gc(t)&&!Hs(t).n_()&&t.O_.length>0}function tF(t){Hs(t).start()}function rY(t){return _(this,null,function*(){Hs(t).p_()})}function iY(t){return _(this,null,function*(){let e=Hs(t);for(let n of t.O_)e.m_(n.mutations)})}function oY(t,e,n){return _(this,null,function*(){let r=t.O_.shift(),i=HI.from(r,e,n);yield XO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield hv(t)})}function sY(t,e){return _(this,null,function*(){e&&Hs(t).V_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return CQ(s)&&s!==W.ABORTED}(i.code)){let o=r.O_.shift();Hs(r).s_(),yield XO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield hv(r)}})}(t,e)),eF(t)&&tF(t)})}function iO(t,e){return _(this,null,function*(){let n=Ie(t);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");let r=gc(n);n.L_.add(3),yield oh(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield fv(n)})}function aY(t,e){return _(this,null,function*(){let n=Ie(t);e?(n.L_.delete(2),yield fv(n)):e||(n.L_.add(2),yield oh(n),n.q_.set("Unknown"))})}function Cu(t){return t.K_||(t.K_=function(n,r,i){let o=Ie(n);return o.w_(),new IS(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:ZQ.bind(null,t),Ro:JQ.bind(null,t),mo:XQ.bind(null,t),d_:eY.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.K_.s_(),sx(t)?ox(t):t.q_.set("Unknown")):(yield t.K_.stop(),JO(t))}))),t.K_}function Hs(t){return t.U_||(t.U_=function(n,r,i){let o=Ie(n);return o.w_(),new SS(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:rY.bind(null,t),mo:sY.bind(null,t),f_:iY.bind(null,t),g_:oY.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.U_.s_(),yield hv(t)):(yield t.U_.stop(),t.O_.length>0&&(ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var DS=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ax(t,e){if(ko("AsyncQueue",`${e}: ${t}`),ih(t))return new ae(W.UNAVAILABLE,`${e}: ${t}`);throw t}var Gy=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Bf(),this.sortedSet=new At(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Wy=class{constructor(){this.W_=new At(ye.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):be():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},_u=class t{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Gy.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var RS=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},MS=class{constructor(){this.queries=oO(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Ie(n),o=i.queries;i.queries=oO(),o.forEach((s,a)=>{for(let c of a.j_)c.onError(r)})})(this,new ae(W.ABORTED,"Firestore shutting down"))}};function oO(){return new $s(t=>TO(t),lv)}function nF(t,e){return _(this,null,function*(){let n=Ie(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new RS,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=ax(s,`Initialization of query '${iu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&cx(n)})}function rF(t,e){return _(this,null,function*(){let n=Ie(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function cY(t,e){let n=Ie(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&cx(n)}function lY(t,e,n){let r=Ie(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function cx(t){t.Y_.forEach(e=>{e.next()})}var NS,sO;(sO=NS||(NS={})).ea="default",sO.Cache="cache";var Ky=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new _u(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=_u.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==NS.Cache}};var Qy=class{constructor(e){this.key=e}},Yy=class{constructor(e){this.key=e}},PS=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ze(),this.mutatedKeys=ze(),this.Aa=DO(e),this.Ra=new Gy(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Wy,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{let y=i.get(f),w=uv(this.query,h)?h:null,b=!!y&&this.mutatedKeys.has(y.key),L=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations),M=!1;y&&w?y.data.isEqual(w.data)?b!==L&&(r.track({type:3,doc:w}),M=!0):this.ga(y,w)||(r.track({type:2,doc:w}),M=!0,(c&&this.Aa(w,c)>0||u&&this.Aa(w,u)<0)&&(a=!0)):!y&&w?(r.track({type:0,doc:w}),M=!0):y&&!w&&(r.track({type:1,doc:y}),M=!0,(c||u)&&(a=!0)),M&&(w?(s=s.add(w),o=L?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((f,h)=>function(w,b){let L=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return L(w)-L(b)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,s.length!==0||u?{snapshot:new _u(this.query,e.Ra,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Wy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ze(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Yy(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Qy(r))}),n}ba(e){this.Ta=e.Ts,this.da=ze();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return _u.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},kS=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},OS=class{constructor(e){this.key=e,this.va=!1}},FS=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new $s(a=>TO(a),lv),this.Ma=new Map,this.xa=new Set,this.Oa=new At(ye.comparator),this.Na=new Map,this.La=new Yf,this.Ba={},this.ka=new Map,this.qa=Qf.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function uY(t,e,n=!0){return _(this,null,function*(){let r=lF(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield iF(r,e,n,!0),i})}function dY(t,e){return _(this,null,function*(){let n=lF(t);yield iF(n,e,!0,!1)})}function iF(t,e,n,r){return _(this,null,function*(){let i=yield KQ(t.localStore,Gi(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield fY(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&YO(t.remoteStore,i),a})}function fY(t,e,n,r,i){return _(this,null,function*(){t.Ka=(h,y,w)=>function(L,M,j,K){return _(this,null,function*(){let ee=M.view.ma(j);ee.ns&&(ee=yield rO(L.localStore,M.query,!1).then(({documents:P})=>M.view.ma(P,ee)));let ce=K&&K.targetChanges.get(M.targetId),xe=K&&K.targetMismatches.get(M.targetId)!=null,de=M.view.applyChanges(ee,L.isPrimaryClient,ce,xe);return cO(L,M.targetId,de.wa),de.snapshot})}(t,h,y,w);let o=yield rO(t.localStore,e,!0),s=new PS(e,o.Ts),a=s.ma(o.documents),c=Wf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,c);cO(t,n,u.wa);let f=new kS(e,n,s);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot})}function hY(t,e,n){return _(this,null,function*(){let r=Ie(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!lv(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield _S(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&rx(r.remoteStore,i.targetId),LS(r,i.targetId)}).catch(rh))):(LS(r,i.targetId),yield _S(r.localStore,i.targetId,!0))})}function pY(t,e){return _(this,null,function*(){let n=Ie(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rx(n.remoteStore,r.targetId))})}function mY(t,e,n){return _(this,null,function*(){let r=bY(t);try{let i=yield function(s,a){let c=Ie(s),u=Ct.now(),f=a.reduce((w,b)=>w.add(b.key),ze()),h,y;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let b=Fo(),L=ze();return c.cs.getEntries(w,f).next(M=>{b=M,b.forEach((j,K)=>{K.isValidDocument()||(L=L.add(j))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,b)).next(M=>{h=M;let j=[];for(let K of a){let ee=bQ(K,h.get(K.key).overlayedDocument);ee!=null&&j.push(new Qi(K.key,ee,EO(ee.value.mapValue),Vs.exists(!0)))}return c.mutationQueue.addMutationBatch(w,u,j,a)}).next(M=>{y=M;let j=M.applyToLocalDocumentSet(h,L);return c.documentOverlayCache.saveOverlays(w,M.batchId,j)})}).then(()=>({batchId:y.batchId,changes:MO(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Ba[s.currentUser.toKey()];u||(u=new At(Je)),u=u.insert(a,c),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),yield sh(r,i.changes),yield hv(r.remoteStore)}catch(i){let o=ax(i,"Failed to persist write");n.reject(o)}})}function oF(t,e){return _(this,null,function*(){let n=Ie(t);try{let r=yield zQ(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(it(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?it(s.va):i.removedDocuments.size>0&&(it(s.va),s.va=!1))}),yield sh(n,r,e)}catch(r){yield rh(r)}})}function aO(t,e,n){let r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=Ie(s);c.onlineState=a;let u=!1;c.queries.forEach((f,h)=>{for(let y of h.j_)y.Z_(a)&&(u=!0)}),u&&cx(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function gY(t,e,n){return _(this,null,function*(){let r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new At(ye.comparator);s=s.insert(o,si.newNoDocument(o,Re.min()));let a=ze().add(o),c=new Oy(Re.min(),new Map,new At(Je),s,a);yield oF(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),lx(r)}else yield _S(r.localStore,e,!1).then(()=>LS(r,e,n)).catch(rh)})}function yY(t,e){return _(this,null,function*(){let n=Ie(t),r=e.batch.batchId;try{let i=yield qQ(n.localStore,e);aF(n,r,null),sF(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield sh(n,i)}catch(i){yield rh(i)}})}function vY(t,e,n){return _(this,null,function*(){let r=Ie(t);try{let i=yield function(s,a){let c=Ie(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return c.mutationQueue.lookupMutationBatch(u,a).next(h=>(it(h!==null),f=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>c.localDocuments.getDocuments(u,f))})}(r.localStore,e);aF(r,e,n),sF(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield sh(r,i)}catch(i){yield rh(i)}})}function sF(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function aF(t,e,n){let r=Ie(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function LS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||cF(t,r)})}function cF(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(rx(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),lx(t))}function cO(t,e,n){for(let r of n)r instanceof Qy?(t.La.addReference(r.key,e),_Y(t,r)):r instanceof Yy?(ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||cF(t,r.key)):be()}function _Y(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),lx(t))}function lx(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new ye(bt.fromString(e)),r=t.qa.next();t.Na.set(r,new OS(n)),t.Oa=t.Oa.insert(n,r),YO(t.remoteStore,new Kf(Gi(ex(n.path)),r,"TargetPurposeLimboResolution",yO.oe))}}function sh(t,e,n){return _(this,null,function*(){let r=Ie(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{s.push(r.Ka(c,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){let h=u?!u.fromCache:(f=n?.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){i.push(u);let h=mS.Wi(c.targetId,u);o.push(h)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(c,u){return _(this,null,function*(){let f=Ie(c);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>J.forEach(u,y=>J.forEach(y.$i,w=>f.persistence.referenceDelegate.addReference(h,y.targetId,w)).next(()=>J.forEach(y.Ui,w=>f.persistence.referenceDelegate.removeReference(h,y.targetId,w)))))}catch(h){if(!ih(h))throw h;ue("LocalStore","Failed to update sequence numbers: "+h)}for(let h of u){let y=h.targetId;if(!h.fromCache){let w=f.os.get(y),b=w.snapshotVersion,L=w.withLastLimboFreeSnapshotVersion(b);f.os=f.os.insert(y,L)}}})}(r.localStore,o))})}function wY(t,e){return _(this,null,function*(){let n=Ie(t);if(!n.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());let r=yield KO(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new ae(W.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield sh(n,r.hs)}})}function EY(t,e){let n=Ie(t),r=n.Na.get(e);if(r&&r.va)return ze().add(r.key);{let i=ze(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function lF(t){let e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gY.bind(null,e),e.Ca.d_=cY.bind(null,e.eventManager),e.Ca.$a=lY.bind(null,e.eventManager),e}function bY(t){let e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vY.bind(null,e),e}var lO=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=dv(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return HQ(this.persistence,new yS,n.initialUser,this.serializer)}Ga(n){return new fS(pS.Zr,this.serializer)}Wa(n){return new wS}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var CY=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>aO(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=wY.bind(null,this.syncEngine),yield aY(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new MS}()}createDatastore(n){let r=dv(n.databaseInfo.databaseId),i=function(s){return new CS(s)}(n.databaseInfo);return function(s,a,c,u){return new xS(s,a,c,u)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,c){return new TS(i,o,s,a,c)}(this.localStore,this.datastore,n.asyncQueue,r=>aO(this.syncEngine,r,0),function(){return $y.D()?new $y:new ES}())}createSyncEngine(n,r){return function(o,s,a,c,u,f,h){let y=new FS(o,s,a,c,u,f);return h&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(o){return _(this,null,function*(){let s=Ie(o);ue("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield oh(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Zy=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ko("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var VS=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ln.UNAUTHENTICATED,this.clientId=Ty.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){ue("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(ue("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=ax(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function mI(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield KO(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function uO(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield IY(t);ue("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>iO(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>iO(e.remoteStore,i)),t._onlineComponents=e})}function IY(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield mI(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;uu("Error using user provided cache. Falling back to memory cache: "+n),yield mI(t,new lO)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),yield mI(t,new lO);return t._offlineComponents})}function uF(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield uO(t,t._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),yield uO(t,new CY))),t._onlineComponents})}function SY(t){return uF(t).then(e=>e.syncEngine)}function BS(t){return _(this,null,function*(){let e=yield uF(t),n=e.eventManager;return n.onListen=uY.bind(null,e.syncEngine),n.onUnlisten=hY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pY.bind(null,e.syncEngine),n})}function xY(t,e,n={}){let r=new qi;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(o,s,a,c,u){let f=new Zy({next:y=>{f.Za(),s.enqueueAndForget(()=>rF(o,h)),y.fromCache&&c.source==="server"?u.reject(new ae(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(y)},error:y=>u.reject(y)}),h=new Ky(a,f,{includeMetadataChanges:!0,_a:!0});return nF(o,h)}(yield BS(t),t.asyncQueue,e,n,r)})),r.promise}function dF(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var dO=new Map;function fF(t,e,n){if(!n)throw new ae(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AY(t,e,n,r){if(e===!0&&r===!0)throw new ae(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fO(t){if(!ye.isDocumentKey(t))throw new ae(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hO(t){if(ye.isDocumentKey(t))throw new ae(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be()}function Po(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=pv(t);throw new ae(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Jy=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},wu=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jy(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gI;switch(r.type){case"firstParty":return new wI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=dO.get(n);r&&(ue("ComponentProvider","Removing Datastore"),dO.delete(n),r.terminate())}(this),Promise.resolve()}};function hF(t,e,n,r={}){var i;let o=(t=Po(t,wu))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&uu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=ln.MOCK_USER;else{a=u1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ae(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ln(u)}t._authCredentials=new yI(new Ay(a,c))}}var qs=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},er=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Bs=class t extends qs{constructor(e,n,r){super(e,n,ex(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new ye(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function pF(t,e,...n){if(t=Vt(t),fF("collection","path",e),t instanceof wu){let r=bt.fromString(e,...n);return hO(r),new Bs(t,null,r)}{if(!(t instanceof er||t instanceof Bs))throw new ae(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(bt.fromString(e,...n));return hO(r),new Bs(t.firestore,null,r)}}function ux(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=Ty.newId()),fF("doc","path",e),t instanceof wu){let r=bt.fromString(e,...n);return fO(r),new er(t,null,new ye(r))}{if(!(t instanceof er||t instanceof Bs))throw new ae(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(bt.fromString(e,...n));return fO(r),new er(t.firestore,t instanceof Bs?t.converter:null,new ye(r))}}var Xy=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Hy(this,"async_queue_retry"),this.Vu=()=>{let r=pI();r&&ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=pI();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=pI();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new qi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return _(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ih(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ko("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=DS.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&be()}verifyOperationInProgress(){}wu(){return _(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function pO(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var zs=class extends wu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Xy,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Xy(e),this._firestoreClient=void 0,yield e}})}};function mF(t,e){let n=typeof t=="object"?t:Ql(),r=typeof t=="string"?t:e||"(default)",i=xf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=l1("firestore");o&&hF(i,...o)}return i}function dx(t){if(t._terminated)throw new ae(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||TY(t),t._firestoreClient}function TY(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,u,f){return new SI(a,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,dF(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new VS(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(t._componentsProvider))}var Zf=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(An.fromBase64String(e))}catch(n){throw new ae(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Eu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Jf=class{constructor(e){this._methodName=e}};var Xf=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}};var eh=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var DY=/^__.*__$/,US=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new pc(e,this.data,n,this.fieldTransforms)}},ev=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function gF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}var jS=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return nv(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(gF(this.Cu)&&DY.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},$S=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dv(e)}Qu(e,n,r,i=!1){return new jS({Cu:e,methodName:n,qu:r,path:vr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function fx(t){let e=t._freezeSettings(),n=dv(t._databaseId);return new $S(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RY(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);hx("Data must be an object, but it was:",s,r);let a=yF(r,s),c,u;if(o.merge)c=new Lr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let h of o.mergeFields){let y=HS(e,h,n);if(!s.contains(y))throw new ae(W.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);_F(f,y)||f.push(y)}c=new Lr(f),u=s.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=s.fieldTransforms;return new US(new yr(a),c,u)}var tv=class t extends Jf{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function MY(t,e,n,r){let i=t.Qu(1,e,n);hx("Data must be an object, but it was:",i,r);let o=[],s=yr.empty();mc(r,(c,u)=>{let f=px(e,c,n);u=Vt(u);let h=i.Nu(f);if(u instanceof tv)o.push(f);else{let y=ah(u,h);y!=null&&(o.push(f),s.set(f,y))}});let a=new Lr(o);return new ev(s,a,i.fieldTransforms)}function NY(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[HS(e,r,n)],c=[i];if(o.length%2!=0)throw new ae(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push(HS(e,o[y])),c.push(o[y+1]);let u=[],f=yr.empty();for(let y=a.length-1;y>=0;--y)if(!_F(u,a[y])){let w=a[y],b=c[y];b=Vt(b);let L=s.Nu(w);if(b instanceof tv)u.push(w);else{let M=ah(b,L);M!=null&&(u.push(w),f.set(w,M))}}let h=new Lr(u);return new ev(f,h,s.fieldTransforms)}function PY(t,e,n,r=!1){return ah(n,t.Qu(r?4:3,e))}function ah(t,e){if(vF(t=Vt(t)))return hx("Unsupported field value:",e,t),yF(t,e);if(t instanceof Jf)return function(r,i){if(!gF(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=ah(a,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yQ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ct.fromDate(r);return{timestampValue:By(i.serializer,o)}}if(r instanceof Ct){let o=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:By(i.serializer,o)}}if(r instanceof Xf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zf)return{bytesValue:jO(i.serializer,r._byteString)};if(r instanceof er){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:nx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof eh)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return tx(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${pv(r)}`)}(t,e)}function yF(t,e){let n={};return vO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mc(t,(r,i)=>{let o=ah(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function vF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof Xf||t instanceof Zf||t instanceof er||t instanceof Jf||t instanceof eh)}function hx(t,e,n){if(!vF(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=pv(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function HS(t,e,n){if((e=Vt(e))instanceof Eu)return e._internalPath;if(typeof e=="string")return px(t,e);throw nv("Field path arguments must be of type string or ",t,!1,void 0,n)}var kY=new RegExp("[~\\*/\\[\\]]");function px(t,e,n){if(e.search(kY)>=0)throw nv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Eu(...e.split("."))._internalPath}catch{throw nv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nv(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new ae(W.INVALID_ARGUMENT,a+t+c)}function _F(t,e){return t.some(n=>n.isEqual(e))}var rv=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new qS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(mv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},qS=class extends rv{data(){return super.data()}};function mv(t,e){return typeof e=="string"?px(t,e):e instanceof Eu?e._internalPath:e._delegate._internalPath}function wF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var th=class{},iv=class extends th{};function EF(t,e,...n){let r=[];e instanceof th&&r.push(e),r=r.concat(n),function(o){let s=o.filter(c=>c instanceof zS).length,a=o.filter(c=>c instanceof ov).length;if(s>1||s>0&&a>0)throw new ae(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var ov=class t extends iv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return IF(e._query,n),new qs(e.firestore,e.converter,VI(e._query,n))}_parse(e){let n=fx(e.firestore);return function(o,s,a,c,u,f,h){let y;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ae(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){gO(h,f);let w=[];for(let b of h)w.push(mO(c,o,b));y={arrayValue:{values:w}}}else y=mO(c,o,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||gO(h,f),y=PY(a,s,h,f==="in"||f==="not-in");return jt.create(u,f,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function bF(t,e,n){let r=e,i=mv("where",t);return ov._create(i,r,n)}var zS=class t extends th{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ai.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)IF(s,c),s=VI(s,c)}(e._query,n),new qs(e.firestore,e.converter,VI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var GS=class t extends iv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new ae(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dc(o,s)}(e._query,this._field,this._direction);return new qs(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new js(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function CF(t,e="asc"){let n=e,r=mv("orderBy",t);return GS._create(r,n)}function mO(t,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new ae(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AO(e)&&n.indexOf("/")!==-1)throw new ae(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(bt.fromString(n));if(!ye.isDocumentKey(r))throw new ae(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Uk(t,new ye(r))}if(n instanceof er)return Uk(t,n._key);throw new ae(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pv(n)}.`)}function gO(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IF(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var WS=class{convertValue(e,n="none"){switch(uc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return mc(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>wt(s.doubleValue));return new eh(o)}convertGeoPoint(e){return new Xf(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=YS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zf(e));default:return null}}convertTimestamp(e){let n=Oo(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=bt.fromString(e);it(WO(r));let i=new Ny(r.get(1),r.get(3)),o=new ye(r.popFirst(5));return i.isEqual(n)||ko(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function OY(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ac=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},sv=class extends rv{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(mv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},lu=class extends sv{data(e={}){return super.data(e)}},av=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ac(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lu(this._firestore,this._userDataWriter,r.key,r,new ac(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new lu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ac(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new lu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ac(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,f=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:FY(a.type),doc:c,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function FY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}var nh=class extends WS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zf(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,n)}};function SF(t){t=Po(t,qs);let e=Po(t.firestore,zs),n=dx(e),r=new nh(e);return wF(t._query),xY(n,t._query).then(i=>new av(e,r,t,i))}function xF(t,e,n,...r){t=Po(t,er);let i=Po(t.firestore,zs),o=fx(i),s;return s=typeof(e=Vt(e))=="string"||e instanceof Eu?NY(o,"updateDoc",t._key,e,n,r):MY(o,"updateDoc",t._key,e),TF(i,[s.toMutation(t._key,Vs.exists(!0))])}function AF(t,e){let n=Po(t.firestore,zs),r=ux(t),i=OY(t.converter,e);return TF(n,[RY(fx(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Vs.exists(!1))]).then(()=>r)}function mx(t,...e){var n,r,i;t=Vt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||pO(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(pO(e[s])){let h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let c,u,f;if(t instanceof er)u=Po(t.firestore,zs),f=ex(t._key.path),c={next:h=>{e[s]&&e[s](LY(u,t,h))},error:e[s+1],complete:e[s+2]};else{let h=Po(t,qs);u=Po(h.firestore,zs),f=h._query;let y=new nh(u);c={next:w=>{e[s]&&e[s](new av(u,y,h,w))},error:e[s+1],complete:e[s+2]},wF(t._query)}return function(y,w,b,L){let M=new Zy(L),j=new Ky(w,M,b);return y.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return nF(yield BS(y),j)})),()=>{M.Za(),y.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return rF(yield BS(y),j)}))}}(dx(u),f,a,c)}function TF(t,e){return function(r,i){let o=new qi;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return mY(yield SY(r),i,o)})),o.promise}(dx(t),e)}function LY(t,e,n){let r=n.docs.get(e._key),i=new nh(t);return new sv(t,i,e._key,r,new ac(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){bu=i})(ks),Ps(new Fr("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new zs(new vI(r.getProvider("auth-internal")),new bI(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ny(u.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Xt(Fk,"4.7.3",e),Xt(Fk,"4.7.3","esm2017")})();var gv=function(){return gv=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},gv.apply(this,arguments)};var UY={includeMetadataChanges:!1};function DF(t,e){return e===void 0&&(e=UY),new je(function(n){var r=mx(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function RF(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:gv(gv({},r),(n={},n[e.idField]=t.id,n))}function MF(t){return DF(t,{includeMetadataChanges:!0}).pipe(Pe(function(e){return e.docs}))}function NF(t,e){return e===void 0&&(e={}),MF(t).pipe(Pe(function(n){return n.map(function(r){return RF(r,e)})}))}var jn=class{constructor(e){return e}},PF="firestore",gx=class{constructor(){return Af(PF)}};var yx=new me("angularfire2.firestore-instances");function jY(t,e){let n=ey(PF,t,e);return n&&new jn(n)}function $Y(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new jn(r)}}var HY={provide:gx,deps:[[new Fn,yx]]},qY={provide:jn,useFactory:jY,deps:[[new Fn,yx],xo]};function kF(t,...e){return Xt("angularfire",Xa.full,"fst"),Ri([qY,HY,{provide:yx,useFactory:$Y(t),multi:!0,deps:[ot,Jn,Jl,ec,[new Fn,Ff],[new Fn,Zl],...e]}])}var yv=cn(NF,!0);var Iu=cn(AF,!0);var tr=cn(pF,!0);var OF=cn(ux,!0);var vv=cn(SF,!0);var FF=cn(mF,!0);var _v=cn(CF,!0);var Gs=cn(EF,!0);var LF=cn(xF,!0);var wv=cn(bF,!0);var AT=ba(lh());var VF=t=>{let e=t.httpHandler;return{setHttpHandler(n){e=n},httpHandler(){return e},updateHttpClientConfig(n,r){e.updateHttpClientConfig(n,r)},httpHandlerConfigs(){return e.httpHandlerConfigs()}}},BF=t=>({httpHandler:t.httpHandler()});var uh=function(t){return t.HTTP="http",t.HTTPS="https",t}(uh||{});var dh=function(t){return t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256",t}(dh||{});var Su="__smithy_context";var ke=class t{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let n=new t(q(I({},e),{headers:I({},e.headers)}));return n.query&&(n.query=zY(n.query)),n}static isInstance(e){if(!e)return!1;let n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){return t.clone(this)}};function zY(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return q(I({},e),{[n]:Array.isArray(r)?[...r]:r})},{})}var nr=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let n=e;return typeof n.statusCode=="number"&&typeof n.headers=="object"}};function GY(t){return e=>n=>_(this,null,function*(){let{request:r}=n;return ke.isInstance(r)&&r.body&&t.runtime==="node"&&t.requestHandler?.constructor?.name!=="FetchHttpHandler"&&(r.headers=q(I({},r.headers),{Expect:"100-continue"})),e(q(I({},n),{request:r}))})}var WY={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},UF=t=>({applyToStack:e=>{e.add(GY(t),WY)}});var _x={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},wx=_x.WHEN_SUPPORTED;var Ex=_x.WHEN_SUPPORTED,gt=function(t){return t.MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.SHA1="SHA1",t.SHA256="SHA256",t}(gt||{});var jF=gt.MD5,$F=gt.CRC32;function HF(t,e,n){return t.$source||(t.$source={}),t.$source[e]=n,t}function un(t,e,n){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=n}var bx=t=>nr.isInstance(t)?t.headers?.date??t.headers?.Date:void 0;var xu=t=>new Date(Date.now()+t);var qF=(t,e)=>Math.abs(xu(e).getTime()-t)>=3e5;var Cx=(t,e)=>{let n=Date.parse(t);return qF(n,e)?n-Date.now():e};var fh=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},Ev=t=>_(void 0,null,function*(){let e=fh("context",t.context),n=fh("config",t.config),r=e.endpointV2?.properties?.authSchemes?.[0],o=yield fh("signer",n.signer)(r),s=t?.signingRegion,a=t?.signingRegionSet,c=t?.signingName;return{config:n,signer:o,signingRegion:s,signingRegionSet:a,signingName:c}}),yc=class{sign(e,n,r){return _(this,null,function*(){if(!ke.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let i=yield Ev(r),{config:o,signer:s}=i,{signingRegion:a,signingName:c}=i,u=r.context;if(u?.authSchemes?.length??!1){let[h,y]=u.authSchemes;h?.name==="sigv4a"&&y?.name==="sigv4"&&(a=y?.signingRegion??a,c=y?.signingName??c)}return yield s.sign(e,{signingDate:xu(o.systemClockOffset),signingRegion:a,signingService:c})})}errorHandler(e){return n=>{let r=n.ServerTime??bx(n.$response);if(r){let i=fh("config",e.config),o=i.systemClockOffset;i.systemClockOffset=Cx(r,i.systemClockOffset),i.systemClockOffset!==o&&n.$metadata&&(n.$metadata.clockSkewCorrected=!0)}throw n}}successHandler(e,n){let r=bx(e);if(r){let i=fh("config",n.config);i.systemClockOffset=Cx(r,i.systemClockOffset)}}};var hh=class extends yc{sign(e,n,r){return _(this,null,function*(){if(!ke.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:i,signer:o,signingRegion:s,signingRegionSet:a,signingName:c}=yield Ev(r),f=((yield i.sigv4aSigningRegionSet?.())??a??[s]).join(",");return yield o.sign(e,{signingDate:xu(i.systemClockOffset),signingRegion:f,signingService:c})})}};var ci=t=>t[Su]||(t[Su]={});var vn=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};function YY(t){let e=new Map;for(let n of t)e.set(n.schemeId,n);return e}var Ix=(t,e)=>(n,r)=>i=>_(void 0,null,function*(){let o=t.httpAuthSchemeProvider(yield e.httpAuthSchemeParametersProvider(t,r,i.input)),s=YY(t.httpAuthSchemes),a=ci(r),c=[];for(let u of o){let f=s.get(u.schemeId);if(!f){c.push(`HttpAuthScheme \`${u.schemeId}\` was not enabled for this service.`);continue}let h=f.identityProvider(yield e.identityProviderConfigProvider(t));if(!h){c.push(`HttpAuthScheme \`${u.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:y={},signingProperties:w={}}=u.propertiesExtractor?.(t,r)||{};u.identityProperties=Object.assign(u.identityProperties||{},y),u.signingProperties=Object.assign(u.signingProperties||{},w),a.selectedHttpAuthScheme={httpAuthOption:u,identity:yield h(u.identityProperties),signer:f.signer};break}if(!a.selectedHttpAuthScheme)throw new Error(c.join(`
`));return n(i)});var ZY={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},zF=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n})=>({applyToStack:r=>{r.addRelativeTo(Ix(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n}),ZY)}});var GF=(t,e)=>n=>r=>_(void 0,null,function*(){let{response:i}=yield n(r);try{let o=yield e(i,t);return{response:i,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:i}),!("$metadata"in o)){let s="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";o.message+=`
  `+s,typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText)}throw o}});var WF=(t,e)=>(n,r)=>i=>_(void 0,null,function*(){let o=r.endpointV2?.url&&t.urlParser?()=>_(void 0,null,function*(){return t.urlParser(r.endpointV2.url)}):t.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let s=yield e(i.input,q(I({},t),{endpoint:o}));return n(q(I({},i),{request:s}))});var JY={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},ph={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function bv(t,e,n){return{applyToStack:r=>{r.add(GF(t,n),JY),r.add(WF(t,e),ph)}}}var vye={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:ph.name};var XY=t=>e=>{throw e},eZ=(t,e)=>{},KF=t=>(e,n)=>r=>_(void 0,null,function*(){if(!ke.isInstance(r.request))return e(r);let o=ci(n).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:s={}},identity:a,signer:c}=o,u=yield e(q(I({},r),{request:yield c.sign(r.request,a,s)})).catch((c.errorHandler||XY)(s));return(c.successHandler||eZ)(u.response,s),u});var Sx={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},QF=t=>({applyToStack:e=>{e.addRelativeTo(KF(t),Sx)}});var Lo=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};var Vo={},vc=new Array(64);for(let t=0,e=65,n=90;t+e<=n;t++){let r=String.fromCharCode(t+e);Vo[r]=t,vc[t]=r}for(let t=0,e=97,n=122;t+e<=n;t++){let r=String.fromCharCode(t+e),i=t+26;Vo[r]=i,vc[i]=r}for(let t=0;t<10;t++){Vo[t.toString(10)]=t+52;let e=t.toString(10),n=t+52;Vo[e]=n,vc[n]=e}Vo["+"]=62;vc[62]="+";Vo["/"]=63;vc[63]="/";var Ws=6,_c=8,YF=63;var Au=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;let n=new ArrayBuffer(e),r=new DataView(n);for(let i=0;i<t.length;i+=4){let o=0,s=0;for(let u=i,f=i+3;u<=f;u++)if(t[u]!=="="){if(!(t[u]in Vo))throw new TypeError(`Invalid character ${t[u]} in base64 string.`);o|=Vo[t[u]]<<(f-u)*Ws,s+=Ws}else o>>=Ws;let a=i/4*3;o>>=s%_c;let c=Math.floor(s/_c);for(let u=0;u<c;u++){let f=(c-u-1)*_c;r.setUint8(a+u,(o&255<<f)>>f)}}return new Uint8Array(n)};var _r=t=>new TextEncoder().encode(t);var Zi=t=>typeof t=="string"?_r(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t);var Tu=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)};function wc(t){let e;typeof t=="string"?e=_r(t):e=t;let n=typeof e=="object"&&typeof e.length=="number",r=typeof e=="object"&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let o=0;o<e.length;o+=3){let s=0,a=0;for(let u=o,f=Math.min(o+3,e.length);u<f;u++)s|=e[u]<<(f-u-1)*_c,a+=_c;let c=Math.ceil(a/Ws);s<<=c*Ws-a;for(let u=1;u<=c;u++){let f=(c-u)*Ws;i+=vc[(s&YF<<f)>>f]}i+="==".slice(0,4-c)}return i}function ZF(t,e="utf-8"){return e==="base64"?wc(t):Tu(t)}function JF(t,e){return e==="base64"?Bo.mutate(Au(t)):Bo.mutate(_r(t))}var Bo=class t extends Uint8Array{static fromString(e,n="utf-8"){switch(typeof e){case"string":return JF(e,n);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,t.prototype),e}transformToString(e="utf-8"){return ZF(this,e)}};var XF=(t,e)=>{let{base64Encoder:n,bodyLengthChecker:r,checksumAlgorithmFn:i,checksumLocationName:o,streamHasher:s}=e,a=n!==void 0&&r!==void 0&&i!==void 0&&o!==void 0&&s!==void 0,c=a?s(i,t):void 0,u=t.getReader();return new ReadableStream({pull(h){return _(this,null,function*(){let{value:y,done:w}=yield u.read();if(w){if(h.enqueue(`0\r
`),a){let b=n(yield c);h.enqueue(`${o}:${b}\r
`),h.enqueue(`\r
`)}h.close()}else h.enqueue(`${(r(y)||0).toString(16)}\r
${y}\r
`)})}})};var li=t=>encodeURIComponent(t).replace(/[!'()*]/g,tZ),tZ=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function xx(t){let e=[];for(let n of Object.keys(t).sort()){let r=t[n];if(n=li(n),Array.isArray(r))for(let i=0,o=r.length;i<o;i++)e.push(`${n}=${li(r[i])}`);else{let i=n;(r||typeof r=="string")&&(i+=`=${li(r)}`),e.push(i)}}return e.join("&")}var e2=t=>_(void 0,null,function*(){return typeof Blob=="function"&&t instanceof Blob?new Uint8Array(yield t.arrayBuffer()):nZ(t)});function nZ(t){return _(this,null,function*(){let e=[],n=t.getReader(),r=!1,i=0;for(;!r;){let{done:a,value:c}=yield n.read();c&&(e.push(c),i+=c.length),r=a}let o=new Uint8Array(i),s=0;for(let a of e)o.set(a,s),s+=a.length;return o})}var t2={},Ax={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),t2[t]=e,Ax[e]=t}function Cv(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){let r=t.slice(n,n+2).toLowerCase();if(r in Ax)e[n/2]=Ax[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return e}function Rt(t){let e="";for(let n=0;n<t.byteLength;n++)e+=t2[t[n]];return e}var Iv=t=>typeof ReadableStream=="function"&&(t?.constructor?.name===ReadableStream.name||t instanceof ReadableStream);var n2="The stream has already been transformed.",i2=t=>{if(!r2(t)&&!Iv(t)){let i=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let e=!1,n=()=>_(void 0,null,function*(){if(e)throw new Error(n2);return e=!0,yield e2(t)}),r=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(t,{transformToByteArray:n,transformToString:i=>_(void 0,null,function*(){let o=yield n();if(i==="base64")return wc(o);if(i==="hex")return Rt(o);if(i===void 0||i==="utf8"||i==="utf-8")return Tu(o);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")}),transformToWebStream:()=>{if(e)throw new Error(n2);if(e=!0,r2(t))return r(t);if(Iv(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},r2=t=>typeof Blob=="function"&&t instanceof Blob;function o2(t){return _(this,null,function*(){return typeof t.stream=="function"&&(t=t.stream()),t.tee()})}function s2(t,e){return _(this,null,function*(){let n=0,r=[],i=t.getReader(),o=!1;for(;!o;){let{done:c,value:u}=yield i.read();if(u&&(r.push(u),n+=u?.byteLength??0),n>=e)break;o=c}i.releaseLock();let s=new Uint8Array(Math.min(e,n)),a=0;for(let c of r){if(c.byteLength>s.byteLength-a){s.set(c.subarray(0,s.byteLength-a),a);break}else s.set(c,a);a+=c.length}return s})}var mh=(...n)=>_(void 0,[...n],function*(t=new Uint8Array,e){if(t instanceof Uint8Array)return Bo.mutate(t);if(!t)return Bo.mutate(new Uint8Array);let r=e.streamCollector(t);return Bo.mutate(yield r)});function Sv(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function xv(t,e){return new Tx(t,e)}var Tx=class{constructor(e,n){this.input=e,this.context=n,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}build(){return _(this,null,function*(){let{hostname:e,protocol:n="https",port:r,path:i}=yield this.context.endpoint();this.path=i;for(let o of this.resolvePathStack)o(this.path);return new ke({protocol:n,hostname:this.hostname||e,port:r,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(n=>{this.path=`${n?.endsWith("/")?n.slice(0,-1):n||""}`+e}),this}p(e,n,r,i){return this.resolvePathStack.push(o=>{this.path=Dx(o,this.input,e,n,r,i)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}};var Dx=(t,e,n,r,i,o)=>{if(e!=null&&e[n]!==void 0){let s=r();if(s.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");t=t.replace(i,o?s.split("/").map(a=>Sv(a)).join("/"):Sv(s))}else throw new Error("No value provided for input HTTP label: "+n+".");return t};function a2(t,e,n){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=n}var Av=class{constructor(e){this.authSchemes=new Map;for(let[n,r]of Object.entries(e))r!==void 0&&this.authSchemes.set(n,r)}getIdentityProvider(e){return this.authSchemes.get(e)}};var rZ=t=>e=>Rx(e)&&e.expiration.getTime()-Date.now()<t;var c2=rZ(3e5),Rx=t=>t.expiration!==void 0,l2=(t,e,n)=>{if(t===void 0)return;let r=typeof t!="function"?()=>_(void 0,null,function*(){return Promise.resolve(t)}):t,i,o,s,a=!1,c=u=>_(void 0,null,function*(){o||(o=r(u));try{i=yield o,s=!0,a=!1}finally{o=void 0}return i});return e===void 0?u=>_(void 0,null,function*(){return(!s||u?.forceRefresh)&&(i=yield c(u)),i}):u=>_(void 0,null,function*(){return(!s||u?.forceRefresh)&&(i=yield c(u)),a?i:n(i)?(e(i)&&(yield c(u)),i):(a=!0,i)})};var u2=(t,e,n)=>{let r,i,o,s=!1,a=()=>_(void 0,null,function*(){i||(i=t());try{r=yield i,o=!0,s=!1}finally{i=void 0}return r});return e===void 0?c=>_(void 0,null,function*(){return(!o||c?.forceRefresh)&&(r=yield a()),r}):c=>_(void 0,null,function*(){return(!o||c?.forceRefresh)&&(r=yield a()),s?r:n&&!n(r)?(s=!0,r):(e(r)&&(yield a()),r)})};var d2=t=>(t.sigv4aSigningRegionSet=Lo(t.sigv4aSigningRegionSet),t);var f2="X-Amz-Algorithm",h2="X-Amz-Credential",Nx="X-Amz-Date",p2="X-Amz-SignedHeaders",m2="X-Amz-Expires",Px="X-Amz-Signature",kx="X-Amz-Security-Token";var Ox="authorization",Fx=Nx.toLowerCase(),iZ="date",g2=[Ox,Fx,iZ],y2=Px.toLowerCase(),gh="x-amz-content-sha256",v2=kx.toLowerCase();var _2={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},w2=/^proxy-/,E2=/^sec-/;var Tv="AWS4-HMAC-SHA256";var b2="AWS4-HMAC-SHA256-PAYLOAD",C2="UNSIGNED-PAYLOAD",I2=50,Lx="aws4_request",S2=60*60*24*7;var Dv={},Vx=[],Rv=(t,e,n)=>`${t}/${e}/${n}/${Lx}`,A2=(t,e,n,r,i)=>_(void 0,null,function*(){let o=yield x2(t,e.secretAccessKey,e.accessKeyId),s=`${n}:${r}:${i}:${Rt(o)}:${e.sessionToken}`;if(s in Dv)return Dv[s];for(Vx.push(s);Vx.length>I2;)delete Dv[Vx.shift()];let a=`AWS4${e.secretAccessKey}`;for(let c of[n,r,i,Lx])a=yield x2(t,a,c);return Dv[s]=a});var x2=(t,e,n)=>{let r=new t(e);return r.update(Zi(n)),r.digest()};var Mv=({headers:t},e,n)=>{let r={};for(let i of Object.keys(t).sort()){if(t[i]==null)continue;let o=i.toLowerCase();(o in _2||e?.has(o)||w2.test(o)||E2.test(o))&&(!n||n&&!n.has(o))||(r[o]=t[i].trim().replace(/\s+/g," "))}return r};var Bx=({query:t={}})=>{let e=[],n={};for(let r of Object.keys(t)){if(r.toLowerCase()===y2)continue;let i=li(r);e.push(i);let o=t[r];typeof o=="string"?n[i]=`${i}=${li(o)}`:Array.isArray(o)&&(n[i]=o.slice(0).reduce((s,a)=>s.concat([`${i}=${li(a)}`]),[]).sort().join("&"))}return e.sort().map(r=>n[r]).filter(r=>r).join("&")};var Nv=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]";var yh=(r,i)=>_(void 0,[r,i],function*({headers:t,body:e},n){for(let o of Object.keys(t))if(o.toLowerCase()===gh)return t[o];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||Nv(e)){let o=new n;return o.update(Zi(e)),Rt(yield o.digest())}return C2});var Pv=class{format(e){let n=[];for(let o of Object.keys(e)){let s=_r(o);n.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let r=new Uint8Array(n.reduce((o,s)=>o+s.byteLength,0)),i=0;for(let o of n)r.set(o,i),i+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let a=_r(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(Ux.fromNumber(e.value.valueOf()).bytes,1),f;case"uuid":if(!oZ.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let h=new Uint8Array(17);return h[0]=9,h.set(Cv(e.value.replace(/\-/g,"")),1),h}}};var oZ=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Ux=class t{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let n=new Uint8Array(8);for(let r=7,i=Math.abs(Math.round(e));r>-1&&i>0;r--,i/=256)n[r]=i;return e<0&&T2(n),new t(n)}valueOf(){let e=this.bytes.slice(0),n=e[0]&128;return n&&T2(e),parseInt(Rt(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function T2(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var D2=(t,e)=>{t=t.toLowerCase();for(let n of Object.keys(e))if(t===n.toLowerCase())return!0;return!1};var jx=(t,e={})=>{let{headers:n,query:r={}}=ke.clone(t);for(let i of Object.keys(n)){let o=i.toLowerCase();(o.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(o)||e.hoistableHeaders?.has(o))&&(r[i]=n[i],delete n[i])}return q(I({},t),{headers:n,query:r})};var kv=t=>{t=ke.clone(t);for(let e of Object.keys(t.headers))g2.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t};var R2=t=>sZ(t).toISOString().replace(/\.\d{3}Z$/,"Z"),sZ=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;var Ec=class{constructor({applyChecksum:e,credentials:n,region:r,service:i,sha256:o,uriEscapePath:s=!0}){this.headerFormatter=new Pv,this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=vn(r),this.credentialProvider=vn(n)}presign(r){return _(this,arguments,function*(e,n={}){let{signingDate:i=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:a,signableHeaders:c,hoistableHeaders:u,signingRegion:f,signingService:h}=n,y=yield this.credentialProvider();this.validateResolvedCredentials(y);let w=f??(yield this.regionProvider()),{longDate:b,shortDate:L}=Ov(i);if(o>S2)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let M=Rv(L,w,h??this.service),j=jx(kv(e),{unhoistableHeaders:a,hoistableHeaders:u});y.sessionToken&&(j.query[kx]=y.sessionToken),j.query[f2]=Tv,j.query[h2]=`${y.accessKeyId}/${M}`,j.query[Nx]=b,j.query[m2]=o.toString(10);let K=Mv(j,s,c);return j.query[p2]=M2(K),j.query[Px]=yield this.getSignature(b,M,this.getSigningKey(y,w,L,h),this.createCanonicalRequest(j,K,yield yh(e,this.sha256))),j})}sign(e,n){return _(this,null,function*(){return typeof e=="string"?this.signString(e,n):e.headers&&e.payload?this.signEvent(e,n):e.message?this.signMessage(e,n):this.signRequest(e,n)})}signEvent(a,c){return _(this,arguments,function*({headers:e,payload:n},{signingDate:r=new Date,priorSignature:i,signingRegion:o,signingService:s}){let u=o??(yield this.regionProvider()),{shortDate:f,longDate:h}=Ov(r),y=Rv(f,u,s??this.service),w=yield yh({headers:{},body:n},this.sha256),b=new this.sha256;b.update(e);let L=Rt(yield b.digest()),M=[b2,h,y,i,L,w].join(`
`);return this.signString(M,{signingDate:r,signingRegion:u,signingService:s})})}signMessage(o,s){return _(this,arguments,function*(e,{signingDate:n=new Date,signingRegion:r,signingService:i}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:n,signingRegion:r,signingService:i,priorSignature:e.priorSignature}).then(c=>({message:e.message,signature:c}))})}signString(o){return _(this,arguments,function*(e,{signingDate:n=new Date,signingRegion:r,signingService:i}={}){let s=yield this.credentialProvider();this.validateResolvedCredentials(s);let a=r??(yield this.regionProvider()),{shortDate:c}=Ov(n),u=new this.sha256(yield this.getSigningKey(s,a,c,i));return u.update(Zi(e)),Rt(yield u.digest())})}signRequest(a){return _(this,arguments,function*(e,{signingDate:n=new Date,signableHeaders:r,unsignableHeaders:i,signingRegion:o,signingService:s}={}){let c=yield this.credentialProvider();this.validateResolvedCredentials(c);let u=o??(yield this.regionProvider()),f=kv(e),{longDate:h,shortDate:y}=Ov(n),w=Rv(y,u,s??this.service);f.headers[Fx]=h,c.sessionToken&&(f.headers[v2]=c.sessionToken);let b=yield yh(f,this.sha256);!D2(gh,f.headers)&&this.applyChecksum&&(f.headers[gh]=b);let L=Mv(f,i,r),M=yield this.getSignature(h,w,this.getSigningKey(c,u,y,s),this.createCanonicalRequest(f,L,b));return f.headers[Ox]=`${Tv} Credential=${c.accessKeyId}/${w}, SignedHeaders=${M2(L)}, Signature=${M}`,f})}createCanonicalRequest(e,n,r){let i=Object.keys(n).sort();return`${e.method}
${this.getCanonicalPath(e)}
${Bx(e)}
${i.map(o=>`${o}:${n[o]}`).join(`
`)}

${i.join(";")}
${r}`}createStringToSign(e,n,r){return _(this,null,function*(){let i=new this.sha256;i.update(Zi(r));let o=yield i.digest();return`${Tv}
${e}
${n}
${Rt(o)}`})}getCanonicalPath({path:e}){if(this.uriEscapePath){let n=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?n.pop():n.push(o));let r=`${e?.startsWith("/")?"/":""}${n.join("/")}${n.length>0&&e?.endsWith("/")?"/":""}`;return li(r).replace(/%2F/g,"/")}return e}getSignature(e,n,r,i){return _(this,null,function*(){let o=yield this.createStringToSign(e,n,i),s=new this.sha256(yield r);return s.update(Zi(o)),Rt(yield s.digest())})}getSigningKey(e,n,r,i){return A2(this.sha256,e,r,n,i||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},Ov=t=>{let e=R2(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},M2=t=>Object.keys(t).sort().join(";");var N2=t=>{let e=!1,n;t.credentials&&(e=!0,n=l2(t.credentials,c2,Rx)),n||(t.credentialDefaultProvider?n=Lo(t.credentialDefaultProvider(Object.assign({},t,{parentClientConfig:t}))):n=()=>_(void 0,null,function*(){throw new Error("`credentials` is missing")}));let{signingEscapePath:r=!0,systemClockOffset:i=t.systemClockOffset||0,sha256:o}=t,s;return t.signer?s=Lo(t.signer):t.regionInfoProvider?s=()=>Lo(t.region)().then(a=>_(void 0,null,function*(){return[(yield t.regionInfoProvider(a,{useFipsEndpoint:yield t.useFipsEndpoint(),useDualstackEndpoint:yield t.useDualstackEndpoint()}))||{},a]})).then(([a,c])=>{let{signingRegion:u,signingService:f}=a;t.signingRegion=t.signingRegion||u||c,t.signingName=t.signingName||f||t.serviceId;let h=q(I({},t),{credentials:n,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:r}),y=t.signerConstructor||Ec;return new y(h)}):s=a=>_(void 0,null,function*(){a=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:yield Lo(t.region)(),properties:{}},a);let c=a.signingRegion,u=a.signingName;t.signingRegion=t.signingRegion||c,t.signingName=t.signingName||u||t.serviceId;let f=q(I({},t),{credentials:n,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:r}),h=t.signerConstructor||Ec;return new h(f)}),q(I({},t),{systemClockOffset:i,signingEscapePath:r,credentials:e?()=>_(void 0,null,function*(){return n().then(a=>HF(a,"CREDENTIALS_CODE","e"))}):n,signer:s})};var bc=(t,e)=>{let n=[];if(t&&n.push(t),e)for(let r of e)n.push(r);return n},Ks=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,Du=()=>{let t=[],e=[],n=!1,r=new Set,i=h=>h.sort((y,w)=>P2[w.step]-P2[y.step]||k2[w.priority||"normal"]-k2[y.priority||"normal"]),o=h=>{let y=!1,w=b=>{let L=bc(b.name,b.aliases);if(L.includes(h)){y=!0;for(let M of L)r.delete(M);return!1}return!0};return t=t.filter(w),e=e.filter(w),y},s=h=>{let y=!1,w=b=>{if(b.middleware===h){y=!0;for(let L of bc(b.name,b.aliases))r.delete(L);return!1}return!0};return t=t.filter(w),e=e.filter(w),y},a=h=>(t.forEach(y=>{h.add(y.middleware,I({},y))}),e.forEach(y=>{h.addRelativeTo(y.middleware,I({},y))}),h.identifyOnResolve?.(f.identifyOnResolve()),h),c=h=>{let y=[];return h.before.forEach(w=>{w.before.length===0&&w.after.length===0?y.push(w):y.push(...c(w))}),y.push(h),h.after.reverse().forEach(w=>{w.before.length===0&&w.after.length===0?y.push(w):y.push(...c(w))}),y},u=(h=!1)=>{let y=[],w=[],b={};return t.forEach(M=>{let j=q(I({},M),{before:[],after:[]});for(let K of bc(j.name,j.aliases))b[K]=j;y.push(j)}),e.forEach(M=>{let j=q(I({},M),{before:[],after:[]});for(let K of bc(j.name,j.aliases))b[K]=j;w.push(j)}),w.forEach(M=>{if(M.toMiddleware){let j=b[M.toMiddleware];if(j===void 0){if(h)return;throw new Error(`${M.toMiddleware} is not found when adding ${Ks(M.name,M.aliases)} middleware ${M.relation} ${M.toMiddleware}`)}M.relation==="after"&&j.after.push(M),M.relation==="before"&&j.before.push(M)}}),i(y).map(c).reduce((M,j)=>(M.push(...j),M),[])},f={add:(h,y={})=>{let{name:w,override:b,aliases:L}=y,M=I({step:"initialize",priority:"normal",middleware:h},y),j=bc(w,L);if(j.length>0){if(j.some(K=>r.has(K))){if(!b)throw new Error(`Duplicate middleware name '${Ks(w,L)}'`);for(let K of j){let ee=t.findIndex(xe=>xe.name===K||xe.aliases?.some(de=>de===K));if(ee===-1)continue;let ce=t[ee];if(ce.step!==M.step||M.priority!==ce.priority)throw new Error(`"${Ks(ce.name,ce.aliases)}" middleware with ${ce.priority} priority in ${ce.step} step cannot be overridden by "${Ks(w,L)}" middleware with ${M.priority} priority in ${M.step} step.`);t.splice(ee,1)}}for(let K of j)r.add(K)}t.push(M)},addRelativeTo:(h,y)=>{let{name:w,override:b,aliases:L}=y,M=I({middleware:h},y),j=bc(w,L);if(j.length>0){if(j.some(K=>r.has(K))){if(!b)throw new Error(`Duplicate middleware name '${Ks(w,L)}'`);for(let K of j){let ee=e.findIndex(xe=>xe.name===K||xe.aliases?.some(de=>de===K));if(ee===-1)continue;let ce=e[ee];if(ce.toMiddleware!==M.toMiddleware||ce.relation!==M.relation)throw new Error(`"${Ks(ce.name,ce.aliases)}" middleware ${ce.relation} "${ce.toMiddleware}" middleware cannot be overridden by "${Ks(w,L)}" middleware ${M.relation} "${M.toMiddleware}" middleware.`);e.splice(ee,1)}}for(let K of j)r.add(K)}e.push(M)},clone:()=>a(Du()),use:h=>{h.applyToStack(f)},remove:h=>typeof h=="string"?o(h):s(h),removeByTag:h=>{let y=!1,w=b=>{let{tags:L,name:M,aliases:j}=b;if(L&&L.includes(h)){let K=bc(M,j);for(let ee of K)r.delete(ee);return y=!0,!1}return!0};return t=t.filter(w),e=e.filter(w),y},concat:h=>{let y=a(Du());return y.use(h),y.identifyOnResolve(n||y.identifyOnResolve()||(h.identifyOnResolve?.()??!1)),y},applyToStack:a,identify:()=>u(!0).map(h=>{let y=h.step??h.relation+" "+h.toMiddleware;return Ks(h.name,h.aliases)+" - "+y}),identifyOnResolve(h){return typeof h=="boolean"&&(n=h),n},resolve:(h,y)=>{for(let w of u().map(b=>b.middleware).reverse())h=w(h,y);return n&&console.log(f.identify()),h}};return f},P2={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},k2={high:3,normal:2,low:1};var Fv=class{constructor(e){this.config=e,this.middlewareStack=Du()}send(e,n,r){let i=typeof n!="function"?n:void 0,o=typeof n=="function"?n:r,s=i===void 0&&this.config.cacheMiddleware===!0,a;if(s){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(e.constructor)?a=c.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,i),c.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,i);if(o)a(e).then(c=>o(null,c.output),c=>o(c)).catch(()=>{});else return a(e).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}};var Cc=class{constructor(){this.middlewareStack=Du()}static classBuilder(){return new $x}resolveMiddlewareWithContext(e,n,r,{middlewareFn:i,clientName:o,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:u,additionalContext:f,CommandCtor:h}){for(let M of i.bind(this)(h,e,n,r))this.middlewareStack.use(M);let y=e.concat(this.middlewareStack),{logger:w}=n,b=I({logger:w,clientName:o,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[Su]:I({commandInstance:this},u)},f),{requestHandler:L}=n;return y.resolve(M=>L.handle(M.request,r||{}),b)}},$x=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,n,r={}){return this._smithyContext=I({service:e,operation:n},r),this}c(e={}){return this._additionalContext=e,this}n(e,n){return this._clientName=e,this._commandName=n,this}f(e=r=>r,n=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=n,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){let e=this,n;return n=class extends Cc{static getEndpointParameterInstructions(){return e._ep}constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this)}resolveMiddleware(r,i,o){return this.resolveMiddlewareWithContext(r,i,o,{CommandCtor:n,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}};var wr="***SensitiveInformation***";var Hx=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}};var aZ=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&q2.warn(H2(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},cZ=Math.ceil(34028234663852886e22),O2=t=>{let e=aZ(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>cZ)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},lZ=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}};var F2=t=>V2(t,16),L2=t=>V2(t,8),V2=(t,e)=>{let n=lZ(t);if(n!==void 0&&uZ(n,e)!==n)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return n},uZ=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},qx=(t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t},B2=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;let e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},Ru=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return q2.warn(H2(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}};var U2=t=>O2(typeof t=="string"?zx(t):t),dZ=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,zx=t=>{let e=t.match(dZ);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)};var j2=t=>F2(typeof t=="string"?zx(t):t),$2=t=>L2(typeof t=="string"?zx(t):t),H2=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),q2={warn:console.warn};var fZ=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],z2=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function G2(t){let e=t.getUTCFullYear(),n=t.getUTCMonth(),r=t.getUTCDay(),i=t.getUTCDate(),o=t.getUTCHours(),s=t.getUTCMinutes(),a=t.getUTCSeconds(),c=i<10?`0${i}`:`${i}`,u=o<10?`0${o}`:`${o}`,f=s<10?`0${s}`:`${s}`,h=a<10?`0${a}`:`${a}`;return`${fZ[r]}, ${c} ${z2[n]} ${e} ${u}:${f}:${h} GMT`}var Q0e=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var hZ=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),W2=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=hZ.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[n,r,i,o,s,a,c,u,f]=e,h=j2(K2(r)),y=vh(i,"month",1,12),w=vh(o,"day",1,31),b=pZ(h,y,w,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:u});return f.toUpperCase()!="Z"&&b.setTime(b.getTime()-_Z(f)),b},Y0e=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Z0e=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),J0e=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/);var pZ=(t,e,n,r)=>{let i=e-1;return gZ(t,i,n),new Date(Date.UTC(t,i,n,vh(r.hours,"hour",0,23),vh(r.minutes,"minute",0,59),vh(r.seconds,"seconds",0,60),vZ(r.fractionalMilliseconds)))};var X0e=50*365*24*60*60*1e3;var mZ=[31,28,31,30,31,30,31,31,30,31,30,31],gZ=(t,e,n)=>{let r=mZ[e];if(e===1&&yZ(t)&&(r=29),n>r)throw new TypeError(`Invalid day for ${z2[e]} in ${t}: ${n}`)},yZ=t=>t%4===0&&(t%100!==0||t%400===0),vh=(t,e,n,r)=>{let i=$2(K2(t));if(i<n||i>r)throw new TypeError(`${e} must be between ${n} and ${r}, inclusive`);return i},vZ=t=>t==null?0:U2("0."+t)*1e3,_Z=t=>{let e=t[0],n=1;if(e=="+")n=1;else if(e=="-")n=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let r=Number(t.substring(1,3)),i=Number(t.substring(4,6));return n*(r*60+i)*60*1e3},K2=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)};var Lv=class t extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,t.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}},Vr=(t,e={})=>{Object.entries(e).filter(([,r])=>r!==void 0).forEach(([r,i])=>{(t[r]==null||t[r]==="")&&(t[r]=i)});let n=t.message||t.Message||"UnknownError";return t.message=n,delete t.Message,t};var wZ=({output:t,parsedBody:e,exceptionCtor:n,errorCode:r})=>{let i=EZ(t),o=i.httpStatusCode?i.httpStatusCode+"":void 0,s=new n({name:e?.code||e?.Code||r||o||"UnknownError",$fault:"client",$metadata:i});throw Vr(s,e)},Q2=t=>({output:e,parsedBody:n,errorCode:r})=>{wZ({output:e,parsedBody:n,exceptionCtor:t,errorCode:r})},EZ=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]});var Y2=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};var Z2=t=>{let e=[];for(let n in dh){let r=dh[n];t[r]!==void 0&&e.push({algorithmId:()=>r,checksumConstructor:()=>t[r]})}return{_checksumAlgorithms:e,addChecksumAlgorithm(n){this._checksumAlgorithms.push(n)},checksumAlgorithms(){return this._checksumAlgorithms}}},J2=t=>{let e={};return t.checksumAlgorithms().forEach(n=>{e[n.algorithmId()]=n.checksumConstructor()}),e};var X2=t=>{let e=t.retryStrategy;return{setRetryStrategy(n){e=n},retryStrategy(){return e}}},eL=t=>{let e={};return e.retryStrategy=t.retryStrategy(),e};var tL=t=>I(I({},Z2(t)),X2(t));var nL=t=>I(I({},J2(t)),eL(t));var Gx=t=>{let e="#text";for(let n in t)t.hasOwnProperty(n)&&t[n][e]!==void 0?t[n]=t[n][e]:typeof t[n]=="object"&&t[n]!==null&&(t[n]=Gx(t[n]));return t};var Qs=t=>t!=null;var Wx=function(){let t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),n=new e;return Object.setPrototypeOf(n,t.prototype),n};Wx.prototype=Object.create(String.prototype,{constructor:{value:Wx,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Wx,String);var Ys=class{trace(){}debug(){}info(){}warn(){}error(){}};function _n(t,e,n){let r,i,o;if(typeof e>"u"&&typeof n>"u")r={},o=t;else{if(r=t,typeof e=="function")return i=e,o=n,bZ(r,i,o);o=e}for(let s of Object.keys(o)){if(!Array.isArray(o[s])){r[s]=o[s];continue}CZ(r,null,o,s)}return r}var bZ=(t,e,n)=>_n(t,Object.entries(n).reduce((r,[i,o])=>(Array.isArray(o)?r[i]=o:typeof o=="function"?r[i]=[e,o()]:r[i]=[e,o],r),{})),CZ=(t,e,n,r)=>{if(e!==null){let s=n[r];typeof s=="function"&&(s=[,s]);let[a=IZ,c=SZ,u=r]=s;(typeof a=="function"&&a(e[u])||typeof a!="function"&&a)&&(t[r]=c(e[u]));return}let[i,o]=n[r];if(typeof o=="function"){let s,a=i===void 0&&(s=o())!=null,c=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;a?t[r]=s:c&&(t[r]=o())}else{let s=i===void 0&&o!=null,a=typeof i=="function"&&!!i(o)||typeof i!="function"&&!!i;(s||a)&&(t[r]=o)}},IZ=t=>t!=null,SZ=t=>t;var rL=t=>t.toISOString().replace(".000Z","Z");var iL=(t,e)=>mh(t,e).then(n=>e.utf8Encoder(n));var LL=ba(FL());var nA=(t,e)=>iL(t,e).then(n=>{if(n.length){let r=new LL.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,u)=>u.trim()===""&&u.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let i;try{i=r.parse(n,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:n}),c}let o="#text",s=Object.keys(i)[0],a=i[s];return a[o]&&(a[s]=a[o],delete a[o]),Gx(a)}return{}}),VL=(t,e)=>_(void 0,null,function*(){let n=yield nA(t,e);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n}),BL=(t,e)=>{if(e?.Error?.Code!==void 0)return e.Error.Code;if(e?.Code!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"};var Eh=[gt.CRC32,gt.CRC32C,gt.SHA1,gt.SHA256],UL=[gt.SHA256,gt.SHA1,gt.CRC32,gt.CRC32C];var jL=(t,{requestChecksumRequired:e,requestAlgorithmMember:n},r)=>{let i=r?$F:jF;if(!n||!t[n])return e?i:void 0;let o=t[n];if(!Eh.includes(o))throw new Error(`The checksum algorithm "${o}" is not supported by the client. Select one of ${Eh}.`);return o};var Mu=t=>t===gt.MD5?"content-md5":`x-amz-checksum-${t.toLowerCase()}`;var $L=(t,e)=>{let n=t.toLowerCase();for(let r of Object.keys(e))if(n===r.toLowerCase())return!0;return!1};var Nu=t=>t!==void 0&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!Nv(t);var rA=t=>new TextEncoder().encode(t);var kJ=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:rA;function Hn(t){return t instanceof Uint8Array?t:typeof t=="string"?kJ(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function Ji(t){return typeof t=="string"?t.length===0:t.byteLength===0}function bh(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}function Ch(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),n=0;n<t.length;)e[n]=t[n],n+=1;return e}return Uint32Array.from(t)}var iA=function(){function t(){this.crc32=new Sc}return t.prototype.update=function(e){Ji(e)||this.crc32.update(Hn(e))},t.prototype.digest=function(){return ls(this,void 0,void 0,function(){return rl(this,function(e){return[2,bh(this.crc32.digest())]})})},t.prototype.reset=function(){this.crc32=new Sc},t}();var Sc=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var n,r;try{for(var i=nl(e),o=i.next();!o.done;o=i.next()){var s=o.value;this.checksum=this.checksum>>>8^FJ[(this.checksum^s)&255]}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();var OJ=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],FJ=Ch(OJ);var sA=function(){function t(){this.crc32c=new oA}return t.prototype.update=function(e){Ji(e)||this.crc32c.update(Hn(e))},t.prototype.digest=function(){return ls(this,void 0,void 0,function(){return rl(this,function(e){return[2,bh(this.crc32c.digest())]})})},t.prototype.reset=function(){this.crc32c=new oA},t}();var oA=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var n,r;try{for(var i=nl(e),o=i.next();!o.done;o=i.next()){var s=o.value;this.checksum=this.checksum>>>8^VJ[(this.checksum^s)&255]}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();var LJ=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],VJ=Ch(LJ);var Bv=(t,e)=>({[gt.MD5]:e.md5,[gt.CRC32]:iA,[gt.CRC32C]:sA,[gt.SHA1]:e.sha1,[gt.SHA256]:e.sha256})[t];var Uv=(t,e)=>{let n=new t;return n.update(Zi(e||"")),n.digest()};var HL={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},qL=(t,e)=>(n,r)=>i=>_(void 0,null,function*(){if(!ke.isInstance(i.request))return n(i);let{request:o}=i,{body:s,headers:a}=o,{base64Encoder:c,streamHasher:u}=t,{input:f,requestChecksumRequired:h,requestAlgorithmMember:y}=e,w=jL(f,{requestChecksumRequired:h,requestAlgorithmMember:y},!!r.isS3ExpressBucket),b=s,L=a;if(w){switch(w){case gt.CRC32:un(r,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case gt.CRC32C:un(r,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case gt.SHA1:un(r,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case gt.SHA256:un(r,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}let j=Mu(w),K=Bv(w,t);if(Nu(s)){let{getAwsChunkedEncodingStream:ee,bodyLengthChecker:ce}=t;b=ee(s,{base64Encoder:c,bodyLengthChecker:ce,checksumLocationName:j,checksumAlgorithmFn:K,streamHasher:u}),L=q(I({},a),{"content-encoding":a["content-encoding"]?`${a["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":a["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":j}),delete L["content-length"]}else if(!$L(j,a)){let ee=yield Uv(K,s);L=q(I({},a),{[j]:c(ee)})}}return yield n(q(I({},i),{request:q(I({},o),{headers:L,body:b})}))});var jv=(t=[])=>{let e=[];for(let n of UL)!t.includes(n)||!Eh.includes(n)||e.push(n);return e};var zL=t=>{let e=t.lastIndexOf("-");if(e!==-1){let n=t.slice(e+1);if(!n.startsWith("0")){let r=parseInt(n,10);if(!isNaN(r)&&r>=1&&r<=1e4)return!0}}return!1};function aA(t){return new Blob([t]).stream()}var GL=(i,o)=>_(void 0,[i,o],function*(t,{streamHasher:e,checksumAlgorithmFn:n,base64Encoder:r}){let s=Nu(t)?e(n,t):Uv(n,t);return r(yield s)});var WL=(r,i)=>_(void 0,[r,i],function*(t,{config:e,responseAlgorithms:n}){let o=jv(n),{body:s,headers:a}=t;for(let c of o){let u=Mu(c),f=a[u];if(f){let h=Bv(c,e),{streamHasher:y,base64Encoder:w}=e,b=yield GL(s,{streamHasher:y,checksumAlgorithmFn:h,base64Encoder:w});if(b===f)break;throw new Error(`Checksum mismatch: expected "${b}" but received "${f}" in response header "${u}".`)}}});var KL={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},QL=(t,e)=>(n,r)=>i=>_(void 0,null,function*(){if(!ke.isInstance(i.request))return n(i);let o=i.input,s=yield n(i),a=s.response,c,{requestValidationModeMember:u,responseAlgorithms:f}=e;if(u&&o[u]==="ENABLED"){let{clientName:h,commandName:y}=r;if(h==="S3Client"&&y==="GetObjectCommand"&&jv(f).every(L=>{let M=Mu(L),j=a.headers[M];return!j||zL(j)}))return s;let b=Nu(a.body);b&&(c=yield t.streamCollector(a.body),a.body=aA(c)),yield WL(s.response,{config:t,responseAlgorithms:f}),b&&c&&(a.body=aA(c))}return s});var YL=(t,e)=>({applyToStack:n=>{n.add(qL(t,e),HL),n.addRelativeTo(QL(t,e),KL)}});var ZL=t=>q(I({},t),{requestChecksumCalculation:vn(t.requestChecksumCalculation??wx),responseChecksumValidation:vn(t.responseChecksumValidation??Ex)});var BJ=t=>e=>n=>_(void 0,null,function*(){if(!ke.isInstance(n.request))return e(n);let{request:r}=n,{handlerProtocol:i=""}=t.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let o=r.hostname;r.port!=null&&(o+=`:${r.port}`),r.headers.host=o}return e(n)}),UJ={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},JL=t=>({applyToStack:e=>{e.add(BJ(t),UJ)}});var jJ=()=>(t,e)=>n=>_(void 0,null,function*(){try{let i=yield t(n),{clientName:o,commandName:s,logger:a,dynamoDbDocumentClientOptions:c={}}=e,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:f}=c,h=u??e.inputFilterSensitiveLog,y=f??e.outputFilterSensitiveLog,r=i.output,{$metadata:w}=r,b=Ea(r,["$metadata"]);return a?.info?.({clientName:o,commandName:s,input:h(n.input),output:y(b),metadata:w}),i}catch(i){let{clientName:o,commandName:s,logger:a,dynamoDbDocumentClientOptions:c={}}=e,{overrideInputFilterSensitiveLog:u}=c,f=u??e.inputFilterSensitiveLog;throw a?.error?.({clientName:o,commandName:s,input:f(n.input),error:i,metadata:i.$metadata}),i}}),$J={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},XL=t=>({applyToStack:e=>{e.add(jJ(),$J)}});var eV="X-Amzn-Trace-Id",HJ="AWS_LAMBDA_FUNCTION_NAME",qJ="_X_AMZN_TRACE_ID",zJ=t=>e=>n=>_(void 0,null,function*(){let{request:r}=n;if(!ke.isInstance(r)||t.runtime!=="node"||r.headers.hasOwnProperty(eV))return e(n);let i=process.env[HJ],o=process.env[qJ],s=a=>typeof a=="string"&&a.length>0;return s(i)&&s(o)&&(r.headers[eV]=o),e(q(I({},n),{request:r}))}),GJ={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},tV=t=>({applyToStack:e=>{e.add(zJ(t),GJ)}});var WJ="content-length";function KJ(){return(t,e)=>n=>_(this,null,function*(){let{request:r}=n;if(ke.isInstance(r)&&!(WJ in r.headers)){let i="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof e?.logger?.warn=="function"&&!(e.logger instanceof Ys)?e.logger.warn(i):console.warn(i)}return t(I({},n))})}var QJ={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},nV=t=>({applyToStack:e=>{e.add(KJ(),QJ)}});var rV=t=>(e,n)=>r=>_(void 0,null,function*(){let i=yield t.region(),o=t.region,s=()=>{};n.__s3RegionRedirect&&(Object.defineProperty(t,"region",{writable:!1,value:()=>_(void 0,null,function*(){return n.__s3RegionRedirect})}),s=()=>Object.defineProperty(t,"region",{writable:!0,value:o}));try{let a=yield e(r);if(n.__s3RegionRedirect){s();let c=yield t.region();if(i!==c)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw s(),a}}),iV={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function YJ(t){return(e,n)=>r=>_(this,null,function*(){try{return yield e(r)}catch(i){if(t.followRegionRedirects&&(i?.$metadata?.httpStatusCode===301||i?.$metadata?.httpStatusCode===400&&i?.name==="IllegalLocationConstraintException")){try{let o=i.$response.headers["x-amz-bucket-region"];n.logger?.debug(`Redirecting from ${yield t.region()} to ${o}`),n.__s3RegionRedirect=o}catch(o){throw new Error("Region redirect failed: "+o)}return e(r)}throw i}})}var ZJ={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},oV=t=>({applyToStack:e=>{e.add(YJ(t),ZJ),e.addRelativeTo(rV(t),iV)}});var cA=(()=>{class t{constructor(n={}){this.data=n,this.lastPurgeTime=Date.now()}get(n){let r=this.data[n];if(r)return r}set(n,r){return this.data[n]=r,r}delete(n){delete this.data[n]}purgeExpired(){return _(this,null,function*(){let n=Date.now();if(!(this.lastPurgeTime+t.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>n))for(let r in this.data){let i=this.data[r];if(!i.isRefreshing){let o=yield i.identity;o.expiration&&o.expiration.getTime()<n&&delete this.data[r]}}})}}return t.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4,t})();var xc=class{constructor(e,n=!1,r=Date.now()){this._identity=e,this.isRefreshing=n,this.accessed=r}get identity(){return this.accessed=Date.now(),this._identity}};var lA=(()=>{class t{constructor(n,r=new cA){this.createSessionFn=n,this.cache=r}getS3ExpressIdentity(n,r){return _(this,null,function*(){let i=r.Bucket,{cache:o}=this,s=o.get(i);return s?s.identity.then(a=>(a.expiration?.getTime()??0)<Date.now()?o.set(i,new xc(this.getIdentity(i))).identity:((a.expiration?.getTime()??0)<Date.now()+t.REFRESH_WINDOW_MS&&!s.isRefreshing&&(s.isRefreshing=!0,this.getIdentity(i).then(f=>{o.set(i,new xc(Promise.resolve(f)))})),a)):o.set(i,new xc(this.getIdentity(i))).identity})}getIdentity(n){return _(this,null,function*(){yield this.cache.purgeExpired().catch(o=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+o)});let r=yield this.createSessionFn(n);if(!r.Credentials?.AccessKeyId||!r.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}})}}return t.REFRESH_WINDOW_MS=6e4,t})();var cV="Directory",lV="S3Express",uV="sigv4-s3express",$v="X-Amz-S3session-Token",Ih=$v.toLowerCase();var Sh=class extends Ec{signWithCredentials(e,n,r){return _(this,null,function*(){let i=dV(n);e.headers[Ih]=n.sessionToken;let o=this;return fV(o,i),o.signRequest(e,r??{})})}presignWithCredentials(e,n,r){return _(this,null,function*(){let i=dV(n);return delete e.headers[Ih],e.headers[$v]=n.sessionToken,e.query=e.query??{},e.query[$v]=n.sessionToken,fV(this,i),this.presign(e,r)})}};function dV(t){return{accessKeyId:t.accessKeyId,secretAccessKey:t.secretAccessKey,expiration:t.expiration}}function fV(t,e){let n=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),r=t.credentialProvider,i=()=>(clearTimeout(n),t.credentialProvider=r,Promise.resolve(e));t.credentialProvider=i}var hV=t=>(e,n)=>r=>_(void 0,null,function*(){if(n.endpointV2){let i=n.endpointV2,o=i.properties?.authSchemes?.[0]?.name===uV;if((i.properties?.backend===lV||i.properties?.bucketType===cV)&&(un(n,"S3_EXPRESS_BUCKET","J"),n.isS3ExpressBucket=!0),o){let a=r.input.Bucket;if(a){let c=yield t.s3ExpressIdentityProvider.getS3ExpressIdentity(yield t.credentials(),{Bucket:a});n.s3ExpressIdentity=c,ke.isInstance(r.request)&&c.sessionToken&&(r.request.headers[Ih]=c.sessionToken)}}}return e(r)}),pV={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},uA=t=>({applyToStack:e=>{e.add(hV(t),pV)}});var mV=(t,e,n,r)=>_(void 0,null,function*(){let i=yield r.signWithCredentials(n,t,{});if(i.headers["X-Amz-Security-Token"]||i.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return i});var XJ=t=>e=>{throw e},eX=(t,e)=>{};var gV=t=>(e,n)=>r=>_(void 0,null,function*(){if(!ke.isInstance(r.request))return e(r);let o=ci(n).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:s={}},identity:a,signer:c}=o,u;n.s3ExpressIdentity?u=yield mV(n.s3ExpressIdentity,s,r.request,yield t.signer()):u=yield c.sign(r.request,a,s);let f=yield e(q(I({},r),{request:u})).catch((c.errorHandler||XJ)(s));return(c.successHandler||eX)(f.response,s),f}),dA=t=>({applyToStack:e=>{e.addRelativeTo(gV(t),Sx)}});var yV=(t,{session:e})=>{let[n,r]=e;return q(I({},t),{forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,followRegionRedirects:t.followRegionRedirects??!1,s3ExpressIdentityProvider:t.s3ExpressIdentityProvider??new lA(i=>_(void 0,null,function*(){return n().send(new r({Bucket:i,SessionMode:"ReadWrite"}))})),bucketEndpoint:t.bucketEndpoint??!1})};var tX={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},nX=3e3,rX=t=>(e,n)=>r=>_(void 0,null,function*(){let i=yield e(r),{response:o}=i;if(!nr.isInstance(o))return i;let{statusCode:s,body:a}=o;if(s<200||s>=300||!(typeof a?.stream=="function"||typeof a?.pipe=="function"||typeof a?.tee=="function"))return i;let u=a,f=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([u,f]=yield o2(a)),o.body=f;let h=yield iX(u,{streamCollector:w=>_(void 0,null,function*(){return s2(w,nX)})});typeof u?.destroy=="function"&&u.destroy();let y=t.utf8Encoder(h.subarray(h.length-16));if(h.length===0&&tX[n.commandName]){let w=new Error("S3 aborted request");throw w.name="InternalError",w}return y&&y.endsWith("</Error>")&&(o.statusCode=400),i}),iX=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),oX={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},Hv=t=>({applyToStack:e=>{e.addRelativeTo(rX(t),oX)}});var vV=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6;function _V(t){return(e,n)=>r=>_(this,null,function*(){if(t.bucketEndpoint){let i=n.endpointV2;if(i){let o=r.input.Bucket;if(typeof o=="string")try{let s=new URL(o);n.endpointV2=q(I({},i),{url:s})}catch(s){let a=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${o} could not be parsed as URL.`;throw n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a),s}}}return e(r)})}var wV={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function sX({bucketEndpoint:t}){return e=>n=>_(this,null,function*(){let{input:{Bucket:r}}=n;if(!t&&typeof r=="string"&&!vV(r)&&r.indexOf("/")>=0){let i=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw i.name="InvalidBucketName",i}return e(I({},n))})}var aX={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},EV=t=>({applyToStack:e=>{e.add(sX(t),aX),e.addRelativeTo(_V(t),wV)}});var cX=void 0;function lX(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function bV(t){let e=Lo(t.userAgentAppId??cX);return q(I({},t),{customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent,userAgentAppId:()=>_(this,null,function*(){let n=yield e();if(!lX(n)){let r=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console:t.logger;typeof n!="string"?r?.warn("userAgentAppId must be a string or undefined."):n.length>50&&r?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n})})}var qv=class{constructor({size:e,params:n}){this.data=new Map,this.parameters=[],this.capacity=e??50,n&&(this.parameters=n)}get(e,n){let r=this.hash(e);if(r===!1)return n();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let i=this.data.keys(),o=0;for(;;){let{value:s,done:a}=i.next();if(this.data.delete(s),a||++o>10)break}}this.data.set(r,n())}return this.data.get(r)}size(){return this.data.size}hash(e){let n="",{parameters:r}=this;if(r.length===0)return!1;for(let i of r){let o=String(e[i]??"");if(o.includes("|;"))return!1;n+=o+"|;"}return n}};var uX=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),xh=t=>uX.test(t)||t.startsWith("[")&&t.endsWith("]");var dX=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Ah=(t,e=!1)=>{if(!e)return dX.test(t);let n=t.split(".");for(let r of n)if(!Ah(r))return!1;return!0};var Ac={};var jo="endpoints";function Br(t){return typeof t!="object"||t==null?t:"ref"in t?`$${Br(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(Br).join(", ")})`:JSON.stringify(t,null,2)}var dt=class extends Error{constructor(e){super(e),this.name="EndpointError"}};var CV=(t,e)=>t===e;var IV=t=>{let e=t.split("."),n=[];for(let r of e){let i=r.indexOf("[");if(i!==-1){if(r.indexOf("]")!==r.length-1)throw new dt(`Path: '${t}' does not end with ']'`);let o=r.slice(i+1,-1);if(Number.isNaN(parseInt(o)))throw new dt(`Invalid array index: '${o}' in path: '${t}'`);i!==0&&n.push(r.slice(0,i)),n.push(o)}else n.push(r)}return n};var zv=(t,e)=>IV(e).reduce((n,r)=>{if(typeof n!="object")throw new dt(`Index '${r}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]},t);var SV=t=>t!=null;var xV=t=>!t;var fA={[uh.HTTP]:80,[uh.HTTPS]:443},AV=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:y,port:w,protocol:b="",path:L="",query:M={}}=t,j=new URL(`${b}//${y}${w?`:${w}`:""}${L}`);return j.search=Object.entries(M).map(([K,ee])=>`${K}=${ee}`).join("&"),j}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let n=e.href,{host:r,hostname:i,pathname:o,protocol:s,search:a}=e;if(a)return null;let c=s.slice(0,-1);if(!Object.values(uh).includes(c))return null;let u=xh(i),f=n.includes(`${r}:${fA[c]}`)||typeof t=="string"&&t.includes(`${r}:${fA[c]}`),h=`${r}${f?`:${fA[c]}`:""}`;return{scheme:c,authority:h,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:u}};var TV=(t,e)=>t===e;var DV=(t,e,n,r)=>e>=n||t.length<n?null:r?t.substring(t.length-n,t.length-e):t.substring(e,n);var RV=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`);var MV={booleanEquals:CV,getAttr:zv,isSet:SV,isValidHostLabel:Ah,not:xV,parseURL:AV,stringEquals:TV,substring:DV,uriEncode:RV};var Gv=(t,e)=>{let n=[],r=I(I({},e.endpointParams),e.referenceRecord),i=0;for(;i<t.length;){let o=t.indexOf("{",i);if(o===-1){n.push(t.slice(i));break}n.push(t.slice(i,o));let s=t.indexOf("}",o);if(s===-1){n.push(t.slice(o));break}t[o+1]==="{"&&t[s+1]==="}"&&(n.push(t.slice(o+1,s)),i=s+2);let a=t.substring(o+1,s);if(a.includes("#")){let[c,u]=a.split("#");n.push(zv(r[c],u))}else n.push(r[a]);i=s+1}return n.join("")};var NV=({ref:t},e)=>I(I({},e.endpointParams),e.referenceRecord)[t];var Js=(t,e,n)=>{if(typeof t=="string")return Gv(t,n);if(t.fn)return Wv(t,n);if(t.ref)return NV(t,n);throw new dt(`'${e}': ${String(t)} is not a string, function or reference.`)};var Wv=({fn:t,argv:e},n)=>{let r=e.map(o=>["boolean","number"].includes(typeof o)?o:Js(o,"arg",n)),i=t.split(".");return i[0]in Ac&&i[1]!=null?Ac[i[0]][i[1]](...r):MV[t](...r)};var PV=(r,n)=>{var i=r,{assign:t}=i,e=Ea(i,["assign"]);if(t&&t in n.referenceRecord)throw new dt(`'${t}' is already defined in Reference Record.`);let o=Wv(e,n);return n.logger?.debug?.(`${jo} evaluateCondition: ${Br(e)} = ${Br(o)}`),I({result:o===""?!0:!!o},t!=null&&{toAssign:{name:t,value:o}})};var Pu=(t=[],e)=>{let n={};for(let r of t){let{result:i,toAssign:o}=PV(r,q(I({},e),{referenceRecord:I(I({},e.referenceRecord),n)}));if(!i)return{result:i};o&&(n[o.name]=o.value,e.logger?.debug?.(`${jo} assign: ${o.name} := ${Br(o.value)}`))}return{result:!0,referenceRecord:n}};var kV=(t,e)=>Object.entries(t).reduce((n,[r,i])=>q(I({},n),{[r]:i.map(o=>{let s=Js(o,"Header value entry",e);if(typeof s!="string")throw new dt(`Header '${r}' value '${s}' is not a string`);return s})}),{});var hA=(t,e)=>{if(Array.isArray(t))return t.map(n=>hA(n,e));switch(typeof t){case"string":return Gv(t,e);case"object":if(t===null)throw new dt(`Unexpected endpoint property: ${t}`);return Kv(t,e);case"boolean":return t;default:throw new dt(`Unexpected endpoint property type: ${typeof t}`)}};var Kv=(t,e)=>Object.entries(t).reduce((n,[r,i])=>q(I({},n),{[r]:hA(i,e)}),{});var OV=(t,e)=>{let n=Js(t,"Endpoint URL",e);if(typeof n=="string")try{return new URL(n)}catch(r){throw console.error(`Failed to construct URL with ${n}`,r),r}throw new dt(`Endpoint URL must be a string, got ${typeof n}`)};var FV=(t,e)=>{let{conditions:n,endpoint:r}=t,{result:i,referenceRecord:o}=Pu(n,e);if(!i)return;let s=q(I({},e),{referenceRecord:I(I({},e.referenceRecord),o)}),{url:a,properties:c,headers:u}=r;return e.logger?.debug?.(`${jo} Resolving endpoint from template: ${Br(r)}`),q(I(I({},u!=null&&{headers:kV(u,s)}),c!=null&&{properties:Kv(c,s)}),{url:OV(a,s)})};var LV=(t,e)=>{let{conditions:n,error:r}=t,{result:i,referenceRecord:o}=Pu(n,e);if(i)throw new dt(Js(r,"Error",q(I({},e),{referenceRecord:I(I({},e.referenceRecord),o)})))};var VV=(t,e)=>{let{conditions:n,rules:r}=t,{result:i,referenceRecord:o}=Pu(n,e);if(i)return Qv(r,q(I({},e),{referenceRecord:I(I({},e.referenceRecord),o)}))};var Qv=(t,e)=>{for(let n of t)if(n.type==="endpoint"){let r=FV(n,e);if(r)return r}else if(n.type==="error")LV(n,e);else if(n.type==="tree"){let r=VV(n,e);if(r)return r}else throw new dt(`Unknown endpoint rule: ${n}`);throw new dt("Rules evaluation failed")};var pA=(t,e)=>{let{endpointParams:n,logger:r}=e,{parameters:i,rules:o}=t;e.logger?.debug?.(`${jo} Initial EndpointParams: ${Br(n)}`);let s=Object.entries(i).filter(([,u])=>u.default!=null).map(([u,f])=>[u,f.default]);if(s.length>0)for(let[u,f]of s)n[u]=n[u]??f;let a=Object.entries(i).filter(([,u])=>u.required).map(([u])=>u);for(let u of a)if(n[u]==null)throw new dt(`Missing required parameter: '${u}'`);let c=Qv(o,{endpointParams:n,logger:r,referenceRecord:{}});return e.logger?.debug?.(`${jo} Resolved endpoint: ${Br(c)}`),c};var mA=(t,e=!1)=>{if(e){for(let n of t.split("."))if(!mA(n))return!1;return!0}return!(!Ah(t)||t.length<3||t.length>63||t!==t.toLowerCase()||xh(t))};var BV=":",fX="/",UV=t=>{let e=t.split(BV);if(e.length<6)return null;let[n,r,i,o,s,...a]=e;if(n!=="arn"||r===""||i===""||a.join(BV)==="")return null;let c=a.map(u=>u.split(fX)).flat();return{partition:r,service:i,region:o,accountId:s,resourceId:c}};var jV={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"};var pX=jV,mX="",$V=t=>{let{partitions:e}=pX;for(let r of e){let{regions:i,outputs:o}=r;for(let[s,a]of Object.entries(i))if(s===t)return I(I({},o),a)}for(let r of e){let{regionRegex:i,outputs:o}=r;if(new RegExp(i).test(t))return I({},o)}let n=e.find(r=>r.id==="aws");if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return I({},n.outputs)};var HV=()=>mX;var gA={isVirtualHostableS3Bucket:mA,parseArn:UV,partition:$V};Ac.aws=gA;var gX=/\d{12}\.ddb/;function qV(t,e,n){return _(this,null,function*(){if(n.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&un(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){let o=yield e.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?un(t,"RETRY_MODE_ADAPTIVE","F"):un(t,"RETRY_MODE_STANDARD","E"):un(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){let o=t.endpointV2;switch(String(o?.url?.hostname).match(gX)&&un(t,"ACCOUNT_ID_ENDPOINT","O"),yield e.accountIdEndpointMode?.()){case"disabled":un(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":un(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":un(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let i=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(i?.$source){let o=i;o.accountId&&un(t,"RESOLVED_ACCOUNT_ID","T");for(let[s,a]of Object.entries(o.$source??{}))un(t,s,a)}})}var yA="user-agent",Yv="x-amz-user-agent",vA=" ",Zv="/",zV=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,GV=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,_A="-";function WV(t){let e="";for(let n in t){let r=t[n];if(e.length+r.length+1<=1024){e.length?e+=","+r:e+=r;continue}break}return e}var yX=t=>(e,n)=>r=>_(void 0,null,function*(){let{request:i}=r;if(!ke.isInstance(i))return e(r);let{headers:o}=i,s=n?.userAgent?.map(Jv)||[],a=(yield t.defaultUserAgentProvider()).map(Jv);yield qV(n,t,r);let c=n;a.push(`m/${WV(Object.assign({},n.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let u=t?.customUserAgent?.map(Jv)||[],f=yield t.userAgentAppId();f&&a.push(Jv([`app/${f}`]));let h=HV(),y=(h?[h]:[]).concat([...a,...s,...u]).join(vA),w=[...a.filter(b=>b.startsWith("aws-sdk-")),...u].join(vA);return t.runtime!=="browser"?(w&&(o[Yv]=o[Yv]?`${o[yA]} ${w}`:w),o[yA]=y):o[Yv]=y,e(q(I({},r),{request:i}))}),Jv=t=>{let e=t[0].split(Zv).map(s=>s.replace(zV,_A)).join(Zv),n=t[1]?.replace(GV,_A),r=e.indexOf(Zv),i=e.substring(0,r),o=e.substring(r+1);return i==="api"&&(o=o.toLowerCase()),[i,o,n].filter(s=>s&&s.length>0).reduce((s,a,c)=>{switch(c){case 0:return a;case 1:return`${s}/${a}`;default:return`${s}#${a}`}},"")},vX={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},KV=t=>({applyToStack:e=>{e.add(yX(t),vX)}});var QV=!1;var YV=!1;var Xv=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"));var wA=t=>Xv(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t;var ZV=t=>{let{region:e,useFipsEndpoint:n}=t;if(!e)throw new Error("Region is missing");return q(I({},t),{region:()=>_(void 0,null,function*(){if(typeof e=="string")return wA(e);let r=yield e();return wA(r)}),useFipsEndpoint:()=>_(void 0,null,function*(){let r=typeof e=="string"?e:yield e();return Xv(r)?!0:typeof n!="function"?Promise.resolve(!!n):n()})})};var JV=t=>q(I({},t),{eventStreamMarshaller:t.eventStreamSerdeProvider(t)});var XV="content-length";function _X(t){return e=>n=>_(this,null,function*(){let r=n.request;if(ke.isInstance(r)){let{body:i,headers:o}=r;if(i&&Object.keys(o).map(s=>s.toLowerCase()).indexOf(XV)===-1)try{let s=t(i);r.headers=q(I({},r.headers),{[XV]:String(s)})}catch{}}return e(q(I({},n),{request:r}))})}var wX={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},eB=t=>({applyToStack:e=>{e.add(_X(t.bodyLengthChecker),wX)}});var tB=t=>_(void 0,null,function*(){let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),SX(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!IX(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t}),EX=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,bX=/(\d+\.){3}\d+/,CX=/\.\./;var IX=t=>EX.test(t)&&!bX.test(t)&&!CX.test(t),SX=t=>{let[e,n,r,,,i]=t.split(":"),o=e==="arn"&&t.split(":").length>=6,s=!!(o&&n&&r&&i);if(o&&!s)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return s};var nB=(t,e,n)=>{let r=()=>_(void 0,null,function*(){let i=n[t]??n[e];return typeof i=="function"?i():i});return t==="credentialScope"||e==="CredentialScope"?()=>_(void 0,null,function*(){let i=typeof n.credentials=="function"?yield n.credentials():n.credentials;return i?.credentialScope??i?.CredentialScope}):t==="accountId"||e==="AccountId"?()=>_(void 0,null,function*(){let i=typeof n.credentials=="function"?yield n.credentials():n.credentials;return i?.accountId??i?.AccountId}):t==="endpoint"||e==="endpoint"?()=>_(void 0,null,function*(){let i=yield r();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){let{protocol:o,hostname:s,port:a,path:c}=i;return`${o}//${s}${a?":"+a:""}${c}`}}return i}):r};var e_=t=>_(void 0,null,function*(){});function rB(t){let e={};if(t=t.replace(/^\?/,""),t)for(let n of t.split("&")){let[r,i=null]=n.split("=");r=decodeURIComponent(r),i&&(i=decodeURIComponent(i)),r in e?Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i}return e}var ku=t=>{if(typeof t=="string")return ku(new URL(t));let{hostname:e,pathname:n,port:r,protocol:i,search:o}=t,s;return o&&(s=rB(o)),{hostname:e,port:r?parseInt(r):void 0,protocol:i,path:n,query:s}};var t_=t=>typeof t=="object"?"url"in t?ku(t.url):t:ku(t);var iB=(t,e,n,r)=>_(void 0,null,function*(){if(!n.endpoint){let s;n.serviceConfiguredEndpoint?s=yield n.serviceConfiguredEndpoint():s=yield e_(n.serviceId),s&&(n.endpoint=()=>Promise.resolve(t_(s)))}let i=yield EA(t,e,n);if(typeof n.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return n.endpointProvider(i,r)}),EA=(t,e,n)=>_(void 0,null,function*(){let r={},i=e?.getEndpointParameterInstructions?.()||{};for(let[o,s]of Object.entries(i))switch(s.type){case"staticContextParams":r[o]=s.value;break;case"contextParams":r[o]=t[s.name];break;case"clientContextParams":case"builtInParams":r[o]=yield nB(s.name,o,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(s))}return Object.keys(i).length===0&&Object.assign(r,n),String(n.serviceId).toLowerCase()==="s3"&&(yield tB(r)),r});var oB=({config:t,instructions:e})=>(n,r)=>i=>_(void 0,null,function*(){t.endpoint&&a2(r,"ENDPOINT_OVERRIDE","N");let o=yield iB(i.input,{getEndpointParameterInstructions(){return e}},I({},t),r);r.endpointV2=o,r.authSchemes=o.properties?.authSchemes;let s=r.authSchemes?.[0];if(s){r.signing_region=s.signingRegion,r.signing_service=s.signingName;let c=ci(r)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:s.signingRegion,signingRegion:s.signingRegion,signing_service:s.signingName,signingName:s.signingName,signingRegionSet:s.signingRegionSet},s.properties))}return n(I({},i))});var xX={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:ph.name},n_=(t,e)=>({applyToStack:n=>{n.addRelativeTo(oB({config:t,instructions:e}),xX)}});var sB=t=>{let e=t.tls??!0,{endpoint:n}=t,r=n!=null?()=>_(void 0,null,function*(){return t_(yield vn(n)())}):void 0,i=!!n,o=q(I({},t),{endpoint:r,tls:e,isCustomEndpoint:i,useDualstackEndpoint:vn(t.useDualstackEndpoint??!1),useFipsEndpoint:vn(t.useFipsEndpoint??!1)}),s;return o.serviceConfiguredEndpoint=()=>_(void 0,null,function*(){return t.serviceId&&!s&&(s=e_(t.serviceId)),s}),o};var Xi=function(t){return t.STANDARD="standard",t.ADAPTIVE="adaptive",t}(Xi||{}),Xs=3,bA=Xi.STANDARD;var aB=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],cB=["TimeoutError","RequestTimeout","RequestTimeoutException"],lB=[500,502,503,504],uB=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"];var AX=t=>t.$metadata?.clockSkewCorrected,Ou=t=>t.$metadata?.httpStatusCode===429||aB.includes(t.name)||t.$retryable?.throttling==!0,r_=t=>AX(t)||cB.includes(t.name)||uB.includes(t?.code||"")||lB.includes(t.$metadata?.httpStatusCode||0),dB=t=>{if(t.$metadata?.httpStatusCode!==void 0){let e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!r_(t)}return!1};var Th=class{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let n=this.getCurrentTimeInSeconds();this.lastThrottleTime=n,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}getSendToken(){return _(this,null,function*(){return this.acquireTokenBucket(1)})}acquireTokenBucket(e){return _(this,null,function*(){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let n=(e-this.currentCapacity)/this.fillRate*1e3;yield new Promise(r=>setTimeout(r,n))}this.currentCapacity=this.currentCapacity-e}})}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let n=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+n),this.lastTimestamp=e}updateClientSendingRate(e){let n;if(this.updateMeasuredRate(),Ou(e)){let i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),n=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),n=this.cubicSuccess(this.getCurrentTimeInSeconds());let r=Math.min(n,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),n=Math.floor(e*2)/2;if(this.requestCount++,n>this.lastTxRateBucket){let r=this.requestCount/(n-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=n}}getPrecise(e){return parseFloat(e.toFixed(8))}};var i_="amz-sdk-invocation-id",o_="amz-sdk-request";var fB=()=>{let t=100;return{computeNextBackoffDelay:r=>Math.floor(Math.min(2e4,Math.random()*2**r*t)),setDelayBase:r=>{t=r}}};var CA=({retryDelay:t,retryCount:e,retryCost:n})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(2e4,t),getRetryCost:()=>n});var Tc=class{constructor(e){this.maxAttempts=e,this.mode=Xi.STANDARD,this.capacity=500,this.retryBackoffStrategy=fB(),this.maxAttemptsProvider=typeof e=="function"?e:()=>_(this,null,function*(){return e})}acquireInitialRetryToken(e){return _(this,null,function*(){return CA({retryDelay:100,retryCount:0})})}refreshRetryTokenForRetry(e,n){return _(this,null,function*(){let r=yield this.getMaxAttempts();if(this.shouldRetry(e,n,r)){let i=n.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?500:100);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=n.retryAfterHint?Math.max(n.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(i);return this.capacity-=a,CA({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")})}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}getMaxAttempts(){return _(this,null,function*(){try{return yield this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Xs}`),Xs}})}shouldRetry(e,n,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(n.errorType)&&this.isRetryableError(n.errorType)}getCapacityCost(e){return e==="TRANSIENT"?10:5}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}};var a_=class{constructor(e,n){this.maxAttemptsProvider=e,this.mode=Xi.ADAPTIVE;let{rateLimiter:r}=n??{};this.rateLimiter=r??new Th,this.standardRetryStrategy=new Tc(e)}acquireInitialRetryToken(e){return _(this,null,function*(){return yield this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)})}refreshRetryTokenForRetry(e,n){return _(this,null,function*(){return this.rateLimiter.updateClientSendingRate(n),this.standardRetryStrategy.refreshRetryTokenForRetry(e,n)})}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}};var c_,TX=new Uint8Array(16);function SA(){if(!c_&&(c_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!c_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c_(TX)}var wn=[];for(let t=0;t<256;++t)wn.push((t+256).toString(16).slice(1));function yB(t,e=0){return wn[t[e+0]]+wn[t[e+1]]+wn[t[e+2]]+wn[t[e+3]]+"-"+wn[t[e+4]]+wn[t[e+5]]+"-"+wn[t[e+6]]+wn[t[e+7]]+"-"+wn[t[e+8]]+wn[t[e+9]]+"-"+wn[t[e+10]]+wn[t[e+11]]+wn[t[e+12]]+wn[t[e+13]]+wn[t[e+14]]+wn[t[e+15]]}var DX=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xA={randomUUID:DX};function RX(t,e,n){if(xA.randomUUID&&!e&&!t)return xA.randomUUID();t=t||{};let r=t.random||(t.rng||SA)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return yB(r)}var AA=RX;var TA=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`);var vB=t=>{let{retryStrategy:e}=t,n=vn(t.maxAttempts??Xs);return q(I({},t),{maxAttempts:n,retryStrategy:()=>_(void 0,null,function*(){return e||((yield vn(t.retryMode)())===Xi.ADAPTIVE?new a_(n):new Tc(n))})})};var _B=t=>t?.body instanceof ReadableStream;var MX=t=>(e,n)=>r=>_(void 0,null,function*(){let i=yield t.retryStrategy(),o=yield t.maxAttempts();if(NX(i)){i=i;let s=yield i.acquireInitialRetryToken(n.partition_id),a=new Error,c=0,u=0,{request:f}=r,h=ke.isInstance(f);for(h&&(f.headers[i_]=AA());;)try{h&&(f.headers[o_]=`attempt=${c+1}; max=${o}`);let{response:y,output:w}=yield e(r);return i.recordSuccess(s),w.$metadata.attempts=c+1,w.$metadata.totalRetryDelay=u,{response:y,output:w}}catch(y){let w=PX(y);if(a=TA(y),h&&_B(f))throw(n.logger instanceof Ys?console:n.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{s=yield i.refreshRetryTokenForRetry(s,w)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=u,a}c=s.getRetryCount();let b=s.getRetryDelay();u+=b,yield new Promise(L=>setTimeout(L,b))}}else return i=i,i?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(e,r)}),NX=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",PX=t=>{let e={error:t,errorType:kX(t)},n=FX(t.$response);return n&&(e.retryAfterHint=n),e},kX=t=>Ou(t)?"THROTTLING":r_(t)?"TRANSIENT":dB(t)?"SERVER_ERROR":"CLIENT_ERROR",OX={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},wB=t=>({applyToStack:e=>{e.add(MX(t),OX)}}),FX=t=>{if(!nr.isInstance(t))return;let e=Object.keys(t.headers).find(o=>o.toLowerCase()==="retry-after");if(!e)return;let n=t.headers[e],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(r*1e3)};var l_={CrtSignerV4:null};var u_=class{constructor(e){this.sigv4Signer=new Sh(e),this.signerOptions=e}sign(r){return _(this,arguments,function*(e,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(e,n)}return this.sigv4Signer.sign(e,n)})}signWithCredentials(i,o){return _(this,arguments,function*(e,n,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().signWithCredentials(e,n,r)}return this.sigv4Signer.signWithCredentials(e,n,r)})}presign(r){return _(this,arguments,function*(e,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(e,n)}return this.sigv4Signer.presign(e,n)})}presignWithCredentials(i,o){return _(this,arguments,function*(e,n,r={}){if(r.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(e,n,r)})}getSigv4aSigner(){if(!this.sigv4aSigner){let e=null;try{if(e=l_.CrtSignerV4,typeof e!="function")throw new Error}catch(n){throw n.message=`${n.message}
Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,n}this.sigv4aSigner=new e(q(I({},this.signerOptions),{signingAlgorithm:1}))}return this.sigv4aSigner}};var eT="required",S="type",F="conditions",z="fn",G="argv",we="ref",Tt="assign",ie="url",oe="properties",EU="backend",di="authSchemes",Er="disableDoubleEncoding",br="signingName",no="signingRegion",se="headers",tT="signingRegionSet";var Ur="isSet",pn="booleanEquals",le="error",y_="aws.partition",yt="stringEquals",Nt="getAttr",Tn="name",eo="substring",EB="bucketSuffix",bU="parseURL",bB="{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",Y="endpoint",Q="tree",CU="aws.isVirtualHostableS3Bucket",p_="{url#scheme}://{Bucket}.{url#authority}{url#path}",to="not",m_="{url#scheme}://{url#authority}{url#path}",IU="hardwareType",SU="regionPrefix",CB="bucketAliasSuffix",JA="outpostId",Rc="isValidHostLabel",nT="sigv4a",Mh="s3-outposts",Uu="s3",xU="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",AU="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",IB="https://{Bucket}.s3.{partitionResult#dnsSuffix}",TU="aws.parseArn",DU="bucketArn",RU="arnType",v_="",rT="s3-object-lambda",MU="accesspoint",iT="accessPointName",SB="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",xB="mrapPartition",AB="outpostType",TB="arnPrefix",NU="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",DB="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",RB="https://s3.{partitionResult#dnsSuffix}",Lu={[eT]:!1,[S]:"String"},Vu={[eT]:!0,default:!1,[S]:"Boolean"},Dh={[eT]:!1,[S]:"Boolean"},ui={[z]:pn,[G]:[{[we]:"Accelerate"},!0]},ht={[z]:pn,[G]:[{[we]:"UseFIPS"},!0]},ft={[z]:pn,[G]:[{[we]:"UseDualStack"},!0]},Ht={[z]:Ur,[G]:[{[we]:"Endpoint"}]},PU={[z]:y_,[G]:[{[we]:"Region"}],[Tt]:"partitionResult"},MB={[z]:yt,[G]:[{[z]:Nt,[G]:[{[we]:"partitionResult"},Tn]},"aws-cn"]},__={[z]:Ur,[G]:[{[we]:"Bucket"}]},zn={[we]:"Bucket"},qn={[z]:bU,[G]:[{[we]:"Endpoint"}],[Tt]:"url"},g_={[z]:pn,[G]:[{[z]:Nt,[G]:[{[we]:"url"},"isIp"]},!0]},kU={[we]:"url"},OU={[z]:"uriEncode",[G]:[zn],[Tt]:"uri_encoded_bucket"},$o={[EU]:"S3Express",[di]:[{[Er]:!0,[Tn]:"sigv4",[br]:"s3express",[no]:"{Region}"}]},Ee={},FU={[z]:CU,[G]:[zn,!1]},DA={[le]:"S3Express bucket name is not a valid virtual hostable name.",[S]:le},w_={[EU]:"S3Express",[di]:[{[Er]:!0,[Tn]:"sigv4-s3express",[br]:"s3express",[no]:"{Region}"}]},NB={[z]:Ur,[G]:[{[we]:"UseS3ExpressControlEndpoint"}]},PB={[z]:pn,[G]:[{[we]:"UseS3ExpressControlEndpoint"},!0]},Se={[z]:to,[G]:[Ht]},kB={[le]:"Unrecognized S3Express bucket name format.",[S]:le},OB={[z]:to,[G]:[__]},FB={[we]:IU},LB={[F]:[Se],[le]:"Expected a endpoint to be specified but no endpoint was found",[S]:le},d_={[di]:[{[Er]:!0,[Tn]:nT,[br]:Mh,[tT]:["*"]},{[Er]:!0,[Tn]:"sigv4",[br]:Mh,[no]:"{Region}"}]},RA={[z]:pn,[G]:[{[we]:"ForcePathStyle"},!1]},LX={[we]:"ForcePathStyle"},$t={[z]:pn,[G]:[{[we]:"Accelerate"},!1]},en={[z]:yt,[G]:[{[we]:"Region"},"aws-global"]},dn={[di]:[{[Er]:!0,[Tn]:"sigv4",[br]:Uu,[no]:"us-east-1"}]},Ge={[z]:to,[G]:[en]},fn={[z]:pn,[G]:[{[we]:"UseGlobalEndpoint"},!0]},VB={[ie]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[oe]:{[di]:[{[Er]:!0,[Tn]:"sigv4",[br]:Uu,[no]:"{Region}"}]},[se]:{}},qt={[di]:[{[Er]:!0,[Tn]:"sigv4",[br]:Uu,[no]:"{Region}"}]},hn={[z]:pn,[G]:[{[we]:"UseGlobalEndpoint"},!1]},Be={[z]:pn,[G]:[{[we]:"UseDualStack"},!1]},BB={[ie]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[oe]:qt,[se]:{}},Oe={[z]:pn,[G]:[{[we]:"UseFIPS"},!1]},UB={[ie]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[oe]:qt,[se]:{}},jB={[ie]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[oe]:qt,[se]:{}},MA={[z]:pn,[G]:[{[z]:Nt,[G]:[kU,"isIp"]},!1]},NA={[ie]:xU,[oe]:qt,[se]:{}},XA={[ie]:p_,[oe]:qt,[se]:{}},$B={[Y]:XA,[S]:Y},PA={[ie]:AU,[oe]:qt,[se]:{}},HB={[ie]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[oe]:qt,[se]:{}},f_={[le]:"Invalid region: region was not a valid DNS name.",[S]:le},rr={[we]:DU},LU={[we]:RU},kA={[z]:Nt,[G]:[rr,"service"]},oT={[we]:iT},qB={[F]:[ft],[le]:"S3 Object Lambda does not support Dual-stack",[S]:le},zB={[F]:[ui],[le]:"S3 Object Lambda does not support S3 Accelerate",[S]:le},GB={[F]:[{[z]:Ur,[G]:[{[we]:"DisableAccessPoints"}]},{[z]:pn,[G]:[{[we]:"DisableAccessPoints"},!0]}],[le]:"Access points are not supported for this operation",[S]:le},OA={[F]:[{[z]:Ur,[G]:[{[we]:"UseArnRegion"}]},{[z]:pn,[G]:[{[we]:"UseArnRegion"},!1]},{[z]:to,[G]:[{[z]:yt,[G]:[{[z]:Nt,[G]:[rr,"region"]},"{Region}"]}]}],[le]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[S]:le},VU={[z]:Nt,[G]:[{[we]:"bucketPartition"},Tn]},BU={[z]:Nt,[G]:[rr,"accountId"]},FA={[di]:[{[Er]:!0,[Tn]:"sigv4",[br]:rT,[no]:"{bucketArn#region}"}]},WB={[le]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[S]:le},LA={[le]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[S]:le},VA={[le]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[S]:le},BA={[le]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[S]:le},KB={[le]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[S]:le},QB={[le]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[S]:le},Rh={[di]:[{[Er]:!0,[Tn]:"sigv4",[br]:Uu,[no]:"{bucketArn#region}"}]},YB={[di]:[{[Er]:!0,[Tn]:nT,[br]:Mh,[tT]:["*"]},{[Er]:!0,[Tn]:"sigv4",[br]:Mh,[no]:"{bucketArn#region}"}]},ZB={[z]:TU,[G]:[zn]},JB={[ie]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[oe]:qt,[se]:{}},XB={[ie]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[oe]:qt,[se]:{}},eU={[ie]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[oe]:qt,[se]:{}},UA={[ie]:NU,[oe]:qt,[se]:{}},tU={[ie]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[oe]:qt,[se]:{}},nU={[we]:"UseObjectLambdaEndpoint"},jA={[di]:[{[Er]:!0,[Tn]:"sigv4",[br]:rT,[no]:"{Region}"}]},rU={[ie]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[oe]:qt,[se]:{}},iU={[ie]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[oe]:qt,[se]:{}},oU={[ie]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[oe]:qt,[se]:{}},$A={[ie]:m_,[oe]:qt,[se]:{}},sU={[ie]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[oe]:qt,[se]:{}},HA=[{[we]:"Region"}],VX=[{[we]:"Endpoint"}],BX=[zn],qA=[ft],h_=[ui],Dc=[Ht,qn],aU=[{[z]:Ur,[G]:[{[we]:"DisableS3ExpressSessionAuth"}]},{[z]:pn,[G]:[{[we]:"DisableS3ExpressSessionAuth"},!0]}],cU=[g_],zA=[OU],GA=[FU],Bu=[ht],lU=[{[z]:eo,[G]:[zn,6,14,!0],[Tt]:"s3expressAvailabilityZoneId"},{[z]:eo,[G]:[zn,14,16,!0],[Tt]:"s3expressAvailabilityZoneDelim"},{[z]:yt,[G]:[{[we]:"s3expressAvailabilityZoneDelim"},"--"]}],uU=[{[F]:[ht],[Y]:{[ie]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[oe]:$o,[se]:{}},[S]:Y},{[Y]:{[ie]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[oe]:$o,[se]:{}},[S]:Y}],dU=[{[z]:eo,[G]:[zn,6,15,!0],[Tt]:"s3expressAvailabilityZoneId"},{[z]:eo,[G]:[zn,15,17,!0],[Tt]:"s3expressAvailabilityZoneDelim"},{[z]:yt,[G]:[{[we]:"s3expressAvailabilityZoneDelim"},"--"]}],fU=[{[F]:[ht],[Y]:{[ie]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[oe]:w_,[se]:{}},[S]:Y},{[Y]:{[ie]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[oe]:w_,[se]:{}},[S]:Y}],UX=[__],hU=[{[z]:Rc,[G]:[{[we]:JA},!1]}],pU=[{[z]:yt,[G]:[{[we]:SU},"beta"]}],jX=["*"],ea=[PU],mU=[{[z]:Rc,[G]:[{[we]:"Region"},!1]}],ta=[{[z]:yt,[G]:[{[we]:"Region"},"us-east-1"]}],WA=[{[z]:yt,[G]:[LU,MU]}],gU=[{[z]:Nt,[G]:[rr,"resourceId[1]"],[Tt]:iT},{[z]:to,[G]:[{[z]:yt,[G]:[oT,v_]}]}],$X=[rr,"resourceId[1]"],KA=[{[z]:to,[G]:[{[z]:yt,[G]:[{[z]:Nt,[G]:[rr,"region"]},v_]}]}],yU=[{[z]:to,[G]:[{[z]:Ur,[G]:[{[z]:Nt,[G]:[rr,"resourceId[2]"]}]}]}],HX=[rr,"resourceId[2]"],QA=[{[z]:y_,[G]:[{[z]:Nt,[G]:[rr,"region"]}],[Tt]:"bucketPartition"}],vU=[{[z]:yt,[G]:[VU,{[z]:Nt,[G]:[{[we]:"partitionResult"},Tn]}]}],YA=[{[z]:Rc,[G]:[{[z]:Nt,[G]:[rr,"region"]},!0]}],ZA=[{[z]:Rc,[G]:[BU,!1]}],_U=[{[z]:Rc,[G]:[oT,!1]}],wU=[{[z]:Rc,[G]:[{[we]:"Region"},!0]}],qX={version:"1.0",parameters:{Bucket:Lu,Region:Lu,UseFIPS:Vu,UseDualStack:Vu,Endpoint:Lu,ForcePathStyle:Vu,Accelerate:Vu,UseGlobalEndpoint:Vu,UseObjectLambdaEndpoint:Dh,Key:Lu,Prefix:Lu,CopySource:Lu,DisableAccessPoints:Dh,DisableMultiRegionAccessPoints:Vu,UseArnRegion:Dh,UseS3ExpressControlEndpoint:Dh,DisableS3ExpressSessionAuth:Dh},rules:[{[F]:[{[z]:Ur,[G]:HA}],rules:[{[F]:[ui,ht],error:"Accelerate cannot be used with FIPS",[S]:le},{[F]:[ft,Ht],error:"Cannot set dual-stack in combination with a custom endpoint.",[S]:le},{[F]:[Ht,ht],error:"A custom endpoint cannot be combined with FIPS",[S]:le},{[F]:[Ht,ui],error:"A custom endpoint cannot be combined with S3 Accelerate",[S]:le},{[F]:[ht,PU,MB],error:"Partition does not support FIPS",[S]:le},{[F]:[__,{[z]:eo,[G]:[zn,0,6,!0],[Tt]:EB},{[z]:yt,[G]:[{[we]:EB},"--x-s3"]}],rules:[{[F]:qA,error:"S3Express does not support Dual-stack.",[S]:le},{[F]:h_,error:"S3Express does not support S3 Accelerate.",[S]:le},{[F]:Dc,rules:[{[F]:aU,rules:[{[F]:cU,rules:[{[F]:zA,rules:[{endpoint:{[ie]:bB,[oe]:$o,[se]:Ee},[S]:Y}],[S]:Q}],[S]:Q},{[F]:GA,rules:[{endpoint:{[ie]:p_,[oe]:$o,[se]:Ee},[S]:Y}],[S]:Q},DA],[S]:Q},{[F]:cU,rules:[{[F]:zA,rules:[{endpoint:{[ie]:bB,[oe]:w_,[se]:Ee},[S]:Y}],[S]:Q}],[S]:Q},{[F]:GA,rules:[{endpoint:{[ie]:p_,[oe]:w_,[se]:Ee},[S]:Y}],[S]:Q},DA],[S]:Q},{[F]:[NB,PB],rules:[{[F]:[OU,Se],rules:[{[F]:Bu,endpoint:{[ie]:"https://s3express-control-fips.{Region}.amazonaws.com/{uri_encoded_bucket}",[oe]:$o,[se]:Ee},[S]:Y},{endpoint:{[ie]:"https://s3express-control.{Region}.amazonaws.com/{uri_encoded_bucket}",[oe]:$o,[se]:Ee},[S]:Y}],[S]:Q}],[S]:Q},{[F]:GA,rules:[{[F]:aU,rules:[{[F]:lU,rules:uU,[S]:Q},{[F]:dU,rules:uU,[S]:Q},kB],[S]:Q},{[F]:lU,rules:fU,[S]:Q},{[F]:dU,rules:fU,[S]:Q},kB],[S]:Q},DA],[S]:Q},{[F]:[OB,NB,PB],rules:[{[F]:Dc,endpoint:{[ie]:m_,[oe]:$o,[se]:Ee},[S]:Y},{[F]:Bu,endpoint:{[ie]:"https://s3express-control-fips.{Region}.amazonaws.com",[oe]:$o,[se]:Ee},[S]:Y},{endpoint:{[ie]:"https://s3express-control.{Region}.amazonaws.com",[oe]:$o,[se]:Ee},[S]:Y}],[S]:Q},{[F]:[__,{[z]:eo,[G]:[zn,49,50,!0],[Tt]:IU},{[z]:eo,[G]:[zn,8,12,!0],[Tt]:SU},{[z]:eo,[G]:[zn,0,7,!0],[Tt]:CB},{[z]:eo,[G]:[zn,32,49,!0],[Tt]:JA},{[z]:y_,[G]:HA,[Tt]:"regionPartition"},{[z]:yt,[G]:[{[we]:CB},"--op-s3"]}],rules:[{[F]:hU,rules:[{[F]:[{[z]:yt,[G]:[FB,"e"]}],rules:[{[F]:pU,rules:[LB,{[F]:Dc,endpoint:{[ie]:"https://{Bucket}.ec2.{url#authority}",[oe]:d_,[se]:Ee},[S]:Y}],[S]:Q},{endpoint:{[ie]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[oe]:d_,[se]:Ee},[S]:Y}],[S]:Q},{[F]:[{[z]:yt,[G]:[FB,"o"]}],rules:[{[F]:pU,rules:[LB,{[F]:Dc,endpoint:{[ie]:"https://{Bucket}.op-{outpostId}.{url#authority}",[oe]:d_,[se]:Ee},[S]:Y}],[S]:Q},{endpoint:{[ie]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[oe]:d_,[se]:Ee},[S]:Y}],[S]:Q},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[S]:le}],[S]:Q},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[S]:le}],[S]:Q},{[F]:UX,rules:[{[F]:[Ht,{[z]:to,[G]:[{[z]:Ur,[G]:[{[z]:bU,[G]:VX}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[S]:le},{[F]:[RA,FU],rules:[{[F]:ea,rules:[{[F]:mU,rules:[{[F]:[ui,MB],error:"S3 Accelerate cannot be used in this region",[S]:le},{[F]:[ft,ht,$t,Se,en],endpoint:{[ie]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[oe]:dn,[se]:Ee},[S]:Y},{[F]:[ft,ht,$t,Se,Ge,fn],rules:[{endpoint:VB,[S]:Y}],[S]:Q},{[F]:[ft,ht,$t,Se,Ge,hn],endpoint:VB,[S]:Y},{[F]:[Be,ht,$t,Se,en],endpoint:{[ie]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[oe]:dn,[se]:Ee},[S]:Y},{[F]:[Be,ht,$t,Se,Ge,fn],rules:[{endpoint:BB,[S]:Y}],[S]:Q},{[F]:[Be,ht,$t,Se,Ge,hn],endpoint:BB,[S]:Y},{[F]:[ft,Oe,ui,Se,en],endpoint:{[ie]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[oe]:dn,[se]:Ee},[S]:Y},{[F]:[ft,Oe,ui,Se,Ge,fn],rules:[{endpoint:UB,[S]:Y}],[S]:Q},{[F]:[ft,Oe,ui,Se,Ge,hn],endpoint:UB,[S]:Y},{[F]:[ft,Oe,$t,Se,en],endpoint:{[ie]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[oe]:dn,[se]:Ee},[S]:Y},{[F]:[ft,Oe,$t,Se,Ge,fn],rules:[{endpoint:jB,[S]:Y}],[S]:Q},{[F]:[ft,Oe,$t,Se,Ge,hn],endpoint:jB,[S]:Y},{[F]:[Be,Oe,$t,Ht,qn,g_,en],endpoint:{[ie]:xU,[oe]:dn,[se]:Ee},[S]:Y},{[F]:[Be,Oe,$t,Ht,qn,MA,en],endpoint:{[ie]:p_,[oe]:dn,[se]:Ee},[S]:Y},{[F]:[Be,Oe,$t,Ht,qn,g_,Ge,fn],rules:[{[F]:ta,endpoint:NA,[S]:Y},{endpoint:NA,[S]:Y}],[S]:Q},{[F]:[Be,Oe,$t,Ht,qn,MA,Ge,fn],rules:[{[F]:ta,endpoint:XA,[S]:Y},$B],[S]:Q},{[F]:[Be,Oe,$t,Ht,qn,g_,Ge,hn],endpoint:NA,[S]:Y},{[F]:[Be,Oe,$t,Ht,qn,MA,Ge,hn],endpoint:XA,[S]:Y},{[F]:[Be,Oe,ui,Se,en],endpoint:{[ie]:AU,[oe]:dn,[se]:Ee},[S]:Y},{[F]:[Be,Oe,ui,Se,Ge,fn],rules:[{[F]:ta,endpoint:PA,[S]:Y},{endpoint:PA,[S]:Y}],[S]:Q},{[F]:[Be,Oe,ui,Se,Ge,hn],endpoint:PA,[S]:Y},{[F]:[Be,Oe,$t,Se,en],endpoint:{[ie]:IB,[oe]:dn,[se]:Ee},[S]:Y},{[F]:[Be,Oe,$t,Se,Ge,fn],rules:[{[F]:ta,endpoint:{[ie]:IB,[oe]:qt,[se]:Ee},[S]:Y},{endpoint:HB,[S]:Y}],[S]:Q},{[F]:[Be,Oe,$t,Se,Ge,hn],endpoint:HB,[S]:Y}],[S]:Q},f_],[S]:Q}],[S]:Q},{[F]:[Ht,qn,{[z]:yt,[G]:[{[z]:Nt,[G]:[kU,"scheme"]},"http"]},{[z]:CU,[G]:[zn,!0]},RA,Oe,Be,$t],rules:[{[F]:ea,rules:[{[F]:mU,rules:[$B],[S]:Q},f_],[S]:Q}],[S]:Q},{[F]:[RA,{[z]:TU,[G]:BX,[Tt]:DU}],rules:[{[F]:[{[z]:Nt,[G]:[rr,"resourceId[0]"],[Tt]:RU},{[z]:to,[G]:[{[z]:yt,[G]:[LU,v_]}]}],rules:[{[F]:[{[z]:yt,[G]:[kA,rT]}],rules:[{[F]:WA,rules:[{[F]:gU,rules:[qB,zB,{[F]:KA,rules:[GB,{[F]:yU,rules:[OA,{[F]:QA,rules:[{[F]:ea,rules:[{[F]:vU,rules:[{[F]:YA,rules:[{[F]:[{[z]:yt,[G]:[BU,v_]}],error:"Invalid ARN: Missing account id",[S]:le},{[F]:ZA,rules:[{[F]:_U,rules:[{[F]:Dc,endpoint:{[ie]:SB,[oe]:FA,[se]:Ee},[S]:Y},{[F]:Bu,endpoint:{[ie]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[oe]:FA,[se]:Ee},[S]:Y},{endpoint:{[ie]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[oe]:FA,[se]:Ee},[S]:Y}],[S]:Q},WB],[S]:Q},LA],[S]:Q},VA],[S]:Q},BA],[S]:Q}],[S]:Q}],[S]:Q},KB],[S]:Q},{error:"Invalid ARN: bucket ARN is missing a region",[S]:le}],[S]:Q},QB],[S]:Q},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[S]:le}],[S]:Q},{[F]:WA,rules:[{[F]:gU,rules:[{[F]:KA,rules:[{[F]:WA,rules:[{[F]:KA,rules:[GB,{[F]:yU,rules:[OA,{[F]:QA,rules:[{[F]:ea,rules:[{[F]:[{[z]:yt,[G]:[VU,"{partitionResult#name}"]}],rules:[{[F]:YA,rules:[{[F]:[{[z]:yt,[G]:[kA,Uu]}],rules:[{[F]:ZA,rules:[{[F]:_U,rules:[{[F]:h_,error:"Access Points do not support S3 Accelerate",[S]:le},{[F]:[ht,ft],endpoint:{[ie]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[oe]:Rh,[se]:Ee},[S]:Y},{[F]:[ht,Be],endpoint:{[ie]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[oe]:Rh,[se]:Ee},[S]:Y},{[F]:[Oe,ft],endpoint:{[ie]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[oe]:Rh,[se]:Ee},[S]:Y},{[F]:[Oe,Be,Ht,qn],endpoint:{[ie]:SB,[oe]:Rh,[se]:Ee},[S]:Y},{[F]:[Oe,Be],endpoint:{[ie]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[oe]:Rh,[se]:Ee},[S]:Y}],[S]:Q},WB],[S]:Q},LA],[S]:Q},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[S]:le}],[S]:Q},VA],[S]:Q},BA],[S]:Q}],[S]:Q}],[S]:Q},KB],[S]:Q}],[S]:Q}],[S]:Q},{[F]:[{[z]:Rc,[G]:[oT,!0]}],rules:[{[F]:qA,error:"S3 MRAP does not support dual-stack",[S]:le},{[F]:Bu,error:"S3 MRAP does not support FIPS",[S]:le},{[F]:h_,error:"S3 MRAP does not support S3 Accelerate",[S]:le},{[F]:[{[z]:pn,[G]:[{[we]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[S]:le},{[F]:[{[z]:y_,[G]:HA,[Tt]:xB}],rules:[{[F]:[{[z]:yt,[G]:[{[z]:Nt,[G]:[{[we]:xB},Tn]},{[z]:Nt,[G]:[rr,"partition"]}]}],rules:[{endpoint:{[ie]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[oe]:{[di]:[{[Er]:!0,name:nT,[br]:Uu,[tT]:jX}]},[se]:Ee},[S]:Y}],[S]:Q},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[S]:le}],[S]:Q}],[S]:Q},{error:"Invalid Access Point Name",[S]:le}],[S]:Q},QB],[S]:Q},{[F]:[{[z]:yt,[G]:[kA,Mh]}],rules:[{[F]:qA,error:"S3 Outposts does not support Dual-stack",[S]:le},{[F]:Bu,error:"S3 Outposts does not support FIPS",[S]:le},{[F]:h_,error:"S3 Outposts does not support S3 Accelerate",[S]:le},{[F]:[{[z]:Ur,[G]:[{[z]:Nt,[G]:[rr,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[S]:le},{[F]:[{[z]:Nt,[G]:$X,[Tt]:JA}],rules:[{[F]:hU,rules:[OA,{[F]:QA,rules:[{[F]:ea,rules:[{[F]:vU,rules:[{[F]:YA,rules:[{[F]:ZA,rules:[{[F]:[{[z]:Nt,[G]:HX,[Tt]:AB}],rules:[{[F]:[{[z]:Nt,[G]:[rr,"resourceId[3]"],[Tt]:iT}],rules:[{[F]:[{[z]:yt,[G]:[{[we]:AB},MU]}],rules:[{[F]:Dc,endpoint:{[ie]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[oe]:YB,[se]:Ee},[S]:Y},{endpoint:{[ie]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[oe]:YB,[se]:Ee},[S]:Y}],[S]:Q},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[S]:le}],[S]:Q},{error:"Invalid ARN: expected an access point name",[S]:le}],[S]:Q},{error:"Invalid ARN: Expected a 4-component resource",[S]:le}],[S]:Q},LA],[S]:Q},VA],[S]:Q},BA],[S]:Q}],[S]:Q}],[S]:Q},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[S]:le}],[S]:Q},{error:"Invalid ARN: The Outpost Id was not set",[S]:le}],[S]:Q},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[S]:le}],[S]:Q},{error:"Invalid ARN: No ARN type specified",[S]:le}],[S]:Q},{[F]:[{[z]:eo,[G]:[zn,0,4,!1],[Tt]:TB},{[z]:yt,[G]:[{[we]:TB},"arn:"]},{[z]:to,[G]:[{[z]:Ur,[G]:[ZB]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[S]:le},{[F]:[{[z]:pn,[G]:[LX,!0]},ZB],error:"Path-style addressing cannot be used with ARN buckets",[S]:le},{[F]:zA,rules:[{[F]:ea,rules:[{[F]:[$t],rules:[{[F]:[ft,Se,ht,en],endpoint:{[ie]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[oe]:dn,[se]:Ee},[S]:Y},{[F]:[ft,Se,ht,Ge,fn],rules:[{endpoint:JB,[S]:Y}],[S]:Q},{[F]:[ft,Se,ht,Ge,hn],endpoint:JB,[S]:Y},{[F]:[Be,Se,ht,en],endpoint:{[ie]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[oe]:dn,[se]:Ee},[S]:Y},{[F]:[Be,Se,ht,Ge,fn],rules:[{endpoint:XB,[S]:Y}],[S]:Q},{[F]:[Be,Se,ht,Ge,hn],endpoint:XB,[S]:Y},{[F]:[ft,Se,Oe,en],endpoint:{[ie]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[oe]:dn,[se]:Ee},[S]:Y},{[F]:[ft,Se,Oe,Ge,fn],rules:[{endpoint:eU,[S]:Y}],[S]:Q},{[F]:[ft,Se,Oe,Ge,hn],endpoint:eU,[S]:Y},{[F]:[Be,Ht,qn,Oe,en],endpoint:{[ie]:NU,[oe]:dn,[se]:Ee},[S]:Y},{[F]:[Be,Ht,qn,Oe,Ge,fn],rules:[{[F]:ta,endpoint:UA,[S]:Y},{endpoint:UA,[S]:Y}],[S]:Q},{[F]:[Be,Ht,qn,Oe,Ge,hn],endpoint:UA,[S]:Y},{[F]:[Be,Se,Oe,en],endpoint:{[ie]:DB,[oe]:dn,[se]:Ee},[S]:Y},{[F]:[Be,Se,Oe,Ge,fn],rules:[{[F]:ta,endpoint:{[ie]:DB,[oe]:qt,[se]:Ee},[S]:Y},{endpoint:tU,[S]:Y}],[S]:Q},{[F]:[Be,Se,Oe,Ge,hn],endpoint:tU,[S]:Y}],[S]:Q},{error:"Path-style addressing cannot be used with S3 Accelerate",[S]:le}],[S]:Q}],[S]:Q}],[S]:Q},{[F]:[{[z]:Ur,[G]:[nU]},{[z]:pn,[G]:[nU,!0]}],rules:[{[F]:ea,rules:[{[F]:wU,rules:[qB,zB,{[F]:Dc,endpoint:{[ie]:m_,[oe]:jA,[se]:Ee},[S]:Y},{[F]:Bu,endpoint:{[ie]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[oe]:jA,[se]:Ee},[S]:Y},{endpoint:{[ie]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[oe]:jA,[se]:Ee},[S]:Y}],[S]:Q},f_],[S]:Q}],[S]:Q},{[F]:[OB],rules:[{[F]:ea,rules:[{[F]:wU,rules:[{[F]:[ht,ft,Se,en],endpoint:{[ie]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[oe]:dn,[se]:Ee},[S]:Y},{[F]:[ht,ft,Se,Ge,fn],rules:[{endpoint:rU,[S]:Y}],[S]:Q},{[F]:[ht,ft,Se,Ge,hn],endpoint:rU,[S]:Y},{[F]:[ht,Be,Se,en],endpoint:{[ie]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[oe]:dn,[se]:Ee},[S]:Y},{[F]:[ht,Be,Se,Ge,fn],rules:[{endpoint:iU,[S]:Y}],[S]:Q},{[F]:[ht,Be,Se,Ge,hn],endpoint:iU,[S]:Y},{[F]:[Oe,ft,Se,en],endpoint:{[ie]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[oe]:dn,[se]:Ee},[S]:Y},{[F]:[Oe,ft,Se,Ge,fn],rules:[{endpoint:oU,[S]:Y}],[S]:Q},{[F]:[Oe,ft,Se,Ge,hn],endpoint:oU,[S]:Y},{[F]:[Oe,Be,Ht,qn,en],endpoint:{[ie]:m_,[oe]:dn,[se]:Ee},[S]:Y},{[F]:[Oe,Be,Ht,qn,Ge,fn],rules:[{[F]:ta,endpoint:$A,[S]:Y},{endpoint:$A,[S]:Y}],[S]:Q},{[F]:[Oe,Be,Ht,qn,Ge,hn],endpoint:$A,[S]:Y},{[F]:[Oe,Be,Se,en],endpoint:{[ie]:RB,[oe]:dn,[se]:Ee},[S]:Y},{[F]:[Oe,Be,Se,Ge,fn],rules:[{[F]:ta,endpoint:{[ie]:RB,[oe]:qt,[se]:Ee},[S]:Y},{endpoint:sU,[S]:Y}],[S]:Q},{[F]:[Oe,Be,Se,Ge,hn],endpoint:sU,[S]:Y}],[S]:Q},f_],[S]:Q}],[S]:Q}],[S]:Q},{error:"A region must be set when sending requests to S3.",[S]:le}]},UU=qX;var zX=new qv({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),E_=(t,e={})=>zX.get(t,()=>pA(UU,{endpointParams:t,logger:e.logger}));Ac.aws=gA;var GX=t=>(e,n,r)=>_(void 0,null,function*(){if(!r)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let i=yield t(e,n,r),o=ci(n)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!o)throw new Error(`getEndpointParameterInstructions() is not defined on \`${n.commandName}\``);let s=yield EA(r,{getEndpointParameterInstructions:o},e);return Object.assign(i,s)}),WX=(t,e,n)=>_(void 0,null,function*(){return{operation:ci(e).operation,region:(yield vn(t.region)())||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}}),jU=GX(WX);function $U(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}function HU(t){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}var KX=(t,e,n)=>i=>{let s=t(i).properties?.authSchemes;if(!s)return e(i);let a=[];for(let u of s){let c=u,{name:f,properties:h={}}=c,y=Ea(c,["name","properties"]),w=f.toLowerCase();f!==w&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${f}\` to \`${w}\``);let b;if(w==="sigv4a"){b="aws.auth#sigv4a";let j=s.find(K=>{let ee=K.name.toLowerCase();return ee!=="sigv4a"&&ee.startsWith("sigv4")});if(!l_.CrtSignerV4&&j)continue}else if(w.startsWith("sigv4"))b="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${w}\``);let L=n[b];if(!L)throw new Error(`Could not find HttpAuthOption create function for \`${b}\``);let M=L(i);M.schemeId=b,M.signingProperties=I(I(I({},M.signingProperties||{}),y),h),a.push(M)}return a},QX=t=>{let e=[];switch(t.operation){default:e.push($U(t)),e.push(HU(t))}return e},qU=KX(E_,QX,{"aws.auth#sigv4":$U,"aws.auth#sigv4a":HU}),zU=t=>{let e=N2(t),n=d2(e);return I({},n)};var GU=t=>q(I({},t),{useFipsEndpoint:t.useFipsEndpoint??!1,useDualstackEndpoint:t.useDualstackEndpoint??!1,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),b_={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var Gn=class t extends Lv{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};var C_=class t extends Gn{constructor(e){super(I({name:"NoSuchUpload",$fault:"client"},e)),this.name="NoSuchUpload",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var I_=class t extends Gn{constructor(e){super(I({name:"ObjectNotInActiveTierError",$fault:"client"},e)),this.name="ObjectNotInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}},S_=class t extends Gn{constructor(e){super(I({name:"BucketAlreadyExists",$fault:"client"},e)),this.name="BucketAlreadyExists",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}},x_=class t extends Gn{constructor(e){super(I({name:"BucketAlreadyOwnedByYou",$fault:"client"},e)),this.name="BucketAlreadyOwnedByYou",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var A_=class t extends Gn{constructor(e){super(I({name:"NoSuchBucket",$fault:"client"},e)),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var T_=class t extends Gn{constructor(e){super(I({name:"InvalidObjectState",$fault:"client"},e)),this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,t.prototype),this.StorageClass=e.StorageClass,this.AccessTier=e.AccessTier}},D_=class t extends Gn{constructor(e){super(I({name:"NoSuchKey",$fault:"client"},e)),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var R_=class t extends Gn{constructor(e){super(I({name:"NotFound",$fault:"client"},e)),this.name="NotFound",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var YX=t=>I(I(I({},t),t.SecretAccessKey&&{SecretAccessKey:wr}),t.SessionToken&&{SessionToken:wr}),WU=t=>I(I(I(I({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:wr}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:wr}),t.Credentials&&{Credentials:YX(t.Credentials)}),KU=t=>I(I(I({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:wr}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:wr});var M_=class t extends Gn{constructor(e){super(I({name:"ObjectAlreadyInActiveTierError",$fault:"client"},e)),this.name="ObjectAlreadyInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var QU=t=>I(I(I({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:wr}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:wr}),YU=t=>I(I(I(I({},t),t.SSECustomerKey&&{SSECustomerKey:wr}),t.SSEKMSKeyId&&{SSEKMSKeyId:wr}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:wr});var e3=(t,e)=>_(void 0,null,function*(){let n=xv(t,e),r=_n({},Qs,{[zee]:t[Tee],[L_]:t[k_],[V_]:t[F_],[B_]:t[O_],[$u]:[()=>Qs(t[ju]),()=>t[ju].toString()]});n.bp("/"),n.p("Bucket",()=>t.Bucket,"{Bucket}",!1);let i=_n({[Hee]:[,""]});return n.m("GET").h(r).q(i).b(void 0),n.build()});var t3=(t,e)=>_(void 0,null,function*(){let n=xv(t,e),r=_n({},Qs,I({[Bee]:t[gee]||"application/octet-stream",[qee]:t[lee],[Pee]:t[dee],[kee]:t[fee],[Oee]:t[hee],[Fee]:t[pee],[Lee]:[()=>Qs(t[ZU]),()=>t[ZU].toString()],[Vee]:t[mee],[ite]:t[uee],[d3]:t[o3],[f3]:t[s3],[h3]:t[a3],[p3]:t[c3],[Uee]:[()=>Qs(t[JU]),()=>G2(t[JU]).toString()],[$ee]:t[Cee],[Kee]:t[_ee],[Qee]:t[wee],[Yee]:t[Eee],[Zee]:t[bee],[L_]:t[k_],[rte]:t[P_],[cte]:t[Nee],[m3]:t[l3],[ote]:t[Dee],[g3]:t[u3],[V_]:t[F_],[B_]:t[O_],[$u]:[()=>Qs(t[ju]),()=>t[ju].toString()],[nte]:t[Aee],[ste]:t[Ree],[Xee]:t[See],[ete]:[()=>Qs(t[XU]),()=>rL(t[XU]).toString()],[Jee]:t[Iee],[Wee]:t[yee]},t.Metadata!==void 0&&Object.keys(t.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=t.Metadata[c],a),{})));n.bp("/{Key+}"),n.p("Bucket",()=>t.Bucket,"{Bucket}",!1),n.p("Key",()=>t.Key,"{Key+}",!0);let i=_n({[lte]:[,"PutObject"]}),o,s;return t.Body!==void 0&&(s=t.Body,o=s),n.m("PUT").h(r).q(i).b(o),n.build()});var n3=(t,e)=>_(void 0,null,function*(){if(t.statusCode!==200&&t.statusCode>=300)return i3(t,e);let n=_n({$metadata:fi(t),[k_]:[,t.headers[L_]],[F_]:[,t.headers[V_]],[O_]:[,t.headers[B_]],[ju]:[()=>t.headers[$u]!==void 0,()=>Hx(t.headers[$u])]}),r=qx(B2(yield nA(t.body,e)),"body");return r[cT]!=null&&(n[cT]=cee(r[cT],e)),n});var r3=(t,e)=>_(void 0,null,function*(){if(t.statusCode!==200&&t.statusCode>=300)return i3(t,e);let n=_n({$metadata:fi(t),[N_]:[,t.headers[Gee]],[vee]:[,t.headers[jee]],[o3]:[,t.headers[d3]],[s3]:[,t.headers[f3]],[a3]:[,t.headers[h3]],[c3]:[,t.headers[p3]],[k_]:[,t.headers[L_]],[Mee]:[,t.headers[ate]],[l3]:[,t.headers[m3]],[u3]:[,t.headers[g3]],[F_]:[,t.headers[V_]],[O_]:[,t.headers[B_]],[ju]:[()=>t.headers[$u]!==void 0,()=>Hx(t.headers[$u])],[xee]:[,t.headers[tte]]});return yield mh(t.body,e),n});var i3=(t,e)=>_(void 0,null,function*(){let n=q(I({},t),{body:yield VL(t.body,e)}),r=BL(t,n.body);switch(r){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw yield iee(n,e);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw yield aee(n,e);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw yield XX(n,e);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw yield eee(n,e);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw yield nee(n,e);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw yield tee(n,e);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw yield ree(n,e);case"NotFound":case"com.amazonaws.s3#NotFound":throw yield oee(n,e);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw yield see(n,e);default:let i=n.body;return JX({output:t,parsedBody:i,errorCode:r})}}),JX=Q2(Gn),XX=(t,e)=>_(void 0,null,function*(){let n=_n({}),r=t.body,i=new S_(I({$metadata:fi(t)},n));return Vr(i,t.body)}),eee=(t,e)=>_(void 0,null,function*(){let n=_n({}),r=t.body,i=new x_(I({$metadata:fi(t)},n));return Vr(i,t.body)}),tee=(t,e)=>_(void 0,null,function*(){let n=_n({}),r=t.body;r[aT]!=null&&(n[aT]=Ru(r[aT])),r[P_]!=null&&(n[P_]=Ru(r[P_]));let i=new T_(I({$metadata:fi(t)},n));return Vr(i,t.body)}),nee=(t,e)=>_(void 0,null,function*(){let n=_n({}),r=t.body,i=new A_(I({$metadata:fi(t)},n));return Vr(i,t.body)}),ree=(t,e)=>_(void 0,null,function*(){let n=_n({}),r=t.body,i=new D_(I({$metadata:fi(t)},n));return Vr(i,t.body)}),iee=(t,e)=>_(void 0,null,function*(){let n=_n({}),r=t.body,i=new C_(I({$metadata:fi(t)},n));return Vr(i,t.body)}),oee=(t,e)=>_(void 0,null,function*(){let n=_n({}),r=t.body,i=new R_(I({$metadata:fi(t)},n));return Vr(i,t.body)}),see=(t,e)=>_(void 0,null,function*(){let n=_n({}),r=t.body,i=new M_(I({$metadata:fi(t)},n));return Vr(i,t.body)}),aee=(t,e)=>_(void 0,null,function*(){let n=_n({}),r=t.body,i=new I_(I({$metadata:fi(t)},n));return Vr(i,t.body)});var cee=(t,e)=>{let n={};return t[sT]!=null&&(n[sT]=Ru(t[sT])),t[lT]!=null&&(n[lT]=Ru(t[lT])),t[uT]!=null&&(n[uT]=Ru(t[uT])),t[N_]!=null&&(n[N_]=qx(W2(t[N_]))),n};var fi=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]});var lee="ACL";var sT="AccessKeyId";var aT="AccessTier";var ju="BucketKeyEnabled";var cT="Credentials",uee="ChecksumAlgorithm";var dee="CacheControl",o3="ChecksumCRC32",s3="ChecksumCRC32C",fee="ContentDisposition";var hee="ContentEncoding";var pee="ContentLanguage",ZU="ContentLength";var mee="ContentMD5";var a3="ChecksumSHA1",c3="ChecksumSHA256";var gee="ContentType";var JU="Expires";var yee="ExpectedBucketOwner";var vee="ETag";var N_="Expiration";var _ee="GrantFullControl";var wee="GrantRead",Eee="GrantReadACP";var bee="GrantWriteACP";var Cee="IfNoneMatch";var Iee="ObjectLockLegalHoldStatus",See="ObjectLockMode";var XU="ObjectLockRetainUntilDate";var xee="RequestCharged";var Aee="RequestPayer";var lT="SecretAccessKey";var P_="StorageClass";var Tee="SessionMode";var k_="ServerSideEncryption";var l3="SSECustomerAlgorithm",Dee="SSECustomerKey",u3="SSECustomerKeyMD5";var O_="SSEKMSEncryptionContext",F_="SSEKMSKeyId";var uT="SessionToken";var Ree="Tagging";var Mee="VersionId";var Nee="WebsiteRedirectLocation";var Pee="cache-control",kee="content-disposition",Oee="content-encoding",Fee="content-language",Lee="content-length",Vee="content-md5";var Bee="content-type";var Uee="expires";var jee="etag";var $ee="if-none-match";var Hee="session";var qee="x-amz-acl";var d3="x-amz-checksum-crc32",f3="x-amz-checksum-crc32c";var h3="x-amz-checksum-sha1",p3="x-amz-checksum-sha256";var zee="x-amz-create-session-mode";var Gee="x-amz-expiration",Wee="x-amz-expected-bucket-owner";var Kee="x-amz-grant-full-control",Qee="x-amz-grant-read",Yee="x-amz-grant-read-acp";var Zee="x-amz-grant-write-acp";var Jee="x-amz-object-lock-legal-hold",Xee="x-amz-object-lock-mode",ete="x-amz-object-lock-retain-until-date";var tte="x-amz-request-charged";var nte="x-amz-request-payer";var rte="x-amz-storage-class",ite="x-amz-sdk-checksum-algorithm";var L_="x-amz-server-side-encryption",V_="x-amz-server-side-encryption-aws-kms-key-id",$u="x-amz-server-side-encryption-bucket-key-enabled",B_="x-amz-server-side-encryption-context",m3="x-amz-server-side-encryption-customer-algorithm",ote="x-amz-server-side-encryption-customer-key",g3="x-amz-server-side-encryption-customer-key-md5",ste="x-amz-tagging";var ate="x-amz-version-id",cte="x-amz-website-redirect-location",lte="x-id";var U_=class extends Cc.classBuilder().ep(q(I({},b_),{DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}})).m(function(e,n,r,i){return[bv(r,this.serialize,this.deserialize),n_(r,e.getEndpointParameterInstructions()),Hv(r)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(KU,WU).ser(e3).de(n3).build(){};var y3={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.679.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"vitest run","test:watch":"vitest watch","test:e2e":"vitest run -c vitest.config.e2e.ts && yarn test:browser","test:e2e:watch":"vitest watch -c vitest.config.e2e.ts","test:browser":"node ./test/browser-build/esbuild && vitest run -c vitest.config.browser.ts","test:browser:watch":"node ./test/browser-build/esbuild && vitest watch -c vitest.config.browser.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.679.0","@aws-sdk/client-sts":"3.679.0","@aws-sdk/core":"3.679.0","@aws-sdk/credential-provider-node":"3.679.0","@aws-sdk/middleware-bucket-endpoint":"3.679.0","@aws-sdk/middleware-expect-continue":"3.679.0","@aws-sdk/middleware-flexible-checksums":"3.679.0","@aws-sdk/middleware-host-header":"3.679.0","@aws-sdk/middleware-location-constraint":"3.679.0","@aws-sdk/middleware-logger":"3.679.0","@aws-sdk/middleware-recursion-detection":"3.679.0","@aws-sdk/middleware-sdk-s3":"3.679.0","@aws-sdk/middleware-ssec":"3.679.0","@aws-sdk/middleware-user-agent":"3.679.0","@aws-sdk/region-config-resolver":"3.679.0","@aws-sdk/signature-v4-multi-region":"3.679.0","@aws-sdk/types":"3.679.0","@aws-sdk/util-endpoints":"3.679.0","@aws-sdk/util-user-agent-browser":"3.679.0","@aws-sdk/util-user-agent-node":"3.679.0","@aws-sdk/xml-builder":"3.679.0","@smithy/config-resolver":"^3.0.9","@smithy/core":"^2.4.8","@smithy/eventstream-serde-browser":"^3.0.10","@smithy/eventstream-serde-config-resolver":"^3.0.7","@smithy/eventstream-serde-node":"^3.0.9","@smithy/fetch-http-handler":"^3.2.9","@smithy/hash-blob-browser":"^3.1.6","@smithy/hash-node":"^3.0.7","@smithy/hash-stream-node":"^3.1.6","@smithy/invalid-dependency":"^3.0.7","@smithy/md5-js":"^3.0.7","@smithy/middleware-content-length":"^3.0.9","@smithy/middleware-endpoint":"^3.1.4","@smithy/middleware-retry":"^3.0.23","@smithy/middleware-serde":"^3.0.7","@smithy/middleware-stack":"^3.0.7","@smithy/node-config-provider":"^3.1.8","@smithy/node-http-handler":"^3.2.4","@smithy/protocol-http":"^4.1.4","@smithy/smithy-client":"^3.4.0","@smithy/types":"^3.5.0","@smithy/url-parser":"^3.0.7","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.23","@smithy/util-defaults-mode-node":"^3.0.23","@smithy/util-endpoints":"^2.1.3","@smithy/util-middleware":"^3.0.7","@smithy/util-retry":"^3.0.7","@smithy/util-stream":"^3.1.9","@smithy/util-utf8":"^3.0.0","@smithy/util-waiter":"^3.1.6",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/signature-v4-crt":"3.679.0","@tsconfig/node16":"16.1.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};var dT=t=>new TextEncoder().encode(t);function fT(t){return typeof t=="string"?t.length===0:t.byteLength===0}var hT={name:"SHA-1"},pT={name:"HMAC",hash:hT},v3=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);var dte={};function jr(){return typeof window<"u"?window:typeof self<"u"?self:dte}var mT=function(){function t(e){this.toHash=new Uint8Array(0),e!==void 0&&(this.key=new Promise(function(n,r){jr().crypto.subtle.importKey("raw",_3(e),pT,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))}return t.prototype.update=function(e){if(!fT(e)){var n=_3(e),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(n){return jr().crypto.subtle.sign(pT,n,e.toHash).then(function(r){return new Uint8Array(r)})}):fT(this.toHash)?Promise.resolve(v3):Promise.resolve().then(function(){return jr().crypto.subtle.digest(hT,e.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},t.prototype.reset=function(){this.toHash=new Uint8Array(0)},t}();function _3(t){return typeof t=="string"?dT(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var fte=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function j_(t){if(hte(t)&&typeof t.crypto.subtle=="object"){var e=t.crypto.subtle;return pte(e)}return!1}function hte(t){if(typeof t=="object"&&typeof t.crypto=="object"){var e=t.crypto.getRandomValues;return typeof e=="function"}return!1}function pte(t){return t&&fte.every(function(e){return typeof t[e]=="function"})}var w3=function(){function t(e){if(j_(jr()))this.hash=new mT(e);else throw new Error("SHA1 not supported")}return t.prototype.update=function(e,n){this.hash.update(Hn(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();var gT={name:"SHA-256"},yT={name:"HMAC",hash:gT},E3=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);var vT=function(){function t(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return t.prototype.update=function(e){if(!Ji(e)){var n=Hn(e),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(n){return jr().crypto.subtle.sign(yT,n,e.toHash).then(function(r){return new Uint8Array(r)})}):Ji(this.toHash)?Promise.resolve(E3):Promise.resolve().then(function(){return jr().crypto.subtle.digest(gT,e.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},t.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(n,r){jr().crypto.subtle.importKey("raw",Hn(e.secret),yT,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))},t}();var ir=64,b3=32,C3=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),I3=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],S3=Math.pow(2,53)-1;var Nh=function(){function t(){this.state=Int32Array.from(I3),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,r=e.byteLength;if(this.bytesHashed+=r,this.bytesHashed*8>S3)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=e[n++],r--,this.bufferLength===ir&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(n.setUint8(this.bufferLength++,128),r%ir>=ir-8){for(var i=this.bufferLength;i<ir;i++)n.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<ir-8;i++)n.setUint8(i,0);n.setUint32(ir-8,Math.floor(e/4294967296),!0),n.setUint32(ir-4,e),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(b3),i=0;i<8;i++)o[i*4]=this.state[i]>>>24&255,o[i*4+1]=this.state[i]>>>16&255,o[i*4+2]=this.state[i]>>>8&255,o[i*4+3]=this.state[i]>>>0&255;return o},t.prototype.hashBuffer=function(){for(var e=this,n=e.buffer,r=e.state,i=r[0],o=r[1],s=r[2],a=r[3],c=r[4],u=r[5],f=r[6],h=r[7],y=0;y<ir;y++){if(y<16)this.temp[y]=(n[y*4]&255)<<24|(n[y*4+1]&255)<<16|(n[y*4+2]&255)<<8|n[y*4+3]&255;else{var w=this.temp[y-2],b=(w>>>17|w<<15)^(w>>>19|w<<13)^w>>>10;w=this.temp[y-15];var L=(w>>>7|w<<25)^(w>>>18|w<<14)^w>>>3;this.temp[y]=(b+this.temp[y-7]|0)+(L+this.temp[y-16]|0)}var M=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&u^~c&f)|0)+(h+(C3[y]+this.temp[y]|0)|0)|0,j=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&o^i&s^o&s)|0;h=f,f=u,u=c,c=a+M|0,a=s,s=o,o=i,i=M+j|0}r[0]+=i,r[1]+=o,r[2]+=s,r[3]+=a,r[4]+=c,r[5]+=u,r[6]+=f,r[7]+=h},t}();var x3=function(){function t(e){this.secret=e,this.hash=new Nh,this.reset()}return t.prototype.update=function(e){if(!(Ji(e)||this.error))try{this.hash.update(Hn(e))}catch(n){this.error=n}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return ls(this,void 0,void 0,function(){return rl(this,function(e){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new Nh,this.secret){this.outer=new Nh;var e=mte(this.secret),n=new Uint8Array(ir);n.set(e);for(var r=0;r<ir;r++)e[r]^=54,n[r]^=92;this.hash.update(e),this.outer.update(n);for(var r=0;r<e.byteLength;r++)e[r]=0}},t}();function mte(t){var e=Hn(t);if(e.byteLength>ir){var n=new Nh;n.update(e),e=n.digest()}var r=new Uint8Array(ir);return r.set(e),r}var A3=function(){function t(e){j_(jr())?this.hash=new vT(e):this.hash=new x3(e)}return t.prototype.update=function(e,n){this.hash.update(Hn(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();var T3=ba(wT());var D3=({serviceId:t,clientVersion:e})=>n=>_(void 0,null,function*(){let r=typeof window<"u"&&window?.navigator?.userAgent?T3.default.parse(window.navigator.userAgent):void 0,i=[["aws-sdk-js",e],["ua","2.1"],[`os/${r?.os?.name||"other"}`,r?.os?.version],["lang/js"],["md/browser",`${r?.browser?.name??"unknown"}_${r?.browser?.version??"unknown"}`]];t&&i.push([`api/${t}`,e]);let o=yield n?.userAgentAppId?.();return o&&i.push([`app/${o}`]),i});var Hu=class t{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let n=new Uint8Array(8);for(let r=7,i=Math.abs(Math.round(e));r>-1&&i>0;r--,i/=256)n[r]=i;return e<0&&R3(n),new t(n)}valueOf(){let e=this.bytes.slice(0),n=e[0]&128;return n&&R3(e),parseInt(Rt(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function R3(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var $_=class{constructor(e,n){this.toUtf8=e,this.fromUtf8=n}format(e){let n=[];for(let o of Object.keys(e)){let s=this.fromUtf8(o);n.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let r=new Uint8Array(n.reduce((o,s)=>o+s.byteLength,0)),i=0;for(let o of n)r.set(o,i),i+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let a=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(Hu.fromNumber(e.value.valueOf()).bytes,1),f;case"uuid":if(!Ite.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let h=new Uint8Array(17);return h[0]=9,h.set(Cv(e.value.replace(/\-/g,"")),1),h}}parse(e){let n={},r=0;for(;r<e.byteLength;){let i=e.getUint8(r++),o=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,i));switch(r+=i,e.getUint8(r++)){case 0:n[o]={type:M3,value:!0};break;case 1:n[o]={type:M3,value:!1};break;case 2:n[o]={type:gte,value:e.getInt8(r++)};break;case 3:n[o]={type:yte,value:e.getInt16(r,!1)},r+=2;break;case 4:n[o]={type:vte,value:e.getInt32(r,!1)},r+=4;break;case 5:n[o]={type:_te,value:new Hu(new Uint8Array(e.buffer,e.byteOffset+r,8))},r+=8;break;case 6:let s=e.getUint16(r,!1);r+=2,n[o]={type:wte,value:new Uint8Array(e.buffer,e.byteOffset+r,s)},r+=s;break;case 7:let a=e.getUint16(r,!1);r+=2,n[o]={type:Ete,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,a))},r+=a;break;case 8:n[o]={type:bte,value:new Date(new Hu(new Uint8Array(e.buffer,e.byteOffset+r,8)).valueOf())},r+=8;break;case 9:let c=new Uint8Array(e.buffer,e.byteOffset+r,16);r+=16,n[o]={type:Cte,value:`${Rt(c.subarray(0,4))}-${Rt(c.subarray(4,6))}-${Rt(c.subarray(6,8))}-${Rt(c.subarray(8,10))}-${Rt(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return n}};var M3="boolean",gte="byte",yte="short",vte="integer",_te="long",wte="binary",Ete="string",bte="timestamp",Cte="uuid",Ite=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var N3=4,na=N3*2,Mc=4,Ste=na+Mc*2;function P3({byteLength:t,byteOffset:e,buffer:n}){if(t<Ste)throw new Error("Provided message too short to accommodate event stream message overhead");let r=new DataView(n,e,t),i=r.getUint32(0,!1);if(t!==i)throw new Error("Reported message length does not match received message length");let o=r.getUint32(N3,!1),s=r.getUint32(na,!1),a=r.getUint32(t-Mc,!1),c=new Sc().update(new Uint8Array(n,e,na));if(s!==c.digest())throw new Error(`The prelude checksum specified in the message (${s}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(n,e+na,t-(na+Mc))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(n,e+na+Mc,o),body:new Uint8Array(n,e+na+Mc+o,i-o-(na+Mc+Mc))}}var H_=class{constructor(e,n){this.headerMarshaller=new $_(e,n),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){let e=this.messageBuffer.pop(),n=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return n}}}getAvailableMessages(){let e=this.messageBuffer;this.messageBuffer=[];let n=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return n}}}encode({headers:e,body:n}){let r=this.headerMarshaller.format(e),i=r.byteLength+n.byteLength+16,o=new Uint8Array(i),s=new DataView(o.buffer,o.byteOffset,o.byteLength),a=new Sc;return s.setUint32(0,i,!1),s.setUint32(4,r.byteLength,!1),s.setUint32(8,a.update(o.subarray(0,8)).digest(),!1),o.set(r,12),o.set(n,r.byteLength+12),s.setUint32(i-4,a.update(o.subarray(8,i-4)).digest(),!1),o}decode(e){let{headers:n,body:r}=P3(e);return{headers:this.headerMarshaller.parse(n),body:r}}formatHeaders(e){return this.headerMarshaller.format(e)}};var q_=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return Yn(this,null,function*(){try{for(var e=oo(this.options.inputStream),n,r,i;n=!(r=yield new Ft(e.next())).done;n=!1){let o=r.value;yield this.options.decoder.decode(o)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new Ft(r.call(e)))}finally{if(i)throw i[0]}}})}};var z_=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return Yn(this,null,function*(){try{for(var e=oo(this.options.messageStream),n,r,i;n=!(r=yield new Ft(e.next())).done;n=!1){let o=r.value;yield this.options.encoder.encode(o)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new Ft(r.call(e)))}finally{if(i)throw i[0]}}this.options.includeEndFrame&&(yield new Uint8Array(0))})}};var G_=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return Yn(this,null,function*(){try{for(var e=oo(this.options.messageStream),n,r,i;n=!(r=yield new Ft(e.next())).done;n=!1){let o=r.value;let s=yield new Ft(this.options.deserializer(o));s!==void 0&&(yield s)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new Ft(r.call(e)))}finally{if(i)throw i[0]}}})}};var W_=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return Yn(this,null,function*(){try{for(var e=oo(this.options.inputStream),n,r,i;n=!(r=yield new Ft(e.next())).done;n=!1){let o=r.value;yield this.options.serializer(o)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new Ft(r.call(e)))}finally{if(i)throw i[0]}}})}};function k3(t){let e=0,n=0,r=null,i=null,o=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);e=a,n=4,r=new Uint8Array(a),new DataView(r.buffer).setUint32(0,a,!1)},s=function(){return Yn(this,null,function*(){let a=t[Symbol.asyncIterator]();for(;;){let{value:c,done:u}=yield new Ft(a.next());if(u){if(e)if(e===n)yield r;else throw new Error("Truncated event message received.");else return;return}let f=c.length,h=0;for(;h<f;){if(!r){let w=f-h;i||(i=new Uint8Array(4));let b=Math.min(4-n,w);if(i.set(c.slice(h,h+b),n),n+=b,h+=b,n<4)break;o(new DataView(i.buffer).getUint32(0,!1)),i=null}let y=Math.min(e-n,f-h);r.set(c.slice(h,h+y),n),n+=y,h+=y,e&&e===n&&(yield r,r=null,e=0,n=0)}}})};return{[Symbol.asyncIterator]:s}}function O3(t,e){return function(n){return _(this,null,function*(){let{value:r}=n.headers[":message-type"];if(r==="error"){let i=new Error(n.headers[":error-message"].value||"UnknownError");throw i.name=n.headers[":error-code"].value,i}else if(r==="exception"){let i=n.headers[":exception-type"].value,o={[i]:n},s=yield t(o);if(s.$unknown){let a=new Error(e(n.body));throw a.name=i,a}throw s[i]}else if(r==="event"){let i={[n.headers[":event-type"].value]:n},o=yield t(i);return o.$unknown?void 0:o}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)})}}var kh=class{constructor({utf8Encoder:e,utf8Decoder:n}){this.eventStreamCodec=new H_(e,n),this.utfEncoder=e}deserialize(e,n){let r=k3(e);return new G_({messageStream:new q_({inputStream:r,decoder:this.eventStreamCodec}),deserializer:O3(n,this.utfEncoder)})}serialize(e,n){return new z_({messageStream:new W_({inputStream:e,serializer:n}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};var F3=t=>({[Symbol.asyncIterator]:function(){return Yn(this,null,function*(){let e=t.getReader();try{for(;;){let{done:n,value:r}=yield new Ft(e.read());if(n)return;yield r}}finally{e.releaseLock()}})}}),L3=t=>{let e=t[Symbol.asyncIterator]();return new ReadableStream({pull(r){return _(this,null,function*(){let{done:i,value:o}=yield e.next();if(i)return r.close();r.enqueue(o)})}})};var K_=class{constructor({utf8Encoder:e,utf8Decoder:n}){this.universalMarshaller=new kh({utf8Decoder:n,utf8Encoder:e})}deserialize(e,n){let r=xte(e)?F3(e):e;return this.universalMarshaller.deserialize(r,n)}serialize(e,n){let r=this.universalMarshaller.serialize(e,n);return typeof ReadableStream=="function"?L3(r):r}},xte=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream;var V3=t=>new K_(t);function B3(t=0){return new Promise((e,n)=>{t&&setTimeout(()=>{let r=new Error(`Request did not complete within ${t} ms`);r.name="TimeoutError",n(r)},t)})}var ET={supported:void 0},Q_=class t{static create(e){return typeof e?.handle=="function"?e:new t(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(n=>n||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),ET.supported===void 0&&(ET.supported=typeof Request<"u"&&"keepalive"in new Request("https://[::1]"))}destroy(){}handle(r){return _(this,arguments,function*(e,{abortSignal:n}={}){this.config||(this.config=yield this.configProvider);let i=this.config.requestTimeout,o=this.config.keepAlive===!0,s=this.config.credentials;if(n?.aborted){let K=new Error("Request aborted");return K.name="AbortError",Promise.reject(K)}let a=e.path,c=xx(e.query||{});c&&(a+=`?${c}`),e.fragment&&(a+=`#${e.fragment}`);let u="";if(e.username!=null||e.password!=null){let K=e.username??"",ee=e.password??"";u=`${K}:${ee}@`}let{port:f,method:h}=e,y=`${e.protocol}//${u}${e.hostname}${f?`:${f}`:""}${a}`,w=h==="GET"||h==="HEAD"?void 0:e.body,b={body:w,headers:new Headers(e.headers),method:h,credentials:s};this.config?.cache&&(b.cache=this.config.cache),w&&(b.duplex="half"),typeof AbortController<"u"&&(b.signal=n),ET.supported&&(b.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(b,this.config.requestInit(e));let L=()=>{},M=new Request(y,b),j=[fetch(M).then(K=>{let ee=K.headers,ce={};for(let de of ee.entries())ce[de[0]]=de[1];return K.body!=null?{response:new nr({headers:ce,reason:K.statusText,statusCode:K.status,body:K.body})}:K.blob().then(de=>({response:new nr({headers:ce,reason:K.statusText,statusCode:K.status,body:de})}))}),B3(i)];return n&&j.push(new Promise((K,ee)=>{let ce=()=>{let xe=new Error("Request aborted");xe.name="AbortError",ee(xe)};if(typeof n.addEventListener=="function"){let xe=n;xe.addEventListener("abort",ce,{once:!0}),L=()=>xe.removeEventListener("abort",ce)}else n.onabort=ce})),Promise.race(j).finally(L)})}updateHttpClientConfig(e,n){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[e]=n,r))}httpHandlerConfigs(){return this.config??{}}};var U3=t=>typeof Blob=="function"&&t instanceof Blob?Ate(t):Tte(t);function Ate(t){return _(this,null,function*(){let e=yield Dte(t),n=Au(e);return new Uint8Array(n)})}function Tte(t){return _(this,null,function*(){let e=[],n=t.getReader(),r=!1,i=0;for(;!r;){let{done:a,value:c}=yield n.read();c&&(e.push(c),i+=c.length),r=a}let o=new Uint8Array(i),s=0;for(let a of e)o.set(a,s),s+=a.length;return o})}function Dte(t){return new Promise((e,n)=>{let r=new FileReader;r.onloadend=()=>{if(r.readyState!==2)return n(new Error("Reader aborted too early"));let i=r.result??"",o=i.indexOf(","),s=o>-1?o+1:i.length;e(i.substring(s))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(t)})}function j3(r,i){return _(this,arguments,function*(t,e,n=1024*1024){let o=t.size,s=0;for(;s<o;){let a=t.slice(s,Math.min(o,s+n));e(new Uint8Array(yield a.arrayBuffer())),s+=a.size}})}var $3=function(e,n){return _(this,null,function*(){let r=new e;return yield j3(n,i=>{r.update(i)}),r.digest()})};var H3=t=>()=>Promise.reject(t);var q3=[1732584193,4023233417,2562383102,271733878];var Y_=class{constructor(){this.reset()}update(e){if(Mte(e))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");let n=Nte(e),r=0,{byteLength:i}=n;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,n[r++]),i--,this.bufferLength===64&&(this.hashBuffer(),this.bufferLength=0)}digest(){return _(this,null,function*(){if(!this.finished){let{buffer:n,bufferLength:r,bytesHashed:i}=this,o=i*8;if(n.setUint8(this.bufferLength++,128),r%64>=56){for(let s=this.bufferLength;s<64;s++)n.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(let s=this.bufferLength;s<56;s++)n.setUint8(s,0);n.setUint32(56,o>>>0,!0),n.setUint32(60,Math.floor(o/4294967296),!0),this.hashBuffer(),this.finished=!0}let e=new DataView(new ArrayBuffer(16));for(let n=0;n<4;n++)e.setUint32(n*4,this.state[n],!0);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)})}hashBuffer(){let{buffer:e,state:n}=this,r=n[0],i=n[1],o=n[2],s=n[3];r=Dn(r,i,o,s,e.getUint32(0,!0),7,3614090360),s=Dn(s,r,i,o,e.getUint32(4,!0),12,3905402710),o=Dn(o,s,r,i,e.getUint32(8,!0),17,606105819),i=Dn(i,o,s,r,e.getUint32(12,!0),22,3250441966),r=Dn(r,i,o,s,e.getUint32(16,!0),7,4118548399),s=Dn(s,r,i,o,e.getUint32(20,!0),12,1200080426),o=Dn(o,s,r,i,e.getUint32(24,!0),17,2821735955),i=Dn(i,o,s,r,e.getUint32(28,!0),22,4249261313),r=Dn(r,i,o,s,e.getUint32(32,!0),7,1770035416),s=Dn(s,r,i,o,e.getUint32(36,!0),12,2336552879),o=Dn(o,s,r,i,e.getUint32(40,!0),17,4294925233),i=Dn(i,o,s,r,e.getUint32(44,!0),22,2304563134),r=Dn(r,i,o,s,e.getUint32(48,!0),7,1804603682),s=Dn(s,r,i,o,e.getUint32(52,!0),12,4254626195),o=Dn(o,s,r,i,e.getUint32(56,!0),17,2792965006),i=Dn(i,o,s,r,e.getUint32(60,!0),22,1236535329),r=Rn(r,i,o,s,e.getUint32(4,!0),5,4129170786),s=Rn(s,r,i,o,e.getUint32(24,!0),9,3225465664),o=Rn(o,s,r,i,e.getUint32(44,!0),14,643717713),i=Rn(i,o,s,r,e.getUint32(0,!0),20,3921069994),r=Rn(r,i,o,s,e.getUint32(20,!0),5,3593408605),s=Rn(s,r,i,o,e.getUint32(40,!0),9,38016083),o=Rn(o,s,r,i,e.getUint32(60,!0),14,3634488961),i=Rn(i,o,s,r,e.getUint32(16,!0),20,3889429448),r=Rn(r,i,o,s,e.getUint32(36,!0),5,568446438),s=Rn(s,r,i,o,e.getUint32(56,!0),9,3275163606),o=Rn(o,s,r,i,e.getUint32(12,!0),14,4107603335),i=Rn(i,o,s,r,e.getUint32(32,!0),20,1163531501),r=Rn(r,i,o,s,e.getUint32(52,!0),5,2850285829),s=Rn(s,r,i,o,e.getUint32(8,!0),9,4243563512),o=Rn(o,s,r,i,e.getUint32(28,!0),14,1735328473),i=Rn(i,o,s,r,e.getUint32(48,!0),20,2368359562),r=Mn(r,i,o,s,e.getUint32(20,!0),4,4294588738),s=Mn(s,r,i,o,e.getUint32(32,!0),11,2272392833),o=Mn(o,s,r,i,e.getUint32(44,!0),16,1839030562),i=Mn(i,o,s,r,e.getUint32(56,!0),23,4259657740),r=Mn(r,i,o,s,e.getUint32(4,!0),4,2763975236),s=Mn(s,r,i,o,e.getUint32(16,!0),11,1272893353),o=Mn(o,s,r,i,e.getUint32(28,!0),16,4139469664),i=Mn(i,o,s,r,e.getUint32(40,!0),23,3200236656),r=Mn(r,i,o,s,e.getUint32(52,!0),4,681279174),s=Mn(s,r,i,o,e.getUint32(0,!0),11,3936430074),o=Mn(o,s,r,i,e.getUint32(12,!0),16,3572445317),i=Mn(i,o,s,r,e.getUint32(24,!0),23,76029189),r=Mn(r,i,o,s,e.getUint32(36,!0),4,3654602809),s=Mn(s,r,i,o,e.getUint32(48,!0),11,3873151461),o=Mn(o,s,r,i,e.getUint32(60,!0),16,530742520),i=Mn(i,o,s,r,e.getUint32(8,!0),23,3299628645),r=Nn(r,i,o,s,e.getUint32(0,!0),6,4096336452),s=Nn(s,r,i,o,e.getUint32(28,!0),10,1126891415),o=Nn(o,s,r,i,e.getUint32(56,!0),15,2878612391),i=Nn(i,o,s,r,e.getUint32(20,!0),21,4237533241),r=Nn(r,i,o,s,e.getUint32(48,!0),6,1700485571),s=Nn(s,r,i,o,e.getUint32(12,!0),10,2399980690),o=Nn(o,s,r,i,e.getUint32(40,!0),15,4293915773),i=Nn(i,o,s,r,e.getUint32(4,!0),21,2240044497),r=Nn(r,i,o,s,e.getUint32(32,!0),6,1873313359),s=Nn(s,r,i,o,e.getUint32(60,!0),10,4264355552),o=Nn(o,s,r,i,e.getUint32(24,!0),15,2734768916),i=Nn(i,o,s,r,e.getUint32(52,!0),21,1309151649),r=Nn(r,i,o,s,e.getUint32(16,!0),6,4149444226),s=Nn(s,r,i,o,e.getUint32(44,!0),10,3174756917),o=Nn(o,s,r,i,e.getUint32(8,!0),15,718787259),i=Nn(i,o,s,r,e.getUint32(36,!0),21,3951481745),n[0]=r+n[0]&4294967295,n[1]=i+n[1]&4294967295,n[2]=o+n[2]&4294967295,n[3]=s+n[3]&4294967295}reset(){this.state=Uint32Array.from(q3),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}};function Z_(t,e,n,r,i,o){return e=(e+t&4294967295)+(r+o&4294967295)&4294967295,(e<<i|e>>>32-i)+n&4294967295}function Dn(t,e,n,r,i,o,s){return Z_(e&n|~e&r,t,e,i,o,s)}function Rn(t,e,n,r,i,o,s){return Z_(e&r|n&~r,t,e,i,o,s)}function Mn(t,e,n,r,i,o,s){return Z_(e^n^r,t,e,i,o,s)}function Nn(t,e,n,r,i,o,s){return Z_(n^(e|~r),t,e,i,o,s)}function Mte(t){return typeof t=="string"?t.length===0:t.byteLength===0}function Nte(t){return typeof t=="string"?_r(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var z3=typeof TextEncoder=="function"?new TextEncoder:null,G3=t=>{if(typeof t=="string"){if(z3)return z3.encode(t).byteLength;let e=t.length;for(let n=e-1;n>=0;n--){let r=t.charCodeAt(n);r>127&&r<=2047?e++:r>2047&&r<=65535&&(e+=2),r>=56320&&r<=57343&&n--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)};var W3=t=>({apiVersion:"2006-03-01",base64Decoder:t?.base64Decoder??Au,base64Encoder:t?.base64Encoder??wc,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??E_,extensions:t?.extensions??[],getAwsChunkedEncodingStream:t?.getAwsChunkedEncodingStream??XF,httpAuthSchemeProvider:t?.httpAuthSchemeProvider??qU,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new yc},{schemeId:"aws.auth#sigv4a",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4a"),signer:new hh}],logger:t?.logger??new Ys,sdkStreamMixin:t?.sdkStreamMixin??i2,serviceId:t?.serviceId??"S3",signerConstructor:t?.signerConstructor??u_,signingEscapePath:t?.signingEscapePath??!1,urlParser:t?.urlParser??ku,useArnRegion:t?.useArnRegion??!1,utf8Decoder:t?.utf8Decoder??_r,utf8Encoder:t?.utf8Encoder??Tu});var Q3=ba(wT());var K3=["in-region","cross-region","mobile","standard","legacy"];var Y3=({defaultsMode:t}={})=>u2(()=>_(void 0,null,function*(){let e=typeof t=="function"?yield t():t;switch(e?.toLowerCase()){case"auto":return Promise.resolve(Pte()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${K3.join(", ")}, got ${e}`)}})),Pte=()=>{let e=(typeof window<"u"&&window?.navigator?.userAgent?Q3.default.parse(window.navigator.userAgent):void 0)?.platform?.type;return e==="tablet"||e==="mobile"};var Z3=t=>{let e=Y3(t),n=()=>e().then(Y2),r=W3(t);return q(I(I({},r),t),{runtime:"browser",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??G3,credentialDefaultProvider:t?.credentialDefaultProvider??(i=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:t?.defaultUserAgentProvider??D3({serviceId:r.serviceId,clientVersion:y3.version}),eventStreamSerdeProvider:t?.eventStreamSerdeProvider??V3,maxAttempts:t?.maxAttempts??Xs,md5:t?.md5??Y_,region:t?.region??H3("Region is missing"),requestHandler:Q_.create(t?.requestHandler??n),retryMode:t?.retryMode??(()=>_(void 0,null,function*(){return(yield n()).retryMode||bA})),sha1:t?.sha1??w3,sha256:t?.sha256??A3,streamCollector:t?.streamCollector??U3,streamHasher:t?.streamHasher??$3,useDualstackEndpoint:t?.useDualstackEndpoint??(()=>Promise.resolve(QV)),useFipsEndpoint:t?.useFipsEndpoint??(()=>Promise.resolve(YV))})};var J3=t=>{let e=()=>_(void 0,null,function*(){if(t.region===void 0)throw new Error("Region is missing from runtimeConfig");let n=t.region;return typeof n=="string"?n:n()});return{setRegion(n){e=n},region(){return e}}},X3=t=>({region:t.region()});var ej=t=>{let e=t.httpAuthSchemes,n=t.httpAuthSchemeProvider,r=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){n=i},httpAuthSchemeProvider(){return n},setCredentials(i){r=i},credentials(){return r}}},tj=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()});var J_=t=>t,nj=(t,e)=>{let n=I(I(I(I({},J_(J3(t))),J_(tL(t))),J_(VF(t))),J_(ej(t)));return e.forEach(r=>r.configure(n)),I(I(I(I(I({},t),X3(n)),nL(n)),BF(n)),tj(n))};var X_=class extends Fv{constructor(...[e]){let n=Z3(e||{}),r=GU(n),i=bV(r),o=ZL(i),s=vB(o),a=ZV(s),c=a,u=sB(c),f=JV(u),h=zU(f),y=yV(h,{session:[()=>this,U_]}),w=nj(y,e?.extensions||[]);super(w),this.config=w,this.middlewareStack.use(KV(this.config)),this.middlewareStack.use(wB(this.config)),this.middlewareStack.use(eB(this.config)),this.middlewareStack.use(JL(this.config)),this.middlewareStack.use(XL(this.config)),this.middlewareStack.use(tV(this.config)),this.middlewareStack.use(zF(this.config,{httpAuthSchemeParametersProvider:jU,identityProviderConfigProvider:b=>_(this,null,function*(){return new Av({"aws.auth#sigv4":b.credentials,"aws.auth#sigv4a":b.credentials})})})),this.middlewareStack.use(QF(this.config)),this.middlewareStack.use(EV(this.config)),this.middlewareStack.use(UF(this.config)),this.middlewareStack.use(oV(this.config)),this.middlewareStack.use(uA(this.config)),this.middlewareStack.use(dA(this.config))}destroy(){super.destroy()}};function Ote(t){return e=>n=>_(this,null,function*(){let r=I({},n.input),i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let o of i){let s=r[o.target];if(s){let a;typeof s=="string"?Lte(s,t)?a=t.base64Decoder(s):(a=t.utf8Decoder(s),r[o.target]=t.base64Encoder(a)):(a=ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s),r[o.target]=t.base64Encoder(a));let c=new t.md5;c.update(a),r[o.hash]=t.base64Encoder(yield c.digest())}}return e(q(I({},n),{input:r}))})}var Fte={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},rj=t=>({applyToStack:e=>{e.add(Ote(t),Fte)}});function Lte(t,e){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t))return!1;try{return e.base64Decoder(t).length===32}catch{return!1}}var ew=class extends Cc.classBuilder().ep(q(I({},b_),{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(e,n,r,i){return[bv(r,this.serialize,this.deserialize),n_(r,e.getEndpointParameterInstructions()),YL(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}),nV(r),Hv(r),rj(r)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(YU,QU).ser(t3).de(r3).build(){};var Oh={bucketName:"clinic-profile-images",region:"nyc3",accessKeyId:"DO00U2C2Q94HAEM78V2Q",secretAccessKey:"Vj8Gg8mgZ0p78/cy6TadY3a/dJ1Al1Z6DfcDKhkHENA"};var En=[];for(let t=0;t<256;++t)En.push((t+256).toString(16).slice(1));function ij(t,e=0){return(En[t[e+0]]+En[t[e+1]]+En[t[e+2]]+En[t[e+3]]+"-"+En[t[e+4]]+En[t[e+5]]+"-"+En[t[e+6]]+En[t[e+7]]+"-"+En[t[e+8]]+En[t[e+9]]+"-"+En[t[e+10]]+En[t[e+11]]+En[t[e+12]]+En[t[e+13]]+En[t[e+14]]+En[t[e+15]]).toLowerCase()}var bT,Vte=new Uint8Array(16);function CT(){if(!bT){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");bT=crypto.getRandomValues.bind(crypto)}return bT(Vte)}var Bte=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),IT={randomUUID:Bte};function Ute(t,e,n){if(IT.randomUUID&&!e&&!t)return IT.randomUUID();t=t||{};let r=t.random||(t.rng||CT)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return ij(r)}var ST=Ute;var ia=class t{s3Client;bucketName=Oh.bucketName;region=Oh.region;constructor(){this.s3Client=new X_({region:this.region,endpoint:"https://nyc3.digitaloceanspaces.com",credentials:{accessKeyId:Oh.accessKeyId,secretAccessKey:Oh.secretAccessKey}})}uploadImage(e){return _(this,null,function*(){if(!["image/jpeg","image/png","image/gif"].includes(e.type))throw new Error("Tipo de archivo no soportado.");let r=e.name.split(".").pop(),i=`${ST()}.${r}`,o=new ew({Bucket:this.bucketName,Key:i,Body:e,ACL:"public-read"});try{return yield this.s3Client.send(o),`https://${this.bucketName}.nyc3.digitaloceanspaces.com/${i}`}catch(s){console.error("Error al subir la imagen",s);let a=s;throw new Error(`Error al subir la imagen: ${a.message}`)}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})};function jte(t,e){t&1&&(D(0,"div",23),V(1," El nombre es requerido y solo puede contener letras. "),A())}function $te(t,e){t&1&&(D(0,"div",23),V(1," El apellido es requerido y solo puede contener letras. "),A())}function Hte(t,e){t&1&&(D(0,"div",23),V(1," La edad es requerida y debe ser un n\xFAmero positivo. "),A())}function qte(t,e){t&1&&(D(0,"div",23),V(1," El DNI es requerido y debe tener 10 d\xEDgitos. "),A())}function zte(t,e){t&1&&(D(0,"div",23),V(1," La obra social es requerida. "),A())}function Gte(t,e){t&1&&(D(0,"div",23),V(1," Por favor, ingresa un correo v\xE1lido. "),A())}function Wte(t,e){t&1&&(D(0,"div",23),V(1," La contrase\xF1a es requerida y debe tener al menos 6 caracteres. "),A())}function Kte(t,e){t&1&&(D(0,"div"),V(1," Debes cargar ambas im\xE1genes de perfil. "),A())}function Qte(t,e){t&1&&(D(0,"div",28)(1,"div",29)(2,"span",30),V(3,"Cargando..."),A()()())}function Yte(t,e){if(t&1&&(D(0,"div",31),V(1),A()),t&2){let n=tt();H(),dr(" ",n.errorMessage," ")}}var qu=class t{constructor(e,n,r,i,o){this.fb=e;this.auth=n;this.firestore=r;this.router=i;this.imagesService=o;this.registerForm=this.fb.group({nombre:["",[ve.required,ve.pattern(/^[a-zA-Z\s]*$/)]],apellido:["",[ve.required,ve.pattern(/^[a-zA-Z\s]*$/)]],edad:["",[ve.required,ve.min(0)]],dni:["",[ve.required,ve.pattern(/^\d{8}$/)]],obraSocial:["",[ve.required,ve.pattern(/^[a-zA-Z\s]*$/)]],email:["",[ve.required,ve.email]],password:["",[ve.required,ve.minLength(6)]],perfil1:[null],perfil2:[null]})}redirectToLogin=!0;registrationSuccess=new lt;registerForm;perfil1Loaded=!1;perfil2Loaded=!1;errorMessage="";loading=!1;ngOnDestroy(){console.log("Limpiando imagen")}onFileChange(e,n){let r=e.target.files[0];r?["image/jpeg","image/png","image/gif"].includes(r.type)?(this.registerForm.patchValue({[n]:r}),n==="perfil1"?this.perfil1Loaded=!0:n==="perfil2"&&(this.perfil2Loaded=!0),this.errorMessage=""):(this.errorMessage="Por favor, sube una imagen v\xE1lida (JPEG, PNG o GIF).",n==="perfil1"?this.perfil1Loaded=!1:n==="perfil2"&&(this.perfil2Loaded=!1)):(n==="perfil1"?this.perfil1Loaded=!1:n==="perfil2"&&(this.perfil2Loaded=!1),this.errorMessage="La imagen de perfil es requerida.")}onSubmit(){return _(this,null,function*(){this.registerForm.valid?(this.loading=!0,tu(this.auth,this.registerForm.value.email,this.registerForm.value.password).then(e=>_(this,null,function*(){let n=e.user;console.log("Usuario creado",n);try{yield nu(n),console.log("Correo de verificaci\xF3n enviado")}catch(o){console.error("Error al enviar el correo de verificaci\xF3n",o)}let r=yield this.imagesService.uploadImage(this.registerForm.value.perfil1),i=yield this.imagesService.uploadImage(this.registerForm.value.perfil2);try{yield this.logUser(r,i),AT.default.fire({title:"\xA1Registro exitoso!",text:"Por favor, verifica tu correo electr\xF3nico para continuar.",icon:"success",confirmButtonText:"Ok"}).then(()=>{this.redirectToLogin?this.router.navigate(["/login"]):(console.log("Usuario registrado desde el panel de administrador"),this.registerForm.reset(),this.registerForm.patchValue({perfil1:null}),this.registerForm.patchValue({perfil2:null}),this.registrationSuccess.emit())})}catch(o){console.error("Error al registrar el usuario",o),AT.default.fire({title:"Error",text:"Hubo un error al registrar el usuario. Por favor, intenta nuevamente.",icon:"error",confirmButtonText:"Ok"})}})).catch(e=>{switch(e.code){case"auth/email-already-in-use":this.errorMessage="El email ya est\xE1 en uso";break;case"auth/invalid-email":this.errorMessage="El email no es v\xE1lido";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a tiene que tener al menos 6 caracteres";break;default:this.errorMessage="Error al registrar el usuario";break}this.loading=!1}).finally(()=>{this.loading=!1})):this.errorMessage="Por favor, completa todos los campos correctamente."})}logUser(e,n){return _(this,null,function*(){let r=tr(this.firestore,"pacientes"),i={nombre:this.registerForm.value.nombre.toLowerCase(),apellido:this.registerForm.value.apellido.toLowerCase(),edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,obraSocial:this.registerForm.value.obraSocial,email:this.registerForm.value.email,perfil1:e,perfil2:n,fechaRegistro:Ct.fromDate(new Date)};try{yield Iu(r,i),console.log("Usuario registrado correctamente")}catch(o){console.error("Error al registrar el usuario",o)}})}static \u0275fac=function(n){return new(n||t)(te(Rs),te(gr),te(jn),te(Un),te(ia))};static \u0275cmp=vt({type:t,selectors:[["app-pacient-form"]],inputs:{redirectToLogin:"redirectToLogin"},outputs:{registrationSuccess:"registrationSuccess"},standalone:!0,features:[_t],decls:53,vars:12,consts:[[1,"container","mt-5"],[1,"text-center"],[1,"container-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","required","",1,"form-control"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","required","",1,"form-control"],["for","obraSocial",1,"form-label"],["type","text","id","obraSocial","formControlName","obraSocial","required","",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["for","perfil1",1,"form-label"],["type","file","id","perfil1","accept","image/*","required","",1,"form-control",3,"change"],["for","perfil2",1,"form-label"],["type","file","id","perfil2","accept","image/*","required","",1,"form-control",3,"change"],[1,"text-danger"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(n,r){if(n&1&&(D(0,"div",0)(1,"h2",1),V(2," Registro paciente"),A(),D(3,"form",2),De("ngSubmit",function(){return r.onSubmit()}),D(4,"div",3)(5,"label",4),V(6,"Nombre"),A(),fe(7,"input",5),he(8,jte,2,0,"div",6),A(),D(9,"div",3)(10,"label",7),V(11,"Apellido"),A(),fe(12,"input",8),he(13,$te,2,0,"div",6),A(),D(14,"div",3)(15,"label",9),V(16,"Edad"),A(),fe(17,"input",10),he(18,Hte,2,0,"div",6),A(),D(19,"div",3)(20,"label",11),V(21,"DNI"),A(),fe(22,"input",12),he(23,qte,2,0,"div",6),A(),D(24,"div",3)(25,"label",13),V(26,"Obra Social"),A(),fe(27,"input",14),he(28,zte,2,0,"div",6),A(),D(29,"div",3)(30,"label",15),V(31,"Email"),A(),fe(32,"input",16),he(33,Gte,2,0,"div",6),A(),D(34,"div",3)(35,"label",17),V(36,"Contrase\xF1a"),A(),fe(37,"input",18),he(38,Wte,2,0,"div",6),A(),D(39,"div",3)(40,"label",19),V(41,"Imagen de Perfil 1"),A(),D(42,"input",20),De("change",function(o){return r.onFileChange(o,"perfil1")}),A()(),D(43,"div",3)(44,"label",21),V(45,"Imagen de Perfil 2"),A(),D(46,"input",22),De("change",function(o){return r.onFileChange(o,"perfil2")}),A()(),D(47,"div",23),he(48,Kte,2,0,"div",24),A(),D(49,"button",25),V(50," Registrarse "),A(),he(51,Qte,4,0,"div",26)(52,Yte,2,1,"div",27),A()()),n&2){let i,o,s,a,c,u,f;H(3),Z("formGroup",r.registerForm),H(5),Z("ngIf",((i=r.registerForm.get("nombre"))==null?null:i.invalid)&&((i=r.registerForm.get("nombre"))==null?null:i.touched)),H(5),Z("ngIf",((o=r.registerForm.get("apellido"))==null?null:o.invalid)&&((o=r.registerForm.get("apellido"))==null?null:o.touched)),H(5),Z("ngIf",((s=r.registerForm.get("edad"))==null?null:s.invalid)&&((s=r.registerForm.get("edad"))==null?null:s.touched)),H(5),Z("ngIf",((a=r.registerForm.get("dni"))==null?null:a.invalid)&&((a=r.registerForm.get("dni"))==null?null:a.touched)),H(5),Z("ngIf",((c=r.registerForm.get("obraSocial"))==null?null:c.invalid)&&((c=r.registerForm.get("obraSocial"))==null?null:c.touched)),H(5),Z("ngIf",((u=r.registerForm.get("email"))==null?null:u.invalid)&&((u=r.registerForm.get("email"))==null?null:u.touched)),H(5),Z("ngIf",((f=r.registerForm.get("password"))==null?null:f.invalid)&&((f=r.registerForm.get("password"))==null?null:f.touched)),H(10),Z("ngIf",!r.perfil1Loaded||!r.perfil2Loaded),H(),Z("disabled",r.registerForm.invalid||r.loading||!r.perfil1Loaded||!r.perfil2Loaded),H(2),Z("ngIf",r.loading),H(),Z("ngIf",r.errorMessage)}},dependencies:[Bi,Ds,Li,Qa,As,Ts,Co,Vi,bo,fr,In],styles:[".container-form[_ngcontent-%COMP%]{background-color:#fff;padding:30px;margin-bottom:20px;border-radius:10px;box-shadow:0 4px 8px #0000001a}"]})};var TT=ba(lh());function Zte(t,e){t&1&&(D(0,"div",30),V(1," El nombre es requerido y solo puede contener letras. "),A())}function Jte(t,e){t&1&&(D(0,"div",30),V(1," El apellido es requerido y solo puede contener letras. "),A())}function Xte(t,e){t&1&&(D(0,"div",30),V(1," La edad es requerida y debe ser mayor de edad. "),A())}function ene(t,e){t&1&&(D(0,"div",30),V(1," El DNI es requerido y debe tener 8 d\xEDgitos. "),A())}function tne(t,e){t&1&&(D(0,"div",30),V(1," La especialidad es requerida. "),A())}function nne(t,e){t&1&&(D(0,"div",30),V(1," La especialidad extra es requerida. "),A())}function rne(t,e){if(t&1&&(D(0,"div",35)(1,"div",36)(2,"label",37),V(3,"Especialidad Extra"),A(),fe(4,"input",38),he(5,nne,2,0,"div",6),A()()),t&2){let n=e.$implicit,r=e.index;H(),Z("formGroupName",r),H(4),Z("ngIf",n.invalid&&n.touched)}}function ine(t,e){t&1&&(D(0,"div",30),V(1," Por favor, ingresa un correo v\xE1lido. "),A())}function one(t,e){t&1&&(D(0,"div",30),V(1," La contrase\xF1a es requerida y debe tener al menos 6 caracteres. "),A())}function sne(t,e){t&1&&(D(0,"div",39),V(1," Imagen cargada correctamente. "),A())}function ane(t,e){t&1&&(D(0,"div"),V(1," La imagen de perfil es requerida. "),A())}function cne(t,e){t&1&&(D(0,"div",40)(1,"div",41)(2,"span",42),V(3,"Cargando..."),A()()())}function lne(t,e){if(t&1&&(D(0,"div",43),V(1),A()),t&2){let n=tt();H(),dr(" ",n.errorMessage," ")}}var zu=class t{constructor(e,n,r,i,o){this.fb=e;this.auth=n;this.firestore=r;this.router=i;this.imagesService=o;this.registerForm=this.fb.group({nombre:["",[ve.required,ve.pattern(/^[a-zA-Z\s]*$/)]],apellido:["",[ve.required,ve.pattern(/^[a-zA-Z\s]*$/)]],edad:["",[ve.required,ve.min(18)]],dni:["",[ve.required,ve.pattern(/^\d{8}$/)]],especialidad:["",[ve.required,ve.pattern(/^[a-zA-Z\s]*$/)]],email:["",[ve.required,ve.email]],password:["",[ve.required,ve.minLength(6)]],perfil1:[null],especialidadesExtras:this.fb.array([])})}redirectToLogin=!0;registrationSuccess=new lt;registerForm;perfil1Loaded=!1;errorMessage="";loading=!1;get extraSpecialties(){return this.registerForm.get("especialidadesExtras")}addExtraSpecialty(){let e=this.fb.group({nombre:["",ve.required]});this.extraSpecialties.push(e)}ngOnDestroy(){console.log("Limpiando imagen")}onFileChange(e,n){let r=e.target.files[0];r?["image/jpeg","image/png","image/gif"].includes(r.type)?(this.registerForm.patchValue({[n]:r}),this.perfil1Loaded=!0):(this.perfil1Loaded=!1,this.errorMessage="Por favor, sube una imagen v\xE1lida (JPEG, PNG o GIF)."):(this.perfil1Loaded=!1,this.errorMessage="La imagen de perfil es requerida.")}onSubmit(){return _(this,null,function*(){this.registerForm.valid&&(console.log(this.registerForm.value),this.loading=!0,tu(this.auth,this.registerForm.value.email,this.registerForm.value.password).then(e=>_(this,null,function*(){let n=e.user;console.log("Usuario creado:",n);try{yield nu(n),console.log("Correo de verificaci\xF3n enviado")}catch(i){console.error("Error al enviar el correo de verificaci\xF3n:",i)}let r=yield this.imagesService.uploadImage(this.registerForm.value.perfil1);try{yield this.logUser(r),console.log("Correo de verificaci\xF3n enviado"),TT.default.fire({icon:"success",title:"\xA1Registro exitoso!",text:"Por favor, verifica tu correo electr\xF3nico para continuar."}).then(()=>{this.redirectToLogin?this.router.navigate(["/login"]):(console.log("Usuario registrado desde el panel de administrador"),this.registerForm.reset(),this.registerForm.patchValue({perfil1:null}),this.registrationSuccess.emit())})}catch(i){console.error("Error al crear el usuario",i),TT.default.fire({icon:"error",title:"Error al crear el usuario",text:"Por favor, intenta de nuevo."})}})).catch(e=>{switch(e.code){case"auth/email-already-in-use":this.errorMessage="El email ya est\xE1 en uso";break;case"auth/invalid-email":this.errorMessage="El email no es v\xE1lido";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres";break;default:this.errorMessage="Error al registrar el usuario";break}this.loading=!1}).finally(()=>{this.loading=!1}))})}logUser(e){return _(this,null,function*(){let n=[];n.push(this.registerForm.value.especialidad),this.registerForm.value.especialidadesExtras.forEach(o=>{n.push(o.nombre)});let r=tr(this.firestore,"especialistas"),i={nombre:this.registerForm.value.nombre.toLowerCase(),apellido:this.registerForm.value.apellido.toLowerCase(),edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,especialidades:n,email:this.registerForm.value.email,perfil1:e,profileValidatedByAdmin:!1,fechaRegistro:Ct.now()};try{yield Iu(r,i)}catch(o){console.error("Error al crear el usuario:",o)}})}static \u0275fac=function(n){return new(n||t)(te(Rs),te(gr),te(jn),te(Un),te(ia))};static \u0275cmp=vt({type:t,selectors:[["app-specialist-form"]],inputs:{redirectToLogin:"redirectToLogin"},outputs:{registrationSuccess:"registrationSuccess"},standalone:!0,features:[_t],decls:63,vars:14,consts:[[1,"container","mt-5"],[1,"text-center"],[1,"container-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","required","",1,"form-control"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","required","",1,"form-control"],["for","especialidad",1,"form-label"],["id","especialidad","formControlName","especialidad","required","",1,"form-select"],["value",""],["value","cardiologia"],["value","odontologia"],["value","psicologia"],["formArrayName","especialidadesExtras",4,"ngFor","ngForOf"],[1,"text-end","mb-3"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-plus"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["for","perfil1",1,"form-label"],["type","file","id","perfil1","accept","image/*",1,"form-control",3,"change"],["class","text-success",4,"ngIf"],[1,"text-danger"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["formArrayName","especialidadesExtras"],[1,"mb-3",3,"formGroupName"],["for","especialidadExtra",1,"form-label"],["type","text","formControlName","nombre","required","",1,"form-control"],[1,"text-success"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(n,r){if(n&1&&(D(0,"div",0)(1,"h2",1),V(2,"Registro Especialista"),A(),D(3,"form",2),De("ngSubmit",function(){return r.onSubmit()}),D(4,"div",3)(5,"label",4),V(6,"Nombre"),A(),fe(7,"input",5),he(8,Zte,2,0,"div",6),A(),D(9,"div",3)(10,"label",7),V(11,"Apellido"),A(),fe(12,"input",8),he(13,Jte,2,0,"div",6),A(),D(14,"div",3)(15,"label",9),V(16,"Edad"),A(),fe(17,"input",10),he(18,Xte,2,0,"div",6),A(),D(19,"div",3)(20,"label",11),V(21,"DNI"),A(),fe(22,"input",12),he(23,ene,2,0,"div",6),A(),D(24,"div",3)(25,"label",13),V(26,"Especialidad"),A(),D(27,"select",14)(28,"option",15),V(29,"Selecciona una especialidad"),A(),D(30,"option",16),V(31,"Medicina"),A(),D(32,"option",17),V(33,"Odontolog\xEDa"),A(),D(34,"option",18),V(35,"Psicolog\xEDa"),A()(),he(36,tne,2,0,"div",6),A(),he(37,rne,6,2,"div",19),D(38,"div",20)(39,"button",21),De("click",function(){return r.addExtraSpecialty()}),fe(40,"i",22),V(41," Agregar Especialidad Extra "),A()(),D(42,"div",3)(43,"label",23),V(44,"Email"),A(),fe(45,"input",24),he(46,ine,2,0,"div",6),A(),D(47,"div",3)(48,"label",25),V(49,"Contrase\xF1a"),A(),fe(50,"input",26),he(51,one,2,0,"div",6),A(),D(52,"div",3)(53,"label",27),V(54,"Imagen de Perfil"),A(),D(55,"input",28),De("change",function(o){return r.onFileChange(o,"perfil1")}),A(),he(56,sne,2,0,"div",29),A(),D(57,"div",30),he(58,ane,2,0,"div",31),A(),D(59,"button",32),V(60," Registrarse "),A(),he(61,cne,4,0,"div",33)(62,lne,2,1,"div",34),A()()),n&2){let i,o,s,a,c,u,f;H(3),Z("formGroup",r.registerForm),H(5),Z("ngIf",((i=r.registerForm.get("nombre"))==null?null:i.invalid)&&((i=r.registerForm.get("nombre"))==null?null:i.touched)),H(5),Z("ngIf",((o=r.registerForm.get("apellido"))==null?null:o.invalid)&&((o=r.registerForm.get("apellido"))==null?null:o.touched)),H(5),Z("ngIf",((s=r.registerForm.get("edad"))==null?null:s.invalid)&&((s=r.registerForm.get("edad"))==null?null:s.touched)),H(5),Z("ngIf",((a=r.registerForm.get("dni"))==null?null:a.invalid)&&((a=r.registerForm.get("dni"))==null?null:a.touched)),H(13),Z("ngIf",((c=r.registerForm.get("especialidad"))==null?null:c.invalid)&&((c=r.registerForm.get("especialidad"))==null?null:c.touched)),H(),Z("ngForOf",r.extraSpecialties.controls),H(9),Z("ngIf",((u=r.registerForm.get("email"))==null?null:u.invalid)&&((u=r.registerForm.get("email"))==null?null:u.touched)),H(5),Z("ngIf",((f=r.registerForm.get("password"))==null?null:f.invalid)&&((f=r.registerForm.get("password"))==null?null:f.touched)),H(5),Z("ngIf",r.perfil1Loaded),H(2),Z("ngIf",!r.perfil1Loaded),H(),Z("disabled",!r.registerForm.valid||!r.perfil1Loaded),H(2),Z("ngIf",r.loading),H(),Z("ngIf",r.errorMessage)}},dependencies:[Bi,Ds,r1,o1,Li,Qa,Gg,As,Ts,Co,Vi,bo,qg,zg,fr,Pl,In],styles:[".container-form[_ngcontent-%COMP%]{background-color:#fff;padding:30px;margin-bottom:20px;border-radius:10px;box-shadow:0 4px 8px #0000001a}"]})};function une(t,e){if(t&1){let n=yo();D(0,"div",4)(1,"div",5)(2,"button",6),De("click",function(){ti(n);let i=tt();return ni(i.showPacienteForm())}),fe(3,"img",7),D(4,"span",8),V(5,"Paciente"),A()()(),D(6,"div",5)(7,"button",6),De("click",function(){ti(n);let i=tt();return ni(i.showSpecialistForm())}),fe(8,"img",9),D(9,"span",8),V(10,"Especialista"),A()()()()}}function dne(t,e){t&1&&fe(0,"app-pacient-form")}function fne(t,e){t&1&&fe(0,"app-specialist-form")}function hne(t,e){if(t&1&&(D(0,"div",10),he(1,dne,1,0,"app-pacient-form",11)(2,fne,1,0,"app-specialist-form",11),A()),t&2){let n=tt();H(),Z("ngIf",n.isPacienteFormVisible),H(),Z("ngIf",!n.isPacienteFormVisible)}}var tw=class t{showForm=!1;isPacienteFormVisible=!1;constructor(){}showPacienteForm(){this.isPacienteFormVisible=!0,this.showForm=!0}showSpecialistForm(){this.isPacienteFormVisible=!1,this.showForm=!0}ngOnInit(){}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=vt({type:t,selectors:[["app-register"]],standalone:!0,features:[_t],decls:5,vars:2,consts:[[1,"container","text-center","mt-5"],[1,"mb-4"],["class","row justify-content-center mt-4",4,"ngIf"],["class","text-start mt-4",4,"ngIf"],[1,"row","justify-content-center","mt-4"],[1,"col-md-4"],[1,"btn","btn-light","option-button",3,"click"],["src","media/paciente.png","alt","Paciente",1,"option-image"],[1,"option-text"],["src","media/doctor.png","alt","Especialista",1,"option-image"],[1,"text-start","mt-4"],[4,"ngIf"]],template:function(n,r){n&1&&(D(0,"div",0)(1,"h1",1),V(2,"Selecciona tu tipo de usuario"),A(),he(3,une,11,0,"div",2)(4,hne,3,2,"div",3),A()),n&2&&(H(3),Z("ngIf",!r.showForm),H(),Z("ngIf",r.showForm))},dependencies:[Bi,In,fr,qu,zu],styles:[".option-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;border-radius:8px;transition:background-color .3s,transform .3s;width:100%;height:500px;border:1px solid #dee2e6;box-shadow:0 4px 8px #0000001a}.option-button[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;transform:scale(1.05)}.option-image[_ngcontent-%COMP%]{width:220px;height:220px;margin-bottom:10px;object-fit:cover}.option-text[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:#007bff;margin-top:10px}h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0056b3;text-shadow:1px 1px 2px rgba(0,0,0,.1);margin-bottom:20px;letter-spacing:1px}.container[_ngcontent-%COMP%]{margin-top:40px;background-color:#f8f9fa;padding:30px;border-radius:8px;box-shadow:0 2px 4px #0000001a}"]})};var sj=ba(lh());var Gu=class t{userSubject=new Qt(this.isLoggedIn());user$=this.userSubject.asObservable();isLoggedIn(){return!!localStorage.getItem("user")}login(){this.userSubject.next(!0)}logout(){localStorage.removeItem("user"),this.userSubject.next(!1)}getUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null}isThereAnAdmin(){let e=this.getUser();return e&&e.isAdmin}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})};function pne(t,e){t&1&&(D(0,"div",21),V(1," Por favor, ingresa un correo v\xE1lido. "),A())}function mne(t,e){t&1&&(D(0,"div",21),V(1," La contrase\xF1a es requerida. "),A())}function gne(t,e){if(t&1&&(D(0,"div",22),V(1),A()),t&2){let n=tt();H(),dr(" ",n.errorMessage," ")}}function yne(t,e){t&1&&(D(0,"div",23)(1,"div",24)(2,"span",25),V(3,"Cargando..."),A()()())}var nw=class t{constructor(e,n,r,i,o){this.fb=e;this.firestore=n;this.auth=r;this.router=i;this.authService=o;this.loginForm=this.fb.group({email:["",[ve.required,ve.email]],password:["",[ve.required,ve.minLength(1)]]})}loginForm;errorMessage=null;loading=!1;sub;isDoctor=null;urlPaciente="https://clinic-profile-images.nyc3.digitaloceanspaces.com/7805c816-51e7-495e-a433-4fa93f9dec07.png";urlEspecialista="https://clinic-profile-images.nyc3.digitaloceanspaces.com/b60aba11-355f-45a6-981b-00bb78321cd8.jpg";urlAdmin="https://clinic-profile-images.nyc3.digitaloceanspaces.com/ebcc95df-f57b-4a55-9112-345ed0d1b5d4.png";onSubmit(){return _(this,null,function*(){if(this.loginForm.valid){this.loading=!0;let{email:e,password:n}=this.loginForm.value;try{let r=e.toLowerCase(),o=(yield Pk(this.auth,r,n)).user;if(!o.emailVerified){this.errorMessage="Por favor, verifica tu correo electr\xF3nico antes de iniciar sesi\xF3n.";return}let s=yield this.getUser(e);if(this.isDoctor==!1){this.errorMessage="El usuario no ha sido validado por el administrador.";return}else sj.default.fire({title:"Inicio de sesi\xF3n exitoso",icon:"success",timer:2e3,showConfirmButton:!1}),console.log("Inicio de sesi\xF3n exitoso",o),this.errorMessage=null,this.authService.login(),this.router.navigate(["/home"])}catch(r){console.error("Error al iniciar sesi\xF3n",r),this.errorMessage="Email y/o contrase\xF1a incorrecto."}finally{this.loading=!1}}})}getUser(e){return _(this,null,function*(){let n=yield this.checkUser(e);return n||(this.errorMessage="Usuario no encontrado.",!1)})}checkUser(e){return _(this,null,function*(){return(yield this.findPaciente(e))?"paciente":(yield this.findDoctor(e))?"doctor":(yield this.findAdmin(e))?"admin":null})}findPaciente(e){return _(this,null,function*(){let n=tr(this.firestore,"pacientes"),r=Gs(n,wv("email","==",e)),i=yield vv(r);if(!i.empty){let o=i.docs[0].data();return console.log("Usuario encontrado:",o),localStorage.setItem("user",JSON.stringify(o)),!0}return!1})}findDoctor(e){return _(this,null,function*(){let n=tr(this.firestore,"especialistas"),r=Gs(n,wv("email","==",e)),i=yield vv(r);if(!i.empty){let o=i.docs[0].data();return console.log("Usuario encontrado:",o),o.profileValidatedByAdmin===!1?(this.isDoctor=!1,!0):(this.isDoctor=!0,console.log("Usuario doctor"),localStorage.setItem("user",JSON.stringify(o)),!0)}return!1})}findAdmin(e){return _(this,null,function*(){let n=tr(this.firestore,"admins"),r=Gs(n,wv("email","==",e)),i=yield vv(r);if(!i.empty){let o=i.docs[0].data();return console.log("Usuario encontrado:",o),localStorage.setItem("user",JSON.stringify(o)),!0}return!1})}getPacientes(e){e==1?this.loginForm.get("email")?.setValue("j9hpx2l0@cj.MintEmail.com"):e==2?this.loginForm.get("email")?.setValue("18duu2j9@cj.MintEmail.com"):e==3&&this.loginForm.get("email")?.setValue("a5yfl81p@cj.MintEmail.com"),this.loginForm.get("password")?.setValue("123456")}getEspecialistas(e){e==1?this.loginForm.get("email")?.setValue("c7hup2p3@cj.MintEmail.com"):e==2&&this.loginForm.get("email")?.setValue("q796si4b@cj.MintEmail.com"),this.loginForm.get("password")?.setValue("123456")}getAdmins(e){e==1&&this.loginForm.get("email")?.setValue("r6q00n9h@cj.MintEmail.com"),this.loginForm.get("password")?.setValue("123456")}static \u0275fac=function(n){return new(n||t)(te(Rs),te(jn),te(gr),te(Un),te(Gu))};static \u0275cmp=vt({type:t,selectors:[["app-login"]],standalone:!0,features:[_t],decls:49,vars:12,consts:[[1,"container","mt-5"],[1,"text-center","mb-4"],[1,"row","justify-content-center","mb-4"],[1,"col-6","col-md-2",3,"click"],[1,"btn","access-button"],["alt","Paciente 1",1,"access-image",3,"src"],["alt","Paciente 2",1,"access-image",3,"src"],["alt","Paciente 3",1,"access-image",3,"src"],["alt","Especialista 1",1,"access-image",3,"src"],["alt","Especialista 2",1,"access-image",3,"src"],["alt","Administrador",1,"access-image",3,"src"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","autocomplete","email","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","autocomplete","current-password","required","",1,"form-control"],["class","text-danger mb-3",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],[1,"text-danger"],[1,"text-danger","mb-3"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(n,r){if(n&1&&(D(0,"div",0)(1,"h2",1),V(2,"Iniciar Sesi\xF3n"),A(),D(3,"div",2)(4,"div",3),De("click",function(){return r.getPacientes(1)}),D(5,"button",4),fe(6,"img",5),D(7,"span"),V(8,"Paciente 1"),A()()(),D(9,"div",3),De("click",function(){return r.getPacientes(2)}),D(10,"button",4),fe(11,"img",6),D(12,"span"),V(13,"Paciente 2"),A()()(),D(14,"div",3),De("click",function(){return r.getPacientes(3)}),D(15,"button",4),fe(16,"img",7),D(17,"span"),V(18,"Paciente 3"),A()()(),D(19,"div",3),De("click",function(){return r.getEspecialistas(1)}),D(20,"button",4),fe(21,"img",8),D(22,"span"),V(23,"Especialista 1"),A()()(),D(24,"div",3),De("click",function(){return r.getEspecialistas(2)}),D(25,"button",4),fe(26,"img",9),D(27,"span"),V(28,"Especialista 2"),A()()(),D(29,"div",3),De("click",function(){return r.getAdmins(1)}),D(30,"button",4),fe(31,"img",10),D(32,"span"),V(33,"Administrador"),A()()()(),D(34,"form",11),De("ngSubmit",function(){return r.onSubmit()}),D(35,"div",12)(36,"label",13),V(37,"Correo Electr\xF3nico"),A(),fe(38,"input",14),he(39,pne,2,0,"div",15),A(),D(40,"div",12)(41,"label",16),V(42,"Contrase\xF1a"),A(),fe(43,"input",17),he(44,mne,2,0,"div",15),A(),he(45,gne,2,1,"div",18),D(46,"button",19),V(47," Iniciar Sesi\xF3n "),A()(),he(48,yne,4,0,"div",20),A()),n&2){let i,o;H(6),Ba("src",r.urlPaciente,Vn),H(5),Ba("src",r.urlPaciente,Vn),H(5),Z("src",r.urlPaciente,Vn),H(5),Ba("src",r.urlEspecialista,Vn),H(5),Ba("src",r.urlEspecialista,Vn),H(5),Ba("src",r.urlAdmin,Vn),H(3),Z("formGroup",r.loginForm),H(5),Z("ngIf",((i=r.loginForm.get("email"))==null?null:i.invalid)&&((i=r.loginForm.get("email"))==null?null:i.touched)),H(5),Z("ngIf",((o=r.loginForm.get("password"))==null?null:o.invalid)&&((o=r.loginForm.get("password"))==null?null:o.touched)),H(),Z("ngIf",r.errorMessage),H(),Z("disabled",r.loginForm.invalid||r.loading),H(2),Z("ngIf",r.loading)}},dependencies:[Bi,Ds,Li,As,Ts,Co,Vi,bo,In],styles:[".access-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:10px;border:1px solid #007bff;border-radius:8px;transition:background-color .3s,transform .3s;background-color:#fff;text-align:center;width:100%}.access-button[_ngcontent-%COMP%]:hover{background-color:#e9ecef;transform:scale(1.05)}.access-image[_ngcontent-%COMP%]{width:80px;height:80px;margin-bottom:5px;border-radius:50%;object-fit:cover}.container[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;padding:40px}@media (max-width: 768px){.access-button[_ngcontent-%COMP%]{margin-bottom:15px}.container[_ngcontent-%COMP%]{padding:20px}.access-image[_ngcontent-%COMP%]{width:60px;height:60px}}@media (max-width: 576px){.access-button[_ngcontent-%COMP%]{padding:15px}.access-image[_ngcontent-%COMP%]{width:50px;height:50px}}"]})};function vne(t,e){if(t&1&&(D(0,"div"),fe(1,"img",11),A()),t&2){let n=tt(2);H(),Z("src",n.user.perfil1,Vn)}}function _ne(t,e){if(t&1&&(D(0,"div",6)(1,"strong"),V(2,"Especialidad: "),A(),D(3,"span",9),V(4),A()()),t&2){let n=tt(2);H(4),nt(n.user.especialidad)}}function wne(t,e){if(t&1&&(D(0,"div",6)(1,"strong"),V(2,"Obra Social: "),A(),D(3,"span",9),V(4),A()()),t&2){let n=tt(2);H(4),nt(n.user.obraSocial)}}function Ene(t,e){if(t&1&&(D(0,"div",6)(1,"div"),fe(2,"img",12),A()()),t&2){let n=tt(2);H(2),Z("src",n.user.perfil2,Vn)}}function bne(t,e){if(t&1&&(D(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),he(4,vne,2,1,"div",7),A()(),D(5,"div",8)(6,"div",6)(7,"strong"),V(8,"Nombre: "),A(),D(9,"span",9),V(10),A()(),D(11,"div",6)(12,"strong"),V(13,"Apellido: "),A(),D(14,"span",9),V(15),A()(),D(16,"div",6)(17,"strong"),V(18,"Edad: "),A(),D(19,"span",9),V(20),A()(),D(21,"div",6)(22,"strong"),V(23,"DNI: "),A(),D(24,"span",9),V(25),A()(),D(26,"div",6)(27,"strong"),V(28,"Email: "),A(),D(29,"span",9),V(30),A()(),he(31,_ne,5,1,"div",10)(32,wne,5,1,"div",10),A(),D(33,"div",5),he(34,Ene,3,1,"div",10),A()()()),t&2){let n=tt();H(4),Z("ngIf",n.user.perfil1),H(6),nt(n.user.nombre),H(5),nt(n.user.apellido),H(5),nt(n.user.edad),H(5),nt(n.user.dni),H(5),nt(n.user.email),H(),Z("ngIf",n.user.especialidad),H(),Z("ngIf",n.user.obraSocial),H(2),Z("ngIf",n.user.perfil2)}}var rw=class t{user;constructor(){}ngOnInit(){this.loadUser()}loadUser(){let e=localStorage.getItem("user");e&&(this.user=JSON.parse(e))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=vt({type:t,selectors:[["app-perfil"]],standalone:!0,features:[_t],decls:4,vars:1,consts:[[1,"container","mt-5"],[1,"text-center","text-dark"],["class","profile-card bg-light p-4 rounded shadow",4,"ngIf"],[1,"profile-card","bg-light","p-4","rounded","shadow"],[1,"row"],[1,"col-md-4","text-center"],[1,"mb-3"],[4,"ngIf"],[1,"col-md-4"],[1,"text-muted"],["class","mb-3",4,"ngIf"],["alt","Perfil 1",1,"img-thumbnail","profile-img",3,"src"],["alt","Perfil 2",1,"img-thumbnail","profile-img",3,"src"]],template:function(n,r){n&1&&(D(0,"div",0)(1,"h2",1),V(2,"Perfil del Usuario"),A(),he(3,bne,35,9,"div",2),A()),n&2&&(H(3),Z("ngIf",r.user))},dependencies:[In,fr],styles:[".container[_ngcontent-%COMP%]{max-width:1000px;margin:auto;background:#fffffff2;border-radius:10px;padding:40px;box-shadow:0 4px 20px #0000001a}h2[_ngcontent-%COMP%]{margin-bottom:30px;color:#0056b3}strong[_ngcontent-%COMP%]{color:#0056b3}.text-muted[_ngcontent-%COMP%]{color:#495057}.profile-img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:5px;border:2px solid #007bff}.profile-card[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;border-radius:10px;box-shadow:0 2px 10px #00000026}"]})};var DT=ba(lh());function Cne(t,e){t&1&&(D(0,"div",20),V(1," El nombre es requerido y solo puede contener letras. "),A())}function Ine(t,e){t&1&&(D(0,"div",20),V(1," El apellido es requerido y solo puede contener letras. "),A())}function Sne(t,e){t&1&&(D(0,"div",20),V(1," La edad es requerida y debe ser mayor de edad. "),A())}function xne(t,e){t&1&&(D(0,"div",20),V(1," El DNI es requerido y debe tener 8 d\xEDgitos. "),A())}function Ane(t,e){t&1&&(D(0,"div",20),V(1," Por favor, ingresa un correo v\xE1lido. "),A())}function Tne(t,e){t&1&&(D(0,"div",20),V(1," La contrase\xF1a es requerida y debe tener al menos 6 caracteres. "),A())}function Dne(t,e){t&1&&(D(0,"div",25),V(1," Imagen cargada correctamente. "),A())}function Rne(t,e){t&1&&(D(0,"div"),V(1," La imagen de perfil es requerida. "),A())}function Mne(t,e){t&1&&(D(0,"div",26)(1,"div",27)(2,"span",28),V(3,"Cargando..."),A()()())}function Nne(t,e){if(t&1&&(D(0,"div",29),V(1),A()),t&2){let n=tt();H(),dr(" ",n.errorMessage," ")}}var iw=class t{constructor(e,n,r,i,o){this.fb=e;this.auth=n;this.firestore=r;this.router=i;this.imagesService=o;this.registerForm=this.fb.group({nombre:["",[ve.required,ve.pattern(/^[a-zA-Z\s]*$/)]],apellido:["",[ve.required,ve.pattern(/^[a-zA-Z\s]*$/)]],edad:["",[ve.required,ve.min(18)]],dni:["",[ve.required,ve.pattern(/^\d{8}$/)]],email:["",[ve.required,ve.email]],password:["",[ve.required,ve.minLength(6)]],perfil1:[null]})}redirectToLogin=!0;registrationSuccess=new lt;registerForm;perfil1Loaded=!1;errorMessage="";loading=!1;ngOnDestroy(){console.log("Limpiando imagen")}onFileChange(e,n){let r=e.target.files[0];r?["image/jpeg","image/png","image/gif"].includes(r.type)?(this.registerForm.patchValue({[n]:r}),this.perfil1Loaded=!0):(this.perfil1Loaded=!1,this.errorMessage="Por favor, sube una imagen v\xE1lida (JPEG, PNG o GIF)."):(this.perfil1Loaded=!1,this.errorMessage="La imagen de perfil es requerida.")}onSubmit(){return _(this,null,function*(){this.registerForm.valid&&(console.log(this.registerForm.value),this.loading=!0,tu(this.auth,this.registerForm.value.email,this.registerForm.value.password).then(e=>_(this,null,function*(){let n=e.user;console.log("Usuario creado:",n);try{yield nu(n),console.log("Correo de verificaci\xF3n enviado")}catch(i){console.error("Error al enviar el correo de verificaci\xF3n:",i)}let r=yield this.imagesService.uploadImage(this.registerForm.value.perfil1);try{yield this.logUser(r),console.log("Correo de verificaci\xF3n enviado"),DT.default.fire({icon:"success",title:"\xA1Registro exitoso!",text:"Por favor, verifica tu correo electr\xF3nico para continuar."}).then(()=>{this.redirectToLogin?this.router.navigate(["/login"]):(console.log("Usuario registrado desde el panel de administrador"),this.registerForm.reset(),this.registerForm.patchValue({perfil1:null}),this.registrationSuccess.emit())})}catch(i){console.error("Error al crear el usuario",i),DT.default.fire({icon:"error",title:"Error al crear el usuario",text:"Por favor, intenta de nuevo."})}})).catch(e=>{switch(e.code){case"auth/email-already-in-use":this.errorMessage="El email ya est\xE1 en uso";break;case"auth/invalid-email":this.errorMessage="El email no es v\xE1lido";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres";break;default:this.errorMessage="Error al registrar el usuario";break}this.loading=!1}).finally(()=>{this.loading=!1}))})}logUser(e){return _(this,null,function*(){let n=tr(this.firestore,"admins"),r={nombre:this.registerForm.value.nombre.toLowerCase(),apellido:this.registerForm.value.apellido.toLowerCase(),edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,email:this.registerForm.value.email,perfil1:e,fechaRegistro:Ct.now(),isAdmin:!0};try{yield Iu(n,r)}catch(i){console.error("Error al crear el usuario:",i)}})}static \u0275fac=function(n){return new(n||t)(te(Rs),te(gr),te(jn),te(Un),te(ia))};static \u0275cmp=vt({type:t,selectors:[["app-admin-form"]],inputs:{redirectToLogin:"redirectToLogin"},outputs:{registrationSuccess:"registrationSuccess"},standalone:!0,features:[_t],decls:45,vars:12,consts:[[1,"container","mt-5"],[1,"text-center"],[1,"container-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","required","",1,"form-control"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","required","",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["for","perfil1",1,"form-label"],["type","file","id","perfil1","accept","image/*",1,"form-control",3,"change"],["class","text-success",4,"ngIf"],[1,"text-danger"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],[1,"text-success"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(n,r){if(n&1&&(D(0,"div",0)(1,"h2",1),V(2,"Registro Administrador"),A(),D(3,"form",2),De("ngSubmit",function(){return r.onSubmit()}),D(4,"div",3)(5,"label",4),V(6,"Nombre"),A(),fe(7,"input",5),he(8,Cne,2,0,"div",6),A(),D(9,"div",3)(10,"label",7),V(11,"Apellido"),A(),fe(12,"input",8),he(13,Ine,2,0,"div",6),A(),D(14,"div",3)(15,"label",9),V(16,"Edad"),A(),fe(17,"input",10),he(18,Sne,2,0,"div",6),A(),D(19,"div",3)(20,"label",11),V(21,"DNI"),A(),fe(22,"input",12),he(23,xne,2,0,"div",6),A(),D(24,"div",3)(25,"label",13),V(26,"Email"),A(),fe(27,"input",14),he(28,Ane,2,0,"div",6),A(),D(29,"div",3)(30,"label",15),V(31,"Contrase\xF1a"),A(),fe(32,"input",16),he(33,Tne,2,0,"div",6),A(),D(34,"div",3)(35,"label",17),V(36,"Imagen de Perfil"),A(),D(37,"input",18),De("change",function(o){return r.onFileChange(o,"perfil1")}),A(),he(38,Dne,2,0,"div",19),A(),D(39,"div",20),he(40,Rne,2,0,"div",21),A(),D(41,"button",22),V(42," Registrarse "),A(),he(43,Mne,4,0,"div",23)(44,Nne,2,1,"div",24),A()()),n&2){let i,o,s,a,c,u;H(3),Z("formGroup",r.registerForm),H(5),Z("ngIf",((i=r.registerForm.get("nombre"))==null?null:i.invalid)&&((i=r.registerForm.get("nombre"))==null?null:i.touched)),H(5),Z("ngIf",((o=r.registerForm.get("apellido"))==null?null:o.invalid)&&((o=r.registerForm.get("apellido"))==null?null:o.touched)),H(5),Z("ngIf",((s=r.registerForm.get("edad"))==null?null:s.invalid)&&((s=r.registerForm.get("edad"))==null?null:s.touched)),H(5),Z("ngIf",((a=r.registerForm.get("dni"))==null?null:a.invalid)&&((a=r.registerForm.get("dni"))==null?null:a.touched)),H(5),Z("ngIf",((c=r.registerForm.get("email"))==null?null:c.invalid)&&((c=r.registerForm.get("email"))==null?null:c.touched)),H(5),Z("ngIf",((u=r.registerForm.get("password"))==null?null:u.invalid)&&((u=r.registerForm.get("password"))==null?null:u.touched)),H(5),Z("ngIf",r.perfil1Loaded),H(2),Z("ngIf",!r.perfil1Loaded),H(),Z("disabled",!r.registerForm.valid||!r.perfil1Loaded),H(2),Z("ngIf",r.loading),H(),Z("ngIf",r.errorMessage)}},dependencies:[Bi,Ds,Li,Qa,As,Ts,Co,Vi,bo,fr,In],styles:[".container-form[_ngcontent-%COMP%]{background-color:#fff;padding:30px;margin-bottom:20px;border-radius:10px;box-shadow:0 4px 8px #0000001a}"]})};var Pne=(t,e)=>({"bg-success":t,"bg-danger":e}),kne=(t,e)=>({"btn-danger":t,"btn-success":e});function One(t,e){if(t&1&&(D(0,"tr")(1,"td"),V(2),A(),D(3,"td"),V(4),A(),D(5,"td"),V(6),A(),D(7,"td"),V(8),A(),D(9,"td"),V(10),A(),D(11,"td"),V(12),A(),D(13,"td"),fe(14,"img",28),A()()),t&2){let n=e.$implicit;H(2),nt(n.nombre),H(2),nt(n.apellido),H(2),nt(n.email),H(2),nt(n.dni),H(2),nt(n.edad),H(2),nt(n.obraSocial),H(2),Z("src",n.perfil1,Vn)}}function Fne(t,e){if(t&1){let n=yo();$d(0),D(1,"app-pacient-form",29),De("registrationSuccess",function(){ti(n);let i=tt();return ni(i.handleRegistrationSuccess())}),A(),Hd()}if(t&2){let n=tt();H(),Z("redirectToLogin",n.redirectToLogin)}}function Lne(t,e){if(t&1){let n=yo();$d(0),D(1,"app-specialist-form",29),De("registrationSuccess",function(){ti(n);let i=tt();return ni(i.handleRegistrationSuccess())}),A(),Hd()}if(t&2){let n=tt();H(),Z("redirectToLogin",n.redirectToLogin)}}function Vne(t,e){if(t&1){let n=yo();$d(0),D(1,"app-admin-form",29),De("registrationSuccess",function(){ti(n);let i=tt();return ni(i.handleRegistrationSuccess())}),A(),Hd()}if(t&2){let n=tt();H(),Z("redirectToLogin",n.redirectToLogin)}}function Bne(t,e){if(t&1){let n=yo();D(0,"tr")(1,"td"),V(2),A(),D(3,"td"),V(4),A(),D(5,"td"),V(6),A(),D(7,"td"),V(8),A(),D(9,"td"),V(10),A(),D(11,"td")(12,"button",30),De("click",function(){let i=ti(n).$implicit,o=tt();return ni(o.openSpecialtiesModal(i))}),V(13,"Ver Especialidades"),A()(),D(14,"td"),fe(15,"img",28),A(),D(16,"td")(17,"span",31),V(18),A()(),D(19,"td")(20,"button",32),De("click",function(){let i=ti(n).$implicit,o=tt();return ni(o.toggleUserAccess(i.id,i.profileValidatedByAdmin))}),V(21),A()()()}if(t&2){let n=e.$implicit;H(2),nt(n.nombre),H(2),nt(n.apellido),H(2),nt(n.email),H(2),nt(n.dni),H(2),nt(n.edad),H(5),Z("src",n.perfil1,Vn),H(2),Z("ngClass",BE(10,Pne,n.profileValidatedByAdmin,!n.profileValidatedByAdmin)),H(),dr(" ",n.profileValidatedByAdmin?"Habilitado":"Deshabilitado"," "),H(2),Z("ngClass",BE(13,kne,n.profileValidatedByAdmin,!n.profileValidatedByAdmin)),H(),dr(" ",n.profileValidatedByAdmin?"Inhabilitar":"Habilitar"," ")}}function Une(t,e){if(t&1&&(D(0,"li"),V(1),A()),t&2){let n=e.$implicit;H(),nt(n)}}function jne(t,e){if(t&1&&(D(0,"div")(1,"h6"),V(2),A(),D(3,"ul"),he(4,Une,2,1,"li",8),A()()),t&2){let n=tt();H(2),VE("",n.selectedSpecialist.nombre," ",n.selectedSpecialist.apellido,""),H(2),Z("ngForOf",n.selectedSpecialist.especialidades)}}function $ne(t,e){if(t&1&&(D(0,"tr")(1,"td"),V(2),A(),D(3,"td"),V(4),A(),D(5,"td"),V(6),A(),D(7,"td"),V(8),A(),D(9,"td"),V(10),A(),D(11,"td"),fe(12,"img",28),A()()),t&2){let n=e.$implicit;H(2),nt(n.nombre),H(2),nt(n.apellido),H(2),nt(n.email),H(2),nt(n.dni),H(2),nt(n.edad),H(2),Z("src",n.perfil1,Vn)}}var ow=class t{constructor(e,n){this.firestore=e;this.router=n}arrPacientes=[];arrEspecialistas=[];arrAdmins=[];subPacientes;subEspecialistas;subAdmins;currentPagePacientes=1;itemsPerPagePacientes=5;currentPageEspecialistas=1;itemsPerPageEspecialistas=10;currentPageAdmins=1;itemsPerPageAdmins=5;selectedUserType=null;redirectToLogin=!1;ngOnInit(){this.currentPagePacientes=1,this.currentPageEspecialistas=1,this.currentPageAdmins=1,this.getUsers()}ngOnDestroy(){this.subPacientes.unsubscribe(),this.subEspecialistas.unsubscribe(),this.subAdmins.unsubscribe()}onPageChangePacientes(e){this.currentPagePacientes=e}onPageChangeEspecialistas(e){this.currentPageEspecialistas=e}onPageChangeAdmins(e){this.currentPageAdmins=e}getUsers(){this.getPacientes(),this.getEspecialistas(),this.getAdmins()}toggleUserAccess(e,n){return _(this,null,function*(){let r=OF(this.firestore,`especialistas/${e}`);try{yield LF(r,{profileValidatedByAdmin:!n})}catch(i){console.error("Error al actualizar el estado del usuario:",i)}})}addUser(){}getPacientes(){let e=tr(this.firestore,"pacientes"),n=Gs(e,_v("fechaRegistro","asc")),r=yv(n,{idField:"id"});this.subPacientes=r.subscribe(i=>{this.arrPacientes=i})}getEspecialistas(){let e=tr(this.firestore,"especialistas"),n=Gs(e,_v("fechaRegistro","asc")),r=yv(n,{idField:"id"});this.subEspecialistas=r.subscribe(i=>{this.arrEspecialistas=i})}getAdmins(){let e=tr(this.firestore,"admins"),n=Gs(e,_v("fechaRegistro","asc")),r=yv(n,{idField:"id"});this.subAdmins=r.subscribe(i=>{this.arrAdmins=i})}openUserTypeModal(){let e=document.getElementById("userTypeModal");new window.bootstrap.Modal(e).show()}openUserForm(e){this.selectedUserType=e,new window.bootstrap.Modal(document.getElementById("userFormModal")).show()}saveUser(){}handleRegistrationSuccess(){let e=document.getElementById("userFormModal");e&&(window.bootstrap.Modal.getInstance(e).hide(),this.selectedUserType=null)}selectedSpecialist;openSpecialtiesModal(e){this.selectedSpecialist=e,new window.bootstrap.Modal(document.getElementById("specialtiesModal")).show()}static \u0275fac=function(n){return new(n||t)(te(jn),te(Un))};static \u0275cmp=vt({type:t,selectors:[["app-usuarios"]],standalone:!0,features:[_t],decls:114,vars:7,consts:[[1,"container","mt-4"],[1,"mb-4","text-center"],[1,"text-end","mb-3"],["data-bs-toggle","modal","data-bs-target","#userTypeModal",1,"btn","btn-primary"],[1,"mt-4"],[1,"table-responsive"],[1,"table","table-hover","table-bordered"],[1,"thead-light"],[4,"ngFor","ngForOf"],["id","userTypeModal","tabindex","-1","aria-labelledby","userTypeModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","userTypeModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","text-center"],[1,"btn","btn-primary","m-2",3,"click"],[1,"btn","btn-success","m-2",3,"click"],[1,"btn","btn-warning","m-2",3,"click"],["id","userFormModal","tabindex","-1","aria-labelledby","userFormModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],["id","userFormModalLabel",1,"modal-title"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","specialtiesModal","tabindex","-1","aria-labelledby","specialtiesModalLabel","aria-hidden","true",1,"modal","fade"],["id","specialtiesModalLabel",1,"modal-title"],["alt","Imagen de perfil",1,"img-thumbnail",3,"src"],[3,"registrationSuccess","redirectToLogin"],[1,"btn","btn-info",3,"click"],[1,"badge",3,"ngClass"],[1,"btn",3,"click","ngClass"]],template:function(n,r){n&1&&(D(0,"div",0)(1,"h2",1),V(2,"Secci\xF3n de Usuarios"),A(),D(3,"div",2)(4,"button",3),V(5," Agregar Usuario "),A()(),D(6,"h3",4),V(7,"Pacientes"),A(),D(8,"div",5)(9,"table",6)(10,"thead",7)(11,"tr")(12,"th"),V(13,"Nombre"),A(),D(14,"th"),V(15,"Apellido"),A(),D(16,"th"),V(17,"Email"),A(),D(18,"th"),V(19,"DNI"),A(),D(20,"th"),V(21,"Edad"),A(),D(22,"th"),V(23,"Obra Social"),A(),D(24,"th"),V(25,"Imagen"),A()()(),D(26,"tbody"),he(27,One,15,7,"tr",8),A()()(),D(28,"div",9)(29,"div",10)(30,"div",11)(31,"div",12)(32,"h5",13),V(33,"Seleccionar Tipo de Usuario"),A(),fe(34,"button",14),A(),D(35,"div",15)(36,"button",16),De("click",function(){return r.openUserForm("paciente")}),V(37,"Crear Paciente"),A(),D(38,"button",17),De("click",function(){return r.openUserForm("especialista")}),V(39,"Crear Especialista"),A(),D(40,"button",18),De("click",function(){return r.openUserForm("administrador")}),V(41,"Crear Administrador"),A()()()()(),D(42,"div",19)(43,"div",20)(44,"div",11)(45,"div",12)(46,"h5",21),V(47,"Agregar Usuario"),A(),fe(48,"button",14),A(),D(49,"div",22),he(50,Fne,2,1,"ng-container",23)(51,Lne,2,1,"ng-container",23)(52,Vne,2,1,"ng-container",23),A(),D(53,"div",24)(54,"button",25),V(55,"Cerrar"),A()()()()(),D(56,"h3",4),V(57,"Especialistas"),A(),D(58,"div",5)(59,"table",6)(60,"thead",7)(61,"tr")(62,"th"),V(63,"Nombre"),A(),D(64,"th"),V(65,"Apellido"),A(),D(66,"th"),V(67,"Email"),A(),D(68,"th"),V(69,"DNI"),A(),D(70,"th"),V(71,"Edad"),A(),D(72,"th"),V(73,"Especialidades"),A(),D(74,"th"),V(75,"Imagen"),A(),D(76,"th"),V(77,"Estado"),A(),D(78,"th"),V(79,"Acci\xF3n"),A()()(),D(80,"tbody"),he(81,Bne,22,16,"tr",8),A()()(),D(82,"div",26)(83,"div",20)(84,"div",11)(85,"div",12)(86,"h5",27),V(87,"Especialidades"),A(),fe(88,"button",14),A(),D(89,"div",22),he(90,jne,5,3,"div",23),A(),D(91,"div",24)(92,"button",25),V(93,"Cerrar"),A()()()()(),D(94,"h3",4),V(95,"Administradores"),A(),D(96,"div",5)(97,"table",6)(98,"thead",7)(99,"tr")(100,"th"),V(101,"Nombre"),A(),D(102,"th"),V(103,"Apellido"),A(),D(104,"th"),V(105,"Email"),A(),D(106,"th"),V(107,"DNI"),A(),D(108,"th"),V(109,"Edad"),A(),D(110,"th"),V(111,"Imagen"),A()()(),D(112,"tbody"),he(113,$ne,13,6,"tr",8),A()()()()),n&2&&(H(27),Z("ngForOf",r.arrPacientes),H(23),Z("ngIf",r.selectedUserType==="paciente"),H(),Z("ngIf",r.selectedUserType==="especialista"),H(),Z("ngIf",r.selectedUserType==="administrador"),H(29),Z("ngForOf",r.arrEspecialistas),H(9),Z("ngIf",r.selectedSpecialist),H(23),Z("ngForOf",r.arrAdmins))},dependencies:[fr,PN,Pl,In,qu,zu,iw],styles:[".container[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:20px;box-shadow:0 2px 10px #0000001a}.table[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-radius:10px;overflow:hidden}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.img-thumbnail[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover}.badge[_ngcontent-%COMP%]{font-size:.9rem;padding:.5em .75em}th[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}thead[_ngcontent-%COMP%]{background-color:#e9ecef}.btn[_ngcontent-%COMP%]{transition:background-color .3s ease;border-radius:5px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333}.btn-success[_ngcontent-%COMP%]{background-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}@media (max-width: 768px){.img-thumbnail[_ngcontent-%COMP%]{width:40px;height:40px}}"]})};var aj=[{path:"home",title:"Home",component:Rg},{path:"",redirectTo:"home",pathMatch:"full"},{path:"register",title:"Register",component:tw},{path:"login",title:"Login",component:nw},{path:"perfil",title:"Perfil",component:rw},{path:"usuarios",title:"Usuarios",component:ow}];var cj={projectId:"clinica-online-9aa96",appId:"1:439052174571:web:1456e09cacc106cf1eaaae",storageBucket:"clinica-online-9aa96.appspot.com",apiKey:"AIzaSyDrTHnOp6JR1tvhpz6Hqs-9BhY1HCwesRY",authDomain:"clinica-online-9aa96.firebaseapp.com",messagingSenderId:"439052174571"};var lj={providers:[_N({eventCoalescing:!0}),xP(aj),k1(()=>O1(cj)),Mk(()=>Nk()),kF(()=>FF())]};function Hne(t,e){t&1&&(D(0,"li",6)(1,"a",9),V(2,"Iniciar Sesi\xF3n"),A()())}function qne(t,e){t&1&&(D(0,"li",6)(1,"a",10),V(2,"Registrarse"),A()())}function zne(t,e){t&1&&(D(0,"li",6)(1,"a",11),V(2,"Perfil"),A()())}function Gne(t,e){t&1&&(D(0,"li",6)(1,"a",12),V(2,"Usuarios"),A()())}function Wne(t,e){if(t&1){let n=yo();D(0,"li",6)(1,"button",13),De("click",function(){ti(n);let i=tt();return ni(i.logout())}),V(2,"Cerrar Sesi\xF3n"),A()()}}var sw=class t{constructor(e,n){this.authService=e;this.router=n;this.authService.user$.subscribe(r=>{if(this.userInLocalStorage=r,this.userInLocalStorage){let i=this.authService.getUser();i&&(i.isAdmin?this.isAdmin=!0:this.isAdmin=!1)}})}userInLocalStorage=!1;isAdmin=!1;logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||t)(te(Gu),te(Un))};static \u0275cmp=vt({type:t,selectors:[["app-navbar"]],standalone:!0,features:[_t],decls:14,vars:5,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item","me-3"],["aria-current","page","routerLink","home",1,"nav-link","active","hover-effect"],["class","nav-item me-3",4,"ngIf"],["routerLink","login",1,"nav-link","hover-effect"],["routerLink","register",1,"nav-link","hover-effect"],["routerLink","perfil",1,"nav-link","hover-effect"],["routerLink","usuarios",1,"nav-link","hover-effect"],[1,"btn","btn-danger",3,"click"]],template:function(n,r){n&1&&(D(0,"nav",0)(1,"div",1)(2,"button",2),fe(3,"span",3),A(),D(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),V(8,"Inicio"),A()(),he(9,Hne,3,0,"li",8)(10,qne,3,0,"li",8)(11,zne,3,0,"li",8)(12,Gne,3,0,"li",8)(13,Wne,3,0,"li",8),A()()()()),n&2&&(H(9),Z("ngIf",!r.userInLocalStorage),H(),Z("ngIf",!r.userInLocalStorage),H(),Z("ngIf",r.userInLocalStorage),H(),Z("ngIf",r.userInLocalStorage&&r.isAdmin),H(),Z("ngIf",r.userInLocalStorage))},dependencies:[SP,In],styles:[".hover-effect[_ngcontent-%COMP%]{transition:box-shadow .3s ease,background-color .3s ease}.hover-effect[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0003;background-color:#007bff1a;border-radius:10px}"]})};var aw=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=vt({type:t,selectors:[["app-footer"]],standalone:!0,features:[_t],decls:5,vars:0,consts:[[1,"nav","justify-content-center","flex-wrap"],[1,"nav-item"],["href","#",1,"nav-link"]],template:function(n,r){n&1&&(D(0,"footer")(1,"ul",0)(2,"li",1)(3,"a",2),V(4,"Repositorio de Github"),A()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;text-align:center;position:relative;bottom:0;width:100%}.nav[_ngcontent-%COMP%]{flex-wrap:wrap}.nav-link[_ngcontent-%COMP%]{margin:5px}"]})};var cw=class t{title="clinica-online";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=vt({type:t,selectors:[["app-root"]],standalone:!0,features:[_t],decls:4,vars:0,consts:[[1,"app-container"]],template:function(n,r){n&1&&(fe(0,"app-navbar"),D(1,"div",0),fe(2,"router-outlet"),A(),fe(3,"app-footer"))},dependencies:[kb,sw,aw],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}.app-container[_ngcontent-%COMP%]{min-height:calc(100vh - 152px);display:flex;flex-direction:column;background:url("./media/fondo-clinica-RSVOCLWJ.jpg") no-repeat center center;background-size:cover}app-footer[_ngcontent-%COMP%]{flex-shrink:0}']})};$N(cw,lj).catch(t=>console.error(t));
