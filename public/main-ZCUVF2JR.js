var iA=Object.defineProperty,sA=Object.defineProperties;var oA=Object.getOwnPropertyDescriptors;var z_=Object.getOwnPropertySymbols,aA=Object.getPrototypeOf,cA=Object.prototype.hasOwnProperty,uA=Object.prototype.propertyIsEnumerable,lA=Reflect.get;var G_=(t,e,n)=>e in t?iA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})cA.call(e,n)&&G_(t,n,e[n]);if(z_)for(var n of z_(e))uA.call(e,n)&&G_(t,n,e[n]);return t},se=(t,e)=>sA(t,oA(e));var cr=(t,e,n)=>lA(aA(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(d){i(d)}},o=u=>{try{c(n.throw(u))}catch(d){i(d)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});function W_(t,e){return Object.is(t,e)}var $e=null,Rc=!1,Nc=1,ur=Symbol("SIGNAL");function pe(t){let e=$e;return $e=t,e}function K_(){return $e}var Po={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Oh(t){if(Rc)throw new Error("");if($e===null)return;$e.consumerOnSignalRead(t);let e=$e.nextProducerIndex++;if(Oc($e),e<$e.producerNode.length&&$e.producerNode[e]!==t&&xo($e)){let n=$e.producerNode[e];Pc(n,$e.producerIndexOfThis[e])}$e.producerNode[e]!==t&&($e.producerNode[e]=t,$e.producerIndexOfThis[e]=xo($e)?Z_(t,$e,e):0),$e.producerLastReadVersion[e]=t.version}function dA(){Nc++}function Q_(t){if(!(xo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Nc)){if(!t.producerMustRecompute(t)&&!Fh(t)){t.dirty=!1,t.lastCleanEpoch=Nc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Nc}}function Y_(t){if(t.liveConsumerNode===void 0)return;let e=Rc;Rc=!0;try{for(let n of t.liveConsumerNode)n.dirty||hA(n)}finally{Rc=e}}function J_(){return $e?.consumerAllowSignalWrites!==!1}function hA(t){t.dirty=!0,Y_(t),t.consumerMarkedDirty?.(t)}function xc(t){return t&&(t.nextProducerIndex=0),pe(t)}function kh(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(xo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Pc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Fh(t){Oc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Q_(n),r!==n.version))return!0}return!1}function Lh(t){if(Oc(t),xo(t))for(let e=0;e<t.producerNode.length;e++)Pc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Z_(t,e,n){if(X_(t),t.liveConsumerNode.length===0&&eI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Z_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Pc(t,e){if(X_(t),t.liveConsumerNode.length===1&&eI(t))for(let r=0;r<t.producerNode.length;r++)Pc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Oc(i),i.producerIndexOfThis[r]=e}}function xo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Oc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function X_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function eI(t){return t.producerNode!==void 0}function tI(t){let e=Object.create(fA);e.computation=t;let n=()=>{if(Q_(e),Oh(e),e.value===Mc)throw e.error;return e.value};return n[ur]=e,n}var xh=Symbol("UNSET"),Ph=Symbol("COMPUTING"),Mc=Symbol("ERRORED"),fA=se(F({},Po),{value:xh,dirty:!0,error:null,equal:W_,producerMustRecompute(t){return t.value===xh||t.value===Ph},producerRecomputeValue(t){if(t.value===Ph)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Ph;let n=xc(t),r;try{r=t.computation()}catch(i){r=Mc,t.error=i}finally{kh(t,n)}if(e!==xh&&e!==Mc&&r!==Mc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function pA(){throw new Error}var nI=pA;function rI(){nI()}function iI(t){nI=t}var gA=null;function sI(t){let e=Object.create(aI);e.value=t;let n=()=>(Oh(e),e.value);return n[ur]=e,n}function Vh(t,e){J_()||rI(),t.equal(t.value,e)||(t.value=e,mA(t))}function oI(t,e){J_()||rI(),Vh(t,e(t.value))}var aI=se(F({},Po),{equal:W_,value:void 0});function mA(t){t.version++,dA(),Y_(t),gA?.()}function Z(t){return typeof t=="function"}function ji(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var kc=ji(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Yr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Me=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(s){e=s instanceof kc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{cI(s)}catch(o){e=e??[],o instanceof kc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new kc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)cI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Yr(n,e)}remove(e){let{_finalizers:n}=this;n&&Yr(n,e),e instanceof t&&e._removeParent(this)}};Me.EMPTY=(()=>{let t=new Me;return t.closed=!0,t})();var Uh=Me.EMPTY;function Fc(t){return t instanceof Me||t&&"closed"in t&&Z(t.remove)&&Z(t.add)&&Z(t.unsubscribe)}function cI(t){Z(t)?t():t.unsubscribe()}var zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Bi={setTimeout(t,e,...n){let{delegate:r}=Bi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Bi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Lc(t){Bi.setTimeout(()=>{let{onUnhandledError:e}=zt;if(e)e(t);else throw t})}function Oo(){}var uI=jh("C",void 0,void 0);function lI(t){return jh("E",void 0,t)}function dI(t){return jh("N",t,void 0)}function jh(t,e,n){return{kind:t,value:e,error:n}}var Jr=null;function $i(t){if(zt.useDeprecatedSynchronousErrorHandling){let e=!Jr;if(e&&(Jr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Jr;if(Jr=null,n)throw r}}else t()}function hI(t){zt.useDeprecatedSynchronousErrorHandling&&Jr&&(Jr.errorThrown=!0,Jr.error=t)}var Zr=class extends Me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Fc(e)&&e.add(this)):this.destination=_A}static create(e,n,r){return new Hi(e,n,r)}next(e){this.isStopped?$h(dI(e),this):this._next(e)}error(e){this.isStopped?$h(lI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$h(uI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},yA=Function.prototype.bind;function Bh(t,e){return yA.call(t,e)}var Hh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Vc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Vc(r)}else Vc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Vc(n)}}},Hi=class extends Zr{constructor(e,n,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&zt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Bh(e.next,s),error:e.error&&Bh(e.error,s),complete:e.complete&&Bh(e.complete,s)}):i=e}this.destination=new Hh(i)}};function Vc(t){zt.useDeprecatedSynchronousErrorHandling?hI(t):Lc(t)}function vA(t){throw t}function $h(t,e){let{onStoppedNotification:n}=zt;n&&Bi.setTimeout(()=>n(t,e))}var _A={closed:!0,next:Oo,error:vA,complete:Oo};var qi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Tt(t){return t}function qh(...t){return zh(t)}function zh(t){return t.length===0?Tt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=wA(n)?n:new Hi(n,r,i);return $i(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=fI(r),new r((i,s)=>{let o=new Hi({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[qi](){return this}pipe(...n){return zh(n)(this)}toPromise(n){return n=fI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function fI(t){var e;return(e=t??zt.Promise)!==null&&e!==void 0?e:Promise}function IA(t){return t&&Z(t.next)&&Z(t.error)&&Z(t.complete)}function wA(t){return t&&t instanceof Zr||IA(t)&&Fc(t)}function Gh(t){return Z(t?.lift)}function he(t){return e=>{if(Gh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(t,e,n,r,i){return new Wh(t,e,n,r,i)}var Wh=class extends Zr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function zi(){return he((t,e)=>{let n=null;t._refCount++;let r=ae(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Gi=class extends oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Gh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Me;let n=this.getSubject();e.add(this.source.subscribe(ae(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Me.EMPTY)}return e}refCount(){return zi()(this)}};var pI=ji(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var We=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Uc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new pI}next(n){$i(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){$i(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){$i(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Uh:(this.currentObservers=null,s.push(n),new Me(()=>{this.currentObservers=null,Yr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new Uc(e,n),t})(),Uc=class extends We{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Uh}};var Ze=class extends We{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Kh={now(){return(Kh.delegate||Date).now()},delegate:void 0};var jc=class extends Me{constructor(e,n){super()}schedule(e,n=0){return this}};var ko={setInterval(t,e,...n){let{delegate:r}=ko;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ko;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Wi=class extends jc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ko.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ko.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Yr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ki=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ki.now=Kh.now;var Qi=class extends Ki{constructor(e,n=Ki.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Qh=new Qi(Wi);var Bc=class extends Wi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var $c=class extends Qi{};var Yh=new $c(Bc);var Ct=new oe(t=>t.complete());function gI(t){return t&&Z(t.schedule)}function mI(t){return t[t.length-1]}function Hc(t){return Z(mI(t))?t.pop():void 0}function lr(t){return gI(mI(t))?t.pop():void 0}function Jh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{d(r.next(f))}catch(g){o(g)}}function u(f){try{d(r.throw(f))}catch(g){o(g)}}function d(f){f.done?s(f.value):i(f.value).then(c,u)}d((r=r.apply(t,e||[])).next())})}function yI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xr(t){return this instanceof Xr?(this.v=t,this):new Xr(t)}function _I(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(w){return function(A){return Promise.resolve(A).then(w,g)}}function c(w,A){r[w]&&(i[w]=function(N){return new Promise(function(R,V){s.push([w,N,R,V])>1||u(w,N)})},A&&(i[w]=A(i[w])))}function u(w,A){try{d(r[w](A))}catch(N){I(s[0][3],N)}}function d(w){w.value instanceof Xr?Promise.resolve(w.value.v).then(f,g):I(s[0][2],w)}function f(w){u("next",w)}function g(w){u("throw",w)}function I(w,A){w(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function II(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof yI=="function"?yI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(d){s({value:d,done:c})},o)}}var qc=t=>t&&typeof t.length=="number"&&typeof t!="function";function zc(t){return Z(t?.then)}function Gc(t){return Z(t[qi])}function Wc(t){return Symbol.asyncIterator&&Z(t?.[Symbol.asyncIterator])}function Kc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function EA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qc=EA();function Yc(t){return Z(t?.[Qc])}function Jc(t){return _I(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Xr(n.read());if(i)return yield Xr(void 0);yield yield Xr(r)}}finally{n.releaseLock()}})}function Zc(t){return Z(t?.getReader)}function ke(t){if(t instanceof oe)return t;if(t!=null){if(Gc(t))return DA(t);if(qc(t))return bA(t);if(zc(t))return TA(t);if(Wc(t))return wI(t);if(Yc(t))return CA(t);if(Zc(t))return SA(t)}throw Kc(t)}function DA(t){return new oe(e=>{let n=t[qi]();if(Z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function bA(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function TA(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Lc)})}function CA(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function wI(t){return new oe(e=>{AA(t,e).catch(n=>e.error(n))})}function SA(t){return wI(Jc(t))}function AA(t,e){var n,r,i,s;return vI(this,void 0,void 0,function*(){try{for(n=II(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function gt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function dr(t,e=0){return he((n,r)=>{n.subscribe(ae(r,i=>gt(r,t,()=>r.next(i),e),()=>gt(r,t,()=>r.complete(),e),i=>gt(r,t,()=>r.error(i),e)))})}function hr(t,e=0){return he((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function EI(t,e){return ke(t).pipe(hr(e),dr(e))}function DI(t,e){return ke(t).pipe(hr(e),dr(e))}function bI(t,e){return new oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function TI(t,e){return new oe(n=>{let r;return gt(n,e,()=>{r=t[Qc](),gt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function Xc(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{gt(n,e,()=>{let r=t[Symbol.asyncIterator]();gt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function CI(t,e){return Xc(Jc(t),e)}function SI(t,e){if(t!=null){if(Gc(t))return EI(t,e);if(qc(t))return bI(t,e);if(zc(t))return DI(t,e);if(Wc(t))return Xc(t,e);if(Yc(t))return TI(t,e);if(Zc(t))return CI(t,e)}throw Kc(t)}function Se(t,e){return e?SI(t,e):ke(t)}function Q(...t){let e=lr(t);return Se(t,e)}function Yi(t,e){let n=Z(t)?t:()=>t,r=i=>i.error(n());return new oe(e?i=>e.schedule(r,0,i):r)}function Zh(t){return!!t&&(t instanceof oe||Z(t.lift)&&Z(t.subscribe))}var Cn=ji(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function X(t,e){return he((n,r)=>{let i=0;n.subscribe(ae(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:RA}=Array;function NA(t,e){return RA(e)?t(...e):t(e)}function eu(t){return X(e=>NA(t,e))}var{isArray:MA}=Array,{getPrototypeOf:xA,prototype:PA,keys:OA}=Object;function tu(t){if(t.length===1){let e=t[0];if(MA(e))return{args:e,keys:null};if(kA(e)){let n=OA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function kA(t){return t&&typeof t=="object"&&xA(t)===PA}function nu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ru(...t){let e=lr(t),n=Hc(t),{args:r,keys:i}=tu(t);if(r.length===0)return Se([],e);let s=new oe(FA(r,e,i?o=>nu(i,o):Tt));return n?s.pipe(eu(n)):s}function FA(t,e,n=Tt){return r=>{AI(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)AI(e,()=>{let d=Se(t[u],e),f=!1;d.subscribe(ae(r,g=>{s[u]=g,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function AI(t,e,n){t?gt(n,t,e):e()}function RI(t,e,n,r,i,s,o,c){let u=[],d=0,f=0,g=!1,I=()=>{g&&!u.length&&!d&&e.complete()},w=N=>d<r?A(N):u.push(N),A=N=>{s&&e.next(N),d++;let R=!1;ke(n(N,f++)).subscribe(ae(e,V=>{i?.(V),s?w(V):e.next(V)},()=>{R=!0},void 0,()=>{if(R)try{for(d--;u.length&&d<r;){let V=u.shift();o?gt(e,o,()=>A(V)):A(V)}I()}catch(V){e.error(V)}}))};return t.subscribe(ae(e,w,()=>{g=!0,I()})),()=>{c?.()}}function He(t,e,n=1/0){return Z(e)?He((r,i)=>X((s,o)=>e(r,s,i,o))(ke(t(r,i))),n):(typeof e=="number"&&(n=e),he((r,i)=>RI(r,i,t,n)))}function Xh(t=1/0){return He(Tt,t)}function NI(){return Xh(1)}function Ji(...t){return NI()(Se(t,lr(t)))}function iu(t){return new oe(e=>{ke(t()).subscribe(e)})}function ef(...t){let e=Hc(t),{args:n,keys:r}=tu(t),i=new oe(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),u=o,d=o;for(let f=0;f<o;f++){let g=!1;ke(n[f]).subscribe(ae(s,I=>{g||(g=!0,d--),c[f]=I},()=>u--,void 0,()=>{(!u||!g)&&(d||s.next(r?nu(r,c):c),s.complete())}))}});return e?i.pipe(eu(e)):i}function St(t,e){return he((n,r)=>{let i=0;n.subscribe(ae(r,s=>t.call(e,s,i++)&&r.next(s)))})}function fr(t){return he((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ae(n,void 0,void 0,o=>{s=ke(t(o,fr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function MI(t,e,n,r,i){return(s,o)=>{let c=n,u=e,d=0;s.subscribe(ae(o,f=>{let g=d++;u=c?t(u,f,g):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function pr(t,e){return Z(e)?He(t,e,1):He(t,1)}function gr(t){return he((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Sn(t){return t<=0?()=>Ct:he((e,n)=>{let r=0;e.subscribe(ae(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function tf(t){return X(()=>t)}function su(t=LA){return he((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function LA(){return new Cn}function mr(t){return he((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function nn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?St((i,s)=>t(i,s,r)):Tt,Sn(1),n?gr(e):su(()=>new Cn))}function Zi(t){return t<=0?()=>Ct:he((e,n)=>{let r=[];e.subscribe(ae(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function nf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?St((i,s)=>t(i,s,r)):Tt,Zi(1),n?gr(e):su(()=>new Cn))}function rf(t,e){return he(MI(t,e,arguments.length>=2,!0))}function sf(...t){let e=lr(t);return he((n,r)=>{(e?Ji(t,n,e):Ji(t,n)).subscribe(r)})}function At(t,e){return he((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(ae(r,u=>{i?.unsubscribe();let d=0,f=s++;ke(t(u,f)).subscribe(i=ae(r,g=>r.next(e?e(u,g,f,d++):g),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function of(t){return he((e,n)=>{ke(t).subscribe(ae(n,()=>n.complete(),Oo)),!n.closed&&e.subscribe(n)})}function Fe(t,e,n){let r=Z(t)||e||n?{next:t,error:e,complete:n}:t;return r?he((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(ae(s,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var d;c=!1,(d=r.error)===null||d===void 0||d.call(r,u),s.error(u)},()=>{var u,d;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Tt}var mw="https://g.co/ng/security#xss",q=class extends Error{constructor(e,n){super(Uu(e,n)),this.code=e}};function Uu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Go(t){return{toString:t}.toString()}var ou="__parameters__";function VA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function UA(t,e,n){return Go(()=>{let r=VA(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,d,f){let g=u.hasOwnProperty(ou)?u[ou]:Object.defineProperty(u,ou,{value:[]})[ou];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var If=globalThis;function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function jA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function dt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(dt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function xI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var BA=Ee({__forward_ref__:Ee});function ln(t){return t.__forward_ref__=ln,t.toString=function(){return dt(this())},t}function lt(t){return yw(t)?t():t}function yw(t){return typeof t=="function"&&t.hasOwnProperty(BA)&&t.__forward_ref__===ln}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Mn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ju(t){return PI(t,_w)||PI(t,Iw)}function vw(t){return ju(t)!==null}function PI(t,e){return t.hasOwnProperty(e)?t[e]:null}function $A(t){let e=t&&(t[_w]||t[Iw]);return e||null}function OI(t){return t&&(t.hasOwnProperty(kI)||t.hasOwnProperty(HA))?t[kI]:null}var _w=Ee({\u0275prov:Ee}),kI=Ee({\u0275inj:Ee}),Iw=Ee({ngInjectableDef:Ee}),HA=Ee({ngInjectorDef:Ee}),U=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ww(t){return t&&!!t.\u0275providers}var qA=Ee({\u0275cmp:Ee}),zA=Ee({\u0275dir:Ee}),GA=Ee({\u0275pipe:Ee}),WA=Ee({\u0275mod:Ee}),mu=Ee({\u0275fac:Ee}),Vo=Ee({__NG_ELEMENT_ID__:Ee}),FI=Ee({__NG_ENV_ID__:Ee});function Bu(t){return typeof t=="string"?t:t==null?"":String(t)}function KA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Bu(t)}function QA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new q(-200,t)}function sp(t,e){throw new q(-201,!1)}var te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(te||{}),wf;function Ew(){return wf}function kt(t){let e=wf;return wf=t,e}function Dw(t,e,n){let r=ju(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&te.Optional)return null;if(e!==void 0)return e;sp(t,"Injector")}var YA={},Uo=YA,Ef="__NG_DI_FLAG__",yu="ngTempTokenPath",JA="ngTokenPath",ZA=/\n/gm,XA="\u0275",LI="__source",ns;function eR(){return ns}function yr(t){let e=ns;return ns=t,e}function tR(t,e=te.Default){if(ns===void 0)throw new q(-203,!1);return ns===null?Dw(t,void 0,e):ns.get(t,e&te.Optional?null:void 0,e)}function K(t,e=te.Default){return(Ew()||tR)(lt(t),e)}function x(t,e=te.Default){return K(t,$u(e))}function $u(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Df(t){let e=[];for(let n=0;n<t.length;n++){let r=lt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new q(900,!1);let i,s=te.Default;for(let o=0;o<r.length;o++){let c=r[o],u=rR(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(K(i,s))}else e.push(K(r))}return e}function nR(t,e){return t[Ef]=e,t.prototype[Ef]=e,t}function rR(t){return t[Ef]}function iR(t,e,n,r){let i=t[yu];throw e[LI]&&i.unshift(e[LI]),t.message=sR(`
`+t.message,i,n,r),t[JA]=i,t[yu]=null,t}function sR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==XA?t.slice(2):t;let i=dt(e);if(Array.isArray(e))i=e.map(dt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):dt(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(ZA,`
  `)}`}var vt=nR(UA("Optional"),8);function is(t,e){let n=t.hasOwnProperty(mu);return n?t[mu]:null}function op(t,e){t.forEach(n=>Array.isArray(n)?op(n,e):e(n))}function bw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function oR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function aR(t,e,n){let r=Wo(t,e);return r>=0?t[r|1]=n:(r=~r,oR(t,r,e,n)),r}function af(t,e){let n=Wo(t,e);if(n>=0)return t[n|1]}function Wo(t,e){return cR(t,e,1)}function cR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ss={},Ft=[],os=new U(""),Tw=new U("",-1),Cw=new U(""),_u=class{get(e,n=Uo){if(n===Uo){let r=new Error(`NullInjectorError: No provider for ${dt(e)}!`);throw r.name="NullInjectorError",r}return n}},Sw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Sw||{}),on=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(on||{}),Ir=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ir||{});function uR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function bf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];lR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Aw(t){return t===3||t===4||t===6}function lR(t){return t.charCodeAt(0)===64}function jo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?VI(t,n,i,null,e[++r]):VI(t,n,i,null,null))}}return t}function VI(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Rw="ng-template";function dR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&uR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ap(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function ap(t){return t.type===4&&t.value!==Rw}function hR(t,e,n){let r=t.type===4&&!n?Rw:t.value;return e===r}function fR(t,e,n){let r=4,i=t.attrs,s=i!==null?mR(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Gt(r)&&!Gt(u))return!1;if(o&&Gt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!hR(t,u,n)||u===""&&e.length===1){if(Gt(r))return!1;o=!0}}else if(r&8){if(i===null||!dR(t,i,u,n)){if(Gt(r))return!1;o=!0}}else{let d=e[++c],f=pR(u,i,ap(t),n);if(f===-1){if(Gt(r))return!1;o=!0;continue}if(d!==""){let g;if(f>s?g="":g=i[f+1].toLowerCase(),r&2&&d!==g){if(Gt(r))return!1;o=!0}}}}return Gt(r)||o}function Gt(t){return(t&1)===0}function pR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return yR(e,t)}function gR(t,e,n=!1){for(let r=0;r<e.length;r++)if(fR(t,e[r],n))return!0;return!1}function mR(t){for(let e=0;e<t.length;e++){let n=t[e];if(Aw(n))return e}return t.length}function yR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function UI(t,e){return t?":not("+e.trim()+")":e}function vR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Gt(o)&&(e+=UI(s,i),i=""),r=o,s=s||!Gt(r);n++}return i!==""&&(e+=UI(s,i)),e}function _R(t){return t.map(vR).join(",")}function IR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Gt(i))break;i=s}r++}return{attrs:e,classes:n}}function _t(t){return Go(()=>{let e=Ow(t),n=se(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Sw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||on.Emulated,styles:t.styles||Ft,_:null,schemas:t.schemas||null,tView:null,id:""});kw(n);let r=t.dependencies;return n.directiveDefs=BI(r,!1),n.pipeDefs=BI(r,!0),n.id=DR(n),n})}function wR(t){return ti(t)||Nw(t)}function ER(t){return t!==null}function xn(t){return Go(()=>({type:t.type,bootstrap:t.bootstrap||Ft,declarations:t.declarations||Ft,imports:t.imports||Ft,exports:t.exports||Ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function jI(t,e){if(t==null)return ss;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=Ir.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==Ir.None?[r,c]:r,e[s]=o):n[s]=r}return n}function xe(t){return Go(()=>{let e=Ow(t);return kw(e),e})}function ti(t){return t[qA]||null}function Nw(t){return t[zA]||null}function Mw(t){return t[GA]||null}function xw(t){let e=ti(t)||Nw(t)||Mw(t);return e!==null?e.standalone:!1}function Pw(t,e){let n=t[WA]||null;if(!n&&e===!0)throw new Error(`Type ${dt(t)} does not have '\u0275mod' property.`);return n}function Ow(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ss,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jI(t.inputs,e),outputs:jI(t.outputs),debugInfo:null}}function kw(t){t.features?.forEach(e=>e(t))}function BI(t,e){if(!t)return null;let n=e?Mw:wR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(ER)}function DR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ut(t){return{\u0275providers:t}}function bR(...t){return{\u0275providers:Fw(!0,t),\u0275fromNgModule:!0}}function Fw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return op(e,o=>{let c=o;Tf(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Lw(i,s),n}function Lw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];cp(i,s=>{e(s,r)})}}function Tf(t,e,n,r){if(t=lt(t),!t)return!1;let i=null,s=OI(t),o=!s&&ti(t);if(!s&&!o){let u=t.ngModule;if(s=OI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of u)Tf(d,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let d;try{op(s.imports,f=>{Tf(f,e,n,r)&&(d||=[],d.push(f))})}finally{}d!==void 0&&Lw(d,e)}if(!c){let d=is(i)||(()=>new i);e({provide:i,useFactory:d,deps:Ft},i),e({provide:Cw,useValue:i,multi:!0},i),e({provide:os,useValue:()=>K(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let d=t;cp(u,f=>{e(f,d)})}}else return!1;return i!==t&&t.providers!==void 0}function cp(t,e){for(let n of t)ww(n)&&(n=n.\u0275providers),Array.isArray(n)?cp(n,e):e(n)}var TR=Ee({provide:String,useValue:Ee});function Vw(t){return t!==null&&typeof t=="object"&&TR in t}function CR(t){return!!(t&&t.useExisting)}function SR(t){return!!(t&&t.useFactory)}function as(t){return typeof t=="function"}function AR(t){return!!t.useClass}var Hu=new U(""),du={},RR={},cf;function up(){return cf===void 0&&(cf=new _u),cf}var mt=class{},Bo=class extends mt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sf(e,o=>this.processProvider(o)),this.records.set(Tw,Xi(void 0,this)),i.has("environment")&&this.records.set(mt,Xi(void 0,this));let s=this.records.get(Hu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Cw,Ft,te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=yr(this),r=kt(void 0),i;try{return e()}finally{yr(n),kt(r)}}get(e,n=Uo,r=te.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(FI))return e[FI](this);r=$u(r);let i,s=yr(this),o=kt(void 0);try{if(!(r&te.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=OR(e)&&ju(e);d&&this.injectableDefInScope(d)?u=Xi(Cf(e),du):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&te.Self?up():this.parent;return n=r&te.Optional&&n===Uo?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[yu]=c[yu]||[]).unshift(dt(e)),s)throw c;return iR(c,e,"R3InjectorError",this.source)}else throw c}finally{kt(o),yr(s)}}resolveInjectorInitializers(){let e=pe(null),n=yr(this),r=kt(void 0),i;try{let s=this.get(os,Ft,te.Self);for(let o of s)o()}finally{yr(n),kt(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(e){e=lt(e);let n=as(e)?e:lt(e&&e.provide),r=MR(e);if(!as(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Xi(void 0,du,!0),i.factory=()=>Df(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===du&&(n.value=RR,n.value=n.factory()),typeof n.value=="object"&&n.value&&PR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=lt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Cf(t){let e=ju(t),n=e!==null?e.factory:is(t);if(n!==null)return n;if(t instanceof U)throw new q(204,!1);if(t instanceof Function)return NR(t);throw new q(204,!1)}function NR(t){if(t.length>0)throw new q(204,!1);let n=$A(t);return n!==null?()=>n.factory(t):()=>new t}function MR(t){if(Vw(t))return Xi(void 0,t.useValue);{let e=Uw(t);return Xi(e,du)}}function Uw(t,e,n){let r;if(as(t)){let i=lt(t);return is(i)||Cf(i)}else if(Vw(t))r=()=>lt(t.useValue);else if(SR(t))r=()=>t.useFactory(...Df(t.deps||[]));else if(CR(t))r=()=>K(lt(t.useExisting));else{let i=lt(t&&(t.useClass||t.provide));if(xR(t))r=()=>new i(...Df(t.deps));else return is(i)||Cf(i)}return r}function Xi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function xR(t){return!!t.deps}function PR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function OR(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function Sf(t,e){for(let n of t)Array.isArray(n)?Sf(n,e):n&&ww(n)?Sf(n.\u0275providers,e):e(n)}function Qt(t,e){t instanceof Bo&&t.assertNotDestroyed();let n,r=yr(t),i=kt(void 0);try{return e()}finally{yr(r),kt(i)}}function kR(){return Ew()!==void 0||eR()!=null}function FR(t){return typeof t=="function"}var Pn=0,ce=1,Y=2,ht=3,Wt=4,Yt=5,Iu=6,wu=7,Kt=8,cs=9,an=10,Xe=11,$o=12,$I=13,ms=14,cn=15,us=16,es=17,ls=18,qu=19,jw=20,vr=21,uf=22,Lt=23,wr=25,Bw=1;var ni=7,Eu=8,Du=9,Vt=10,bu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(bu||{});function _r(t){return Array.isArray(t)&&typeof t[Bw]=="object"}function On(t){return Array.isArray(t)&&t[Bw]===!0}function $w(t){return(t.flags&4)!==0}function zu(t){return t.componentOffset>-1}function lp(t){return(t.flags&1)===1}function Er(t){return!!t.template}function Af(t){return(t[Y]&512)!==0}var Rf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Hw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function kn(){return qw}function qw(t){return t.type.prototype.ngOnChanges&&(t.setInput=VR),LR}kn.ngInherit=!0;function LR(){let t=Gw(this),e=t?.current;if(e){let n=t.previous;if(n===ss)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function VR(t,e,n,r,i){let s=this.declaredInputs[r],o=Gw(t)||UR(t,{previous:ss,current:null}),c=o.current||(o.current={}),u=o.previous,d=u[s];c[s]=new Rf(d&&d.currentValue,n,u===ss),Hw(t,e,i,n)}var zw="__ngSimpleChanges__";function Gw(t){return t[zw]||null}function UR(t,e){return t[zw]=e}var HI=null;var rn=function(t,e,n){HI?.(t,e,n)},jR="svg",BR="math";function un(t){for(;Array.isArray(t);)t=t[Pn];return t}function Ww(t,e){return un(e[t])}function jt(t,e){return un(e[t.index])}function Kw(t,e){return t.data[e]}function br(t,e){let n=e[t];return _r(n)?n:n[Pn]}function dp(t){return(t[Y]&128)===128}function $R(t){return On(t[ht])}function Tu(t,e){return e==null?null:t[e]}function Qw(t){t[es]=0}function Yw(t){t[Y]&1024||(t[Y]|=1024,dp(t)&&Wu(t))}function HR(t,e){for(;t>0;)e=e[ms],t--;return e}function Gu(t){return!!(t[Y]&9216||t[Lt]?.dirty)}function Nf(t){t[an].changeDetectionScheduler?.notify(8),t[Y]&64&&(t[Y]|=1024),Gu(t)&&Wu(t)}function Wu(t){t[an].changeDetectionScheduler?.notify(0);let e=ri(t);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!dp(e)));)e=ri(e)}function Jw(t,e){if((t[Y]&256)===256)throw new q(911,!1);t[vr]===null&&(t[vr]=[]),t[vr].push(e)}function qR(t,e){if(t[vr]===null)return;let n=t[vr].indexOf(e);n!==-1&&t[vr].splice(n,1)}function ri(t){let e=t[ht];return On(e)?e[ht]:e}var ue={lFrame:oE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Zw=!1;function zR(){return ue.lFrame.elementDepthCount}function GR(){ue.lFrame.elementDepthCount++}function WR(){ue.lFrame.elementDepthCount--}function Xw(){return ue.bindingsEnabled}function KR(){return ue.skipHydrationRootTNode!==null}function QR(t){return ue.skipHydrationRootTNode===t}function YR(){ue.skipHydrationRootTNode=null}function Ae(){return ue.lFrame.lView}function Jt(){return ue.lFrame.tView}function Tr(t){return ue.lFrame.contextLView=t,t[Kt]}function Cr(t){return ue.lFrame.contextLView=null,t}function It(){let t=eE();for(;t!==null&&t.type===64;)t=t.parent;return t}function eE(){return ue.lFrame.currentTNode}function JR(){let t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ko(t,e){let n=ue.lFrame;n.currentTNode=t,n.isParent=e}function tE(){return ue.lFrame.isParent}function ZR(){ue.lFrame.isParent=!1}function nE(){return Zw}function qI(t){Zw=t}function XR(t){return ue.lFrame.bindingIndex=t}function hp(){return ue.lFrame.bindingIndex++}function eN(t){let e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function tN(){return ue.lFrame.inI18n}function nN(t,e){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,Mf(e)}function rN(){return ue.lFrame.currentDirectiveIndex}function Mf(t){ue.lFrame.currentDirectiveIndex=t}function iN(t){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function rE(t){ue.lFrame.currentQueryIndex=t}function sN(t){let e=t[ce];return e.type===2?e.declTNode:e.type===1?t[Yt]:null}function iE(t,e,n){if(n&te.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&te.Host);)if(i=sN(s),i===null||(s=s[ms],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ue.lFrame=sE();return r.currentTNode=e,r.lView=t,!0}function fp(t){let e=sE(),n=t[ce];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function sE(){let t=ue.lFrame,e=t===null?null:t.child;return e===null?oE(t):e}function oE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function aE(){let t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var cE=aE;function pp(){let t=aE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function oN(t){return(ue.lFrame.contextLView=HR(t,ue.lFrame.contextLView))[Kt]}function ys(){return ue.lFrame.selectedIndex}function ii(t){ue.lFrame.selectedIndex=t}function uE(){let t=ue.lFrame;return Kw(t.tView,t.selectedIndex)}function aN(){return ue.lFrame.currentNamespace}var lE=!0;function gp(){return lE}function mp(t){lE=t}function cN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=qw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function yp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function hu(t,e,n){dE(t,e,3,n)}function fu(t,e,n,r){(t[Y]&3)===n&&dE(t,e,n,r)}function lf(t,e){let n=t[Y];(n&3)===e&&(n&=16383,n+=1,t[Y]=n)}function dE(t,e,n,r){let i=r!==void 0?t[es]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[es]+=65536),(c<s||s==-1)&&(uN(t,n,e,u),t[es]=(t[es]&4294901760)+u+2),u++}function zI(t,e){rn(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),rn(5,t,e)}}function uN(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[Y]>>14<t[es]>>16&&(t[Y]&3)===e&&(t[Y]+=16384,zI(c,s)):zI(c,s)}var rs=-1,si=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function lN(t){return t instanceof si}function dN(t){return(t.flags&8)!==0}function hN(t){return(t.flags&16)!==0}var df={},xf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=$u(r);let i=this.injector.get(e,df,r);return i!==df||n===df?i:this.parentInjector.get(e,n,r)}};function hE(t){return t!==rs}function Cu(t){return t&32767}function fN(t){return t>>16}function Su(t,e){let n=fN(t),r=e;for(;n>0;)r=r[ms],n--;return r}var Pf=!0;function GI(t){let e=Pf;return Pf=t,e}var pN=256,fE=pN-1,pE=5,gN=0,sn={};function mN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Vo)&&(r=n[Vo]),r==null&&(r=n[Vo]=gN++);let i=r&fE,s=1<<i;e.data[t+(i>>pE)]|=s}function Au(t,e){let n=gE(t,e);if(n!==-1)return n;let r=e[ce];r.firstCreatePass&&(t.injectorIndex=e.length,hf(r.data,t),hf(e,null),hf(r.blueprint,null));let i=vp(t,e),s=t.injectorIndex;if(hE(i)){let o=Cu(i),c=Su(i,e),u=c[ce].data;for(let d=0;d<8;d++)e[s+d]=c[o+d]|u[o+d]}return e[s+8]=i,s}function hf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function gE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function vp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=IE(i),r===null)return rs;if(n++,i=i[ms],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return rs}function Of(t,e,n){mN(t,e,n)}function yN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(Aw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function mE(t,e,n){if(n&te.Optional||t!==void 0)return t;sp(e,"NodeInjector")}function yE(t,e,n,r){if(n&te.Optional&&r===void 0&&(r=null),!(n&(te.Self|te.Host))){let i=t[cs],s=kt(void 0);try{return i?i.get(e,r,n&te.Optional):Dw(e,r,n&te.Optional)}finally{kt(s)}}return mE(r,e,n)}function vE(t,e,n,r=te.Default,i){if(t!==null){if(e[Y]&2048&&!(r&te.Self)){let o=EN(t,e,n,r,sn);if(o!==sn)return o}let s=_E(t,e,n,r,sn);if(s!==sn)return s}return yE(e,n,r,i)}function _E(t,e,n,r,i){let s=IN(n);if(typeof s=="function"){if(!iE(e,t,r))return r&te.Host?mE(i,n,r):yE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&te.Optional))sp(n);else return o}finally{cE()}}else if(typeof s=="number"){let o=null,c=gE(t,e),u=rs,d=r&te.Host?e[cn][Yt]:null;for((c===-1||r&te.SkipSelf)&&(u=c===-1?vp(t,e):e[c+8],u===rs||!KI(r,!1)?c=-1:(o=e[ce],c=Cu(u),e=Su(u,e)));c!==-1;){let f=e[ce];if(WI(s,c,f.data)){let g=vN(c,e,n,o,r,d);if(g!==sn)return g}u=e[c+8],u!==rs&&KI(r,e[ce].data[c+8]===d)&&WI(s,c,e)?(o=f,c=Cu(u),e=Su(u,e)):c=-1}}return i}function vN(t,e,n,r,i,s){let o=e[ce],c=o.data[t+8],u=r==null?zu(c)&&Pf:r!=o&&(c.type&3)!==0,d=i&te.Host&&s===c,f=_N(c,o,n,u,d);return f!==null?ds(e,o,f,c):sn}function _N(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,d=t.directiveEnd,f=s>>20,g=r?c:c+f,I=i?c+f:d;for(let w=g;w<I;w++){let A=o[w];if(w<u&&n===A||w>=u&&A.type===n)return w}if(i){let w=o[u];if(w&&Er(w)&&w.type===n)return u}return null}function ds(t,e,n,r){let i=t[n],s=e.data;if(lN(i)){let o=i;o.resolving&&QA(KA(s[n]));let c=GI(o.canSeeViewProviders);o.resolving=!0;let u,d=o.injectImpl?kt(o.injectImpl):null,f=iE(t,r,te.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&cN(n,s[n],e)}finally{d!==null&&kt(d),GI(c),o.resolving=!1,cE()}}return i}function IN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Vo)?t[Vo]:void 0;return typeof e=="number"?e>=0?e&fE:wN:e}function WI(t,e,n){let r=1<<t;return!!(n[e+(t>>pE)]&r)}function KI(t,e){return!(t&te.Self)&&!(t&te.Host&&e)}var ei=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return vE(this._tNode,this._lView,e,$u(r),n)}};function wN(){return new ei(It(),Ae())}function Fn(t){return Go(()=>{let e=t.prototype.constructor,n=e[mu]||kf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[mu]||kf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function kf(t){return yw(t)?()=>{let e=kf(lt(t));return e&&e()}:is(t)}function EN(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Y]&2048&&!(o[Y]&512);){let c=_E(s,o,n,r|te.Self,sn);if(c!==sn)return c;let u=s.parent;if(!u){let d=o[jw];if(d){let f=d.get(n,sn,r);if(f!==sn)return f}u=IE(o),o=o[ms]}s=u}return i}function IE(t){let e=t[ce],n=e.type;return n===2?e.declTNode:n===1?t[Yt]:null}function _p(t){return yN(It(),t)}function QI(t,e=null,n=null,r){let i=wE(t,e,n,r);return i.resolveInjectorInitializers(),i}function wE(t,e=null,n=null,r,i=new Set){let s=[n||Ft,bR(t)];return r=r||(typeof t=="object"?void 0:dt(t)),new Bo(s,e||up(),r||null,i)}var yt=class t{static{this.THROW_IF_NOT_FOUND=Uo}static{this.NULL=new _u}static create(e,n){if(Array.isArray(e))return QI({name:""},n,e,"");{let r=e.name??"";return QI({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=$({token:t,providedIn:"any",factory:()=>K(Tw)})}static{this.__NG_ELEMENT_ID__=-1}};var DN=new U("");DN.__NG_ELEMENT_ID__=t=>{let e=It();if(e===null)throw new q(204,!1);if(e.type&2)return e.value;if(t&te.Optional)return null;throw new q(204,!1)};var bN="ngOriginalError";function ff(t){return t[bN]}var EE=!0,DE=(()=>{class t{static{this.__NG_ELEMENT_ID__=TN}static{this.__NG_ENV_ID__=n=>n}}return t})(),Ff=class extends DE{constructor(e){super(),this._lView=e}onDestroy(e){return Jw(this._lView,e),()=>qR(this._lView,e)}};function TN(){return new Ff(Ae())}var Ln=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ze(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Lf=class extends We{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,kR()&&(this.destroyRef=x(DE,{optional:!0})??void 0,this.pendingTasks=x(Ln,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Me&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Le=Lf;function Ru(...t){}function bE(t){let e,n;function r(){t=Ru;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function YI(t){return queueMicrotask(()=>t()),()=>{t=Ru}}var Ip="isAngularZone",Nu=Ip+"_ID",CN=0,ve=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Le(!1),this.onMicrotaskEmpty=new Le(!1),this.onStable=new Le(!1),this.onError=new Le(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=EE}=e;if(typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,RN(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ip)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,SN,Ru,Ru);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},SN={};function wp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function AN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){bE(()=>{t.callbackScheduled=!1,Vf(t),t.isCheckStableRunning=!0,wp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Vf(t)}function RN(t){let e=()=>{AN(t)},n=CN++;t._inner=t._inner.fork({name:"angular",properties:{[Ip]:!0,[Nu]:n,[Nu+n]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if(NN(u))return r.invokeTask(s,o,c,u);try{return JI(t),r.invokeTask(s,o,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),ZI(t)}},onInvoke:(r,i,s,o,c,u,d)=>{try{return JI(t),r.invoke(s,o,c,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!MN(u)&&e(),ZI(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Vf(t),wp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Vf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function JI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ZI(t){t._nesting--,wp(t)}var Uf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Le,this.onMicrotaskEmpty=new Le,this.onStable=new Le,this.onError=new Le}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function NN(t){return TE(t,"__ignore_ng_zone__")}function MN(t){return TE(t,"__scheduler_tick__")}function TE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var An=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ff(e);for(;n&&ff(n);)n=ff(n);return n||null}},xN=new U("",{providedIn:"root",factory:()=>{let t=x(ve),e=x(An);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function PN(){return Ku(It(),Ae())}function Ku(t,e){return new dn(jt(t,e))}var dn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=PN}}return t})();function CE(t){return(t.flags&128)===128}var SE=new Map,ON=0;function kN(){return ON++}function FN(t){SE.set(t[qu],t)}function jf(t){SE.delete(t[qu])}var XI="__ngContext__";function oi(t,e){_r(e)?(t[XI]=e[qu],FN(e)):t[XI]=e}function AE(t){return NE(t[$o])}function RE(t){return NE(t[Wt])}function NE(t){for(;t!==null&&!On(t);)t=t[Wt];return t}var Bf;function ME(t){Bf=t}function LN(){if(Bf!==void 0)return Bf;if(typeof document<"u")return document;throw new q(210,!1)}var Ep=new U("",{providedIn:"root",factory:()=>VN}),VN="ng",Dp=new U(""),hn=new U("",{providedIn:"platform",factory:()=>"unknown"});var bp=new U("",{providedIn:"root",factory:()=>LN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var UN="h",jN="b";var BN=()=>null;function Tp(t,e,n=!1){return BN(t,e,n)}var xE=!1,$N=new U("",{providedIn:"root",factory:()=>xE});var au;function HN(){if(au===void 0&&(au=null,If.trustedTypes))try{au=If.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return au}function ew(t){return HN()?.createScriptURL(t)||t}var Mu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mw})`}};function Qo(t){return t instanceof Mu?t.changingThisBreaksApplicationSecurity:t}function Cp(t,e){let n=qN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${mw})`)}return n===e}function qN(t){return t instanceof Mu&&t.getTypeName()||null}var zN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function PE(t){return t=String(t),t.match(zN)?t:"unsafe:"+t}var Qu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Qu||{});function GN(t){let e=kE();return e?e.sanitize(Qu.URL,t)||"":Cp(t,"URL")?Qo(t):PE(Bu(t))}function WN(t){let e=kE();if(e)return ew(e.sanitize(Qu.RESOURCE_URL,t)||"");if(Cp(t,"ResourceURL"))return ew(Qo(t));throw new q(904,!1)}function KN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?WN:GN}function OE(t,e,n){return KN(e,n)(t)}function kE(){let t=Ae();return t&&t[an].sanitizer}function FE(t){return t instanceof Function?t():t}var Rn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Rn||{}),QN;function Sp(t,e){return QN(t,e)}function ts(t,e,n,r,i){if(r!=null){let s,o=!1;On(r)?s=r:_r(r)&&(o=!0,r=r[Pn]);let c=un(r);t===0&&n!==null?i==null?BE(e,n,c):xu(e,n,c,i||null,!0):t===1&&n!==null?xu(e,n,c,i||null,!0):t===2?lM(e,c,o):t===3&&e.destroyNode(c),s!=null&&hM(e,t,s,n,i)}}function YN(t,e){return t.createText(e)}function JN(t,e,n){t.setValue(e,n)}function LE(t,e,n){return t.createElement(e,n)}function ZN(t,e){VE(t,e),e[Pn]=null,e[Yt]=null}function XN(t,e,n,r,i,s){r[Pn]=i,r[Yt]=e,Yu(t,r,n,1,i,s)}function VE(t,e){e[an].changeDetectionScheduler?.notify(9),Yu(t,e,e[Xe],2,null,null)}function eM(t){let e=t[$o];if(!e)return pf(t[ce],t);for(;e;){let n=null;if(_r(e))n=e[$o];else{let r=e[Vt];r&&(n=r)}if(!n){for(;e&&!e[Wt]&&e!==t;)_r(e)&&pf(e[ce],e),e=e[ht];e===null&&(e=t),_r(e)&&pf(e[ce],e),n=e&&e[Wt]}e=n}}function tM(t,e,n,r){let i=Vt+r,s=n.length;r>0&&(n[i-1][Wt]=e),r<s-Vt?(e[Wt]=n[i],bw(n,Vt+r,e)):(n.push(e),e[Wt]=null),e[ht]=n;let o=e[us];o!==null&&n!==o&&UE(o,e);let c=e[ls];c!==null&&c.insertView(t),Nf(e),e[Y]|=128}function UE(t,e){let n=t[Du],r=e[ht];if(_r(r))t[Y]|=bu.HasTransplantedViews;else{let i=r[ht][cn];e[cn]!==i&&(t[Y]|=bu.HasTransplantedViews)}n===null?t[Du]=[e]:n.push(e)}function Ap(t,e){let n=t[Du],r=n.indexOf(e);n.splice(r,1)}function $f(t,e){if(t.length<=Vt)return;let n=Vt+e,r=t[n];if(r){let i=r[us];i!==null&&i!==t&&Ap(i,r),e>0&&(t[n-1][Wt]=r[Wt]);let s=vu(t,Vt+e);ZN(r[ce],r);let o=s[ls];o!==null&&o.detachView(s[ce]),r[ht]=null,r[Wt]=null,r[Y]&=-129}return r}function jE(t,e){if(!(e[Y]&256)){let n=e[Xe];n.destroyNode&&Yu(t,e,n,3,null,null),eM(e)}}function pf(t,e){if(e[Y]&256)return;let n=pe(null);try{e[Y]&=-129,e[Y]|=256,e[Lt]&&Lh(e[Lt]),rM(t,e),nM(t,e),e[ce].type===1&&e[Xe].destroy();let r=e[us];if(r!==null&&On(e[ht])){r!==e[ht]&&Ap(r,e);let i=e[ls];i!==null&&i.detachView(t)}jf(e)}finally{pe(n)}}function nM(t,e){let n=t.cleanup,r=e[wu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[wu]=null);let i=e[vr];if(i!==null){e[vr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function rM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof si)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];rn(4,c,u);try{u.call(c)}finally{rn(5,c,u)}}else{rn(4,i,s);try{s.call(i)}finally{rn(5,i,s)}}}}}function iM(t,e,n){return sM(t,e.parent,n)}function sM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Pn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===on.None||s===on.Emulated)return null}return jt(r,n)}}function xu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function BE(t,e,n){t.appendChild(e,n)}function tw(t,e,n,r,i){r!==null?xu(t,e,n,r,i):BE(t,e,n)}function $E(t,e){return t.parentNode(e)}function oM(t,e){return t.nextSibling(e)}function aM(t,e,n){return uM(t,e,n)}function cM(t,e,n){return t.type&40?jt(t,n):null}var uM=cM,nw;function Rp(t,e,n,r){let i=iM(t,r,e),s=e[Xe],o=r.parent||e[Yt],c=aM(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)tw(s,i,n[u],c,!1);else tw(s,i,n,c,!1);nw!==void 0&&nw(s,r,e,n,i)}function Fo(t,e){if(e!==null){let n=e.type;if(n&3)return jt(e,t);if(n&4)return Hf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Fo(t,r);{let i=t[e.index];return On(i)?Hf(-1,i):un(i)}}else{if(n&128)return Fo(t,e.next);if(n&32)return Sp(e,t)()||un(t[e.index]);{let r=HE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ri(t[cn]);return Fo(i,r)}else return Fo(t,e.next)}}}return null}function HE(t,e){if(e!==null){let r=t[cn][Yt],i=e.projection;return r.projection[i]}return null}function Hf(t,e){let n=Vt+t+1;if(n<e.length){let r=e[n],i=r[ce].firstChild;if(i!==null)return Fo(r,i)}return e[ni]}function lM(t,e,n){t.removeChild(null,e,n)}function Np(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(o&&e===0&&(c&&oi(un(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Np(t,e,n.child,r,i,s,!1),ts(e,t,i,c,s);else if(u&32){let d=Sp(n,r),f;for(;f=d();)ts(e,t,i,f,s);ts(e,t,i,c,s)}else u&16?dM(t,e,r,n,i,s):ts(e,t,i,c,s);n=o?n.projectionNext:n.next}}function Yu(t,e,n,r,i,s){Np(n,r,t.firstChild,e,i,s,!1)}function dM(t,e,n,r,i,s){let o=n[cn],u=o[Yt].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let f=u[d];ts(e,t,i,f,s)}else{let d=u,f=o[ht];CE(r)&&(d.flags|=128),Np(t,e,d,f,i,s,!0)}}function hM(t,e,n,r,i){let s=n[ni],o=un(n);s!==o&&ts(e,t,r,s,i);for(let c=Vt;c<n.length;c++){let u=n[c];Yu(u[ce],u,t,e,r,s)}}function fM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Rn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Rn.Important),t.setStyle(n,r,i,s))}}function pM(t,e,n){t.setAttribute(e,"style",n)}function qE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function zE(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&bf(t,e,r),i!==null&&qE(t,e,i),s!==null&&pM(t,e,s)}var vs={};function me(t=1){GE(Jt(),Ae(),ys()+t,!1)}function GE(t,e,n,r){if(!r)if((e[Y]&3)===3){let s=t.preOrderCheckHooks;s!==null&&hu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&fu(e,s,0,n)}ii(n)}function J(t,e=te.Default){let n=Ae();if(n===null)return K(t,e);let r=It();return vE(r,n,lt(t),e)}function WE(t,e,n,r,i,s){let o=pe(null);try{let c=null;i&Ir.SignalBased&&(c=e[r][ur]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&Ir.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):Hw(e,c,r,s)}finally{pe(o)}}function gM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ii(~i);else{let s=i,o=n[++r],c=n[++r];nN(o,s);let u=e[s];c(2,u)}}}finally{ii(-1)}}function Ju(t,e,n,r,i,s,o,c,u,d,f){let g=e.blueprint.slice();return g[Pn]=i,g[Y]=r|4|128|8|64,(d!==null||t&&t[Y]&2048)&&(g[Y]|=2048),Qw(g),g[ht]=g[ms]=t,g[Kt]=n,g[an]=o||t&&t[an],g[Xe]=c||t&&t[Xe],g[cs]=u||t&&t[cs]||null,g[Yt]=s,g[qu]=kN(),g[Iu]=f,g[jw]=d,g[cn]=e.type==2?t[cn]:g,g}function Zu(t,e,n,r,i){let s=t.data[e];if(s===null)s=mM(t,e,n,r,i),tN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=JR();s.injectorIndex=o===null?-1:o.injectorIndex}return Ko(s,!0),s}function mM(t,e,n,r,i){let s=eE(),o=tE(),c=o?s:s&&s.parent,u=t.data[e]=wM(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function KE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function QE(t,e,n,r,i){let s=ys(),o=r&2;try{ii(-1),o&&e.length>wr&&GE(t,e,wr,!1),rn(o?2:0,i),n(r,i)}finally{ii(s),rn(o?3:1,i)}}function YE(t,e,n){if($w(e)){let r=pe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{pe(r)}}}function JE(t,e,n){Xw()&&(AM(t,e,n,jt(n,e)),(n.flags&64)===64&&nD(t,e,n))}function ZE(t,e,n=jt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function XE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Mp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Mp(t,e,n,r,i,s,o,c,u,d,f){let g=wr+r,I=g+i,w=yM(g,I),A=typeof d=="function"?d():d;return w[ce]={type:t,blueprint:w,template:n,queries:null,viewQuery:c,declTNode:e,data:w.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function yM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:vs);return n}function vM(t,e,n,r){let s=r.get($N,xE)||n===on.ShadowDom,o=t.selectRootElement(e,s);return _M(o),o}function _M(t){IM(t)}var IM=()=>null;function wM(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return KR()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function rw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=Ir.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let d=s;if(i!==null){if(!i.hasOwnProperty(s))continue;d=i[s]}t===0?iw(r,n,d,c,u):iw(r,n,d,c)}return r}function iw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function EM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,d=null;for(let f=r;f<i;f++){let g=s[f],I=n?n.get(g):null,w=I?I.inputs:null,A=I?I.outputs:null;u=rw(0,g.inputs,f,u,w),d=rw(1,g.outputs,f,d,A);let N=u!==null&&o!==null&&!ap(e)?UM(u,f,o):null;c.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=d}function DM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function bM(t,e,n,r,i,s,o,c){let u=jt(e,n),d=e.inputs,f;!c&&d!=null&&(f=d[r])?(xp(t,n,f,r,i),zu(e)&&TM(n,e.index)):e.type&3?(r=DM(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function TM(t,e){let n=br(e,t);n[Y]&16||(n[Y]|=64)}function eD(t,e,n,r){if(Xw()){let i=r===null?null:{"":-1},s=NM(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&tD(t,e,n,o,i,c),i&&MM(n,r,i)}n.mergedAttrs=jo(n.mergedAttrs,n.attrs)}function tD(t,e,n,r,i,s){for(let d=0;d<r.length;d++)Of(Au(n,e),t,r[d].type);PM(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let f=r[d];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=KE(t,e,r.length,null);for(let d=0;d<r.length;d++){let f=r[d];n.mergedAttrs=jo(n.mergedAttrs,f.hostAttrs),OM(t,n,e,u,f),xM(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}EM(t,n,s)}function CM(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;SM(o)!=c&&o.push(c),o.push(n,r,s)}}function SM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function AM(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;zu(n)&&kM(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Au(n,e),oi(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],d=ds(e,t,c,n);if(oi(d,e),o!==null&&VM(e,c-i,d,u,n,o),Er(u)){let f=br(n.index,e);f[Kt]=ds(e,t,c,n)}}}function nD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=rN();try{ii(s);for(let c=r;c<i;c++){let u=t.data[c],d=e[c];Mf(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&RM(u,d)}}finally{ii(-1),Mf(o)}}function RM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function NM(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(gR(e,o.selectors,!1))if(r||(r=[]),Er(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;qf(t,e,u)}else r.unshift(o),qf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function qf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function MM(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new q(-301,!1);r.push(e[i],s)}}}function xM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Er(e)&&(n[""]=t)}}function PM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function OM(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=is(i.type,!0)),o=new si(s,Er(i),J);t.blueprint[r]=o,n[r]=o,CM(t,e,r,KE(t,n,i.hostVars,vs),i)}function kM(t,e,n){let r=jt(e,t),i=XE(n),s=t[an].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=Xu(t,Ju(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function FM(t,e,n,r,i,s){let o=jt(t,e);LM(e[Xe],o,s,t.value,n,r,i)}function LM(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?Bu(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function VM(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],d=o[c++],f=o[c++],g=o[c++];WE(r,n,u,d,f,g)}}function UM(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function rD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function iD(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];rE(s),c.contentQueries(2,e[o],o)}}}finally{pe(r)}}}function Xu(t,e){return t[$o]?t[$I][Wt]=e:t[$o]=e,t[$I]=e,e}function zf(t,e,n){rE(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function jM(t){return t[wu]??=[]}function BM(t){return t.cleanup??=[]}function sD(t,e){let n=t[cs],r=n?n.get(An,null):null;r&&r.handleError(e)}function xp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],d=e[o],f=t.data[o];WE(f,d,r,c,u,i)}}function $M(t,e,n){let r=Ww(e,t);JN(t[Xe],r,n)}function HM(t,e){let n=br(e,t),r=n[ce];qM(r,n);let i=n[Pn];i!==null&&n[Iu]===null&&(n[Iu]=Tp(i,n[cs])),Pp(r,n,n[Kt])}function qM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Pp(t,e,n){fp(e);try{let r=t.viewQuery;r!==null&&zf(1,r,n);let i=t.template;i!==null&&QE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ls]?.finishViewCreation(t),t.staticContentQueries&&iD(t,e),t.staticViewQueries&&zf(2,t.viewQuery,n);let s=t.components;s!==null&&zM(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y]&=-5,pp()}}function zM(t,e){for(let n=0;n<e.length;n++)HM(t,e[n])}function GM(t,e,n,r){let i=pe(null);try{let s=e.tView,c=t[Y]&4096?4096:16,u=Ju(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];u[us]=d;let f=t[ls];return f!==null&&(u[ls]=f.createEmbeddedView(s)),Pp(s,u,n),u}finally{pe(i)}}function sw(t,e){return!e||e.firstChild===null||CE(t)}function WM(t,e,n,r=!0){let i=e[ce];if(tM(i,e,t,n),r){let o=Hf(n,t),c=e[Xe],u=$E(c,t[ni]);u!==null&&XN(i,t[Yt],c,e,u,o)}let s=e[Iu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Pu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(un(s)),On(s)&&KM(s,r);let o=n.type;if(o&8)Pu(t,e,n.child,r);else if(o&32){let c=Sp(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=HE(e,n);if(Array.isArray(c))r.push(...c);else{let u=ri(e[cn]);Pu(u[ce],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function KM(t,e){for(let n=Vt;n<t.length;n++){let r=t[n],i=r[ce].firstChild;i!==null&&Pu(r[ce],r,i,e)}t[ni]!==t[Pn]&&e.push(t[ni])}var oD=[];function QM(t){return t[Lt]??YM(t)}function YM(t){let e=oD.pop()??Object.create(ZM);return e.lView=t,e}function JM(t){t.lView[Lt]!==t&&(t.lView=null,oD.push(t))}var ZM=se(F({},Po),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Wu(t.lView)},consumerOnSignalRead(){this.lView[Lt]=this}});function XM(t){let e=t[Lt]??Object.create(ex);return e.lView=t,e}var ex=se(F({},Po),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ri(t.lView);for(;e&&!aD(e[ce]);)e=ri(e);e&&Yw(e)},consumerOnSignalRead(){this.lView[Lt]=this}});function aD(t){return t.type!==2}var tx=100;function cD(t,e=!0,n=0){let r=t[an],i=r.rendererFactory,s=!1;s||i.begin?.();try{nx(t,n)}catch(o){throw e&&sD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function nx(t,e){let n=nE();try{qI(!0),Gf(t,e);let r=0;for(;Gu(t);){if(r===tx)throw new q(103,!1);r++,Gf(t,1)}}finally{qI(n)}}function rx(t,e,n,r){let i=e[Y];if((i&256)===256)return;let s=!1,o=!1;!s&&e[an].inlineEffectRunner?.flush(),fp(e);let c=!0,u=null,d=null;s||(aD(t)?(d=QM(e),u=xc(d)):K_()===null?(c=!1,d=XM(e),u=xc(d)):e[Lt]&&(Lh(e[Lt]),e[Lt]=null));try{Qw(e),XR(t.bindingStartIndex),n!==null&&QE(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let w=t.preOrderCheckHooks;w!==null&&hu(e,w,null)}else{let w=t.preOrderHooks;w!==null&&fu(e,w,0,null),lf(e,0)}if(o||ix(e),uD(e,0),t.contentQueries!==null&&iD(t,e),!s)if(f){let w=t.contentCheckHooks;w!==null&&hu(e,w)}else{let w=t.contentHooks;w!==null&&fu(e,w,1),lf(e,1)}gM(t,e);let g=t.components;g!==null&&dD(e,g,0);let I=t.viewQuery;if(I!==null&&zf(2,I,r),!s)if(f){let w=t.viewCheckHooks;w!==null&&hu(e,w)}else{let w=t.viewHooks;w!==null&&fu(e,w,2),lf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[uf]){for(let w of e[uf])w();e[uf]=null}s||(e[Y]&=-73)}catch(f){throw s||Wu(e),f}finally{d!==null&&(kh(d,u),c&&JM(d)),pp()}}function uD(t,e){for(let n=AE(t);n!==null;n=RE(n))for(let r=Vt;r<n.length;r++){let i=n[r];lD(i,e)}}function ix(t){for(let e=AE(t);e!==null;e=RE(e)){if(!(e[Y]&bu.HasTransplantedViews))continue;let n=e[Du];for(let r=0;r<n.length;r++){let i=n[r];Yw(i)}}}function sx(t,e,n){let r=br(e,t);lD(r,n)}function lD(t,e){dp(t)&&Gf(t,e)}function Gf(t,e){let r=t[ce],i=t[Y],s=t[Lt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Fh(s)),o||=!1,s&&(s.dirty=!1),t[Y]&=-9217,o)rx(r,t,r.template,t[Kt]);else if(i&8192){uD(t,1);let c=r.components;c!==null&&dD(t,c,1)}}function dD(t,e,n){for(let r=0;r<e.length;r++)sx(t,e[r],n)}function Op(t,e){let n=nE()?64:1088;for(t[an].changeDetectionScheduler?.notify(e);t;){t[Y]|=n;let r=ri(t);if(Af(t)&&!r)return t;t=r}return null}var ai=class{get rootNodes(){let e=this._lView,n=e[ce];return Pu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Kt]}set context(e){this._lView[Kt]=e}get destroyed(){return(this._lView[Y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ht];if(On(e)){let n=e[Eu],r=n?n.indexOf(this):-1;r>-1&&($f(e,r),vu(n,r))}this._attachedToViewContainer=!1}jE(this._lView[ce],this._lView)}onDestroy(e){Jw(this._lView,e)}markForCheck(){Op(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){Nf(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,cD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Af(this._lView),n=this._lView[us];n!==null&&!e&&Ap(n,this._lView),VE(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e;let n=Af(this._lView),r=this._lView[us];r!==null&&!n&&UE(r,this._lView),Nf(this._lView)}},kp=(()=>{class t{static{this.__NG_ELEMENT_ID__=cx}}return t})(),ox=kp,ax=class extends ox{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=GM(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ai(i)}};function cx(){return ux(It(),Ae())}function ux(t,e){return t.type&4?new ax(e,t,Ku(t,e)):null}var LG=new RegExp(`^(\\d+)*(${jN}|${UN})*(.*)`);var lx=()=>null;function ow(t,e){return lx(t,e)}var hs=class{},el=new U("",{providedIn:"root",factory:()=>!1});var hD=new U(""),fD=new U(""),Wf=class{},Ou=class{};function dx(t){let e=Error(`No component factory found for ${dt(t)}.`);return e[hx]=t,e}var hx="ngComponent";var Kf=class{resolveComponentFactory(e){throw dx(e)}},fs=class{static{this.NULL=new Kf}},ps=class{},Vn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>fx()}}return t})();function fx(){let t=Ae(),e=It(),n=br(e.index,t);return(_r(n)?n:t)[Xe]}var px=(()=>{class t{static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>null})}}return t})();function Qf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=xI(i,c);else if(s==2){let u=c,d=e[++o];r=xI(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ku=class extends fs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ti(e);return new Ho(n,this.ngModule)}};function aw(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:Ir.None;e?n.push({propName:o,templateName:r,isSignal:(c&Ir.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function gx(t){let e=t.toLowerCase();return e==="svg"?jR:e==="math"?BR:null}var Ho=class extends Ou{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=aw(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return aw(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=_R(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=pe(null);try{i=i||this.ngModule;let o=i instanceof mt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new xf(e,o):e,u=c.get(ps,null);if(u===null)throw new q(407,!1);let d=c.get(px,null),f=c.get(hs,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:f},I=u.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",A=r?vM(I,r,this.componentDef.encapsulation,c):LE(I,w,gx(w)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let R=null;A!==null&&(R=Tp(A,c,!0));let V=Mp(0,null,null,1,0,null,null,null,null,null,null),W=Ju(null,V,null,N,null,null,g,I,c,null,R);fp(W);let B,ie,Te=null;try{let ne=this.componentDef,D,m=null;ne.findHostDirectiveDefs?(D=[],m=new Map,ne.findHostDirectiveDefs(ne,D,m),D.push(ne)):D=[ne];let y=mx(W,A);Te=yx(y,A,ne,D,W,g,I),ie=Kw(V,wr),A&&Ix(I,ne,A,r),n!==void 0&&wx(ie,this.ngContentSelectors,n),B=_x(Te,ne,D,m,W,[Ex]),Pp(V,W,null)}catch(ne){throw Te!==null&&jf(Te),jf(W),ne}finally{pp()}return new Yf(this.componentType,B,Ku(ie,W),W,ie)}finally{pe(s)}}},Yf=class extends Wf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ai(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;xp(s[ce],s,i,e,n),this.previousInputValues.set(e,n);let o=br(this._tNode.index,s);Op(o,1)}}get injector(){return new ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function mx(t,e){let n=t[ce],r=wr;return t[r]=e,Zu(n,r,2,"#host",null)}function yx(t,e,n,r,i,s,o){let c=i[ce];vx(r,t,e,o);let u=null;e!==null&&(u=Tp(e,i[cs]));let d=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=Ju(i,XE(n),null,f,i[t.index],t,s,d,null,null,u);return c.firstCreatePass&&qf(c,t,r.length-1),Xu(i,g),i[t.index]=g}function vx(t,e,n,r){for(let i of t)e.mergedAttrs=jo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Qf(e,e.mergedAttrs,!0),n!==null&&zE(r,n,e))}function _x(t,e,n,r,i,s){let o=It(),c=i[ce],u=jt(o,i);tD(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let g=o.directiveStart+f,I=ds(i,c,g,o);oi(I,i)}nD(c,i,o),u&&oi(u,i);let d=ds(i,c,o.directiveStart+o.componentOffset,o);if(t[Kt]=i[Kt]=d,s!==null)for(let f of s)f(d,e);return YE(c,o,i),d}function Ix(t,e,n,r){if(r)bf(t,n,["ng-version","18.2.9"]);else{let{attrs:i,classes:s}=IR(e.selectors[0]);i&&bf(t,n,i),s&&s.length>0&&qE(t,n,s.join(" "))}}function wx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Ex(){let t=It();yp(Ae()[ce],t)}var Yo=(()=>{class t{static{this.__NG_ELEMENT_ID__=Dx}}return t})();function Dx(){let t=It();return Tx(t,Ae())}var bx=Yo,pD=class extends bx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ku(this._hostTNode,this._hostLView)}get injector(){return new ei(this._hostTNode,this._hostLView)}get parentInjector(){let e=vp(this._hostTNode,this._hostLView);if(hE(e)){let n=Su(e,this._hostLView),r=Cu(e),i=n[ce].data[r+8];return new ei(i,n)}else return new ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=cw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Vt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=ow(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,sw(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!FR(e),c;if(o)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new Ho(ti(e)),d=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?d:this.parentInjector).get(mt,null);N&&(s=N)}let f=ti(u.componentType??{}),g=ow(this._lContainer,f?.id??null),I=g?.firstChild??null,w=u.create(d,i,I,s);return this.insertImpl(w.hostView,c,sw(this._hostTNode,g)),w}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if($R(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[ht],d=new pD(u,u[Yt],u[ht]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return WM(o,i,s,r),e.attachToViewContainerRef(),bw(gf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=cw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=$f(this._lContainer,n);r&&(vu(gf(this._lContainer),n),jE(r[ce],r))}detach(e){let n=this._adjustIndex(e,-1),r=$f(this._lContainer,n);return r&&vu(gf(this._lContainer),n)!=null?new ai(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function cw(t){return t[Eu]}function gf(t){return t[Eu]||(t[Eu]=[])}function Tx(t,e){let n,r=e[t.index];return On(r)?n=r:(n=rD(r,e,null,t),e[t.index]=n,Xu(e,n)),Sx(n,e,t,r),new pD(n,t,e)}function Cx(t,e){let n=t[Xe],r=n.createComment(""),i=jt(e,t),s=$E(n,i);return xu(n,s,r,oM(n,i),!1),r}var Sx=Nx,Ax=()=>!1;function Rx(t,e,n){return Ax(t,e,n)}function Nx(t,e,n,r){if(t[ni])return;let i;n.type&8?i=un(r):i=Cx(e,n),t[ni]=i}var uw=new Set;function _s(t){uw.has(t)||(uw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Jo(t,e){_s("NgSignals");let n=sI(t),r=n[ur];return e?.equal&&(r.equal=e.equal),n.set=i=>Vh(r,i),n.update=i=>oI(r,i),n.asReadonly=Mx.bind(n),n}function Mx(){let t=this[ur];if(t.readonlyFn===void 0){let e=()=>this();e[ur]=t,t.readonlyFn=e}return t.readonlyFn}function xx(t){return Object.getPrototypeOf(t.prototype).constructor}function Bt(t){let e=xx(t.type),n=!0,r=[t];for(;e;){let i;if(Er(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=cu(t.inputs),o.inputTransforms=cu(t.inputTransforms),o.declaredInputs=cu(t.declaredInputs),o.outputs=cu(t.outputs);let c=i.hostBindings;c&&Lx(t,c);let u=i.viewQuery,d=i.contentQueries;if(u&&kx(t,u),d&&Fx(t,d),Px(t,i),jA(t.outputs,i.outputs),Er(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===Bt&&(n=!1)}}e=Object.getPrototypeOf(e)}Ox(r)}function Px(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Ox(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=jo(i.hostAttrs,n=jo(n,i.hostAttrs))}}function cu(t){return t===ss?{}:t===Ft?[]:t}function kx(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Fx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Lx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Fp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Dr=class{},qo=class{};var Jf=class extends Dr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ku(this);let s=Pw(e);this._bootstrapComponents=FE(s.bootstrap),this._r3Injector=wE(e,n,[{provide:Dr,useValue:this},{provide:fs,useValue:this.componentFactoryResolver},...r],dt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Zf=class extends qo{constructor(e){super(),this.moduleType=e}create(e){return new Jf(this.moduleType,e,[])}};var Fu=class extends Dr{constructor(e){super(),this.componentFactoryResolver=new ku(this),this.instance=null;let n=new Bo([...e.providers,{provide:Dr,useValue:this},{provide:fs,useValue:this.componentFactoryResolver}],e.parent||up(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Lp(t,e,n=null){return new Fu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function tl(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Vx(t){return(t.flags&32)===32}function Ux(t,e,n,r,i,s,o,c,u){let d=e.consts,f=Zu(e,t,4,o||null,c||null);eD(e,n,f,Tu(d,u)),yp(e,f);let g=f.tView=Mp(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function jx(t,e,n,r,i,s,o,c,u,d){let f=n+wr,g=e.firstCreatePass?Ux(f,e,t,r,i,s,o,c,u):e.data[f];Ko(g,!1);let I=Bx(e,t,g,n);gp()&&Rp(e,t,I,g),oi(I,t);let w=rD(I,t,I,g);return t[f]=w,Xu(t,w),Rx(w,g,t),lp(g)&&JE(e,t,g),u!=null&&ZE(t,g,d),g}function qe(t,e,n,r,i,s,o,c){let u=Ae(),d=Jt(),f=Tu(d.consts,s);return jx(u,d,t,e,n,r,i,f,o,c),qe}var Bx=$x;function $x(t,e,n,r){return mp(!0),e[Xe].createComment("")}var Lo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Lo||{}),Hx=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}}return t})(),lw=class t{constructor(){this.ngZone=x(ve),this.scheduler=x(hs),this.errorHandler=x(An,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Lo.EarlyRead,Lo.Write,Lo.MixedReadWrite,Lo.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}};function Zo(t,e,n,r){let i=Ae(),s=hp();if(tl(i,s,e)){let o=Jt(),c=uE();FM(c,i,t,e,n,r)}return Zo}function qx(t,e,n,r){return tl(t,hp(),n)?e+Bu(n)+r:vs}function uu(t,e){return t<<17|e<<2}function ci(t){return t>>17&32767}function zx(t){return(t&2)==2}function Gx(t,e){return t&131071|e<<17}function Xf(t){return t|2}function gs(t){return(t&131068)>>2}function mf(t,e){return t&-131069|e<<2}function Wx(t){return(t&1)===1}function ep(t){return t|1}function Kx(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=ci(o),u=gs(o);t[r]=n;let d=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||Wo(g,f)>0)&&(d=!0)}else f=n;if(i)if(u!==0){let I=ci(t[c+1]);t[r+1]=uu(I,c),I!==0&&(t[I+1]=mf(t[I+1],r)),t[c+1]=Gx(t[c+1],r)}else t[r+1]=uu(c,0),c!==0&&(t[c+1]=mf(t[c+1],r)),c=r;else t[r+1]=uu(u,0),c===0?c=r:t[u+1]=mf(t[u+1],r),u=r;d&&(t[r+1]=Xf(t[r+1])),dw(t,f,r,!0),dw(t,f,r,!1),Qx(e,f,t,r,s),o=uu(c,u),s?e.classBindings=o:e.styleBindings=o}function Qx(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Wo(s,e)>=0&&(n[r+1]=ep(n[r+1]))}function dw(t,e,n,r){let i=t[n+1],s=e===null,o=r?ci(i):gs(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],d=t[o+1];Yx(u,e)&&(c=!0,t[o+1]=r?ep(d):Xf(d)),o=r?ci(d):gs(d)}c&&(t[n+1]=r?Xf(i):ep(i))}function Yx(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Wo(t,e)>=0:!1}function ye(t,e,n){let r=Ae(),i=hp();if(tl(r,i,e)){let s=Jt(),o=uE();bM(s,o,r,t,e,r[Xe],n,!1)}return ye}function hw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";xp(t,n,s[o],o,r)}function nl(t,e){return Jx(t,e,null,!0),nl}function Jx(t,e,n,r){let i=Ae(),s=Jt(),o=eN(2);if(s.firstUpdatePass&&Xx(s,t,o,r),e!==vs&&tl(i,o,e)){let c=s.data[ys()];iP(s,c,i,i[Xe],t,i[o+1]=sP(e,n),r,o)}}function Zx(t,e){return e>=t.expandoStartIndex}function Xx(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[ys()],o=Zx(t,n);oP(s,r)&&e===null&&!o&&(e=!1),e=eP(i,s,e,r),Kx(i,s,e,n,o,r)}}function eP(t,e,n,r){let i=iN(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=yf(null,t,e,n,r),n=zo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=yf(i,t,e,n,r),s===null){let u=tP(t,e,r);u!==void 0&&Array.isArray(u)&&(u=yf(null,t,e,u[1],r),u=zo(u,e.attrs,r),nP(t,e,r,u))}else s=rP(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function tP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(gs(r)!==0)return t[ci(r)]}function nP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ci(i)]=r}function rP(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=zo(r,o,n)}return zo(r,e.attrs,n)}function yf(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=zo(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function zo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),aR(t,o,n?!0:e[++s]))}return t===void 0?null:t}function iP(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,d=u[c+1],f=Wx(d)?fw(u,e,n,i,gs(d),o):void 0;if(!Lu(f)){Lu(s)||zx(d)&&(s=fw(u,null,n,i,c,o));let g=Ww(ys(),n);fM(r,o,g,i,s)}}function fw(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],d=Array.isArray(u),f=d?u[1]:u,g=f===null,I=n[i+1];I===vs&&(I=g?Ft:void 0);let w=g?af(I,r):f===r?I:void 0;if(d&&!Lu(w)&&(w=af(u,r)),Lu(w)&&(c=w,o))return c;let A=t[i+1];i=o?ci(A):gs(A)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=af(u,r))}return c}function Lu(t){return t!==void 0}function sP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=dt(Qo(t)))),t}function oP(t,e){return(t.flags&(e?8:16))!==0}function aP(t,e,n,r,i,s){let o=e.consts,c=Tu(o,i),u=Zu(e,t,2,r,c);return eD(e,n,u,Tu(o,s)),u.attrs!==null&&Qf(u,u.attrs,!1),u.mergedAttrs!==null&&Qf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function L(t,e,n,r){let i=Ae(),s=Jt(),o=wr+t,c=i[Xe],u=s.firstCreatePass?aP(o,s,i,e,n,r):s.data[o],d=cP(s,i,u,c,e,t);i[o]=d;let f=lp(u);return Ko(u,!0),zE(c,d,u),!Vx(u)&&gp()&&Rp(s,i,d,u),zR()===0&&oi(d,i),GR(),f&&(JE(s,i,u),YE(s,u,i)),r!==null&&ZE(i,u),L}function O(){let t=It();tE()?ZR():(t=t.parent,Ko(t,!1));let e=t;QR(e)&&YR(),WR();let n=Jt();return n.firstCreatePass&&(yp(n,t),$w(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&dN(e)&&hw(n,e,Ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&hN(e)&&hw(n,e,Ae(),e.stylesWithoutHost,!1),O}function Re(t,e,n,r){return L(t,e,n,r),O(),Re}var cP=(t,e,n,r,i,s)=>(mp(!0),LE(r,i,aN()));function ui(){return Ae()}var Vu="en-US";var uP=Vu;function lP(t){typeof t=="string"&&(uP=t.toLowerCase().replace(/_/g,"-"))}var dP=(t,e,n)=>{};function ze(t,e,n,r){let i=Ae(),s=Jt(),o=It();return fP(s,i,i[Xe],o,t,e,r),ze}function hP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[wu],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function fP(t,e,n,r,i,s,o){let c=lp(r),d=t.firstCreatePass&&BM(t),f=e[Kt],g=jM(e),I=!0;if(r.type&3||o){let N=jt(r,e),R=o?o(N):N,V=g.length,W=o?ie=>o(un(ie[r.index])):r.index,B=null;if(!o&&c&&(B=hP(t,e,i,r.index)),B!==null){let ie=B.__ngLastListenerFn__||B;ie.__ngNextListenerFn__=s,B.__ngLastListenerFn__=s,I=!1}else{s=gw(r,e,f,s),dP(N,i,s);let ie=n.listen(R,i,s);g.push(s,ie),d&&d.push(i,W,V,V+1)}}else s=gw(r,e,f,s);let w=r.outputs,A;if(I&&w!==null&&(A=w[i])){let N=A.length;if(N)for(let R=0;R<N;R+=2){let V=A[R],W=A[R+1],Te=e[V][W].subscribe(s),ne=g.length;g.push(s,Te),d&&d.push(i,r.index,ne,-(ne+1))}}}function pw(t,e,n,r){let i=pe(null);try{return rn(6,e,n),n(r)!==!1}catch(s){return sD(t,s),!1}finally{rn(7,e,n),pe(i)}}function gw(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?br(t.index,e):e;Op(o,5);let c=pw(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)c=pw(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function wt(t=1){return oN(t)}function j(t,e=""){let n=Ae(),r=Jt(),i=t+wr,s=r.firstCreatePass?Zu(r,i,1,e,null):r.data[i],o=pP(r,n,s,e,t);n[i]=o,gp()&&Rp(r,n,o,s),Ko(s,!1)}var pP=(t,e,n,r,i)=>(mp(!0),YN(e[Xe],r));function Is(t,e,n){let r=Ae(),i=qx(r,t,e,n);return i!==vs&&$M(r,ys(),i),Is}function gP(t,e,n){let r=Jt();if(r.firstCreatePass){let i=Er(t);tp(n,r.data,r.blueprint,i,!0),tp(e,r.data,r.blueprint,i,!1)}}function tp(t,e,n,r,i){if(t=lt(t),Array.isArray(t))for(let s=0;s<t.length;s++)tp(t[s],e,n,r,i);else{let s=Jt(),o=Ae(),c=It(),u=as(t)?t:lt(t.provide),d=Uw(t),f=c.providerIndexes&1048575,g=c.directiveStart,I=c.providerIndexes>>20;if(as(t)||!t.multi){let w=new si(d,i,J),A=_f(u,e,i?f:f+I,g);A===-1?(Of(Au(c,o),s,u),vf(s,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(w),o.push(w)):(n[A]=w,o[A]=w)}else{let w=_f(u,e,f+I,g),A=_f(u,e,f,f+I),N=w>=0&&n[w],R=A>=0&&n[A];if(i&&!R||!i&&!N){Of(Au(c,o),s,u);let V=vP(i?yP:mP,n.length,i,r,d);!i&&R&&(n[A].providerFactory=V),vf(s,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(V),o.push(V)}else{let V=gD(n[i?A:w],d,!i&&r);vf(s,t,w>-1?w:A,V)}!i&&r&&R&&n[A].componentProviders++}}}function vf(t,e,n,r){let i=as(e),s=AR(e);if(i||s){let u=(s?lt(e.useClass):e).prototype.ngOnDestroy;if(u){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=d.indexOf(n);f===-1?d.push(n,[r,u]):d[f+1].push(r,u)}else d.push(n,u)}}}function gD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function _f(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function mP(t,e,n,r){return np(this.multi,[])}function yP(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=ds(n,n[ce],this.providerFactory.index,r);s=c.slice(0,o),np(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],np(i,s);return s}function np(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function vP(t,e,n,r,i){let s=new si(t,n,J);return s.multi=[],s.index=e,s.componentProviders=0,gD(s,i,r&&!n),s}function fn(t,e=[]){return n=>{n.providersResolver=(r,i)=>gP(r,i?i(t):t,e)}}var _P=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Fw(!1,n.type),i=r.length>0?Lp([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(K(mt))})}}return t})();function Et(t){_s("NgStandalone"),t.getStandaloneInjector=e=>e.get(_P).getOrCreateStandaloneInjector(t)}var Nn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},mD=new Nn("18.2.9");var rl=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var yD=new U("");function li(t){return!!t&&typeof t.then=="function"}function vD(t){return!!t&&typeof t.subscribe=="function"}var _D=new U(""),ID=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=x(_D,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(li(s))n.push(s);else if(vD(s)){let o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),il=new U("");function IP(){iI(()=>{throw new q(600,!1)})}function wP(t){return t.isBoundToModule}var EP=10;function DP(t,e,n){try{let r=n();return li(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Sr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(xN),this.afterRenderManager=x(Hx),this.zonelessEnabled=x(el),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new We,this.afterTick=new We,this.componentTypes=[],this.components=[],this.isStable=x(Ln).hasPendingTasks.pipe(X(n=>!n)),this._injector=x(mt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Ou;if(!this._injector.get(ID).done){let I=!i&&xw(n),w=!1;throw new q(405,w)}let o;i?o=n:o=this._injector.get(fs).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let c=wP(o)?void 0:this._injector.get(Dr),u=r||o.selector,d=o.create(yt.NULL,[],u,c),f=d.location.nativeElement,g=d.injector.get(yD,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),pu(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new q(101,!1);let n=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,pe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(ps,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<EP;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)bP(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Gu(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;pu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(il,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>pu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new q(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function pu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function bP(t,e,n,r){if(!n&&!Gu(t))return;cD(t,e,n&&!r?0:1)}var rp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Vp=(()=>{class t{compileModuleSync(n){return new Zf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Pw(n),s=FE(i.declarations).reduce((o,c)=>{let u=ti(c);return u&&o.push(new Ho(u)),o},[]);return new rp(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var TP=(()=>{class t{constructor(){this.zone=x(ve),this.changeDetectionScheduler=x(hs),this.applicationRef=x(Sr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),CP=new U("",{factory:()=>!1});function wD({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ve(se(F({},DD()),{scheduleInRootZone:n})),[{provide:ve,useFactory:t},{provide:os,multi:!0,useFactory:()=>{let r=x(TP,{optional:!0});return()=>r.initialize()}},{provide:os,multi:!0,useFactory:()=>{let r=x(SP);return()=>{r.initialize()}}},e===!0?{provide:hD,useValue:!0}:[],{provide:fD,useValue:n??EE}]}function ED(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=wD({ngZoneFactory:()=>{let i=DD(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&_s("NgZone_CoalesceEvent"),new ve(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Ut([{provide:CP,useValue:!0},{provide:el,useValue:!1},r])}function DD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var SP=(()=>{class t{constructor(){this.subscription=new Me,this.initialized=!1,this.zone=x(ve),this.pendingTasks=x(Ln)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var AP=(()=>{class t{constructor(){this.appRef=x(Sr),this.taskService=x(Ln),this.ngZone=x(ve),this.zonelessEnabled=x(el),this.disableScheduling=x(hD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Me,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Nu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(fD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Uf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?YI:bE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Nu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,YI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function RP(){return typeof $localize<"u"&&$localize.locale||Vu}var Up=new U("",{providedIn:"root",factory:()=>x(Up,te.Optional|te.SkipSelf)||RP()});var ip=new U("");function lu(t){return!t.moduleRef}function NP(t){let e=lu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ve);return n.run(()=>{lu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(An,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),lu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(ip);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(ip);o.add(s),t.moduleRef.onDestroy(()=>{pu(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return DP(r,n,()=>{let s=e.get(ID);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Up,Vu);if(lP(o||Vu),lu(t)){let c=e.get(Sr);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return MP(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function MP(t,e){let n=t.injector.get(Sr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new q(-403,!1);e.push(t)}var gu=null;function xP(t=[],e){return yt.create({name:e,providers:[{provide:Hu,useValue:"platform"},{provide:ip,useValue:new Set([()=>gu=null])},...t]})}function PP(t=[]){if(gu)return gu;let e=xP(t);return gu=e,IP(),OP(e),e}function OP(t){t.get(Dp,null)?.forEach(n=>n())}var ws=(()=>{class t{static{this.__NG_ELEMENT_ID__=kP}}return t})();function kP(t){return FP(It(),Ae(),(t&16)===16)}function FP(t,e,n){if(zu(t)&&!n){let r=br(t.index,e);return new ai(r,r)}else if(t.type&175){let r=e[cn];return new ai(r,e)}return null}function bD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=PP(r),s=[wD({}),{provide:hs,useExisting:AP},...n||[]],o=new Fu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return NP({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function di(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Xo(t,e){_s("NgSignals");let n=tI(t);return e?.equal&&(n[ur].equal=e.equal),n}function Un(t){let e=pe(null);try{return t()}finally{pe(e)}}var AD=null;function jn(){return AD}function RD(t){AD??=t}var sl=class{};var Dt=new U(""),ND=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>x(VP),providedIn:"platform"})}}return t})();var VP=(()=>{class t extends ND{constructor(){super(),this._doc=x(Dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jn().getBaseHref(this._doc)}onPopState(n){let r=jn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=jn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function MD(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function TD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function hi(t){return t&&t[0]!=="?"?"?"+t:t}var Ds=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>x(xD),providedIn:"root"})}}return t})(),UP=new U(""),xD=(()=>{class t extends Ds{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(Dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return MD(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+hi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+hi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+hi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(K(ND),K(UP,8))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ea=(()=>{class t{constructor(n){this._subject=new Le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=$P(TD(CD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+hi(r))}normalize(n){return t.stripTrailingSlash(BP(this._basePath,CD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+hi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+hi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=hi}static{this.joinWithSlash=MD}static{this.stripTrailingSlash=TD}static{this.\u0275fac=function(r){return new(r||t)(K(Ds))}}static{this.\u0275prov=$({token:t,factory:()=>jP(),providedIn:"root"})}}return t})();function jP(){return new ea(K(Ds))}function BP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function CD(t){return t.replace(/\/index.html$/,"")}function $P(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function ol(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var al=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new jp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){SD("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){SD("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(J(Yo),J(kp))}}static{this.\u0275dir=xe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),jp=class{constructor(){this.$implicit=null,this.ngIf=null}};function SD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${dt(e)}'.`)}var Bp=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=xn({type:t})}static{this.\u0275inj=Mn({})}}return t})(),PD="browser",HP="server";function cl(t){return t===HP}var Es=class{};var na=class{},ll=class{},Zt=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Hp=class{encodeKey(e){return kD(e)}encodeValue(e){return kD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function qP(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,c]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(c),n.set(o,u)}),n}var zP=/%(\d[a-f0-9])/gi,GP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kD(t){return encodeURIComponent(t).replace(zP,(e,n)=>GP[n]??e)}function ul(t){return`${t}`}var Rr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Hp,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=qP(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(ul):[ul(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(ul(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(ul(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var qp=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function WP(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function FD(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function LD(t){return typeof Blob<"u"&&t instanceof Blob}function VD(t){return typeof FormData<"u"&&t instanceof FormData}function KP(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ta=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(WP(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Zt,this.context??=new qp,!this.params)this.params=new Rr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let c=n.indexOf("?"),u=c===-1?"?":c<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||FD(this.body)||LD(this.body)||VD(this.body)||KP(this.body)?this.body:this.body instanceof Rr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||VD(this.body)?null:LD(this.body)?this.body.type||null:FD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Rr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,d=e.headers||this.headers,f=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((I,w)=>I.set(w,e.setHeaders[w]),d)),e.setParams&&(f=Object.keys(e.setParams).reduce((I,w)=>I.set(w,e.setParams[w]),f)),new t(n,r,o,{params:f,headers:d,context:g,reportProgress:u,responseType:i,withCredentials:c,transferCache:s})}},Nr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Nr||{}),ra=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Zt,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},dl=class t extends ra{constructor(e={}){super(e),this.type=Nr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ia=class t extends ra{constructor(e={}){super(e),this.type=Nr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ar=class extends ra{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},HD=200,QP=204;function $p(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Wp=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof ta)s=n;else{let u;i.headers instanceof Zt?u=i.headers:u=new Zt(i.headers);let d;i.params&&(i.params instanceof Rr?d=i.params:d=new Rr({fromObject:i.params})),s=new ta(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=Q(s).pipe(pr(u=>this.handler.handle(u)));if(n instanceof ta||i.observe==="events")return o;let c=o.pipe(St(u=>u instanceof ia));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(X(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(X(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(X(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(X(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Rr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,$p(i,r))}post(n,r,i={}){return this.request("POST",n,$p(i,r))}put(n,r,i={}){return this.request("PUT",n,$p(i,r))}static{this.\u0275fac=function(r){return new(r||t)(K(na))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),YP=/^\)\]\}',?\n/,JP="X-Request-URL";function UD(t){if(t.url)return t.url;let e=JP.toLocaleLowerCase();return t.headers.get(e)}var ZP=(()=>{class t{constructor(){this.fetchImpl=x(zp,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=x(ve)}handle(n){return new oe(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(Gp,s=>r.error(new Ar({error:s}))),()=>i.abort()})}doRequest(n,r,i){return _(this,null,function*(){let s=this.createRequestInit(n),o;try{let w=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,F({signal:r},s)));XP(w),i.next({type:Nr.Sent}),o=yield w}catch(w){i.error(new Ar({error:w,status:w.status??0,statusText:w.statusText,url:n.urlWithParams,headers:w.headers}));return}let c=new Zt(o.headers),u=o.statusText,d=UD(o)??n.urlWithParams,f=o.status,g=null;if(n.reportProgress&&i.next(new dl({headers:c,status:f,statusText:u,url:d})),o.body){let w=o.headers.get("content-length"),A=[],N=o.body.getReader(),R=0,V,W,B=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>_(this,null,function*(){for(;;){let{done:Te,value:ne}=yield N.read();if(Te)break;if(A.push(ne),R+=ne.length,n.reportProgress){W=n.responseType==="text"?(W??"")+(V??=new TextDecoder).decode(ne,{stream:!0}):void 0;let D=()=>i.next({type:Nr.DownloadProgress,total:w?+w:void 0,loaded:R,partialText:W});B?B.run(D):D()}}}));let ie=this.concatChunks(A,R);try{let Te=o.headers.get("Content-Type")??"";g=this.parseBody(n,ie,Te)}catch(Te){i.error(new Ar({error:Te,headers:new Zt(o.headers),status:o.status,statusText:o.statusText,url:UD(o)??n.urlWithParams}));return}}f===0&&(f=g?HD:0),f>=200&&f<300?(i.next(new ia({body:g,headers:c,status:f,statusText:u,url:d})),i.complete()):i.error(new Ar({error:g,headers:c,status:f,statusText:u,url:d}))})}parseBody(n,r,i){switch(n.responseType){case"json":let s=new TextDecoder().decode(r).replace(YP,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((s,o)=>r[s]=o.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let s=n.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),s=0;for(let o of n)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),zp=class{};function Gp(){}function XP(t){t.then(Gp,Gp)}function qD(t,e){return e(t)}function eO(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function tO(t,e,n){return(r,i)=>Qt(n,()=>e(r,s=>t(s,i)))}var nO=new U(""),Kp=new U(""),rO=new U(""),zD=new U("",{providedIn:"root",factory:()=>!0});function iO(){let t=null;return(e,n)=>{t===null&&(t=(x(nO,{optional:!0})??[]).reduceRight(eO,qD));let r=x(Ln);if(x(zD)){let s=r.add();return t(e,n).pipe(mr(()=>r.remove(s)))}else return t(e,n)}}var jD=(()=>{class t extends na{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=x(Ln),this.contributeToStability=x(zD)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Kp),...this.injector.get(rO,[])]));this.chain=r.reduceRight((i,s)=>tO(i,s,this.injector),qD)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(mr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(K(ll),K(mt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();var sO=/^\)\]\}',?\n/;function oO(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var BD=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new q(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Se(r.\u0275loadImpl()):Q(null)).pipe(At(()=>new oe(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((N,R)=>o.setRequestHeader(N,R.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let N=n.detectContentTypeHeader();N!==null&&o.setRequestHeader("Content-Type",N)}if(n.responseType){let N=n.responseType.toLowerCase();o.responseType=N!=="json"?N:"text"}let c=n.serializeBody(),u=null,d=()=>{if(u!==null)return u;let N=o.statusText||"OK",R=new Zt(o.getAllResponseHeaders()),V=oO(o)||n.url;return u=new dl({headers:R,status:o.status,statusText:N,url:V}),u},f=()=>{let{headers:N,status:R,statusText:V,url:W}=d(),B=null;R!==QP&&(B=typeof o.response>"u"?o.responseText:o.response),R===0&&(R=B?HD:0);let ie=R>=200&&R<300;if(n.responseType==="json"&&typeof B=="string"){let Te=B;B=B.replace(sO,"");try{B=B!==""?JSON.parse(B):null}catch(ne){B=Te,ie&&(ie=!1,B={error:ne,text:B})}}ie?(s.next(new ia({body:B,headers:N,status:R,statusText:V,url:W||void 0})),s.complete()):s.error(new Ar({error:B,headers:N,status:R,statusText:V,url:W||void 0}))},g=N=>{let{url:R}=d(),V=new Ar({error:N,status:o.status||0,statusText:o.statusText||"Unknown Error",url:R||void 0});s.error(V)},I=!1,w=N=>{I||(s.next(d()),I=!0);let R={type:Nr.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),n.responseType==="text"&&o.responseText&&(R.partialText=o.responseText),s.next(R)},A=N=>{let R={type:Nr.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),s.next(R)};return o.addEventListener("load",f),o.addEventListener("error",g),o.addEventListener("timeout",g),o.addEventListener("abort",g),n.reportProgress&&(o.addEventListener("progress",w),c!==null&&o.upload&&o.upload.addEventListener("progress",A)),o.send(c),s.next({type:Nr.Sent}),()=>{o.removeEventListener("error",g),o.removeEventListener("abort",g),o.removeEventListener("load",f),o.removeEventListener("timeout",g),n.reportProgress&&(o.removeEventListener("progress",w),c!==null&&o.upload&&o.upload.removeEventListener("progress",A)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(K(Es))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),GD=new U(""),aO="XSRF-TOKEN",cO=new U("",{providedIn:"root",factory:()=>aO}),uO="X-XSRF-TOKEN",lO=new U("",{providedIn:"root",factory:()=>uO}),hl=class{},dO=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ol(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(K(Dt),K(hn),K(cO))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function hO(t,e){let n=t.url.toLowerCase();if(!x(GD)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=x(hl).getToken(),i=x(lO);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var WD=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(WD||{});function fO(t,e){return{\u0275kind:t,\u0275providers:e}}function pO(...t){let e=[Wp,BD,jD,{provide:na,useExisting:jD},{provide:ll,useFactory:()=>x(ZP,{optional:!0})??x(BD)},{provide:Kp,useValue:hO,multi:!0},{provide:GD,useValue:!0},{provide:hl,useClass:dO}];for(let n of t)e.push(...n.\u0275providers);return Ut(e)}var $D=new U("");function gO(){return fO(WD.LegacyInterceptors,[{provide:$D,useFactory:iO},{provide:Kp,useExisting:$D,multi:!0}])}var KD=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=xn({type:t})}static{this.\u0275inj=Mn({providers:[pO(gO())]})}}return t})();var Jp=class extends sl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Zp=class t extends Jp{static makeCurrent(){RD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=yO();return n==null?null:vO(n)}resetBaseElement(){sa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ol(document.cookie,e)}},sa=null;function yO(){return sa=sa||document.querySelector("base"),sa?sa.getAttribute("href"):null}function vO(t){return new URL(t,document.baseURI).pathname}var _O=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),Xp=new U(""),ZD=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new q(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(K(Xp),K(ve))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),fl=class{constructor(e){this._doc=e}},Qp="ng-app-id",XD=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=cl(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Qp}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Qp),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Qp,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(K(Dt),K(Ep),K(bp,8),K(hn))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),Yp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},tg=/%COMP%/g,eb="%COMP%",IO=`_nghost-${eb}`,wO=`_ngcontent-${eb}`,EO=!0,DO=new U("",{providedIn:"root",factory:()=>EO});function bO(t){return wO.replace(tg,t)}function TO(t){return IO.replace(tg,t)}function tb(t,e){return e.map(n=>n.replace(tg,t))}var QD=(()=>{class t{constructor(n,r,i,s,o,c,u,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=cl(c),this.defaultRenderer=new oa(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===on.ShadowDom&&(r=se(F({},r),{encapsulation:on.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof pl?i.applyToHost(n):i instanceof aa&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case on.Emulated:s=new pl(u,d,r,this.appId,f,o,c,g);break;case on.ShadowDom:return new eg(u,d,n,r,o,c,this.nonce,g);default:s=new aa(u,d,r,f,o,c,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(K(ZD),K(XD),K(Ep),K(DO),K(Dt),K(hn),K(ve),K(bp))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),oa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Yp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(YD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(YD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Yp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Yp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Rn.DashCase|Rn.Important)?e.style.setProperty(n,r,i&Rn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Rn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=jn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function YD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var eg=class extends oa{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=tb(i.id,i.styles);for(let f of d){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},aa=class extends oa{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?tb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},pl=class extends aa{constructor(e,n,r,i,s,o,c,u){let d=i+"-"+r.id;super(e,n,r,s,o,c,u,d),this.contentAttr=bO(d),this.hostAttr=TO(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},CO=(()=>{class t extends fl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(K(Dt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),JD=["alt","control","meta","shift"],SO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},AO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},RO=(()=>{class t extends fl{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jn().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),JD.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),o+=d+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=SO[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),JD.forEach(o=>{if(o!==i){let c=AO[o];c(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(K(Dt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function nb(t,e){return bD(F({rootComponent:t},NO(e)))}function NO(t){return{appProviders:[...kO,...t?.providers??[]],platformProviders:OO}}function MO(){Zp.makeCurrent()}function xO(){return new An}function PO(){return ME(document),document}var OO=[{provide:hn,useValue:PD},{provide:Dp,useValue:MO,multi:!0},{provide:Dt,useFactory:PO,deps:[]}];var kO=[{provide:Hu,useValue:"root"},{provide:An,useFactory:xO,deps:[]},{provide:Xp,useClass:CO,multi:!0,deps:[Dt,ve,hn]},{provide:Xp,useClass:RO,multi:!0,deps:[Dt]},QD,XD,ZD,{provide:ps,useExisting:QD},{provide:Es,useClass:_O,deps:[]},[]];var rb=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(K(Dt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ee="primary",Da=Symbol("RouteTitle"),og=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Rs(t){return new og(t)}function LO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function VO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!pn(t[n],e[n]))return!1;return!0}function pn(t,e){let n=t?ag(t):void 0,r=e?ag(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!db(t[i],e[i]))return!1;return!0}function ag(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function db(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function hb(t){return t.length>0?t[t.length-1]:null}function xr(t){return Zh(t)?t:li(t)?Se(Promise.resolve(t)):Q(t)}var UO={exact:pb,subset:gb},fb={exact:jO,subset:BO,ignored:()=>!0};function ib(t,e,n){return UO[n.paths](t.root,e.root,n.matrixParams)&&fb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function jO(t,e){return pn(t,e)}function pb(t,e,n){if(!pi(t.segments,e.segments)||!yl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!pb(t.children[r],e.children[r],n))return!1;return!0}function BO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>db(t[n],e[n]))}function gb(t,e,n){return mb(t,e,e.segments,n)}function mb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!pi(i,n)||e.hasChildren()||!yl(i,n,r))}else if(t.segments.length===n.length){if(!pi(t.segments,n)||!yl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!gb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!pi(t.segments,i)||!yl(t.segments,i,r)||!t.children[ee]?!1:mb(t.children[ee],e,s,r)}}function yl(t,e,n){return e.every((r,i)=>fb[n](t[i].parameters,r.parameters))}var $n=class{constructor(e=new _e([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Rs(this.queryParams),this._queryParamMap}toString(){return qO.serialize(this)}},_e=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vl(this)}},fi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Rs(this.parameters),this._parameterMap}toString(){return vb(this)}};function $O(t,e){return pi(t,e)&&t.every((n,r)=>pn(n.parameters,e[r].parameters))}function pi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function HO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ee&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ee&&(n=n.concat(e(i,r)))}),n}var Pg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>new pa,providedIn:"root"})}}return t})(),pa=class{parse(e){let n=new ug(e);return new $n(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ca(e.root,!0)}`,r=WO(e.queryParams),i=typeof e.fragment=="string"?`#${zO(e.fragment)}`:"";return`${n}${r}${i}`}},qO=new pa;function vl(t){return t.segments.map(e=>vb(e)).join("/")}function ca(t,e){if(!t.hasChildren())return vl(t);if(e){let n=t.children[ee]?ca(t.children[ee],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ee&&r.push(`${i}:${ca(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=HO(t,(r,i)=>i===ee?[ca(t.children[ee],!1)]:[`${i}:${ca(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ee]!=null?`${vl(t)}/${n[0]}`:`${vl(t)}/(${n.join("//")})`}}function yb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gl(t){return yb(t).replace(/%3B/gi,";")}function zO(t){return encodeURI(t)}function cg(t){return yb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _l(t){return decodeURIComponent(t)}function sb(t){return _l(t.replace(/\+/g,"%20"))}function vb(t){return`${cg(t.path)}${GO(t.parameters)}`}function GO(t){return Object.entries(t).map(([e,n])=>`;${cg(e)}=${cg(n)}`).join("")}function WO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${gl(n)}=${gl(i)}`).join("&"):`${gl(n)}=${gl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var KO=/^[^\/()?;#]+/;function ng(t){let e=t.match(KO);return e?e[0]:""}var QO=/^[^\/()?;=#]+/;function YO(t){let e=t.match(QO);return e?e[0]:""}var JO=/^[^=?&#]+/;function ZO(t){let e=t.match(JO);return e?e[0]:""}var XO=/^[^&#]+/;function ek(t){let e=t.match(XO);return e?e[0]:""}var ug=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ee]=new _e(e,n)),r}parseSegment(){let e=ng(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new fi(_l(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=YO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ng(this.remaining);i&&(r=i,this.capture(r))}e[_l(n)]=_l(r)}parseQueryParam(e){let n=ZO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=ek(this.remaining);o&&(r=o,this.capture(r))}let i=sb(n),s=sb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ng(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new q(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ee);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ee]:new _e([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}};function _b(t){return t.segments.length>0?new _e([],{[ee]:t}):t}function Ib(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Ib(i);if(r===ee&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new _e(t.segments,e);return tk(n)}function tk(t){if(t.numberOfChildren===1&&t.children[ee]){let e=t.children[ee];return new _e(t.segments.concat(e.segments),e.children)}return t}function gi(t){return t instanceof $n}function nk(t,e,n=null,r=null){let i=wb(t);return Eb(i,e,n,r)}function wb(t){let e;function n(s){let o={};for(let u of s.children){let d=n(u);o[u.outlet]=d}let c=new _e(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=_b(r);return e??i}function Eb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return rg(i,i,i,n,r);let s=rk(e);if(s.toRoot())return rg(i,i,new _e([],{}),n,r);let o=ik(s,i,t),c=o.processChildren?da(o.segmentGroup,o.index,s.commands):bb(o.segmentGroup,o.index,s.commands);return rg(i,o.segmentGroup,c,n,r)}function Il(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ga(t){return typeof t=="object"&&t!=null&&t.outlets}function rg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let o;t===e?o=n:o=Db(t,e,n);let c=_b(Ib(o));return new $n(c,s,i)}function Db(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Db(s,e,n)}),new _e(t.segments,r)}var wl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Il(r[0]))throw new q(4003,!1);let i=r.find(ga);if(i&&i!==hb(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function rk(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new wl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,d])=>{c[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new wl(n,e,r)}var Cs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function ik(t,e,n){if(t.isAbsolute)return new Cs(e,!0,0);if(!n)return new Cs(e,!1,NaN);if(n.parent===null)return new Cs(n,!0,0);let r=Il(t.commands[0])?0:1,i=n.segments.length-1+r;return sk(n,i,t.numberOfDoubleDots)}function sk(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new Cs(r,!1,i-s)}function ok(t){return ga(t[0])?t[0].outlets:{[ee]:t}}function bb(t,e,n){if(t??=new _e([],{}),t.segments.length===0&&t.hasChildren())return da(t,e,n);let r=ak(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new _e(t.segments.slice(0,r.pathIndex),{});return s.children[ee]=new _e(t.segments.slice(r.pathIndex),t.children),da(s,0,i)}else return r.match&&i.length===0?new _e(t.segments,{}):r.match&&!t.hasChildren()?lg(t,e,n):r.match?da(t,0,i):lg(t,e,n)}function da(t,e,n){if(n.length===0)return new _e(t.segments,{});{let r=ok(n),i={};if(Object.keys(r).some(s=>s!==ee)&&t.children[ee]&&t.numberOfChildren===1&&t.children[ee].segments.length===0){let s=da(t.children[ee],e,n);return new _e(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=bb(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new _e(t.segments,i)}}function ak(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(ga(c))break;let u=`${c}`,d=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!ab(u,d,o))return s;r+=2}else{if(!ab(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function lg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ga(s)){let u=ck(s.outlets);return new _e(r,u)}if(i===0&&Il(n[0])){let u=t.segments[e];r.push(new fi(u.path,ob(n[0]))),i++;continue}let o=ga(s)?s.outlets[ee]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&Il(c)?(r.push(new fi(o,ob(c))),i+=2):(r.push(new fi(o,{})),i++)}return new _e(r,{})}function ck(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=lg(new _e([],{}),0,r))}),e}function ob(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ab(t,e,n){return t==n.path&&pn(e,n.parameters)}var ha="imperative",et=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(et||{}),$t=class{constructor(e,n){this.id=e,this.url=n}},ma=class extends $t{constructor(e,n,r="imperative",i=null){super(e,n),this.type=et.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Mr=class extends $t{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=et.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Mt||{}),dg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(dg||{}),Bn=class extends $t{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=et.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mi=class extends $t{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=et.NavigationSkipped}},ya=class extends $t{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=et.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},El=class extends $t{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hg=class extends $t{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fg=class extends $t{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=et.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},pg=class extends $t{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gg=class extends $t{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mg=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},yg=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vg=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_g=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ig=class{constructor(e){this.snapshot=e,this.type=et.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wg=class{constructor(e){this.snapshot=e,this.type=et.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var va=class{},Ns=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function uk(t,e){return t.providers&&!t._injector&&(t._injector=Lp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Xt(t){return t.outlet||ee}function lk(t,e){let n=t.filter(r=>Xt(r)===e);return n.push(...t.filter(r=>Xt(r)!==e)),n}function ba(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Eg=class{get injector(){return ba(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Rl(this.rootInjector),this.attachRef=null}},Rl=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Eg(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(K(mt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Dl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Dg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Dg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=bg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return bg(e,this._root).map(n=>n.value)}};function Dg(t,e){if(t===e.value)return e;for(let n of e.children){let r=Dg(t,n);if(r)return r}return null}function bg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=bg(t,n);if(r.length)return r.unshift(e),r}return[]}var Nt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ts(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var bl=class extends Dl{constructor(e,n){super(e),this.snapshot=n,Og(this,e)}toString(){return this.snapshot.toString()}};function Tb(t){let e=dk(t),n=new Ze([new fi("",{})]),r=new Ze({}),i=new Ze({}),s=new Ze({}),o=new Ze(""),c=new yi(n,r,s,o,i,ee,t,e.root);return c.snapshot=e.root,new bl(new Nt(c,[]),e)}function dk(t){let e={},n={},r={},i="",s=new Ss([],e,r,i,n,ee,t,null,{});return new Cl("",new Nt(s,[]))}var yi=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(X(d=>d[Da]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>Rs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>Rs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Tl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&Sb(i)&&(r.resolve[Da]=i.title),r}var Ss=class{get title(){return this.data?.[Da]}constructor(e,n,r,i,s,o,c,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Rs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Rs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Cl=class extends Dl{constructor(e,n){super(n),this.url=e,Og(this,n)}toString(){return Cb(this._root)}};function Og(t,e){e.value._routerState=t,e.children.forEach(n=>Og(t,n))}function Cb(t){let e=t.children.length>0?` { ${t.children.map(Cb).join(", ")} } `:"";return`${t.value}${e}`}function ig(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,pn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),pn(e.params,n.params)||t.paramsSubject.next(n.params),VO(e.url,n.url)||t.urlSubject.next(n.url),pn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Tg(t,e){let n=pn(t.params,e.params)&&$O(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Tg(t.parent,e.parent))}function Sb(t){return typeof t.title=="string"||t.title===null}var kg=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new Le,this.deactivateEvents=new Le,this.attachEvents=new Le,this.detachEvents=new Le,this.parentContexts=x(Rl),this.location=x(Yo),this.changeDetector=x(ws),this.inputBinder=x(Fg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Cg(n,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=xe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[kn]})}}return t})(),Cg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===yi?this.route:e===Rl?this.childContexts:this.parent.get(e,n)}},Fg=new U("");function hk(t,e,n){let r=_a(t,e._root,n?n._root:void 0);return new bl(r,e)}function _a(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=fk(t,e,n);return new Nt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>_a(t,c)),o}}let r=pk(e.value),i=e.children.map(s=>_a(t,s));return new Nt(r,i)}}function fk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return _a(t,r,i);return _a(t,r)})}function pk(t){return new yi(new Ze(t.url),new Ze(t.params),new Ze(t.queryParams),new Ze(t.fragment),new Ze(t.data),t.outlet,t.component,t)}var Ia=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Ab="ngNavigationCancelingError";function Sl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=gi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Rb(!1,Mt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Rb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Ab]=!0,n.cancellationCode=e,n}function gk(t){return Nb(t)&&gi(t.url)}function Nb(t){return!!t&&t[Ab]}var mk=(t,e,n,r)=>X(i=>(new Sg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Sg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ig(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ts(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ts(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ts(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ts(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new wg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new _g(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(ig(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),ig(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Al=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},As=class{constructor(e,n){this.component=e,this.route=n}};function yk(t,e,n){let r=t._root,i=e?e._root:null;return ua(r,i,n,[r.value])}function vk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function xs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!vw(t)?t:e.get(t):r}function ua(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ts(e);return t.children.forEach(o=>{_k(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>fa(c,n.getContext(o),i)),i}function _k(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=Ik(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Al(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ua(t,e,c?c.children:null,r,i):ua(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new As(c.outlet.component,o))}else o&&fa(e,c,i),i.canActivateChecks.push(new Al(r)),s.component?ua(t,null,c?c.children:null,r,i):ua(t,null,n,r,i);return i}function Ik(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!pi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!pi(t.url,e.url)||!pn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tg(t,e)||!pn(t.queryParams,e.queryParams);case"paramsChange":default:return!Tg(t,e)}}function fa(t,e,n){let r=Ts(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?fa(o,e.children.getContext(s),n):fa(o,null,n):fa(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new As(e.outlet.component,i)):n.canDeactivateChecks.push(new As(null,i)):n.canDeactivateChecks.push(new As(null,i))}function Ta(t){return typeof t=="function"}function wk(t){return typeof t=="boolean"}function Ek(t){return t&&Ta(t.canLoad)}function Dk(t){return t&&Ta(t.canActivate)}function bk(t){return t&&Ta(t.canActivateChild)}function Tk(t){return t&&Ta(t.canDeactivate)}function Ck(t){return t&&Ta(t.canMatch)}function Mb(t){return t instanceof Cn||t?.name==="EmptyError"}var ml=Symbol("INITIAL_VALUE");function Ms(){return At(t=>ru(t.map(e=>e.pipe(Sn(1),sf(ml)))).pipe(X(e=>{for(let n of e)if(n!==!0){if(n===ml)return ml;if(n===!1||Sk(n))return n}return!0}),St(e=>e!==ml),Sn(1)))}function Sk(t){return gi(t)||t instanceof Ia}function Ak(t,e){return He(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Q(se(F({},n),{guardsResult:!0})):Rk(o,r,i,t).pipe(He(c=>c&&wk(c)?Nk(r,s,t,e):Q(c)),X(c=>se(F({},n),{guardsResult:c})))})}function Rk(t,e,n,r){return Se(t).pipe(He(i=>kk(i.component,i.route,n,e,r)),nn(i=>i!==!0,!0))}function Nk(t,e,n,r){return Se(e).pipe(pr(i=>Ji(xk(i.route.parent,r),Mk(i.route,r),Ok(t,i.path,n),Pk(t,i.route,n))),nn(i=>i!==!0,!0))}function Mk(t,e){return t!==null&&e&&e(new Ig(t)),Q(!0)}function xk(t,e){return t!==null&&e&&e(new vg(t)),Q(!0)}function Pk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(s=>iu(()=>{let o=ba(e)??n,c=xs(s,o),u=Dk(c)?c.canActivate(e,t):Qt(o,()=>c(e,t));return xr(u).pipe(nn())}));return Q(i).pipe(Ms())}function Ok(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>vk(o)).filter(o=>o!==null).map(o=>iu(()=>{let c=o.guards.map(u=>{let d=ba(o.node)??n,f=xs(u,d),g=bk(f)?f.canActivateChild(r,t):Qt(d,()=>f(r,t));return xr(g).pipe(nn())});return Q(c).pipe(Ms())}));return Q(s).pipe(Ms())}function kk(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Q(!0);let o=s.map(c=>{let u=ba(e)??i,d=xs(c,u),f=Tk(d)?d.canDeactivate(t,e,n,r):Qt(u,()=>d(t,e,n,r));return xr(f).pipe(nn())});return Q(o).pipe(Ms())}function Fk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let s=i.map(o=>{let c=xs(o,t),u=Ek(c)?c.canLoad(e,n):Qt(t,()=>c(e,n));return xr(u)});return Q(s).pipe(Ms(),xb(r))}function xb(t){return qh(Fe(e=>{if(typeof e!="boolean")throw Sl(t,e)}),X(e=>e===!0))}function Lk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let s=i.map(o=>{let c=xs(o,t),u=Ck(c)?c.canMatch(e,n):Qt(t,()=>c(e,n));return xr(u)});return Q(s).pipe(Ms(),xb(r))}var wa=class{constructor(e){this.segmentGroup=e||null}},Ea=class extends Error{constructor(e){super(),this.urlTree=e}};function bs(t){return Yi(new wa(t))}function Vk(t){return Yi(new q(4e3,!1))}function Uk(t){return Yi(Rb(!1,Mt.GuardRejected))}var Ag=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[ee])return Vk(`${e.redirectTo}`);i=i.children[ee]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:u,fragment:d,routeConfig:f,url:g,outlet:I,params:w,data:A,title:N}=i,R=Qt(s,()=>c({params:w,data:A,queryParams:u,fragment:d,routeConfig:f,url:g,outlet:I,title:N}));if(R instanceof $n)throw new Ea(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ea(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new $n(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new _e(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Rg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jk(t,e,n,r,i){let s=Pb(t,e,n);return s.matched?(r=uk(e,r),Lk(r,e,n,i).pipe(X(o=>o===!0?s:F({},Rg)))):Q(s)}function Pb(t,e,n){if(e.path==="**")return Bk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},Rg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||LO)(n,t,e);if(!i)return F({},Rg);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?F(F({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Bk(t){return{matched:!0,parameters:t.length>0?hb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function cb(t,e,n,r){return n.length>0&&qk(t,n,r)?{segmentGroup:new _e(e,Hk(r,new _e(n,t.children))),slicedSegments:[]}:n.length===0&&zk(t,n,r)?{segmentGroup:new _e(t.segments,$k(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new _e(t.segments,t.children),slicedSegments:n}}function $k(t,e,n,r){let i={};for(let s of n)if(Nl(t,e,s)&&!r[Xt(s)]){let o=new _e([],{});i[Xt(s)]=o}return F(F({},r),i)}function Hk(t,e){let n={};n[ee]=e;for(let r of t)if(r.path===""&&Xt(r)!==ee){let i=new _e([],{});n[Xt(r)]=i}return n}function qk(t,e,n){return n.some(r=>Nl(t,e,r)&&Xt(r)!==ee)}function zk(t,e,n){return n.some(r=>Nl(t,e,r))}function Nl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Gk(t,e,n){return e.length===0&&!t.children[n]}var Ng=class{};function Wk(t,e,n,r,i,s,o="emptyOnly"){return new Mg(t,e,n,r,i,o,s).recognize()}var Kk=31,Mg=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Ag(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new q(4002,`'${e.segmentGroup}'`)}recognize(){let e=cb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(({children:n,rootSnapshot:r})=>{let i=new Nt(r,n),s=new Cl("",i),o=nk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Ss([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ee,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ee,n).pipe(X(r=>({children:r,rootSnapshot:n})),fr(r=>{if(r instanceof Ea)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof wa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(X(o=>o instanceof Nt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Se(s).pipe(pr(o=>{let c=r.children[o],u=lk(n,o);return this.processSegmentGroup(e,u,c,o,i)}),rf((o,c)=>(o.push(...c),o)),gr(null),nf(),He(o=>{if(o===null)return bs(r);let c=Ob(o);return Qk(c),Q(c)}))}processSegment(e,n,r,i,s,o,c){return Se(n).pipe(pr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,c).pipe(fr(d=>{if(d instanceof wa)return Q(null);throw d}))),nn(u=>!!u),fr(u=>{if(Mb(u))return Gk(r,i,s)?Q(new Ng):bs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,u){return Xt(r)!==o&&(o===ee||!Nl(i,s,r))?bs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):bs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:u,parameters:d,consumedSegments:f,positionalParamSegments:g,remainingSegments:I}=Pb(n,i,s);if(!u)return bs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Kk&&(this.allowRedirects=!1));let w=new Ss(s,d,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,ub(i),Xt(i),i.component??i._loadedComponent??null,i,lb(i)),A=Tl(w,c,this.paramsInheritanceStrategy);w.params=Object.freeze(A.params),w.data=Object.freeze(A.data);let N=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,w,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(He(R=>this.processSegment(e,r,n,R.concat(I),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=jk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(At(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(At(({routes:d})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:I,remainingSegments:w}=u,A=new Ss(I,g,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,ub(r),Xt(r),r.component??r._loadedComponent??null,r,lb(r)),N=Tl(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(N.params),A.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:V}=cb(n,I,w,d);if(V.length===0&&R.hasChildren())return this.processChildren(f,d,R,A).pipe(X(B=>new Nt(A,B)));if(d.length===0&&V.length===0)return Q(new Nt(A,[]));let W=Xt(r)===s;return this.processSegment(f,d,R,V,W?ee:s,!0,A).pipe(X(B=>new Nt(A,B instanceof Nt?[B]:[])))}))):bs(n)))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):Fk(e,n,r,this.urlSerializer).pipe(He(i=>i?this.configLoader.loadChildren(e,n).pipe(Fe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Uk(n))):Q({routes:[],injector:e})}};function Qk(t){t.sort((e,n)=>e.value.outlet===ee?-1:n.value.outlet===ee?1:e.value.outlet.localeCompare(n.value.outlet))}function Yk(t){let e=t.value.routeConfig;return e&&e.path===""}function Ob(t){let e=[],n=new Set;for(let r of t){if(!Yk(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Ob(r.children);e.push(new Nt(r.value,i))}return e.filter(r=>!n.has(r))}function ub(t){return t.data||{}}function lb(t){return t.resolve||{}}function Jk(t,e,n,r,i,s){return He(o=>Wk(t,e,n,r,o.extractedUrl,i,s).pipe(X(({state:c,tree:u})=>se(F({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function Zk(t,e){return He(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let d of kb(u))o.add(d);let c=0;return Se(o).pipe(pr(u=>s.has(u)?Xk(u,r,t,e):(u.data=Tl(u,u.parent,t).resolve,Q(void 0))),Fe(()=>c++),Zi(1),He(u=>c===o.size?Q(n):Ct))})}function kb(t){let e=t.children.map(n=>kb(n)).flat();return[t,...e]}function Xk(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Sb(i)&&(s[Da]=i.title),e1(s,t,e,r).pipe(X(o=>(t._resolvedData=o,t.data=Tl(t,t.parent,n).resolve,null)))}function e1(t,e,n,r){let i=ag(t);if(i.length===0)return Q({});let s={};return Se(i).pipe(He(o=>t1(t[o],e,n,r).pipe(nn(),Fe(c=>{if(c instanceof Ia)throw Sl(new pa,c);s[o]=c}))),Zi(1),tf(s),fr(o=>Mb(o)?Ct:Yi(o)))}function t1(t,e,n,r){let i=ba(e)??r,s=xs(t,i),o=s.resolve?s.resolve(e,n):Qt(i,()=>s(e,n));return xr(o)}function sg(t){return At(e=>{let n=t(e);return n?Se(n).pipe(X(()=>e)):Q(e)})}var Fb=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ee);return r}getResolvedTitleForRoute(n){return n.data[Da]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>x(n1),providedIn:"root"})}}return t})(),n1=(()=>{class t extends Fb{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(K(rb))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Lg=new U("",{providedIn:"root",factory:()=>({})}),r1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=_t({type:t,selectors:[["ng-component"]],standalone:!0,features:[Et],decls:1,vars:0,template:function(r,i){r&1&&Re(0,"router-outlet")},dependencies:[kg],encapsulation:2})}}return t})();function Vg(t){let e=t.children&&t.children.map(Vg),n=e?se(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ee&&(n.component=r1),n}var Ug=new U(""),i1=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(Vp)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=xr(n.loadComponent()).pipe(X(Lb),Fe(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),mr(()=>{this.componentLoaders.delete(n)})),i=new Gi(r,()=>new We).pipe(zi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=s1(r,this.compiler,n,this.onLoadEndListener).pipe(mr(()=>{this.childrenLoaders.delete(r)})),o=new Gi(s,()=>new We).pipe(zi());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function s1(t,e,n,r){return xr(t.loadChildren()).pipe(X(Lb),He(i=>i instanceof qo||Array.isArray(i)?Q(i):Se(e.compileModuleAsync(i))),X(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(Ug,[],{optional:!0,self:!0}).flat()),{routes:o.map(Vg),injector:s}}))}function o1(t){return t&&typeof t=="object"&&"default"in t}function Lb(t){return o1(t)?t.default:t}var jg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>x(a1),providedIn:"root"})}}return t})(),a1=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),c1=new U("");var u1=new U(""),l1=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new We,this.transitionAbortSubject=new We,this.configLoader=x(i1),this.environmentInjector=x(mt),this.urlSerializer=x(Pg),this.rootContexts=x(Rl),this.location=x(ea),this.inputBindingEnabled=x(Fg,{optional:!0})!==null,this.titleStrategy=x(Fb),this.options=x(Lg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(jg),this.createViewTransition=x(c1,{optional:!0}),this.navigationErrorHandler=x(u1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null;let n=i=>this.events.next(new mg(i)),r=i=>this.events.next(new yg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(se(F(F({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Ze({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ha,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(St(s=>s.id!==0),X(s=>se(F({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),At(s=>{let o=!1,c=!1;return Q(s).pipe(At(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Mt.SupersededByNewNavigation),Ct;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?se(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&f!=="reload"){let g="";return this.events.next(new mi(u.id,this.urlSerializer.serialize(u.rawUrl),g,dg.IgnoredSameUrlNavigation)),u.resolve(!1),Ct}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Q(u).pipe(At(g=>{let I=this.transitions?.getValue();return this.events.next(new ma(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),I!==this.transitions?.getValue()?Ct:Promise.resolve(g)}),Jk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Fe(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=se(F({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let I=new El(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(I)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:I,source:w,restoredState:A,extras:N}=u,R=new ma(g,this.urlSerializer.serialize(I),w,A);this.events.next(R);let V=Tb(this.rootComponentType).snapshot;return this.currentTransition=s=se(F({},u),{targetSnapshot:V,urlAfterRedirects:I,extras:se(F({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,Q(s)}else{let g="";return this.events.next(new mi(u.id,this.urlSerializer.serialize(u.extractedUrl),g,dg.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Ct}}),Fe(u=>{let d=new hg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),X(u=>(this.currentTransition=s=se(F({},u),{guards:yk(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),Ak(this.environmentInjector,u=>this.events.next(u)),Fe(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Sl(this.urlSerializer,u.guardsResult);let d=new fg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),St(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Mt.GuardRejected),!1)),sg(u=>{if(u.guards.canActivateChecks.length)return Q(u).pipe(Fe(d=>{let f=new pg(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),At(d=>{let f=!1;return Q(d).pipe(Zk(this.paramsInheritanceStrategy,this.environmentInjector),Fe({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",Mt.NoDataFromResolver)}}))}),Fe(d=>{let f=new gg(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),sg(u=>{let d=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(Fe(I=>{f.component=I}),X(()=>{})));for(let I of f.children)g.push(...d(I));return g};return ru(d(u.targetSnapshot.root)).pipe(gr(null),Sn(1))}),sg(()=>this.afterPreactivation()),At(()=>{let{currentSnapshot:u,targetSnapshot:d}=s,f=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return f?Se(f).pipe(X(()=>s)):Q(s)}),X(u=>{let d=hk(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=se(F({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),Fe(()=>{this.events.next(new va)}),mk(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Sn(1),Fe({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),of(this.transitionAbortSubject.pipe(Fe(u=>{throw u}))),mr(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",Mt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),fr(u=>{if(c=!0,Nb(u))this.events.next(new Bn(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),gk(u)?this.events.next(new Ns(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let d=new ya(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let f=Qt(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof Ia){let{message:g,cancellationCode:I}=Sl(this.urlSerializer,f);this.events.next(new Bn(s.id,this.urlSerializer.serialize(s.extractedUrl),g,I)),this.events.next(new Ns(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let g=n.errorHandler(u);s.resolve(!!g)}}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return Ct}))}))}cancelNavigationTransition(n,r,i){let s=new Bn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function d1(t){return t!==ha}var h1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>x(f1),providedIn:"root"})}}return t})(),xg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},f1=(()=>{class t extends xg{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Fn(t)))(i||t)}})()}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Vb=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>x(p1),providedIn:"root"})}}return t})(),p1=(()=>{class t extends Vb{constructor(){super(...arguments),this.location=x(ea),this.urlSerializer=x(Pg),this.options=x(Lg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(jg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new $n,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Tb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ma)this.stateMemento=this.createStateMemento();else if(n instanceof mi)this.rawUrlTree=r.initialUrl;else if(n instanceof El){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof va?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Bn&&(n.code===Mt.GuardRejected||n.code===Mt.NoDataFromResolver)?this.restoreHistory(r):n instanceof ya?this.restoreHistory(r,!0):n instanceof Mr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof $n?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=F(F({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=F(F({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Fn(t)))(i||t)}})()}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),la=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(la||{});function g1(t,e){t.events.pipe(St(n=>n instanceof Mr||n instanceof Bn||n instanceof ya||n instanceof mi),X(n=>n instanceof Mr||n instanceof mi?la.COMPLETE:(n instanceof Bn?n.code===Mt.Redirect||n.code===Mt.SupersededByNewNavigation:!1)?la.REDIRECTING:la.FAILED),St(n=>n!==la.REDIRECTING),Sn(1)).subscribe(()=>{e()})}function m1(t){throw t}var y1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},v1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ca=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=x(rl),this.stateManager=x(Vb),this.options=x(Lg,{optional:!0})||{},this.pendingTasks=x(Ln),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(l1),this.urlSerializer=x(Pg),this.location=x(ea),this.urlHandlingStrategy=x(jg),this._events=new We,this.errorHandler=this.options.errorHandler||m1,this.navigated=!1,this.routeReuseStrategy=x(h1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(Ug,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(Fg,{optional:!0}),this.eventsSubscription=new Me,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Bn&&r.code!==Mt.Redirect&&r.code!==Mt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Mr)this.navigated=!0;else if(r instanceof Ns){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||d1(i.source)},o);this.scheduleNavigation(c,ha,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}I1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ha,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Vg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:o,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=F(F({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let I=i?i.snapshot:this.routerState.snapshot.root;g=wb(I)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),g=this.currentUrlTree.root}return Eb(g,n,f,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=gi(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ha,null,r)}navigate(n,r={skipLocationChange:!1}){return _1(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=F({},y1):r===!1?i=F({},v1):i=r,gi(n))return ib(this.currentUrlTree,n,i);let s=this.parseUrl(n);return ib(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,d;o?(c=o.resolve,u=o.reject,d=o.promise):d=new Promise((g,I)=>{c=g,u=I});let f=this.pendingTasks.add();return g1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new q(4008,!1)}function I1(t){return!(t instanceof va)&&!(t instanceof Ns)}var Ub=(()=>{class t{constructor(n,r,i,s,o,c){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c,this.href=null,this.onChanges=new We,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(d=>{d instanceof Mr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(gi(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:OE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:gi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(J(Ca),J(yi),_p("tabindex"),J(Vn),J(dn),J(Ds))}}static{this.\u0275dir=xe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ze("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Zo("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",di],skipLocationChange:[2,"skipLocationChange","skipLocationChange",di],replaceUrl:[2,"replaceUrl","replaceUrl",di],routerLink:"routerLink"},standalone:!0,features:[Fp,kn]})}}return t})();var w1=new U("");function jb(t,...e){return Ut([{provide:Ug,multi:!0,useValue:t},[],{provide:yi,useFactory:E1,deps:[Ca]},{provide:il,multi:!0,useFactory:D1},e.map(n=>n.\u0275providers)])}function E1(t){return t.routerState.root}function D1(){let t=x(yt);return e=>{let n=t.get(Sr);if(e!==n.components[0])return;let r=t.get(Ca),i=t.get(b1);t.get(T1)===1&&r.initialNavigation(),t.get(C1,null,te.Optional)?.setUpPreloading(),t.get(w1,null,te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var b1=new U("",{factory:()=>new We}),T1=new U("",{providedIn:"root",factory:()=>1});var C1=new U("");var Ml=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=_t({type:t,selectors:[["app-home"]],standalone:!0,features:[Et],decls:2,vars:0,template:function(n,r){n&1&&(L(0,"p"),j(1,"home works!"),O())}})};var Yb=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(J(Vn),J(dn))}}static{this.\u0275dir=xe({type:t})}}return t})(),$l=(()=>{class t extends Yb{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Fn(t)))(i||t)}})()}static{this.\u0275dir=xe({type:t,features:[Bt]})}}return t})(),Pa=new U("");var A1={provide:Pa,useExisting:ln(()=>Ls),multi:!0};function R1(){let t=jn()?jn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var N1=new U(""),Ls=(()=>{class t extends Yb{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!R1())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(J(Vn),J(dn),J(N1,8))}}static{this.\u0275dir=xe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ze("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[fn([A1]),Bt]})}}return t})();function Pr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Jb(t){return t!=null&&typeof t.length=="number"}var Gg=new U(""),Zb=new U(""),M1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ie=class{static min(e){return x1(e)}static max(e){return P1(e)}static required(e){return Xb(e)}static requiredTrue(e){return O1(e)}static email(e){return k1(e)}static minLength(e){return F1(e)}static maxLength(e){return L1(e)}static pattern(e){return V1(e)}static nullValidator(e){return Ol(e)}static compose(e){return s0(e)}static composeAsync(e){return a0(e)}};function x1(t){return e=>{if(Pr(e.value)||Pr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function P1(t){return e=>{if(Pr(e.value)||Pr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Xb(t){return Pr(t.value)?{required:!0}:null}function O1(t){return t.value===!0?null:{required:!0}}function k1(t){return Pr(t.value)||M1.test(t.value)?null:{email:!0}}function F1(t){return e=>Pr(e.value)||!Jb(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function L1(t){return e=>Jb(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function V1(t){if(!t)return Ol;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Pr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Ol(t){return null}function e0(t){return t!=null}function t0(t){return li(t)?Se(t):t}function n0(t){let e={};return t.forEach(n=>{e=n!=null?F(F({},e),n):e}),Object.keys(e).length===0?null:e}function r0(t,e){return e.map(n=>n(t))}function U1(t){return!t.validate}function i0(t){return t.map(e=>U1(e)?e:n=>e.validate(n))}function s0(t){if(!t)return null;let e=t.filter(e0);return e.length==0?null:function(n){return n0(r0(n,e))}}function o0(t){return t!=null?s0(i0(t)):null}function a0(t){if(!t)return null;let e=t.filter(e0);return e.length==0?null:function(n){let r=r0(n,e).map(t0);return ef(r).pipe(X(n0))}}function c0(t){return t!=null?a0(i0(t)):null}function Bb(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function u0(t){return t._rawValidators}function l0(t){return t._rawAsyncValidators}function Bg(t){return t?Array.isArray(t)?t:[t]:[]}function kl(t,e){return Array.isArray(t)?t.includes(e):t===e}function $b(t,e){let n=Bg(e);return Bg(t).forEach(i=>{kl(n,i)||n.push(i)}),n}function Hb(t,e){return Bg(e).filter(n=>!kl(t,n))}var Fl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=o0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=c0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ks=class extends Fl{get formDirective(){return null}get path(){return null}},xa=class extends Fl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ll=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},j1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},V9=se(F({},j1),{"[class.ng-submitted]":"isSubmitted"}),Hl=(()=>{class t extends Ll{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(J(xa,2))}}static{this.\u0275dir=xe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&nl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Bt]})}}return t})(),ql=(()=>{class t extends Ll{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(J(ks,10))}}static{this.\u0275dir=xe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&nl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Bt]})}}return t})();var Aa="VALID",xl="INVALID",Ps="PENDING",Ra="DISABLED",Or=class{},Vl=class extends Or{constructor(e,n){super(),this.value=e,this.source=n}},Na=class extends Or{constructor(e,n){super(),this.pristine=e,this.source=n}},Ma=class extends Or{constructor(e,n){super(),this.touched=e,this.source=n}},Os=class extends Or{constructor(e,n){super(),this.status=e,this.source=n}},$g=class extends Or{constructor(e){super(),this.source=e}},Hg=class extends Or{constructor(e){super(),this.source=e}};function Wg(t){return(zl(t)?t.validators:t)||null}function B1(t){return Array.isArray(t)?o0(t):t||null}function Kg(t,e){return(zl(e)?e.asyncValidators:t)||null}function $1(t){return Array.isArray(t)?c0(t):t||null}function zl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function d0(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new q(1e3,"");if(!r[n])throw new q(1001,"")}function h0(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new q(1002,"")})}var Fs=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Xo(()=>this.statusReactive()),this.statusReactive=Jo(void 0),this._pristine=Xo(()=>this.pristineReactive()),this.pristineReactive=Jo(!0),this._touched=Xo(()=>this.touchedReactive()),this.touchedReactive=Jo(!1),this._events=new We,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Un(this.statusReactive)}set status(e){Un(()=>this.statusReactive.set(e))}get valid(){return this.status===Aa}get invalid(){return this.status===xl}get pending(){return this.status==Ps}get disabled(){return this.status===Ra}get enabled(){return this.status!==Ra}get pristine(){return Un(this.pristineReactive)}set pristine(e){Un(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Un(this.touchedReactive)}set touched(e){Un(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($b(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($b(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Hb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Hb(e,this._rawAsyncValidators))}hasValidator(e){return kl(this._rawValidators,e)}hasAsyncValidator(e){return kl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(se(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ma(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ma(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(se(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Na(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Na(!0,r))}markAsPending(e={}){this.status=Ps;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Os(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(se(F({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ra,this.errors=null,this._forEachChild(i=>{i.disable(se(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Vl(this.value,r)),this._events.next(new Os(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(se(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Aa,this._forEachChild(r=>{r.enable(se(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(se(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Aa||this.status===Ps)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Vl(this.value,n)),this._events.next(new Os(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(se(F({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ra:Aa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ps,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=t0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Os(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Le,this.statusChanges=new Le}_calculateStatus(){return this._allControlsDisabled()?Ra:this.errors?xl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ps)?Ps:this._anyControlsHaveStatus(xl)?xl:Aa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Na(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ma(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=B1(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=$1(this._rawAsyncValidators)}},Ul=class extends Fs{constructor(e,n,r){super(Wg(n),Kg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){h0(this,!0,e),Object.keys(e).forEach(r=>{d0(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var qg=class extends Ul{};var f0=new U("CallSetDisabledState",{providedIn:"root",factory:()=>Qg}),Qg="always";function H1(t,e){return[...e.path,t]}function qb(t,e,n=Qg){Yg(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),z1(t,e),W1(t,e),G1(t,e),q1(t,e)}function zb(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Bl(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function jl(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function q1(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Yg(t,e){let n=u0(t);e.validator!==null?t.setValidators(Bb(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=l0(t);e.asyncValidator!==null?t.setAsyncValidators(Bb(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();jl(e._rawValidators,i),jl(e._rawAsyncValidators,i)}function Bl(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=u0(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=l0(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return jl(e._rawValidators,r),jl(e._rawAsyncValidators,r),n}function z1(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&p0(t,e)})}function G1(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&p0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function p0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function W1(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function K1(t,e){t==null,Yg(t,e)}function Q1(t,e){return Bl(t,e)}function Y1(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function J1(t){return Object.getPrototypeOf(t.constructor)===$l}function Z1(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function X1(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Ls?n=s:J1(s)?r=s:i=s}),i||r||n||null}function eF(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Gb(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Wb(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Pl=class extends Fs{constructor(e=null,n,r){super(Wg(n),Kg(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Wb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Gb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Gb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Wb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var tF=t=>t instanceof Pl;var Gl=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=xe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),nF={provide:Pa,useExisting:ln(()=>Jg),multi:!0},Jg=(()=>{class t extends $l{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Fn(t)))(i||t)}})()}static{this.\u0275dir=xe({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&ze("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[fn([nF]),Bt]})}}return t})();var g0=new U("");var rF={provide:ks,useExisting:ln(()=>Oa)},Oa=(()=>{class t extends ks{get submitted(){return Un(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Xo(()=>this._submittedReactive()),this._submittedReactive=Jo(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Le,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return qb(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){zb(n.control||null,n,!1),eF(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),Z1(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new $g(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Hg(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(zb(r||null,n),tF(i)&&(qb(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);K1(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&Q1(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Yg(this.form,this),this._oldForm&&Bl(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(J(Gg,10),J(Zb,10),J(f0,8))}}static{this.\u0275dir=xe({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ze("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fn([rF]),Bt,kn]})}}return t})();var iF={provide:xa,useExisting:ln(()=>ka)},ka=(()=>{class t extends xa{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Le,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=X1(this,s)}ngOnChanges(n){this._added||this._setUpControl(),Y1(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return H1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(J(ks,13),J(Gg,10),J(Zb,10),J(Pa,10),J(g0,8))}}static{this.\u0275dir=xe({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[fn([iF]),Bt,kn]})}}return t})(),sF={provide:Pa,useExisting:ln(()=>Wl),multi:!0};function m0(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function oF(t){return t.split(":")[0]}var Wl=(()=>{class t extends $l{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=m0(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=oF(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Fn(t)))(i||t)}})()}static{this.\u0275dir=xe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ze("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[fn([sF]),Bt]})}}return t})(),y0=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(m0(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(J(dn),J(Vn),J(Wl,9))}}static{this.\u0275dir=xe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),aF={provide:Pa,useExisting:ln(()=>v0),multi:!0};function Kb(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function cF(t){return t.split(":")[0]}var v0=(()=>{class t extends $l{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let c=0;c<o.length;c++){let u=o[c],d=this._getOptionValue(u.value);i.push(d)}}else{let o=r.options;for(let c=0;c<o.length;c++){let u=o[c];if(u.selected){let d=this._getOptionValue(u.value);i.push(d)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=cF(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Fn(t)))(i||t)}})()}static{this.\u0275dir=xe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ze("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[fn([aF]),Bt]})}}return t})(),_0=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(Kb(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Kb(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(J(dn),J(Vn),J(v0,9))}}static{this.\u0275dir=xe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var uF=(()=>{class t{constructor(){this._validator=Ol}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ol,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=xe({type:t,features:[kn]})}}return t})();var lF={provide:Gg,useExisting:ln(()=>Fa),multi:!0};var Fa=(()=>{class t extends uF{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=di,this.createValidator=n=>Xb}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Fn(t)))(i||t)}})()}static{this.\u0275dir=xe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Zo("required",i._enabled?"":null)},inputs:{required:"required"},features:[fn([lF]),Bt]})}}return t})();var dF=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=xn({type:t})}static{this.\u0275inj=Mn({})}}return t})(),zg=class extends Fs{constructor(e,n,r){super(Wg(n),Kg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){h0(this,!1,e),e.forEach((r,i)=>{d0(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Qb(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Kl=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),s={};return Qb(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Ul(i,s)}record(n,r=null){let i=this._reduceControls(n);return new qg(i,r)}control(n,r,i){let s={};return this.useNonNullable?(Qb(r)?s=r:(s.validators=r,s.asyncValidators=i),new Pl(n,se(F({},s),{nonNullable:!0}))):new Pl(n,r,i)}array(n,r,i){let s=n.map(o=>this._createControl(o));return new zg(s,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Pl)return n;if(n instanceof Fs)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(r,i,s)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ql=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:g0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:f0,useValue:n.callSetDisabledState??Qg}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=xn({type:t})}static{this.\u0275inj=Mn({imports:[dF]})}}return t})();var E0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},D0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|c>>4,I=(c&15)<<2|d>>6,w=d&63;u||(w=64,o||(I=64)),r.push(n[f],n[g],n[I],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(E0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||g==null)throw new Xg;let I=s<<2|c>>4;if(r.push(I),d!==64){let w=c<<4&240|d>>2;if(r.push(w),g!==64){let A=d<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Xg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},fF=function(t){let e=E0(t);return D0.encodeByteArray(e,!0)},La=function(t){return fF(t).replace(/\./g,"")},tm=function(t){try{return D0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var gF=()=>pF().__FIREBASE_DEFAULTS__,mF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&tm(t[1]);return e&&JSON.parse(e)},Jl=()=>{try{return gF()||mF()||yF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nm=t=>{var e,n;return(n=(e=Jl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},b0=t=>{let e=nm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rm=()=>{var t;return(t=Jl())===null||t===void 0?void 0:t.config},im=t=>{var e;return(e=Jl())===null||e===void 0?void 0:e[`_${t}`]};var Yl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function T0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[La(JSON.stringify(n)),La(JSON.stringify(o)),""].join(".")}function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function vF(){var t;let e=(t=Jl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function R0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function N0(){let t=Ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function M0(){return!vF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sm(){try{return typeof indexedDB=="object"}catch{return!1}}function x0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var _F="FirebaseError",xt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_F,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hn.prototype.create)}},Hn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?IF(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new xt(i,c,r)}};function IF(t,e){return t.replace(wF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var wF=/\{\$([^}]+)}/g;function P0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(w0(s)&&w0(o)){if(!vi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function w0(t){return t!==null&&typeof t=="object"}function Va(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Us(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function O0(t,e){let n=new em(t,e);return n.subscribe.bind(n)}var em=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Zg),i.error===void 0&&(i.error=Zg),i.complete===void 0&&(i.complete=Zg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function EF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zg(){}var B9=4*60*60*1e3;function ft(t){return t&&t._delegate?t._delegate:t}var Ht=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var _i="[DEFAULT]";var om=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Yl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bF(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=_i){return this.instances.has(e)}getOptions(e=_i){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_i){return this.component?this.component.multipleInstances?e:_i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function DF(t){return t===_i?void 0:t}function bF(t){return t.instantiationMode==="EAGER"}var Zl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new om(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var TF=[],le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{}),CF={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},SF=le.INFO,AF={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},RF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=AF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},kr=class{constructor(e){this.name=e,this._logLevel=SF,this._logHandler=RF,this._userLogHandler=null,TF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var NF=(t,e)=>e.some(n=>t instanceof n),k0,F0;function MF(){return k0||(k0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xF(){return F0||(F0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var L0=new WeakMap,cm=new WeakMap,V0=new WeakMap,am=new WeakMap,lm=new WeakMap;function PF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(gn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&L0.set(n,t)}).catch(()=>{}),lm.set(e,t),e}function OF(t){if(cm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});cm.set(t,e)}var um={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||V0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function U0(t){um=t(um)}function kF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Xl(this),e,...n);return V0.set(r,e.sort?e.sort():[e]),gn(r)}:xF().includes(t)?function(...e){return t.apply(Xl(this),e),gn(L0.get(this))}:function(...e){return gn(t.apply(Xl(this),e))}}function FF(t){return typeof t=="function"?kF(t):(t instanceof IDBTransaction&&OF(t),NF(t,MF())?new Proxy(t,um):t)}function gn(t){if(t instanceof IDBRequest)return PF(t);if(am.has(t))return am.get(t);let e=FF(t);return e!==t&&(am.set(t,e),lm.set(e,t)),e}var Xl=t=>lm.get(t);function B0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=gn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(gn(o.result),u.oldVersion,u.newVersion,gn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var LF=["get","getKey","getAll","getAllKeys","count"],VF=["put","add","delete","clear"],dm=new Map;function j0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dm.get(e))return dm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=VF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LF.includes(n)))return;let s=function(o,...c){return _(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[n](...c),i&&u.done]))[0]})};return dm.set(e,s),s}U0(t=>se(F({},t),{get:(e,n,r)=>j0(e,n)||t.get(e,n,r),has:(e,n)=>!!j0(e,n)||t.has(e,n)}));var fm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function UF(t){let e=t.getComponent();return e?.type==="VERSION"}var pm="@firebase/app",$0="0.10.13";var qn=new kr("@firebase/app"),jF="@firebase/app-compat",BF="@firebase/analytics-compat",$F="@firebase/analytics",HF="@firebase/app-check-compat",qF="@firebase/app-check",zF="@firebase/auth",GF="@firebase/auth-compat",WF="@firebase/database",KF="@firebase/data-connect",QF="@firebase/database-compat",YF="@firebase/functions",JF="@firebase/functions-compat",ZF="@firebase/installations",XF="@firebase/installations-compat",eL="@firebase/messaging",tL="@firebase/messaging-compat",nL="@firebase/performance",rL="@firebase/performance-compat",iL="@firebase/remote-config",sL="@firebase/remote-config-compat",oL="@firebase/storage",aL="@firebase/storage-compat",cL="@firebase/firestore",uL="@firebase/vertexai-preview",lL="@firebase/firestore-compat",dL="firebase",hL="10.14.1";var gm="[DEFAULT]",fL={[pm]:"fire-core",[jF]:"fire-core-compat",[$F]:"fire-analytics",[BF]:"fire-analytics-compat",[qF]:"fire-app-check",[HF]:"fire-app-check-compat",[zF]:"fire-auth",[GF]:"fire-auth-compat",[WF]:"fire-rtdb",[KF]:"fire-data-connect",[QF]:"fire-rtdb-compat",[YF]:"fire-fn",[JF]:"fire-fn-compat",[ZF]:"fire-iid",[XF]:"fire-iid-compat",[eL]:"fire-fcm",[tL]:"fire-fcm-compat",[nL]:"fire-perf",[rL]:"fire-perf-compat",[iL]:"fire-rc",[sL]:"fire-rc-compat",[oL]:"fire-gcs",[aL]:"fire-gcs-compat",[cL]:"fire-fst",[lL]:"fire-fst-compat",[uL]:"fire-vertex","fire-js":"fire-js",[dL]:"fire-js-all"};var Ua=new Map,pL=new Map,mm=new Map;function H0(t,e){try{t.container.addComponent(e)}catch(n){qn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lr(t){let e=t.name;if(mm.has(e))return qn.debug(`There were multiple attempts to register component ${e}.`),!1;mm.set(e,t);for(let n of Ua.values())H0(n,t);for(let n of pL.values())H0(n,t);return!0}function Ba(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function en(t){return t.settings!==void 0}var gL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new Hn("app","Firebase",gL);var ym=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}};var Vr=hL;function Im(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:gm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Fr.create("bad-app-name",{appName:String(i)});if(n||(n=rm()),!n)throw Fr.create("no-options");let s=Ua.get(i);if(s){if(vi(n,s.options)&&vi(r,s.config))return s;throw Fr.create("duplicate-app",{appName:i})}let o=new Zl(i);for(let u of mm.values())o.addComponent(u);let c=new ym(n,r,o);return Ua.set(i,c),c}function js(t=gm){let e=Ua.get(t);if(!e&&t===gm&&rm())return Im();if(!e)throw Fr.create("no-app",{appName:t});return e}function ed(){return Array.from(Ua.values())}function Ge(t,e,n){var r;let i=(r=fL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qn.warn(c.join(" "));return}Lr(new Ht(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var mL="firebase-heartbeat-database",yL=1,ja="firebase-heartbeat-store",hm=null;function W0(){return hm||(hm=B0(mL,yL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ja)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fr.create("idb-open",{originalErrorMessage:t.message})})),hm}function vL(t){return _(this,null,function*(){try{let n=(yield W0()).transaction(ja),r=yield n.objectStore(ja).get(K0(t));return yield n.done,r}catch(e){if(e instanceof xt)qn.warn(e.message);else{let n=Fr.create("idb-get",{originalErrorMessage:e?.message});qn.warn(n.message)}}})}function q0(t,e){return _(this,null,function*(){try{let r=(yield W0()).transaction(ja,"readwrite");yield r.objectStore(ja).put(e,K0(t)),yield r.done}catch(n){if(n instanceof xt)qn.warn(n.message);else{let r=Fr.create("idb-set",{originalErrorMessage:n?.message});qn.warn(r.message)}}})}function K0(t){return`${t.name}!${t.options.appId}`}var _L=1024,IL=30*24*60*60*1e3,vm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new _m(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=z0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=IL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){qn.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=z0(),{heartbeatsToSend:r,unsentEntries:i}=wL(this._heartbeatsCache.heartbeats),s=La(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return qn.warn(n),""}})}};function z0(){return new Date().toISOString().substring(0,10)}function wL(t,e=_L){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),G0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),G0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var _m=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return sm()?x0().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield vL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return q0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return q0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function G0(t){return La(JSON.stringify({version:2,heartbeats:t})).length}function EL(t){Lr(new Ht("platform-logger",e=>new fm(e),"PRIVATE")),Lr(new Ht("heartbeat",e=>new vm(e),"PRIVATE")),Ge(pm,$0,t),Ge(pm,$0,"esm2017"),Ge("fire-js","")}EL("");var DL="firebase",bL="10.14.1";Ge(DL,bL,"app");var wi=new Nn("ANGULARFIRE2_VERSION");function nd(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var $a=(t,e)=>{let n=e?[e]:ed(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},$s=class{constructor(){return $a(TL)}},TL="app-check";function Bs(){}var td=class{zone;delegate;constructor(e,n=Yh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},wm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bs,{},Bs,Bs)),n.pipe(Fe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Hs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new td(Zone.current)),this.insideAngular=n.run(()=>new td(Zone.current,Qh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(K(ve))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function CL(t){return rd().ngZone.runOutsideAngular(()=>t())}function Ii(t){return rd().ngZone.run(()=>t())}function SL(t){return AL(rd())(t)}function AL(t){return function(n){return n=n.lift(new wm(t.ngZone)),n.pipe(hr(t.outsideAngular),dr(t.insideAngular))}}var RL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ii(()=>t.apply(void 0,r))},tn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Ii(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bs,{},Bs,Bs))),r[s]=RL(r[s],n));let i=CL(()=>t.apply(this,r));if(!e)if(i instanceof oe){let s=rd();return i.pipe(hr(s.outsideAngular),dr(s.insideAngular))}else return Ii(()=>i);return i instanceof oe?i.pipe(SL):i instanceof Promise?Ii(()=>new Promise((s,o)=>i.then(c=>Ii(()=>s(c)),c=>Ii(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ii(()=>i)};var zn=class{constructor(e){return e}},Ei=class{constructor(){return ed()}};function NL(t){return t&&t.length===1?t[0]:new zn(js())}var Em=new U("angularfire2._apps"),ML={provide:zn,useFactory:NL,deps:[[new vt,Em]]},xL={provide:Ei,deps:[[new vt,Em]]};function PL(t){return(e,n)=>{let r=n.get(hn);Ge("angularfire",wi.full,"core"),Ge("angularfire",wi.full,"app"),Ge("angular",mD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new zn(i)}}function Q0(t,...e){return Ut([ML,xL,{provide:Em,useFactory:PL(t),multi:!0,deps:[ve,yt,Hs,...e]}])}var Y0=tn(Im,!0);function fT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var pT=fT,gT=new Hn("auth","Firebase",fT());var ud=new kr("@firebase/auth");function OL(t,...e){ud.logLevel<=le.WARN&&ud.warn(`Auth (${Vr}): ${t}`,...e)}function sd(t,...e){ud.logLevel<=le.ERROR&&ud.error(`Auth (${Vr}): ${t}`,...e)}function yn(t,...e){throw zm(t,...e)}function Di(t,...e){return zm(t,...e)}function mT(t,e,n){let r=Object.assign(Object.assign({},pT()),{[e]:n});return new Hn("auth","Firebase",r).create(e,{appName:t.name})}function Kn(t){return mT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gT.create(t,...e)}function z(t,e,...n){if(!t)throw zm(e,...n)}function Gn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw sd(e),new Error(e)}function jr(t,e){t||Gn(e)}function Cm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kL(){return J0()==="http:"||J0()==="https:"}function J0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function FL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kL()||A0()||"connection"in navigator)?navigator.onLine:!0}function LL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var bi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,jr(n>e,"Short delay should be less than long delay!"),this.isMobile=C0()||R0()}get(){return FL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Gm(t,e){jr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ld=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var VL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var UL=new bi(3e4,6e4);function Qn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Yn(s,o,c,u){return _(this,arguments,function*(t,e,n,r,i={}){return yT(t,i,()=>_(this,null,function*(){let d={},f={};r&&(e==="GET"?f=r:d={body:JSON.stringify(r)});let g=Va(Object.assign({key:t.config.apiKey},f)).slice(1),I=yield t._getAdditionalHeaders();I["Content-Type"]="application/json",t.languageCode&&(I["X-Firebase-Locale"]=t.languageCode);let w=Object.assign({method:e,headers:I},d);return S0()||(w.referrerPolicy="no-referrer"),ld.fetch()(vT(t,t.config.apiHost,n,g),w)}))})}function yT(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},VL),e);try{let i=new Sm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw id(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw id(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw id(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw id(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw mT(t,f,d);yn(t,f)}}catch(i){if(i instanceof xt)throw i;yn(t,"network-request-failed",{message:String(i)})}})}function Ya(s,o,c,u){return _(this,arguments,function*(t,e,n,r,i={}){let d=yield Yn(t,e,n,r,i);return"mfaPendingCredential"in d&&yn(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function vT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Gm(t.config,i):`${t.config.apiScheme}://${i}`}function jL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Sm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Di(this.auth,"network-request-failed")),UL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function id(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Di(t,e,r);return i.customData._tokenResponse=n,i}function Z0(t){return t!==void 0&&t.enterprise!==void 0}var Am=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function BL(t,e){return _(this,null,function*(){return Yn(t,"GET","/v2/recaptchaConfig",Qn(t,e))})}function $L(t,e){return _(this,null,function*(){return Yn(t,"POST","/v1/accounts:delete",e)})}function _T(t,e){return _(this,null,function*(){return Yn(t,"POST","/v1/accounts:lookup",e)})}function Ha(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Wm(t,e=!1){return _(this,null,function*(){let n=ft(t),r=yield n.getIdToken(e),i=Km(r);z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ha(Dm(i.auth_time)),issuedAtTime:Ha(Dm(i.iat)),expirationTime:Ha(Dm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Dm(t){return Number(t)*1e3}function Km(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{let i=tm(n);return i?JSON.parse(i):(sd("Failed to decode base64 JWT payload"),null)}catch(i){return sd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function X0(t){let e=Km(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function za(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof xt&&HL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function HL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Rm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ga=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ha(this.lastLoginAt),this.creationTime=Ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function dd(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield za(t,_T(n,{idToken:r}));z(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?IT(s.providerUserInfo):[],c=qL(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!c?.length,f=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Ga(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)})}function Qm(t){return _(this,null,function*(){let e=ft(t);yield dd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function qL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function IT(t){return t.map(e=>{var{providerId:n}=e,r=Jh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function zL(t,e){return _(this,null,function*(){let n=yield yT(t,{},()=>_(this,null,function*(){let r=Va({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=vT(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",ld.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function GL(t,e){return _(this,null,function*(){return Yn(t,"POST","/v2/accounts:revokeToken",Qn(t,e))})}var qa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){z(e.length!==0,"internal-error");let n=X0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield zL(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Gn("not implemented")}};function Ur(t,e){z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var qs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Jh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ga(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield za(this,this.stsTokenManager.getToken(this.auth,e));return z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Wm(this,e)}reload(){return Qm(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield dd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(en(this.auth.app))return Promise.reject(Kn(this.auth));let e=yield this.getIdToken();return yield za(this,$L(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,d,f;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,I=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,V=(d=n.createdAt)!==null&&d!==void 0?d:void 0,W=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:B,emailVerified:ie,isAnonymous:Te,providerData:ne,stsTokenManager:D}=n;z(B&&D,e,"internal-error");let m=qa.fromJSON(this.name,D);z(typeof B=="string",e,"internal-error"),Ur(g,e.name),Ur(I,e.name),z(typeof ie=="boolean",e,"internal-error"),z(typeof Te=="boolean",e,"internal-error"),Ur(w,e.name),Ur(A,e.name),Ur(N,e.name),Ur(R,e.name),Ur(V,e.name),Ur(W,e.name);let y=new t({uid:B,auth:e,email:I,emailVerified:ie,displayName:g,isAnonymous:Te,photoURL:A,phoneNumber:w,tenantId:N,stsTokenManager:m,createdAt:V,lastLoginAt:W});return ne&&Array.isArray(ne)&&(y.providerData=ne.map(E=>Object.assign({},E))),R&&(y._redirectEventId=R),y}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new qa;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield dd(s),s})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];z(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?IT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new qa;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ga(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u})}};var eT=new Map;function Wn(t){jr(t instanceof Function,"Expected a class definition");let e=eT.get(t);return e?(jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eT.set(t,e),e)}var WL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Nm=WL;function od(t,e,n){return`firebase:${t}:${e}:${n}`}var hd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=od(this.userKey,i.apiKey,s),this.fullPersistenceKey=od("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?qs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(Wn(Nm),e,r);let i=(yield Promise.all(n.map(d=>_(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=i[0]||Wn(Nm),o=od(r,e.config.apiKey,e.name),c=null;for(let d of n)try{let f=yield d._get(o);if(f){let g=qs._fromJSON(e,f);d!==s&&(c=g),s=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(d=>_(this,null,function*(){if(d!==s)try{yield d._remove(o)}catch{}}))),new t(s,e,r))})}};function tT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CT(e))return"Blackberry";if(ST(e))return"Webos";if(ET(e))return"Safari";if((e.includes("chrome/")||DT(e))&&!e.includes("edge/"))return"Chrome";if(TT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function wT(t=Ke()){return/firefox\//i.test(t)}function ET(t=Ke()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DT(t=Ke()){return/crios\//i.test(t)}function bT(t=Ke()){return/iemobile/i.test(t)}function TT(t=Ke()){return/android/i.test(t)}function CT(t=Ke()){return/blackberry/i.test(t)}function ST(t=Ke()){return/webos/i.test(t)}function Ym(t=Ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KL(t=Ke()){var e;return Ym(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QL(){return N0()&&document.documentMode===10}function AT(t=Ke()){return Ym(t)||TT(t)||ST(t)||CT(t)||/windows phone/i.test(t)||bT(t)}function RT(t,e=[]){let n;switch(t){case"Browser":n=tT(Ke());break;case"Worker":n=`${tT(Ke())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vr}/${r}`}var Mm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function YL(n){return _(this,arguments,function*(t,e={}){return Yn(t,"GET","/v2/passwordPolicy",Qn(t,e))})}var JL=6,xm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:JL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Pm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fd(this),this.idTokenSubscription=new fd(this),this.beforeStateQueue=new Mm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield hd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield _T(this,{idToken:e}),r=yield qs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(en(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield dd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=LL()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(en(this.app))return Promise.reject(Kn(this));let n=e?ft(e):null;return n&&z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return en(this.app)?Promise.reject(Kn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return en(this.app)?Promise.reject(Kn(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Wn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield YL(this),n=new xm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield GL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Wn(e)||this._popupRedirectResolver;z(n,this,"argument-error"),this.redirectPersistenceManager=yield hd.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&OL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ci(t){return ft(t)}var fd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=O0(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Id={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZL(t){Id=t}function NT(t){return Id.loadJS(t)}function XL(){return Id.recaptchaEnterpriseScript}function eV(){return Id.gapiScript}function MT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var tV="recaptcha-enterprise",nV="NO_RECAPTCHA",Om=class{constructor(e){this.type=tV,this.auth=Ci(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(s){return _(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>_(this,null,function*(){BL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let d=new Am(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{c(u)})}))})}function i(s,o,c){let u=window.grecaptcha;Z0(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(nV)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(c=>{if(!n&&Z0(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=XL();u.length!==0&&(u+=c),NT(u).then(()=>{i(c,s,o)}).catch(d=>{o(d)})}}).catch(c=>{o(c)})})})}};function nT(t,e,n,r=!1){return _(this,null,function*(){let i=new Om(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function km(t,e,n,r){return _(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield nT(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>_(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield nT(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Jm(t,e){let n=Ba(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(vi(s,e??{}))return i;yn(i,"already-initialized")}return n.initialize({options:e})}function rV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Wn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Zm(t,e,n){let r=Ci(t);z(r._canInitEmulator,r,"emulator-config-failed"),z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=xT(e),{host:o,port:c}=iV(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||sV()}function xT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iV(t){let e=xT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:rT(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:rT(o)}}}function rT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function sV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Wa=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gn("not implemented")}_getIdTokenResponse(e){return Gn("not implemented")}_linkToIdToken(e,n){return Gn("not implemented")}_getReauthenticationResolver(e){return Gn("not implemented")}};function oV(t,e){return _(this,null,function*(){return Yn(t,"POST","/v1/accounts:signUp",e)})}function aV(t,e){return _(this,null,function*(){return Ya(t,"POST","/v1/accounts:signInWithPassword",Qn(t,e))})}function cV(t,e){return _(this,null,function*(){return Yn(t,"POST","/v1/accounts:sendOobCode",Qn(t,e))})}function uV(t,e){return _(this,null,function*(){return cV(t,e)})}function lV(t,e){return _(this,null,function*(){return Ya(t,"POST","/v1/accounts:signInWithEmailLink",Qn(t,e))})}function dV(t,e){return _(this,null,function*(){return Ya(t,"POST","/v1/accounts:signInWithEmailLink",Qn(t,e))})}var Ka=class t extends Wa{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return km(e,n,"signInWithPassword",aV);case"emailLink":return lV(e,{email:this._email,oobCode:this._password});default:yn(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return km(e,r,"signUpPassword",oV);case"emailLink":return dV(e,{idToken:n,email:this._email,oobCode:this._password});default:yn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function bm(t,e){return _(this,null,function*(){return Ya(t,"POST","/v1/accounts:signInWithIdp",Qn(t,e))})}function hV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fV(t){let e=Vs(Us(t)).link,n=e?Vs(Us(e)).deep_link_id:null,r=Vs(Us(t)).deep_link_id;return(r?Vs(Us(r)).link:null)||r||n||e||t}var pd=class t{constructor(e){var n,r,i,s,o,c;let u=Vs(Us(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,g=hV((i=u.mode)!==null&&i!==void 0?i:null);z(d&&f&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=fV(e);try{return new t(n)}catch{return null}}};var PT=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Ka._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=pd.parseLink(r);return z(i,"argument-error"),Ka._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),gd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Fm=class extends gd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function pV(t,e){return _(this,null,function*(){return Ya(t,"POST","/v1/accounts:signUp",Qn(t,e))})}var zs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let s=yield qs._fromIdTokenResponse(e,r,i),o=iT(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=iT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function iT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Lm=class t extends xt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function OT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Lm._fromErrorAndOperation(t,s,e,r):s})}function gV(t,e,n=!1){return _(this,null,function*(){let r=yield za(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return zs._forOperation(t,"link",r)})}function mV(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(en(r.app))return Promise.reject(Kn(r));let i="reauthenticate";try{let s=yield za(t,OT(r,i,e,t),n);z(s.idToken,r,"internal-error");let o=Km(s.idToken);z(o,r,"internal-error");let{sub:c}=o;return z(t.uid===c,r,"user-mismatch"),zs._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&yn(r,"user-mismatch"),s}})}function kT(t,e,n=!1){return _(this,null,function*(){if(en(t.app))return Promise.reject(Kn(t));let r="signIn",i=yield OT(t,r,e),s=yield zs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Xm(t,e){return _(this,null,function*(){return kT(Ci(t),e)})}function yV(t,e,n){var r;z(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),z(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(z(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(z(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function FT(t){return _(this,null,function*(){let e=Ci(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function ey(t,e,n){return _(this,null,function*(){if(en(t.app))return Promise.reject(Kn(t));let r=Ci(t),o=yield km(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&FT(t),u}),c=yield zs._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(c.user),c})}function ty(t,e,n){return en(t.app)?Promise.reject(Kn(t)):Xm(ft(t),PT.credential(e,n)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&FT(t),r}))}function ny(t,e){return _(this,null,function*(){let n=ft(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&yV(n.auth,i,e);let{email:s}=yield uV(n.auth,i);s!==t.email&&(yield t.reload())})}function ry(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function iy(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}var md="__sak";var yd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(md,"1"),this.storage.removeItem(md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var vV=1e3,_V=10,IV=(()=>{class t extends yd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,d)=>{this.notifyListeners(c,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);QL()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,_V):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},vV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield cr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield cr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield cr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),LT=IV;var wV=(()=>{class t extends yd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),sy=wV;function EV(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var DV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>_(this,null,function*(){return f(r.origin,o)})),d=yield EV(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function VT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Vm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let d=VT("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let I=g;if(I.data.eventId===d)switch(I.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(I.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function mn(){return window}function bV(t){mn().location.href=t}function UT(){return typeof mn().WorkerGlobalScope<"u"&&typeof mn().importScripts=="function"}function TV(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function CV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function SV(){return UT()?self:null}var jT="firebaseLocalStorageDb",AV=1,vd="firebaseLocalStorage",BT="fbase_key",Ti=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function wd(t,e){return t.transaction([vd],e?"readwrite":"readonly").objectStore(vd)}function RV(){let t=indexedDB.deleteDatabase(jT);return new Ti(t).toPromise()}function Um(){let t=indexedDB.open(jT,AV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(vd,{keyPath:BT})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(vd)?e(r):(r.close(),yield RV(),e(yield Um()))}))})}function sT(t,e,n){return _(this,null,function*(){let r=wd(t,!0).put({[BT]:e,value:n});return new Ti(r).toPromise()})}function NV(t,e){return _(this,null,function*(){let n=wd(t,!1).get(e),r=yield new Ti(n).toPromise();return r===void 0?null:r.value})}function oT(t,e){let n=wd(t,!0).delete(e);return new Ti(n).toPromise()}var MV=800,xV=3,PV=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield Um(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>xV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return UT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=DV._getInstance(SV()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield TV(),!this.activeServiceWorker)return;this.sender=new Vm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||CV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Um();return yield sT(n,md,"1"),yield oT(n,md),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>sT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>NV(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>oT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(s=>{let o=wd(s,!1).getAll();return new Ti(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),MV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),$T=PV;var OW=MT("rcb"),kW=new bi(3e4,6e4);function OV(t,e){return e?Wn(e):(z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Qa=class extends Wa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function kV(t){return kT(t.auth,new Qa(t),t.bypassAuthState)}function FV(t){let{auth:e,user:n}=t;return z(n,e,"internal-error"),mV(n,new Qa(t),t.bypassAuthState)}function LV(t){return _(this,null,function*(){let{auth:e,user:n}=t;return z(n,e,"internal-error"),gV(n,new Qa(t),t.bypassAuthState)})}var jm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kV;case"linkViaPopup":case"linkViaRedirect":return LV;case"reauthViaPopup":case"reauthViaRedirect":return FV;default:yn(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var FW=new bi(2e3,1e4);var VV="pendingRedirect",ad=new Map,Bm=class t extends jm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=ad.get(this.auth._key());if(!e){try{let r=(yield UV(this.resolver,this.auth))?yield cr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ad.set(this.auth._key(),e)}return this.bypassAuthState||ad.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return cr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,cr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function UV(t,e){return _(this,null,function*(){let n=$V(e),r=BV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function jV(t,e){ad.set(t._key(),e)}function BV(t){return Wn(t._redirectPersistence)}function $V(t){return od(VV,t.config.apiKey,t.name)}function HV(t,e,n=!1){return _(this,null,function*(){if(en(t.app))return Promise.reject(Kn(t));let r=Ci(t),i=OV(r,e),o=yield new Bm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var qV=10*60*1e3,$m=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Di(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qV&&this.cachedEventUids.clear(),this.cachedEventUids.has(aT(e))}saveEventToCache(e){this.cachedEventUids.add(aT(e)),this.lastProcessedEventTime=Date.now()}};function aT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function zV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HT(t);default:return!1}}function GV(n){return _(this,arguments,function*(t,e={}){return Yn(t,"GET","/v1/projects",e)})}var WV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KV=/^https?/;function QV(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield GV(t);for(let n of e)try{if(YV(n))return}catch{}yn(t,"unauthorized-domain")})}function YV(t){let e=Cm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!KV.test(n))return!1;if(WV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var JV=new bi(3e4,6e4);function cT(){let t=mn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ZV(t){return new Promise((e,n)=>{var r,i,s;function o(){cT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cT(),n(Di(t,"network-request-failed"))},timeout:JV.get()})}if(!((i=(r=mn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=mn().gapi)===null||s===void 0)&&s.load)o();else{let c=MT("iframefcb");return mn()[c]=()=>{gapi.load?o():n(Di(t,"network-request-failed"))},NT(`${eV()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw cd=null,e})}var cd=null;function XV(t){return cd=cd||ZV(t),cd}var eU=new bi(5e3,15e3),tU="__/auth/iframe",nU="emulator/auth/iframe",rU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sU(t){let e=t.config;z(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Gm(e,nU):`https://${t.config.authDomain}/${tU}`,r={apiKey:e.apiKey,appName:t.name,v:Vr},i=iU.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Va(r).slice(1)}`}function oU(t){return _(this,null,function*(){let e=yield XV(t),n=mn().gapi;return z(n,t,"internal-error"),e.open({where:document.body,url:sU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rU,dontclear:!0},r=>new Promise((i,s)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Di(t,"network-request-failed"),c=mn().setTimeout(()=>{s(o)},eU.get());function u(){mn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var aU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cU=500,uU=600,lU="_blank",dU="http://localhost",_d=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function hU(t,e,n,r=cU,i=uU){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},aU),{width:r.toString(),height:i.toString(),top:s,left:o}),d=Ke().toLowerCase();n&&(c=DT(d)?lU:n),wT(d)&&(e=e||dU,u.scrollbars="yes");let f=Object.entries(u).reduce((I,[w,A])=>`${I}${w}=${A},`,"");if(KL(d)&&c!=="_self")return fU(e||"",c),new _d(null);let g=window.open(e||"",c,f);z(g,t,"popup-blocked");try{g.focus()}catch{}return new _d(g)}function fU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var pU="__/auth/handler",gU="emulator/auth/handler",mU=encodeURIComponent("fac");function uT(t,e,n,r,i,s){return _(this,null,function*(){z(t.config.authDomain,t,"auth-domain-config-required"),z(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vr,eventId:i};if(e instanceof gd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",P0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(s||{}))o[f]=g}if(e instanceof Fm){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),d=u?`#${mU}=${encodeURIComponent(u)}`:"";return`${yU(t)}?${Va(c).slice(1)}${d}`})}function yU({config:t}){return t.emulator?Gm(t,gU):`https://${t.authDomain}/${pU}`}var Tm="webStorageSupport",Hm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sy,this._completeRedirectFn=HV,this._overrideRedirectResult=jV}_openPopup(e,n,r,i){return _(this,null,function*(){var s;jr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield uT(e,n,r,Cm(),i);return hU(e,o,VT())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let s=yield uT(e,n,r,Cm(),i);return bV(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(jr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield oU(e),r=new $m(e);return n.register("authEvent",i=>(z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tm,{type:Tm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Tm];o!==void 0&&n(!!o),yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AT()||ET()||Ym()}},qT=Hm;var lT="@firebase/auth",dT="1.7.9";var qm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function vU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _U(t){Lr(new Ht("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RT(t)},d=new Pm(r,i,s,u);return rV(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Lr(new Ht("auth-internal",e=>{let n=Ci(e.getProvider("auth").getImmediate());return(r=>new qm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ge(lT,dT,vU(t)),Ge(lT,dT,"esm2017")}var IU=5*60,wU=im("authIdTokenMaxAge")||IU,hT=null,EU=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wU)return;let i=n?.token;hT!==i&&(hT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function oy(t=js()){let e=Ba(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Jm(t,{popupRedirectResolver:qT,persistence:[$T,LT,sy]}),r=im("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=EU(s.toString());iy(n,o,()=>o(n.currentUser)),ry(n,c=>o(c))}}let i=nm("auth");return i&&Zm(n,`http://${i}`),n}function DU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ZL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Di("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",DU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_U("Browser");var zT="auth",Jn=class{constructor(e){return e}},Ja=class{constructor(){return $a(zT)}};var ay=new U("angularfire2.auth-instances");function fj(t,e){let n=nd(zT,t,e);return n&&new Jn(n)}function pj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Jn(r)}}var gj={provide:Ja,deps:[[new vt,ay]]},mj={provide:Jn,useFactory:fj,deps:[[new vt,ay],zn]};function GT(t,...e){return Ge("angularfire",wi.full,"auth"),Ut([mj,gj,{provide:ay,useFactory:pj(t),multi:!0,deps:[ve,yt,Hs,Ei,[new vt,$s],...e]}])}var WT=tn(ey,!0);var KT=tn(oy,!0);var QT=tn(ny,!0);var YT=tn(ty,!0);var ZT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},XT={};var cy,eC;(function(){var t;function e(D,m){function y(){}y.prototype=m.prototype,D.D=m.prototype,D.prototype=new y,D.prototype.constructor=D,D.C=function(E,b,C){for(var v=Array(arguments.length-2),Dn=2;Dn<arguments.length;Dn++)v[Dn-2]=arguments[Dn];return m.prototype[b].apply(E,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,y){y||(y=0);var E=Array(16);if(typeof m=="string")for(var b=0;16>b;++b)E[b]=m.charCodeAt(y++)|m.charCodeAt(y++)<<8|m.charCodeAt(y++)<<16|m.charCodeAt(y++)<<24;else for(b=0;16>b;++b)E[b]=m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24;m=D.g[0],y=D.g[1],b=D.g[2];var C=D.g[3],v=m+(C^y&(b^C))+E[0]+3614090360&4294967295;m=y+(v<<7&4294967295|v>>>25),v=C+(b^m&(y^b))+E[1]+3905402710&4294967295,C=m+(v<<12&4294967295|v>>>20),v=b+(y^C&(m^y))+E[2]+606105819&4294967295,b=C+(v<<17&4294967295|v>>>15),v=y+(m^b&(C^m))+E[3]+3250441966&4294967295,y=b+(v<<22&4294967295|v>>>10),v=m+(C^y&(b^C))+E[4]+4118548399&4294967295,m=y+(v<<7&4294967295|v>>>25),v=C+(b^m&(y^b))+E[5]+1200080426&4294967295,C=m+(v<<12&4294967295|v>>>20),v=b+(y^C&(m^y))+E[6]+2821735955&4294967295,b=C+(v<<17&4294967295|v>>>15),v=y+(m^b&(C^m))+E[7]+4249261313&4294967295,y=b+(v<<22&4294967295|v>>>10),v=m+(C^y&(b^C))+E[8]+1770035416&4294967295,m=y+(v<<7&4294967295|v>>>25),v=C+(b^m&(y^b))+E[9]+2336552879&4294967295,C=m+(v<<12&4294967295|v>>>20),v=b+(y^C&(m^y))+E[10]+4294925233&4294967295,b=C+(v<<17&4294967295|v>>>15),v=y+(m^b&(C^m))+E[11]+2304563134&4294967295,y=b+(v<<22&4294967295|v>>>10),v=m+(C^y&(b^C))+E[12]+1804603682&4294967295,m=y+(v<<7&4294967295|v>>>25),v=C+(b^m&(y^b))+E[13]+4254626195&4294967295,C=m+(v<<12&4294967295|v>>>20),v=b+(y^C&(m^y))+E[14]+2792965006&4294967295,b=C+(v<<17&4294967295|v>>>15),v=y+(m^b&(C^m))+E[15]+1236535329&4294967295,y=b+(v<<22&4294967295|v>>>10),v=m+(b^C&(y^b))+E[1]+4129170786&4294967295,m=y+(v<<5&4294967295|v>>>27),v=C+(y^b&(m^y))+E[6]+3225465664&4294967295,C=m+(v<<9&4294967295|v>>>23),v=b+(m^y&(C^m))+E[11]+643717713&4294967295,b=C+(v<<14&4294967295|v>>>18),v=y+(C^m&(b^C))+E[0]+3921069994&4294967295,y=b+(v<<20&4294967295|v>>>12),v=m+(b^C&(y^b))+E[5]+3593408605&4294967295,m=y+(v<<5&4294967295|v>>>27),v=C+(y^b&(m^y))+E[10]+38016083&4294967295,C=m+(v<<9&4294967295|v>>>23),v=b+(m^y&(C^m))+E[15]+3634488961&4294967295,b=C+(v<<14&4294967295|v>>>18),v=y+(C^m&(b^C))+E[4]+3889429448&4294967295,y=b+(v<<20&4294967295|v>>>12),v=m+(b^C&(y^b))+E[9]+568446438&4294967295,m=y+(v<<5&4294967295|v>>>27),v=C+(y^b&(m^y))+E[14]+3275163606&4294967295,C=m+(v<<9&4294967295|v>>>23),v=b+(m^y&(C^m))+E[3]+4107603335&4294967295,b=C+(v<<14&4294967295|v>>>18),v=y+(C^m&(b^C))+E[8]+1163531501&4294967295,y=b+(v<<20&4294967295|v>>>12),v=m+(b^C&(y^b))+E[13]+2850285829&4294967295,m=y+(v<<5&4294967295|v>>>27),v=C+(y^b&(m^y))+E[2]+4243563512&4294967295,C=m+(v<<9&4294967295|v>>>23),v=b+(m^y&(C^m))+E[7]+1735328473&4294967295,b=C+(v<<14&4294967295|v>>>18),v=y+(C^m&(b^C))+E[12]+2368359562&4294967295,y=b+(v<<20&4294967295|v>>>12),v=m+(y^b^C)+E[5]+4294588738&4294967295,m=y+(v<<4&4294967295|v>>>28),v=C+(m^y^b)+E[8]+2272392833&4294967295,C=m+(v<<11&4294967295|v>>>21),v=b+(C^m^y)+E[11]+1839030562&4294967295,b=C+(v<<16&4294967295|v>>>16),v=y+(b^C^m)+E[14]+4259657740&4294967295,y=b+(v<<23&4294967295|v>>>9),v=m+(y^b^C)+E[1]+2763975236&4294967295,m=y+(v<<4&4294967295|v>>>28),v=C+(m^y^b)+E[4]+1272893353&4294967295,C=m+(v<<11&4294967295|v>>>21),v=b+(C^m^y)+E[7]+4139469664&4294967295,b=C+(v<<16&4294967295|v>>>16),v=y+(b^C^m)+E[10]+3200236656&4294967295,y=b+(v<<23&4294967295|v>>>9),v=m+(y^b^C)+E[13]+681279174&4294967295,m=y+(v<<4&4294967295|v>>>28),v=C+(m^y^b)+E[0]+3936430074&4294967295,C=m+(v<<11&4294967295|v>>>21),v=b+(C^m^y)+E[3]+3572445317&4294967295,b=C+(v<<16&4294967295|v>>>16),v=y+(b^C^m)+E[6]+76029189&4294967295,y=b+(v<<23&4294967295|v>>>9),v=m+(y^b^C)+E[9]+3654602809&4294967295,m=y+(v<<4&4294967295|v>>>28),v=C+(m^y^b)+E[12]+3873151461&4294967295,C=m+(v<<11&4294967295|v>>>21),v=b+(C^m^y)+E[15]+530742520&4294967295,b=C+(v<<16&4294967295|v>>>16),v=y+(b^C^m)+E[2]+3299628645&4294967295,y=b+(v<<23&4294967295|v>>>9),v=m+(b^(y|~C))+E[0]+4096336452&4294967295,m=y+(v<<6&4294967295|v>>>26),v=C+(y^(m|~b))+E[7]+1126891415&4294967295,C=m+(v<<10&4294967295|v>>>22),v=b+(m^(C|~y))+E[14]+2878612391&4294967295,b=C+(v<<15&4294967295|v>>>17),v=y+(C^(b|~m))+E[5]+4237533241&4294967295,y=b+(v<<21&4294967295|v>>>11),v=m+(b^(y|~C))+E[12]+1700485571&4294967295,m=y+(v<<6&4294967295|v>>>26),v=C+(y^(m|~b))+E[3]+2399980690&4294967295,C=m+(v<<10&4294967295|v>>>22),v=b+(m^(C|~y))+E[10]+4293915773&4294967295,b=C+(v<<15&4294967295|v>>>17),v=y+(C^(b|~m))+E[1]+2240044497&4294967295,y=b+(v<<21&4294967295|v>>>11),v=m+(b^(y|~C))+E[8]+1873313359&4294967295,m=y+(v<<6&4294967295|v>>>26),v=C+(y^(m|~b))+E[15]+4264355552&4294967295,C=m+(v<<10&4294967295|v>>>22),v=b+(m^(C|~y))+E[6]+2734768916&4294967295,b=C+(v<<15&4294967295|v>>>17),v=y+(C^(b|~m))+E[13]+1309151649&4294967295,y=b+(v<<21&4294967295|v>>>11),v=m+(b^(y|~C))+E[4]+4149444226&4294967295,m=y+(v<<6&4294967295|v>>>26),v=C+(y^(m|~b))+E[11]+3174756917&4294967295,C=m+(v<<10&4294967295|v>>>22),v=b+(m^(C|~y))+E[2]+718787259&4294967295,b=C+(v<<15&4294967295|v>>>17),v=y+(C^(b|~m))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(b+(v<<21&4294967295|v>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+C&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var y=m-this.blockSize,E=this.B,b=this.h,C=0;C<m;){if(b==0)for(;C<=y;)i(this,D,C),C+=this.blockSize;if(typeof D=="string"){for(;C<m;)if(E[b++]=D.charCodeAt(C++),b==this.blockSize){i(this,E),b=0;break}}else for(;C<m;)if(E[b++]=D[C++],b==this.blockSize){i(this,E),b=0;break}}this.h=b,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var y=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=y&255,y/=256;for(this.u(D),D=Array(16),m=y=0;4>m;++m)for(var E=0;32>E;E+=8)D[y++]=this.g[m]>>>E&255;return D};function s(D,m){var y=c;return Object.prototype.hasOwnProperty.call(y,D)?y[D]:y[D]=m(D)}function o(D,m){this.h=m;for(var y=[],E=!0,b=D.length-1;0<=b;b--){var C=D[b]|0;E&&C==m||(y[b]=C,E=!1)}this.g=y}var c={};function u(D){return-128<=D&&128>D?s(D,function(m){return new o([m|0],0>m?-1:0)}):new o([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return R(d(-D));for(var m=[],y=1,E=0;D>=y;E++)m[E]=D/y|0,y*=4294967296;return new o(m,0)}function f(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return R(f(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=d(Math.pow(m,8)),E=g,b=0;b<D.length;b+=8){var C=Math.min(8,D.length-b),v=parseInt(D.substring(b,b+C),m);8>C?(C=d(Math.pow(m,C)),E=E.j(C).add(d(v))):(E=E.j(y),E=E.add(d(v)))}return E}var g=u(0),I=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-R(this).m();for(var D=0,m=1,y=0;y<this.g.length;y++){var E=this.i(y);D+=(0<=E?E:4294967296+E)*m,m*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(N(this))return"-"+R(this).toString(D);for(var m=d(Math.pow(D,6)),y=this,E="";;){var b=ie(y,m).g;y=V(y,b.j(m));var C=((0<y.g.length?y.g[0]:y.h)>>>0).toString(D);if(y=b,A(y))return C+E;for(;6>C.length;)C="0"+C;E=C+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function N(D){return D.h==-1}t.l=function(D){return D=V(this,D),N(D)?-1:A(D)?0:1};function R(D){for(var m=D.g.length,y=[],E=0;E<m;E++)y[E]=~D.g[E];return new o(y,~D.h).add(I)}t.abs=function(){return N(this)?R(this):this},t.add=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0,b=0;b<=m;b++){var C=E+(this.i(b)&65535)+(D.i(b)&65535),v=(C>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);E=v>>>16,C&=65535,v&=65535,y[b]=v<<16|C}return new o(y,y[y.length-1]&-2147483648?-1:0)};function V(D,m){return D.add(R(m))}t.j=function(D){if(A(this)||A(D))return g;if(N(this))return N(D)?R(this).j(R(D)):R(R(this).j(D));if(N(D))return R(this.j(R(D)));if(0>this.l(w)&&0>D.l(w))return d(this.m()*D.m());for(var m=this.g.length+D.g.length,y=[],E=0;E<2*m;E++)y[E]=0;for(E=0;E<this.g.length;E++)for(var b=0;b<D.g.length;b++){var C=this.i(E)>>>16,v=this.i(E)&65535,Dn=D.i(b)>>>16,fo=D.i(b)&65535;y[2*E+2*b]+=v*fo,W(y,2*E+2*b),y[2*E+2*b+1]+=C*fo,W(y,2*E+2*b+1),y[2*E+2*b+1]+=v*Dn,W(y,2*E+2*b+1),y[2*E+2*b+2]+=C*Dn,W(y,2*E+2*b+2)}for(E=0;E<m;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=m;E<2*m;E++)y[E]=0;return new o(y,0)};function W(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function B(D,m){this.g=D,this.h=m}function ie(D,m){if(A(m))throw Error("division by zero");if(A(D))return new B(g,g);if(N(D))return m=ie(R(D),m),new B(R(m.g),R(m.h));if(N(m))return m=ie(D,R(m)),new B(R(m.g),m.h);if(30<D.g.length){if(N(D)||N(m))throw Error("slowDivide_ only works with positive integers.");for(var y=I,E=m;0>=E.l(D);)y=Te(y),E=Te(E);var b=ne(y,1),C=ne(E,1);for(E=ne(E,2),y=ne(y,2);!A(E);){var v=C.add(E);0>=v.l(D)&&(b=b.add(y),C=v),E=ne(E,1),y=ne(y,1)}return m=V(D,b.j(m)),new B(b,m)}for(b=g;0<=D.l(m);){for(y=Math.max(1,Math.floor(D.m()/m.m())),E=Math.ceil(Math.log(y)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),C=d(y),v=C.j(m);N(v)||0<v.l(D);)y-=E,C=d(y),v=C.j(m);A(C)&&(C=I),b=b.add(C),D=V(D,v)}return new B(b,D)}t.A=function(D){return ie(this,D).h},t.and=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)&D.i(E);return new o(y,this.h&D.h)},t.or=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)|D.i(E);return new o(y,this.h|D.h)},t.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)^D.i(E);return new o(y,this.h^D.h)};function Te(D){for(var m=D.g.length+1,y=[],E=0;E<m;E++)y[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(y,D.h)}function ne(D,m){var y=m>>5;m%=32;for(var E=D.g.length-y,b=[],C=0;C<E;C++)b[C]=0<m?D.i(C+y)>>>m|D.i(C+y+1)<<32-m:D.i(C+y);return new o(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,eC=XT.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,cy=XT.Integer=o}).apply(typeof ZT<"u"?ZT:typeof self<"u"?self:typeof window<"u"?window:{});var Ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zn={};var uy,yj,Gs,ly,Za,Dd,dy,hy,fy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,l,h){return a==Array.prototype||a==Object.prototype||(a[l]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ed=="object"&&Ed];for(var l=0;l<a.length;++l){var h=a[l];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,l){if(l)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var T=a[p];if(!(T in h))break e;h=h[T]}a=a[a.length-1],p=h[a],l=l(p),l!=p&&l!=null&&e(h,a,{configurable:!0,writable:!0,value:l})}}function s(a,l){a instanceof String&&(a+="");var h=0,p=!1,T={next:function(){if(!p&&h<a.length){var S=h++;return{value:l(S,a[S]),done:!1}}return p=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(a){return a||function(){return s(this,function(l,h){return h})}});var o=o||{},c=this||self;function u(a){var l=typeof a;return l=l!="object"?l:a?Array.isArray(a)?"array":l:"null",l=="array"||l=="object"&&typeof a.length=="number"}function d(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function f(a,l,h){return a.call.apply(a.bind,arguments)}function g(a,l,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,p),a.apply(l,T)}}return function(){return a.apply(l,arguments)}}function I(a,l,h){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,I.apply(null,arguments)}function w(a,l){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,l){function h(){}h.prototype=l.prototype,a.aa=l.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,T,S){for(var k=Array(arguments.length-2),we=2;we<arguments.length;we++)k[we-2]=arguments[we];return l.prototype[T].apply(p,k)}}function N(a){let l=a.length;if(0<l){let h=Array(l);for(let p=0;p<l;p++)h[p]=a[p];return h}return[]}function R(a,l){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let T=a.length||0,S=p.length||0;a.length=T+S;for(let k=0;k<S;k++)a[T+k]=p[k]}else a.push(p)}}class V{constructor(l,h){this.i=l,this.j=h,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function W(a){return/^[\s\xa0]*$/.test(a)}function B(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ie(a){return ie[" "](a),a}ie[" "]=function(){};var Te=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function ne(a,l,h){for(let p in a)l.call(h,a[p],p,a)}function D(a,l){for(let h in a)l.call(void 0,a[h],h,a)}function m(a){let l={};for(let h in a)l[h]=a[h];return l}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,l){let h,p;for(let T=1;T<arguments.length;T++){p=arguments[T];for(h in p)a[h]=p[h];for(let S=0;S<y.length;S++)h=y[S],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function b(a){var l=1;a=a.split(":");let h=[];for(;0<l&&a.length;)h.push(a.shift()),l--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function v(){var a=ah;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class Dn{constructor(){this.h=this.g=null}add(l,h){let p=fo.get();p.set(l,h),this.h?this.h.next=p:this.g=p,this.h=p}}var fo=new V(()=>new bS,a=>a.reset());class bS{constructor(){this.next=this.g=this.h=null}set(l,h){this.h=l,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let po,go=!1,ah=new Dn,qv=()=>{let a=c.Promise.resolve(void 0);po=()=>{a.then(TS)}};var TS=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){C(h)}var l=fo;l.j(a),100>l.h&&(l.h++,a.next=l.g,l.g=a)}go=!1};function ir(){this.s=this.s,this.C=this.C}ir.prototype.s=!1,ir.prototype.ma=function(){this.s||(this.s=!0,this.N())},ir.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var CS=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,l),c.removeEventListener("test",h,l)}catch{}return a}();function mo(a,l){if(tt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget){if(Te){e:{try{ie(l.nodeName);var T=!0;break e}catch{}T=!1}T||(l=null)}}else h=="mouseover"?l=a.fromElement:h=="mouseout"&&(l=a.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:SS[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&mo.aa.h.call(this)}}A(mo,tt);var SS={2:"touch",3:"pen",4:"mouse"};mo.prototype.h=function(){mo.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var yo="closure_listenable_"+(1e6*Math.random()|0),AS=0;function RS(a,l,h,p,T){this.listener=a,this.proxy=null,this.src=l,this.type=h,this.capture=!!p,this.ha=T,this.key=++AS,this.da=this.fa=!1}function hc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function fc(a){this.src=a,this.g={},this.h=0}fc.prototype.add=function(a,l,h,p,T){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var k=uh(a,l,p,T);return-1<k?(l=a[k],h||(l.fa=!1)):(l=new RS(l,this.src,S,!!p,T),l.fa=h,a.push(l)),l};function ch(a,l){var h=l.type;if(h in a.g){var p=a.g[h],T=Array.prototype.indexOf.call(p,l,void 0),S;(S=0<=T)&&Array.prototype.splice.call(p,T,1),S&&(hc(l),a.g[h].length==0&&(delete a.g[h],a.h--))}}function uh(a,l,h,p){for(var T=0;T<a.length;++T){var S=a[T];if(!S.da&&S.listener==l&&S.capture==!!h&&S.ha==p)return T}return-1}var lh="closure_lm_"+(1e6*Math.random()|0),dh={};function zv(a,l,h,p,T){if(p&&p.once)return Wv(a,l,h,p,T);if(Array.isArray(l)){for(var S=0;S<l.length;S++)zv(a,l[S],h,p,T);return null}return h=gh(h),a&&a[yo]?a.K(l,h,d(p)?!!p.capture:!!p,T):Gv(a,l,h,!1,p,T)}function Gv(a,l,h,p,T,S){if(!l)throw Error("Invalid event type");var k=d(T)?!!T.capture:!!T,we=fh(a);if(we||(a[lh]=we=new fc(a)),h=we.add(l,h,p,k,S),h.proxy)return h;if(p=NS(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)CS||(T=k),T===void 0&&(T=!1),a.addEventListener(l.toString(),p,T);else if(a.attachEvent)a.attachEvent(Qv(l.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function NS(){function a(h){return l.call(a.src,a.listener,h)}let l=MS;return a}function Wv(a,l,h,p,T){if(Array.isArray(l)){for(var S=0;S<l.length;S++)Wv(a,l[S],h,p,T);return null}return h=gh(h),a&&a[yo]?a.L(l,h,d(p)?!!p.capture:!!p,T):Gv(a,l,h,!0,p,T)}function Kv(a,l,h,p,T){if(Array.isArray(l))for(var S=0;S<l.length;S++)Kv(a,l[S],h,p,T);else p=d(p)?!!p.capture:!!p,h=gh(h),a&&a[yo]?(a=a.i,l=String(l).toString(),l in a.g&&(S=a.g[l],h=uh(S,h,p,T),-1<h&&(hc(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[l],a.h--)))):a&&(a=fh(a))&&(l=a.g[l.toString()],a=-1,l&&(a=uh(l,h,p,T)),(h=-1<a?l[a]:null)&&hh(h))}function hh(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[yo])ch(l.i,a);else{var h=a.type,p=a.proxy;l.removeEventListener?l.removeEventListener(h,p,a.capture):l.detachEvent?l.detachEvent(Qv(h),p):l.addListener&&l.removeListener&&l.removeListener(p),(h=fh(l))?(ch(h,a),h.h==0&&(h.src=null,l[lh]=null)):hc(a)}}}function Qv(a){return a in dh?dh[a]:dh[a]="on"+a}function MS(a,l){if(a.da)a=!0;else{l=new mo(l,this);var h=a.listener,p=a.ha||a.src;a.fa&&hh(a),a=h.call(p,l)}return a}function fh(a){return a=a[lh],a instanceof fc?a:null}var ph="__closure_events_fn_"+(1e9*Math.random()>>>0);function gh(a){return typeof a=="function"?a:(a[ph]||(a[ph]=function(l){return a.handleEvent(l)}),a[ph])}function nt(){ir.call(this),this.i=new fc(this),this.M=this,this.F=null}A(nt,ir),nt.prototype[yo]=!0,nt.prototype.removeEventListener=function(a,l,h,p){Kv(this,a,l,h,p)};function ct(a,l){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=l.type||l,typeof l=="string")l=new tt(l,a);else if(l instanceof tt)l.target=l.target||a;else{var T=l;l=new tt(p,a),E(l,T)}if(T=!0,h)for(var S=h.length-1;0<=S;S--){var k=l.g=h[S];T=pc(k,p,!0,l)&&T}if(k=l.g=a,T=pc(k,p,!0,l)&&T,T=pc(k,p,!1,l)&&T,h)for(S=0;S<h.length;S++)k=l.g=h[S],T=pc(k,p,!1,l)&&T}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var a=this.i,l;for(l in a.g){for(var h=a.g[l],p=0;p<h.length;p++)hc(h[p]);delete a.g[l],a.h--}}this.F=null},nt.prototype.K=function(a,l,h,p){return this.i.add(String(a),l,!1,h,p)},nt.prototype.L=function(a,l,h,p){return this.i.add(String(a),l,!0,h,p)};function pc(a,l,h,p){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();for(var T=!0,S=0;S<l.length;++S){var k=l[S];if(k&&!k.da&&k.capture==h){var we=k.listener,Je=k.ha||k.src;k.fa&&ch(a.i,k),T=we.call(Je,p)!==!1&&T}}return T&&!p.defaultPrevented}function Yv(a,l,h){if(typeof a=="function")h&&(a=I(a,h));else if(a&&typeof a.handleEvent=="function")a=I(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(a,l||0)}function Jv(a){a.g=Yv(()=>{a.g=null,a.i&&(a.i=!1,Jv(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class xS extends ir{constructor(l,h){super(),this.m=l,this.l=h,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:Jv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vo(a){ir.call(this),this.h=a,this.g={}}A(vo,ir);var Zv=[];function Xv(a){ne(a.g,function(l,h){this.g.hasOwnProperty(h)&&hh(l)},a),a.g={}}vo.prototype.N=function(){vo.aa.N.call(this),Xv(this)},vo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mh=c.JSON.stringify,PS=c.JSON.parse,OS=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function yh(){}yh.prototype.h=null;function e_(a){return a.h||(a.h=a.i())}function t_(){}var _o={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vh(){tt.call(this,"d")}A(vh,tt);function _h(){tt.call(this,"c")}A(_h,tt);var Gr={},n_=null;function gc(){return n_=n_||new nt}Gr.La="serverreachability";function r_(a){tt.call(this,Gr.La,a)}A(r_,tt);function Io(a){let l=gc();ct(l,new r_(l))}Gr.STAT_EVENT="statevent";function i_(a,l){tt.call(this,Gr.STAT_EVENT,a),this.stat=l}A(i_,tt);function ut(a){let l=gc();ct(l,new i_(l,a))}Gr.Ma="timingevent";function s_(a,l){tt.call(this,Gr.Ma,a),this.size=l}A(s_,tt);function wo(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},l)}function Eo(){this.g=!0}Eo.prototype.xa=function(){this.g=!1};function kS(a,l,h,p,T,S){a.info(function(){if(a.g)if(S)for(var k="",we=S.split("&"),Je=0;Je<we.length;Je++){var ge=we[Je].split("=");if(1<ge.length){var rt=ge[0];ge=ge[1];var it=rt.split("_");k=2<=it.length&&it[1]=="type"?k+(rt+"="+ge+"&"):k+(rt+"=redacted&")}}else k=null;else k=S;return"XMLHTTP REQ ("+p+") [attempt "+T+"]: "+l+`
`+h+`
`+k})}function FS(a,l,h,p,T,S,k){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+T+"]: "+l+`
`+h+`
`+S+" "+k})}function Fi(a,l,h,p){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+VS(a,h)+(p?" "+p:"")})}function LS(a,l){a.info(function(){return"TIMEOUT: "+l})}Eo.prototype.info=function(){};function VS(a,l){if(!a.g)return l;if(!l)return null;try{var h=JSON.parse(l);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var T=p[1];if(Array.isArray(T)&&!(1>T.length)){var S=T[0];if(S!="noop"&&S!="stop"&&S!="close")for(var k=1;k<T.length;k++)T[k]=""}}}}return mh(h)}catch{return l}}var mc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},o_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ih;function yc(){}A(yc,yh),yc.prototype.g=function(){return new XMLHttpRequest},yc.prototype.i=function(){return{}},Ih=new yc;function sr(a,l,h,p){this.j=a,this.i=l,this.l=h,this.R=p||1,this.U=new vo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new a_}function a_(){this.i=null,this.g="",this.h=!1}var c_={},wh={};function Eh(a,l,h){a.L=1,a.v=wc(bn(l)),a.m=h,a.P=!0,u_(a,null)}function u_(a,l){a.F=Date.now(),vc(a),a.A=bn(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),D_(h.i,"t",p),a.C=0,h=a.j.J,a.h=new a_,a.g=B_(a.j,h?l:null,!a.m),0<a.O&&(a.M=new xS(I(a.Y,a,a.g),a.O)),l=a.U,h=a.g,p=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(Zv[0]=T.toString()),T=Zv);for(var S=0;S<T.length;S++){var k=zv(h,T[S],p||l.handleEvent,!1,l.h||l);if(!k)break;l.g[k.key]=k}l=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,l)):(a.u="GET",a.g.ea(a.A,a.u,null,l)),Io(),kS(a.i,a.u,a.A,a.l,a.R,a.m)}sr.prototype.ca=function(a){a=a.target;let l=this.M;l&&Tn(a)==3?l.j():this.Y(a)},sr.prototype.Y=function(a){try{if(a==this.g)e:{let it=Tn(this.g);var l=this.g.Ba();let Ui=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||N_(this.g)))){this.J||it!=4||l==7||(l==8||0>=Ui?Io(3):Io(2)),Dh(this);var h=this.g.Z();this.X=h;t:if(l_(this)){var p=N_(this.g);a="";var T=p.length,S=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wr(this),Do(this);var k="";break t}this.h.i=new c.TextDecoder}for(l=0;l<T;l++)this.h.h=!0,a+=this.h.i.decode(p[l],{stream:!(S&&l==T-1)});p.length=0,this.h.g+=a,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=h==200,FS(this.i,this.u,this.A,this.l,this.R,it,h),this.o){if(this.T&&!this.K){t:{if(this.g){var we,Je=this.g;if((we=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(we)){var ge=we;break t}}ge=null}if(h=ge)Fi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bh(this,h);else{this.o=!1,this.s=3,ut(12),Wr(this),Do(this);break e}}if(this.P){h=!0;let qt;for(;!this.J&&this.C<k.length;)if(qt=US(this,k),qt==wh){it==4&&(this.s=4,ut(14),h=!1),Fi(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==c_){this.s=4,ut(15),Fi(this.i,this.l,k,"[Invalid Chunk]"),h=!1;break}else Fi(this.i,this.l,qt,null),bh(this,qt);if(l_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||k.length!=0||this.h.h||(this.s=1,ut(16),h=!1),this.o=this.o&&h,!h)Fi(this.i,this.l,k,"[Invalid Chunked Response]"),Wr(this),Do(this);else if(0<k.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Nh(rt),rt.M=!0,ut(11))}}else Fi(this.i,this.l,k,null),bh(this,k);it==4&&Wr(this),this.o&&!this.J&&(it==4?L_(this.j,this):(this.o=!1,vc(this)))}else nA(this.g),h==400&&0<k.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Wr(this),Do(this)}}}catch{}finally{}};function l_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function US(a,l){var h=a.C,p=l.indexOf(`
`,h);return p==-1?wh:(h=Number(l.substring(h,p)),isNaN(h)?c_:(p+=1,p+h>l.length?wh:(l=l.slice(p,p+h),a.C=p+h,l)))}sr.prototype.cancel=function(){this.J=!0,Wr(this)};function vc(a){a.S=Date.now()+a.I,d_(a,a.I)}function d_(a,l){if(a.B!=null)throw Error("WatchDog timer not null");a.B=wo(I(a.ba,a),l)}function Dh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}sr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(LS(this.i,this.A),this.L!=2&&(Io(),ut(17)),Wr(this),this.s=2,Do(this)):d_(this,this.S-a)};function Do(a){a.j.G==0||a.J||L_(a.j,a)}function Wr(a){Dh(a);var l=a.M;l&&typeof l.ma=="function"&&l.ma(),a.M=null,Xv(a.U),a.g&&(l=a.g,a.g=null,l.abort(),l.ma())}function bh(a,l){try{var h=a.j;if(h.G!=0&&(h.g==a||Th(h.h,a))){if(!a.K&&Th(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(l)}catch{p=null}if(Array.isArray(p)&&p.length==3){var T=p;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Cc(h),bc(h);else break e;Rh(h),ut(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=wo(I(h.Za,h),6e3));if(1>=p_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Qr(h,11)}else if((a.K||h.g==a)&&Cc(h),!W(l))for(T=h.Da.g.parse(l),l=0;l<T.length;l++){let ge=T[l];if(h.T=ge[0],ge=ge[1],h.G==2)if(ge[0]=="c"){h.K=ge[1],h.ia=ge[2];let rt=ge[3];rt!=null&&(h.la=rt,h.j.info("VER="+h.la));let it=ge[4];it!=null&&(h.Aa=it,h.j.info("SVER="+h.Aa));let Ui=ge[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(p=1.5*Ui,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let qt=a.g;if(qt){let Ac=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ac){var S=p.h;S.g||Ac.indexOf("spdy")==-1&&Ac.indexOf("quic")==-1&&Ac.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Ch(S,S.h),S.h=null))}if(p.D){let Mh=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Mh&&(p.ya=Mh,Ce(p.I,p.D,Mh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var k=a;if(p.qa=j_(p,p.J?p.ia:null,p.W),k.K){g_(p.h,k);var we=k,Je=p.L;Je&&(we.I=Je),we.B&&(Dh(we),vc(we)),p.g=k}else k_(p);0<h.i.length&&Tc(h)}else ge[0]!="stop"&&ge[0]!="close"||Qr(h,7);else h.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Qr(h,7):Ah(h):ge[0]!="noop"&&h.l&&h.l.ta(ge),h.v=0)}}Io(4)}catch{}}var jS=class{constructor(a,l){this.g=a,this.map=l}};function h_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function f_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function p_(a){return a.h?1:a.g?a.g.size:0}function Th(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function Ch(a,l){a.g?a.g.add(l):a.h=l}function g_(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}h_.prototype.cancel=function(){if(this.i=m_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function m_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let h of a.g.values())l=l.concat(h.D);return l}return N(a.i)}function BS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var l=[],h=a.length,p=0;p<h;p++)l.push(a[p]);return l}l=[],h=0;for(p in a)l[h++]=a[p];return l}function $S(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var l=[];a=a.length;for(var h=0;h<a;h++)l.push(h);return l}l=[],h=0;for(let p in a)l[h++]=p;return l}}}function y_(a,l){if(a.forEach&&typeof a.forEach=="function")a.forEach(l,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,l,void 0);else for(var h=$S(a),p=BS(a),T=p.length,S=0;S<T;S++)l.call(void 0,p[S],h&&h[S],a)}var v_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function HS(a,l){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),T=null;if(0<=p){var S=a[h].substring(0,p);T=a[h].substring(p+1)}else S=a[h];l(S,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Kr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Kr){this.h=a.h,_c(this,a.j),this.o=a.o,this.g=a.g,Ic(this,a.s),this.l=a.l;var l=a.i,h=new Co;h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),__(this,h),this.m=a.m}else a&&(l=String(a).match(v_))?(this.h=!1,_c(this,l[1]||"",!0),this.o=bo(l[2]||""),this.g=bo(l[3]||"",!0),Ic(this,l[4]),this.l=bo(l[5]||"",!0),__(this,l[6]||"",!0),this.m=bo(l[7]||"")):(this.h=!1,this.i=new Co(null,this.h))}Kr.prototype.toString=function(){var a=[],l=this.j;l&&a.push(To(l,I_,!0),":");var h=this.g;return(h||l=="file")&&(a.push("//"),(l=this.o)&&a.push(To(l,I_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(To(h,h.charAt(0)=="/"?GS:zS,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",To(h,KS)),a.join("")};function bn(a){return new Kr(a)}function _c(a,l,h){a.j=h?bo(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function Ic(a,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);a.s=l}else a.s=null}function __(a,l,h){l instanceof Co?(a.i=l,QS(a.i,a.h)):(h||(l=To(l,WS)),a.i=new Co(l,a.h))}function Ce(a,l,h){a.i.set(l,h)}function wc(a){return Ce(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function bo(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function To(a,l,h){return typeof a=="string"?(a=encodeURI(a).replace(l,qS),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function qS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var I_=/[#\/\?@]/g,zS=/[#\?:]/g,GS=/[#\?]/g,WS=/[#\?@]/g,KS=/#/g;function Co(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function or(a){a.g||(a.g=new Map,a.h=0,a.i&&HS(a.i,function(l,h){a.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}t=Co.prototype,t.add=function(a,l){or(this),this.i=null,a=Li(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(l),this.h+=1,this};function w_(a,l){or(a),l=Li(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function E_(a,l){return or(a),l=Li(a,l),a.g.has(l)}t.forEach=function(a,l){or(this),this.g.forEach(function(h,p){h.forEach(function(T){a.call(l,T,p,this)},this)},this)},t.na=function(){or(this);let a=Array.from(this.g.values()),l=Array.from(this.g.keys()),h=[];for(let p=0;p<l.length;p++){let T=a[p];for(let S=0;S<T.length;S++)h.push(l[p])}return h},t.V=function(a){or(this);let l=[];if(typeof a=="string")E_(this,a)&&(l=l.concat(this.g.get(Li(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)l=l.concat(a[h])}return l},t.set=function(a,l){return or(this),this.i=null,a=Li(this,a),E_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},t.get=function(a,l){return a?(a=this.V(a),0<a.length?String(a[0]):l):l};function D_(a,l,h){w_(a,l),0<h.length&&(a.i=null,a.g.set(Li(a,l),N(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(var h=0;h<l.length;h++){var p=l[h];let S=encodeURIComponent(String(p)),k=this.V(p);for(p=0;p<k.length;p++){var T=S;k[p]!==""&&(T+="="+encodeURIComponent(String(k[p]))),a.push(T)}}return this.i=a.join("&")};function Li(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function QS(a,l){l&&!a.j&&(or(a),a.i=null,a.g.forEach(function(h,p){var T=p.toLowerCase();p!=T&&(w_(this,p),D_(this,T,h))},a)),a.j=l}function YS(a,l){let h=new Eo;if(c.Image){let p=new Image;p.onload=w(ar,h,"TestLoadImage: loaded",!0,l,p),p.onerror=w(ar,h,"TestLoadImage: error",!1,l,p),p.onabort=w(ar,h,"TestLoadImage: abort",!1,l,p),p.ontimeout=w(ar,h,"TestLoadImage: timeout",!1,l,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else l(!1)}function JS(a,l){let h=new Eo,p=new AbortController,T=setTimeout(()=>{p.abort(),ar(h,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:p.signal}).then(S=>{clearTimeout(T),S.ok?ar(h,"TestPingServer: ok",!0,l):ar(h,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(T),ar(h,"TestPingServer: error",!1,l)})}function ar(a,l,h,p,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),p(h)}catch{}}function ZS(){this.g=new OS}function XS(a,l,h){let p=h||"";try{y_(a,function(T,S){let k=T;d(T)&&(k=mh(T)),l.push(p+S+"="+encodeURIComponent(k))})}catch(T){throw l.push(p+"type="+encodeURIComponent("_badmap")),T}}function So(a){this.l=a.Ub||null,this.j=a.eb||!1}A(So,yh),So.prototype.g=function(){return new Ec(this.l,this.j)},So.prototype.i=function(a){return function(){return a}}({});function Ec(a,l){nt.call(this),this.D=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ec,nt),t=Ec.prototype,t.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=l,this.readyState=1,Ro(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(l.body=a),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ao(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ro(this)),this.g&&(this.readyState=3,Ro(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;b_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function b_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?Ao(this):Ro(this),this.readyState==3&&b_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Ao(this))},t.Qa=function(a){this.g&&(this.response=a,Ao(this))},t.ga=function(){this.g&&Ao(this)};function Ao(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ro(a)}t.setRequestHeader=function(a,l){this.u.append(a,l)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var h=l.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=l.next();return a.join(`\r
`)};function Ro(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ec.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function T_(a){let l="";return ne(a,function(h,p){l+=p,l+=":",l+=h,l+=`\r
`}),l}function Sh(a,l,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=T_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ce(a,l,h))}function Ne(a){nt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ne,nt);var eA=/^https?$/i,tA=["POST","PUT"];t=Ne.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,l,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ih.g(),this.v=this.o?e_(this.o):e_(Ih),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(S){C_(this,S);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var T in p)h.set(T,p[T]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let S of p.keys())h.set(S,p.get(S));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(tA,l,void 0))||p||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,k]of h)this.g.setRequestHeader(S,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{R_(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){C_(this,S)}};function C_(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.m=5,S_(a),Dc(a)}function S_(a){a.A||(a.A=!0,ct(a,"complete"),ct(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ct(this,"complete"),ct(this,"abort"),Dc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dc(this,!0)),Ne.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?A_(this):this.bb())},t.bb=function(){A_(this)};function A_(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Tn(a)!=4||a.Z()!=2)){if(a.u&&Tn(a)==4)Yv(a.Ea,0,a);else if(ct(a,"readystatechange"),Tn(a)==4){a.h=!1;try{let k=a.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var p;if(p=k===0){var T=String(a.D).match(v_)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),p=!eA.test(T?T.toLowerCase():"")}h=p}if(h)ct(a,"complete"),ct(a,"success");else{a.m=6;try{var S=2<Tn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",S_(a)}}finally{Dc(a)}}}}function Dc(a,l){if(a.g){R_(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,l||ct(a,"ready");try{h.onreadystatechange=p}catch{}}}function R_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Tn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),PS(l)}};function N_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function nA(a){let l={};a=(a.g&&2<=Tn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(W(a[p]))continue;var h=b(a[p]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=l[T]||[];l[T]=S,S.push(h)}D(l,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function No(a,l,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||l}function M_(a){this.Aa=0,this.i=[],this.j=new Eo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=No("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=No("baseRetryDelayMs",5e3,a),this.cb=No("retryDelaySeedMs",1e4,a),this.Wa=No("forwardChannelMaxRetries",2,a),this.wa=No("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new h_(a&&a.concurrentRequestLimit),this.Da=new ZS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=M_.prototype,t.la=8,t.G=1,t.connect=function(a,l,h,p){ut(0),this.W=a,this.H=l||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=j_(this,null,this.W),Tc(this)};function Ah(a){if(x_(a),a.G==3){var l=a.U++,h=bn(a.I);if(Ce(h,"SID",a.K),Ce(h,"RID",l),Ce(h,"TYPE","terminate"),Mo(a,h),l=new sr(a,a.j,l),l.L=2,l.v=wc(bn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=l.v,h=!0),h||(l.g=B_(l.j,null),l.g.ea(l.v)),l.F=Date.now(),vc(l)}U_(a)}function bc(a){a.g&&(Nh(a),a.g.cancel(),a.g=null)}function x_(a){bc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Cc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Tc(a){if(!f_(a.h)&&!a.s){a.s=!0;var l=a.Ga;po||qv(),go||(po(),go=!0),ah.add(l,a),a.B=0}}function rA(a,l){return p_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=l.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=wo(I(a.Ga,a,l),V_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new sr(this,this.j,a),S=this.o;if(this.S&&(S?(S=m(S),E(S,this.S)):S=this.S),this.m!==null||this.O||(T.H=S,S=null),this.P)e:{for(var l=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(l+=p,4096<l){l=h;break e}if(l===4096||h===this.i.length-1){l=h+1;break e}}l=1e3}else l=1e3;l=O_(this,T,l),h=bn(this.I),Ce(h,"RID",a),Ce(h,"CVER",22),this.D&&Ce(h,"X-HTTP-Session-Id",this.D),Mo(this,h),S&&(this.O?l="headers="+encodeURIComponent(String(T_(S)))+"&"+l:this.m&&Sh(h,this.m,S)),Ch(this.h,T),this.Ua&&Ce(h,"TYPE","init"),this.P?(Ce(h,"$req",l),Ce(h,"SID","null"),T.T=!0,Eh(T,h,null)):Eh(T,h,l),this.G=2}}else this.G==3&&(a?P_(this,a):this.i.length==0||f_(this.h)||P_(this))};function P_(a,l){var h;l?h=l.l:h=a.U++;let p=bn(a.I);Ce(p,"SID",a.K),Ce(p,"RID",h),Ce(p,"AID",a.T),Mo(a,p),a.m&&a.o&&Sh(p,a.m,a.o),h=new sr(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),l&&(a.i=l.D.concat(a.i)),l=O_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Ch(a.h,h),Eh(h,p,l)}function Mo(a,l){a.H&&ne(a.H,function(h,p){Ce(l,p,h)}),a.l&&y_({},function(h,p){Ce(l,p,h)})}function O_(a,l,h){h=Math.min(a.i.length,h);var p=a.l?I(a.l.Na,a.l,a):null;e:{var T=a.i;let S=-1;for(;;){let k=["count="+h];S==-1?0<h?(S=T[0].g,k.push("ofs="+S)):S=0:k.push("ofs="+S);let we=!0;for(let Je=0;Je<h;Je++){let ge=T[Je].g,rt=T[Je].map;if(ge-=S,0>ge)S=Math.max(0,T[Je].g-100),we=!1;else try{XS(rt,k,"req"+ge+"_")}catch{p&&p(rt)}}if(we){p=k.join("&");break e}}}return a=a.i.splice(0,h),l.D=a,p}function k_(a){if(!a.g&&!a.u){a.Y=1;var l=a.Fa;po||qv(),go||(po(),go=!0),ah.add(l,a),a.v=0}}function Rh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=wo(I(a.Fa,a),V_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,F_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=wo(I(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),bc(this),F_(this))};function Nh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function F_(a){a.g=new sr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var l=bn(a.qa);Ce(l,"RID","rpc"),Ce(l,"SID",a.K),Ce(l,"AID",a.T),Ce(l,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ce(l,"TO",a.ja),Ce(l,"TYPE","xmlhttp"),Mo(a,l),a.m&&a.o&&Sh(l,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=wc(bn(l)),h.m=null,h.P=!0,u_(h,a)}t.Za=function(){this.C!=null&&(this.C=null,bc(this),Rh(this),ut(19))};function Cc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function L_(a,l){var h=null;if(a.g==l){Cc(a),Nh(a),a.g=null;var p=2}else if(Th(a.h,l))h=l.D,g_(a.h,l),p=1;else return;if(a.G!=0){if(l.o)if(p==1){h=l.m?l.m.length:0,l=Date.now()-l.F;var T=a.B;p=gc(),ct(p,new s_(p,h)),Tc(a)}else k_(a);else if(T=l.s,T==3||T==0&&0<l.X||!(p==1&&rA(a,l)||p==2&&Rh(a)))switch(h&&0<h.length&&(l=a.h,l.i=l.i.concat(h)),T){case 1:Qr(a,5);break;case 4:Qr(a,10);break;case 3:Qr(a,6);break;default:Qr(a,2)}}}function V_(a,l){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*l}function Qr(a,l){if(a.j.info("Error code "+l),l==2){var h=I(a.fb,a),p=a.Xa;let T=!p;p=new Kr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||_c(p,"https"),wc(p),T?YS(p.toString(),h):JS(p.toString(),h)}else ut(2);a.G=0,a.l&&a.l.sa(l),U_(a),x_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function U_(a){if(a.G=0,a.ka=[],a.l){let l=m_(a.h);(l.length!=0||a.i.length!=0)&&(R(a.ka,l),R(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function j_(a,l,h){var p=h instanceof Kr?bn(h):new Kr(h);if(p.g!="")l&&(p.g=l+"."+p.g),Ic(p,p.s);else{var T=c.location;p=T.protocol,l=l?l+"."+T.hostname:T.hostname,T=+T.port;var S=new Kr(null);p&&_c(S,p),l&&(S.g=l),T&&Ic(S,T),h&&(S.l=h),p=S}return h=a.D,l=a.ya,h&&l&&Ce(p,h,l),Ce(p,"VER",a.la),Mo(a,p),p}function B_(a,l,h){if(l&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Ca&&!a.pa?new Ne(new So({eb:h})):new Ne(a.pa),l.Ha(a.J),l}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $_(){}t=$_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sc(){}Sc.prototype.g=function(a,l){return new bt(a,l)};function bt(a,l){nt.call(this),this.g=new M_(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(a?a["X-WebChannel-Client-Profile"]=l.va:a={"X-WebChannel-Client-Profile":l.va}),this.g.S=a,(a=l&&l.Sb)&&!W(a)&&(this.g.m=a),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!W(l)&&(this.g.D=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new Vi(this)}A(bt,nt),bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bt.prototype.close=function(){Ah(this.g)},bt.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=mh(a),a=h);l.i.push(new jS(l.Ya++,a)),l.G==3&&Tc(l)},bt.prototype.N=function(){this.g.l=null,delete this.j,Ah(this.g),delete this.g,bt.aa.N.call(this)};function H_(a){vh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let h in l){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}A(H_,vh);function q_(){_h.call(this),this.status=1}A(q_,_h);function Vi(a){this.g=a}A(Vi,$_),Vi.prototype.ua=function(){ct(this.g,"a")},Vi.prototype.ta=function(a){ct(this.g,new H_(a))},Vi.prototype.sa=function(a){ct(this.g,new q_)},Vi.prototype.ra=function(){ct(this.g,"b")},Sc.prototype.createWebChannel=Sc.prototype.g,bt.prototype.send=bt.prototype.o,bt.prototype.open=bt.prototype.m,bt.prototype.close=bt.prototype.close,fy=Zn.createWebChannelTransport=function(){return new Sc},hy=Zn.getStatEventTarget=function(){return gc()},dy=Zn.Event=Gr,Dd=Zn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mc.NO_ERROR=0,mc.TIMEOUT=8,mc.HTTP_ERROR=6,Za=Zn.ErrorCode=mc,o_.COMPLETE="complete",ly=Zn.EventType=o_,t_.EventType=_o,_o.OPEN="a",_o.CLOSE="b",_o.ERROR="c",_o.MESSAGE="d",nt.prototype.listen=nt.prototype.K,Gs=Zn.WebChannel=t_,yj=Zn.FetchXmlHttpFactory=So,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,uy=Zn.XhrIo=Ne}).apply(typeof Ed<"u"?Ed:typeof self<"u"?self:typeof window<"u"?window:{});var tC="@firebase/firestore";var Qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");var lo="10.14.0";var Ni=new kr("@firebase/firestore");function Xa(){return Ni.logLevel}function H(t,...e){if(Ni.logLevel<=le.DEBUG){let n=e.map(Pv);Ni.debug(`Firestore (${lo}): ${t}`,...n)}}function Mi(t,...e){if(Ni.logLevel<=le.ERROR){let n=e.map(Pv);Ni.error(`Firestore (${lo}): ${t}`,...n)}}function Rd(t,...e){if(Ni.logLevel<=le.WARN){let n=e.map(Pv);Ni.warn(`Firestore (${lo}): ${t}`,...n)}}function Pv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function de(t="Unexpected state"){let e=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: `+t;throw Mi(e),new Error(e)}function Oe(t,e){t||de()}function be(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=class extends xt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Xn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Nd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},yy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}},vy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},_y=class{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Xn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string"),new Nd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new Qe(e)}},Iy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},wy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Iy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ey=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Dy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Oe(this.o===void 0);let r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.R=n.token,new Ey(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function vj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Md=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=vj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function De(t,e){return t<e?-1:t>e?1:0}function Ys(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var at=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Pe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new at(0,0))}static max(){return new t(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var xd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(),r===void 0?r=e.length-n:r>e.length-n&&de(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Be=class t extends xd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new G(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},_j=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pt=class t extends xd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return _j.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new G(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new G(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new G(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var re=class t{constructor(e){this.path=e}static fromPath(e){return new t(Be.fromString(e))}static fromName(e){return new t(Be.fromString(e).popFirst(5))}static empty(){return new t(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Be(e.slice()))}};var by=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};by.UNKNOWN_ID=-1;function Ij(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new xi(i,re.empty(),e)}function wj(t){return new xi(t.readTime,t.key,-1)}var xi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Pe.min(),re.empty(),-1)}static max(){return new t(Pe.max(),re.empty(),-1)}};function Ej(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}var Dj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ty=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function bC(t){return _(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==Dj)throw t;H("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let d=u;n(e[d]).next(f=>{o[d]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function bj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jd(t){return t.name==="IndexedDbTransactionError"}var Tj=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Ov(t){return t==null}function sc(t){return t===0&&1/t==-1/0}function Cj(t){return typeof t=="number"&&Number.isInteger(t)&&!sc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Sj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],M6=[...Sj,"documentOverlays"],Aj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Rj=Aj,Nj=[...Rj,"indexConfiguration","indexState","indexEntries"];var x6=[...Nj,"globals"];function nC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ot=class t{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ks(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ks(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ks(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ks(this.root,e,this.comparator,!0)}},Ks=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},wn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();let e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}};wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,r,i,s){return this}insert(e,n,r){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var pt=class t{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pd(this.data.getIterator())}getIteratorFrom(e){return new Pd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Pd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var In=class t{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new t([])}unionWith(e){let n=new pt(Pt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ys(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Cy=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var tr=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Cy("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};tr.EMPTY_BYTE_STRING=new tr("");var Mj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(t){if(Oe(!!t),typeof t=="string"){let e=0,n=Mj.exec(t);if(Oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Js(t){return typeof t=="string"?tr.fromBase64String(t):tr.fromUint8Array(t)}function kv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function CC(t){let e=t.mapValue.fields.__previous_value__;return kv(e)?CC(e):e}function Od(t){let e=$r(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}var Sy=class{constructor(e,n,r,i,s,o,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}},Ay=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var bd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kv(t)?4:AC(t)?9007199254740991:SC(t)?10:11:de()}function En(t,e){if(t===e)return!0;let n=Zs(t);if(n!==Zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Od(t).isEqual(Od(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=$r(i.timestampValue),c=$r(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Js(i.bytesValue).isEqual(Js(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return je(i.geoPointValue.latitude)===je(s.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return je(i.integerValue)===je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=je(i.doubleValue),c=je(s.doubleValue);return o===c?sc(o)===sc(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Ys(t.arrayValue.values||[],e.arrayValue.values||[],En);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(nC(o)!==nC(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!En(o[u],c[u])))return!1;return!0}(t,e);default:return de()}}function oc(t,e){return(t.values||[]).find(n=>En(n,e))!==void 0}function Xs(t,e){if(t===e)return 0;let n=Zs(t),r=Zs(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=je(s.integerValue||s.doubleValue),u=je(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return rC(t.timestampValue,e.timestampValue);case 4:return rC(Od(t),Od(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(s,o){let c=Js(s),u=Js(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let d=0;d<c.length&&d<u.length;d++){let f=De(c[d],u[d]);if(f!==0)return f}return De(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=De(je(s.latitude),je(o.latitude));return c!==0?c:De(je(s.longitude),je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iC(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,d,f;let g=s.fields||{},I=o.fields||{},w=(c=g.value)===null||c===void 0?void 0:c.arrayValue,A=(u=I.value)===null||u===void 0?void 0:u.arrayValue,N=De(((d=w?.values)===null||d===void 0?void 0:d.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:iC(w,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===bd.mapValue&&o===bd.mapValue)return 0;if(s===bd.mapValue)return 1;if(o===bd.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let I=De(u[g],f[g]);if(I!==0)return I;let w=Xs(c[u[g]],d[f[g]]);if(w!==0)return w}return De(u.length,f.length)}(t.mapValue,e.mapValue);default:throw de()}}function rC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);let n=$r(t),r=$r(e),i=De(n.seconds,r.seconds);return i!==0?i:De(n.nanos,r.nanos)}function iC(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Xs(n[i],r[i]);if(s)return s}return De(n.length,r.length)}function eo(t){return Ry(t)}function Ry(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=$r(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Js(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Ry(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Ry(n.fields[o])}`;return i+"}"}(t.mapValue):de()}function Ny(t){return!!t&&"integerValue"in t}function Fv(t){return!!t&&"arrayValue"in t}function Sd(t){return!!t&&"mapValue"in t}function SC(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function tc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return uc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var _n=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(n)}setAll(e){let n=Pt.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=tc(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Sd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return En(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){uc(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(tc(this.value))}};function RC(t){let e=[];return uc(t.fields,(n,r)=>{let i=new Pt([n]);if(Sd(r)){let s=RC(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new In(e)}var to=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Pe.min(),Pe.min(),Pe.min(),_n.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Pe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Pe.min(),Pe.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Pe.min(),Pe.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var no=class{constructor(e,n){this.position=e,this.inclusive=n}};function sC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=Xs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function oC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!En(t.position[n],e.position[n]))return!1;return!0}var ro=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function xj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var kd=class{},Ye=class t extends kd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xy(e,n,r):n==="array-contains"?new ky(e,r):n==="in"?new Fy(e,r):n==="not-in"?new Ly(e,r):n==="array-contains-any"?new Vy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Py(e,r):new Oy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xs(n,this.value)):n!==null&&Zs(this.value)===Zs(n)&&this.matchesComparison(Xs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Hr=class t extends kd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return NC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function NC(t){return t.op==="and"}function MC(t){return Pj(t)&&NC(t)}function Pj(t){for(let e of t.filters)if(e instanceof Hr)return!1;return!0}function My(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+eo(t.value);if(MC(t))return t.filters.map(e=>My(e)).join(",");{let e=t.filters.map(n=>My(n)).join(",");return`${t.op}(${e})`}}function xC(t,e){return t instanceof Ye?function(r,i){return i instanceof Ye&&r.op===i.op&&r.field.isEqual(i.field)&&En(r.value,i.value)}(t,e):t instanceof Hr?function(r,i){return i instanceof Hr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&xC(o,i.filters[c]),!0):!1}(t,e):void de()}function PC(t){return t instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${eo(n.value)}`}(t):t instanceof Hr?function(n){return n.op.toString()+" {"+n.getFilters().map(PC).join(" ,")+"}"}(t):"Filter"}var xy=class extends Ye{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){let n=re.comparator(e.key,this.key);return this.matchesComparison(n)}},Py=class extends Ye{constructor(e,n){super(e,"in",n),this.keys=OC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Oy=class extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=OC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function OC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}var ky=class extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Fv(n)&&oc(n.arrayValue,this.value)}},Fy=class extends Ye{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&oc(this.value.arrayValue,n)}},Ly=class extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!oc(this.value.arrayValue,n)}},Vy=class extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Fv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>oc(this.value.arrayValue,r))}};var Uy=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function aC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Uy(t,e,n,r,i,s,o)}function Lv(t){let e=be(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>My(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ov(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>eo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>eo(r)).join(",")),e.ue=n}return e.ue}function Vv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!oC(t.startAt,e.startAt)&&oC(t.endAt,e.endAt)}var io=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Oj(t,e,n,r,i,s,o,c){return new io(t,e,n,r,i,s,o,c)}function kj(t){return new io(t)}function cC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Fj(t){return t.collectionGroup!==null}function nc(t){let e=be(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new pt(Pt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ro(s,r))}),n.has(Pt.keyField().canonicalString())||e.ce.push(new ro(Pt.keyField(),r))}return e.ce}function Ai(t){let e=be(t);return e.le||(e.le=Lj(e,nc(t))),e.le}function Lj(t,e){if(t.limitType==="F")return aC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ro(i.field,s)});let n=t.endAt?new no(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new no(t.startAt.position,t.startAt.inclusive):null;return aC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jy(t,e,n){return new io(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kC(t,e){return Vv(Ai(t),Ai(e))&&t.limitType===e.limitType}function FC(t){return`${Lv(Ai(t))}|lt:${t.limitType}`}function ec(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>PC(i)).join(", ")}]`),Ov(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>eo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>eo(i)).join(",")),`Target(${r})`}(Ai(t))}; limitType=${t.limitType})`}function Uv(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):re.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of nc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let d=sC(o,c,u);return o.inclusive?d<=0:d<0}(r.startAt,nc(r),i)||r.endAt&&!function(o,c,u){let d=sC(o,c,u);return o.inclusive?d>=0:d>0}(r.endAt,nc(r),i))}(t,e)}function Vj(t){return(e,n)=>{let r=!1;for(let i of nc(t)){let s=Uj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Uj(t,e,n){let r=t.field.isKeyField()?re.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),d=c.data.field(s);return u!==null&&d!==null?Xs(u,d):de()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}var qr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){uc(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return TC(this.inner)}size(){return this.innerSize}};var jj=new Ot(re.comparator);function Fd(){return jj}var LC=new Ot(re.comparator);function Td(...t){let e=LC;for(let n of t)e=e.insert(n.key,n);return e}function VC(t){let e=LC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Si(){return rc()}function UC(){return rc()}function rc(){return new qr(t=>t.toString(),(t,e)=>t.isEqual(e))}var Bj=new Ot(re.comparator),$j=new pt(re.comparator);function ot(...t){let e=$j;for(let n of t)e=e.add(n);return e}var Hj=new pt(De);function qj(){return Hj}function jv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sc(e)?"-0":e}}function jC(t){return{integerValue:""+t}}function zj(t,e){return Cj(e)?jC(e):jv(t,e)}var so=class{constructor(){this._=void 0}};function Gj(t,e,n){return t instanceof oo?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&kv(s)&&(s=CC(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Pi?$C(t,e):t instanceof Oi?HC(t,e):function(i,s){let o=BC(i,s),c=uC(o)+uC(i.Pe);return Ny(o)&&Ny(i.Pe)?jC(c):jv(i.serializer,c)}(t,e)}function Wj(t,e,n){return t instanceof Pi?$C(t,e):t instanceof Oi?HC(t,e):n}function BC(t,e){return t instanceof ao?function(r){return Ny(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var oo=class extends so{},Pi=class extends so{constructor(e){super(),this.elements=e}};function $C(t,e){let n=qC(e);for(let r of t.elements)n.some(i=>En(i,r))||n.push(r);return{arrayValue:{values:n}}}var Oi=class extends so{constructor(e){super(),this.elements=e}};function HC(t,e){let n=qC(e);for(let r of t.elements)n=n.filter(i=>!En(i,r));return{arrayValue:{values:n}}}var ao=class extends so{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function uC(t){return je(t.integerValue||t.doubleValue)}function qC(t){return Fv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Kj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Pi&&i instanceof Pi||r instanceof Oi&&i instanceof Oi?Ys(r.elements,i.elements,En):r instanceof ao&&i instanceof ao?En(r.Pe,i.Pe):r instanceof oo&&i instanceof oo}(t.transform,e.transform)}var By=class{constructor(e,n){this.version=e,this.transformResults=n}},Ri=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ad(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var co=class{};function zC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ld(t.key,Ri.none()):new ki(t.key,t.data,Ri.none());{let n=t.data,r=_n.empty(),i=new pt(Pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new nr(t.key,r,new In(i.toArray()),Ri.none())}}function Qj(t,e,n){t instanceof ki?function(i,s,o){let c=i.value.clone(),u=dC(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof nr?function(i,s,o){if(!Ad(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=dC(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(GC(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ic(t,e,n,r){return t instanceof ki?function(s,o,c,u){if(!Ad(s.precondition,o))return c;let d=s.value.clone(),f=hC(s.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof nr?function(s,o,c,u){if(!Ad(s.precondition,o))return c;let d=hC(s.fieldTransforms,u,o),f=o.data;return f.setAll(GC(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,c){return Ad(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function Yj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=BC(r.transform,i||null);s!=null&&(n===null&&(n=_n.empty()),n.set(r.field,s))}return n||null}function lC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ys(r,i,(s,o)=>Kj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ki=class extends co{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},nr=class extends co{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function GC(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function dC(t,e,n){let r=new Map;Oe(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,Wj(o,c,n[i]))}return r}function hC(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,Gj(s,o,e))}return r}var Ld=class extends co{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},$y=class extends co{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Hy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&Qj(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=UC();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=zC(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ot())}isEqual(e){return this.batchId===e.batchId&&Ys(this.mutations,e.mutations,(n,r)=>lC(n,r))&&Ys(this.baseMutations,e.baseMutations,(n,r)=>lC(n,r))}},qy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Oe(e.mutations.length===r.length);let i=function(){return Bj}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var zy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Ve,fe;function Jj(t){switch(t){default:return de();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function Zj(t){if(t===void 0)return Mi("GRPC error has no .code"),M.UNKNOWN;switch(t){case Ve.OK:return M.OK;case Ve.CANCELLED:return M.CANCELLED;case Ve.UNKNOWN:return M.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return M.INTERNAL;case Ve.UNAVAILABLE:return M.UNAVAILABLE;case Ve.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ve.NOT_FOUND:return M.NOT_FOUND;case Ve.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ve.ABORTED:return M.ABORTED;case Ve.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ve.DATA_LOSS:return M.DATA_LOSS;default:return de()}}(fe=Ve||(Ve={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var O6=new cy([4294967295,4294967295],0);var Gy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Wy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function e2(t,e){return Wy(t,e.toTimestamp())}function Qs(t){return Oe(!!t),Pe.fromTimestamp(function(n){let r=$r(n);return new at(r.seconds,r.nanos)}(t))}function WC(t,e){return Ky(t,e).canonicalString()}function Ky(t,e){let n=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function t2(t){let e=Be.fromString(t);return Oe(u2(e)),e}function Qy(t,e){return WC(t.databaseId,e.path)}function n2(t){let e=t2(t);return e.length===4?Be.emptyPath():i2(e)}function r2(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function i2(t){return Oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fC(t,e,n){return{name:Qy(t,e),fields:n.value.mapValue.fields}}function s2(t,e){let n;if(e instanceof ki)n={update:fC(t,e.key,e.value)};else if(e instanceof Ld)n={delete:Qy(t,e.key)};else if(e instanceof nr)n={update:fC(t,e.key,e.data),updateMask:c2(e.fieldMask)};else{if(!(e instanceof $y))return de();n={verify:Qy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof oo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Pi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Oi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ao)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw de()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:e2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:de()}(t,e.precondition)),n}function o2(t,e){return t&&t.length>0?(Oe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Qs(i.updateTime):Qs(s);return o.isEqual(Pe.min())&&(o=Qs(s)),new By(o,i.transformResults||[])}(n,e))):[]}function a2(t){let e=n2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Oe(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){let I=KC(g);return I instanceof Hr&&MC(I)?I.getFilters():[I]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(I=>function(A){return new ro(Ws(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(I))}(n.orderBy));let c=null;n.limit&&(c=function(g){let I;return I=typeof g=="object"?g.value:g,Ov(I)?null:I}(n.limit));let u=null;n.startAt&&(u=function(g){let I=!!g.before,w=g.values||[];return new no(w,I)}(n.startAt));let d=null;return n.endAt&&(d=function(g){let I=!g.before,w=g.values||[];return new no(w,I)}(n.endAt)),Oj(e,i,o,s,c,"F",u,d)}function KC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ws(n.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ws(n.unaryFilter.field);return Ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ws(n.unaryFilter.field);return Ye.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ws(n.unaryFilter.field);return Ye.create(o,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(t):t.fieldFilter!==void 0?function(n){return Ye.create(Ws(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hr.create(n.compositeFilter.filters.map(r=>KC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(t):de()}function Ws(t){return Pt.fromServerFormat(t.fieldPath)}function c2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function u2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Yy=class{constructor(e){this.ct=e}};function l2(t){let e=a2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jy(e,e.limit,"L"):e}var Vd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(je(e.integerValue));else if("doubleValue"in e){let r=je(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),sc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=$r(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Js(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?AC(e)?this.dt(n,Number.MAX_SAFE_INTEGER):SC(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):de()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(je(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),re.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Vd.vt=new Vd;var Jy=class{constructor(){this.un=new Zy}addToCollectionParentIndex(e,n){return this.un.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(xi.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},Zy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(Be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(Be.comparator)).toArray()}};var k6=new Uint8Array(0);var vn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(41943040,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);var ac=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Xy=class{constructor(){this.changes=new qr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,to.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ev=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var tv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ic(r.mutation,i,In.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ot()){let i=Si();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Td();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ot()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=Fd(),o=rc(),c=function(){return rc()}();return n.forEach((u,d)=>{let f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof nr)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),ic(f.mutation,d,f.mutation.getFieldMask(),at.now())):o.set(d.key,In.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>{var g;return c.set(d,new ev(f,(g=o.get(d))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let r=rc(),i=new Ot((o,c)=>o-c),s=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let f=r.get(u)||In.empty();f=c.applyToLocalView(d,f),r.set(u,f);let g=(i.get(c.batchId)||ot()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),d=u.key,f=u.value,g=UC();f.forEach(I=>{if(!s.has(I)){let w=zC(n.get(I),r.get(I));w!==null&&g.set(I,w),s=s.add(I)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Fj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(Si()),c=-1,u=s;return o.next(d=>P.forEach(d,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(f)?P.resolve():this.remoteDocumentCache.getEntry(e,f).next(I=>{u=u.insert(f,I)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,ot())).next(f=>({batchId:c,changes:VC(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=Td();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Td();return this.indexManager.getCollectionParents(e,s).next(c=>P.forEach(c,u=>{let d=function(g,I){return new io(I,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((g,I)=>{o=o.insert(g,I)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{let f=d.getKey();o.get(f)===null&&(o=o.insert(f,to.newInvalidDocument(f)))});let c=Td();return o.forEach((u,d)=>{let f=s.get(u);f!==void 0&&ic(f.mutation,d,In.empty(),at.now()),Uv(n,d)&&(c=c.insert(u,d))}),c})}};var nv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return P.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qs(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:l2(i.bundledQuery),readTime:Qs(i.readTime)}}(n)),P.resolve()}};var rv=class{constructor(){this.overlays=new Ot(re.comparator),this.Ir=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Si();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=Si(),s=n.length+1,o=new re(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ot((d,f)=>d-f),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=Si(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=Si(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=i)););return P.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zy(n,r));let s=this.Ir.get(n);s===void 0&&(s=ot(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var iv=class{constructor(){this.sessionToken=tr.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var cc=class{constructor(){this.Tr=new pt(Ue.Er),this.dr=new pt(Ue.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ue(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ue(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new re(new Be([])),r=new Ue(n,e),i=new Ue(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new re(new Be([])),r=new Ue(n,e),i=new Ue(n,e+1),s=ot();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ue(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ue=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return re.comparator(e.key,n.key)||De(e.wr,n.wr)}static Ar(e,n){return De(e.wr,n.wr)||re.comparator(e.key,n.key)}};var sv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new pt(Ue.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Hy(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Ue(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ue(n,0),i=new Ue(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(De);return n.forEach(i=>{let s=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;re.isDocumentKey(s)||(s=s.child(""));let o=new Ue(new re(s),0),c=new pt(De);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.wr)),!0)},o),P.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Oe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(n.mutations,i=>{let s=new Ue(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ue(n,0),i=this.br.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var ov=class{constructor(e){this.Mr=e,this.docs=function(){return new Ot(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():to.newInvalidDocument(n))}getEntries(e,n){let r=Fd();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():to.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Fd(),o=n.path,c=new re(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Ej(wj(f),r)<=0||(i.has(f.key)||Uv(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){de()}Or(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new av(this)}getSize(e){return P.resolve(this.size)}},av=class extends Xy{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var cv=class{constructor(e){this.persistence=e,this.Nr=new qr(n=>Lv(n),Vv),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new cc,this.targetCount=0,this.kr=ac.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),P.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new ac(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Kn(n),P.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Br.containsKey(n))}};var uv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Tj(0),this.Kr=!1,this.Kr=!0,this.$r=new iv,this.referenceDelegate=e(this),this.Ur=new cv(this),this.indexManager=new Jy,this.remoteDocumentCache=function(i){return new ov(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Yy(n),this.Gr=new nv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new sv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);let i=new lv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},lv=class extends Ty{constructor(e){super(),this.currentSequenceNumber=e}},dv=class t{constructor(e){this.persistence=e,this.Jr=new cc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw de()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=re.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Pe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return P.or([()=>P.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var hv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ot(),i=ot();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var fv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var pv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return M0()?8:bj(Ke())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new fv;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Xa()<=le.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",ec(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(Xa()<=le.DEBUG&&H("QueryEngine","Query:",ec(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Xa()<=le.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",ec(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(n))):P.resolve())}Yi(e,n){if(cC(n))return P.resolve(null);let r=Ai(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=jy(n,null,"F"),r=Ai(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ot(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(n,c);return this.ns(n,d,o,u.readTime)?this.Yi(e,jy(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,i){return cC(n)||i.isEqual(Pe.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?P.resolve(null):(Xa()<=le.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ec(n)),this.rs(e,o,n,Ij(i,-1)).next(c=>c))})}ts(e,n){let r=new pt(Vj(e));return n.forEach((i,s)=>{Uv(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Xa()<=le.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",ec(n)),this.Ji.getDocumentsMatchingQuery(e,n,xi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var gv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ot(De),this._s=new qr(s=>Lv(s),Vv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function d2(t,e,n,r){return new gv(t,e,n,r)}function QC(t,e){return _(this,null,function*(){let n=be(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=ot();for(let d of i){o.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}for(let d of s){c.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:c}))})})})}function h2(t,e){let n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){let g=d.batch,I=g.keys(),w=P.resolve();return I.forEach(A=>{w=w.next(()=>f.getEntry(u,A)).next(N=>{let R=d.docVersions.get(A);Oe(R!==null),N.version.compareTo(R)<0&&(g.applyToRemoteDocument(N,d),N.isValidDocument()&&(N.setReadTime(d.commitVersion),f.addEntry(N)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ot();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function f2(t){let e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function p2(t,e){let n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Ud=class{constructor(){this.activeTargetIds=qj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var mv=class{constructor(){this.so=new Ud,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ud,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var yv=class{_o(e){}shutdown(){}};var jd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Cd=null;function py(){return Cd===null?Cd=function(){return 268435456+Math.round(2147483648*Math.random())}():Cd++,"0x"+Cd.toString(16)}var g2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var vv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var st="WebChannelConnection",_v=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=py(),u=this.xo(n,r.toUriEncodedString());H("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(n,u,d,i).then(f=>(H("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw Rd("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=g2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=py();return new Promise((o,c)=>{let u=new uy;u.setWithCredentials(!0),u.listenOnce(ly.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Za.NO_ERROR:let f=u.getResponseJson();H(st,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Za.TIMEOUT:H(st,`RPC '${e}' ${s} timed out`),c(new G(M.DEADLINE_EXCEEDED,"Request time out"));break;case Za.HTTP_ERROR:let g=u.getStatus();if(H(st,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let I=u.getResponseJson();Array.isArray(I)&&(I=I[0]);let w=I?.error;if(w&&w.status&&w.message){let A=function(R){let V=R.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(V)>=0?V:M.UNKNOWN}(w.status);c(new G(A,w.message))}else c(new G(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new G(M.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{H(st,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);H(st,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Bo(e,n,r){let i=py(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fy(),c=hy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");H(st,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=o.createWebChannel(f,u),I=!1,w=!1,A=new vv({Io:R=>{w?H(st,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(I||(H(st,`Opening RPC '${e}' stream ${i} transport.`),g.open(),I=!0),H(st,`RPC '${e}' stream ${i} sending:`,R),g.send(R))},To:()=>g.close()}),N=(R,V,W)=>{R.listen(V,B=>{try{W(B)}catch(ie){setTimeout(()=>{throw ie},0)}})};return N(g,Gs.EventType.OPEN,()=>{w||(H(st,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),N(g,Gs.EventType.CLOSE,()=>{w||(w=!0,H(st,`RPC '${e}' stream ${i} transport closed`),A.So())}),N(g,Gs.EventType.ERROR,R=>{w||(w=!0,Rd(st,`RPC '${e}' stream ${i} transport errored:`,R),A.So(new G(M.UNAVAILABLE,"The operation could not be completed")))}),N(g,Gs.EventType.MESSAGE,R=>{var V;if(!w){let W=R.data[0];Oe(!!W);let B=W,ie=B.error||((V=B[0])===null||V===void 0?void 0:V.error);if(ie){H(st,`RPC '${e}' stream ${i} received error:`,ie);let Te=ie.status,ne=function(y){let E=Ve[y];if(E!==void 0)return Zj(E)}(Te),D=ie.message;ne===void 0&&(ne=M.INTERNAL,D="Unknown error status: "+Te+" with message "+ie.message),w=!0,A.So(new G(ne,D)),g.close()}else H(st,`RPC '${e}' stream ${i} received:`,W),A.bo(W)}}),N(c,dy.STAT_EVENT,R=>{R.stat===Dd.PROXY?H(st,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Dd.NOPROXY&&H(st,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function gy(){return typeof document<"u"?document:null}function Zd(t){return new Gy(t,!0)}var Bd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Iv=class{constructor(e,n,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Bd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return _(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return _(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return _(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Mi(n.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new G(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>_(this,null,function*(){this.state=0,this.start()}))}I_(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var wv=class extends Iv{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=o2(e.writeResults,e.commitTime),r=Qs(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=r2(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>s2(this.serializer,r))};this.a_(n)}};var Ev=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new G(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Ky(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(M.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,Ky(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Dv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Mi(n),this.D_=!1):H("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var bv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>_(this,null,function*(){dc(this)&&(H("RemoteStore","Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let d=be(u);d.L_.add(4),yield lc(d),d.q_.set("Unknown"),d.L_.delete(4),yield Xd(d)})}(this))}))}),this.q_=new Dv(r,i)}};function Xd(t){return _(this,null,function*(){if(dc(t))for(let e of t.B_)yield e(!0)})}function lc(t){return _(this,null,function*(){for(let e of t.B_)yield e(!1)})}function dc(t){return be(t).L_.size===0}function YC(t,e,n){return _(this,null,function*(){if(!Jd(e))throw e;t.L_.add(1),yield lc(t),t.q_.set("Offline"),n||(n=()=>f2(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){H("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Xd(t)}))})}function JC(t,e){return e().catch(n=>YC(t,n,e))}function eh(t){return _(this,null,function*(){let e=be(t),n=zr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;m2(e);)try{let i=yield p2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,y2(e,i)}catch(i){yield YC(e,i)}ZC(e)&&XC(e)})}function m2(t){return dc(t)&&t.O_.length<10}function y2(t,e){t.O_.push(e);let n=zr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function ZC(t){return dc(t)&&!zr(t).n_()&&t.O_.length>0}function XC(t){zr(t).start()}function v2(t){return _(this,null,function*(){zr(t).p_()})}function _2(t){return _(this,null,function*(){let e=zr(t);for(let n of t.O_)e.m_(n.mutations)})}function I2(t,e,n){return _(this,null,function*(){let r=t.O_.shift(),i=qy.from(r,e,n);yield JC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield eh(t)})}function w2(t,e){return _(this,null,function*(){e&&zr(t).V_&&(yield function(r,i){return _(this,null,function*(){if(function(o){return Jj(o)&&o!==M.ABORTED}(i.code)){let s=r.O_.shift();zr(r).s_(),yield JC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield eh(r)}})}(t,e)),ZC(t)&&XC(t)})}function pC(t,e){return _(this,null,function*(){let n=be(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");let r=dc(n);n.L_.add(3),yield lc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Xd(n)})}function E2(t,e){return _(this,null,function*(){let n=be(t);e?(n.L_.delete(2),yield Xd(n)):e||(n.L_.add(2),yield lc(n),n.q_.set("Unknown"))})}function zr(t){return t.U_||(t.U_=function(n,r,i){let s=be(n);return s.w_(),new wv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:v2.bind(null,t),mo:w2.bind(null,t),f_:_2.bind(null,t),g_:I2.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.U_.s_(),yield eh(t)):(yield t.U_.stop(),t.O_.length>0&&(H("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Tv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Xn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function eS(t,e){if(Mi("AsyncQueue",`${e}: ${t}`),Jd(t))return new G(M.UNAVAILABLE,`${e}: ${t}`);throw t}var Cv=class{constructor(){this.queries=gC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=be(n),s=i.queries;i.queries=gC(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new G(M.ABORTED,"Firestore shutting down"))}};function gC(){return new qr(t=>FC(t),kC)}function D2(t){t.Y_.forEach(e=>{e.next()})}var mC,yC;(yC=mC||(mC={})).ea="default",yC.Cache="cache";var Sv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new qr(c=>FC(c),kC),this.Ma=new Map,this.xa=new Set,this.Oa=new Ot(re.comparator),this.Na=new Map,this.La=new cc,this.Ba={},this.ka=new Map,this.qa=ac.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function b2(t,e,n){return _(this,null,function*(){let r=A2(t);try{let i=yield function(o,c){let u=be(o),d=at.now(),f=c.reduce((w,A)=>w.add(A.key),ot()),g,I;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let A=Fd(),N=ot();return u.cs.getEntries(w,f).next(R=>{A=R,A.forEach((V,W)=>{W.isValidDocument()||(N=N.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,A)).next(R=>{g=R;let V=[];for(let W of c){let B=Yj(W,g.get(W.key).overlayedDocument);B!=null&&V.push(new nr(W.key,B,RC(B.value.mapValue),Ri.exists(!0)))}return u.mutationQueue.addMutationBatch(w,d,V,c)}).next(R=>{I=R;let V=R.applyToLocalDocumentSet(g,N);return u.documentOverlayCache.saveOverlays(w,R.batchId,V)})}).then(()=>({batchId:I.batchId,changes:VC(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new Ot(De)),d=d.insert(c,u),o.Ba[o.currentUser.toKey()]=d}(r,i.batchId,n),yield th(r,i.changes),yield eh(r.remoteStore)}catch(i){let s=eS(i,"Failed to persist write");n.reject(s)}})}function vC(t,e,n){let r=be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=be(o);u.onlineState=c;let d=!1;u.queries.forEach((f,g)=>{for(let I of g.j_)I.Z_(c)&&(d=!0)}),d&&D2(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function T2(t,e){return _(this,null,function*(){let n=be(t),r=e.batch.batchId;try{let i=yield h2(n.localStore,e);nS(n,r,null),tS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield th(n,i)}catch(i){yield bC(i)}})}function C2(t,e,n){return _(this,null,function*(){let r=be(t);try{let i=yield function(o,c){let u=be(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(g=>(Oe(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(r.localStore,e);nS(r,e,n),tS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield th(r,i)}catch(i){yield bC(i)}})}function tS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function nS(t,e,n){let r=be(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function th(t,e,n){return _(this,null,function*(){let r=be(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){let g=d?!d.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=hv.Wi(u.targetId,d);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,d){return _(this,null,function*(){let f=be(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>P.forEach(d,I=>P.forEach(I.$i,w=>f.persistence.referenceDelegate.addReference(g,I.targetId,w)).next(()=>P.forEach(I.Ui,w=>f.persistence.referenceDelegate.removeReference(g,I.targetId,w)))))}catch(g){if(!Jd(g))throw g;H("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let I=g.targetId;if(!g.fromCache){let w=f.os.get(I),A=w.snapshotVersion,N=w.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(I,N)}}})}(r.localStore,s))})}function S2(t,e){return _(this,null,function*(){let n=be(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());let r=yield QC(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new G(M.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield th(n,r.hs)}})}function A2(t){let e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C2.bind(null,e),e}var _C=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=Zd(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return d2(this.persistence,new pv,n.initialUser,this.serializer)}Ga(n){return new uv(dv.Zr,this.serializer)}Wa(n){return new mv}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var R2=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>vC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=S2.bind(null,this.syncEngine),yield E2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Cv}()}createDatastore(n){let r=Zd(n.databaseInfo.databaseId),i=function(o){return new _v(o)}(n.databaseInfo);return function(o,c,u,d){return new Ev(o,c,u,d)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,c,u){return new bv(i,s,o,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>vC(this.syncEngine,r,0),function(){return jd.D()?new jd:new yv}())}createSyncEngine(n,r){return function(s,o,c,u,d,f,g){let I=new Sv(s,o,c,u,d,f);return g&&(I.Qa=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(s){return _(this,null,function*(){let o=be(s);H("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield lc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Av=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=Md.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>_(this,null,function*(){H("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(H("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Xn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=eS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function my(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield QC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function IC(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield N2(t);H("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>pC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>pC(e.remoteStore,i)),t._onlineComponents=e})}function N2(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{yield my(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Rd("Error using user provided cache. Falling back to memory cache: "+n),yield my(t,new _C)}}else H("FirestoreClient","Using default OfflineComponentProvider"),yield my(t,new _C);return t._offlineComponents})}function M2(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),yield IC(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),yield IC(t,new R2))),t._onlineComponents})}function x2(t){return M2(t).then(e=>e.syncEngine)}function rS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var wC=new Map;function iS(t,e,n){if(!n)throw new G(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function P2(t,e,n,r){if(e===!0&&r===!0)throw new G(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function EC(t){if(!re.isDocumentKey(t))throw new G(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DC(t){if(re.isDocumentKey(t))throw new G(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de()}function sS(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Bv(t);throw new G(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var $d=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},uo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $d({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $d(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yy;switch(r.type){case"firstParty":return new wy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=wC.get(n);r&&(H("ComponentProvider","Removing Datastore"),wC.delete(n),r.terminate())}(this),Promise.resolve()}};function oS(t,e,n,r={}){var i;let s=(t=sS(t,uo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Rd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Qe.MOCK_USER;else{c=T0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new G(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qe(d)}t._authCredentials=new vy(new Nd(c,u))}}var Rv=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},er=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Br=class t extends Rv{constructor(e,n,r){super(e,n,kj(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new re(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function aS(t,e,...n){if(t=ft(t),iS("collection","path",e),t instanceof uo){let r=Be.fromString(e,...n);return DC(r),new Br(t,null,r)}{if(!(t instanceof er||t instanceof Br))throw new G(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Be.fromString(e,...n));return DC(r),new Br(t.firestore,null,r)}}function cS(t,e,...n){if(t=ft(t),arguments.length===1&&(e=Md.newId()),iS("doc","path",e),t instanceof uo){let r=Be.fromString(e,...n);return EC(r),new er(t,null,new re(r))}{if(!(t instanceof er||t instanceof Br))throw new G(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Be.fromString(e,...n));return EC(r),new er(t.firestore,t instanceof Br?t.converter:null,new re(r))}}var Hd=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Bd(this,"async_queue_retry"),this.Vu=()=>{let r=gy();r&&H("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=gy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=gy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Xn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return _(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Jd(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Mi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Tv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&de()}verifyOperationInProgress(){}wu(){return _(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var qd=class extends uo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Hd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Hd(e),this._firestoreClient=void 0,yield e}})}};function uS(t,e){let n=typeof t=="object"?t:js(),r=typeof t=="string"?t:e||"(default)",i=Ba(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=b0("firestore");s&&oS(i,...s)}return i}function O2(t){if(t._terminated)throw new G(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||k2(t),t._firestoreClient}function k2(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,d,f){return new Sy(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,rS(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Av(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var zd=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(tr.fromBase64String(e))}catch(n){throw new G(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Gd=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Wd=class{constructor(e){this._methodName=e}};var Kd=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}};var Qd=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var F2=/^__.*__$/,Nv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new nr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ki(e,this.data,n,this.fieldTransforms)}};function lS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}var Mv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Yd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(lS(this.Cu)&&F2.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},xv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zd(e)}Qu(e,n,r,i=!1){return new Mv({Cu:e,methodName:n,qu:r,path:Pt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function L2(t){let e=t._freezeSettings(),n=Zd(t._databaseId);return new xv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function V2(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);pS("Data must be an object, but it was:",o,r);let c=hS(r,o),u,d;if(s.merge)u=new In(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let g of s.mergeFields){let I=U2(e,g,n);if(!o.contains(I))throw new G(M.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);$2(f,I)||f.push(I)}u=new In(f),d=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=o.fieldTransforms;return new Nv(new _n(c),u,d)}function dS(t,e){if(fS(t=ft(t)))return pS("Unsupported field value:",e,t),hS(t,e);if(t instanceof Wd)return function(r,i){if(!lS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=dS(c,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=at.fromDate(r);return{timestampValue:Wy(i.serializer,s)}}if(r instanceof at){let s=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wy(i.serializer,s)}}if(r instanceof Kd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zd)return{bytesValue:Xj(i.serializer,r._byteString)};if(r instanceof er){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:WC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Qd)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return jv(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Bv(r)}`)}(t,e)}function hS(t,e){let n={};return TC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uc(t,(r,i)=>{let s=dS(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function fS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Kd||t instanceof zd||t instanceof er||t instanceof Wd||t instanceof Qd)}function pS(t,e,n){if(!fS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Bv(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function U2(t,e,n){if((e=ft(e))instanceof Gd)return e._internalPath;if(typeof e=="string")return B2(t,e);throw Yd("Field path arguments must be of type string or ",t,!1,void 0,n)}var j2=new RegExp("[~\\*/\\[\\]]");function B2(t,e,n){if(e.search(j2)>=0)throw Yd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gd(...e.split("."))._internalPath}catch{throw Yd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yd(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new G(M.INVALID_ARGUMENT,c+t+u)}function $2(t,e){return t.some(n=>n.isEqual(e))}function H2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function gS(t,e){let n=sS(t.firestore,qd),r=cS(t),i=H2(t.converter,e);return q2(n,[V2(L2(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ri.exists(!1))]).then(()=>r)}function q2(t,e){return function(r,i){let s=new Xn;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return b2(yield x2(r),i,s)})),s.promise}(O2(t),e)}(function(e,n=!0){(function(i){lo=i})(Vr),Lr(new Ht("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new qd(new _y(r.getProvider("auth-internal")),new Dy(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new G(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ay(d.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Ge(tC,"4.7.3",e),Ge(tC,"4.7.3","esm2017")})();var rr=class{constructor(e){return e}},mS="firestore",$v=class{constructor(){return $a(mS)}};var Hv=new U("angularfire2.firestore-instances");function z2(t,e){let n=nd(mS,t,e);return n&&new rr(n)}function G2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new rr(r)}}var W2={provide:$v,deps:[[new vt,Hv]]},K2={provide:rr,useFactory:z2,deps:[[new vt,Hv],zn]};function yS(t,...e){return Ge("angularfire",wi.full,"fst"),Ut([K2,W2,{provide:Hv,useFactory:G2(t),multi:!0,deps:[ve,yt,Hs,Ei,[new vt,Ja],[new vt,$s],...e]}])}var vS=tn(gS,!0);var _S=tn(aS,!0);var IS=tn(uS,!0);var ho=class t{constructor(e){this.http=e}spaceUrl="https://clinic-profile-images.nyc3.digitaloceanspaces.com/";uploadImage(e){let n=new Zt({"Content-Type":e.type,"x-amz-acl":"public-read"});return new Promise((r,i)=>{this.http.put(`${this.spaceUrl}${e.name}`,e,{headers:n}).subscribe({next:()=>{r(`${this.spaceUrl}${e.name}`)},error:s=>{console.error("Error al subir la imagen",s),i(`Error al subir la imagen: ${s.message||s}`)}})})}static \u0275fac=function(n){return new(n||t)(K(Wp))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};function Y2(t,e){if(t&1){let n=ui();L(0,"div",4)(1,"div",5),ze("click",function(){Tr(n);let i=wt();return Cr(i.selectType("paciente"))}),L(2,"h5",6),j(3,"Paciente"),O()(),L(4,"div",7),ze("click",function(){Tr(n);let i=wt();return Cr(i.selectType("especialista"))}),L(5,"h5",6),j(6,"Especialista"),O()()()}}function J2(t,e){t&1&&(L(0,"div",24),j(1," El nombre es requerido y solo puede contener letras. "),O())}function Z2(t,e){t&1&&(L(0,"div",24),j(1," El apellido es requerido y solo puede contener letras. "),O())}function X2(t,e){t&1&&(L(0,"div",24),j(1," La edad es requerida y debe ser un n\xFAmero positivo. "),O())}function eB(t,e){t&1&&(L(0,"div",24),j(1," El DNI es requerido y debe tener 10 d\xEDgitos. "),O())}function tB(t,e){t&1&&(L(0,"div",24),j(1," La obra social es requerida. "),O())}function nB(t,e){if(t&1&&(L(0,"div",9)(1,"label",29),j(2,"Obra Social"),O(),Re(3,"input",30),qe(4,tB,2,0,"div",12),O()),t&2){let n,r=wt(2);me(4),ye("ngIf",((n=r.registerForm.get("obraSocial"))==null?null:n.invalid)&&((n=r.registerForm.get("obraSocial"))==null?null:n.touched))}}function rB(t,e){t&1&&(L(0,"div",24),j(1," La especialidad es requerida. "),O())}function iB(t,e){t&1&&Re(0,"input",39)}function sB(t,e){t&1&&(L(0,"div",24),j(1," La especialidad es requerida y solo puede contener letras. "),O())}function oB(t,e){if(t&1){let n=ui();L(0,"div",9)(1,"label",31),j(2,"Especialidad"),O(),L(3,"select",32),ze("change",function(i){Tr(n);let s=wt(2);return Cr(s.onEspecialidadChange(i))}),L(4,"option",33),j(5,"Selecciona una especialidad"),O(),L(6,"option",34),j(7,"Medicina"),O(),L(8,"option",35),j(9,"Odontolog\xEDa"),O(),L(10,"option",36),j(11,"Psicolog\xEDa"),O(),L(12,"option",37),j(13,"Otra"),O()(),qe(14,rB,2,0,"div",12)(15,iB,1,0,"input",38)(16,sB,2,0,"div",12),O()}if(t&2){let n,r,i,s=wt(2);me(14),ye("ngIf",((n=s.registerForm.get("especialidad"))==null?null:n.invalid)&&((n=s.registerForm.get("especialidad"))==null?null:n.touched)),me(),ye("ngIf",((r=s.registerForm.get("especialidad"))==null?null:r.value)==="otra"),me(),ye("ngIf",((i=s.registerForm.get("nuevaEspecialidad"))==null?null:i.invalid)&&((i=s.registerForm.get("nuevaEspecialidad"))==null?null:i.touched))}}function aB(t,e){t&1&&(L(0,"div",24),j(1," Por favor, ingresa un correo v\xE1lido. "),O())}function cB(t,e){t&1&&(L(0,"div",24),j(1," La contrase\xF1a es requerida y debe tener al menos 6 caracteres. "),O())}function uB(t,e){if(t&1){let n=ui();L(0,"div",9)(1,"label",40),j(2,"Imagen de Perfil 1"),O(),L(3,"input",41),ze("change",function(i){Tr(n);let s=wt(2);return Cr(s.onFileChange(i,"perfil1"))}),O()()}}function lB(t,e){if(t&1){let n=ui();L(0,"div",9)(1,"label",42),j(2,"Imagen de Perfil 2"),O(),L(3,"input",43),ze("change",function(i){Tr(n);let s=wt(2);return Cr(s.onFileChange(i,"perfil2"))}),O()()}}function dB(t,e){if(t&1){let n=ui();L(0,"div",9)(1,"label",44),j(2,"Imagen de Perfil"),O(),L(3,"input",45),ze("change",function(i){Tr(n);let s=wt(2);return Cr(s.onFileChange(i,"perfil1"))}),O()()}}function hB(t,e){t&1&&(L(0,"div"),j(1," Debes cargar ambas im\xE1genes de perfil. "),O())}function fB(t,e){t&1&&(L(0,"div"),j(1," Debes cargar la imagen de perfil. "),O())}function pB(t,e){t&1&&(L(0,"div",46)(1,"div",47)(2,"span",48),j(3,"Cargando..."),O()()())}function gB(t,e){if(t&1&&(L(0,"div",49),j(1),O()),t&2){let n=wt(2);me(),Is(" ",n.errorMessage," ")}}function mB(t,e){if(t&1){let n=ui();L(0,"form",8),ze("ngSubmit",function(){Tr(n);let i=wt();return Cr(i.onSubmit())}),L(1,"div",9)(2,"label",10),j(3,"Nombre"),O(),Re(4,"input",11),qe(5,J2,2,0,"div",12),O(),L(6,"div",9)(7,"label",13),j(8,"Apellido"),O(),Re(9,"input",14),qe(10,Z2,2,0,"div",12),O(),L(11,"div",9)(12,"label",15),j(13,"Edad"),O(),Re(14,"input",16),qe(15,X2,2,0,"div",12),O(),L(16,"div",9)(17,"label",17),j(18,"DNI"),O(),Re(19,"input",18),qe(20,eB,2,0,"div",12),O(),qe(21,nB,5,1,"div",19)(22,oB,17,3,"div",19),L(23,"div",9)(24,"label",20),j(25,"Mail"),O(),Re(26,"input",21),qe(27,aB,2,0,"div",12),O(),L(28,"div",9)(29,"label",22),j(30,"Contrase\xF1a"),O(),Re(31,"input",23),qe(32,cB,2,0,"div",12),O(),qe(33,uB,4,0,"div",19)(34,lB,4,0,"div",19)(35,dB,4,0,"div",19),L(36,"div",24),qe(37,hB,2,0,"div",25)(38,fB,2,0,"div",25),O(),L(39,"button",26),j(40," Registrar "),O(),qe(41,pB,4,0,"div",27)(42,gB,2,1,"div",28),O()}if(t&2){let n,r,i,s,o,c,u=wt();ye("formGroup",u.registerForm),me(5),ye("ngIf",((n=u.registerForm.get("nombre"))==null?null:n.invalid)&&((n=u.registerForm.get("nombre"))==null?null:n.touched)),me(5),ye("ngIf",((r=u.registerForm.get("apellido"))==null?null:r.invalid)&&((r=u.registerForm.get("apellido"))==null?null:r.touched)),me(5),ye("ngIf",((i=u.registerForm.get("edad"))==null?null:i.invalid)&&((i=u.registerForm.get("edad"))==null?null:i.touched)),me(5),ye("ngIf",((s=u.registerForm.get("dni"))==null?null:s.invalid)&&((s=u.registerForm.get("dni"))==null?null:s.touched)),me(),ye("ngIf",!u.isSpecialist),me(),ye("ngIf",u.isSpecialist),me(5),ye("ngIf",((o=u.registerForm.get("email"))==null?null:o.invalid)&&((o=u.registerForm.get("email"))==null?null:o.touched)),me(5),ye("ngIf",((c=u.registerForm.get("password"))==null?null:c.invalid)&&((c=u.registerForm.get("password"))==null?null:c.touched)),me(),ye("ngIf",!u.isSpecialist),me(),ye("ngIf",!u.isSpecialist),me(),ye("ngIf",u.isSpecialist),me(2),ye("ngIf",!u.perfil1Loaded&&!u.perfil2Loaded&&!u.isSpecialist),me(),ye("ngIf",!u.perfil1Loaded&&u.isSpecialist),me(),ye("disabled",u.registerForm.invalid||!u.isSpecialist&&(!u.perfil1Loaded||!u.perfil2Loaded)||u.isSpecialist&&!u.perfil1Loaded),me(2),ye("ngIf",u.loading),me(),ye("ngIf",u.errorMessage)}}var nh=class t{constructor(e,n,r,i,s){this.fb=e;this.auth=n;this.firestore=r;this.router=i;this.imagesService=s;this.registerForm=this.fb.group({nombre:["",[Ie.required,Ie.pattern(/^[a-zA-Z\s]*$/)]],apellido:["",[Ie.required,Ie.pattern(/^[a-zA-Z\s]*$/)]],edad:["",[Ie.required,Ie.min(0)]],dni:["",[Ie.required,Ie.pattern(/^\d{8}$/)]],obraSocial:["",[Ie.required,Ie.pattern(/^[a-zA-Z\s]*$/)]],email:["",[Ie.required,Ie.email]],password:["",[Ie.required,Ie.minLength(6)]],perfil1:[null],perfil2:[null],especialidad:["",[Ie.required,Ie.pattern(/^[a-zA-Z\s]*$/)]],nuevaEspecialidad:[""]})}registerForm;isSpecialist=!1;selectedType="";title="Seleccione un tipo de usuario";perfil1Loaded=!1;perfil2Loaded=!1;errorMessage="";loading=!1;onFileChange(e,n){let r=e.target.files[0];r&&(this.registerForm.patchValue({[n]:r}),n==="perfil1"?this.perfil1Loaded=!0:n==="perfil2"&&(this.perfil2Loaded=!0))}resetImages(){this.perfil1Loaded=!1,this.perfil2Loaded=!1}selectType(e){this.title="Registro de "+e,this.selectedType=e,this.isSpecialist=e==="especialista",this.updateValidators()}onEspecialidadChange(e){let n=e.target.value,r=this.registerForm.get("nuevaEspecialidad");n==="otra"?r?.setValidators([Ie.required,Ie.pattern(/^[a-zA-Z\s]*$/)]):(r?.clearValidators(),r?.setValue("")),r?.updateValueAndValidity()}updateValidators(){let e=this.registerForm.get("obraSocial"),n=this.registerForm.get("especialidad");this.isSpecialist?(e?.clearValidators(),e?.setValue(""),n?.setValidators([Ie.required])):(n?.clearValidators(),n?.setValue(""),e?.setValidators([Ie.required])),e?.updateValueAndValidity(),n?.updateValueAndValidity()}onSubmit(){this.registerForm.valid&&(this.loading=!0,WT(this.auth,this.registerForm.value.email,this.registerForm.value.password).then(e=>_(this,null,function*(){let n=e.user;console.log("Usuario creado",n);try{yield QT(n),console.log("Email de verificaci\xF3n enviado")}catch(r){console.error("Error al enviar email de verificaci\xF3n",r)}this.logUser(),this.router.navigate(["/home"])})).catch(e=>{switch(e.code){case"auth/email-already-in-use":this.errorMessage="El email ya est\xE1 en uso";break;case"auth/invalid-email":this.errorMessage="El email no es v\xE1lido";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a tiene que tener al menos 6 caracteres";break;default:this.errorMessage="Error al registrar el usuario";break}this.loading=!1}).finally(()=>{this.loading=!1}))}logUser(){return _(this,null,function*(){let e=_S(this.firestore,"users"),n={nombre:this.registerForm.value.nombre,apellido:this.registerForm.value.apellido,edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,email:this.registerForm.value.email,perfil1:yield this.imagesService.uploadImage(this.registerForm.value.perfil1)};this.isSpecialist?n.especialidad=this.registerForm.value.especialidad:(n.obraSocial=this.registerForm.value.obraSocial,n.perfil2=yield this.imagesService.uploadImage(this.registerForm.value.perfil2));try{yield vS(e,n),console.log("Usuario registrado en Firestore:",n)}catch(r){console.error("Error al registrar el usuario en Firestore:",r)}})}static \u0275fac=function(n){return new(n||t)(J(Kl),J(Jn),J(rr),J(Ca),J(ho))};static \u0275cmp=_t({type:t,selectors:[["app-register"]],standalone:!0,features:[fn([ho]),Et],decls:5,vars:3,consts:[[1,"container","mt-5"],[1,"text-center"],["class","d-flex justify-content-center mb-4",4,"ngIf"],["class","container-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"d-flex","justify-content-center","mb-4"],[1,"card","p-5","mx-2","option-card","bg-primary","text-white",3,"click"],[1,"text-center","option-title"],[1,"card","p-5","mx-2","option-card","bg-light",3,"click"],[1,"container-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","required","",1,"form-control"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","required","",1,"form-control"],["class","mb-3",4,"ngIf"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","required","",1,"form-control"],[1,"text-danger"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["for","obraSocial",1,"form-label"],["type","text","id","obraSocial","formControlName","obraSocial","required","",1,"form-control"],["for","especialidad",1,"form-label"],["id","especialidad","formControlName","especialidad","required","",1,"form-select",3,"change"],["value",""],["value","medicina"],["value","odontologia"],["value","psicologia"],["value","otra"],["type","text","class","form-control mt-2","placeholder","Agregar nueva especialidad","formControlName","nuevaEspecialidad",4,"ngIf"],["type","text","placeholder","Agregar nueva especialidad","formControlName","nuevaEspecialidad",1,"form-control","mt-2"],["for","perfil1",1,"form-label"],["type","file","id","perfil1","accept","image/*","required","",1,"form-control",3,"change"],["for","perfil2",1,"form-label"],["type","file","id","perfil2","accept","image/*","required","",1,"form-control",3,"change"],["for","perfil",1,"form-label"],["type","file","id","perfil","accept","image/*","required","",1,"form-control",3,"change"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(n,r){n&1&&(L(0,"div",0)(1,"h2",1),j(2),O(),qe(3,Y2,7,0,"div",2)(4,mB,43,17,"form",3),O()),n&2&&(me(2),Is(" ",r.title,""),me(),ye("ngIf",!r.selectedType),me(),ye("ngIf",r.selectedType))},dependencies:[Ql,Gl,y0,_0,Ls,Jg,Wl,Hl,ql,Fa,Oa,ka,al,Bp,KD],styles:[".option-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s;border-radius:10px;width:40vw;height:40vh;display:flex;justify-content:center;align-items:center;text-align:center}.option-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.option-title[_ngcontent-%COMP%]{font-size:2vw;font-weight:700}h2[_ngcontent-%COMP%]{font-size:2.5vw;font-weight:700;margin-bottom:20px}.container-form[_ngcontent-%COMP%]{background-color:#fff;padding:30px;margin-bottom:20px}"]})};function yB(t,e){t&1&&(L(0,"div",11),j(1," Por favor, ingresa un correo v\xE1lido. "),O())}function vB(t,e){t&1&&(L(0,"div",11),j(1," La contrase\xF1a es requerida. "),O())}function _B(t,e){if(t&1&&(L(0,"div",12),j(1),O()),t&2){let n=wt();me(),Is(" ",n.errorMessage," ")}}var rh=class t{constructor(e,n,r){this.fb=e;this.firestore=n;this.auth=r;this.loginForm=this.fb.group({email:["",[Ie.required,Ie.email]],password:["",[Ie.required,Ie.minLength(6)]]})}loginForm;errorMessage=null;onSubmit(){return _(this,null,function*(){if(this.loginForm.valid){let{email:e,password:n}=this.loginForm.value;try{let i=(yield YT(this.auth,e,n)).user;if(!i.emailVerified){this.errorMessage="Por favor, verifica tu correo electr\xF3nico antes de iniciar sesi\xF3n.";return}console.log("Inicio de sesi\xF3n exitoso",i),this.errorMessage=null}catch(r){console.error("Error al iniciar sesi\xF3n",r),this.errorMessage="Email y/o contrase\xF1a incorrecto."}}})}static \u0275fac=function(n){return new(n||t)(J(Kl),J(rr),J(Jn))};static \u0275cmp=_t({type:t,selectors:[["app-login"]],standalone:!0,features:[Et],decls:17,vars:5,consts:[[1,"container","mt-5"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","autocomplete","email","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","autocomplete","current-password","required","",1,"form-control"],["class","text-danger mb-3",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"text-danger"],[1,"text-danger","mb-3"]],template:function(n,r){if(n&1&&(L(0,"div",0)(1,"h2",1),j(2,"Iniciar Sesi\xF3n"),O(),L(3,"form",2),ze("ngSubmit",function(){return r.onSubmit()}),L(4,"div",3)(5,"label",4),j(6,"Correo Electr\xF3nico"),O(),Re(7,"input",5),qe(8,yB,2,0,"div",6),O(),L(9,"div",3)(10,"label",7),j(11,"Contrase\xF1a"),O(),Re(12,"input",8),qe(13,vB,2,0,"div",6),O(),qe(14,_B,2,1,"div",9),L(15,"button",10),j(16,"Iniciar Sesi\xF3n"),O()()()),n&2){let i,s;me(3),ye("formGroup",r.loginForm),me(5),ye("ngIf",((i=r.loginForm.get("email"))==null?null:i.invalid)&&((i=r.loginForm.get("email"))==null?null:i.touched)),me(5),ye("ngIf",((s=r.loginForm.get("password"))==null?null:s.invalid)&&((s=r.loginForm.get("password"))==null?null:s.touched)),me(),ye("ngIf",r.errorMessage),me(),ye("disabled",r.loginForm.invalid)}},dependencies:[Ql,Gl,Ls,Hl,ql,Fa,Oa,ka,al],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#f0f2f5}.container[_ngcontent-%COMP%]{max-width:30vw;padding:70px;border:1px solid #ced4da;border-radius:10px;background-color:#f8f9fa;box-shadow:0 4px 8px #0000001a;margin-top:100px!important}h2[_ngcontent-%COMP%]{font-size:2rem;color:#333}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;border-color:#0056b3}.text-danger[_ngcontent-%COMP%]{font-size:.875rem}"]})};var ES=[{path:"home",title:"Home",component:Ml},{path:"",redirectTo:"home",pathMatch:"full"},{path:"register",title:"Register",component:nh},{path:"login",title:"Login",component:rh}];var DS={providers:[ED({eventCoalescing:!0}),jb(ES),Q0(()=>Y0({projectId:"clinica-online-9aa96",appId:"1:439052174571:web:1456e09cacc106cf1eaaae",storageBucket:"clinica-online-9aa96.appspot.com",apiKey:"AIzaSyDrTHnOp6JR1tvhpz6Hqs-9BhY1HCwesRY",authDomain:"clinica-online-9aa96.firebaseapp.com",messagingSenderId:"439052174571"})),GT(()=>KT()),yS(()=>IS())]};var ih=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=_t({type:t,selectors:[["app-navbar"]],standalone:!0,features:[Et],decls:39,vars:0,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","home",1,"nav-link","active"],["routerLink","login",1,"nav-link"],["routerLink","register",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu"],["href","#",1,"dropdown-item"],[1,"dropdown-divider"],["aria-disabled","true",1,"nav-link","disabled"],["role","search",1,"d-flex"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"btn","btn-outline-success"]],template:function(n,r){n&1&&(L(0,"nav",0)(1,"div",1)(2,"a",2),j(3,"Navbar"),O(),L(4,"button",3),Re(5,"span",4),O(),L(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),j(10,"Inicio"),O()(),L(11,"li",7)(12,"a",9),j(13,"Iniciar Sesi\xF3n"),O()(),L(14,"li",7)(15,"a",10),j(16,"Registrarse"),O()(),L(17,"li",11)(18,"a",12),j(19," Dropdown "),O(),L(20,"ul",13)(21,"li")(22,"a",14),j(23,"Action"),O()(),L(24,"li")(25,"a",14),j(26,"Another action"),O()(),L(27,"li"),Re(28,"hr",15),O(),L(29,"li")(30,"a",14),j(31,"Something else here"),O()()()(),L(32,"li",7)(33,"a",16),j(34,"Disabled"),O()()(),L(35,"form",17),Re(36,"input",18),L(37,"button",19),j(38,"Search"),O()()()()())},dependencies:[Ub]})};var sh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=_t({type:t,selectors:[["app-footer"]],standalone:!0,features:[Et],decls:14,vars:0,consts:[[1,"nav","justify-content-center","flex-wrap"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active"],["href","#",1,"nav-link"],["aria-disabled","true",1,"nav-link","disabled"]],template:function(n,r){n&1&&(L(0,"footer")(1,"ul",0)(2,"li",1)(3,"a",2),j(4,"Active"),O()(),L(5,"li",1)(6,"a",3),j(7,"Link"),O()(),L(8,"li",1)(9,"a",3),j(10,"Link"),O()(),L(11,"li",1)(12,"a",4),j(13,"Disabled"),O()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;text-align:center;position:relative;bottom:0;width:100%}.nav[_ngcontent-%COMP%]{flex-wrap:wrap}.nav-link[_ngcontent-%COMP%]{margin:5px}"]})};var oh=class t{title="clinica-online";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=_t({type:t,selectors:[["app-root"]],standalone:!0,features:[Et],decls:4,vars:0,consts:[[1,"app-container"]],template:function(n,r){n&1&&(Re(0,"app-navbar"),L(1,"div",0),Re(2,"router-outlet"),O(),Re(3,"app-footer"))},dependencies:[kg,ih,sh],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}.app-container[_ngcontent-%COMP%]{min-height:calc(100vh - 152px);display:flex;flex-direction:column;background:url("./media/fondo-clinica-RSVOCLWJ.jpg") no-repeat center center;background-size:cover}app-footer[_ngcontent-%COMP%]{flex-shrink:0}']})};nb(oh,DS).catch(t=>console.error(t));
