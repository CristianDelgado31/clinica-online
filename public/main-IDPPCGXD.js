var EH=Object.create;var B1=Object.defineProperty,bH=Object.defineProperties,CH=Object.getOwnPropertyDescriptor,SH=Object.getOwnPropertyDescriptors,TH=Object.getOwnPropertyNames,Qg=Object.getOwnPropertySymbols,FR=Object.getPrototypeOf,V1=Object.prototype.hasOwnProperty,LR=Object.prototype.propertyIsEnumerable,IH=Reflect.get;var L1=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t);var OR=(t,e,n)=>e in t?B1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,G=(t,e)=>{for(var n in e||={})V1.call(e,n)&&OR(t,n,e[n]);if(Qg)for(var n of Qg(e))LR.call(e,n)&&OR(t,n,e[n]);return t},he=(t,e)=>bH(t,SH(e));var du=(t,e)=>{var n={};for(var r in t)V1.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Qg)for(var r of Qg(t))e.indexOf(r)<0&&LR.call(t,r)&&(n[r]=t[r]);return n};var Xi=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var AH=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of TH(e))!V1.call(t,i)&&i!==n&&B1(t,i,{get:()=>e[i],enumerable:!(r=CH(e,i))||r.enumerable});return t};var fu=(t,e,n)=>(n=t!=null?EH(FR(t)):{},AH(e||!t||!t.__esModule?B1(n,"default",{value:t,enumerable:!0}):n,t));var Go=(t,e,n)=>IH(FR(t),n,e);var C=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(l){i(l)}},o=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())}),lr=function(t,e){this[0]=t,this[1]=e},Yi=(t,e,n)=>{var r=(o,a,c,l)=>{try{var u=n[o](a),f=(a=u.value)instanceof lr,h=u.done;Promise.resolve(f?a[0]:a).then(m=>f?r(o==="return"?o:"next",a[1]?{done:m.done,value:m.value}:m,c,l):c({value:m,done:h})).catch(m=>r("throw",m,c,l))}catch(m){l(m)}},i=o=>s[o]=a=>new Promise((c,l)=>r(o,a,c,l)),s={};return n=n.apply(t,e),s[L1("asyncIterator")]=()=>s,i("next"),i("throw"),i("return"),s};var Fa=(t,e,n)=>(e=t[L1("asyncIterator")])?e.call(t):(t=t[L1("iterator")](),e={},n=(r,i)=>(i=t[r])&&(e[r]=s=>new Promise((o,a,c)=>(s=i.call(t,s),c=s.done,Promise.resolve(s.value).then(l=>o({value:l,done:c}),a)))),n("next"),n("return"),e);var D0=Xi((ya,kD)=>{"use strict";(function(t,e){typeof ya=="object"&&typeof kD<"u"?kD.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(ya,function(){"use strict";function t(p,g,b){if(typeof p=="function"?p===g:p.has(g))return arguments.length<3?g:b;throw new TypeError("Private element is not present on this object")}function e(p,g){if(g.has(p))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(p,g){return p.get(t(p,g))}function r(p,g,b){e(p,g),g.set(p,b)}function i(p,g,b){return p.set(t(p,g),b),b}let s=100,o={},a=()=>{o.previousActiveElement instanceof HTMLElement?(o.previousActiveElement.focus(),o.previousActiveElement=null):document.body&&document.body.focus()},c=p=>new Promise(g=>{if(!p)return g();let b=window.scrollX,U=window.scrollY;o.restoreFocusTimeout=setTimeout(()=>{a(),g()},s),window.scrollTo(b,U)}),l="swal2-",f=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((p,g)=>(p[g]=l+g,p),{}),m=["success","warning","info","question","error"].reduce((p,g)=>(p[g]=l+g,p),{}),y="SweetAlert2:",_=p=>p.charAt(0).toUpperCase()+p.slice(1),x=p=>{console.warn(`${y} ${typeof p=="object"?p.join(" "):p}`)},M=p=>{console.error(`${y} ${p}`)},H=[],K=p=>{H.includes(p)||(H.push(p),x(p))},Q=function(p){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;K(`"${p}" is deprecated and will be removed in the next major release.${g?` Use "${g}" instead.`:""}`)},ae=p=>typeof p=="function"?p():p,fe=p=>p&&typeof p.toPromise=="function",D=p=>fe(p)?p.toPromise():Promise.resolve(p),A=p=>p&&Promise.resolve(p)===p,T=()=>document.body.querySelector(`.${f.container}`),P=p=>{let g=T();return g?g.querySelector(p):null},L=p=>P(`.${p}`),B=()=>L(f.popup),V=()=>L(f.icon),vt=()=>L(f["icon-content"]),Ge=()=>L(f.title),Rn=()=>L(f["html-container"]),hn=()=>L(f.image),Pn=()=>L(f["progress-steps"]),Mn=()=>L(f["validation-message"]),Wt=()=>P(`.${f.actions} .${f.confirm}`),Bn=()=>P(`.${f.actions} .${f.cancel}`),X=()=>P(`.${f.actions} .${f.deny}`),le=()=>L(f["input-label"]),Z=()=>P(`.${f.loader}`),Y=()=>L(f.actions),xe=()=>L(f.footer),Fe=()=>L(f["timer-progress-bar"]),Qe=()=>L(f.close),He=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ae=()=>{let p=B();if(!p)return[];let g=p.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),b=Array.from(g).sort((Le,xt)=>{let en=parseInt(Le.getAttribute("tabindex")||"0"),Un=parseInt(xt.getAttribute("tabindex")||"0");return en>Un?1:en<Un?-1:0}),U=p.querySelectorAll(He),oe=Array.from(U).filter(Le=>Le.getAttribute("tabindex")!=="-1");return[...new Set(b.concat(oe))].filter(Le=>or(Le))},kt=()=>Tn(document.body,f.shown)&&!Tn(document.body,f["toast-shown"])&&!Tn(document.body,f["no-backdrop"]),pt=()=>{let p=B();return p?Tn(p,f.toast):!1},Vn=()=>{let p=B();return p?p.hasAttribute("data-loading"):!1},rt=(p,g)=>{if(p.textContent="",g){let U=new DOMParser().parseFromString(g,"text/html"),oe=U.querySelector("head");oe&&Array.from(oe.childNodes).forEach(xt=>{p.appendChild(xt)});let Le=U.querySelector("body");Le&&Array.from(Le.childNodes).forEach(xt=>{xt instanceof HTMLVideoElement||xt instanceof HTMLAudioElement?p.appendChild(xt.cloneNode(!0)):p.appendChild(xt)})}},Tn=(p,g)=>{if(!g)return!1;let b=g.split(/\s+/);for(let U=0;U<b.length;U++)if(!p.classList.contains(b[U]))return!1;return!0},pn=(p,g)=>{Array.from(p.classList).forEach(b=>{!Object.values(f).includes(b)&&!Object.values(m).includes(b)&&!Object.values(g.showClass||{}).includes(b)&&p.classList.remove(b)})},Oe=(p,g,b)=>{if(pn(p,g),!g.customClass)return;let U=g.customClass[b];if(U){if(typeof U!="string"&&!U.forEach){x(`Invalid type of customClass.${b}! Expected string or iterable object, got "${typeof U}"`);return}mt(p,U)}},Cr=(p,g)=>{if(!g)return null;switch(g){case"select":case"textarea":case"file":return p.querySelector(`.${f.popup} > .${f[g]}`);case"checkbox":return p.querySelector(`.${f.popup} > .${f.checkbox} input`);case"radio":return p.querySelector(`.${f.popup} > .${f.radio} input:checked`)||p.querySelector(`.${f.popup} > .${f.radio} input:first-child`);case"range":return p.querySelector(`.${f.popup} > .${f.range} input`);default:return p.querySelector(`.${f.popup} > .${f.input}`)}},Ai=p=>{if(p.focus(),p.type!=="file"){let g=p.value;p.value="",p.value=g}},cs=(p,g,b)=>{!p||!g||(typeof g=="string"&&(g=g.split(/\s+/).filter(Boolean)),g.forEach(U=>{Array.isArray(p)?p.forEach(oe=>{b?oe.classList.add(U):oe.classList.remove(U)}):b?p.classList.add(U):p.classList.remove(U)}))},mt=(p,g)=>{cs(p,g,!0)},fi=(p,g)=>{cs(p,g,!1)},zi=(p,g)=>{let b=Array.from(p.children);for(let U=0;U<b.length;U++){let oe=b[U];if(oe instanceof HTMLElement&&Tn(oe,g))return oe}},Hn=(p,g,b)=>{b===`${parseInt(b)}`&&(b=parseInt(b)),b||parseInt(b)===0?p.style.setProperty(g,typeof b=="number"?`${b}px`:b):p.style.removeProperty(g)},mn=function(p){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";p&&(p.style.display=g)},Nn=p=>{p&&(p.style.display="none")},On=function(p){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";p&&new MutationObserver(()=>{Ls(p,p.innerHTML,g)}).observe(p,{childList:!0,subtree:!0})},wn=(p,g,b,U)=>{let oe=p.querySelector(g);oe&&oe.style.setProperty(b,U)},Ls=function(p,g){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";g?mn(p,b):Nn(p)},or=p=>!!(p&&(p.offsetWidth||p.offsetHeight||p.getClientRects().length)),Xl=()=>!or(Wt())&&!or(X())&&!or(Bn()),Yl=p=>p.scrollHeight>p.clientHeight,co=p=>{let g=window.getComputedStyle(p),b=parseFloat(g.getPropertyValue("animation-duration")||"0"),U=parseFloat(g.getPropertyValue("transition-duration")||"0");return b>0||U>0},ka=function(p){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=Fe();b&&or(b)&&(g&&(b.style.transition="none",b.style.width="100%"),setTimeout(()=>{b.style.transition=`width ${p/1e3}s linear`,b.style.width="0%"},10))},Ql=()=>{let p=Fe();if(!p)return;let g=parseInt(window.getComputedStyle(p).width);p.style.removeProperty("transition"),p.style.width="100%";let b=parseInt(window.getComputedStyle(p).width),U=g/b*100;p.style.width=`${U}%`},Zl=()=>typeof window>"u"||typeof document>"u",Sp=`
 <div aria-labelledby="${f.title}" aria-describedby="${f["html-container"]}" class="${f.popup}" tabindex="-1">
   <button type="button" class="${f.close}"></button>
   <ul class="${f["progress-steps"]}"></ul>
   <div class="${f.icon}"></div>
   <img class="${f.image}" />
   <h2 class="${f.title}" id="${f.title}"></h2>
   <div class="${f["html-container"]}" id="${f["html-container"]}"></div>
   <input class="${f.input}" id="${f.input}" />
   <input type="file" class="${f.file}" />
   <div class="${f.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${f.select}" id="${f.select}"></select>
   <div class="${f.radio}"></div>
   <label class="${f.checkbox}">
     <input type="checkbox" id="${f.checkbox}" />
     <span class="${f.label}"></span>
   </label>
   <textarea class="${f.textarea}" id="${f.textarea}"></textarea>
   <div class="${f["validation-message"]}" id="${f["validation-message"]}"></div>
   <div class="${f.actions}">
     <div class="${f.loader}"></div>
     <button type="button" class="${f.confirm}"></button>
     <button type="button" class="${f.deny}"></button>
     <button type="button" class="${f.cancel}"></button>
   </div>
   <div class="${f.footer}"></div>
   <div class="${f["timer-progress-bar-container"]}">
     <div class="${f["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Vd=()=>{let p=T();return p?(p.remove(),fi([document.documentElement,document.body],[f["no-backdrop"],f["toast-shown"],f["has-column"]]),!0):!1},qi=()=>{o.currentInstance.resetValidationMessage()},Jl=()=>{let p=B(),g=zi(p,f.input),b=zi(p,f.file),U=p.querySelector(`.${f.range} input`),oe=p.querySelector(`.${f.range} output`),Le=zi(p,f.select),xt=p.querySelector(`.${f.checkbox} input`),en=zi(p,f.textarea);g.oninput=qi,b.onchange=qi,Le.onchange=qi,xt.onchange=qi,en.oninput=qi,U.oninput=()=>{qi(),oe.value=U.value},U.onchange=()=>{qi(),oe.value=U.value}},Ud=p=>typeof p=="string"?document.querySelector(p):p,Ra=p=>{let g=B();g.setAttribute("role",p.toast?"alert":"dialog"),g.setAttribute("aria-live",p.toast?"polite":"assertive"),p.toast||g.setAttribute("aria-modal","true")},Vo=p=>{window.getComputedStyle(p).direction==="rtl"&&mt(T(),f.rtl)},eu=p=>{let g=Vd();if(Zl()){M("SweetAlert2 requires document to initialize");return}let b=document.createElement("div");b.className=f.container,g&&mt(b,f["no-transition"]),rt(b,Sp);let U=Ud(p.target);U.appendChild(b),Ra(p),Vo(U),Jl()},ls=(p,g)=>{p instanceof HTMLElement?g.appendChild(p):typeof p=="object"?jd(p,g):p&&rt(g,p)},jd=(p,g)=>{p.jquery?Mc(g,p):rt(g,p.toString())},Mc=(p,g)=>{if(p.textContent="",0 in g)for(let b=0;b in g;b++)p.appendChild(g[b].cloneNode(!0));else p.appendChild(g.cloneNode(!0))},$d=(p,g)=>{let b=Y(),U=Z();!b||!U||(!g.showConfirmButton&&!g.showDenyButton&&!g.showCancelButton?Nn(b):mn(b),Oe(b,g,"actions"),Pa(b,U,g),rt(U,g.loaderHtml||""),Oe(U,g,"loader"))};function Pa(p,g,b){let U=Wt(),oe=X(),Le=Bn();!U||!oe||!Le||(Zn(U,"confirm",b),Zn(oe,"deny",b),Zn(Le,"cancel",b),Hd(U,oe,Le,b),b.reverseButtons&&(b.toast?(p.insertBefore(Le,U),p.insertBefore(oe,U)):(p.insertBefore(Le,g),p.insertBefore(oe,g),p.insertBefore(U,g))))}function Hd(p,g,b,U){if(!U.buttonsStyling){fi([p,g,b],f.styled);return}mt([p,g,b],f.styled),U.confirmButtonColor&&(p.style.backgroundColor=U.confirmButtonColor,mt(p,f["default-outline"])),U.denyButtonColor&&(g.style.backgroundColor=U.denyButtonColor,mt(g,f["default-outline"])),U.cancelButtonColor&&(b.style.backgroundColor=U.cancelButtonColor,mt(b,f["default-outline"]))}function Zn(p,g,b){let U=_(g);Ls(p,b[`show${U}Button`],"inline-block"),rt(p,b[`${g}ButtonText`]||""),p.setAttribute("aria-label",b[`${g}ButtonAriaLabel`]||""),p.className=f[g],Oe(p,b,`${g}Button`)}let Nc=(p,g)=>{let b=Qe();b&&(rt(b,g.closeButtonHtml||""),Oe(b,g,"closeButton"),Ls(b,g.showCloseButton),b.setAttribute("aria-label",g.closeButtonAriaLabel||""))},Ma=(p,g)=>{let b=T();b&&(Na(b,g.backdrop),Tp(b,g.position),I(b,g.grow),Oe(b,g,"container"))};function Na(p,g){typeof g=="string"?p.style.background=g:g||mt([document.documentElement,document.body],f["no-backdrop"])}function Tp(p,g){g&&(g in f?mt(p,f[g]):(x('The "position" parameter is not valid, defaulting to "center"'),mt(p,f.center)))}function I(p,g){g&&mt(p,f[`grow-${g}`])}var O={innerParams:new WeakMap,domCache:new WeakMap};let N=["input","file","range","select","radio","checkbox","textarea"],F=(p,g)=>{let b=B();if(!b)return;let U=O.innerParams.get(p),oe=!U||g.input!==U.input;N.forEach(Le=>{let xt=zi(b,f[Le]);xt&&(ie(Le,g.inputAttributes),xt.className=f[Le],oe&&Nn(xt))}),g.input&&(oe&&j(g),ue(g))},j=p=>{if(!p.input)return;if(!ve[p.input]){M(`Unexpected type of input! Expected ${Object.keys(ve).join(" | ")}, got "${p.input}"`);return}let g=se(p.input);if(!g)return;let b=ve[p.input](g,p);mn(g),p.inputAutoFocus&&setTimeout(()=>{Ai(b)})},z=p=>{for(let g=0;g<p.attributes.length;g++){let b=p.attributes[g].name;["id","type","value","style"].includes(b)||p.removeAttribute(b)}},ie=(p,g)=>{let b=B();if(!b)return;let U=Cr(b,p);if(U){z(U);for(let oe in g)U.setAttribute(oe,g[oe])}},ue=p=>{if(!p.input)return;let g=se(p.input);g&&Oe(g,p,"input")},te=(p,g)=>{!p.placeholder&&g.inputPlaceholder&&(p.placeholder=g.inputPlaceholder)},re=(p,g,b)=>{if(b.inputLabel){let U=document.createElement("label"),oe=f["input-label"];U.setAttribute("for",p.id),U.className=oe,typeof b.customClass=="object"&&mt(U,b.customClass.inputLabel),U.innerText=b.inputLabel,g.insertAdjacentElement("beforebegin",U)}},se=p=>{let g=B();if(g)return zi(g,f[p]||f.input)},we=(p,g)=>{["string","number"].includes(typeof g)?p.value=`${g}`:A(g)||x(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof g}"`)},ve={};ve.text=ve.email=ve.password=ve.number=ve.tel=ve.url=ve.search=ve.date=ve["datetime-local"]=ve.time=ve.week=ve.month=(p,g)=>(we(p,g.inputValue),re(p,p,g),te(p,g),p.type=g.input,p),ve.file=(p,g)=>(re(p,p,g),te(p,g),p),ve.range=(p,g)=>{let b=p.querySelector("input"),U=p.querySelector("output");return we(b,g.inputValue),b.type=g.input,we(U,g.inputValue),re(b,p,g),p},ve.select=(p,g)=>{if(p.textContent="",g.inputPlaceholder){let b=document.createElement("option");rt(b,g.inputPlaceholder),b.value="",b.disabled=!0,b.selected=!0,p.appendChild(b)}return re(p,p,g),p},ve.radio=p=>(p.textContent="",p),ve.checkbox=(p,g)=>{let b=Cr(B(),"checkbox");b.value="1",b.checked=!!g.inputValue;let U=p.querySelector("span");return rt(U,g.inputPlaceholder||g.inputLabel),b},ve.textarea=(p,g)=>{we(p,g.inputValue),te(p,g),re(p,p,g);let b=U=>parseInt(window.getComputedStyle(U).marginLeft)+parseInt(window.getComputedStyle(U).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let U=parseInt(window.getComputedStyle(B()).width),oe=()=>{if(!document.body.contains(p))return;let Le=p.offsetWidth+b(p);Le>U?B().style.width=`${Le}px`:Hn(B(),"width",g.width)};new MutationObserver(oe).observe(p,{attributes:!0,attributeFilter:["style"]})}}),p};let $e=(p,g)=>{let b=Rn();b&&(On(b),Oe(b,g,"htmlContainer"),g.html?(ls(g.html,b),mn(b,"block")):g.text?(b.textContent=g.text,mn(b,"block")):Nn(b),F(p,g))},De=(p,g)=>{let b=xe();b&&(On(b),Ls(b,g.footer,"block"),g.footer&&ls(g.footer,b),Oe(b,g,"footer"))},Ne=(p,g)=>{let b=O.innerParams.get(p),U=V();if(U){if(b&&g.icon===b.icon){Fn(U,g),Je(U,g);return}if(!g.icon&&!g.iconHtml){Nn(U);return}if(g.icon&&Object.keys(m).indexOf(g.icon)===-1){M(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${g.icon}"`),Nn(U);return}mn(U),Fn(U,g),Je(U,g),mt(U,g.showClass&&g.showClass.icon)}},Je=(p,g)=>{for(let[b,U]of Object.entries(m))g.icon!==b&&fi(p,U);mt(p,g.icon&&m[g.icon]),lo(p,g),Zt(),Oe(p,g,"icon")},Zt=()=>{let p=B();if(!p)return;let g=window.getComputedStyle(p).getPropertyValue("background-color"),b=p.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let U=0;U<b.length;U++)b[U].style.backgroundColor=g},ar=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,ln=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Fn=(p,g)=>{if(!g.icon&&!g.iconHtml)return;let b=p.innerHTML,U="";g.iconHtml?U=Uo(g.iconHtml):g.icon==="success"?(U=ar,b=b.replace(/ style=".*?"/g,"")):g.icon==="error"?U=ln:g.icon&&(U=Uo({question:"?",warning:"!",info:"i"}[g.icon])),b.trim()!==U.trim()&&rt(p,U)},lo=(p,g)=>{if(g.iconColor){p.style.color=g.iconColor,p.style.borderColor=g.iconColor;for(let b of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])wn(p,b,"background-color",g.iconColor);wn(p,".swal2-success-ring","border-color",g.iconColor)}},Uo=p=>`<div class="${f["icon-content"]}">${p}</div>`,Bs=(p,g)=>{let b=hn();if(b){if(!g.imageUrl){Nn(b);return}mn(b,""),b.setAttribute("src",g.imageUrl),b.setAttribute("alt",g.imageAlt||""),Hn(b,"width",g.imageWidth),Hn(b,"height",g.imageHeight),b.className=f.image,Oe(b,g,"image")}},Oc=(p,g)=>{let b=T(),U=B();if(!(!b||!U)){if(g.toast){Hn(b,"width",g.width),U.style.width="100%";let oe=Z();oe&&U.insertBefore(oe,V())}else Hn(U,"width",g.width);Hn(U,"padding",g.padding),g.color&&(U.style.color=g.color),g.background&&(U.style.background=g.background),Nn(Mn()),Gi(U,g)}},Gi=(p,g)=>{let b=g.showClass||{};p.className=`${f.popup} ${or(p)?b.popup:""}`,g.toast?(mt([document.documentElement,document.body],f["toast-shown"]),mt(p,f.toast)):mt(p,f.modal),Oe(p,g,"popup"),typeof g.customClass=="string"&&mt(p,g.customClass),g.icon&&mt(p,f[`icon-${g.icon}`])},Ip=(p,g)=>{let b=Pn();if(!b)return;let{progressSteps:U,currentProgressStep:oe}=g;if(!U||U.length===0||oe===void 0){Nn(b);return}mn(b),b.textContent="",oe>=U.length&&x("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),U.forEach((Le,xt)=>{let en=Ap(Le);if(b.appendChild(en),xt===oe&&mt(en,f["active-progress-step"]),xt!==U.length-1){let Un=Cg(g);b.appendChild(Un)}})},Ap=p=>{let g=document.createElement("li");return mt(g,f["progress-step"]),rt(g,p),g},Cg=p=>{let g=document.createElement("li");return mt(g,f["progress-step-line"]),p.progressStepsDistance&&Hn(g,"width",p.progressStepsDistance),g},Sg=(p,g)=>{let b=Ge();b&&(On(b),Ls(b,g.title||g.titleText,"block"),g.title&&ls(g.title,b),g.titleText&&(b.innerText=g.titleText),Oe(b,g,"title"))},Tg=(p,g)=>{Oc(p,g),Ma(p,g),Ip(p,g),Ne(p,g),Bs(p,g),Sg(p,g),Nc(p,g),$e(p,g),$d(p,g),De(p,g);let b=B();typeof g.didRender=="function"&&b&&g.didRender(b),o.eventEmitter.emit("didRender",b)},T1=()=>or(B()),Dp=()=>{var p;return(p=Wt())===null||p===void 0?void 0:p.click()},Ig=()=>{var p;return(p=X())===null||p===void 0?void 0:p.click()},I1=()=>{var p;return(p=Bn())===null||p===void 0?void 0:p.click()},Wi=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Vs=p=>{p.keydownTarget&&p.keydownHandlerAdded&&(p.keydownTarget.removeEventListener("keydown",p.keydownHandler,{capture:p.keydownListenerCapture}),p.keydownHandlerAdded=!1)},zd=(p,g,b)=>{Vs(p),g.toast||(p.keydownHandler=U=>qd(g,U,b),p.keydownTarget=g.keydownListenerCapture?window:B(),p.keydownListenerCapture=g.keydownListenerCapture,p.keydownTarget.addEventListener("keydown",p.keydownHandler,{capture:p.keydownListenerCapture}),p.keydownHandlerAdded=!0)},Fc=(p,g)=>{var b;let U=Ae();if(U.length){p=p+g,p===U.length?p=0:p===-1&&(p=U.length-1),U[p].focus();return}(b=B())===null||b===void 0||b.focus()},kp=["ArrowRight","ArrowDown"],gn=["ArrowLeft","ArrowUp"],qd=(p,g,b)=>{p&&(g.isComposing||g.keyCode===229||(p.stopKeydownPropagation&&g.stopPropagation(),g.key==="Enter"?tu(g,p):g.key==="Tab"?nu(g):[...kp,...gn].includes(g.key)?A1(g.key):g.key==="Escape"&&Ag(g,p,b)))},tu=(p,g)=>{if(!ae(g.allowEnterKey))return;let b=Cr(B(),g.input);if(p.target&&b&&p.target instanceof HTMLElement&&p.target.outerHTML===b.outerHTML){if(["textarea","file"].includes(g.input))return;Dp(),p.preventDefault()}},nu=p=>{let g=p.target,b=Ae(),U=-1;for(let oe=0;oe<b.length;oe++)if(g===b[oe]){U=oe;break}p.shiftKey?Fc(U,-1):Fc(U,1),p.stopPropagation(),p.preventDefault()},A1=p=>{let g=Y(),b=Wt(),U=X(),oe=Bn();if(!g||!b||!U||!oe)return;let Le=[b,U,oe];if(document.activeElement instanceof HTMLElement&&!Le.includes(document.activeElement))return;let xt=kp.includes(p)?"nextElementSibling":"previousElementSibling",en=document.activeElement;if(en){for(let Un=0;Un<g.children.length;Un++){if(en=en[xt],!en)return;if(en instanceof HTMLButtonElement&&or(en))break}en instanceof HTMLButtonElement&&en.focus()}},Ag=(p,g,b)=>{ae(g.allowEscapeKey)&&(p.preventDefault(),b(Wi.esc))};var Lc={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let D1=()=>{let p=T();Array.from(document.body.children).forEach(b=>{b.contains(p)||(b.hasAttribute("aria-hidden")&&b.setAttribute("data-previous-aria-hidden",b.getAttribute("aria-hidden")||""),b.setAttribute("aria-hidden","true"))})},Dg=()=>{Array.from(document.body.children).forEach(g=>{g.hasAttribute("data-previous-aria-hidden")?(g.setAttribute("aria-hidden",g.getAttribute("data-previous-aria-hidden")||""),g.removeAttribute("data-previous-aria-hidden")):g.removeAttribute("aria-hidden")})},kg=typeof window<"u"&&!!window.GestureEvent,ru=()=>{if(kg&&!Tn(document.body,f.iosfix)){let p=document.body.scrollTop;document.body.style.top=`${p*-1}px`,mt(document.body,f.iosfix),jo()}},jo=()=>{let p=T();if(!p)return;let g;p.ontouchstart=b=>{g=Rg(b)},p.ontouchmove=b=>{g&&(b.preventDefault(),b.stopPropagation())}},Rg=p=>{let g=p.target,b=T(),U=Rn();return!b||!U||Pg(p)||Mg(p)?!1:g===b||!Yl(b)&&g instanceof HTMLElement&&g.tagName!=="INPUT"&&g.tagName!=="TEXTAREA"&&!(Yl(U)&&U.contains(g))},Pg=p=>p.touches&&p.touches.length&&p.touches[0].touchType==="stylus",Mg=p=>p.touches&&p.touches.length>1,Bc=()=>{if(Tn(document.body,f.iosfix)){let p=parseInt(document.body.style.top,10);fi(document.body,f.iosfix),document.body.style.top="",document.body.scrollTop=p*-1}},k1=()=>{let p=document.createElement("div");p.className=f["scrollbar-measure"],document.body.appendChild(p);let g=p.getBoundingClientRect().width-p.clientWidth;return document.body.removeChild(p),g},Vc=null,R1=p=>{Vc===null&&(document.body.scrollHeight>window.innerHeight||p==="scroll")&&(Vc=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Vc+k1()}px`)},$o=()=>{Vc!==null&&(document.body.style.paddingRight=`${Vc}px`,Vc=null)};function Ng(p,g,b,U){pt()?In(p,U):(c(b).then(()=>In(p,U)),Vs(o)),kg?(g.setAttribute("style","display:none !important"),g.removeAttribute("class"),g.innerHTML=""):g.remove(),kt()&&($o(),Bc(),Dg()),P1()}function P1(){fi([document.documentElement,document.body],[f.shown,f["height-auto"],f["no-backdrop"],f["toast-shown"]])}function Ki(p){p=iu(p);let g=Lc.swalPromiseResolve.get(this),b=Gd(this);this.isAwaitingPromise?p.isDismissed||(uo(this),g(p)):b&&g(p)}let Gd=p=>{let g=B();if(!g)return!1;let b=O.innerParams.get(p);if(!b||Tn(g,b.hideClass.popup))return!1;fi(g,b.showClass.popup),mt(g,b.hideClass.popup);let U=T();return fi(U,b.showClass.backdrop),mt(U,b.hideClass.backdrop),Og(p,g,b),!0};function Rp(p){let g=Lc.swalPromiseReject.get(this);uo(this),g&&g(p)}let uo=p=>{p.isAwaitingPromise&&(delete p.isAwaitingPromise,O.innerParams.get(p)||p._destroy())},iu=p=>typeof p>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},p),Og=(p,g,b)=>{let U=T(),oe=co(g);typeof b.willClose=="function"&&b.willClose(g),o.eventEmitter.emit("willClose",g),oe?Pp(p,g,U,b.returnFocus,b.didClose):Ng(p,U,b.returnFocus,b.didClose)},Pp=(p,g,b,U,oe)=>{o.swalCloseEventFinishedCallback=Ng.bind(null,p,b,U,oe);let Le=function(xt){xt.target===g&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback,g.removeEventListener("animationend",Le),g.removeEventListener("transitionend",Le))};g.addEventListener("animationend",Le),g.addEventListener("transitionend",Le)},In=(p,g)=>{setTimeout(()=>{typeof g=="function"&&g.bind(p.params)(),o.eventEmitter.emit("didClose"),p._destroy&&p._destroy()})},Uc=p=>{let g=B();if(g||new Yg,g=B(),!g)return;let b=Z();pt()?Nn(V()):M1(g,p),mn(b),g.setAttribute("data-loading","true"),g.setAttribute("aria-busy","true"),g.focus()},M1=(p,g)=>{let b=Y(),U=Z();!b||!U||(!g&&or(Wt())&&(g=Wt()),mn(b),g&&(Nn(g),U.setAttribute("data-button-to-replace",g.className),b.insertBefore(U,g)),mt([p,b],f.loading))},Fg=(p,g)=>{g.input==="select"||g.input==="radio"?fo(p,g):["text","email","number","tel","textarea"].some(b=>b===g.input)&&(fe(g.inputValue)||A(g.inputValue))&&(Uc(Wt()),Ug(p,g))},Lg=(p,g)=>{let b=p.getInput();if(!b)return null;switch(g.input){case"checkbox":return Bg(b);case"radio":return Wd(b);case"file":return Vg(b);default:return g.inputAutoTrim?b.value.trim():b.value}},Bg=p=>p.checked?1:0,Wd=p=>p.checked?p.value:null,Vg=p=>p.files&&p.files.length?p.getAttribute("multiple")!==null?p.files:p.files[0]:null,fo=(p,g)=>{let b=B();if(!b)return;let U=oe=>{g.input==="select"?N1(b,ou(oe),g):g.input==="radio"&&su(b,ou(oe),g)};fe(g.inputOptions)||A(g.inputOptions)?(Uc(Wt()),D(g.inputOptions).then(oe=>{p.hideLoading(),U(oe)})):typeof g.inputOptions=="object"?U(g.inputOptions):M(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof g.inputOptions}`)},Ug=(p,g)=>{let b=p.getInput();b&&(Nn(b),D(g.inputValue).then(U=>{b.value=g.input==="number"?`${parseFloat(U)||0}`:`${U}`,mn(b),b.focus(),p.hideLoading()}).catch(U=>{M(`Error in inputValue promise: ${U}`),b.value="",mn(b),b.focus(),p.hideLoading()}))};function N1(p,g,b){let U=zi(p,f.select);if(!U)return;let oe=(Le,xt,en)=>{let Un=document.createElement("option");Un.value=en,rt(Un,xt),Un.selected=Kd(en,b.inputValue),Le.appendChild(Un)};g.forEach(Le=>{let xt=Le[0],en=Le[1];if(Array.isArray(en)){let Un=document.createElement("optgroup");Un.label=xt,Un.disabled=!1,U.appendChild(Un),en.forEach(Zd=>oe(Un,Zd[1],Zd[0]))}else oe(U,en,xt)}),U.focus()}function su(p,g,b){let U=zi(p,f.radio);if(!U)return;g.forEach(Le=>{let xt=Le[0],en=Le[1],Un=document.createElement("input"),Zd=document.createElement("label");Un.type="radio",Un.name=f.radio,Un.value=xt,Kd(xt,b.inputValue)&&(Un.checked=!0);let F1=document.createElement("span");rt(F1,en),F1.className=f.label,Zd.appendChild(Un),Zd.appendChild(F1),U.appendChild(Zd)});let oe=U.querySelectorAll("input");oe.length&&oe[0].focus()}let ou=p=>{let g=[];return p instanceof Map?p.forEach((b,U)=>{let oe=b;typeof oe=="object"&&(oe=ou(oe)),g.push([U,oe])}):Object.keys(p).forEach(b=>{let U=p[b];typeof U=="object"&&(U=ou(U)),g.push([b,U])}),g},Kd=(p,g)=>!!g&&g.toString()===p.toString(),Xd=p=>{let g=O.innerParams.get(p);p.disableButtons(),g.input?$g(p,"confirm"):au(p,!0)},jg=p=>{let g=O.innerParams.get(p);p.disableButtons(),g.returnInputValueOnDeny?$g(p,"deny"):Oa(p,!1)},Yd=(p,g)=>{p.disableButtons(),g(Wi.cancel)},$g=(p,g)=>{let b=O.innerParams.get(p);if(!b.input){M(`The "input" parameter is needed to be set when using returnInputValueOn${_(g)}`);return}let U=p.getInput(),oe=Lg(p,b);b.inputValidator?Hg(p,oe,g):U&&!U.checkValidity()?(p.enableButtons(),p.showValidationMessage(b.validationMessage||U.validationMessage)):g==="deny"?Oa(p,oe):au(p,oe)},Hg=(p,g,b)=>{let U=O.innerParams.get(p);p.disableInput(),Promise.resolve().then(()=>D(U.inputValidator(g,U.validationMessage))).then(Le=>{p.enableButtons(),p.enableInput(),Le?p.showValidationMessage(Le):b==="deny"?Oa(p,g):au(p,g)})},Oa=(p,g)=>{let b=O.innerParams.get(p||void 0);b.showLoaderOnDeny&&Uc(X()),b.preDeny?(p.isAwaitingPromise=!0,Promise.resolve().then(()=>D(b.preDeny(g,b.validationMessage))).then(oe=>{oe===!1?(p.hideLoading(),uo(p)):p.close({isDenied:!0,value:typeof oe>"u"?g:oe})}).catch(oe=>Np(p||void 0,oe))):p.close({isDenied:!0,value:g})},Mp=(p,g)=>{p.close({isConfirmed:!0,value:g})},Np=(p,g)=>{p.rejectPromise(g)},au=(p,g)=>{let b=O.innerParams.get(p||void 0);b.showLoaderOnConfirm&&Uc(),b.preConfirm?(p.resetValidationMessage(),p.isAwaitingPromise=!0,Promise.resolve().then(()=>D(b.preConfirm(g,b.validationMessage))).then(oe=>{or(Mn())||oe===!1?(p.hideLoading(),uo(p)):Mp(p,typeof oe>"u"?g:oe)}).catch(oe=>Np(p||void 0,oe))):Mp(p,g)};function jc(){let p=O.innerParams.get(this);if(!p)return;let g=O.domCache.get(this);Nn(g.loader),pt()?p.icon&&mn(V()):zg(g),fi([g.popup,g.actions],f.loading),g.popup.removeAttribute("aria-busy"),g.popup.removeAttribute("data-loading"),g.confirmButton.disabled=!1,g.denyButton.disabled=!1,g.cancelButton.disabled=!1}let zg=p=>{let g=p.popup.getElementsByClassName(p.loader.getAttribute("data-button-to-replace"));g.length?mn(g[0],"inline-block"):Xl()&&Nn(p.actions)};function cu(){let p=O.innerParams.get(this),g=O.domCache.get(this);return g?Cr(g.popup,p.input):null}function Op(p,g,b){let U=O.domCache.get(p);g.forEach(oe=>{U[oe].disabled=b})}function Fp(p,g){let b=B();if(!(!b||!p))if(p.type==="radio"){let U=b.querySelectorAll(`[name="${f.radio}"]`);for(let oe=0;oe<U.length;oe++)U[oe].disabled=g}else p.disabled=g}function Ho(){Op(this,["confirmButton","denyButton","cancelButton"],!1)}function Lp(){Op(this,["confirmButton","denyButton","cancelButton"],!0)}function Bp(){Fp(this.getInput(),!1)}function Vp(){Fp(this.getInput(),!0)}function Up(p){let g=O.domCache.get(this),b=O.innerParams.get(this);rt(g.validationMessage,p),g.validationMessage.className=f["validation-message"],b.customClass&&b.customClass.validationMessage&&mt(g.validationMessage,b.customClass.validationMessage),mn(g.validationMessage);let U=this.getInput();U&&(U.setAttribute("aria-invalid","true"),U.setAttribute("aria-describedby",f["validation-message"]),Ai(U),mt(U,f.inputerror))}function lu(){let p=O.domCache.get(this);p.validationMessage&&Nn(p.validationMessage);let g=this.getInput();g&&(g.removeAttribute("aria-invalid"),g.removeAttribute("aria-describedby"),fi(g,f.inputerror))}let cr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},qg=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Gg={allowEnterKey:void 0},$c=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],d=p=>Object.prototype.hasOwnProperty.call(cr,p),v=p=>qg.indexOf(p)!==-1,w=p=>Gg[p],R=p=>{d(p)||x(`Unknown parameter "${p}"`)},ee=p=>{$c.includes(p)&&x(`The parameter "${p}" is incompatible with toasts`)},ce=p=>{let g=w(p);g&&Q(p,g)},Me=p=>{p.backdrop===!1&&p.allowOutsideClick&&x('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let g in p)R(g),p.toast&&ee(g),ce(g)};function Jt(p){let g=B(),b=O.innerParams.get(this);if(!g||Tn(g,b.hideClass.popup)){x("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let U=Sr(p),oe=Object.assign({},b,U);Tg(this,oe),O.innerParams.set(this,oe),Object.defineProperties(this,{params:{value:Object.assign({},this.params,p),writable:!1,enumerable:!0}})}let Sr=p=>{let g={};return Object.keys(p).forEach(b=>{v(b)?g[b]=p[b]:x(`Invalid parameter to update: ${b}`)}),g};function Ut(){let p=O.domCache.get(this),g=O.innerParams.get(this);if(!g){Tr(this);return}p.popup&&o.swalCloseEventFinishedCallback&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback),typeof g.didDestroy=="function"&&g.didDestroy(),o.eventEmitter.emit("didDestroy"),Lr(this)}let Lr=p=>{Tr(p),delete p.params,delete o.keydownHandler,delete o.keydownTarget,delete o.currentInstance},Tr=p=>{p.isAwaitingPromise?(zo(O,p),p.isAwaitingPromise=!0):(zo(Lc,p),zo(O,p),delete p.isAwaitingPromise,delete p.disableButtons,delete p.enableButtons,delete p.getInput,delete p.disableInput,delete p.enableInput,delete p.hideLoading,delete p.disableLoading,delete p.showValidationMessage,delete p.resetValidationMessage,delete p.close,delete p.closePopup,delete p.closeModal,delete p.closeToast,delete p.rejectPromise,delete p.update,delete p._destroy)},zo=(p,g)=>{for(let b in p)p[b].delete(g)};var us=Object.freeze({__proto__:null,_destroy:Ut,close:Ki,closeModal:Ki,closePopup:Ki,closeToast:Ki,disableButtons:Lp,disableInput:Vp,disableLoading:jc,enableButtons:Ho,enableInput:Bp,getInput:cu,handleAwaitingPromise:uo,hideLoading:jc,rejectPromise:Rp,resetValidationMessage:lu,showValidationMessage:Up,update:Jt});let Qd=(p,g,b)=>{p.toast?jp(p,g,b):(F7(g),L7(g),B7(p,g,b))},jp=(p,g,b)=>{g.popup.onclick=()=>{p&&(O7(p)||p.timer||p.input)||b(Wi.close)}},O7=p=>!!(p.showConfirmButton||p.showDenyButton||p.showCancelButton||p.showCloseButton),Wg=!1,F7=p=>{p.popup.onmousedown=()=>{p.container.onmouseup=function(g){p.container.onmouseup=()=>{},g.target===p.container&&(Wg=!0)}}},L7=p=>{p.container.onmousedown=g=>{g.target===p.container&&g.preventDefault(),p.popup.onmouseup=function(b){p.popup.onmouseup=()=>{},(b.target===p.popup||b.target instanceof HTMLElement&&p.popup.contains(b.target))&&(Wg=!0)}}},B7=(p,g,b)=>{g.container.onclick=U=>{if(Wg){Wg=!1;return}U.target===g.container&&ae(p.allowOutsideClick)&&b(Wi.backdrop)}},V7=p=>typeof p=="object"&&p.jquery,AR=p=>p instanceof Element||V7(p),U7=p=>{let g={};return typeof p[0]=="object"&&!AR(p[0])?Object.assign(g,p[0]):["title","html","icon"].forEach((b,U)=>{let oe=p[U];typeof oe=="string"||AR(oe)?g[b]=oe:oe!==void 0&&M(`Unexpected type of ${b}! Expected "string" or "Element", got ${typeof oe}`)}),g};function j7(){for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return new this(...g)}function $7(p){class g extends this{_main(U,oe){return super._main(U,Object.assign({},p,oe))}}return g}let H7=()=>o.timeout&&o.timeout.getTimerLeft(),DR=()=>{if(o.timeout)return Ql(),o.timeout.stop()},kR=()=>{if(o.timeout){let p=o.timeout.start();return ka(p),p}},z7=()=>{let p=o.timeout;return p&&(p.running?DR():kR())},q7=p=>{if(o.timeout){let g=o.timeout.increase(p);return ka(g,!0),g}},G7=()=>!!(o.timeout&&o.timeout.isRunning()),RR=!1,O1={};function W7(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";O1[p]=this,RR||(document.body.addEventListener("click",K7),RR=!0)}let K7=p=>{for(let g=p.target;g&&g!==document;g=g.parentNode)for(let b in O1){let U=g.getAttribute(b);if(U){O1[b].fire({template:U});return}}};class X7{constructor(){this.events={}}_getHandlersByEventName(g){return typeof this.events[g]>"u"&&(this.events[g]=[]),this.events[g]}on(g,b){let U=this._getHandlersByEventName(g);U.includes(b)||U.push(b)}once(g,b){var U=this;let oe=function(){U.removeListener(g,oe);for(var Le=arguments.length,xt=new Array(Le),en=0;en<Le;en++)xt[en]=arguments[en];b.apply(U,xt)};this.on(g,oe)}emit(g){for(var b=arguments.length,U=new Array(b>1?b-1:0),oe=1;oe<b;oe++)U[oe-1]=arguments[oe];this._getHandlersByEventName(g).forEach(Le=>{try{Le.apply(this,U)}catch(xt){console.error(xt)}})}removeListener(g,b){let U=this._getHandlersByEventName(g),oe=U.indexOf(b);oe>-1&&U.splice(oe,1)}removeAllListeners(g){this.events[g]!==void 0&&(this.events[g].length=0)}reset(){this.events={}}}o.eventEmitter=new X7;var Y7=Object.freeze({__proto__:null,argsToParams:U7,bindClickHandler:W7,clickCancel:I1,clickConfirm:Dp,clickDeny:Ig,enableLoading:Uc,fire:j7,getActions:Y,getCancelButton:Bn,getCloseButton:Qe,getConfirmButton:Wt,getContainer:T,getDenyButton:X,getFocusableElements:Ae,getFooter:xe,getHtmlContainer:Rn,getIcon:V,getIconContent:vt,getImage:hn,getInputLabel:le,getLoader:Z,getPopup:B,getProgressSteps:Pn,getTimerLeft:H7,getTimerProgressBar:Fe,getTitle:Ge,getValidationMessage:Mn,increaseTimer:q7,isDeprecatedParameter:w,isLoading:Vn,isTimerRunning:G7,isUpdatableParameter:v,isValidParameter:d,isVisible:T1,mixin:$7,off:(p,g)=>{if(!p){o.eventEmitter.reset();return}g?o.eventEmitter.removeListener(p,g):o.eventEmitter.removeAllListeners(p)},on:(p,g)=>{o.eventEmitter.on(p,g)},once:(p,g)=>{o.eventEmitter.once(p,g)},resumeTimer:kR,showLoading:Uc,stopTimer:DR,toggleTimer:z7});class Q7{constructor(g,b){this.callback=g,this.remaining=b,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(g){let b=this.running;return b&&this.stop(),this.remaining+=g,b&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let PR=["swal-title","swal-html","swal-footer"],Z7=p=>{let g=typeof p.template=="string"?document.querySelector(p.template):p.template;if(!g)return{};let b=g.content;return oH(b),Object.assign(J7(b),eH(b),tH(b),nH(b),rH(b),iH(b),sH(b,PR))},J7=p=>{let g={};return Array.from(p.querySelectorAll("swal-param")).forEach(U=>{uu(U,["name","value"]);let oe=U.getAttribute("name"),Le=U.getAttribute("value");!oe||!Le||(typeof cr[oe]=="boolean"?g[oe]=Le!=="false":typeof cr[oe]=="object"?g[oe]=JSON.parse(Le):g[oe]=Le)}),g},eH=p=>{let g={};return Array.from(p.querySelectorAll("swal-function-param")).forEach(U=>{let oe=U.getAttribute("name"),Le=U.getAttribute("value");!oe||!Le||(g[oe]=new Function(`return ${Le}`)())}),g},tH=p=>{let g={};return Array.from(p.querySelectorAll("swal-button")).forEach(U=>{uu(U,["type","color","aria-label"]);let oe=U.getAttribute("type");!oe||!["confirm","cancel","deny"].includes(oe)||(g[`${oe}ButtonText`]=U.innerHTML,g[`show${_(oe)}Button`]=!0,U.hasAttribute("color")&&(g[`${oe}ButtonColor`]=U.getAttribute("color")),U.hasAttribute("aria-label")&&(g[`${oe}ButtonAriaLabel`]=U.getAttribute("aria-label")))}),g},nH=p=>{let g={},b=p.querySelector("swal-image");return b&&(uu(b,["src","width","height","alt"]),b.hasAttribute("src")&&(g.imageUrl=b.getAttribute("src")||void 0),b.hasAttribute("width")&&(g.imageWidth=b.getAttribute("width")||void 0),b.hasAttribute("height")&&(g.imageHeight=b.getAttribute("height")||void 0),b.hasAttribute("alt")&&(g.imageAlt=b.getAttribute("alt")||void 0)),g},rH=p=>{let g={},b=p.querySelector("swal-icon");return b&&(uu(b,["type","color"]),b.hasAttribute("type")&&(g.icon=b.getAttribute("type")),b.hasAttribute("color")&&(g.iconColor=b.getAttribute("color")),g.iconHtml=b.innerHTML),g},iH=p=>{let g={},b=p.querySelector("swal-input");b&&(uu(b,["type","label","placeholder","value"]),g.input=b.getAttribute("type")||"text",b.hasAttribute("label")&&(g.inputLabel=b.getAttribute("label")),b.hasAttribute("placeholder")&&(g.inputPlaceholder=b.getAttribute("placeholder")),b.hasAttribute("value")&&(g.inputValue=b.getAttribute("value")));let U=Array.from(p.querySelectorAll("swal-input-option"));return U.length&&(g.inputOptions={},U.forEach(oe=>{uu(oe,["value"]);let Le=oe.getAttribute("value");if(!Le)return;let xt=oe.innerHTML;g.inputOptions[Le]=xt})),g},sH=(p,g)=>{let b={};for(let U in g){let oe=g[U],Le=p.querySelector(oe);Le&&(uu(Le,[]),b[oe.replace(/^swal-/,"")]=Le.innerHTML.trim())}return b},oH=p=>{let g=PR.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(p.children).forEach(b=>{let U=b.tagName.toLowerCase();g.includes(U)||x(`Unrecognized element <${U}>`)})},uu=(p,g)=>{Array.from(p.attributes).forEach(b=>{g.indexOf(b.name)===-1&&x([`Unrecognized attribute "${b.name}" on <${p.tagName.toLowerCase()}>.`,`${g.length?`Allowed attributes are: ${g.join(", ")}`:"To set the value, use HTML within the element."}`])})},MR=10,aH=p=>{let g=T(),b=B();typeof p.willOpen=="function"&&p.willOpen(b),o.eventEmitter.emit("willOpen",b);let oe=window.getComputedStyle(document.body).overflowY;uH(g,b,p),setTimeout(()=>{cH(g,b)},MR),kt()&&(lH(g,p.scrollbarPadding,oe),D1()),!pt()&&!o.previousActiveElement&&(o.previousActiveElement=document.activeElement),typeof p.didOpen=="function"&&setTimeout(()=>p.didOpen(b)),o.eventEmitter.emit("didOpen",b),fi(g,f["no-transition"])},Kg=p=>{let g=B();if(p.target!==g)return;let b=T();g.removeEventListener("animationend",Kg),g.removeEventListener("transitionend",Kg),b.style.overflowY="auto"},cH=(p,g)=>{co(g)?(p.style.overflowY="hidden",g.addEventListener("animationend",Kg),g.addEventListener("transitionend",Kg)):p.style.overflowY="auto"},lH=(p,g,b)=>{ru(),g&&b!=="hidden"&&R1(b),setTimeout(()=>{p.scrollTop=0})},uH=(p,g,b)=>{mt(p,b.showClass.backdrop),b.animation?(g.style.setProperty("opacity","0","important"),mn(g,"grid"),setTimeout(()=>{mt(g,b.showClass.popup),g.style.removeProperty("opacity")},MR)):mn(g,"grid"),mt([document.documentElement,document.body],f.shown),b.heightAuto&&b.backdrop&&!b.toast&&mt([document.documentElement,document.body],f["height-auto"])};var NR={email:(p,g)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(p)?Promise.resolve():Promise.resolve(g||"Invalid email address"),url:(p,g)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(p)?Promise.resolve():Promise.resolve(g||"Invalid URL")};function dH(p){p.inputValidator||(p.input==="email"&&(p.inputValidator=NR.email),p.input==="url"&&(p.inputValidator=NR.url))}function fH(p){(!p.target||typeof p.target=="string"&&!document.querySelector(p.target)||typeof p.target!="string"&&!p.target.appendChild)&&(x('Target parameter is not valid, defaulting to "body"'),p.target="body")}function hH(p){dH(p),p.showLoaderOnConfirm&&!p.preConfirm&&x(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),fH(p),typeof p.title=="string"&&(p.title=p.title.split(`
`).join("<br />")),eu(p)}let qo;var Xg=new WeakMap;class Jn{constructor(){if(r(this,Xg,void 0),typeof window>"u")return;qo=this;for(var g=arguments.length,b=new Array(g),U=0;U<g;U++)b[U]=arguments[U];let oe=Object.freeze(this.constructor.argsToParams(b));this.params=oe,this.isAwaitingPromise=!1,i(Xg,this,this._main(qo.params))}_main(g){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Me(Object.assign({},b,g)),o.currentInstance){let Le=Lc.swalPromiseResolve.get(o.currentInstance),{isAwaitingPromise:xt}=o.currentInstance;o.currentInstance._destroy(),xt||Le({isDismissed:!0}),kt()&&Dg()}o.currentInstance=qo;let U=mH(g,b);hH(U),Object.freeze(U),o.timeout&&(o.timeout.stop(),delete o.timeout),clearTimeout(o.restoreFocusTimeout);let oe=gH(qo);return Tg(qo,U),O.innerParams.set(qo,U),pH(qo,oe,U)}then(g){return n(Xg,this).then(g)}finally(g){return n(Xg,this).finally(g)}}let pH=(p,g,b)=>new Promise((U,oe)=>{let Le=xt=>{p.close({isDismissed:!0,dismiss:xt})};Lc.swalPromiseResolve.set(p,U),Lc.swalPromiseReject.set(p,oe),g.confirmButton.onclick=()=>{Xd(p)},g.denyButton.onclick=()=>{jg(p)},g.cancelButton.onclick=()=>{Yd(p,Le)},g.closeButton.onclick=()=>{Le(Wi.close)},Qd(b,g,Le),zd(o,b,Le),Fg(p,b),aH(b),vH(o,b,Le),yH(g,b),setTimeout(()=>{g.container.scrollTop=0})}),mH=(p,g)=>{let b=Z7(p),U=Object.assign({},cr,g,b,p);return U.showClass=Object.assign({},cr.showClass,U.showClass),U.hideClass=Object.assign({},cr.hideClass,U.hideClass),U.animation===!1&&(U.showClass={backdrop:"swal2-noanimation"},U.hideClass={}),U},gH=p=>{let g={popup:B(),container:T(),actions:Y(),confirmButton:Wt(),denyButton:X(),cancelButton:Bn(),loader:Z(),closeButton:Qe(),validationMessage:Mn(),progressSteps:Pn()};return O.domCache.set(p,g),g},vH=(p,g,b)=>{let U=Fe();Nn(U),g.timer&&(p.timeout=new Q7(()=>{b("timer"),delete p.timeout},g.timer),g.timerProgressBar&&(mn(U),Oe(U,g,"timerProgressBar"),setTimeout(()=>{p.timeout&&p.timeout.running&&ka(g.timer)})))},yH=(p,g)=>{if(!g.toast){if(!ae(g.allowEnterKey)){Q("allowEnterKey"),wH();return}_H(p)||xH(p,g)||Fc(-1,1)}},_H=p=>{let g=p.popup.querySelectorAll("[autofocus]");for(let b of g)if(b instanceof HTMLElement&&or(b))return b.focus(),!0;return!1},xH=(p,g)=>g.focusDeny&&or(p.denyButton)?(p.denyButton.focus(),!0):g.focusCancel&&or(p.cancelButton)?(p.cancelButton.focus(),!0):g.focusConfirm&&or(p.confirmButton)?(p.confirmButton.focus(),!0):!1,wH=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let p=new Date,g=localStorage.getItem("swal-initiation");g?(p.getTime()-Date.parse(g))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let b=document.createElement("audio");b.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",b.loop=!0,document.body.appendChild(b),setTimeout(()=>{b.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${p}`)}Jn.prototype.disableButtons=Lp,Jn.prototype.enableButtons=Ho,Jn.prototype.getInput=cu,Jn.prototype.disableInput=Vp,Jn.prototype.enableInput=Bp,Jn.prototype.hideLoading=jc,Jn.prototype.disableLoading=jc,Jn.prototype.showValidationMessage=Up,Jn.prototype.resetValidationMessage=lu,Jn.prototype.close=Ki,Jn.prototype.closePopup=Ki,Jn.prototype.closeModal=Ki,Jn.prototype.closeToast=Ki,Jn.prototype.rejectPromise=Rp,Jn.prototype.update=Jt,Jn.prototype._destroy=Ut,Object.assign(Jn,Y7),Object.keys(us).forEach(p=>{Jn[p]=function(){return qo&&qo[p]?qo[p](...arguments):null}}),Jn.DismissReason=Wi,Jn.version="11.14.4";let Yg=Jn;return Yg.default=Yg,Yg});typeof ya<"u"&&ya.Sweetalert2&&(ya.swal=ya.sweetAlert=ya.Swal=ya.SweetAlert=ya.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});var yw=Xi(bc=>{"use strict";var p6=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Wse=p6+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",m6="["+p6+"]["+Wse+"]*",Kse=new RegExp("^"+m6+"$"),Xse=function(t,e){let n=[],r=e.exec(t);for(;r;){let i=[];i.startIndex=e.lastIndex-r[0].length;let s=r.length;for(let o=0;o<s;o++)i.push(r[o]);n.push(i),r=e.exec(t)}return n},Yse=function(t){let e=Kse.exec(t);return!(e===null||typeof e>"u")};bc.isExist=function(t){return typeof t<"u"};bc.isEmptyObject=function(t){return Object.keys(t).length===0};bc.merge=function(t,e,n){if(e){let r=Object.keys(e),i=r.length;for(let s=0;s<i;s++)n==="strict"?t[r[s]]=[e[r[s]]]:t[r[s]]=e[r[s]]}};bc.getValue=function(t){return bc.isExist(t)?t:""};bc.isName=Yse;bc.getAllMatches=Xse;bc.nameRegexp=m6});var c2=Xi(x6=>{"use strict";var a2=yw(),Qse={allowBooleanAttributes:!1,unpairedTags:[]};x6.validate=function(t,e){e=Object.assign({},Qse,e);let n=[],r=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let s=0;s<t.length;s++)if(t[s]==="<"&&t[s+1]==="?"){if(s+=2,s=v6(t,s),s.err)return s}else if(t[s]==="<"){let o=s;if(s++,t[s]==="!"){s=y6(t,s);continue}else{let a=!1;t[s]==="/"&&(a=!0,s++);let c="";for(;s<t.length&&t[s]!==">"&&t[s]!==" "&&t[s]!=="	"&&t[s]!==`
`&&t[s]!=="\r";s++)c+=t[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!soe(c)){let f;return c.trim().length===0?f="Invalid space after '<'.":f="Tag '"+c+"' is an invalid name.",ir("InvalidTag",f,Fi(t,s))}let l=eoe(t,s);if(l===!1)return ir("InvalidAttr","Attributes for '"+c+"' have open quote.",Fi(t,s));let u=l.value;if(s=l.index,u[u.length-1]==="/"){let f=s-u.length;u=u.substring(0,u.length-1);let h=_6(u,e);if(h===!0)r=!0;else return ir(h.err.code,h.err.msg,Fi(t,f+h.err.line))}else if(a)if(l.tagClosed){if(u.trim().length>0)return ir("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Fi(t,o));if(n.length===0)return ir("InvalidTag","Closing tag '"+c+"' has not been opened.",Fi(t,o));{let f=n.pop();if(c!==f.tagName){let h=Fi(t,f.tagStartPos);return ir("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+c+"'.",Fi(t,o))}n.length==0&&(i=!0)}}else return ir("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Fi(t,s));else{let f=_6(u,e);if(f!==!0)return ir(f.err.code,f.err.msg,Fi(t,s-u.length+f.err.line));if(i===!0)return ir("InvalidXml","Multiple possible root nodes found.",Fi(t,s));e.unpairedTags.indexOf(c)!==-1||n.push({tagName:c,tagStartPos:o}),r=!0}for(s++;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="!"){s++,s=y6(t,s);continue}else if(t[s+1]==="?"){if(s=v6(t,++s),s.err)return s}else break;else if(t[s]==="&"){let f=roe(t,s);if(f==-1)return ir("InvalidChar","char '&' is not expected.",Fi(t,s));s=f}else if(i===!0&&!g6(t[s]))return ir("InvalidXml","Extra text at the end",Fi(t,s));t[s]==="<"&&s--}}else{if(g6(t[s]))continue;return ir("InvalidChar","char '"+t[s]+"' is not expected.",Fi(t,s))}if(r){if(n.length==1)return ir("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",Fi(t,n[0].tagStartPos));if(n.length>0)return ir("InvalidXml","Invalid '"+JSON.stringify(n.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ir("InvalidXml","Start tag expected.",1);return!0};function g6(t){return t===" "||t==="	"||t===`
`||t==="\r"}function v6(t,e){let n=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let r=t.substr(n,e-n);if(e>5&&r==="xml")return ir("InvalidXml","XML declaration allowed only at the start of the document.",Fi(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function y6(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let n=1;for(e+=8;e<t.length;e++)if(t[e]==="<")n++;else if(t[e]===">"&&(n--,n===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}var Zse='"',Jse="'";function eoe(t,e){let n="",r="",i=!1;for(;e<t.length;e++){if(t[e]===Zse||t[e]===Jse)r===""?r=t[e]:r!==t[e]||(r="");else if(t[e]===">"&&r===""){i=!0;break}n+=t[e]}return r!==""?!1:{value:n,index:e,tagClosed:i}}var toe=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function _6(t,e){let n=a2.getAllMatches(t,toe),r={};for(let i=0;i<n.length;i++){if(n[i][1].length===0)return ir("InvalidAttr","Attribute '"+n[i][2]+"' has no space in starting.",V0(n[i]));if(n[i][3]!==void 0&&n[i][4]===void 0)return ir("InvalidAttr","Attribute '"+n[i][2]+"' is without value.",V0(n[i]));if(n[i][3]===void 0&&!e.allowBooleanAttributes)return ir("InvalidAttr","boolean attribute '"+n[i][2]+"' is not allowed.",V0(n[i]));let s=n[i][2];if(!ioe(s))return ir("InvalidAttr","Attribute '"+s+"' is an invalid name.",V0(n[i]));if(!r.hasOwnProperty(s))r[s]=1;else return ir("InvalidAttr","Attribute '"+s+"' is repeated.",V0(n[i]))}return!0}function noe(t,e){let n=/\d/;for(t[e]==="x"&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(n))break}return-1}function roe(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,noe(t,e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(t[e]===";")break;return-1}return e}function ir(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function ioe(t){return a2.isName(t)}function soe(t){return a2.isName(t)}function Fi(t,e){let n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function V0(t){return t.startIndex+t[1].length}});var E6=Xi(l2=>{"use strict";var w6={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}},ooe=function(t){return Object.assign({},w6,t)};l2.buildOptions=ooe;l2.defaultOptions=w6});var C6=Xi((VLe,b6)=>{"use strict";var u2=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,n){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:n})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};b6.exports=u2});var T6=Xi((ULe,S6)=>{"use strict";var aoe=yw();function coe(t,e){let n={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let r=1,i=!1,s=!1,o="";for(;e<t.length;e++)if(t[e]==="<"&&!s){if(i&&doe(t,e))e+=7,[entityName,val,e]=loe(t,e+1),val.indexOf("&")===-1&&(n[moe(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(i&&foe(t,e))e+=8;else if(i&&hoe(t,e))e+=8;else if(i&&poe(t,e))e+=9;else if(uoe)s=!0;else throw new Error("Invalid DOCTYPE");r++,o=""}else if(t[e]===">"){if(s?t[e-1]==="-"&&t[e-2]==="-"&&(s=!1,r--):r--,r===0)break}else t[e]==="["?i=!0:o+=t[e];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:e}}function loe(t,e){let n="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)n+=t[e];if(n=n.trim(),n.indexOf(" ")!==-1)throw new Error("External entites are not supported");let r=t[e++],i="";for(;e<t.length&&t[e]!==r;e++)i+=t[e];return[n,i,e]}function uoe(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function doe(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function foe(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function hoe(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function poe(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function moe(t){if(aoe.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}S6.exports=coe});var A6=Xi((jLe,I6)=>{"use strict";var goe=/^[-+]?0x[a-fA-F0-9]+$/,voe=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var yoe={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function _oe(t,e={}){if(e=Object.assign({},yoe,e),!t||typeof t!="string")return t;let n=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(n))return t;if(e.hex&&goe.test(n))return Number.parseInt(n,16);{let r=voe.exec(n);if(r){let i=r[1],s=r[2],o=xoe(r[3]),a=r[4]||r[6];if(!e.leadingZeros&&s.length>0&&i&&n[2]!==".")return t;if(!e.leadingZeros&&s.length>0&&!i&&n[1]!==".")return t;{let c=Number(n),l=""+c;return l.search(/[eE]/)!==-1||a?e.eNotation?c:t:n.indexOf(".")!==-1?l==="0"&&o===""||l===o||i&&l==="-"+o?c:t:s?o===l||i+o===l?c:t:n===l||n===i+l?c:t}}else return t}}function xoe(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}I6.exports=_oe});var R6=Xi(($Le,k6)=>{"use strict";var D6=yw(),U0=C6(),woe=T6(),Eoe=A6(),d2=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,16))}},this.addExternalEntities=boe,this.parseXml=Aoe,this.parseTextData=Coe,this.resolveNameSpace=Soe,this.buildAttributesMap=Ioe,this.isItStopNode=Poe,this.replaceEntitiesValue=koe,this.readStopNodeData=Noe,this.saveTextToParentTag=Roe,this.addChild=Doe}};function boe(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function Coe(t,e,n,r,i,s,o){if(t!==void 0&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){o||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,n,i,s);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?h2(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?h2(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function Soe(t){if(this.options.removeNSPrefix){let e=t.split(":"),n=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=n+e[1])}return t}var Toe=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function Ioe(t,e,n){if(!this.options.ignoreAttributes&&typeof t=="string"){let r=D6.getAllMatches(t,Toe),i=r.length,s={};for(let o=0;o<i;o++){let a=this.resolveNameSpace(r[o][1]),c=r[o][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let u=this.options.attributeValueProcessor(a,c,e);u==null?s[l]=c:typeof u!=typeof c||u!==c?s[l]=u:s[l]=h2(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[l]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let o={};return o[this.options.attributesGroupName]=s,o}return s}}var Aoe=function(t){t=t.replace(/\r\n?/g,`
`);let e=new U0("!xml"),n=e,r="",i="";for(let s=0;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="/"){let a=xd(t,">",s,"Closing Tag is not closed."),c=t.substring(s+2,a).trim();if(this.options.removeNSPrefix){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&(r=this.saveTextToParentTag(r,n,i));let l=i.substring(i.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let u=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(u=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):u=i.lastIndexOf("."),i=i.substring(0,u),n=this.tagsNodeStack.pop(),r="",s=a}else if(t[s+1]==="?"){let a=f2(t,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new U0(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(n,c,i)}s=a.closeIndex+1}else if(t.substr(s+1,3)==="!--"){let a=xd(t,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=t.substring(s+4,a-2);r=this.saveTextToParentTag(r,n,i),n.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(t.substr(s+1,2)==="!D"){let a=woe(t,s);this.docTypeEntities=a.entities,s=a.i}else if(t.substr(s+1,2)==="!["){let a=xd(t,"]]>",s,"CDATA is not closed.")-2,c=t.substring(s+9,a);r=this.saveTextToParentTag(r,n,i);let l=this.parseTextData(c,n.tagname,i,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):n.add(this.options.textNodeName,l),s=a+2}else{let a=f2(t,s,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,u=a.tagExp,f=a.attrExpPresent,h=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,i,!1));let m=n;if(m&&this.options.unpairedTags.indexOf(m.tagname)!==-1&&(n=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),c!==e.tagname&&(i+=i?"."+c:c),this.isItStopNode(this.options.stopNodes,i,c)){let y="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),u=c):u=u.substr(0,u.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let x=this.readStopNodeData(t,l,h+1);if(!x)throw new Error(`Unexpected end of ${l}`);s=x.i,y=x.tagContent}let _=new U0(c);c!==u&&f&&(_[":@"]=this.buildAttributesMap(u,i,c)),y&&(y=this.parseTextData(y,c,i,!0,f,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),_.add(this.options.textNodeName,y),this.addChild(n,_,i)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let y=new U0(c);c!==u&&f&&(y[":@"]=this.buildAttributesMap(u,i,c)),this.addChild(n,y,i),i=i.substr(0,i.lastIndexOf("."))}else{let y=new U0(c);this.tagsNodeStack.push(n),c!==u&&f&&(y[":@"]=this.buildAttributesMap(u,i,c)),this.addChild(n,y,i),n=y}r="",s=h}}else r+=t[s];return e.child};function Doe(t,e,n){let r=this.options.updateTag(e.tagname,n,e[":@"]);r===!1||(typeof r=="string"&&(e.tagname=r),t.addChild(e))}var koe=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){let n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function Roe(t,e,n,r){return t&&(r===void 0&&(r=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,n,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,r),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function Poe(t,e,n){let r="*."+n;for(let i in t){let s=t[i];if(r===s||e===s)return!0}return!1}function Moe(t,e,n=">"){let r,i="";for(let s=e;s<t.length;s++){let o=t[s];if(r)o===r&&(r="");else if(o==='"'||o==="'")r=o;else if(o===n[0])if(n[1]){if(t[s+1]===n[1])return{data:i,index:s}}else return{data:i,index:s};else o==="	"&&(o=" ");i+=o}}function xd(t,e,n,r){let i=t.indexOf(e,n);if(i===-1)throw new Error(r);return i+e.length-1}function f2(t,e,n,r=">"){let i=Moe(t,e+1,r);if(!i)return;let s=i.data,o=i.index,a=s.search(/\s/),c=s,l=!0;a!==-1&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());let u=c;if(n){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1),l=c!==i.data.substr(f+1))}return{tagName:c,tagExp:s,closeIndex:o,attrExpPresent:l,rawTagName:u}}function Noe(t,e,n){let r=n,i=1;for(;n<t.length;n++)if(t[n]==="<")if(t[n+1]==="/"){let s=xd(t,">",n,`${e} is not closed`);if(t.substring(n+2,s).trim()===e&&(i--,i===0))return{tagContent:t.substring(r,n),i:s};n=s}else if(t[n+1]==="?")n=xd(t,"?>",n+1,"StopNode is not closed.");else if(t.substr(n+1,3)==="!--")n=xd(t,"-->",n+3,"StopNode is not closed.");else if(t.substr(n+1,2)==="![")n=xd(t,"]]>",n,"StopNode is not closed.")-2;else{let s=f2(t,n,">");s&&((s&&s.tagName)===e&&s.tagExp[s.tagExp.length-1]!=="/"&&i++,n=s.closeIndex)}}function h2(t,e,n){if(e&&typeof t=="string"){let r=t.trim();return r==="true"?!0:r==="false"?!1:Eoe(t,n)}else return D6.isExist(t)?t:""}k6.exports=d2});var N6=Xi(M6=>{"use strict";function Ooe(t,e){return P6(t,e)}function P6(t,e,n){let r,i={};for(let s=0;s<t.length;s++){let o=t[s],a=Foe(o),c="";if(n===void 0?c=a:c=n+"."+a,a===e.textNodeName)r===void 0?r=o[a]:r+=""+o[a];else{if(a===void 0)continue;if(o[a]){let l=P6(o[a],e,c),u=Boe(l,e);o[":@"]?Loe(l,o[":@"],c,e):Object.keys(l).length===1&&l[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?l=l[e.textNodeName]:Object.keys(l).length===0&&(e.alwaysCreateTextNode?l[e.textNodeName]="":l=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(l)):e.isArray(a,c,u)?i[a]=[l]:i[a]=l}}}return typeof r=="string"?r.length>0&&(i[e.textNodeName]=r):r!==void 0&&(i[e.textNodeName]=r),i}function Foe(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];if(r!==":@")return r}}function Loe(t,e,n,r){if(e){let i=Object.keys(e),s=i.length;for(let o=0;o<s;o++){let a=i[o];r.isArray(a,n+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function Boe(t,e){let{textNodeName:n}=e,r=Object.keys(t).length;return!!(r===0||r===1&&(t[n]||typeof t[n]=="boolean"||t[n]===0))}M6.prettify=Ooe});var F6=Xi((zLe,O6)=>{"use strict";var{buildOptions:Voe}=E6(),Uoe=R6(),{prettify:joe}=N6(),$oe=c2(),p2=class{constructor(e){this.externalEntities={},this.options=Voe(e)}parse(e,n){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});let s=$oe.validate(e,n);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let r=new Uoe(this.options);r.addExternalEntities(this.externalEntities);let i=r.parseXml(e);return this.options.preserveOrder||i===void 0?i:joe(i,this.options)}addEntity(e,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=n}};O6.exports=p2});var j6=Xi((qLe,U6)=>{"use strict";var Hoe=`
`;function zoe(t,e){let n="";return e.format&&e.indentBy.length>0&&(n=Hoe),B6(t,e,"",n)}function B6(t,e,n,r){let i="",s=!1;for(let o=0;o<t.length;o++){let a=t[o],c=qoe(a);if(c===void 0)continue;let l="";if(n.length===0?l=c:l=`${n}.${c}`,c===e.textNodeName){let y=a[c];Goe(l,e)||(y=e.tagValueProcessor(c,y),y=V6(y,e)),s&&(i+=r),i+=y,s=!1;continue}else if(c===e.cdataPropName){s&&(i+=r),i+=`<![CDATA[${a[c][0][e.textNodeName]}]]>`,s=!1;continue}else if(c===e.commentPropName){i+=r+`<!--${a[c][0][e.textNodeName]}-->`,s=!0;continue}else if(c[0]==="?"){let y=L6(a[":@"],e),_=c==="?xml"?"":r,x=a[c][0][e.textNodeName];x=x.length!==0?" "+x:"",i+=_+`<${c}${x}${y}?>`,s=!0;continue}let u=r;u!==""&&(u+=e.indentBy);let f=L6(a[":@"],e),h=r+`<${c}${f}`,m=B6(a[c],e,l,u);e.unpairedTags.indexOf(c)!==-1?e.suppressUnpairedNode?i+=h+">":i+=h+"/>":(!m||m.length===0)&&e.suppressEmptyNode?i+=h+"/>":m&&m.endsWith(">")?i+=h+`>${m}${r}</${c}>`:(i+=h+">",m&&r!==""&&(m.includes("/>")||m.includes("</"))?i+=r+e.indentBy+m+r:i+=m,i+=`</${c}>`),s=!0}return i}function qoe(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];if(t.hasOwnProperty(r)&&r!==":@")return r}}function L6(t,e){let n="";if(t&&!e.ignoreAttributes)for(let r in t){if(!t.hasOwnProperty(r))continue;let i=e.attributeValueProcessor(r,t[r]);i=V6(i,e),i===!0&&e.suppressBooleanAttributes?n+=` ${r.substr(e.attributeNamePrefix.length)}`:n+=` ${r.substr(e.attributeNamePrefix.length)}="${i}"`}return n}function Goe(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let n=t.substr(t.lastIndexOf(".")+1);for(let r in e.stopNodes)if(e.stopNodes[r]===t||e.stopNodes[r]==="*."+n)return!0;return!1}function V6(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){let r=e.entities[n];t=t.replace(r.regex,r.val)}return t}U6.exports=zoe});var H6=Xi((GLe,$6)=>{"use strict";var Woe=j6(),Koe={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Nl(t){this.options=Object.assign({},Koe,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Qoe),this.processTextOrObjNode=Xoe,this.options.format?(this.indentate=Yoe,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Nl.prototype.build=function(t){return this.options.preserveOrder?Woe(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};Nl.prototype.j2x=function(t,e){let n="",r="";for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i))if(typeof t[i]>"u")this.isAttribute(i)&&(r+="");else if(t[i]===null)this.isAttribute(i)?r+="":i[0]==="?"?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)r+=this.buildTextValNode(t[i],i,"",e);else if(typeof t[i]!="object"){let s=this.isAttribute(i);if(s)n+=this.buildAttrPairStr(s,""+t[i]);else if(i===this.options.textNodeName){let o=this.options.tagValueProcessor(i,""+t[i]);r+=this.replaceEntitiesValue(o)}else r+=this.buildTextValNode(t[i],i,"",e)}else if(Array.isArray(t[i])){let s=t[i].length,o="",a="";for(let c=0;c<s;c++){let l=t[i][c];if(!(typeof l>"u"))if(l===null)i[0]==="?"?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(typeof l=="object")if(this.options.oneListGroup){let u=this.j2x(l,e+1);o+=u.val,this.options.attributesGroupName&&l.hasOwnProperty(this.options.attributesGroupName)&&(a+=u.attrStr)}else o+=this.processTextOrObjNode(l,i,e);else if(this.options.oneListGroup){let u=this.options.tagValueProcessor(i,l);u=this.replaceEntitiesValue(u),o+=u}else o+=this.buildTextValNode(l,i,"",e)}this.options.oneListGroup&&(o=this.buildObjectNode(o,i,a,e)),r+=o}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){let s=Object.keys(t[i]),o=s.length;for(let a=0;a<o;a++)n+=this.buildAttrPairStr(s[a],""+t[i][s[a]])}else r+=this.processTextOrObjNode(t[i],i,e);return{attrStr:n,val:r}};Nl.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function Xoe(t,e,n){let r=this.j2x(t,n+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,r.attrStr,n):this.buildObjectNode(r.val,e,r.attrStr,n)}Nl.prototype.buildObjectNode=function(t,e,n,r){if(t==="")return e[0]==="?"?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar;{let i="</"+e+this.tagEndChar,s="";return e[0]==="?"&&(s="?",i=""),(n||n==="")&&t.indexOf("<")===-1?this.indentate(r)+"<"+e+n+s+">"+t+i:this.options.commentPropName!==!1&&e===this.options.commentPropName&&s.length===0?this.indentate(r)+`<!--${t}-->`+this.newLine:this.indentate(r)+"<"+e+n+s+this.tagEndChar+t+this.indentate(r)+i}};Nl.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};Nl.prototype.buildTextValNode=function(t,e,n,r){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(r)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(r)+"<"+e+n+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),i===""?this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(r)+"<"+e+n+">"+i+"</"+e+this.tagEndChar}};Nl.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t};function Yoe(t){return this.options.indentBy.repeat(t)}function Qoe(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}$6.exports=Nl});var q6=Xi((WLe,z6)=>{"use strict";var Zoe=c2(),Joe=F6(),eae=H6();z6.exports={XMLParser:Joe,XMLValidator:Zoe,XMLBuilder:eae}});var Mk=Xi((J0,Pk)=>{"use strict";(function(t,e){typeof J0=="object"&&typeof Pk=="object"?Pk.exports=e():typeof define=="function"&&define.amd?define([],e):typeof J0=="object"?J0.bowser=e():t.bowser=e()})(J0,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(r,i,s){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:s})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var o in r)n.d(s,o,function(a){return r[a]}.bind(null,o));return s},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=90)}({17:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(18),i=function(){function s(){}return s.getFirstMatch=function(o,a){var c=a.match(o);return c&&c.length>0&&c[1]||""},s.getSecondMatch=function(o,a){var c=a.match(o);return c&&c.length>1&&c[2]||""},s.matchAndReturnConst=function(o,a,c){if(o.test(a))return c},s.getWindowsVersionName=function(o){switch(o){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},s.getMacOSVersionName=function(o){var a=o.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(a.push(0),a[0]===10)switch(a[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},s.getAndroidVersionName=function(o){var a=o.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(a.push(0),!(a[0]===1&&a[1]<5))return a[0]===1&&a[1]<6?"Cupcake":a[0]===1&&a[1]>=6?"Donut":a[0]===2&&a[1]<2?"Eclair":a[0]===2&&a[1]===2?"Froyo":a[0]===2&&a[1]>2?"Gingerbread":a[0]===3?"Honeycomb":a[0]===4&&a[1]<1?"Ice Cream Sandwich":a[0]===4&&a[1]<4?"Jelly Bean":a[0]===4&&a[1]>=4?"KitKat":a[0]===5?"Lollipop":a[0]===6?"Marshmallow":a[0]===7?"Nougat":a[0]===8?"Oreo":a[0]===9?"Pie":void 0},s.getVersionPrecision=function(o){return o.split(".").length},s.compareVersions=function(o,a,c){c===void 0&&(c=!1);var l=s.getVersionPrecision(o),u=s.getVersionPrecision(a),f=Math.max(l,u),h=0,m=s.map([o,a],function(y){var _=f-s.getVersionPrecision(y),x=y+new Array(_+1).join(".0");return s.map(x.split("."),function(M){return new Array(20-M.length).join("0")+M}).reverse()});for(c&&(h=f-Math.min(l,u)),f-=1;f>=h;){if(m[0][f]>m[1][f])return 1;if(m[0][f]===m[1][f]){if(f===h)return 0;f-=1}else if(m[0][f]<m[1][f])return-1}},s.map=function(o,a){var c,l=[];if(Array.prototype.map)return Array.prototype.map.call(o,a);for(c=0;c<o.length;c+=1)l.push(a(o[c]));return l},s.find=function(o,a){var c,l;if(Array.prototype.find)return Array.prototype.find.call(o,a);for(c=0,l=o.length;c<l;c+=1){var u=o[c];if(a(u,c))return u}},s.assign=function(o){for(var a,c,l=o,u=arguments.length,f=new Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];if(Object.assign)return Object.assign.apply(Object,[o].concat(f));var m=function(){var y=f[a];typeof y=="object"&&y!==null&&Object.keys(y).forEach(function(_){l[_]=y[_]})};for(a=0,c=f.length;a<c;a+=1)m();return o},s.getBrowserAlias=function(o){return r.BROWSER_ALIASES_MAP[o]},s.getBrowserTypeByAlias=function(o){return r.BROWSER_MAP[o]||""},s}();e.default=i,t.exports=e.default},18:function(t,e,n){"use strict";e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},s=n(18);function o(c,l){for(var u=0;u<l.length;u++){var f=l[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}var a=function(){function c(){}var l,u,f;return c.getParser=function(h,m){if(m===void 0&&(m=!1),typeof h!="string")throw new Error("UserAgent should be a string");return new i.default(h,m)},c.parse=function(h){return new i.default(h).getResult()},l=c,f=[{key:"BROWSER_MAP",get:function(){return s.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return s.ENGINE_MAP}},{key:"OS_MAP",get:function(){return s.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return s.PLATFORMS_MAP}}],(u=null)&&o(l.prototype,u),f&&o(l,f),c}();e.default=a,t.exports=e.default},91:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=c(n(92)),i=c(n(93)),s=c(n(94)),o=c(n(95)),a=c(n(17));function c(u){return u&&u.__esModule?u:{default:u}}var l=function(){function u(h,m){if(m===void 0&&(m=!1),h==null||h==="")throw new Error("UserAgent parameter can't be empty");this._ua=h,this.parsedResult={},m!==!0&&this.parse()}var f=u.prototype;return f.getUA=function(){return this._ua},f.test=function(h){return h.test(this._ua)},f.parseBrowser=function(){var h=this;this.parsedResult.browser={};var m=a.default.find(r.default,function(y){if(typeof y.test=="function")return y.test(h);if(y.test instanceof Array)return y.test.some(function(_){return h.test(_)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.browser=m.describe(this.getUA())),this.parsedResult.browser},f.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},f.getBrowserName=function(h){return h?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},f.getBrowserVersion=function(){return this.getBrowser().version},f.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},f.parseOS=function(){var h=this;this.parsedResult.os={};var m=a.default.find(i.default,function(y){if(typeof y.test=="function")return y.test(h);if(y.test instanceof Array)return y.test.some(function(_){return h.test(_)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.os=m.describe(this.getUA())),this.parsedResult.os},f.getOSName=function(h){var m=this.getOS().name;return h?String(m).toLowerCase()||"":m||""},f.getOSVersion=function(){return this.getOS().version},f.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},f.getPlatformType=function(h){h===void 0&&(h=!1);var m=this.getPlatform().type;return h?String(m).toLowerCase()||"":m||""},f.parsePlatform=function(){var h=this;this.parsedResult.platform={};var m=a.default.find(s.default,function(y){if(typeof y.test=="function")return y.test(h);if(y.test instanceof Array)return y.test.some(function(_){return h.test(_)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.platform=m.describe(this.getUA())),this.parsedResult.platform},f.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},f.getEngineName=function(h){return h?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},f.parseEngine=function(){var h=this;this.parsedResult.engine={};var m=a.default.find(o.default,function(y){if(typeof y.test=="function")return y.test(h);if(y.test instanceof Array)return y.test.some(function(_){return h.test(_)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.engine=m.describe(this.getUA())),this.parsedResult.engine},f.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},f.getResult=function(){return a.default.assign({},this.parsedResult)},f.satisfies=function(h){var m=this,y={},_=0,x={},M=0;if(Object.keys(h).forEach(function(T){var P=h[T];typeof P=="string"?(x[T]=P,M+=1):typeof P=="object"&&(y[T]=P,_+=1)}),_>0){var H=Object.keys(y),K=a.default.find(H,function(T){return m.isOS(T)});if(K){var Q=this.satisfies(y[K]);if(Q!==void 0)return Q}var ae=a.default.find(H,function(T){return m.isPlatform(T)});if(ae){var fe=this.satisfies(y[ae]);if(fe!==void 0)return fe}}if(M>0){var D=Object.keys(x),A=a.default.find(D,function(T){return m.isBrowser(T,!0)});if(A!==void 0)return this.compareVersion(x[A])}},f.isBrowser=function(h,m){m===void 0&&(m=!1);var y=this.getBrowserName().toLowerCase(),_=h.toLowerCase(),x=a.default.getBrowserTypeByAlias(_);return m&&x&&(_=x.toLowerCase()),_===y},f.compareVersion=function(h){var m=[0],y=h,_=!1,x=this.getBrowserVersion();if(typeof x=="string")return h[0]===">"||h[0]==="<"?(y=h.substr(1),h[1]==="="?(_=!0,y=h.substr(2)):m=[],h[0]===">"?m.push(1):m.push(-1)):h[0]==="="?y=h.substr(1):h[0]==="~"&&(_=!0,y=h.substr(1)),m.indexOf(a.default.compareVersions(x,y,_))>-1},f.isOS=function(h){return this.getOSName(!0)===String(h).toLowerCase()},f.isPlatform=function(h){return this.getPlatformType(!0)===String(h).toLowerCase()},f.isEngine=function(h){return this.getEngineName(!0)===String(h).toLowerCase()},f.is=function(h,m){return m===void 0&&(m=!1),this.isBrowser(h,m)||this.isOS(h)||this.isPlatform(h)},f.some=function(h){var m=this;return h===void 0&&(h=[]),h.some(function(y){return m.is(y)})},u}();e.default=l,t.exports=e.default},92:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(a){var c={name:"Googlebot"},l=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/opera/i],describe:function(a){var c={name:"Opera"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/opr\/|opios/i],describe:function(a){var c={name:"Opera"},l=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/SamsungBrowser/i],describe:function(a){var c={name:"Samsung Internet for Android"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/Whale/i],describe:function(a){var c={name:"NAVER Whale Browser"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/MZBrowser/i],describe:function(a){var c={name:"MZ Browser"},l=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/focus/i],describe:function(a){var c={name:"Focus"},l=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/swing/i],describe:function(a){var c={name:"Swing"},l=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/coast/i],describe:function(a){var c={name:"Opera Coast"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(a){var c={name:"Opera Touch"},l=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/yabrowser/i],describe:function(a){var c={name:"Yandex Browser"},l=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/ucbrowser/i],describe:function(a){var c={name:"UC Browser"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/Maxthon|mxios/i],describe:function(a){var c={name:"Maxthon"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/epiphany/i],describe:function(a){var c={name:"Epiphany"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/puffin/i],describe:function(a){var c={name:"Puffin"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/sleipnir/i],describe:function(a){var c={name:"Sleipnir"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/k-meleon/i],describe:function(a){var c={name:"K-Meleon"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/micromessenger/i],describe:function(a){var c={name:"WeChat"},l=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/qqbrowser/i],describe:function(a){var c={name:/qqbrowserlite/i.test(a)?"QQ Browser Lite":"QQ Browser"},l=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/msie|trident/i],describe:function(a){var c={name:"Internet Explorer"},l=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/\sedg\//i],describe:function(a){var c={name:"Microsoft Edge"},l=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/edg([ea]|ios)/i],describe:function(a){var c={name:"Microsoft Edge"},l=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/vivaldi/i],describe:function(a){var c={name:"Vivaldi"},l=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/seamonkey/i],describe:function(a){var c={name:"SeaMonkey"},l=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/sailfish/i],describe:function(a){var c={name:"Sailfish"},l=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,a);return l&&(c.version=l),c}},{test:[/silk/i],describe:function(a){var c={name:"Amazon Silk"},l=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/phantom/i],describe:function(a){var c={name:"PhantomJS"},l=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/slimerjs/i],describe:function(a){var c={name:"SlimerJS"},l=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var c={name:"BlackBerry"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var c={name:"WebOS Browser"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/bada/i],describe:function(a){var c={name:"Bada"},l=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/tizen/i],describe:function(a){var c={name:"Tizen"},l=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/qupzilla/i],describe:function(a){var c={name:"QupZilla"},l=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/firefox|iceweasel|fxios/i],describe:function(a){var c={name:"Firefox"},l=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/electron/i],describe:function(a){var c={name:"Electron"},l=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/MiuiBrowser/i],describe:function(a){var c={name:"Miui"},l=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/chromium/i],describe:function(a){var c={name:"Chromium"},l=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/chrome|crios|crmo/i],describe:function(a){var c={name:"Chrome"},l=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/GSA/i],describe:function(a){var c={name:"Google Search"},l=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){var c=!a.test(/like android/i),l=a.test(/android/i);return c&&l},describe:function(a){var c={name:"Android Browser"},l=i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/playstation 4/i],describe:function(a){var c={name:"PlayStation 4"},l=i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/safari|applewebkit/i],describe:function(a){var c={name:"Safari"},l=i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/.*/i],describe:function(a){var c=a.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(c,a),version:i.default.getSecondMatch(c,a)}}}];e.default=o,t.exports=e.default},93:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18),o=[{test:[/Roku\/DVP/],describe:function(a){var c=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,a);return{name:s.OS_MAP.Roku,version:c}}},{test:[/windows phone/i],describe:function(a){var c=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,a);return{name:s.OS_MAP.WindowsPhone,version:c}}},{test:[/windows /i],describe:function(a){var c=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,a),l=i.default.getWindowsVersionName(c);return{name:s.OS_MAP.Windows,version:c,versionName:l}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(a){var c={name:s.OS_MAP.iOS},l=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,a);return l&&(c.version=l),c}},{test:[/macintosh/i],describe:function(a){var c=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,a).replace(/[_\s]/g,"."),l=i.default.getMacOSVersionName(c),u={name:s.OS_MAP.MacOS,version:c};return l&&(u.versionName=l),u}},{test:[/(ipod|iphone|ipad)/i],describe:function(a){var c=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,a).replace(/[_\s]/g,".");return{name:s.OS_MAP.iOS,version:c}}},{test:function(a){var c=!a.test(/like android/i),l=a.test(/android/i);return c&&l},describe:function(a){var c=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,a),l=i.default.getAndroidVersionName(c),u={name:s.OS_MAP.Android,version:c};return l&&(u.versionName=l),u}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var c=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,a),l={name:s.OS_MAP.WebOS};return c&&c.length&&(l.version=c),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var c=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,a)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,a)||i.default.getFirstMatch(/\bbb(\d+)/i,a);return{name:s.OS_MAP.BlackBerry,version:c}}},{test:[/bada/i],describe:function(a){var c=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,a);return{name:s.OS_MAP.Bada,version:c}}},{test:[/tizen/i],describe:function(a){var c=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,a);return{name:s.OS_MAP.Tizen,version:c}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(a){var c=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,a);return{name:s.OS_MAP.PlayStation4,version:c}}}];e.default=o,t.exports=e.default},94:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(a){var c=i.default.getFirstMatch(/(can-l01)/i,a)&&"Nova",l={type:s.PLATFORMS_MAP.mobile,vendor:"Huawei"};return c&&(l.model=c),l}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(a){var c=a.test(/ipod|iphone/i),l=a.test(/like (ipod|iphone)/i);return c&&!l},describe:function(a){var c=i.default.getFirstMatch(/(ipod|iphone)/i,a);return{type:s.PLATFORMS_MAP.mobile,vendor:"Apple",model:c}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName(!0)==="blackberry"},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(a){return a.getBrowserName(!0)==="bada"},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName()==="windows phone"},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(a){var c=Number(String(a.getOSVersion()).split(".")[0]);return a.getOSName(!0)==="android"&&c>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(a){return a.getOSName(!0)==="android"},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getOSName(!0)==="macos"},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(a){return a.getOSName(!0)==="windows"},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="linux"},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="playstation 4"},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(a){return a.getOSName(!0)==="roku"},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];e.default=o,t.exports=e.default},95:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18),o=[{test:function(a){return a.getBrowserName(!0)==="microsoft edge"},describe:function(a){if(/\sedg\//i.test(a))return{name:s.ENGINE_MAP.Blink};var c=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,a);return{name:s.ENGINE_MAP.EdgeHTML,version:c}}},{test:[/trident/i],describe:function(a){var c={name:s.ENGINE_MAP.Trident},l=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){return a.test(/presto/i)},describe:function(a){var c={name:s.ENGINE_MAP.Presto},l=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){var c=a.test(/gecko/i),l=a.test(/like gecko/i);return c&&!l},describe:function(a){var c={name:s.ENGINE_MAP.Gecko},l=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(a){var c={name:s.ENGINE_MAP.WebKit},l=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}}];e.default=o,t.exports=e.default}})})});function BR(t,e){return Object.is(t,e)}var Ir=null,Zg=!1,Jg=1,La=Symbol("SIGNAL");function zt(t){let e=Ir;return Ir=t,e}function VR(){return Ir}var Hp={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $1(t){if(Zg)throw new Error("");if(Ir===null)return;Ir.consumerOnSignalRead(t);let e=Ir.nextProducerIndex++;if(rv(Ir),e<Ir.producerNode.length&&Ir.producerNode[e]!==t&&$p(Ir)){let n=Ir.producerNode[e];nv(n,Ir.producerIndexOfThis[e])}Ir.producerNode[e]!==t&&(Ir.producerNode[e]=t,Ir.producerIndexOfThis[e]=$p(Ir)?HR(t,Ir,e):0),Ir.producerLastReadVersion[e]=t.version}function DH(){Jg++}function UR(t){if(!($p(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Jg)){if(!t.producerMustRecompute(t)&&!z1(t)){t.dirty=!1,t.lastCleanEpoch=Jg;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Jg}}function jR(t){if(t.liveConsumerNode===void 0)return;let e=Zg;Zg=!0;try{for(let n of t.liveConsumerNode)n.dirty||kH(n)}finally{Zg=e}}function $R(){return Ir?.consumerAllowSignalWrites!==!1}function kH(t){t.dirty=!0,jR(t),t.consumerMarkedDirty?.(t)}function tv(t){return t&&(t.nextProducerIndex=0),zt(t)}function H1(t,e){if(zt(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if($p(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)nv(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function z1(t){rv(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(UR(n),r!==n.version))return!0}return!1}function q1(t){if(rv(t),$p(t))for(let e=0;e<t.producerNode.length;e++)nv(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function HR(t,e,n){if(zR(t),t.liveConsumerNode.length===0&&qR(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=HR(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function nv(t,e){if(zR(t),t.liveConsumerNode.length===1&&qR(t))for(let r=0;r<t.producerNode.length;r++)nv(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];rv(i),i.producerIndexOfThis[r]=e}}function $p(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function rv(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function zR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function qR(t){return t.producerNode!==void 0}function GR(t){let e=Object.create(RH);e.computation=t;let n=()=>{if(UR(e),$1(e),e.value===ev)throw e.error;return e.value};return n[La]=e,n}var U1=Symbol("UNSET"),j1=Symbol("COMPUTING"),ev=Symbol("ERRORED"),RH=he(G({},Hp),{value:U1,dirty:!0,error:null,equal:BR,producerMustRecompute(t){return t.value===U1||t.value===j1},producerRecomputeValue(t){if(t.value===j1)throw new Error("Detected cycle in computations.");let e=t.value;t.value=j1;let n=tv(t),r;try{r=t.computation()}catch(i){r=ev,t.error=i}finally{H1(t,n)}if(e!==U1&&e!==ev&&r!==ev&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function PH(){throw new Error}var WR=PH;function KR(){WR()}function XR(t){WR=t}var MH=null;function YR(t){let e=Object.create(ZR);e.value=t;let n=()=>($1(e),e.value);return n[La]=e,n}function G1(t,e){$R()||KR(),t.equal(t.value,e)||(t.value=e,NH(t))}function QR(t,e){$R()||KR(),G1(t,e(t.value))}var ZR=he(G({},Hp),{equal:BR,value:void 0});function NH(t){t.version++,DH(),jR(t),MH?.()}function gt(t){return typeof t=="function"}function Jd(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var iv=Jd(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function hu(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var zn=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(gt(r))try{r()}catch(s){e=s instanceof iv?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{JR(s)}catch(o){e=e??[],o instanceof iv?e=[...e,...o.errors]:e.push(o)}}if(e)throw new iv(e)}}add(e){var n;if(e&&e!==this)if(this.closed)JR(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&hu(n,e)}remove(e){let{_finalizers:n}=this;n&&hu(n,e),e instanceof t&&e._removeParent(this)}};zn.EMPTY=(()=>{let t=new zn;return t.closed=!0,t})();var W1=zn.EMPTY;function sv(t){return t instanceof zn||t&&"closed"in t&&gt(t.remove)&&gt(t.add)&&gt(t.unsubscribe)}function JR(t){gt(t)?t():t.unsubscribe()}var ho={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ef={setTimeout(t,e,...n){let{delegate:r}=ef;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ef;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ov(t){ef.setTimeout(()=>{let{onUnhandledError:e}=ho;if(e)e(t);else throw t})}function zp(){}var eP=K1("C",void 0,void 0);function tP(t){return K1("E",void 0,t)}function nP(t){return K1("N",t,void 0)}function K1(t,e,n){return{kind:t,value:e,error:n}}var pu=null;function tf(t){if(ho.useDeprecatedSynchronousErrorHandling){let e=!pu;if(e&&(pu={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=pu;if(pu=null,n)throw r}}else t()}function rP(t){ho.useDeprecatedSynchronousErrorHandling&&pu&&(pu.errorThrown=!0,pu.error=t)}var mu=class extends zn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sv(e)&&e.add(this)):this.destination=LH}static create(e,n,r){return new nf(e,n,r)}next(e){this.isStopped?Y1(nP(e),this):this._next(e)}error(e){this.isStopped?Y1(tP(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Y1(eP,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},OH=Function.prototype.bind;function X1(t,e){return OH.call(t,e)}var Q1=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){av(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){av(r)}else av(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){av(n)}}},nf=class extends mu{constructor(e,n,r){super();let i;if(gt(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ho.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&X1(e.next,s),error:e.error&&X1(e.error,s),complete:e.complete&&X1(e.complete,s)}):i=e}this.destination=new Q1(i)}};function av(t){ho.useDeprecatedSynchronousErrorHandling?rP(t):ov(t)}function FH(t){throw t}function Y1(t,e){let{onStoppedNotification:n}=ho;n&&ef.setTimeout(()=>n(t,e))}var LH={closed:!0,next:zp,error:FH,complete:zp};var rf=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ds(t){return t}function cv(...t){return Z1(t)}function Z1(t){return t.length===0?ds:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Mt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=VH(n)?n:new nf(n,r,i);return tf(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=iP(r),new r((i,s)=>{let o=new nf({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[rf](){return this}pipe(...n){return Z1(n)(this)}toPromise(n){return n=iP(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function iP(t){var e;return(e=t??ho.Promise)!==null&&e!==void 0?e:Promise}function BH(t){return t&&gt(t.next)&&gt(t.error)&&gt(t.complete)}function VH(t){return t&&t instanceof mu||BH(t)&&sv(t)}function J1(t){return gt(t?.lift)}function jt(t){return e=>{if(J1(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Nt(t,e,n,r,i){return new eb(t,e,n,r,i)}var eb=class extends mu{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function sf(){return jt((t,e)=>{let n=null;t._refCount++;let r=Nt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var of=class extends Mt{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,J1(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new zn;let n=this.getSubject();e.add(this.source.subscribe(Nt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=zn.EMPTY)}return e}refCount(){return sf()(this)}};var sP=Jd(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ar=(()=>{class t extends Mt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new lv(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new sP}next(n){tf(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){tf(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){tf(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?W1:(this.currentObservers=null,s.push(n),new zn(()=>{this.currentObservers=null,hu(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new Mt;return n.source=this,n}}return t.create=(e,n)=>new lv(e,n),t})(),lv=class extends Ar{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:W1}};var er=class extends Ar{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var tb={now(){return(tb.delegate||Date).now()},delegate:void 0};var uv=class extends zn{constructor(e,n){super()}schedule(e,n=0){return this}};var qp={setInterval(t,e,...n){let{delegate:r}=qp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=qp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var af=class extends uv{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return qp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&qp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,hu(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var cf=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};cf.now=tb.now;var lf=class extends cf{constructor(e,n=cf.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var nb=new lf(af);var dv=class extends af{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var fv=class extends lf{};var rb=new fv(dv);var fs=new Mt(t=>t.complete());function oP(t){return t&&gt(t.schedule)}function aP(t){return t[t.length-1]}function hv(t){return gt(aP(t))?t.pop():void 0}function Hc(t){return oP(aP(t))?t.pop():void 0}function ib(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zc(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function df(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function uf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gu(t){return this instanceof gu?(this.v=t,this):new gu(t)}function cP(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(y){return Promise.resolve(y).then(m,f)}}function a(m,y){r[m]&&(i[m]=function(_){return new Promise(function(x,M){s.push([m,_,x,M])>1||c(m,_)})},y&&(i[m]=y(i[m])))}function c(m,y){try{l(r[m](y))}catch(_){h(s[0][3],_)}}function l(m){m.value instanceof gu?Promise.resolve(m.value.v).then(u,f):h(s[0][2],m)}function u(m){c("next",m)}function f(m){c("throw",m)}function h(m,y){m(y),s.shift(),s.length&&c(s[0][0],s[0][1])}}function lP(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof uf=="function"?uf(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var pv=t=>t&&typeof t.length=="number"&&typeof t!="function";function mv(t){return gt(t?.then)}function gv(t){return gt(t[rf])}function vv(t){return Symbol.asyncIterator&&gt(t?.[Symbol.asyncIterator])}function yv(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function UH(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var _v=UH();function xv(t){return gt(t?.[_v])}function wv(t){return cP(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield gu(n.read());if(i)return yield gu(void 0);yield yield gu(r)}}finally{n.releaseLock()}})}function Ev(t){return gt(t?.getReader)}function ur(t){if(t instanceof Mt)return t;if(t!=null){if(gv(t))return jH(t);if(pv(t))return $H(t);if(mv(t))return HH(t);if(vv(t))return uP(t);if(xv(t))return zH(t);if(Ev(t))return qH(t)}throw yv(t)}function jH(t){return new Mt(e=>{let n=t[rf]();if(gt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $H(t){return new Mt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function HH(t){return new Mt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ov)})}function zH(t){return new Mt(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function uP(t){return new Mt(e=>{GH(t,e).catch(n=>e.error(n))})}function qH(t){return uP(wv(t))}function GH(t,e){var n,r,i,s;return zc(this,void 0,void 0,function*(){try{for(n=lP(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Qi(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function qc(t,e=0){return jt((n,r)=>{n.subscribe(Nt(r,i=>Qi(r,t,()=>r.next(i),e),()=>Qi(r,t,()=>r.complete(),e),i=>Qi(r,t,()=>r.error(i),e)))})}function Gc(t,e=0){return jt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function dP(t,e){return ur(t).pipe(Gc(e),qc(e))}function fP(t,e){return ur(t).pipe(Gc(e),qc(e))}function hP(t,e){return new Mt(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function pP(t,e){return new Mt(n=>{let r;return Qi(n,e,()=>{r=t[_v](),Qi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>gt(r?.return)&&r.return()})}function bv(t,e){if(!t)throw new Error("Iterable cannot be null");return new Mt(n=>{Qi(n,e,()=>{let r=t[Symbol.asyncIterator]();Qi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function mP(t,e){return bv(wv(t),e)}function gP(t,e){if(t!=null){if(gv(t))return dP(t,e);if(pv(t))return hP(t,e);if(mv(t))return fP(t,e);if(vv(t))return bv(t,e);if(xv(t))return pP(t,e);if(Ev(t))return mP(t,e)}throw yv(t)}function qn(t,e){return e?gP(t,e):ur(t)}function lt(...t){let e=Hc(t);return qn(t,e)}function ff(t,e){let n=gt(t)?t:()=>t,r=i=>i.error(n());return new Mt(e?i=>e.schedule(r,0,i):r)}function sb(t){return!!t&&(t instanceof Mt||gt(t.lift)&&gt(t.subscribe))}var Ba=Jd(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function wt(t,e){return jt((n,r)=>{let i=0;n.subscribe(Nt(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:WH}=Array;function KH(t,e){return WH(e)?t(...e):t(e)}function Cv(t){return wt(e=>KH(t,e))}var{isArray:XH}=Array,{getPrototypeOf:YH,prototype:QH,keys:ZH}=Object;function Sv(t){if(t.length===1){let e=t[0];if(XH(e))return{args:e,keys:null};if(JH(e)){let n=ZH(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function JH(t){return t&&typeof t=="object"&&YH(t)===QH}function Tv(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Iv(...t){let e=Hc(t),n=hv(t),{args:r,keys:i}=Sv(t);if(r.length===0)return qn([],e);let s=new Mt(ez(r,e,i?o=>Tv(i,o):ds));return n?s.pipe(Cv(n)):s}function ez(t,e,n=ds){return r=>{vP(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)vP(e,()=>{let l=qn(t[c],e),u=!1;l.subscribe(Nt(r,f=>{s[c]=f,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function vP(t,e,n){t?Qi(n,t,e):e()}function yP(t,e,n,r,i,s,o,a){let c=[],l=0,u=0,f=!1,h=()=>{f&&!c.length&&!l&&e.complete()},m=_=>l<r?y(_):c.push(_),y=_=>{s&&e.next(_),l++;let x=!1;ur(n(_,u++)).subscribe(Nt(e,M=>{i?.(M),s?m(M):e.next(M)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;c.length&&l<r;){let M=c.shift();o?Qi(e,o,()=>y(M)):y(M)}h()}catch(M){e.error(M)}}))};return t.subscribe(Nt(e,m,()=>{f=!0,h()})),()=>{a?.()}}function Dr(t,e,n=1/0){return gt(e)?Dr((r,i)=>wt((s,o)=>e(r,s,i,o))(ur(t(r,i))),n):(typeof e=="number"&&(n=e),jt((r,i)=>yP(r,i,t,n)))}function ob(t=1/0){return Dr(ds,t)}function _P(){return ob(1)}function hf(...t){return _P()(qn(t,Hc(t)))}function Av(t){return new Mt(e=>{ur(t()).subscribe(e)})}function ab(...t){let e=hv(t),{args:n,keys:r}=Sv(t),i=new Mt(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let u=0;u<o;u++){let f=!1;ur(n[u]).subscribe(Nt(s,h=>{f||(f=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!f)&&(l||s.next(r?Tv(r,a):a),s.complete())}))}});return e?i.pipe(Cv(e)):i}function Zi(t,e){return jt((n,r)=>{let i=0;n.subscribe(Nt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Wc(t){return jt((e,n)=>{let r=null,i=!1,s;r=e.subscribe(Nt(n,void 0,void 0,o=>{s=ur(t(o,Wc(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function xP(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(Nt(o,u=>{let f=l++;c=a?t(c,u,f):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function pf(t,e){return gt(e)?Dr(t,e,1):Dr(t,1)}function Kc(t){return jt((e,n)=>{let r=!1;e.subscribe(Nt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Va(t){return t<=0?()=>fs:jt((e,n)=>{let r=0;e.subscribe(Nt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function cb(t){return wt(()=>t)}function Dv(t=tz){return jt((e,n)=>{let r=!1;e.subscribe(Nt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function tz(){return new Ba}function Gp(t){return jt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Wo(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Zi((i,s)=>t(i,s,r)):ds,Va(1),n?Kc(e):Dv(()=>new Ba))}function mf(t){return t<=0?()=>fs:jt((e,n)=>{let r=[];e.subscribe(Nt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function lb(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Zi((i,s)=>t(i,s,r)):ds,mf(1),n?Kc(e):Dv(()=>new Ba))}function kv(t,e){return jt(xP(t,e,arguments.length>=2,!0))}function Rv(...t){let e=Hc(t);return jt((n,r)=>{(e?hf(t,n,e):hf(t,n)).subscribe(r)})}function po(t,e){return jt((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(Nt(r,c=>{i?.unsubscribe();let l=0,u=s++;ur(t(c,u)).subscribe(i=Nt(r,f=>r.next(e?e(c,f,u,l++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ub(t){return jt((e,n)=>{ur(t).subscribe(Nt(n,()=>n.complete(),zp)),!n.closed&&e.subscribe(n)})}function kr(t,e,n){let r=gt(t)||e||n?{next:t,error:e,complete:n}:t;return r?jt((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Nt(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ds}var aM="https://g.co/ng/security#xss",Ye=class extends Error{constructor(e,n){super(fC(e,n)),this.code=e}};function fC(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function rm(t){return{toString:t}.toString()}var Pv="__parameters__";function nz(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function cM(t,e,n){return rm(()=>{let r=nz(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,u){let f=c.hasOwnProperty(Pv)?c[Pv]:Object.defineProperty(c,Pv,{value:[]})[Pv];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var yu=globalThis;function vn(t){for(let e in t)if(t[e]===vn)return e;throw Error("Could not find renamed property on target object.")}function rz(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ki(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ki).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function wP(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var iz=vn({__forward_ref__:vn});function Pi(t){return t.__forward_ref__=Pi,t.toString=function(){return ki(this())},t}function Di(t){return lM(t)?t():t}function lM(t){return typeof t=="function"&&t.hasOwnProperty(iz)&&t.__forward_ref__===Pi}function Xe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ps(t){return{providers:t.providers||[],imports:t.imports||[]}}function py(t){return EP(t,dM)||EP(t,fM)}function uM(t){return py(t)!==null}function EP(t,e){return t.hasOwnProperty(e)?t[e]:null}function sz(t){let e=t&&(t[dM]||t[fM]);return e||null}function bP(t){return t&&(t.hasOwnProperty(CP)||t.hasOwnProperty(oz))?t[CP]:null}var dM=vn({\u0275prov:vn}),CP=vn({\u0275inj:vn}),fM=vn({ngInjectableDef:vn}),oz=vn({ngInjectorDef:vn}),We=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Xe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function hM(t){return t&&!!t.\u0275providers}var az=vn({\u0275cmp:vn}),cz=vn({\u0275dir:vn}),lz=vn({\u0275pipe:vn}),uz=vn({\u0275mod:vn}),$v=vn({\u0275fac:vn}),Xp=vn({__NG_ELEMENT_ID__:vn}),SP=vn({__NG_ENV_ID__:vn});function wf(t){return typeof t=="string"?t:t==null?"":String(t)}function dz(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():wf(t)}function fz(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Ye(-200,t)}function hC(t,e){throw new Ye(-201,!1)}var Tt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Tt||{}),Sb;function pM(){return Sb}function Ji(t){let e=Sb;return Sb=t,e}function mM(t,e,n){let r=py(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Tt.Optional)return null;if(e!==void 0)return e;hC(t,"Injector")}var hz={},Yp=hz,Tb="__NG_DI_FLAG__",Hv="ngTempTokenPath",pz="ngTokenPath",mz=/\n/gm,gz="\u0275",TP="__source",_f;function vz(){return _f}function Xc(t){let e=_f;return _f=t,e}function yz(t,e=Tt.Default){if(_f===void 0)throw new Ye(-203,!1);return _f===null?mM(t,void 0,e):_f.get(t,e&Tt.Optional?null:void 0,e)}function st(t,e=Tt.Default){return(pM()||yz)(Di(t),e)}function Be(t,e=Tt.Default){return st(t,my(e))}function my(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ib(t){let e=[];for(let n=0;n<t.length;n++){let r=Di(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Ye(900,!1);let i,s=Tt.Default;for(let o=0;o<r.length;o++){let a=r[o],c=_z(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(st(i,s))}else e.push(st(r))}return e}function gM(t,e){return t[Tb]=e,t.prototype[Tb]=e,t}function _z(t){return t[Tb]}function xz(t,e,n,r){let i=t[Hv];throw e[TP]&&i.unshift(e[TP]),t.message=wz(`
`+t.message,i,n,r),t[pz]=i,t[Hv]=null,t}function wz(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==gz?t.slice(2):t;let i=ki(e);if(Array.isArray(e))i=e.map(ki).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ki(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mz,`
  `)}`}var Mi=gM(cM("Optional"),8);var vM=gM(cM("SkipSelf"),4);function xu(t,e){let n=t.hasOwnProperty($v);return n?t[$v]:null}function pC(t,e){t.forEach(n=>Array.isArray(n)?pC(n,e):e(n))}function yM(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function zv(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ez(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function bz(t,e,n){let r=im(t,e);return r>=0?t[r|1]=n:(r=~r,Ez(t,r,e,n)),r}function db(t,e){let n=im(t,e);if(n>=0)return t[n|1]}function im(t,e){return Cz(t,e,1)}function Cz(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Ef={},Us=[],bf=new We(""),_M=new We("",-1),xM=new We(""),qv=class{get(e,n=Yp){if(n===Yp){let r=new Error(`NullInjectorError: No provider for ${ki(e)}!`);throw r.name="NullInjectorError",r}return n}},wM=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(wM||{}),Yo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Yo||{}),Zc=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Zc||{});function Sz(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Ab(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];Tz(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function EM(t){return t===3||t===4||t===6}function Tz(t){return t.charCodeAt(0)===64}function Qp(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?IP(t,n,i,null,e[++r]):IP(t,n,i,null,null))}}return t}function IP(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var bM="ng-template";function Iz(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Sz(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(mC(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function mC(t){return t.type===4&&t.value!==bM}function Az(t,e,n){let r=t.type===4&&!n?bM:t.value;return e===r}function Dz(t,e,n){let r=4,i=t.attrs,s=i!==null?Pz(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!mo(r)&&!mo(c))return!1;if(o&&mo(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!Az(t,c,n)||c===""&&e.length===1){if(mo(r))return!1;o=!0}}else if(r&8){if(i===null||!Iz(t,i,c,n)){if(mo(r))return!1;o=!0}}else{let l=e[++a],u=kz(c,i,mC(t),n);if(u===-1){if(mo(r))return!1;o=!0;continue}if(l!==""){let f;if(u>s?f="":f=i[u+1].toLowerCase(),r&2&&l!==f){if(mo(r))return!1;o=!0}}}}return mo(r)||o}function mo(t){return(t&1)===0}function kz(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return Mz(e,t)}function Rz(t,e,n=!1){for(let r=0;r<e.length;r++)if(Dz(t,e[r],n))return!0;return!1}function Pz(t){for(let e=0;e<t.length;e++){let n=t[e];if(EM(n))return e}return t.length}function Mz(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function AP(t,e){return t?":not("+e.trim()+")":e}function Nz(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!mo(o)&&(e+=AP(s,i),i=""),r=o,s=s||!mo(r);n++}return i!==""&&(e+=AP(s,i)),e}function Oz(t){return t.map(Nz).join(",")}function Fz(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!mo(i))break;i=s}r++}return{attrs:e,classes:n}}function Et(t){return rm(()=>{let e=AM(t),n=he(G({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===wM.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Yo.Emulated,styles:t.styles||Us,_:null,schemas:t.schemas||null,tView:null,id:""});DM(n);let r=t.dependencies;return n.directiveDefs=kP(r,!1),n.pipeDefs=kP(r,!0),n.id=Vz(n),n})}function Lz(t){return wu(t)||CM(t)}function Bz(t){return t!==null}function ms(t){return rm(()=>({type:t.type,bootstrap:t.bootstrap||Us,declarations:t.declarations||Us,imports:t.imports||Us,exports:t.exports||Us,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function DP(t,e){if(t==null)return Ef;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Zc.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Zc.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Kt(t){return rm(()=>{let e=AM(t);return DM(e),e})}function Au(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function wu(t){return t[az]||null}function CM(t){return t[cz]||null}function SM(t){return t[lz]||null}function TM(t){let e=wu(t)||CM(t)||SM(t);return e!==null?e.standalone:!1}function IM(t,e){let n=t[uz]||null;if(!n&&e===!0)throw new Error(`Type ${ki(t)} does not have '\u0275mod' property.`);return n}function AM(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ef,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Us,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:DP(t.inputs,e),outputs:DP(t.outputs),debugInfo:null}}function DM(t){t.features?.forEach(e=>e(t))}function kP(t,e){if(!t)return null;let n=e?SM:Lz;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Bz)}function Vz(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ea(t){return{\u0275providers:t}}function Uz(...t){return{\u0275providers:kM(!0,t),\u0275fromNgModule:!0}}function kM(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return pC(e,o=>{let a=o;Db(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&RM(i,s),n}function RM(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];gC(i,s=>{e(s,r)})}}function Db(t,e,n,r){if(t=Di(t),!t)return!1;let i=null,s=bP(t),o=!s&&wu(t);if(!s&&!o){let c=t.ngModule;if(s=bP(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)Db(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{pC(s.imports,u=>{Db(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&RM(l,e)}if(!a){let l=xu(i)||(()=>new i);e({provide:i,useFactory:l,deps:Us},i),e({provide:xM,useValue:i,multi:!0},i),e({provide:bf,useValue:()=>st(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=t;gC(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function gC(t,e){for(let n of t)hM(n)&&(n=n.\u0275providers),Array.isArray(n)?gC(n,e):e(n)}var jz=vn({provide:String,useValue:vn});function PM(t){return t!==null&&typeof t=="object"&&jz in t}function $z(t){return!!(t&&t.useExisting)}function Hz(t){return!!(t&&t.useFactory)}function Cf(t){return typeof t=="function"}function zz(t){return!!t.useClass}var gy=new We(""),Lv={},qz={},fb;function vC(){return fb===void 0&&(fb=new qv),fb}var Hs=class{},Zp=class extends Hs{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rb(e,o=>this.processProvider(o)),this.records.set(_M,gf(void 0,this)),i.has("environment")&&this.records.set(Hs,gf(void 0,this));let s=this.records.get(gy);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(xM,Us,Tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=zt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),zt(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Xc(this),r=Ji(void 0),i;try{return e()}finally{Xc(n),Ji(r)}}get(e,n=Yp,r=Tt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(SP))return e[SP](this);r=my(r);let i,s=Xc(this),o=Ji(void 0);try{if(!(r&Tt.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=Yz(e)&&py(e);l&&this.injectableDefInScope(l)?c=gf(kb(e),Lv):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Tt.Self?vC():this.parent;return n=r&Tt.Optional&&n===Yp?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Hv]=a[Hv]||[]).unshift(ki(e)),s)throw a;return xz(a,e,"R3InjectorError",this.source)}else throw a}finally{Ji(o),Xc(s)}}resolveInjectorInitializers(){let e=zt(null),n=Xc(this),r=Ji(void 0),i;try{let s=this.get(bf,Us,Tt.Self);for(let o of s)o()}finally{Xc(n),Ji(r),zt(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ki(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ye(205,!1)}processProvider(e){e=Di(e);let n=Cf(e)?e:Di(e&&e.provide),r=Wz(e);if(!Cf(e)&&e.multi===!0){let i=this.records.get(n);i||(i=gf(void 0,Lv,!0),i.factory=()=>Ib(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=zt(null);try{return n.value===Lv&&(n.value=qz,n.value=n.factory()),typeof n.value=="object"&&n.value&&Xz(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{zt(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Di(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function kb(t){let e=py(t),n=e!==null?e.factory:xu(t);if(n!==null)return n;if(t instanceof We)throw new Ye(204,!1);if(t instanceof Function)return Gz(t);throw new Ye(204,!1)}function Gz(t){if(t.length>0)throw new Ye(204,!1);let n=sz(t);return n!==null?()=>n.factory(t):()=>new t}function Wz(t){if(PM(t))return gf(void 0,t.useValue);{let e=MM(t);return gf(e,Lv)}}function MM(t,e,n){let r;if(Cf(t)){let i=Di(t);return xu(i)||kb(i)}else if(PM(t))r=()=>Di(t.useValue);else if(Hz(t))r=()=>t.useFactory(...Ib(t.deps||[]));else if($z(t))r=()=>st(Di(t.useExisting));else{let i=Di(t&&(t.useClass||t.provide));if(Kz(t))r=()=>new i(...Ib(t.deps));else return xu(i)||kb(i)}return r}function gf(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Kz(t){return!!t.deps}function Xz(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Yz(t){return typeof t=="function"||typeof t=="object"&&t instanceof We}function Rb(t,e){for(let n of t)Array.isArray(n)?Rb(n,e):n&&hM(n)?Rb(n.\u0275providers,e):e(n)}function za(t,e){t instanceof Zp&&t.assertNotDestroyed();let n,r=Xc(t),i=Ji(void 0);try{return e()}finally{Xc(r),Ji(i)}}function Qz(){return pM()!==void 0||vz()!=null}function Zz(t){return typeof t=="function"}var qa=0,Rt=1,ct=2,Ri=3,go=4,yo=5,Gv=6,Wv=7,vo=8,Sf=9,Qo=10,tr=11,Jp=12,RP=13,Nf=14,Zo=15,Tf=16,vf=17,If=18,vy=19,NM=20,Yc=21,hb=22,js=23,hs=25,OM=1;var Eu=7,Kv=8,Xv=9,$s=10,Yv=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Yv||{});function Qc(t){return Array.isArray(t)&&typeof t[OM]=="object"}function Ga(t){return Array.isArray(t)&&t[OM]===!0}function yC(t){return(t.flags&4)!==0}function yy(t){return t.componentOffset>-1}function _y(t){return(t.flags&1)===1}function Jc(t){return!!t.template}function Pb(t){return(t[ct]&512)!==0}var Mb=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function FM(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function zs(){return LM}function LM(t){return t.type.prototype.ngOnChanges&&(t.setInput=eq),Jz}zs.ngInherit=!0;function Jz(){let t=VM(this),e=t?.current;if(e){let n=t.previous;if(n===Ef)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function eq(t,e,n,r,i){let s=this.declaredInputs[r],o=VM(t)||tq(t,{previous:Ef,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new Mb(l&&l.currentValue,n,c===Ef),FM(t,e,i,n)}var BM="__ngSimpleChanges__";function VM(t){return t[BM]||null}function tq(t,e){return t[BM]=e}var PP=null;var Ko=function(t,e,n){PP?.(t,e,n)},nq="svg",rq="math";function Jo(t){for(;Array.isArray(t);)t=t[qa];return t}function UM(t,e){return Jo(e[t])}function qs(t,e){return Jo(e[t.index])}function jM(t,e){return t.data[e]}function _C(t,e){return t[e]}function nl(t,e){let n=e[t];return Qc(n)?n:n[qa]}function xC(t){return(t[ct]&128)===128}function iq(t){return Ga(t[Ri])}function Af(t,e){return e==null?null:t[e]}function $M(t){t[vf]=0}function HM(t){t[ct]&1024||(t[ct]|=1024,xC(t)&&wy(t))}function sq(t,e){for(;t>0;)e=e[Nf],t--;return e}function xy(t){return!!(t[ct]&9216||t[js]?.dirty)}function Nb(t){t[Qo].changeDetectionScheduler?.notify(8),t[ct]&64&&(t[ct]|=1024),xy(t)&&wy(t)}function wy(t){t[Qo].changeDetectionScheduler?.notify(0);let e=bu(t);for(;e!==null&&!(e[ct]&8192||(e[ct]|=8192,!xC(e)));)e=bu(e)}function zM(t,e){if((t[ct]&256)===256)throw new Ye(911,!1);t[Yc]===null&&(t[Yc]=[]),t[Yc].push(e)}function oq(t,e){if(t[Yc]===null)return;let n=t[Yc].indexOf(e);n!==-1&&t[Yc].splice(n,1)}function bu(t){let e=t[Ri];return Ga(e)?e[Ri]:e}var At={lFrame:eN(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var qM=!1;function aq(){return At.lFrame.elementDepthCount}function cq(){At.lFrame.elementDepthCount++}function lq(){At.lFrame.elementDepthCount--}function GM(){return At.bindingsEnabled}function uq(){return At.skipHydrationRootTNode!==null}function dq(t){return At.skipHydrationRootTNode===t}function fq(){At.skipHydrationRootTNode=null}function $t(){return At.lFrame.lView}function Zr(){return At.lFrame.tView}function ut(t){return At.lFrame.contextLView=t,t[vo]}function dt(t){return At.lFrame.contextLView=null,t}function hi(){let t=WM();for(;t!==null&&t.type===64;)t=t.parent;return t}function WM(){return At.lFrame.currentTNode}function hq(){let t=At.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Du(t,e){let n=At.lFrame;n.currentTNode=t,n.isParent=e}function wC(){return At.lFrame.isParent}function KM(){At.lFrame.isParent=!1}function pq(){return At.lFrame.contextLView}function XM(){return qM}function MP(t){qM=t}function sm(){let t=At.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function mq(){return At.lFrame.bindingIndex}function gq(t){return At.lFrame.bindingIndex=t}function Ey(){return At.lFrame.bindingIndex++}function YM(t){let e=At.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function vq(){return At.lFrame.inI18n}function yq(t,e){let n=At.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ob(e)}function _q(){return At.lFrame.currentDirectiveIndex}function Ob(t){At.lFrame.currentDirectiveIndex=t}function xq(t){let e=At.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function QM(t){At.lFrame.currentQueryIndex=t}function wq(t){let e=t[Rt];return e.type===2?e.declTNode:e.type===1?t[yo]:null}function ZM(t,e,n){if(n&Tt.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&Tt.Host);)if(i=wq(s),i===null||(s=s[Nf],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=At.lFrame=JM();return r.currentTNode=e,r.lView=t,!0}function EC(t){let e=JM(),n=t[Rt];At.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function JM(){let t=At.lFrame,e=t===null?null:t.child;return e===null?eN(t):e}function eN(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function tN(){let t=At.lFrame;return At.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var nN=tN;function bC(){let t=tN();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Eq(t){return(At.lFrame.contextLView=sq(t,At.lFrame.contextLView))[vo]}function ku(){return At.lFrame.selectedIndex}function Cu(t){At.lFrame.selectedIndex=t}function by(){let t=At.lFrame;return jM(t.tView,t.selectedIndex)}function bq(){return At.lFrame.currentNamespace}var rN=!0;function Cy(){return rN}function Sy(t){rN=t}function Cq(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=LM(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Ty(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Bv(t,e,n){iN(t,e,3,n)}function Vv(t,e,n,r){(t[ct]&3)===n&&iN(t,e,n,r)}function pb(t,e){let n=t[ct];(n&3)===e&&(n&=16383,n+=1,t[ct]=n)}function iN(t,e,n,r){let i=r!==void 0?t[vf]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[vf]+=65536),(a<s||s==-1)&&(Sq(t,n,e,c),t[vf]=(t[vf]&4294901760)+c+2),c++}function NP(t,e){Ko(4,t,e);let n=zt(null);try{e.call(t)}finally{zt(n),Ko(5,t,e)}}function Sq(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[ct]>>14<t[vf]>>16&&(t[ct]&3)===e&&(t[ct]+=16384,NP(a,s)):NP(a,s)}var xf=-1,Su=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Tq(t){return t instanceof Su}function Iq(t){return(t.flags&8)!==0}function Aq(t){return(t.flags&16)!==0}var mb={},Fb=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=my(r);let i=this.injector.get(e,mb,r);return i!==mb||n===mb?i:this.parentInjector.get(e,n,r)}};function sN(t){return t!==xf}function Qv(t){return t&32767}function Dq(t){return t>>16}function Zv(t,e){let n=Dq(t),r=e;for(;n>0;)r=r[Nf],n--;return r}var Lb=!0;function Jv(t){let e=Lb;return Lb=t,e}var kq=256,oN=kq-1,aN=5,Rq=0,Xo={};function Pq(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xp)&&(r=n[Xp]),r==null&&(r=n[Xp]=Rq++);let i=r&oN,s=1<<i;e.data[t+(i>>aN)]|=s}function ey(t,e){let n=cN(t,e);if(n!==-1)return n;let r=e[Rt];r.firstCreatePass&&(t.injectorIndex=e.length,gb(r.data,t),gb(e,null),gb(r.blueprint,null));let i=CC(t,e),s=t.injectorIndex;if(sN(i)){let o=Qv(i),a=Zv(i,e),c=a[Rt].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function gb(t,e){t.push(0,0,0,0,0,0,0,0,e)}function cN(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function CC(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=hN(i),r===null)return xf;if(n++,i=i[Nf],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return xf}function Bb(t,e,n){Pq(t,e,n)}function Mq(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(EM(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function lN(t,e,n){if(n&Tt.Optional||t!==void 0)return t;hC(e,"NodeInjector")}function uN(t,e,n,r){if(n&Tt.Optional&&r===void 0&&(r=null),!(n&(Tt.Self|Tt.Host))){let i=t[Sf],s=Ji(void 0);try{return i?i.get(e,r,n&Tt.Optional):mM(e,r,n&Tt.Optional)}finally{Ji(s)}}return lN(r,e,n)}function dN(t,e,n,r=Tt.Default,i){if(t!==null){if(e[ct]&2048&&!(r&Tt.Self)){let o=Bq(t,e,n,r,Xo);if(o!==Xo)return o}let s=fN(t,e,n,r,Xo);if(s!==Xo)return s}return uN(e,n,r,i)}function fN(t,e,n,r,i){let s=Fq(n);if(typeof s=="function"){if(!ZM(e,t,r))return r&Tt.Host?lN(i,n,r):uN(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&Tt.Optional))hC(n);else return o}finally{nN()}}else if(typeof s=="number"){let o=null,a=cN(t,e),c=xf,l=r&Tt.Host?e[Zo][yo]:null;for((a===-1||r&Tt.SkipSelf)&&(c=a===-1?CC(t,e):e[a+8],c===xf||!FP(r,!1)?a=-1:(o=e[Rt],a=Qv(c),e=Zv(c,e)));a!==-1;){let u=e[Rt];if(OP(s,a,u.data)){let f=Nq(a,e,n,o,r,l);if(f!==Xo)return f}c=e[a+8],c!==xf&&FP(r,e[Rt].data[a+8]===l)&&OP(s,a,e)?(o=u,a=Qv(c),e=Zv(c,e)):a=-1}}return i}function Nq(t,e,n,r,i,s){let o=e[Rt],a=o.data[t+8],c=r==null?yy(a)&&Lb:r!=o&&(a.type&3)!==0,l=i&Tt.Host&&s===a,u=Oq(a,o,n,c,l);return u!==null?Df(e,o,u,a):Xo}function Oq(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,u=s>>20,f=r?a:a+u,h=i?a+u:l;for(let m=f;m<h;m++){let y=o[m];if(m<c&&n===y||m>=c&&y.type===n)return m}if(i){let m=o[c];if(m&&Jc(m)&&m.type===n)return c}return null}function Df(t,e,n,r){let i=t[n],s=e.data;if(Tq(i)){let o=i;o.resolving&&fz(dz(s[n]));let a=Jv(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?Ji(o.injectImpl):null,u=ZM(t,r,Tt.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Cq(n,s[n],e)}finally{l!==null&&Ji(l),Jv(a),o.resolving=!1,nN()}}return i}function Fq(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Xp)?t[Xp]:void 0;return typeof e=="number"?e>=0?e&oN:Lq:e}function OP(t,e,n){let r=1<<t;return!!(n[e+(t>>aN)]&r)}function FP(t,e){return!(t&Tt.Self)&&!(t&Tt.Host&&e)}var _u=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return dN(this._tNode,this._lView,e,my(r),n)}};function Lq(){return new _u(hi(),$t())}function _o(t){return rm(()=>{let e=t.prototype.constructor,n=e[$v]||Vb(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[$v]||Vb(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Vb(t){return lM(t)?()=>{let e=Vb(Di(t));return e&&e()}:xu(t)}function Bq(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[ct]&2048&&!(o[ct]&512);){let a=fN(s,o,n,r|Tt.Self,Xo);if(a!==Xo)return a;let c=s.parent;if(!c){let l=o[NM];if(l){let u=l.get(n,Xo,r);if(u!==Xo)return u}c=hN(o),o=o[Nf]}s=c}return i}function hN(t){let e=t[Rt],n=e.type;return n===2?e.declTNode:n===1?t[yo]:null}function SC(t){return Mq(hi(),t)}function LP(t,e=null,n=null,r){let i=pN(t,e,n,r);return i.resolveInjectorInitializers(),i}function pN(t,e=null,n=null,r,i=new Set){let s=[n||Us,Uz(t)];return r=r||(typeof t=="object"?void 0:ki(t)),new Zp(s,e||vC(),r||null,i)}var es=class t{static{this.THROW_IF_NOT_FOUND=Yp}static{this.NULL=new qv}static create(e,n){if(Array.isArray(e))return LP({name:""},n,e,"");{let r=e.name??"";return LP({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=Xe({token:t,providedIn:"any",factory:()=>st(_M)})}static{this.__NG_ELEMENT_ID__=-1}};var Vq=new We("");Vq.__NG_ELEMENT_ID__=t=>{let e=hi();if(e===null)throw new Ye(204,!1);if(e.type&2)return e.value;if(t&Tt.Optional)return null;throw new Ye(204,!1)};var Uq="ngOriginalError";function vb(t){return t[Uq]}var mN=!0,gN=(()=>{class t{static{this.__NG_ELEMENT_ID__=jq}static{this.__NG_ENV_ID__=n=>n}}return t})(),Ub=class extends gN{constructor(e){super(),this._lView=e}onDestroy(e){return zM(this._lView,e),()=>oq(this._lView,e)}};function jq(){return new Ub($t())}var Of=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new er(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Xe({token:t,providedIn:"root",factory:()=>new t})}}return t})();var jb=class extends Ar{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Qz()&&(this.destroyRef=Be(gN,{optional:!0})??void 0,this.pendingTasks=Be(Of,{optional:!0})??void 0)}emit(e){let n=zt(null);try{super.next(e)}finally{zt(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof zn&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},It=jb;function ty(...t){}function vN(t){let e,n;function r(){t=ty;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function BP(t){return queueMicrotask(()=>t()),()=>{t=ty}}var TC="isAngularZone",ny=TC+"_ID",$q=0,tn=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new It(!1),this.onMicrotaskEmpty=new It(!1),this.onStable=new It(!1),this.onError=new It(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=mN}=e;if(typeof Zone>"u")throw new Ye(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,qq(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(TC)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Ye(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Ye(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Hq,ty,ty);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Hq={};function IC(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function zq(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){vN(()=>{t.callbackScheduled=!1,$b(t),t.isCheckStableRunning=!0,IC(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),$b(t)}function qq(t){let e=()=>{zq(t)},n=$q++;t._inner=t._inner.fork({name:"angular",properties:{[TC]:!0,[ny]:n,[ny+n]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(Gq(c))return r.invokeTask(s,o,a,c);try{return VP(t),r.invokeTask(s,o,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),UP(t)}},onInvoke:(r,i,s,o,a,c,l)=>{try{return VP(t),r.invoke(s,o,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Wq(c)&&e(),UP(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,$b(t),IC(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function $b(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function VP(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function UP(t){t._nesting--,IC(t)}var Hb=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new It,this.onMicrotaskEmpty=new It,this.onStable=new It,this.onError=new It}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Gq(t){return yN(t,"__ignore_ng_zone__")}function Wq(t){return yN(t,"__scheduler_tick__")}function yN(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Ua=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&vb(e);for(;n&&vb(n);)n=vb(n);return n||null}},Kq=new We("",{providedIn:"root",factory:()=>{let t=Be(tn),e=Be(Ua);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Xq(){return Iy(hi(),$t())}function Iy(t,e){return new gs(qs(t,e))}var gs=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=Xq}}return t})();function _N(t){return(t.flags&128)===128}var xN=new Map,Yq=0;function Qq(){return Yq++}function Zq(t){xN.set(t[vy],t)}function zb(t){xN.delete(t[vy])}var jP="__ngContext__";function el(t,e){Qc(e)?(t[jP]=e[vy],Zq(e)):t[jP]=e}function wN(t){return bN(t[Jp])}function EN(t){return bN(t[go])}function bN(t){for(;t!==null&&!Ga(t);)t=t[go];return t}var qb;function CN(t){qb=t}function Jq(){if(qb!==void 0)return qb;if(typeof document<"u")return document;throw new Ye(210,!1)}var AC=new We("",{providedIn:"root",factory:()=>eG}),eG="ng",DC=new We(""),ta=new We("",{providedIn:"platform",factory:()=>"unknown"});var kC=new We("",{providedIn:"root",factory:()=>Jq().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var tG="h",nG="b";var rG=()=>null;function RC(t,e,n=!1){return rG(t,e,n)}var SN=!1,iG=new We("",{providedIn:"root",factory:()=>SN});var Mv;function sG(){if(Mv===void 0&&(Mv=null,yu.trustedTypes))try{Mv=yu.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Mv}function $P(t){return sG()?.createScriptURL(t)||t}var ry=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${aM})`}};function om(t){return t instanceof ry?t.changingThisBreaksApplicationSecurity:t}function PC(t,e){let n=oG(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${aM})`)}return n===e}function oG(t){return t instanceof ry&&t.getTypeName()||null}var aG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function TN(t){return t=String(t),t.match(aG)?t:"unsafe:"+t}var Ay=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ay||{});function Rr(t){let e=AN();return e?e.sanitize(Ay.URL,t)||"":PC(t,"URL")?om(t):TN(wf(t))}function cG(t){let e=AN();if(e)return $P(e.sanitize(Ay.RESOURCE_URL,t)||"");if(PC(t,"ResourceURL"))return $P(om(t));throw new Ye(904,!1)}function lG(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?cG:Rr}function IN(t,e,n){return lG(e,n)(t)}function AN(){let t=$t();return t&&t[Qo].sanitizer}var uG=/^>|^->|<!--|-->|--!>|<!-$/g,dG=/(<|>)/g,fG="\u200B$1\u200B";function hG(t){return t.replace(uG,e=>e.replace(dG,fG))}function DN(t){return t instanceof Function?t():t}var ja=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ja||{}),pG;function MC(t,e){return pG(t,e)}function yf(t,e,n,r,i){if(r!=null){let s,o=!1;Ga(r)?s=r:Qc(r)&&(o=!0,r=r[qa]);let a=Jo(r);t===0&&n!==null?i==null?NN(e,n,a):iy(e,n,a,i||null,!0):t===1&&n!==null?iy(e,n,a,i||null,!0):t===2?kG(e,a,o):t===3&&e.destroyNode(a),s!=null&&PG(e,t,s,n,i)}}function mG(t,e){return t.createText(e)}function gG(t,e,n){t.setValue(e,n)}function vG(t,e){return t.createComment(hG(e))}function kN(t,e,n){return t.createElement(e,n)}function yG(t,e){RN(t,e),e[qa]=null,e[yo]=null}function _G(t,e,n,r,i,s){r[qa]=i,r[yo]=e,ky(t,r,n,1,i,s)}function RN(t,e){e[Qo].changeDetectionScheduler?.notify(9),ky(t,e,e[tr],2,null,null)}function xG(t){let e=t[Jp];if(!e)return yb(t[Rt],t);for(;e;){let n=null;if(Qc(e))n=e[Jp];else{let r=e[$s];r&&(n=r)}if(!n){for(;e&&!e[go]&&e!==t;)Qc(e)&&yb(e[Rt],e),e=e[Ri];e===null&&(e=t),Qc(e)&&yb(e[Rt],e),n=e&&e[go]}e=n}}function wG(t,e,n,r){let i=$s+r,s=n.length;r>0&&(n[i-1][go]=e),r<s-$s?(e[go]=n[i],yM(n,$s+r,e)):(n.push(e),e[go]=null),e[Ri]=n;let o=e[Tf];o!==null&&n!==o&&PN(o,e);let a=e[If];a!==null&&a.insertView(t),Nb(e),e[ct]|=128}function PN(t,e){let n=t[Xv],r=e[Ri];if(Qc(r))t[ct]|=Yv.HasTransplantedViews;else{let i=r[Ri][Zo];e[Zo]!==i&&(t[ct]|=Yv.HasTransplantedViews)}n===null?t[Xv]=[e]:n.push(e)}function NC(t,e){let n=t[Xv],r=n.indexOf(e);n.splice(r,1)}function Gb(t,e){if(t.length<=$s)return;let n=$s+e,r=t[n];if(r){let i=r[Tf];i!==null&&i!==t&&NC(i,r),e>0&&(t[n-1][go]=r[go]);let s=zv(t,$s+e);yG(r[Rt],r);let o=s[If];o!==null&&o.detachView(s[Rt]),r[Ri]=null,r[go]=null,r[ct]&=-129}return r}function MN(t,e){if(!(e[ct]&256)){let n=e[tr];n.destroyNode&&ky(t,e,n,3,null,null),xG(e)}}function yb(t,e){if(e[ct]&256)return;let n=zt(null);try{e[ct]&=-129,e[ct]|=256,e[js]&&q1(e[js]),bG(t,e),EG(t,e),e[Rt].type===1&&e[tr].destroy();let r=e[Tf];if(r!==null&&Ga(e[Ri])){r!==e[Ri]&&NC(r,e);let i=e[If];i!==null&&i.detachView(t)}zb(e)}finally{zt(n)}}function EG(t,e){let n=t.cleanup,r=e[Wv];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Wv]=null);let i=e[Yc];if(i!==null){e[Yc]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function bG(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Su)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Ko(4,a,c);try{c.call(a)}finally{Ko(5,a,c)}}else{Ko(4,i,s);try{s.call(i)}finally{Ko(5,i,s)}}}}}function CG(t,e,n){return SG(t,e.parent,n)}function SG(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[qa];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Yo.None||s===Yo.Emulated)return null}return qs(r,n)}}function iy(t,e,n,r,i){t.insertBefore(e,n,r,i)}function NN(t,e,n){t.appendChild(e,n)}function HP(t,e,n,r,i){r!==null?iy(t,e,n,r,i):NN(t,e,n)}function ON(t,e){return t.parentNode(e)}function TG(t,e){return t.nextSibling(e)}function IG(t,e,n){return DG(t,e,n)}function AG(t,e,n){return t.type&40?qs(t,n):null}var DG=AG,zP;function Dy(t,e,n,r){let i=CG(t,r,e),s=e[tr],o=r.parent||e[yo],a=IG(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)HP(s,i,n[c],a,!1);else HP(s,i,n,a,!1);zP!==void 0&&zP(s,r,e,n,i)}function Wp(t,e){if(e!==null){let n=e.type;if(n&3)return qs(e,t);if(n&4)return Wb(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Wp(t,r);{let i=t[e.index];return Ga(i)?Wb(-1,i):Jo(i)}}else{if(n&128)return Wp(t,e.next);if(n&32)return MC(e,t)()||Jo(t[e.index]);{let r=FN(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=bu(t[Zo]);return Wp(i,r)}else return Wp(t,e.next)}}}return null}function FN(t,e){if(e!==null){let r=t[Zo][yo],i=e.projection;return r.projection[i]}return null}function Wb(t,e){let n=$s+t+1;if(n<e.length){let r=e[n],i=r[Rt].firstChild;if(i!==null)return Wp(r,i)}return e[Eu]}function kG(t,e,n){t.removeChild(null,e,n)}function OC(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(o&&e===0&&(a&&el(Jo(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)OC(t,e,n.child,r,i,s,!1),yf(e,t,i,a,s);else if(c&32){let l=MC(n,r),u;for(;u=l();)yf(e,t,i,u,s);yf(e,t,i,a,s)}else c&16?RG(t,e,r,n,i,s):yf(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ky(t,e,n,r,i,s){OC(n,r,t.firstChild,e,i,s,!1)}function RG(t,e,n,r,i,s){let o=n[Zo],c=o[yo].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];yf(e,t,i,u,s)}else{let l=c,u=o[Ri];_N(r)&&(l.flags|=128),OC(t,e,l,u,i,s,!0)}}function PG(t,e,n,r,i){let s=n[Eu],o=Jo(n);s!==o&&yf(e,t,r,s,i);for(let a=$s;a<n.length;a++){let c=n[a];ky(c[Rt],c,t,e,r,s)}}function MG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:ja.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ja.Important),t.setStyle(n,r,i,s))}}function NG(t,e,n){t.setAttribute(e,"style",n)}function LN(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function BN(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Ab(t,e,r),i!==null&&LN(t,e,i),s!==null&&NG(t,e,s)}var xo={};function q(t=1){VN(Zr(),$t(),ku()+t,!1)}function VN(t,e,n,r){if(!r)if((e[ct]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Bv(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Vv(e,s,0,n)}Cu(n)}function ge(t,e=Tt.Default){let n=$t();if(n===null)return st(t,e);let r=hi();return dN(r,n,Di(t),e)}function UN(t,e,n,r,i,s){let o=zt(null);try{let a=null;i&Zc.SignalBased&&(a=e[r][La]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Zc.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):FM(e,a,r,s)}finally{zt(o)}}function OG(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Cu(~i);else{let s=i,o=n[++r],a=n[++r];yq(o,s);let c=e[s];a(2,c)}}}finally{Cu(-1)}}function Ry(t,e,n,r,i,s,o,a,c,l,u){let f=e.blueprint.slice();return f[qa]=i,f[ct]=r|4|128|8|64,(l!==null||t&&t[ct]&2048)&&(f[ct]|=2048),$M(f),f[Ri]=f[Nf]=t,f[vo]=n,f[Qo]=o||t&&t[Qo],f[tr]=a||t&&t[tr],f[Sf]=c||t&&t[Sf]||null,f[yo]=s,f[vy]=Qq(),f[Gv]=u,f[NM]=l,f[Zo]=e.type==2?t[Zo]:f,f}function am(t,e,n,r,i){let s=t.data[e];if(s===null)s=FG(t,e,n,r,i),vq()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=hq();s.injectorIndex=o===null?-1:o.injectorIndex}return Du(s,!0),s}function FG(t,e,n,r,i){let s=WM(),o=wC(),a=o?s:s&&s.parent,c=t.data[e]=jG(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function jN(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function $N(t,e,n,r,i){let s=ku(),o=r&2;try{Cu(-1),o&&e.length>hs&&VN(t,e,hs,!1),Ko(o?2:0,i),n(r,i)}finally{Cu(s),Ko(o?3:1,i)}}function FC(t,e,n){if(yC(e)){let r=zt(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{zt(r)}}}function LC(t,e,n){GM()&&(WG(t,e,n,qs(n,e)),(n.flags&64)===64&&qN(t,e,n))}function BC(t,e,n=qs){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function HN(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=VC(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function VC(t,e,n,r,i,s,o,a,c,l,u){let f=hs+r,h=f+i,m=LG(f,h),y=typeof l=="function"?l():l;return m[Rt]={type:t,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:u}}function LG(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:xo);return n}function BG(t,e,n,r){let s=r.get(iG,SN)||n===Yo.ShadowDom,o=t.selectRootElement(e,s);return VG(o),o}function VG(t){UG(t)}var UG=()=>null;function jG(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return uq()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function qP(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=Zc.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?GP(r,n,l,a,c):GP(r,n,l,a)}return r}function GP(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function $G(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let f=s[u],h=n?n.get(f):null,m=h?h.inputs:null,y=h?h.outputs:null;c=qP(0,f.inputs,u,c,m),l=qP(1,f.outputs,u,l,y);let _=c!==null&&o!==null&&!mC(e)?iW(c,u,o):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function HG(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function UC(t,e,n,r,i,s,o,a){let c=qs(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?($C(t,n,u,r,i),yy(e)&&zG(n,e.index)):e.type&3?(r=HG(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function zG(t,e){let n=nl(e,t);n[ct]&16||(n[ct]|=64)}function jC(t,e,n,r){if(GM()){let i=r===null?null:{"":-1},s=XG(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&zN(t,e,n,o,i,a),i&&YG(n,r,i)}n.mergedAttrs=Qp(n.mergedAttrs,n.attrs)}function zN(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Bb(ey(n,e),t,r[l].type);ZG(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=jN(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Qp(n.mergedAttrs,u.hostAttrs),JG(t,n,e,c,u),QG(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let f=u.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}$G(t,n,s)}function qG(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;GG(o)!=a&&o.push(a),o.push(n,r,s)}}function GG(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function WG(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;yy(n)&&eW(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ey(n,e),el(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],l=Df(e,t,a,n);if(el(l,e),o!==null&&rW(e,a-i,l,c,n,o),Jc(c)){let u=nl(n.index,e);u[vo]=Df(e,t,a,n)}}}function qN(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=_q();try{Cu(s);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Ob(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&KG(c,l)}}finally{Cu(-1),Ob(o)}}function KG(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function XG(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(Rz(e,o.selectors,!1))if(r||(r=[]),Jc(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Kb(t,e,c)}else r.unshift(o),Kb(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Kb(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function YG(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new Ye(-301,!1);r.push(e[i],s)}}}function QG(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Jc(e)&&(n[""]=t)}}function ZG(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function JG(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=xu(i.type,!0)),o=new Su(s,Jc(i),ge);t.blueprint[r]=o,n[r]=o,qG(t,e,r,jN(t,n,i.hostVars,xo),i)}function eW(t,e,n){let r=qs(e,t),i=HN(n),s=t[Qo].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Py(t,Ry(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function tW(t,e,n,r,i,s){let o=qs(t,e);nW(e[tr],o,s,t.value,n,r,i)}function nW(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?wf(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function rW(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],u=o[a++],f=o[a++];UN(r,n,c,l,u,f)}}function iW(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function GN(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function WN(t,e){let n=t.contentQueries;if(n!==null){let r=zt(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];QM(s),a.contentQueries(2,e[o],o)}}}finally{zt(r)}}}function Py(t,e){return t[Jp]?t[RP][go]=e:t[Jp]=e,t[RP]=e,e}function Xb(t,e,n){QM(0);let r=zt(null);try{e(t,n)}finally{zt(r)}}function sW(t){return t[Wv]??=[]}function oW(t){return t.cleanup??=[]}function KN(t,e){let n=t[Sf],r=n?n.get(Ua,null):null;r&&r.handleError(e)}function $C(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],l=e[o],u=t.data[o];UN(u,l,r,a,c,i)}}function XN(t,e,n){let r=UM(e,t);gG(t[tr],r,n)}function aW(t,e){let n=nl(e,t),r=n[Rt];cW(r,n);let i=n[qa];i!==null&&n[Gv]===null&&(n[Gv]=RC(i,n[Sf])),HC(r,n,n[vo])}function cW(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function HC(t,e,n){EC(e);try{let r=t.viewQuery;r!==null&&Xb(1,r,n);let i=t.template;i!==null&&$N(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[If]?.finishViewCreation(t),t.staticContentQueries&&WN(t,e),t.staticViewQueries&&Xb(2,t.viewQuery,n);let s=t.components;s!==null&&lW(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ct]&=-5,bC()}}function lW(t,e){for(let n=0;n<e.length;n++)aW(t,e[n])}function uW(t,e,n,r){let i=zt(null);try{let s=e.tView,a=t[ct]&4096?4096:16,c=Ry(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Tf]=l;let u=t[If];return u!==null&&(c[If]=u.createEmbeddedView(s)),HC(s,c,n),c}finally{zt(i)}}function WP(t,e){return!e||e.firstChild===null||_N(t)}function dW(t,e,n,r=!0){let i=e[Rt];if(wG(i,e,t,n),r){let o=Wb(n,t),a=e[tr],c=ON(a,t[Eu]);c!==null&&_G(i,t[yo],a,e,c,o)}let s=e[Gv];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function sy(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Jo(s)),Ga(s)&&fW(s,r);let o=n.type;if(o&8)sy(t,e,n.child,r);else if(o&32){let a=MC(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=FN(e,n);if(Array.isArray(a))r.push(...a);else{let c=bu(e[Zo]);sy(c[Rt],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function fW(t,e){for(let n=$s;n<t.length;n++){let r=t[n],i=r[Rt].firstChild;i!==null&&sy(r[Rt],r,i,e)}t[Eu]!==t[qa]&&e.push(t[Eu])}var YN=[];function hW(t){return t[js]??pW(t)}function pW(t){let e=YN.pop()??Object.create(gW);return e.lView=t,e}function mW(t){t.lView[js]!==t&&(t.lView=null,YN.push(t))}var gW=he(G({},Hp),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{wy(t.lView)},consumerOnSignalRead(){this.lView[js]=this}});function vW(t){let e=t[js]??Object.create(yW);return e.lView=t,e}var yW=he(G({},Hp),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=bu(t.lView);for(;e&&!QN(e[Rt]);)e=bu(e);e&&HM(e)},consumerOnSignalRead(){this.lView[js]=this}});function QN(t){return t.type!==2}var _W=100;function ZN(t,e=!0,n=0){let r=t[Qo],i=r.rendererFactory,s=!1;s||i.begin?.();try{xW(t,n)}catch(o){throw e&&KN(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function xW(t,e){let n=XM();try{MP(!0),Yb(t,e);let r=0;for(;xy(t);){if(r===_W)throw new Ye(103,!1);r++,Yb(t,1)}}finally{MP(n)}}function wW(t,e,n,r){let i=e[ct];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Qo].inlineEffectRunner?.flush(),EC(e);let a=!0,c=null,l=null;s||(QN(t)?(l=hW(e),c=tv(l)):VR()===null?(a=!1,l=vW(e),c=tv(l)):e[js]&&(q1(e[js]),e[js]=null));try{$M(e),gq(t.bindingStartIndex),n!==null&&$N(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let m=t.preOrderCheckHooks;m!==null&&Bv(e,m,null)}else{let m=t.preOrderHooks;m!==null&&Vv(e,m,0,null),pb(e,0)}if(o||EW(e),JN(e,0),t.contentQueries!==null&&WN(t,e),!s)if(u){let m=t.contentCheckHooks;m!==null&&Bv(e,m)}else{let m=t.contentHooks;m!==null&&Vv(e,m,1),pb(e,1)}OG(t,e);let f=t.components;f!==null&&tO(e,f,0);let h=t.viewQuery;if(h!==null&&Xb(2,h,r),!s)if(u){let m=t.viewCheckHooks;m!==null&&Bv(e,m)}else{let m=t.viewHooks;m!==null&&Vv(e,m,2),pb(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[hb]){for(let m of e[hb])m();e[hb]=null}s||(e[ct]&=-73)}catch(u){throw s||wy(e),u}finally{l!==null&&(H1(l,c),a&&mW(l)),bC()}}function JN(t,e){for(let n=wN(t);n!==null;n=EN(n))for(let r=$s;r<n.length;r++){let i=n[r];eO(i,e)}}function EW(t){for(let e=wN(t);e!==null;e=EN(e)){if(!(e[ct]&Yv.HasTransplantedViews))continue;let n=e[Xv];for(let r=0;r<n.length;r++){let i=n[r];HM(i)}}}function bW(t,e,n){let r=nl(e,t);eO(r,n)}function eO(t,e){xC(t)&&Yb(t,e)}function Yb(t,e){let r=t[Rt],i=t[ct],s=t[js],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&z1(s)),o||=!1,s&&(s.dirty=!1),t[ct]&=-9217,o)wW(r,t,r.template,t[vo]);else if(i&8192){JN(t,1);let a=r.components;a!==null&&tO(t,a,1)}}function tO(t,e,n){for(let r=0;r<e.length;r++)bW(t,e[r],n)}function zC(t,e){let n=XM()?64:1088;for(t[Qo].changeDetectionScheduler?.notify(e);t;){t[ct]|=n;let r=bu(t);if(Pb(t)&&!r)return t;t=r}return null}var Tu=class{get rootNodes(){let e=this._lView,n=e[Rt];return sy(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vo]}set context(e){this._lView[vo]=e}get destroyed(){return(this._lView[ct]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ri];if(Ga(e)){let n=e[Kv],r=n?n.indexOf(this):-1;r>-1&&(Gb(e,r),zv(n,r))}this._attachedToViewContainer=!1}MN(this._lView[Rt],this._lView)}onDestroy(e){zM(this._lView,e)}markForCheck(){zC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ct]&=-129}reattach(){Nb(this._lView),this._lView[ct]|=128}detectChanges(){this._lView[ct]|=1024,ZN(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Pb(this._lView),n=this._lView[Tf];n!==null&&!e&&NC(n,this._lView),RN(this._lView[Rt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ye(902,!1);this._appRef=e;let n=Pb(this._lView),r=this._lView[Tf];r!==null&&!n&&PN(r,this._lView),Nb(this._lView)}},My=(()=>{class t{static{this.__NG_ELEMENT_ID__=TW}}return t})(),CW=My,SW=class extends CW{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=uW(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Tu(i)}};function TW(){return IW(hi(),$t())}function IW(t,e){return t.type&4?new SW(e,t,Iy(t,e)):null}var NCe=new RegExp(`^(\\d+)*(${nG}|${tG})*(.*)`);var AW=()=>null;function KP(t,e){return AW(t,e)}var kf=class{},Ny=new We("",{providedIn:"root",factory:()=>!1});var nO=new We(""),rO=new We(""),Qb=class{},oy=class{};function DW(t){let e=Error(`No component factory found for ${ki(t)}.`);return e[kW]=t,e}var kW="ngComponent";var Zb=class{resolveComponentFactory(e){throw DW(e)}},Rf=class{static{this.NULL=new Zb}},Pf=class{},na=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>RW()}}return t})();function RW(){let t=$t(),e=hi(),n=nl(e.index,t);return(Qc(n)?n:t)[tr]}var PW=(()=>{class t{static{this.\u0275prov=Xe({token:t,providedIn:"root",factory:()=>null})}}return t})();function ay(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=wP(i,a);else if(s==2){let c=a,l=e[++o];r=wP(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var cy=class extends Rf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=wu(e);return new em(n,this.ngModule)}};function XP(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Zc.None;e?n.push({propName:o,templateName:r,isSignal:(a&Zc.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function MW(t){let e=t.toLowerCase();return e==="svg"?nq:e==="math"?rq:null}var em=class extends oy{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=XP(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return XP(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Oz(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=zt(null);try{i=i||this.ngModule;let o=i instanceof Hs?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Fb(e,o):e,c=a.get(Pf,null);if(c===null)throw new Ye(407,!1);let l=a.get(PW,null),u=a.get(kf,null),f={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},h=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",y=r?BG(h,r,this.componentDef.encapsulation,a):kN(h,m,MW(m)),_=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let x=null;y!==null&&(x=RC(y,a,!0));let M=VC(0,null,null,1,0,null,null,null,null,null,null),H=Ry(null,M,null,_,null,null,f,h,a,null,x);EC(H);let K,Q,ae=null;try{let fe=this.componentDef,D,A=null;fe.findHostDirectiveDefs?(D=[],A=new Map,fe.findHostDirectiveDefs(fe,D,A),D.push(fe)):D=[fe];let T=NW(H,y);ae=OW(T,y,fe,D,H,f,h),Q=jM(M,hs),y&&BW(h,fe,y,r),n!==void 0&&VW(Q,this.ngContentSelectors,n),K=LW(ae,fe,D,A,H,[UW]),HC(M,H,null)}catch(fe){throw ae!==null&&zb(ae),zb(H),fe}finally{bC()}return new Jb(this.componentType,K,Iy(Q,H),H,Q)}finally{zt(s)}}},Jb=class extends Qb{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Tu(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;$C(s[Rt],s,i,e,n),this.previousInputValues.set(e,n);let o=nl(this._tNode.index,s);zC(o,1)}}get injector(){return new _u(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function NW(t,e){let n=t[Rt],r=hs;return t[r]=e,am(n,r,2,"#host",null)}function OW(t,e,n,r,i,s,o){let a=i[Rt];FW(r,t,e,o);let c=null;e!==null&&(c=RC(e,i[Sf]));let l=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let f=Ry(i,HN(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&Kb(a,t,r.length-1),Py(i,f),i[t.index]=f}function FW(t,e,n,r){for(let i of t)e.mergedAttrs=Qp(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ay(e,e.mergedAttrs,!0),n!==null&&BN(r,n,e))}function LW(t,e,n,r,i,s){let o=hi(),a=i[Rt],c=qs(o,i);zN(a,i,o,n,null,r);for(let u=0;u<n.length;u++){let f=o.directiveStart+u,h=Df(i,a,f,o);el(h,i)}qN(a,i,o),c&&el(c,i);let l=Df(i,a,o.directiveStart+o.componentOffset,o);if(t[vo]=i[vo]=l,s!==null)for(let u of s)u(l,e);return FC(a,o,i),l}function BW(t,e,n,r){if(r)Ab(t,n,["ng-version","18.2.9"]);else{let{attrs:i,classes:s}=Fz(e.selectors[0]);i&&Ab(t,n,i),s&&s.length>0&&LN(t,n,s.join(" "))}}function VW(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function UW(){let t=hi();Ty($t()[Rt],t)}var Ff=(()=>{class t{static{this.__NG_ELEMENT_ID__=jW}}return t})();function jW(){let t=hi();return HW(t,$t())}var $W=Ff,iO=class extends $W{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Iy(this._hostTNode,this._hostLView)}get injector(){return new _u(this._hostTNode,this._hostLView)}get parentInjector(){let e=CC(this._hostTNode,this._hostLView);if(sN(e)){let n=Zv(e,this._hostLView),r=Qv(e),i=n[Rt].data[r+8];return new _u(i,n)}else return new _u(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=YP(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-$s}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=KP(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,WP(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!Zz(e),a;if(o)a=n;else{let y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}let c=o?e:new em(wu(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let _=(o?l:this.parentInjector).get(Hs,null);_&&(s=_)}let u=wu(c.componentType??{}),f=KP(this._lContainer,u?.id??null),h=f?.firstChild??null,m=c.create(l,i,h,s);return this.insertImpl(m.hostView,a,WP(this._hostTNode,f)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(iq(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ri],l=new iO(c,c[yo],c[Ri]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return dW(o,i,s,r),e.attachToViewContainerRef(),yM(_b(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=YP(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Gb(this._lContainer,n);r&&(zv(_b(this._lContainer),n),MN(r[Rt],r))}detach(e){let n=this._adjustIndex(e,-1),r=Gb(this._lContainer,n);return r&&zv(_b(this._lContainer),n)!=null?new Tu(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function YP(t){return t[Kv]}function _b(t){return t[Kv]||(t[Kv]=[])}function HW(t,e){let n,r=e[t.index];return Ga(r)?n=r:(n=GN(r,e,null,t),e[t.index]=n,Py(e,n)),qW(n,e,t,r),new iO(n,t,e)}function zW(t,e){let n=t[tr],r=n.createComment(""),i=qs(e,t),s=ON(n,i);return iy(n,s,r,TG(n,i),!1),r}var qW=KW,GW=()=>!1;function WW(t,e,n){return GW(t,e,n)}function KW(t,e,n,r){if(t[Eu])return;let i;n.type&8?i=Jo(r):i=zW(e,n),t[Eu]=i}var QP=new Set;function cm(t){QP.has(t)||(QP.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function XW(t){return typeof t=="function"&&t[La]!==void 0}function lm(t,e){cm("NgSignals");let n=YR(t),r=n[La];return e?.equal&&(r.equal=e.equal),n.set=i=>G1(r,i),n.update=i=>QR(r,i),n.asReadonly=YW.bind(n),n}function YW(){let t=this[La];if(t.readonlyFn===void 0){let e=()=>this();e[La]=t,t.readonlyFn=e}return t.readonlyFn}function sO(t){return XW(t)&&typeof t.set=="function"}function QW(t){return Object.getPrototypeOf(t.prototype).constructor}function Jr(t){let e=QW(t.type),n=!0,r=[t];for(;e;){let i;if(Jc(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ye(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Nv(t.inputs),o.inputTransforms=Nv(t.inputTransforms),o.declaredInputs=Nv(t.declaredInputs),o.outputs=Nv(t.outputs);let a=i.hostBindings;a&&nK(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&eK(t,c),l&&tK(t,l),ZW(t,i),rz(t.outputs,i.outputs),Jc(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Jr&&(n=!1)}}e=Object.getPrototypeOf(e)}JW(r)}function ZW(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function JW(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Qp(i.hostAttrs,n=Qp(n,i.hostAttrs))}}function Nv(t){return t===Ef?{}:t===Us?[]:t}function eK(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function tK(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function nK(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function qC(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var tl=class{},tm=class{};var eC=class extends tl{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cy(this);let s=IM(e);this._bootstrapComponents=DN(s.bootstrap),this._r3Injector=pN(e,n,[{provide:tl,useValue:this},{provide:Rf,useValue:this.componentFactoryResolver},...r],ki(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},tC=class extends tm{constructor(e){super(),this.moduleType=e}create(e){return new eC(this.moduleType,e,[])}};var ly=class extends tl{constructor(e){super(),this.componentFactoryResolver=new cy(this),this.instance=null;let n=new Zp([...e.providers,{provide:tl,useValue:this},{provide:Rf,useValue:this.componentFactoryResolver}],e.parent||vC(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function GC(t,e,n=null){return new ly({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function oO(t){return iK(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function rK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function iK(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Oy(t,e,n){return t[e]=n}function aO(t,e){return t[e]}function $a(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function uy(t,e,n,r){let i=$a(t,e,n);return $a(t,e+1,r)||i}function sK(t,e,n,r,i,s){let o=uy(t,e,n,r);return uy(t,e+2,i,s)||o}function oK(t){return(t.flags&32)===32}function aK(t,e,n,r,i,s,o,a,c){let l=e.consts,u=am(e,t,4,o||null,a||null);jC(e,n,u,Af(l,c)),Ty(e,u);let f=u.tView=VC(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}function cK(t,e,n,r,i,s,o,a,c,l){let u=n+hs,f=e.firstCreatePass?aK(u,e,t,r,i,s,o,a,c):e.data[u];Du(f,!1);let h=lK(e,t,f,n);Cy()&&Dy(e,t,h,f),el(h,t);let m=GN(h,t,h,f);return t[u]=m,Py(t,m),WW(m,f,t),_y(f)&&LC(e,t,f),c!=null&&BC(t,f,l),f}function Se(t,e,n,r,i,s,o,a){let c=$t(),l=Zr(),u=Af(l.consts,s);return cK(c,l,t,e,n,r,i,u,o,a),Se}var lK=uK;function uK(t,e,n,r){return Sy(!0),e[tr].createComment("")}var Kp=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Kp||{}),dK=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Xe({token:t,providedIn:"root",factory:()=>new t})}}return t})(),ZP=class t{constructor(){this.ngZone=Be(tn),this.scheduler=Be(kf),this.errorHandler=Be(Ua,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Kp.EarlyRead,Kp.Write,Kp.MixedReadWrite,Kp.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=Xe({token:t,providedIn:"root",factory:()=>new t})}};function Wa(t,e,n,r){let i=$t(),s=Ey();if($a(i,s,e)){let o=Zr(),a=by();tW(a,i,t,e,n,r)}return Wa}function cO(t,e,n,r){return $a(t,Ey(),n)?e+wf(n)+r:xo}function fK(t,e,n,r,i,s){let o=mq(),a=uy(t,o,n,i);return YM(2),a?e+wf(n)+r+wf(i)+s:xo}function Ov(t,e){return t<<17|e<<2}function Iu(t){return t>>17&32767}function hK(t){return(t&2)==2}function pK(t,e){return t&131071|e<<17}function nC(t){return t|2}function Mf(t){return(t&131068)>>2}function xb(t,e){return t&-131069|e<<2}function mK(t){return(t&1)===1}function rC(t){return t|1}function gK(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Iu(o),c=Mf(o);t[r]=n;let l=!1,u;if(Array.isArray(n)){let f=n;u=f[1],(u===null||im(f,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=Iu(t[a+1]);t[r+1]=Ov(h,a),h!==0&&(t[h+1]=xb(t[h+1],r)),t[a+1]=pK(t[a+1],r)}else t[r+1]=Ov(a,0),a!==0&&(t[a+1]=xb(t[a+1],r)),a=r;else t[r+1]=Ov(c,0),a===0?a=r:t[c+1]=xb(t[c+1],r),c=r;l&&(t[r+1]=nC(t[r+1])),JP(t,u,r,!0),JP(t,u,r,!1),vK(e,u,t,r,s),o=Ov(a,c),s?e.classBindings=o:e.styleBindings=o}function vK(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&im(s,e)>=0&&(n[r+1]=rC(n[r+1]))}function JP(t,e,n,r){let i=t[n+1],s=e===null,o=r?Iu(i):Mf(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],l=t[o+1];yK(c,e)&&(a=!0,t[o+1]=r?rC(l):nC(l)),o=r?Iu(l):Mf(l)}a&&(t[n+1]=r?nC(i):rC(i))}function yK(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?im(t,e)>=0:!1}function ne(t,e,n){let r=$t(),i=Ey();if($a(r,i,e)){let s=Zr(),o=by();UC(s,o,r,t,e,r[tr],n,!1)}return ne}function eM(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";$C(t,n,s[o],o,r)}function Ka(t,e){return _K(t,e,null,!0),Ka}function _K(t,e,n,r){let i=$t(),s=Zr(),o=YM(2);if(s.firstUpdatePass&&wK(s,t,o,r),e!==xo&&$a(i,o,e)){let a=s.data[ku()];TK(s,a,i,i[tr],t,i[o+1]=IK(e,n),r,o)}}function xK(t,e){return e>=t.expandoStartIndex}function wK(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[ku()],o=xK(t,n);AK(s,r)&&e===null&&!o&&(e=!1),e=EK(i,s,e,r),gK(i,s,e,n,o,r)}}function EK(t,e,n,r){let i=xq(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=wb(null,t,e,n,r),n=nm(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=wb(i,t,e,n,r),s===null){let c=bK(t,e,r);c!==void 0&&Array.isArray(c)&&(c=wb(null,t,e,c[1],r),c=nm(c,e.attrs,r),CK(t,e,r,c))}else s=SK(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function bK(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Mf(r)!==0)return t[Iu(r)]}function CK(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Iu(i)]=r}function SK(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=nm(r,o,n)}return nm(r,e.attrs,n)}function wb(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=nm(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function nm(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),bz(t,o,n?!0:e[++s]))}return t===void 0?null:t}function TK(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=mK(l)?tM(c,e,n,i,Mf(l),o):void 0;if(!dy(u)){dy(s)||hK(l)&&(s=tM(c,null,n,i,a,o));let f=UM(ku(),n);MG(r,o,f,i,s)}}function tM(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,f=u===null,h=n[i+1];h===xo&&(h=f?Us:void 0);let m=f?db(h,r):u===r?h:void 0;if(l&&!dy(m)&&(m=db(c,r)),dy(m)&&(a=m,o))return a;let y=t[i+1];i=o?Iu(y):Mf(y)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=db(c,r))}return a}function dy(t){return t!==void 0}function IK(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ki(om(t)))),t}function AK(t,e){return(t.flags&(e?8:16))!==0}function DK(t,e,n,r,i,s){let o=e.consts,a=Af(o,i),c=am(e,t,2,r,a);return jC(e,n,c,Af(o,s)),c.attrs!==null&&ay(c,c.attrs,!1),c.mergedAttrs!==null&&ay(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function S(t,e,n,r){let i=$t(),s=Zr(),o=hs+t,a=i[tr],c=s.firstCreatePass?DK(o,s,i,e,n,r):s.data[o],l=kK(s,i,c,a,e,t);i[o]=l;let u=_y(c);return Du(c,!0),BN(a,l,c),!oK(c)&&Cy()&&Dy(s,i,l,c),aq()===0&&el(l,i),cq(),u&&(LC(s,i,c),FC(s,c,i)),r!==null&&BC(i,c),S}function E(){let t=hi();wC()?KM():(t=t.parent,Du(t,!1));let e=t;dq(e)&&fq(),lq();let n=Zr();return n.firstCreatePass&&(Ty(n,t),yC(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Iq(e)&&eM(n,e,$t(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Aq(e)&&eM(n,e,$t(),e.stylesWithoutHost,!1),E}function Ie(t,e,n,r){return S(t,e,n,r),E(),Ie}var kK=(t,e,n,r,i,s)=>(Sy(!0),kN(r,i,bq()));function RK(t,e,n,r,i){let s=e.consts,o=Af(s,r),a=am(e,t,8,"ng-container",o);o!==null&&ay(a,o,!0);let c=Af(s,i);return jC(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Ru(t,e,n){let r=$t(),i=Zr(),s=t+hs,o=i.firstCreatePass?RK(s,i,r,e,n):i.data[s];Du(o,!0);let a=PK(i,r,o,t);return r[s]=a,Cy()&&Dy(i,r,a,o),el(a,r),_y(o)&&(LC(i,r,o),FC(i,o,r)),n!=null&&BC(r,o),Ru}function Pu(){let t=hi(),e=Zr();return wC()?KM():(t=t.parent,Du(t,!1)),e.firstCreatePass&&(Ty(e,t),yC(t)&&e.queries.elementEnd(t)),Pu}var PK=(t,e,n,r)=>(Sy(!0),vG(e[tr],""));function Ot(){return $t()}var vu=void 0;function MK(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var NK=["en",[["a","p"],["AM","PM"],vu],[["AM","PM"],vu,vu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vu,"{1} 'at' {0}",vu],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",MK],Eb={};function vs(t){let e=OK(t),n=nM(e);if(n)return n;let r=e.split("-")[0];if(n=nM(r),n)return n;if(r==="en")return NK;throw new Ye(701,!1)}function nM(t){return t in Eb||(Eb[t]=yu.ng&&yu.ng.common&&yu.ng.common.locales&&yu.ng.common.locales[t]),Eb[t]}var Gn=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Gn||{});function OK(t){return t.toLowerCase().replace(/_/g,"-")}var fy="en-US";var FK=fy;function LK(t){typeof t=="string"&&(FK=t.toLowerCase().replace(/_/g,"-"))}var BK=(t,e,n)=>{};function Te(t,e,n,r){let i=$t(),s=Zr(),o=hi();return lO(s,i,i[tr],o,t,e,r),Te}function VK(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Wv],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function lO(t,e,n,r,i,s,o){let a=_y(r),l=t.firstCreatePass&&oW(t),u=e[vo],f=sW(e),h=!0;if(r.type&3||o){let _=qs(r,e),x=o?o(_):_,M=f.length,H=o?Q=>o(Jo(Q[r.index])):r.index,K=null;if(!o&&a&&(K=VK(t,e,i,r.index)),K!==null){let Q=K.__ngLastListenerFn__||K;Q.__ngNextListenerFn__=s,K.__ngLastListenerFn__=s,h=!1}else{s=iM(r,e,u,s),BK(_,i,s);let Q=n.listen(x,i,s);f.push(s,Q),l&&l.push(i,H,M,M+1)}}else s=iM(r,e,u,s);let m=r.outputs,y;if(h&&m!==null&&(y=m[i])){let _=y.length;if(_)for(let x=0;x<_;x+=2){let M=y[x],H=y[x+1],ae=e[M][H].subscribe(s),fe=f.length;f.push(s,ae),l&&l.push(i,r.index,fe,-(fe+1))}}}function rM(t,e,n,r){let i=zt(null);try{return Ko(6,e,n),n(r)!==!1}catch(s){return KN(t,s),!1}finally{Ko(7,e,n),zt(i)}}function iM(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?nl(t.index,e):e;zC(o,5);let a=rM(e,n,r,s),c=i.__ngNextListenerFn__;for(;c;)a=rM(e,n,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function Ce(t=1){return Eq(t)}function dr(t,e,n){return uO(t,"",e,"",n),dr}function uO(t,e,n,r,i){let s=$t(),o=cO(s,e,n,r);if(o!==xo){let a=Zr(),c=by();UC(a,c,s,t,o,s[tr],i,!1)}return uO}function UK(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Gs(t){let e=pq();return _C(e,hs+t)}function k(t,e=""){let n=$t(),r=Zr(),i=t+hs,s=r.firstCreatePass?am(r,i,1,e,null):r.data[i],o=jK(r,n,s,e,t);n[i]=o,Cy()&&Dy(r,n,o,s),Du(s,!1)}var jK=(t,e,n,r,i)=>(Sy(!0),mG(e[tr],r));function tt(t){return Dt("",t,""),tt}function Dt(t,e,n){let r=$t(),i=cO(r,t,e,n);return i!==xo&&XN(r,ku(),i),Dt}function pi(t,e,n,r,i){let s=$t(),o=fK(s,t,e,n,r,i);return o!==xo&&XN(s,ku(),o),pi}function Pr(t,e,n){sO(e)&&(e=e());let r=$t(),i=Ey();if($a(r,i,e)){let s=Zr(),o=by();UC(s,o,r,t,e,r[tr],n,!1)}return Pr}function Br(t,e){let n=sO(t);return n&&t.set(e),n}function Mr(t,e){let n=$t(),r=Zr(),i=hi();return lO(r,n,n[tr],i,t,e),Mr}function $K(t,e,n){let r=Zr();if(r.firstCreatePass){let i=Jc(t);iC(n,r.data,r.blueprint,i,!0),iC(e,r.data,r.blueprint,i,!1)}}function iC(t,e,n,r,i){if(t=Di(t),Array.isArray(t))for(let s=0;s<t.length;s++)iC(t[s],e,n,r,i);else{let s=Zr(),o=$t(),a=hi(),c=Cf(t)?t:Di(t.provide),l=MM(t),u=a.providerIndexes&1048575,f=a.directiveStart,h=a.providerIndexes>>20;if(Cf(t)||!t.multi){let m=new Su(l,i,ge),y=Cb(c,e,i?u:u+h,f);y===-1?(Bb(ey(a,o),s,c),bb(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),o.push(m)):(n[y]=m,o[y]=m)}else{let m=Cb(c,e,u+h,f),y=Cb(c,e,u,u+h),_=m>=0&&n[m],x=y>=0&&n[y];if(i&&!x||!i&&!_){Bb(ey(a,o),s,c);let M=qK(i?zK:HK,n.length,i,r,l);!i&&x&&(n[y].providerFactory=M),bb(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(M),o.push(M)}else{let M=dO(n[i?y:m],l,!i&&r);bb(s,t,m>-1?m:y,M)}!i&&r&&x&&n[y].componentProviders++}}}function bb(t,e,n,r){let i=Cf(e),s=zz(e);if(i||s){let c=(s?Di(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function dO(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Cb(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function HK(t,e,n,r){return sC(this.multi,[])}function zK(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Df(n,n[Rt],this.providerFactory.index,r);s=a.slice(0,o),sC(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],sC(i,s);return s}function sC(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function qK(t,e,n,r,i){let s=new Su(t,n,ge);return s.multi=[],s.index=e,s.componentProviders=0,dO(s,i,r&&!n),s}function Ni(t,e=[]){return n=>{n.providersResolver=(r,i)=>$K(r,i?i(t):t,e)}}var GK=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=kM(!1,n.type),i=r.length>0?GC([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Xe({token:t,providedIn:"environment",factory:()=>new t(st(Hs))})}}return t})();function Ft(t){cm("NgStandalone"),t.getStandaloneInjector=e=>e.get(GK).getOrCreateStandaloneInjector(t)}function fO(t,e,n){let r=sm()+t,i=$t();return i[r]===xo?Oy(i,r,n?e.call(n):e()):aO(i,r)}function Xa(t,e,n,r,i){return pO($t(),sm(),t,e,n,r,i)}function Lf(t,e,n,r,i,s,o,a){let c=sm()+t,l=$t(),u=sK(l,c,n,r,i,s);return $a(l,c+4,o)||u?Oy(l,c+5,a?e.call(a,n,r,i,s,o):e(n,r,i,s,o)):aO(l,c+5)}function hO(t,e){let n=t[e];return n===xo?void 0:n}function WK(t,e,n,r,i,s){let o=e+n;return $a(t,o,i)?Oy(t,o+1,s?r.call(s,i):r(i)):hO(t,o+1)}function pO(t,e,n,r,i,s,o){let a=e+n;return uy(t,a,i,s)?Oy(t,a+2,o?r.call(o,i,s):r(i,s)):hO(t,a+2)}function mi(t,e){let n=Zr(),r,i=t+hs;n.firstCreatePass?(r=KK(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=xu(r.type,!0)),o,a=Ji(ge);try{let c=Jv(!1),l=s();return Jv(c),UK(n,$t(),i,l),l}finally{Ji(a)}}function KK(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function rl(t,e,n){let r=t+hs,i=$t(),s=_C(i,r);return mO(i,r)?WK(i,sm(),e,s.transform,n,s):s.transform(n)}function wo(t,e,n,r){let i=t+hs,s=$t(),o=_C(s,i);return mO(s,i)?pO(s,sm(),e,o.transform,n,r,o):o.transform(n,r)}function mO(t,e){return t[Rt].data[e].pure}var Ha=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},gO=new Ha("18.2.9");var Fy=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var vO=new We("");function Mu(t){return!!t&&typeof t.then=="function"}function yO(t){return!!t&&typeof t.subscribe=="function"}var _O=new We(""),xO=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Be(_O,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(Mu(s))n.push(s);else if(yO(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),WC=new We("");function XK(){XR(()=>{throw new Ye(600,!1)})}function YK(t){return t.isBoundToModule}var QK=10;function ZK(t,e,n){try{let r=n();return Mu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Nu=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Be(Kq),this.afterRenderManager=Be(dK),this.zonelessEnabled=Be(Ny),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ar,this.afterTick=new Ar,this.componentTypes=[],this.components=[],this.isStable=Be(Of).hasPendingTasks.pipe(wt(n=>!n)),this._injector=Be(Hs)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof oy;if(!this._injector.get(xO).done){let h=!i&&TM(n),m=!1;throw new Ye(405,m)}let o;i?o=n:o=this._injector.get(Rf).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=YK(o)?void 0:this._injector.get(tl),c=r||o.selector,l=o.create(es.NULL,[],c,a),u=l.location.nativeElement,f=l.injector.get(vO,null);return f?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Uv(this.components,l),f?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Ye(101,!1);let n=zt(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,zt(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Pf,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<QK;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)JK(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>xy(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Uv(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(WC,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Uv(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ye(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Uv(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function JK(t,e,n,r){if(!n&&!xy(t))return;ZN(t,e,n&&!r?0:1)}var oC=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},KC=(()=>{class t{compileModuleSync(n){return new tC(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=IM(n),s=DN(i.declarations).reduce((o,a)=>{let c=wu(a);return c&&o.push(new em(c)),o},[]);return new oC(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var eX=(()=>{class t{constructor(){this.zone=Be(tn),this.changeDetectionScheduler=Be(kf),this.applicationRef=Be(Nu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),tX=new We("",{factory:()=>!1});function wO({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new tn(he(G({},bO()),{scheduleInRootZone:n})),[{provide:tn,useFactory:t},{provide:bf,multi:!0,useFactory:()=>{let r=Be(eX,{optional:!0});return()=>r.initialize()}},{provide:bf,multi:!0,useFactory:()=>{let r=Be(nX);return()=>{r.initialize()}}},e===!0?{provide:nO,useValue:!0}:[],{provide:rO,useValue:n??mN}]}function EO(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=wO({ngZoneFactory:()=>{let i=bO(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&cm("NgZone_CoalesceEvent"),new tn(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return ea([{provide:tX,useValue:!0},{provide:Ny,useValue:!1},r])}function bO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var nX=(()=>{class t{constructor(){this.subscription=new zn,this.initialized=!1,this.zone=Be(tn),this.pendingTasks=Be(Of)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{tn.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{tn.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var rX=(()=>{class t{constructor(){this.appRef=Be(Nu),this.taskService=Be(Of),this.ngZone=Be(tn),this.zonelessEnabled=Be(Ny),this.disableScheduling=Be(nO,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new zn,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ny):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Be(rO,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Hb||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?BP:vN;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ny+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,BP(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function iX(){return typeof $localize<"u"&&$localize.locale||fy}var um=new We("",{providedIn:"root",factory:()=>Be(um,Tt.Optional|Tt.SkipSelf)||iX()});var aC=new We("");function Fv(t){return!t.moduleRef}function sX(t){let e=Fv(t)?t.r3Injector:t.moduleRef.injector,n=e.get(tn);return n.run(()=>{Fv(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Ua,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Fv(t)){let s=()=>e.destroy(),o=t.platformInjector.get(aC);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(aC);o.add(s),t.moduleRef.onDestroy(()=>{Uv(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return ZK(r,n,()=>{let s=e.get(xO);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(um,fy);if(LK(o||fy),Fv(t)){let a=e.get(Nu);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return oX(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function oX(t,e){let n=t.injector.get(Nu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new Ye(-403,!1);e.push(t)}var jv=null;function aX(t=[],e){return es.create({name:e,providers:[{provide:gy,useValue:"platform"},{provide:aC,useValue:new Set([()=>jv=null])},...t]})}function cX(t=[]){if(jv)return jv;let e=aX(t);return jv=e,XK(),lX(e),e}function lX(t){t.get(DC,null)?.forEach(n=>n())}var Ya=(()=>{class t{static{this.__NG_ELEMENT_ID__=uX}}return t})();function uX(t){return dX(hi(),$t(),(t&16)===16)}function dX(t,e,n){if(yy(t)&&!n){let r=nl(t.index,e);return new Tu(r,r)}else if(t.type&175){let r=e[Zo];return new Tu(r,e)}return null}var cC=class{constructor(){}supports(e){return oO(e)}create(e){return new lC(e)}},fX=(t,e)=>e,lC=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||fX}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<sM(r,i,s)?n:r,a=sM(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){let m=h<s.length?s[h]:s[h]=0,y=m+h;u<=y&&y<l&&(s[h]=m+1)}let f=o.previousIndex;s[f]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!oO(e))throw new Ye(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,rK(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new uC(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new hy),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new hy),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},uC=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},dC=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},hy=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new dC,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function sM(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function oM(){return new XC([new cC])}var XC=(()=>{class t{static{this.\u0275prov=Xe({token:t,providedIn:"root",factory:oM})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||oM()),deps:[[t,new vM,new Mi]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new Ye(901,!1)}}return t})();function CO(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=cX(r),s=[wO({}),{provide:kf,useExisting:rX},...n||[]],o=new ly({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return sX({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function il(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function dm(t,e){cm("NgSignals");let n=GR(t);return e?.equal&&(n[La].equal=e.equal),n}function Qa(t){let e=zt(null);try{return t()}finally{zt(e)}}var PO=null;function tc(){return PO}function MO(t){PO??=t}var qy=class{};var Ks=new We(""),NO=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:()=>Be(hX),providedIn:"platform"})}}return t})();var hX=(()=>{class t extends NO{constructor(){super(),this._doc=Be(Ks),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tc().getBaseHref(this._doc)}onPopState(n){let r=tc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=tc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function OO(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function SO(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ou(t){return t&&t[0]!=="?"?"?"+t:t}var Bf=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:()=>Be(FO),providedIn:"root"})}}return t})(),pX=new We(""),FO=(()=>{class t extends Bf{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Be(Ks).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return OO(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ou(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ou(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ou(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(st(NO),st(pX,8))}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var hm=(()=>{class t{constructor(n){this._subject=new It,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=vX(SO(TO(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ou(r))}normalize(n){return t.stripTrailingSlash(gX(this._basePath,TO(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ou(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ou(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Ou}static{this.joinWithSlash=OO}static{this.stripTrailingSlash=SO}static{this.\u0275fac=function(r){return new(r||t)(st(Bf))}}static{this.\u0275prov=Xe({token:t,factory:()=>mX(),providedIn:"root"})}}return t})();function mX(){return new hm(st(Bf))}function gX(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function TO(t){return t.replace(/\/index.html$/,"")}function vX(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var LO=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(LO||{});var Oi=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Oi||{}),yn=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(yn||{}),ys=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(ys||{}),_s={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function yX(t){return vs(t)[Gn.LocaleId]}function _X(t,e,n){let r=vs(t),i=[r[Gn.DayPeriodsFormat],r[Gn.DayPeriodsStandalone]],s=Ws(i,e);return Ws(s,n)}function xX(t,e,n){let r=vs(t),i=[r[Gn.DaysFormat],r[Gn.DaysStandalone]],s=Ws(i,e);return Ws(s,n)}function wX(t,e,n){let r=vs(t),i=[r[Gn.MonthsFormat],r[Gn.MonthsStandalone]],s=Ws(i,e);return Ws(s,n)}function EX(t,e){let r=vs(t)[Gn.Eras];return Ws(r,e)}function Ly(t,e){let n=vs(t);return Ws(n[Gn.DateFormat],e)}function By(t,e){let n=vs(t);return Ws(n[Gn.TimeFormat],e)}function Vy(t,e){let r=vs(t)[Gn.DateTimeFormat];return Ws(r,e)}function Ja(t,e){let n=vs(t),r=n[Gn.NumberSymbols][e];if(typeof r>"u"){if(e===_s.CurrencyDecimal)return n[Gn.NumberSymbols][_s.Decimal];if(e===_s.CurrencyGroup)return n[Gn.NumberSymbols][_s.Group]}return r}function bX(t,e){return vs(t)[Gn.NumberFormats][e]}function BO(t){if(!t[Gn.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Gn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function CX(t){let e=vs(t);return BO(e),(e[Gn.ExtraData][2]||[]).map(r=>typeof r=="string"?YC(r):[YC(r[0]),YC(r[1])])}function SX(t,e,n){let r=vs(t);BO(r);let i=[r[Gn.ExtraData][0],r[Gn.ExtraData][1]],s=Ws(i,e)||[];return Ws(s,n)||[]}function Ws(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function YC(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var TX=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Uy={},IX=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ec=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(ec||{}),Yt=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Yt||{}),Xt=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Xt||{});function AX(t,e,n,r){let i=LX(t);e=Za(n,e)||e;let o=[],a;for(;e;)if(a=IX.exec(e),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;e=u}else{o.push(e);break}let c=i.getTimezoneOffset();r&&(c=UO(r,c),i=FX(i,r,!0));let l="";return o.forEach(u=>{let f=NX(u);l+=f?f(i,n,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Gy(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Za(t,e){let n=yX(t);if(Uy[n]??={},Uy[n][e])return Uy[n][e];let r="";switch(e){case"shortDate":r=Ly(t,ys.Short);break;case"mediumDate":r=Ly(t,ys.Medium);break;case"longDate":r=Ly(t,ys.Long);break;case"fullDate":r=Ly(t,ys.Full);break;case"shortTime":r=By(t,ys.Short);break;case"mediumTime":r=By(t,ys.Medium);break;case"longTime":r=By(t,ys.Long);break;case"fullTime":r=By(t,ys.Full);break;case"short":let i=Za(t,"shortTime"),s=Za(t,"shortDate");r=jy(Vy(t,ys.Short),[i,s]);break;case"medium":let o=Za(t,"mediumTime"),a=Za(t,"mediumDate");r=jy(Vy(t,ys.Medium),[o,a]);break;case"long":let c=Za(t,"longTime"),l=Za(t,"longDate");r=jy(Vy(t,ys.Long),[c,l]);break;case"full":let u=Za(t,"fullTime"),f=Za(t,"fullDate");r=jy(Vy(t,ys.Full),[u,f]);break}return r&&(Uy[n][e]=r),r}function jy(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Eo(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function DX(t,e){return Eo(t,3).substring(0,e)}function fr(t,e,n=0,r=!1,i=!1){return function(s,o){let a=kX(t,s);if((n>0||a>-n)&&(a+=n),t===Yt.Hours)a===0&&n===-12&&(a=12);else if(t===Yt.FractionalSeconds)return DX(a,e);let c=Ja(o,_s.MinusSign);return Eo(a,e,c,r,i)}}function kX(t,e){switch(t){case Yt.FullYear:return e.getFullYear();case Yt.Month:return e.getMonth();case Yt.Date:return e.getDate();case Yt.Hours:return e.getHours();case Yt.Minutes:return e.getMinutes();case Yt.Seconds:return e.getSeconds();case Yt.FractionalSeconds:return e.getMilliseconds();case Yt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function En(t,e,n=Oi.Format,r=!1){return function(i,s){return RX(i,s,t,e,n,r)}}function RX(t,e,n,r,i,s){switch(n){case Xt.Months:return wX(e,i,r)[t.getMonth()];case Xt.Days:return xX(e,i,r)[t.getDay()];case Xt.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let l=CX(e),u=SX(e,i,r),f=l.findIndex(h=>{if(Array.isArray(h)){let[m,y]=h,_=o>=m.hours&&a>=m.minutes,x=o<y.hours||o===y.hours&&a<y.minutes;if(m.hours<y.hours){if(_&&x)return!0}else if(_||x)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(f!==-1)return u[f]}return _X(e,i,r)[o<12?0:1];case Xt.Eras:return EX(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function $y(t){return function(e,n,r){let i=-1*r,s=Ja(n,_s.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case ec.Short:return(i>=0?"+":"")+Eo(o,2,s)+Eo(Math.abs(i%60),2,s);case ec.ShortGMT:return"GMT"+(i>=0?"+":"")+Eo(o,1,s);case ec.Long:return"GMT"+(i>=0?"+":"")+Eo(o,2,s)+":"+Eo(Math.abs(i%60),2,s);case ec.Extended:return r===0?"Z":(i>=0?"+":"")+Eo(o,2,s)+":"+Eo(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var PX=0,zy=4;function MX(t){let e=Gy(t,PX,1).getDay();return Gy(t,0,1+(e<=zy?zy:zy+7)-e)}function VO(t){let e=t.getDay(),n=e===0?-3:zy-e;return Gy(t.getFullYear(),t.getMonth(),t.getDate()+n)}function QC(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=VO(n),o=MX(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Eo(i,t,Ja(r,_s.MinusSign))}}function Hy(t,e=!1){return function(n,r){let s=VO(n).getFullYear();return Eo(s,t,Ja(r,_s.MinusSign),e)}}var ZC={};function NX(t){if(ZC[t])return ZC[t];let e;switch(t){case"G":case"GG":case"GGG":e=En(Xt.Eras,yn.Abbreviated);break;case"GGGG":e=En(Xt.Eras,yn.Wide);break;case"GGGGG":e=En(Xt.Eras,yn.Narrow);break;case"y":e=fr(Yt.FullYear,1,0,!1,!0);break;case"yy":e=fr(Yt.FullYear,2,0,!0,!0);break;case"yyy":e=fr(Yt.FullYear,3,0,!1,!0);break;case"yyyy":e=fr(Yt.FullYear,4,0,!1,!0);break;case"Y":e=Hy(1);break;case"YY":e=Hy(2,!0);break;case"YYY":e=Hy(3);break;case"YYYY":e=Hy(4);break;case"M":case"L":e=fr(Yt.Month,1,1);break;case"MM":case"LL":e=fr(Yt.Month,2,1);break;case"MMM":e=En(Xt.Months,yn.Abbreviated);break;case"MMMM":e=En(Xt.Months,yn.Wide);break;case"MMMMM":e=En(Xt.Months,yn.Narrow);break;case"LLL":e=En(Xt.Months,yn.Abbreviated,Oi.Standalone);break;case"LLLL":e=En(Xt.Months,yn.Wide,Oi.Standalone);break;case"LLLLL":e=En(Xt.Months,yn.Narrow,Oi.Standalone);break;case"w":e=QC(1);break;case"ww":e=QC(2);break;case"W":e=QC(1,!0);break;case"d":e=fr(Yt.Date,1);break;case"dd":e=fr(Yt.Date,2);break;case"c":case"cc":e=fr(Yt.Day,1);break;case"ccc":e=En(Xt.Days,yn.Abbreviated,Oi.Standalone);break;case"cccc":e=En(Xt.Days,yn.Wide,Oi.Standalone);break;case"ccccc":e=En(Xt.Days,yn.Narrow,Oi.Standalone);break;case"cccccc":e=En(Xt.Days,yn.Short,Oi.Standalone);break;case"E":case"EE":case"EEE":e=En(Xt.Days,yn.Abbreviated);break;case"EEEE":e=En(Xt.Days,yn.Wide);break;case"EEEEE":e=En(Xt.Days,yn.Narrow);break;case"EEEEEE":e=En(Xt.Days,yn.Short);break;case"a":case"aa":case"aaa":e=En(Xt.DayPeriods,yn.Abbreviated);break;case"aaaa":e=En(Xt.DayPeriods,yn.Wide);break;case"aaaaa":e=En(Xt.DayPeriods,yn.Narrow);break;case"b":case"bb":case"bbb":e=En(Xt.DayPeriods,yn.Abbreviated,Oi.Standalone,!0);break;case"bbbb":e=En(Xt.DayPeriods,yn.Wide,Oi.Standalone,!0);break;case"bbbbb":e=En(Xt.DayPeriods,yn.Narrow,Oi.Standalone,!0);break;case"B":case"BB":case"BBB":e=En(Xt.DayPeriods,yn.Abbreviated,Oi.Format,!0);break;case"BBBB":e=En(Xt.DayPeriods,yn.Wide,Oi.Format,!0);break;case"BBBBB":e=En(Xt.DayPeriods,yn.Narrow,Oi.Format,!0);break;case"h":e=fr(Yt.Hours,1,-12);break;case"hh":e=fr(Yt.Hours,2,-12);break;case"H":e=fr(Yt.Hours,1);break;case"HH":e=fr(Yt.Hours,2);break;case"m":e=fr(Yt.Minutes,1);break;case"mm":e=fr(Yt.Minutes,2);break;case"s":e=fr(Yt.Seconds,1);break;case"ss":e=fr(Yt.Seconds,2);break;case"S":e=fr(Yt.FractionalSeconds,1);break;case"SS":e=fr(Yt.FractionalSeconds,2);break;case"SSS":e=fr(Yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=$y(ec.Short);break;case"ZZZZZ":e=$y(ec.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=$y(ec.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=$y(ec.Long);break;default:return null}return ZC[t]=e,e}function UO(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function OX(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function FX(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=UO(e,i);return OX(t,r*(s-i))}function LX(t){if(IO(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return Gy(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(TX))return BX(r)}let e=new Date(t);if(!IO(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function BX(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,c,l),e}function IO(t){return t instanceof Date&&!isNaN(t.valueOf())}var VX=/^(\d+)?\.((\d+)(-(\d+))?)?$/,AO=22,Wy=".",fm="0",UX=";",jX=",",JC="#";function $X(t,e,n,r,i,s,o=!1){let a="",c=!1;if(!isFinite(t))a=Ja(n,_s.Infinity);else{let l=GX(t);o&&(l=qX(l));let u=e.minInt,f=e.minFrac,h=e.maxFrac;if(s){let H=s.match(VX);if(H===null)throw new Error(`${s} is not a valid digit info`);let K=H[1],Q=H[3],ae=H[5];K!=null&&(u=eS(K)),Q!=null&&(f=eS(Q)),ae!=null?h=eS(ae):Q!=null&&f>h&&(h=f)}WX(l,f,h);let m=l.digits,y=l.integerLen,_=l.exponent,x=[];for(c=m.every(H=>!H);y<u;y++)m.unshift(0);for(;y<0;y++)m.unshift(0);y>0?x=m.splice(y,m.length):(x=m,m=[0]);let M=[];for(m.length>=e.lgSize&&M.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)M.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&M.unshift(m.join("")),a=M.join(Ja(n,r)),x.length&&(a+=Ja(n,i)+x.join("")),_&&(a+=Ja(n,_s.Exponential)+"+"+_)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function HX(t,e,n){let r=bX(e,LO.Decimal),i=zX(r,Ja(e,_s.MinusSign));return $X(t,i,e,_s.Group,_s.Decimal,n)}function zX(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(UX),i=r[0],s=r[1],o=i.indexOf(Wy)!==-1?i.split(Wy):[i.substring(0,i.lastIndexOf(fm)+1),i.substring(i.lastIndexOf(fm)+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf(JC));for(let u=0;u<c.length;u++){let f=c.charAt(u);f===fm?n.minFrac=n.maxFrac=u+1:f===JC?n.maxFrac=u+1:n.posSuf+=f}let l=a.split(jX);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){let u=i.length-n.posPre.length-n.posSuf.length,f=s.indexOf(JC);n.negPre=s.substring(0,f).replace(/'/g,""),n.negSuf=s.slice(f+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function qX(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function GX(t){let e=Math.abs(t)+"",n=0,r,i,s,o,a;for((i=e.indexOf(Wy))>-1&&(e=e.replace(Wy,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===fm;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===fm;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>AO&&(r=r.splice(0,AO-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function WX(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,s=Math.min(Math.max(e,i),n),o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let f=o;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let f=1;f<o;f++)r[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=s!==0,l=e+t.integerLen,u=r.reduceRight(function(f,h,m,y){return h=h+f,y[m]=h<10?h:h-10,c&&(y[m]===0&&m>=l?y.pop():c=!1),h>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}function eS(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function jO(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var tS=/\s+/,DO=[],sl=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=DO,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(tS):DO}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(tS):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(tS).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(ge(gs),ge(na))}}static{this.\u0275dir=Kt({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var nS=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},hr=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new nS(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),kO(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);kO(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(ge(Ff),ge(My),ge(XC))}}static{this.\u0275dir=Kt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function kO(t,e){t.context.$implicit=e.item}var dn=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new rS,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){RO("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){RO("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(ge(Ff),ge(My))}}static{this.\u0275dir=Kt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),rS=class{constructor(){this.$implicit=null,this.ngIf=null}};function RO(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ki(e)}'.`)}function Xy(t,e){return new Ye(2100,!1)}var KX=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Yy=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw Xy(t,n);return n.replace(KX,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Au({name:"titlecase",type:t,pure:!0,standalone:!0})}}return t})(),Vf=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw Xy(t,n);return n.toUpperCase()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Au({name:"uppercase",type:t,pure:!0,standalone:!0})}}return t})(),XX="mediumDate",YX=new We(""),QX=new We(""),pm=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(n==null||n===""||n!==n)return null;try{let o=r??this.defaultOptions?.dateFormat??XX,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return AX(n,o,s||this.locale,a)}catch(o){throw Xy(t,o.message)}}static{this.\u0275fac=function(r){return new(r||t)(ge(um,16),ge(YX,24),ge(QX,24))}}static{this.\u0275pipe=Au({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var $O=(()=>{class t{constructor(n){this._locale=n}transform(n,r,i){if(!ZX(n))return null;i||=this._locale;try{let s=JX(n);return HX(s,i,r)}catch(s){throw Xy(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(ge(um,16))}}static{this.\u0275pipe=Au({name:"number",type:t,pure:!0,standalone:!0})}}return t})();function ZX(t){return!(t==null||t===""||t!==t)}function JX(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var _n=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ms({type:t})}static{this.\u0275inj=ps({})}}return t})(),iS="browser",eY="server";function HO(t){return t===iS}function sS(t){return t===eY}var Ky=class{};var cS=class extends qy{constructor(){super(...arguments),this.supportsDOMEvents=!0}},lS=class t extends cS{static makeCurrent(){MO(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=tY();return n==null?null:nY(n)}resetBaseElement(){mm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return jO(document.cookie,e)}},mm=null;function tY(){return mm=mm||document.querySelector("base"),mm?mm.getAttribute("href"):null}function nY(t){return new URL(t,document.baseURI).pathname}var rY=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac})}}return t})(),uS=new We(""),WO=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new Ye(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(st(uS),st(tn))}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac})}}return t})(),Qy=class{constructor(e){this._doc=e}},oS="ng-app-id",KO=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=sS(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${oS}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(oS),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(oS,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(st(Ks),st(AC),st(kC,8),st(ta))}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac})}}return t})(),aS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},fS=/%COMP%/g,XO="%COMP%",iY=`_nghost-${XO}`,sY=`_ngcontent-${XO}`,oY=!0,aY=new We("",{providedIn:"root",factory:()=>oY});function cY(t){return sY.replace(fS,t)}function lY(t){return iY.replace(fS,t)}function YO(t,e){return e.map(n=>n.replace(fS,t))}var zO=(()=>{class t{constructor(n,r,i,s,o,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=sS(a),this.defaultRenderer=new gm(n,o,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Yo.ShadowDom&&(r=he(G({},r),{encapsulation:Yo.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Zy?i.applyToHost(n):i instanceof vm&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case Yo.Emulated:s=new Zy(c,l,r,this.appId,u,o,a,f);break;case Yo.ShadowDom:return new dS(c,l,n,r,o,a,this.nonce,f);default:s=new vm(c,l,r,u,o,a,f);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(st(WO),st(KO),st(AC),st(aY),st(Ks),st(ta),st(tn),st(kC))}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac})}}return t})(),gm=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(aS[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(qO(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(qO(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Ye(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=aS[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=aS[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ja.DashCase|ja.Important)?e.style.setProperty(n,r,i&ja.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ja.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=tc().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function qO(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var dS=class extends gm{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=YO(i.id,i.styles);for(let u of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},vm=class extends gm{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?YO(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Zy=class extends vm{constructor(e,n,r,i,s,o,a,c){let l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=cY(l),this.hostAttr=lY(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},uY=(()=>{class t extends Qy{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(st(Ks))}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac})}}return t})(),GO=["alt","control","meta","shift"],dY={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},hY=(()=>{class t extends Qy{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tc().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),GO.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(n,r){let i=dY[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),GO.forEach(o=>{if(o!==i){let a=fY[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(st(Ks))}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac})}}return t})();function QO(t,e){return CO(G({rootComponent:t},pY(e)))}function pY(t){return{appProviders:[..._Y,...t?.providers??[]],platformProviders:yY}}function mY(){lS.makeCurrent()}function gY(){return new Ua}function vY(){return CN(document),document}var yY=[{provide:ta,useValue:iS},{provide:DC,useValue:mY,multi:!0},{provide:Ks,useFactory:vY,deps:[]}];var _Y=[{provide:gy,useValue:"root"},{provide:Ua,useFactory:gY,deps:[]},{provide:uS,useClass:uY,multi:!0,deps:[Ks,tn,ta]},{provide:uS,useClass:hY,multi:!0,deps:[Ks]},zO,KO,WO,{provide:Pf,useExisting:zO},{provide:Ky,useClass:rY,deps:[]},[]];var ZO=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(st(Ks))}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var _t="primary",Mm=Symbol("RouteTitle"),vS=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function qf(t){return new vS(t)}function wY(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function EY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ra(t[n],e[n]))return!1;return!0}function ra(t,e){let n=t?yS(t):void 0,r=e?yS(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!oF(t[i],e[i]))return!1;return!0}function yS(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function oF(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function aF(t){return t.length>0?t[t.length-1]:null}function al(t){return sb(t)?t:Mu(t)?qn(Promise.resolve(t)):lt(t)}var bY={exact:lF,subset:uF},cF={exact:CY,subset:SY,ignored:()=>!0};function JO(t,e,n){return bY[n.paths](t.root,e.root,n.matrixParams)&&cF[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function CY(t,e){return ra(t,e)}function lF(t,e,n){if(!Lu(t.segments,e.segments)||!t_(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!lF(t.children[r],e.children[r],n))return!1;return!0}function SY(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>oF(t[n],e[n]))}function uF(t,e,n){return dF(t,e,e.segments,n)}function dF(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Lu(i,n)||e.hasChildren()||!t_(i,n,r))}else if(t.segments.length===n.length){if(!Lu(t.segments,n)||!t_(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!uF(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Lu(t.segments,i)||!t_(t.segments,i,r)||!t.children[_t]?!1:dF(t.children[_t],e,s,r)}}function t_(t,e,n){return e.every((r,i)=>cF[n](t[i].parameters,r.parameters))}var rc=class{constructor(e=new nn([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=qf(this.queryParams),this._queryParamMap}toString(){return AY.serialize(this)}},nn=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return n_(this)}},Fu=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=qf(this.parameters),this._parameterMap}toString(){return hF(this)}};function TY(t,e){return Lu(t,e)&&t.every((n,r)=>ra(n.parameters,e[r].parameters))}function Lu(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function IY(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===_t&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==_t&&(n=n.concat(e(i,r)))}),n}var zS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:()=>new Cm,providedIn:"root"})}}return t})(),Cm=class{parse(e){let n=new xS(e);return new rc(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ym(e.root,!0)}`,r=RY(e.queryParams),i=typeof e.fragment=="string"?`#${DY(e.fragment)}`:"";return`${n}${r}${i}`}},AY=new Cm;function n_(t){return t.segments.map(e=>hF(e)).join("/")}function ym(t,e){if(!t.hasChildren())return n_(t);if(e){let n=t.children[_t]?ym(t.children[_t],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==_t&&r.push(`${i}:${ym(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=IY(t,(r,i)=>i===_t?[ym(t.children[_t],!1)]:[`${i}:${ym(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[_t]!=null?`${n_(t)}/${n[0]}`:`${n_(t)}/(${n.join("//")})`}}function fF(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jy(t){return fF(t).replace(/%3B/gi,";")}function DY(t){return encodeURI(t)}function _S(t){return fF(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function r_(t){return decodeURIComponent(t)}function eF(t){return r_(t.replace(/\+/g,"%20"))}function hF(t){return`${_S(t.path)}${kY(t.parameters)}`}function kY(t){return Object.entries(t).map(([e,n])=>`;${_S(e)}=${_S(n)}`).join("")}function RY(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Jy(n)}=${Jy(i)}`).join("&"):`${Jy(n)}=${Jy(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var PY=/^[^\/()?;#]+/;function hS(t){let e=t.match(PY);return e?e[0]:""}var MY=/^[^\/()?;=#]+/;function NY(t){let e=t.match(MY);return e?e[0]:""}var OY=/^[^=?&#]+/;function FY(t){let e=t.match(OY);return e?e[0]:""}var LY=/^[^&#]+/;function BY(t){let e=t.match(LY);return e?e[0]:""}var xS=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[_t]=new nn(e,n)),r}parseSegment(){let e=hS(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Ye(4009,!1);return this.capture(e),new Fu(r_(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=NY(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=hS(this.remaining);i&&(r=i,this.capture(r))}e[r_(n)]=r_(r)}parseQueryParam(e){let n=FY(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=BY(this.remaining);o&&(r=o,this.capture(r))}let i=eF(n),s=eF(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=hS(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Ye(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=_t);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[_t]:new nn([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Ye(4011,!1)}};function pF(t){return t.segments.length>0?new nn([],{[_t]:t}):t}function mF(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=mF(i);if(r===_t&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new nn(t.segments,e);return VY(n)}function VY(t){if(t.numberOfChildren===1&&t.children[_t]){let e=t.children[_t];return new nn(t.segments.concat(e.segments),e.children)}return t}function Bu(t){return t instanceof rc}function UY(t,e,n=null,r=null){let i=gF(t);return vF(i,e,n,r)}function gF(t){let e;function n(s){let o={};for(let c of s.children){let l=n(c);o[c.outlet]=l}let a=new nn(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=pF(r);return e??i}function vF(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return pS(i,i,i,n,r);let s=jY(e);if(s.toRoot())return pS(i,i,new nn([],{}),n,r);let o=$Y(s,i,t),a=o.processChildren?wm(o.segmentGroup,o.index,s.commands):_F(o.segmentGroup,o.index,s.commands);return pS(i,o.segmentGroup,a,n,r)}function i_(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Sm(t){return typeof t=="object"&&t!=null&&t.outlets}function pS(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;t===e?o=n:o=yF(t,e,n);let a=pF(mF(o));return new rc(a,s,i)}function yF(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=yF(s,e,n)}),new nn(t.segments,r)}var s_=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&i_(r[0]))throw new Ye(4003,!1);let i=r.find(Sm);if(i&&i!==aF(r))throw new Ye(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function jY(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new s_(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new s_(n,e,r)}var $f=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function $Y(t,e,n){if(t.isAbsolute)return new $f(e,!0,0);if(!n)return new $f(e,!1,NaN);if(n.parent===null)return new $f(n,!0,0);let r=i_(t.commands[0])?0:1,i=n.segments.length-1+r;return HY(n,i,t.numberOfDoubleDots)}function HY(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Ye(4005,!1);i=r.segments.length}return new $f(r,!1,i-s)}function zY(t){return Sm(t[0])?t[0].outlets:{[_t]:t}}function _F(t,e,n){if(t??=new nn([],{}),t.segments.length===0&&t.hasChildren())return wm(t,e,n);let r=qY(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new nn(t.segments.slice(0,r.pathIndex),{});return s.children[_t]=new nn(t.segments.slice(r.pathIndex),t.children),wm(s,0,i)}else return r.match&&i.length===0?new nn(t.segments,{}):r.match&&!t.hasChildren()?wS(t,e,n):r.match?wm(t,0,i):wS(t,e,n)}function wm(t,e,n){if(n.length===0)return new nn(t.segments,{});{let r=zY(n),i={};if(Object.keys(r).some(s=>s!==_t)&&t.children[_t]&&t.numberOfChildren===1&&t.children[_t].segments.length===0){let s=wm(t.children[_t],e,n);return new nn(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=_F(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new nn(t.segments,i)}}function qY(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Sm(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!nF(c,l,o))return s;r+=2}else{if(!nF(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function wS(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Sm(s)){let c=GY(s.outlets);return new nn(r,c)}if(i===0&&i_(n[0])){let c=t.segments[e];r.push(new Fu(c.path,tF(n[0]))),i++;continue}let o=Sm(s)?s.outlets[_t]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&i_(a)?(r.push(new Fu(o,tF(a))),i+=2):(r.push(new Fu(o,{})),i++)}return new nn(r,{})}function GY(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=wS(new nn([],{}),0,r))}),e}function tF(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function nF(t,e,n){return t==n.path&&ra(e,n.parameters)}var Em="imperative",ei=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ei||{}),Xs=class{constructor(e,n){this.id=e,this.url=n}},Tm=class extends Xs{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ei.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ol=class extends Xs{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ei.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Es=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Es||{}),ES=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ES||{}),nc=class extends Xs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ei.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Vu=class extends Xs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ei.NavigationSkipped}},Im=class extends Xs{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ei.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},o_=class extends Xs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ei.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bS=class extends Xs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ei.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},CS=class extends Xs{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=ei.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},SS=class extends Xs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ei.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},TS=class extends Xs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ei.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},IS=class{constructor(e){this.route=e,this.type=ei.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},AS=class{constructor(e){this.route=e,this.type=ei.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},DS=class{constructor(e){this.snapshot=e,this.type=ei.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kS=class{constructor(e){this.snapshot=e,this.type=ei.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},RS=class{constructor(e){this.snapshot=e,this.type=ei.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},PS=class{constructor(e){this.snapshot=e,this.type=ei.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Am=class{},Gf=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function WY(t,e){return t.providers&&!t._injector&&(t._injector=GC(t.providers,e,`Route: ${t.path}`)),t._injector??e}function bo(t){return t.outlet||_t}function KY(t,e){let n=t.filter(r=>bo(r)===e);return n.push(...t.filter(r=>bo(r)!==e)),n}function Nm(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var MS=class{get injector(){return Nm(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new h_(this.rootInjector),this.attachRef=null}},h_=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new MS(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(st(Hs))}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),a_=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=NS(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=NS(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=OS(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return OS(e,this._root).map(n=>n.value)}};function NS(t,e){if(t===e.value)return e;for(let n of e.children){let r=NS(t,n);if(r)return r}return null}function OS(t,e){if(t===e.value)return[e];for(let n of e.children){let r=OS(t,n);if(r.length)return r.unshift(e),r}return[]}var ws=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function jf(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var c_=class extends a_{constructor(e,n){super(e),this.snapshot=n,qS(this,e)}toString(){return this.snapshot.toString()}};function xF(t){let e=XY(t),n=new er([new Fu("",{})]),r=new er({}),i=new er({}),s=new er({}),o=new er(""),a=new Uu(n,r,s,o,i,_t,t,e.root);return a.snapshot=e.root,new c_(new ws(a,[]),e)}function XY(t){let e={},n={},r={},i="",s=new Hf([],e,r,i,n,_t,t,null,{});return new u_("",new ws(s,[]))}var Uu=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(wt(l=>l[Mm]))??lt(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(wt(e=>qf(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(wt(e=>qf(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function l_(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:G(G({},e.params),t.params),data:G(G({},e.data),t.data),resolve:G(G(G(G({},t.data),e.data),i?.data),t._resolvedData)}:r={params:G({},t.params),data:G({},t.data),resolve:G(G({},t.data),t._resolvedData??{})},i&&EF(i)&&(r.resolve[Mm]=i.title),r}var Hf=class{get title(){return this.data?.[Mm]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=qf(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=qf(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},u_=class extends a_{constructor(e,n){super(n),this.url=e,qS(this,n)}toString(){return wF(this._root)}};function qS(t,e){e.value._routerState=t,e.children.forEach(n=>qS(t,n))}function wF(t){let e=t.children.length>0?` { ${t.children.map(wF).join(", ")} } `:"";return`${t.value}${e}`}function mS(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ra(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ra(e.params,n.params)||t.paramsSubject.next(n.params),EY(e.url,n.url)||t.urlSubject.next(n.url),ra(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function FS(t,e){let n=ra(t.params,e.params)&&TY(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||FS(t.parent,e.parent))}function EF(t){return typeof t.title=="string"||t.title===null}var GS=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=_t,this.activateEvents=new It,this.deactivateEvents=new It,this.attachEvents=new It,this.detachEvents=new It,this.parentContexts=Be(h_),this.location=Be(Ff),this.changeDetector=Be(Ya),this.inputBinder=Be(WS,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ye(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ye(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ye(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Ye(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new LS(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Kt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[zs]})}}return t})(),LS=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Uu?this.route:e===h_?this.childContexts:this.parent.get(e,n)}},WS=new We("");function YY(t,e,n){let r=Dm(t,e._root,n?n._root:void 0);return new c_(r,e)}function Dm(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=QY(t,e,n);return new ws(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Dm(t,a)),o}}let r=ZY(e.value),i=e.children.map(s=>Dm(t,s));return new ws(r,i)}}function QY(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Dm(t,r,i);return Dm(t,r)})}function ZY(t){return new Uu(new er(t.url),new er(t.params),new er(t.queryParams),new er(t.fragment),new er(t.data),t.outlet,t.component,t)}var km=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},bF="ngNavigationCancelingError";function d_(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Bu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=CF(!1,Es.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function CF(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[bF]=!0,n.cancellationCode=e,n}function JY(t){return SF(t)&&Bu(t.url)}function SF(t){return!!t&&t[bF]}var eQ=(t,e,n,r)=>wt(i=>(new BS(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),BS=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),mS(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=jf(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=jf(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=jf(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=jf(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new PS(s.value.snapshot))}),e.children.length&&this.forwardEvent(new kS(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(mS(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),mS(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},f_=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},zf=class{constructor(e,n){this.component=e,this.route=n}};function tQ(t,e,n){let r=t._root,i=e?e._root:null;return _m(r,i,n,[r.value])}function nQ(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Kf(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!uM(t)?t:e.get(t):r}function _m(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=jf(e);return t.children.forEach(o=>{rQ(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>bm(a,n.getContext(o),i)),i}function rQ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=iQ(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new f_(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?_m(t,e,a?a.children:null,r,i):_m(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new zf(a.outlet.component,o))}else o&&bm(e,a,i),i.canActivateChecks.push(new f_(r)),s.component?_m(t,null,a?a.children:null,r,i):_m(t,null,n,r,i);return i}function iQ(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Lu(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Lu(t.url,e.url)||!ra(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!FS(t,e)||!ra(t.queryParams,e.queryParams);case"paramsChange":default:return!FS(t,e)}}function bm(t,e,n){let r=jf(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?bm(o,e.children.getContext(s),n):bm(o,null,n):bm(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new zf(e.outlet.component,i)):n.canDeactivateChecks.push(new zf(null,i)):n.canDeactivateChecks.push(new zf(null,i))}function Om(t){return typeof t=="function"}function sQ(t){return typeof t=="boolean"}function oQ(t){return t&&Om(t.canLoad)}function aQ(t){return t&&Om(t.canActivate)}function cQ(t){return t&&Om(t.canActivateChild)}function lQ(t){return t&&Om(t.canDeactivate)}function uQ(t){return t&&Om(t.canMatch)}function TF(t){return t instanceof Ba||t?.name==="EmptyError"}var e_=Symbol("INITIAL_VALUE");function Wf(){return po(t=>Iv(t.map(e=>e.pipe(Va(1),Rv(e_)))).pipe(wt(e=>{for(let n of e)if(n!==!0){if(n===e_)return e_;if(n===!1||dQ(n))return n}return!0}),Zi(e=>e!==e_),Va(1)))}function dQ(t){return Bu(t)||t instanceof km}function fQ(t,e){return Dr(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?lt(he(G({},n),{guardsResult:!0})):hQ(o,r,i,t).pipe(Dr(a=>a&&sQ(a)?pQ(r,s,t,e):lt(a)),wt(a=>he(G({},n),{guardsResult:a})))})}function hQ(t,e,n,r){return qn(t).pipe(Dr(i=>_Q(i.component,i.route,n,e,r)),Wo(i=>i!==!0,!0))}function pQ(t,e,n,r){return qn(e).pipe(pf(i=>hf(gQ(i.route.parent,r),mQ(i.route,r),yQ(t,i.path,n),vQ(t,i.route,n))),Wo(i=>i!==!0,!0))}function mQ(t,e){return t!==null&&e&&e(new RS(t)),lt(!0)}function gQ(t,e){return t!==null&&e&&e(new DS(t)),lt(!0)}function vQ(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return lt(!0);let i=r.map(s=>Av(()=>{let o=Nm(e)??n,a=Kf(s,o),c=aQ(a)?a.canActivate(e,t):za(o,()=>a(e,t));return al(c).pipe(Wo())}));return lt(i).pipe(Wf())}function yQ(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>nQ(o)).filter(o=>o!==null).map(o=>Av(()=>{let a=o.guards.map(c=>{let l=Nm(o.node)??n,u=Kf(c,l),f=cQ(u)?u.canActivateChild(r,t):za(l,()=>u(r,t));return al(f).pipe(Wo())});return lt(a).pipe(Wf())}));return lt(s).pipe(Wf())}function _Q(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return lt(!0);let o=s.map(a=>{let c=Nm(e)??i,l=Kf(a,c),u=lQ(l)?l.canDeactivate(t,e,n,r):za(c,()=>l(t,e,n,r));return al(u).pipe(Wo())});return lt(o).pipe(Wf())}function xQ(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return lt(!0);let s=i.map(o=>{let a=Kf(o,t),c=oQ(a)?a.canLoad(e,n):za(t,()=>a(e,n));return al(c)});return lt(s).pipe(Wf(),IF(r))}function IF(t){return cv(kr(e=>{if(typeof e!="boolean")throw d_(t,e)}),wt(e=>e===!0))}function wQ(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return lt(!0);let s=i.map(o=>{let a=Kf(o,t),c=uQ(a)?a.canMatch(e,n):za(t,()=>a(e,n));return al(c)});return lt(s).pipe(Wf(),IF(r))}var Rm=class{constructor(e){this.segmentGroup=e||null}},Pm=class extends Error{constructor(e){super(),this.urlTree=e}};function Uf(t){return ff(new Rm(t))}function EQ(t){return ff(new Ye(4e3,!1))}function bQ(t){return ff(CF(!1,Es.GuardRejected))}var VS=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return lt(r);if(i.numberOfChildren>1||!i.children[_t])return EQ(`${e.redirectTo}`);i=i.children[_t]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:f,outlet:h,params:m,data:y,title:_}=i,x=za(s,()=>a({params:m,data:y,queryParams:c,fragment:l,routeConfig:u,url:f,outlet:h,title:_}));if(x instanceof rc)throw new Pm(x);n=x}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Pm(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new rc(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new nn(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Ye(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},US={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function CQ(t,e,n,r,i){let s=AF(t,e,n);return s.matched?(r=WY(e,r),wQ(r,e,n,i).pipe(wt(o=>o===!0?s:G({},US)))):lt(s)}function AF(t,e,n){if(e.path==="**")return SQ(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?G({},US):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||wY)(n,t,e);if(!i)return G({},US);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?G(G({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function SQ(t){return{matched:!0,parameters:t.length>0?aF(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function rF(t,e,n,r){return n.length>0&&AQ(t,n,r)?{segmentGroup:new nn(e,IQ(r,new nn(n,t.children))),slicedSegments:[]}:n.length===0&&DQ(t,n,r)?{segmentGroup:new nn(t.segments,TQ(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new nn(t.segments,t.children),slicedSegments:n}}function TQ(t,e,n,r){let i={};for(let s of n)if(p_(t,e,s)&&!r[bo(s)]){let o=new nn([],{});i[bo(s)]=o}return G(G({},r),i)}function IQ(t,e){let n={};n[_t]=e;for(let r of t)if(r.path===""&&bo(r)!==_t){let i=new nn([],{});n[bo(r)]=i}return n}function AQ(t,e,n){return n.some(r=>p_(t,e,r)&&bo(r)!==_t)}function DQ(t,e,n){return n.some(r=>p_(t,e,r))}function p_(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function kQ(t,e,n){return e.length===0&&!t.children[n]}var jS=class{};function RQ(t,e,n,r,i,s,o="emptyOnly"){return new $S(t,e,n,r,i,o,s).recognize()}var PQ=31,$S=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new VS(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Ye(4002,`'${e.segmentGroup}'`)}recognize(){let e=rF(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(wt(({children:n,rootSnapshot:r})=>{let i=new ws(r,n),s=new u_("",i),o=UY(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Hf([],Object.freeze({}),Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),_t,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,_t,n).pipe(wt(r=>({children:r,rootSnapshot:n})),Wc(r=>{if(r instanceof Pm)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Rm?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(wt(o=>o instanceof ws?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return qn(s).pipe(pf(o=>{let a=r.children[o],c=KY(n,o);return this.processSegmentGroup(e,c,a,o,i)}),kv((o,a)=>(o.push(...a),o)),Kc(null),lb(),Dr(o=>{if(o===null)return Uf(r);let a=DF(o);return MQ(a),lt(a)}))}processSegment(e,n,r,i,s,o,a){return qn(n).pipe(pf(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,s,o,a).pipe(Wc(l=>{if(l instanceof Rm)return lt(null);throw l}))),Wo(c=>!!c),Wc(c=>{if(TF(c))return kQ(r,i,s)?lt(new jS):Uf(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,c){return bo(r)!==o&&(o===_t||!p_(i,s,r))?Uf(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,c):Uf(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:f,remainingSegments:h}=AF(n,i,s);if(!c)return Uf(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>PQ&&(this.allowRedirects=!1));let m=new Hf(s,l,Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,iF(i),bo(i),i.component??i._loadedComponent??null,i,sF(i)),y=l_(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(y.params),m.data=Object.freeze(y.data);let _=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,f,m,e);return this.applyRedirects.lineralizeSegments(i,_).pipe(Dr(x=>this.processSegment(e,r,n,x.concat(h),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=CQ(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(po(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(po(({routes:l})=>{let u=r._loadedInjector??e,{parameters:f,consumedSegments:h,remainingSegments:m}=c,y=new Hf(h,f,Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,iF(r),bo(r),r.component??r._loadedComponent??null,r,sF(r)),_=l_(y,o,this.paramsInheritanceStrategy);y.params=Object.freeze(_.params),y.data=Object.freeze(_.data);let{segmentGroup:x,slicedSegments:M}=rF(n,h,m,l);if(M.length===0&&x.hasChildren())return this.processChildren(u,l,x,y).pipe(wt(K=>new ws(y,K)));if(l.length===0&&M.length===0)return lt(new ws(y,[]));let H=bo(r)===s;return this.processSegment(u,l,x,M,H?_t:s,!0,y).pipe(wt(K=>new ws(y,K instanceof ws?[K]:[])))}))):Uf(n)))}getChildConfig(e,n,r){return n.children?lt({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?lt({routes:n._loadedRoutes,injector:n._loadedInjector}):xQ(e,n,r,this.urlSerializer).pipe(Dr(i=>i?this.configLoader.loadChildren(e,n).pipe(kr(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):bQ(n))):lt({routes:[],injector:e})}};function MQ(t){t.sort((e,n)=>e.value.outlet===_t?-1:n.value.outlet===_t?1:e.value.outlet.localeCompare(n.value.outlet))}function NQ(t){let e=t.value.routeConfig;return e&&e.path===""}function DF(t){let e=[],n=new Set;for(let r of t){if(!NQ(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=DF(r.children);e.push(new ws(r.value,i))}return e.filter(r=>!n.has(r))}function iF(t){return t.data||{}}function sF(t){return t.resolve||{}}function OQ(t,e,n,r,i,s){return Dr(o=>RQ(t,e,n,r,o.extractedUrl,i,s).pipe(wt(({state:a,tree:c})=>he(G({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function FQ(t,e){return Dr(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return lt(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of kF(c))o.add(l);let a=0;return qn(o).pipe(pf(c=>s.has(c)?LQ(c,r,t,e):(c.data=l_(c,c.parent,t).resolve,lt(void 0))),kr(()=>a++),mf(1),Dr(c=>a===o.size?lt(n):fs))})}function kF(t){let e=t.children.map(n=>kF(n)).flat();return[t,...e]}function LQ(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!EF(i)&&(s[Mm]=i.title),BQ(s,t,e,r).pipe(wt(o=>(t._resolvedData=o,t.data=l_(t,t.parent,n).resolve,null)))}function BQ(t,e,n,r){let i=yS(t);if(i.length===0)return lt({});let s={};return qn(i).pipe(Dr(o=>VQ(t[o],e,n,r).pipe(Wo(),kr(a=>{if(a instanceof km)throw d_(new Cm,a);s[o]=a}))),mf(1),cb(s),Wc(o=>TF(o)?fs:ff(o)))}function VQ(t,e,n,r){let i=Nm(e)??r,s=Kf(t,i),o=s.resolve?s.resolve(e,n):za(i,()=>s(e,n));return al(o)}function gS(t){return po(e=>{let n=t(e);return n?qn(n).pipe(wt(()=>e)):lt(e)})}var RF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===_t);return r}getResolvedTitleForRoute(n){return n.data[Mm]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:()=>Be(UQ),providedIn:"root"})}}return t})(),UQ=(()=>{class t extends RF{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(st(ZO))}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),KS=new We("",{providedIn:"root",factory:()=>({})}),jQ=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Et({type:t,selectors:[["ng-component"]],standalone:!0,features:[Ft],decls:1,vars:0,template:function(r,i){r&1&&Ie(0,"router-outlet")},dependencies:[GS],encapsulation:2})}}return t})();function XS(t){let e=t.children&&t.children.map(XS),n=e?he(G({},t),{children:e}):G({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==_t&&(n.component=jQ),n}var YS=new We(""),$Q=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Be(KC)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return lt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=al(n.loadComponent()).pipe(wt(PF),kr(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Gp(()=>{this.componentLoaders.delete(n)})),i=new of(r,()=>new Ar).pipe(sf());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return lt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=HQ(r,this.compiler,n,this.onLoadEndListener).pipe(Gp(()=>{this.childrenLoaders.delete(r)})),o=new of(s,()=>new Ar).pipe(sf());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function HQ(t,e,n,r){return al(t.loadChildren()).pipe(wt(PF),Dr(i=>i instanceof tm||Array.isArray(i)?lt(i):qn(e.compileModuleAsync(i))),wt(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(YS,[],{optional:!0,self:!0}).flat()),{routes:o.map(XS),injector:s}}))}function zQ(t){return t&&typeof t=="object"&&"default"in t}function PF(t){return zQ(t)?t.default:t}var QS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:()=>Be(qQ),providedIn:"root"})}}return t})(),qQ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),GQ=new We("");var WQ=new We(""),KQ=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ar,this.transitionAbortSubject=new Ar,this.configLoader=Be($Q),this.environmentInjector=Be(Hs),this.urlSerializer=Be(zS),this.rootContexts=Be(h_),this.location=Be(hm),this.inputBindingEnabled=Be(WS,{optional:!0})!==null,this.titleStrategy=Be(RF),this.options=Be(KS,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Be(QS),this.createViewTransition=Be(GQ,{optional:!0}),this.navigationErrorHandler=Be(WQ,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>lt(void 0),this.rootComponentType=null;let n=i=>this.events.next(new IS(i)),r=i=>this.events.next(new AS(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(he(G(G({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new er({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Em,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zi(s=>s.id!==0),wt(s=>he(G({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),po(s=>{let o=!1,a=!1;return lt(s).pipe(po(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Es.SupersededByNewNavigation),fs;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?he(G({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload"){let f="";return this.events.next(new Vu(c.id,this.urlSerializer.serialize(c.rawUrl),f,ES.IgnoredSameUrlNavigation)),c.resolve(!1),fs}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return lt(c).pipe(po(f=>{let h=this.transitions?.getValue();return this.events.next(new Tm(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?fs:Promise.resolve(f)}),OQ(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),kr(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=he(G({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new o_(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:h,source:m,restoredState:y,extras:_}=c,x=new Tm(f,this.urlSerializer.serialize(h),m,y);this.events.next(x);let M=xF(this.rootComponentType).snapshot;return this.currentTransition=s=he(G({},c),{targetSnapshot:M,urlAfterRedirects:h,extras:he(G({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,lt(s)}else{let f="";return this.events.next(new Vu(c.id,this.urlSerializer.serialize(c.extractedUrl),f,ES.IgnoredByUrlHandlingStrategy)),c.resolve(!1),fs}}),kr(c=>{let l=new bS(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),wt(c=>(this.currentTransition=s=he(G({},c),{guards:tQ(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),fQ(this.environmentInjector,c=>this.events.next(c)),kr(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw d_(this.urlSerializer,c.guardsResult);let l=new CS(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Zi(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Es.GuardRejected),!1)),gS(c=>{if(c.guards.canActivateChecks.length)return lt(c).pipe(kr(l=>{let u=new SS(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),po(l=>{let u=!1;return lt(l).pipe(FQ(this.paramsInheritanceStrategy,this.environmentInjector),kr({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Es.NoDataFromResolver)}}))}),kr(l=>{let u=new TS(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),gS(c=>{let l=u=>{let f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(kr(h=>{u.component=h}),wt(()=>{})));for(let h of u.children)f.push(...l(h));return f};return Iv(l(c.targetSnapshot.root)).pipe(Kc(null),Va(1))}),gS(()=>this.afterPreactivation()),po(()=>{let{currentSnapshot:c,targetSnapshot:l}=s,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?qn(u).pipe(wt(()=>s)):lt(s)}),wt(c=>{let l=YY(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=he(G({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),kr(()=>{this.events.next(new Am)}),eQ(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Va(1),kr({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ol(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),ub(this.transitionAbortSubject.pipe(kr(c=>{throw c}))),Gp(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Es.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Wc(c=>{if(a=!0,SF(c))this.events.next(new nc(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),JY(c)?this.events.next(new Gf(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let l=new Im(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let u=za(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof km){let{message:f,cancellationCode:h}=d_(this.urlSerializer,u);this.events.next(new nc(s.id,this.urlSerializer.serialize(s.extractedUrl),f,h)),this.events.next(new Gf(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let f=n.errorHandler(c);s.resolve(!!f)}}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return fs}))}))}cancelNavigationTransition(n,r,i){let s=new nc(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function XQ(t){return t!==Em}var YQ=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:()=>Be(QQ),providedIn:"root"})}}return t})(),HS=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},QQ=(()=>{class t extends HS{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=_o(t)))(i||t)}})()}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),MF=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:()=>Be(ZQ),providedIn:"root"})}}return t})(),ZQ=(()=>{class t extends MF{constructor(){super(...arguments),this.location=Be(hm),this.urlSerializer=Be(zS),this.options=Be(KS,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Be(QS),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new rc,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=xF(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Tm)this.stateMemento=this.createStateMemento();else if(n instanceof Vu)this.rawUrlTree=r.initialUrl;else if(n instanceof o_){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Am?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof nc&&(n.code===Es.GuardRejected||n.code===Es.NoDataFromResolver)?this.restoreHistory(r):n instanceof Im?this.restoreHistory(r,!0):n instanceof ol&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof rc?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=G(G({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=G(G({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=_o(t)))(i||t)}})()}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xm=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(xm||{});function JQ(t,e){t.events.pipe(Zi(n=>n instanceof ol||n instanceof nc||n instanceof Im||n instanceof Vu),wt(n=>n instanceof ol||n instanceof Vu?xm.COMPLETE:(n instanceof nc?n.code===Es.Redirect||n.code===Es.SupersededByNewNavigation:!1)?xm.REDIRECTING:xm.FAILED),Zi(n=>n!==xm.REDIRECTING),Va(1)).subscribe(()=>{e()})}function eZ(t){throw t}var tZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ti=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Be(Fy),this.stateManager=Be(MF),this.options=Be(KS,{optional:!0})||{},this.pendingTasks=Be(Of),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Be(KQ),this.urlSerializer=Be(zS),this.location=Be(hm),this.urlHandlingStrategy=Be(QS),this._events=new Ar,this.errorHandler=this.options.errorHandler||eZ,this.navigated=!1,this.routeReuseStrategy=Be(YQ),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Be(YS,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Be(WS,{optional:!0}),this.eventsSubscription=new zn,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof nc&&r.code!==Es.Redirect&&r.code!==Es.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ol)this.navigated=!0;else if(r instanceof Gf){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=G({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||XQ(i.source)},o);this.scheduleNavigation(a,Em,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}iZ(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Em,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=G({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(XS),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=G(G({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let h=i?i.snapshot:this.routerState.snapshot.root;f=gF(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),f=this.currentUrlTree.root}return vF(f,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Bu(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Em,null,r)}navigate(n,r={skipLocationChange:!1}){return rZ(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=G({},tZ):r===!1?i=G({},nZ):i=r,Bu(n))return JO(this.currentUrlTree,n,i);let s=this.parseUrl(n);return JO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((f,h)=>{a=f,c=h});let u=this.pendingTasks.add();return JQ(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function rZ(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Ye(4008,!1)}function iZ(t){return!(t instanceof Am)&&!(t instanceof Gf)}var NF=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.onChanges=new Ar,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof ol&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Bu(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:IN(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:Bu(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(ge(ti),ge(Uu),SC("tabindex"),ge(na),ge(gs),ge(Bf))}}static{this.\u0275dir=Kt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Te("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Wa("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",il],skipLocationChange:[2,"skipLocationChange","skipLocationChange",il],replaceUrl:[2,"replaceUrl","replaceUrl",il],routerLink:"routerLink"},standalone:!0,features:[qC,zs]})}}return t})();var sZ=new We("");function OF(t,...e){return ea([{provide:YS,multi:!0,useValue:t},[],{provide:Uu,useFactory:oZ,deps:[ti]},{provide:WC,multi:!0,useFactory:aZ},e.map(n=>n.\u0275providers)])}function oZ(t){return t.routerState.root}function aZ(){let t=Be(es);return e=>{let n=t.get(Nu);if(e!==n.components[0])return;let r=t.get(ti),i=t.get(cZ);t.get(lZ)===1&&r.initialNavigation(),t.get(uZ,null,Tt.Optional)?.setUpPreloading(),t.get(sZ,null,Tt.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var cZ=new We("",{factory:()=>new Ar}),lZ=new We("",{providedIn:"root",factory:()=>1});var uZ=new We("");function dZ(t,e){if(t&1&&(S(0,"div",8)(1,"div",9)(2,"div",10)(3,"h5",11),k(4),E(),S(5,"p",12),k(6),E()()()()),t&2){let n=e.$implicit;q(4),tt(n.name),q(2),tt(n.description)}}var m_=class t{services=[{name:"Consulta M\xE9dica",description:"Atenci\xF3n m\xE9dica personalizada."},{name:"Ex\xE1menes de Laboratorio",description:"Realizamos ex\xE1menes de sangre y otros."},{name:"Radiolog\xEDa",description:"Servicios de rayos X y ultrasonido."},{name:"Vacunaci\xF3n",description:"Vacunas para todas las edades."}];static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Et({type:t,selectors:[["app-home"]],standalone:!0,features:[Ft],decls:11,vars:1,consts:[[1,"container","mt-5","text-center"],["src","icon_hospital.png","alt","Icono de Hospital",1,"hospital-icon","mb-3"],[1,"welcome-title"],[1,"welcome-subtitle"],[1,"services","mt-4"],[1,"section-title"],[1,"row"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"card","mb-3","service-card"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(n,r){n&1&&(S(0,"div",0),Ie(1,"img",1),S(2,"h2",2),k(3,"Bienvenido a Nuestra Cl\xEDnica"),E(),S(4,"p",3),k(5,"Su salud es nuestra prioridad."),E(),S(6,"div",4)(7,"h3",5),k(8,"Servicios Ofrecidos"),E(),S(9,"div",6),Se(10,dZ,7,2,"div",7),E()()()),n&2&&(q(10),ne("ngForOf",r.services))},dependencies:[hr],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:auto;background:#0009;border-radius:10px;padding:40px;box-shadow:0 4px 20px #0000004d}.welcome-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#f8f9fa;margin-bottom:10px}.welcome-subtitle[_ngcontent-%COMP%]{font-size:1.25rem;color:#f8f9fa;margin-bottom:20px}.section-title[_ngcontent-%COMP%]{font-size:2rem;color:#ffc107;margin-bottom:20px}.service-card[_ngcontent-%COMP%]{background:#ffffffe6;border-radius:10px;transition:transform .2s,box-shadow .2s}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0003}.contact-text[_ngcontent-%COMP%]{font-size:1rem;color:#f8f9fa}.text-warning[_ngcontent-%COMP%]{color:#ffc107;font-weight:700}.hospital-icon[_ngcontent-%COMP%]{width:80px;height:auto;margin-bottom:20px}"]})};var qF=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(ge(na),ge(gs))}}static{this.\u0275dir=Kt({type:t})}}return t})(),jm=(()=>{class t extends qF{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=_o(t)))(i||t)}})()}static{this.\u0275dir=Kt({type:t,features:[Jr]})}}return t})(),Hu=new We(""),fZ={provide:Hu,useExisting:Pi(()=>iT),multi:!0},iT=(()=>{class t extends jm{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=_o(t)))(i||t)}})()}static{this.\u0275dir=Kt({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&Te("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[Ni([fZ]),Jr]})}}return t})(),hZ={provide:Hu,useExisting:Pi(()=>Vr),multi:!0};function pZ(){let t=tc()?tc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var mZ=new We(""),Vr=(()=>{class t extends qF{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!pZ())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(ge(na),ge(gs),ge(mZ,8))}}static{this.\u0275dir=Kt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Te("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ni([hZ]),Jr]})}}return t})();function cl(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function GF(t){return t!=null&&typeof t.length=="number"}var Zf=new We(""),$m=new We(""),gZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ze=class{static min(e){return vZ(e)}static max(e){return yZ(e)}static required(e){return WF(e)}static requiredTrue(e){return _Z(e)}static email(e){return xZ(e)}static minLength(e){return wZ(e)}static maxLength(e){return EZ(e)}static pattern(e){return bZ(e)}static nullValidator(e){return v_(e)}static compose(e){return JF(e)}static composeAsync(e){return tL(e)}};function vZ(t){return e=>{if(cl(e.value)||cl(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function yZ(t){return e=>{if(cl(e.value)||cl(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function WF(t){return cl(t.value)?{required:!0}:null}function _Z(t){return t.value===!0?null:{required:!0}}function xZ(t){return cl(t.value)||gZ.test(t.value)?null:{email:!0}}function wZ(t){return e=>cl(e.value)||!GF(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function EZ(t){return e=>GF(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function bZ(t){if(!t)return v_;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(cl(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function v_(t){return null}function KF(t){return t!=null}function XF(t){return Mu(t)?qn(t):t}function YF(t){let e={};return t.forEach(n=>{e=n!=null?G(G({},e),n):e}),Object.keys(e).length===0?null:e}function QF(t,e){return e.map(n=>n(t))}function CZ(t){return!t.validate}function ZF(t){return t.map(e=>CZ(e)?e:n=>e.validate(n))}function JF(t){if(!t)return null;let e=t.filter(KF);return e.length==0?null:function(n){return YF(QF(n,e))}}function eL(t){return t!=null?JF(ZF(t)):null}function tL(t){if(!t)return null;let e=t.filter(KF);return e.length==0?null:function(n){let r=QF(n,e).map(XF);return ab(r).pipe(wt(YF))}}function nL(t){return t!=null?tL(ZF(t)):null}function FF(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function rL(t){return t._rawValidators}function iL(t){return t._rawAsyncValidators}function ZS(t){return t?Array.isArray(t)?t:[t]:[]}function y_(t,e){return Array.isArray(t)?t.includes(e):t===e}function LF(t,e){let n=ZS(e);return ZS(t).forEach(i=>{y_(n,i)||n.push(i)}),n}function BF(t,e){return ZS(e).filter(n=>!y_(t,n))}var __=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=eL(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=nL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},bs=class extends __{get formDirective(){return null}get path(){return null}},$u=class extends __{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},x_=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},SZ={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},_Te=he(G({},SZ),{"[class.ng-submitted]":"isSubmitted"}),vi=(()=>{class t extends x_{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(ge($u,2))}}static{this.\u0275dir=Kt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ka("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Jr]})}}return t})(),ia=(()=>{class t extends x_{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(ge(bs,10))}}static{this.\u0275dir=Kt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ka("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Jr]})}}return t})();var Fm="VALID",g_="INVALID",Xf="PENDING",Lm="DISABLED",ll=class{},w_=class extends ll{constructor(e,n){super(),this.value=e,this.source=n}},Bm=class extends ll{constructor(e,n){super(),this.pristine=e,this.source=n}},Vm=class extends ll{constructor(e,n){super(),this.touched=e,this.source=n}},Yf=class extends ll{constructor(e,n){super(),this.status=e,this.source=n}},JS=class extends ll{constructor(e){super(),this.source=e}},eT=class extends ll{constructor(e){super(),this.source=e}};function sT(t){return(S_(t)?t.validators:t)||null}function TZ(t){return Array.isArray(t)?eL(t):t||null}function oT(t,e){return(S_(e)?e.asyncValidators:t)||null}function IZ(t){return Array.isArray(t)?nL(t):t||null}function S_(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function sL(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Ye(1e3,"");if(!r[n])throw new Ye(1001,"")}function oL(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Ye(1002,"")})}var Qf=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=dm(()=>this.statusReactive()),this.statusReactive=lm(void 0),this._pristine=dm(()=>this.pristineReactive()),this.pristineReactive=lm(!0),this._touched=dm(()=>this.touchedReactive()),this.touchedReactive=lm(!1),this._events=new Ar,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Qa(this.statusReactive)}set status(e){Qa(()=>this.statusReactive.set(e))}get valid(){return this.status===Fm}get invalid(){return this.status===g_}get pending(){return this.status==Xf}get disabled(){return this.status===Lm}get enabled(){return this.status!==Lm}get pristine(){return Qa(this.pristineReactive)}set pristine(e){Qa(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Qa(this.touchedReactive)}set touched(e){Qa(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(LF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(LF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(BF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(BF(e,this._rawAsyncValidators))}hasValidator(e){return y_(this._rawValidators,e)}hasAsyncValidator(e){return y_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(he(G({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Vm(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Vm(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(he(G({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Bm(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Bm(!0,r))}markAsPending(e={}){this.status=Xf;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yf(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(he(G({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Lm,this.errors=null,this._forEachChild(i=>{i.disable(he(G({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new w_(this.value,r)),this._events.next(new Yf(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(G({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Fm,this._forEachChild(r=>{r.enable(he(G({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(G({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fm||this.status===Xf)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new w_(this.value,n)),this._events.next(new Yf(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(he(G({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lm:Fm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Xf,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=XF(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Yf(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new It,this.statusChanges=new It}_calculateStatus(){return this._allControlsDisabled()?Lm:this.errors?g_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xf)?Xf:this._anyControlsHaveStatus(g_)?g_:Fm}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Bm(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Vm(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){S_(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=TZ(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=IZ(this._rawAsyncValidators)}},E_=class extends Qf{constructor(e,n,r){super(sT(n),oT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){oL(this,!0,e),Object.keys(e).forEach(r=>{sL(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var tT=class extends E_{};var T_=new We("CallSetDisabledState",{providedIn:"root",factory:()=>I_}),I_="always";function A_(t,e){return[...e.path,t]}function nT(t,e,n=I_){aT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),DZ(t,e),RZ(t,e),kZ(t,e),AZ(t,e)}function VF(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),C_(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function b_(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function AZ(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function aT(t,e){let n=rL(t);e.validator!==null?t.setValidators(FF(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=iL(t);e.asyncValidator!==null?t.setAsyncValidators(FF(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();b_(e._rawValidators,i),b_(e._rawAsyncValidators,i)}function C_(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=rL(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=iL(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return b_(e._rawValidators,r),b_(e._rawAsyncValidators,r),n}function DZ(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&aL(t,e)})}function kZ(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&aL(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function aL(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function RZ(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function PZ(t,e){t==null,aT(t,e)}function MZ(t,e){return C_(t,e)}function cL(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function NZ(t){return Object.getPrototypeOf(t.constructor)===jm}function OZ(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function lL(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Vr?n=s:NZ(s)?r=s:i=s}),i||r||n||null}function FZ(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function UF(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function jF(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Um=class extends Qf{constructor(e=null,n,r){super(sT(n),oT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),S_(n)&&(n.nonNullable||n.initialValueIsDefault)&&(jF(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){UF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){UF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){jF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var LZ=t=>t instanceof Um,BZ=(()=>{class t extends bs{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return A_(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=_o(t)))(i||t)}})()}static{this.\u0275dir=Kt({type:t,features:[Jr]})}}return t})();var VZ={provide:$u,useExisting:Pi(()=>zu)},$F=Promise.resolve(),zu=(()=>{class t extends $u{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Um,this._registered=!1,this.name="",this.update=new It,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=lL(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),cL(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){nT(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){$F.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&il(r);$F.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?A_(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(ge(bs,9),ge(Zf,10),ge($m,10),ge(Hu,10),ge(Ya,8),ge(T_,8))}}static{this.\u0275dir=Kt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ni([VZ]),Jr,zs]})}}return t})(),sa=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Kt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),UZ={provide:Hu,useExisting:Pi(()=>qu),multi:!0},qu=(()=>{class t extends jm{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=_o(t)))(i||t)}})()}static{this.\u0275dir=Kt({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Te("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Ni([UZ]),Jr]})}}return t})();var uL=new We("");var jZ={provide:bs,useExisting:Pi(()=>Ys)},Ys=(()=>{class t extends bs{get submitted(){return Qa(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=dm(()=>this._submittedReactive()),this._submittedReactive=lm(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new It,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(C_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return nT(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){VF(n.control||null,n,!1),FZ(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),OZ(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new JS(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new eT(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(VF(r||null,n),LZ(i)&&(nT(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);PZ(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&MZ(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){aT(this.form,this),this._oldForm&&C_(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(ge(Zf,10),ge($m,10),ge(T_,8))}}static{this.\u0275dir=Kt({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Te("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ni([jZ]),Jr,zs]})}}return t})(),$Z={provide:bs,useExisting:Pi(()=>D_)},D_=(()=>{class t extends BZ{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){dL(this._parent)}static{this.\u0275fac=function(r){return new(r||t)(ge(bs,13),ge(Zf,10),ge($m,10))}}static{this.\u0275dir=Kt({type:t,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[Ni([$Z]),Jr]})}}return t})(),HZ={provide:bs,useExisting:Pi(()=>k_)},k_=(()=>{class t extends bs{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return A_(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){dL(this._parent)}static{this.\u0275fac=function(r){return new(r||t)(ge(bs,13),ge(Zf,10),ge($m,10))}}static{this.\u0275dir=Kt({type:t,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[Ni([HZ]),Jr]})}}return t})();function dL(t){return!(t instanceof D_)&&!(t instanceof Ys)&&!(t instanceof k_)}var zZ={provide:$u,useExisting:Pi(()=>Co)},Co=(()=>{class t extends $u{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new It,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=lL(this,s)}ngOnChanges(n){this._added||this._setUpControl(),cL(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return A_(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(ge(bs,13),ge(Zf,10),ge($m,10),ge(Hu,10),ge(uL,8))}}static{this.\u0275dir=Kt({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ni([zZ]),Jr,zs]})}}return t})(),qZ={provide:Hu,useExisting:Pi(()=>ul),multi:!0};function fL(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function GZ(t){return t.split(":")[0]}var ul=(()=>{class t extends jm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=fL(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=GZ(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=_o(t)))(i||t)}})()}static{this.\u0275dir=Kt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Te("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ni([qZ]),Jr]})}}return t})(),Jf=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(fL(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(ge(gs),ge(na),ge(ul,9))}}static{this.\u0275dir=Kt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),WZ={provide:Hu,useExisting:Pi(()=>hL),multi:!0};function HF(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function KZ(t){return t.split(":")[0]}var hL=(()=>{class t extends jm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let c=o[a],l=this._getOptionValue(c.value);i.push(l)}}else{let o=r.options;for(let a=0;a<o.length;a++){let c=o[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=KZ(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=_o(t)))(i||t)}})()}static{this.\u0275dir=Kt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Te("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ni([WZ]),Jr]})}}return t})(),eh=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(HF(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(HF(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(ge(gs),ge(na),ge(hL,9))}}static{this.\u0275dir=Kt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var XZ=(()=>{class t{constructor(){this._validator=v_}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):v_,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Kt({type:t,features:[zs]})}}return t})();var YZ={provide:Zf,useExisting:Pi(()=>ic),multi:!0};var ic=(()=>{class t extends XZ{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=il,this.createValidator=n=>WF}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=_o(t)))(i||t)}})()}static{this.\u0275dir=Kt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Wa("required",i._enabled?"":null)},inputs:{required:"required"},features:[Ni([YZ]),Jr]})}}return t})();var pL=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ms({type:t})}static{this.\u0275inj=ps({})}}return t})(),rT=class extends Qf{constructor(e,n,r){super(sT(n),oT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){oL(this,!1,e),e.forEach((r,i)=>{sL(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function zF(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var oa=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),s={};return zF(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new E_(i,s)}record(n,r=null){let i=this._reduceControls(n);return new tT(i,r)}control(n,r,i){let s={};return this.useNonNullable?(zF(r)?s=r:(s.validators=r,s.asyncValidators=i),new Um(n,he(G({},s),{nonNullable:!0}))):new Um(n,r,i)}array(n,r,i){let s=n.map(o=>this._createControl(o));return new rT(s,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Um)return n;if(n instanceof Qf)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(r,i,s)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var dl=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:T_,useValue:n.callSetDisabledState??I_}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ms({type:t})}static{this.\u0275inj=ps({imports:[pL]})}}return t})(),Qs=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:uL,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:T_,useValue:n.callSetDisabledState??I_}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ms({type:t})}static{this.\u0275inj=ps({imports:[pL]})}}return t})();var gL=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},QZ=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=s>>2,f=(s&3)<<4|a>>4,h=(a&15)<<2|l>>6,m=l&63;c||(m=64,o||(h=64)),r.push(n[u],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QZ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new lT;let h=s<<2|a>>4;if(r.push(h),l!==64){let m=a<<4&240|l>>2;if(r.push(m),f!==64){let y=l<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},lT=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ZZ=function(t){let e=gL(t);return vL.encodeByteArray(e,!0)},Hm=function(t){return ZZ(t).replace(/\./g,"")},dT=function(t){try{return vL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function JZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var eJ=()=>JZ().__FIREBASE_DEFAULTS__,tJ=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nJ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&dT(t[1]);return e&&JSON.parse(e)},P_=()=>{try{return eJ()||tJ()||nJ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fT=t=>{var e,n;return(n=(e=P_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yL=t=>{let e=fT(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hT=()=>{var t;return(t=P_())===null||t===void 0?void 0:t.config},pT=t=>{var e;return(e=P_())===null||e===void 0?void 0:e[`_${t}`]};var R_=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function _L(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hm(JSON.stringify(n)),Hm(JSON.stringify(o)),""].join(".")}function Ur(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ur())}function rJ(){var t;let e=(t=P_())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EL(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CL(){let t=Ur();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SL(){return!rJ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mT(){try{return typeof indexedDB=="object"}catch{return!1}}function TL(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var iJ="FirebaseError",Cs=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iJ,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sc.prototype.create)}},sc=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?sJ(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Cs(i,a,r)}};function sJ(t,e){return t.replace(oJ,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var oJ=/\{\$([^}]+)}/g;function IL(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gu(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(mL(s)&&mL(o)){if(!Gu(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function mL(t){return t!==null&&typeof t=="object"}function zm(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function th(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function nh(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AL(t,e){let n=new uT(t,e);return n.subscribe.bind(n)}var uT=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aJ(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cT),i.error===void 0&&(i.error=cT),i.complete===void 0&&(i.complete=cT);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function aJ(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cT(){}var ETe=4*60*60*1e3;function pr(t){return t&&t._delegate?t._delegate:t}var Zs=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Wu="[DEFAULT]";var gT=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new R_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lJ(e))try{this.getOrInitializeService({instanceIdentifier:Wu})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Wu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Wu){return this.instances.has(e)}getOptions(e=Wu){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cJ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wu){return this.component?this.component.multipleInstances?e:Wu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function cJ(t){return t===Wu?void 0:t}function lJ(t){return t.instantiationMode==="EAGER"}var M_=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new gT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var uJ=[],Lt=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Lt||{}),dJ={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},fJ=Lt.INFO,hJ={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},pJ=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=hJ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},hl=class{constructor(e){this.name=e,this._logLevel=fJ,this._logHandler=pJ,this._userLogHandler=null,uJ.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dJ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}};var mJ=(t,e)=>e.some(n=>t instanceof n),DL,kL;function gJ(){return DL||(DL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vJ(){return kL||(kL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var RL=new WeakMap,yT=new WeakMap,PL=new WeakMap,vT=new WeakMap,xT=new WeakMap;function yJ(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(aa(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&RL.set(n,t)}).catch(()=>{}),xT.set(e,t),e}function _J(t){if(yT.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yT.set(t,e)}var _T={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return aa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ML(t){_T=t(_T)}function xJ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(N_(this),e,...n);return PL.set(r,e.sort?e.sort():[e]),aa(r)}:vJ().includes(t)?function(...e){return t.apply(N_(this),e),aa(RL.get(this))}:function(...e){return aa(t.apply(N_(this),e))}}function wJ(t){return typeof t=="function"?xJ(t):(t instanceof IDBTransaction&&_J(t),mJ(t,gJ())?new Proxy(t,_T):t)}function aa(t){if(t instanceof IDBRequest)return yJ(t);if(vT.has(t))return vT.get(t);let e=wJ(t);return e!==t&&(vT.set(t,e),xT.set(e,t)),e}var N_=t=>xT.get(t);function OL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=aa(o);return r&&o.addEventListener("upgradeneeded",c=>{r(aa(o.result),c.oldVersion,c.newVersion,aa(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var EJ=["get","getKey","getAll","getAllKeys","count"],bJ=["put","add","delete","clear"],wT=new Map;function NL(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wT.get(e))return wT.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=bJ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EJ.includes(n)))return;let s=function(o,...a){return C(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return wT.set(e,s),s}ML(t=>he(G({},t),{get:(e,n,r)=>NL(e,n)||t.get(e,n,r),has:(e,n)=>!!NL(e,n)||t.has(e,n)}));var bT=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CJ(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function CJ(t){let e=t.getComponent();return e?.type==="VERSION"}var CT="@firebase/app",FL="0.10.13";var oc=new hl("@firebase/app"),SJ="@firebase/app-compat",TJ="@firebase/analytics-compat",IJ="@firebase/analytics",AJ="@firebase/app-check-compat",DJ="@firebase/app-check",kJ="@firebase/auth",RJ="@firebase/auth-compat",PJ="@firebase/database",MJ="@firebase/data-connect",NJ="@firebase/database-compat",OJ="@firebase/functions",FJ="@firebase/functions-compat",LJ="@firebase/installations",BJ="@firebase/installations-compat",VJ="@firebase/messaging",UJ="@firebase/messaging-compat",jJ="@firebase/performance",$J="@firebase/performance-compat",HJ="@firebase/remote-config",zJ="@firebase/remote-config-compat",qJ="@firebase/storage",GJ="@firebase/storage-compat",WJ="@firebase/firestore",KJ="@firebase/vertexai-preview",XJ="@firebase/firestore-compat",YJ="firebase",QJ="10.14.1";var ST="[DEFAULT]",ZJ={[CT]:"fire-core",[SJ]:"fire-core-compat",[IJ]:"fire-analytics",[TJ]:"fire-analytics-compat",[DJ]:"fire-app-check",[AJ]:"fire-app-check-compat",[kJ]:"fire-auth",[RJ]:"fire-auth-compat",[PJ]:"fire-rtdb",[MJ]:"fire-data-connect",[NJ]:"fire-rtdb-compat",[OJ]:"fire-fn",[FJ]:"fire-fn-compat",[LJ]:"fire-iid",[BJ]:"fire-iid-compat",[VJ]:"fire-fcm",[UJ]:"fire-fcm-compat",[jJ]:"fire-perf",[$J]:"fire-perf-compat",[HJ]:"fire-rc",[zJ]:"fire-rc-compat",[qJ]:"fire-gcs",[GJ]:"fire-gcs-compat",[WJ]:"fire-fst",[XJ]:"fire-fst-compat",[KJ]:"fire-vertex","fire-js":"fire-js",[YJ]:"fire-js-all"};var qm=new Map,JJ=new Map,TT=new Map;function LL(t,e){try{t.container.addComponent(e)}catch(n){oc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ml(t){let e=t.name;if(TT.has(e))return oc.debug(`There were multiple attempts to register component ${e}.`),!1;TT.set(e,t);for(let n of qm.values())LL(n,t);for(let n of JJ.values())LL(n,t);return!0}function Wm(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function So(t){return t.settings!==void 0}var eee={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pl=new sc("app","Firebase",eee);var IT=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pl.create("app-deleted",{appName:this._name})}};var gl=QJ;function kT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ST,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw pl.create("bad-app-name",{appName:String(i)});if(n||(n=hT()),!n)throw pl.create("no-options");let s=qm.get(i);if(s){if(Gu(n,s.options)&&Gu(r,s.config))return s;throw pl.create("duplicate-app",{appName:i})}let o=new M_(i);for(let c of TT.values())o.addComponent(c);let a=new IT(n,r,o);return qm.set(i,a),a}function rh(t=ST){let e=qm.get(t);if(!e&&t===ST&&hT())return kT();if(!e)throw pl.create("no-app",{appName:t});return e}function O_(){return Array.from(qm.values())}function Nr(t,e,n){var r;let i=(r=ZJ[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oc.warn(a.join(" "));return}ml(new Zs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var tee="firebase-heartbeat-database",nee=1,Gm="firebase-heartbeat-store",ET=null;function jL(){return ET||(ET=OL(tee,nee,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gm)}catch(n){console.warn(n)}}}}).catch(t=>{throw pl.create("idb-open",{originalErrorMessage:t.message})})),ET}function ree(t){return C(this,null,function*(){try{let n=(yield jL()).transaction(Gm),r=yield n.objectStore(Gm).get($L(t));return yield n.done,r}catch(e){if(e instanceof Cs)oc.warn(e.message);else{let n=pl.create("idb-get",{originalErrorMessage:e?.message});oc.warn(n.message)}}})}function BL(t,e){return C(this,null,function*(){try{let r=(yield jL()).transaction(Gm,"readwrite");yield r.objectStore(Gm).put(e,$L(t)),yield r.done}catch(n){if(n instanceof Cs)oc.warn(n.message);else{let r=pl.create("idb-set",{originalErrorMessage:n?.message});oc.warn(r.message)}}})}function $L(t){return`${t.name}!${t.options.appId}`}var iee=1024,see=30*24*60*60*1e3,AT=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new DT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=VL();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=see}),this._storage.overwrite(this._heartbeatsCache))}catch(r){oc.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=VL(),{heartbeatsToSend:r,unsentEntries:i}=oee(this._heartbeatsCache.heartbeats),s=Hm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return oc.warn(n),""}})}};function VL(){return new Date().toISOString().substring(0,10)}function oee(t,e=iee){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),UL(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),UL(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var DT=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return mT()?TL().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield ree(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return BL(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return BL(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function UL(t){return Hm(JSON.stringify({version:2,heartbeats:t})).length}function aee(t){ml(new Zs("platform-logger",e=>new bT(e),"PRIVATE")),ml(new Zs("heartbeat",e=>new AT(e),"PRIVATE")),Nr(CT,FL,t),Nr(CT,FL,"esm2017"),Nr("fire-js","")}aee("");var cee="firebase",lee="10.14.1";Nr(cee,lee,"app");var Xu=new Ha("ANGULARFIRE2_VERSION");function L_(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Km=(t,e)=>{let n=e?[e]:O_(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},sh=class{constructor(){return Km(uee)}},uee="app-check";function ih(){}var F_=class{zone;delegate;constructor(e,n=rb){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},RT=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ih,{},ih,ih)),n.pipe(kr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},oh=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new F_(Zone.current)),this.insideAngular=n.run(()=>new F_(Zone.current,nb)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(st(tn))};static \u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function B_(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function dee(t){return B_().ngZone.runOutsideAngular(()=>t())}function Ku(t){return B_().ngZone.run(()=>t())}function fee(t){return hee(B_())(t)}function hee(t){return function(n){return n=n.lift(new RT(t.ngZone)),n.pipe(Gc(t.outsideAngular),qc(t.insideAngular))}}var pee=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ku(()=>t.apply(void 0,r))},jr=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Ku(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ih,{},ih,ih))),r[s]=pee(r[s],n));let i=dee(()=>t.apply(this,r));if(!e)if(i instanceof Mt){let s=B_();return i.pipe(Gc(s.outsideAngular),qc(s.insideAngular))}else return Ku(()=>i);return i instanceof Mt?i.pipe(fee):i instanceof Promise?Ku(()=>new Promise((s,o)=>i.then(a=>Ku(()=>s(a)),a=>Ku(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ku(()=>i)};var ac=class{constructor(e){return e}},Yu=class{constructor(){return O_()}};function mee(t){return t&&t.length===1?t[0]:new ac(rh())}var PT=new We("angularfire2._apps"),gee={provide:ac,useFactory:mee,deps:[[new Mi,PT]]},vee={provide:Yu,deps:[[new Mi,PT]]};function yee(t){return(e,n)=>{let r=n.get(ta);Nr("angularfire",Xu.full,"core"),Nr("angularfire",Xu.full,"app"),Nr("angular",gO.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ac(i)}}function HL(t,...e){return ea([gee,vee,{provide:PT,useFactory:yee(t),multi:!0,deps:[tn,es,oh,...e]}])}var zL=jr(kT,!0);function a3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var c3=a3,l3=new sc("auth","Firebase",a3());var z_=new hl("@firebase/auth");function _ee(t,...e){z_.logLevel<=Lt.WARN&&z_.warn(`Auth (${gl}): ${t}`,...e)}function U_(t,...e){z_.logLevel<=Lt.ERROR&&z_.error(`Auth (${gl}): ${t}`,...e)}function la(t,...e){throw tI(t,...e)}function Qu(t,...e){return tI(t,...e)}function u3(t,e,n){let r=Object.assign(Object.assign({},c3()),{[e]:n});return new sc("auth","Firebase",r).create(e,{appName:t.name})}function uc(t){return u3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tI(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return l3.create(t,...e)}function nt(t,e,...n){if(!t)throw tI(e,...n)}function cc(t){let e="INTERNAL ASSERTION FAILED: "+t;throw U_(e),new Error(e)}function yl(t,e){t||cc(e)}function FT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xee(){return qL()==="http:"||qL()==="https:"}function qL(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function wee(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xee()||EL()||"connection"in navigator)?navigator.onLine:!0}function Eee(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Zu=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,yl(n>e,"Short delay should be less than long delay!"),this.isMobile=xL()||bL()}get(){return wee()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function nI(t,e){yl(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var q_=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var bee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Cee=new Zu(3e4,6e4);function dc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function fc(s,o,a,c){return C(this,arguments,function*(t,e,n,r,i={}){return d3(t,i,()=>C(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let f=zm(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);let m=Object.assign({method:e,headers:h},l);return wL()||(m.referrerPolicy="no-referrer"),q_.fetch()(f3(t,t.config.apiHost,n,f),m)}))})}function d3(t,e,n){return C(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},bee),e);try{let i=new LT(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw V_(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw V_(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw V_(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw V_(t,"user-disabled",o);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw u3(t,u,l);la(t,u)}}catch(i){if(i instanceof Cs)throw i;la(t,"network-request-failed",{message:String(i)})}})}function n0(s,o,a,c){return C(this,arguments,function*(t,e,n,r,i={}){let l=yield fc(t,e,n,r,i);return"mfaPendingCredential"in l&&la(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function f3(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?nI(t.config,i):`${t.config.apiScheme}://${i}`}function See(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var LT=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qu(this.auth,"network-request-failed")),Cee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function V_(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Qu(t,e,r);return i.customData._tokenResponse=n,i}function GL(t){return t!==void 0&&t.enterprise!==void 0}var BT=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return See(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Tee(t,e){return C(this,null,function*(){return fc(t,"GET","/v2/recaptchaConfig",dc(t,e))})}function Iee(t,e){return C(this,null,function*(){return fc(t,"POST","/v1/accounts:delete",e)})}function h3(t,e){return C(this,null,function*(){return fc(t,"POST","/v1/accounts:lookup",e)})}function Xm(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function rI(t,e=!1){return C(this,null,function*(){let n=pr(t),r=yield n.getIdToken(e),i=iI(r);nt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Xm(MT(i.auth_time)),issuedAtTime:Xm(MT(i.iat)),expirationTime:Xm(MT(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function MT(t){return Number(t)*1e3}function iI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return U_("JWT malformed, contained fewer than 3 sections"),null;try{let i=dT(n);return i?JSON.parse(i):(U_("Failed to decode base64 JWT payload"),null)}catch(i){return U_("Caught error parsing JWT payload as JSON",i?.toString()),null}}function WL(t){let e=iI(t);return nt(e,"internal-error"),nt(typeof e.exp<"u","internal-error"),nt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Qm(t,e,n=!1){return C(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Cs&&Aee(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Aee({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var VT=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),n)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Zm=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xm(this.lastLoginAt),this.creationTime=Xm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function G_(t){return C(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Qm(t,h3(n,{idToken:r}));nt(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?p3(s.providerUserInfo):[],a=Dee(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,u=c?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Zm(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,f)})}function sI(t){return C(this,null,function*(){let e=pr(t);yield G_(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Dee(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function p3(t){return t.map(e=>{var{providerId:n}=e,r=ib(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function kee(t,e){return C(this,null,function*(){let n=yield d3(t,{},()=>C(this,null,function*(){let r=zm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=f3(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",q_.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Ree(t,e){return C(this,null,function*(){return fc(t,"POST","/v2/accounts:revokeToken",dc(t,e))})}var Ym=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){nt(e.idToken,"internal-error"),nt(typeof e.idToken<"u","internal-error"),nt(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){nt(e.length!==0,"internal-error");let n=WL(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return C(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(nt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield kee(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(nt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(nt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(nt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return cc("not implemented")}};function vl(t,e){nt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ah=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ib(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Zm(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let n=yield Qm(this,this.stsTokenManager.getToken(this.auth,e));return nt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return rI(this,e)}reload(){return sI(this)}_assign(e){this!==e&&(nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield G_(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(So(this.auth.app))return Promise.reject(uc(this.auth));let e=yield this.getIdToken();return yield Qm(this,Iee(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;let f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,M=(l=n.createdAt)!==null&&l!==void 0?l:void 0,H=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:K,emailVerified:Q,isAnonymous:ae,providerData:fe,stsTokenManager:D}=n;nt(K&&D,e,"internal-error");let A=Ym.fromJSON(this.name,D);nt(typeof K=="string",e,"internal-error"),vl(f,e.name),vl(h,e.name),nt(typeof Q=="boolean",e,"internal-error"),nt(typeof ae=="boolean",e,"internal-error"),vl(m,e.name),vl(y,e.name),vl(_,e.name),vl(x,e.name),vl(M,e.name),vl(H,e.name);let T=new t({uid:K,auth:e,email:h,emailVerified:Q,displayName:f,isAnonymous:ae,photoURL:y,phoneNumber:m,tenantId:_,stsTokenManager:A,createdAt:M,lastLoginAt:H});return fe&&Array.isArray(fe)&&(T.providerData=fe.map(P=>Object.assign({},P))),x&&(T._redirectEventId=x),T}static _fromIdTokenResponse(e,n,r=!1){return C(this,null,function*(){let i=new Ym;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield G_(s),s})}static _fromGetAccountInfoResponse(e,n,r){return C(this,null,function*(){let i=n.users[0];nt(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?p3(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Ym;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Zm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var KL=new Map;function lc(t){yl(t instanceof Function,"Expected a class definition");let e=KL.get(t);return e?(yl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,KL.set(t,e),e)}var Pee=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(n,r){return C(this,null,function*(){this.storage[n]=r})}_get(n){return C(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return C(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),UT=Pee;function j_(t,e,n){return`firebase:${t}:${e}:${n}`}var W_=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=j_(this.userKey,i.apiKey,s),this.fullPersistenceKey=j_("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ah._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return C(this,null,function*(){if(!n.length)return new t(lc(UT),e,r);let i=(yield Promise.all(n.map(l=>C(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||lc(UT),o=j_(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(o);if(u){let f=ah._fromJSON(e,u);l!==s&&(a=f),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>C(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function XL(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(y3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(m3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(x3(e))return"Blackberry";if(w3(e))return"Webos";if(g3(e))return"Safari";if((e.includes("chrome/")||v3(e))&&!e.includes("edge/"))return"Chrome";if(_3(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function m3(t=Ur()){return/firefox\//i.test(t)}function g3(t=Ur()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v3(t=Ur()){return/crios\//i.test(t)}function y3(t=Ur()){return/iemobile/i.test(t)}function _3(t=Ur()){return/android/i.test(t)}function x3(t=Ur()){return/blackberry/i.test(t)}function w3(t=Ur()){return/webos/i.test(t)}function oI(t=Ur()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Mee(t=Ur()){var e;return oI(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Nee(){return CL()&&document.documentMode===10}function E3(t=Ur()){return oI(t)||_3(t)||w3(t)||x3(t)||/windows phone/i.test(t)||y3(t)}function b3(t,e=[]){let n;switch(t){case"Browser":n=XL(Ur());break;case"Worker":n=`${XL(Ur())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gl}/${r}`}var jT=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Oee(n){return C(this,arguments,function*(t,e={}){return fc(t,"GET","/v2/passwordPolicy",dc(t,e))})}var Fee=6,$T=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Fee,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var HT=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K_(this),this.idTokenSubscription=new K_(this),this.beforeStateQueue=new jT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lc(n)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield W_.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let n=yield h3(this,{idToken:e}),r=yield ah._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var n;if(So(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return nt(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield G_(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Eee()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(So(this.app))return Promise.reject(uc(this));let n=e?pr(e):null;return n&&nt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return C(this,null,function*(){if(!this._deleted)return e&&nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return So(this.app)?Promise.reject(uc(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return So(this.app)?Promise.reject(uc(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(lc(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield Oee(this),n=new $T(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Ree(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&lc(e)||this._popupRedirectResolver;nt(n,this,"argument-error"),this.redirectPersistenceManager=yield W_.create(this,[lc(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(nt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return C(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&_ee(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ed(t){return pr(t)}var K_=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=AL(n=>this.observer=n)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var tx={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lee(t){tx=t}function C3(t){return tx.loadJS(t)}function Bee(){return tx.recaptchaEnterpriseScript}function Vee(){return tx.gapiScript}function S3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Uee="recaptcha-enterprise",jee="NO_RECAPTCHA",zT=class{constructor(e){this.type=Uee,this.auth=ed(e)}verify(e="verify",n=!1){return C(this,null,function*(){function r(s){return C(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>C(this,null,function*(){Tee(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new BT(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;GL(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(jee)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&GL(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Bee();c.length!==0&&(c+=a),C3(c).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function YL(t,e,n,r=!1){return C(this,null,function*(){let i=new zT(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function qT(t,e,n,r){return C(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield YL(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>C(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield YL(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function aI(t,e){let n=Wm(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Gu(s,e??{}))return i;la(i,"already-initialized")}return n.initialize({options:e})}function $ee(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(lc);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function cI(t,e,n){let r=ed(t);nt(r._canInitEmulator,r,"emulator-config-failed"),nt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=T3(e),{host:o,port:a}=Hee(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||zee()}function T3(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Hee(t){let e=T3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:QL(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:QL(o)}}}function QL(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function zee(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Jm=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cc("not implemented")}_getIdTokenResponse(e){return cc("not implemented")}_linkToIdToken(e,n){return cc("not implemented")}_getReauthenticationResolver(e){return cc("not implemented")}};function qee(t,e){return C(this,null,function*(){return fc(t,"POST","/v1/accounts:signUp",e)})}function Gee(t,e){return C(this,null,function*(){return n0(t,"POST","/v1/accounts:signInWithPassword",dc(t,e))})}function Wee(t,e){return C(this,null,function*(){return fc(t,"POST","/v1/accounts:sendOobCode",dc(t,e))})}function Kee(t,e){return C(this,null,function*(){return Wee(t,e)})}function Xee(t,e){return C(this,null,function*(){return n0(t,"POST","/v1/accounts:signInWithEmailLink",dc(t,e))})}function Yee(t,e){return C(this,null,function*(){return n0(t,"POST","/v1/accounts:signInWithEmailLink",dc(t,e))})}var e0=class t extends Jm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return C(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qT(e,n,"signInWithPassword",Gee);case"emailLink":return Xee(e,{email:this._email,oobCode:this._password});default:la(e,"internal-error")}})}_linkToIdToken(e,n){return C(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qT(e,r,"signUpPassword",qee);case"emailLink":return Yee(e,{idToken:n,email:this._email,oobCode:this._password});default:la(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function NT(t,e){return C(this,null,function*(){return n0(t,"POST","/v1/accounts:signInWithIdp",dc(t,e))})}function Qee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Zee(t){let e=th(nh(t)).link,n=e?th(nh(e)).deep_link_id:null,r=th(nh(t)).deep_link_id;return(r?th(nh(r)).link:null)||r||n||e||t}var X_=class t{constructor(e){var n,r,i,s,o,a;let c=th(nh(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,f=Qee((i=c.mode)!==null&&i!==void 0?i:null);nt(l&&u&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=u,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Zee(e);try{return new t(n)}catch{return null}}};var I3=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return e0._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=X_.parseLink(r);return nt(i,"argument-error"),e0._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Y_=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var GT=class extends Y_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Jee(t,e){return C(this,null,function*(){return n0(t,"POST","/v1/accounts:signUp",dc(t,e))})}var ch=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return C(this,null,function*(){let s=yield ah._fromIdTokenResponse(e,r,i),o=ZL(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return C(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=ZL(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function ZL(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var WT=class t extends Cs{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function A3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?WT._fromErrorAndOperation(t,s,e,r):s})}function ete(t,e,n=!1){return C(this,null,function*(){let r=yield Qm(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ch._forOperation(t,"link",r)})}function tte(t,e,n=!1){return C(this,null,function*(){let{auth:r}=t;if(So(r.app))return Promise.reject(uc(r));let i="reauthenticate";try{let s=yield Qm(t,A3(r,i,e,t),n);nt(s.idToken,r,"internal-error");let o=iI(s.idToken);nt(o,r,"internal-error");let{sub:a}=o;return nt(t.uid===a,r,"user-mismatch"),ch._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&la(r,"user-mismatch"),s}})}function D3(t,e,n=!1){return C(this,null,function*(){if(So(t.app))return Promise.reject(uc(t));let r="signIn",i=yield A3(t,r,e),s=yield ch._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function lI(t,e){return C(this,null,function*(){return D3(ed(t),e)})}function nte(t,e,n){var r;nt(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),nt(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(nt(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(nt(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function k3(t){return C(this,null,function*(){let e=ed(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function uI(t,e,n){return C(this,null,function*(){if(So(t.app))return Promise.reject(uc(t));let r=ed(t),o=yield qT(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Jee).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&k3(t),c}),a=yield ch._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function dI(t,e,n){return So(t.app)?Promise.reject(uc(t)):lI(pr(t),I3.credential(e,n)).catch(r=>C(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&k3(t),r}))}function fI(t,e){return C(this,null,function*(){let n=pr(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&nte(n.auth,i,e);let{email:s}=yield Kee(n.auth,i);s!==t.email&&(yield t.reload())})}function hI(t,e,n,r){return pr(t).onIdTokenChanged(e,n,r)}function pI(t,e,n){return pr(t).beforeAuthStateChanged(e,n)}var Q_="__sak";var Z_=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Q_,"1"),this.storage.removeItem(Q_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var rte=1e3,ite=10,ste=(()=>{class t extends Z_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E3(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Nee()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,ite):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},rte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return C(this,null,function*(){yield Go(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return C(this,null,function*(){let r=yield Go(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return C(this,null,function*(){yield Go(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),R3=ste;var ote=(()=>{class t extends Z_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),mI=ote;function ate(t){return Promise.all(t.map(e=>C(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var cte=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return C(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(u=>C(this,null,function*(){return u(r.origin,o)})),l=yield ate(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function P3(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var KT=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return C(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=P3("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){let h=f;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ca(){return window}function lte(t){ca().location.href=t}function M3(){return typeof ca().WorkerGlobalScope<"u"&&typeof ca().importScripts=="function"}function ute(){return C(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function dte(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fte(){return M3()?self:null}var N3="firebaseLocalStorageDb",hte=1,J_="firebaseLocalStorage",O3="fbase_key",Ju=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function nx(t,e){return t.transaction([J_],e?"readwrite":"readonly").objectStore(J_)}function pte(){let t=indexedDB.deleteDatabase(N3);return new Ju(t).toPromise()}function XT(){let t=indexedDB.open(N3,hte);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(J_,{keyPath:O3})}catch(i){n(i)}}),t.addEventListener("success",()=>C(this,null,function*(){let r=t.result;r.objectStoreNames.contains(J_)?e(r):(r.close(),yield pte(),e(yield XT()))}))})}function JL(t,e,n){return C(this,null,function*(){let r=nx(t,!0).put({[O3]:e,value:n});return new Ju(r).toPromise()})}function mte(t,e){return C(this,null,function*(){let n=nx(t,!1).get(e),r=yield new Ju(n).toPromise();return r===void 0?null:r.value})}function e3(t,e){let n=nx(t,!0).delete(e);return new Ju(n).toPromise()}var gte=800,vte=3,yte=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return C(this,null,function*(){return this.db?this.db:(this.db=yield XT(),this.db)})}_withRetries(n){return C(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>vte)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return C(this,null,function*(){return M3()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return C(this,null,function*(){this.receiver=cte._getInstance(fte()),this.receiver._subscribe("keyChanged",(n,r)=>C(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>C(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return C(this,null,function*(){var n,r;if(this.activeServiceWorker=yield ute(),!this.activeServiceWorker)return;this.sender=new KT(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return C(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||dte()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return C(this,null,function*(){try{if(!indexedDB)return!1;let n=yield XT();return yield JL(n,Q_,"1"),yield e3(n,Q_),!0}catch{}return!1})}_withPendingWrite(n){return C(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(i=>JL(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return C(this,null,function*(){let r=yield this._withRetries(i=>mte(i,n));return this.localCache[n]=r,r})}_remove(n){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(r=>e3(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return C(this,null,function*(){let n=yield this._withRetries(s=>{let o=nx(s,!1).getAll();return new Ju(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>C(this,null,function*(){return this._poll()}),gte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),F3=yte;var mIe=S3("rcb"),gIe=new Zu(3e4,6e4);function _te(t,e){return e?lc(e):(nt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var t0=class extends Jm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return NT(e,this._buildIdpRequest())}_linkToIdToken(e,n){return NT(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return NT(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function xte(t){return D3(t.auth,new t0(t),t.bypassAuthState)}function wte(t){let{auth:e,user:n}=t;return nt(n,e,"internal-error"),tte(n,new t0(t),t.bypassAuthState)}function Ete(t){return C(this,null,function*(){let{auth:e,user:n}=t;return nt(n,e,"internal-error"),ete(n,new t0(t),t.bypassAuthState)})}var YT=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>C(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return C(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xte;case"linkViaPopup":case"linkViaRedirect":return Ete;case"reauthViaPopup":case"reauthViaRedirect":return wte;default:la(this.auth,"internal-error")}}resolve(e){yl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var vIe=new Zu(2e3,1e4);var bte="pendingRedirect",$_=new Map,QT=class t extends YT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return C(this,null,function*(){let e=$_.get(this.auth._key());if(!e){try{let r=(yield Cte(this.resolver,this.auth))?yield Go(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$_.set(this.auth._key(),e)}return this.bypassAuthState||$_.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return C(this,null,function*(){if(e.type==="signInViaRedirect")return Go(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Go(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return C(this,null,function*(){})}cleanUp(){}};function Cte(t,e){return C(this,null,function*(){let n=Ite(e),r=Tte(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Ste(t,e){$_.set(t._key(),e)}function Tte(t){return lc(t._redirectPersistence)}function Ite(t){return j_(bte,t.config.apiKey,t.name)}function Ate(t,e,n=!1){return C(this,null,function*(){if(So(t.app))return Promise.reject(uc(t));let r=ed(t),i=_te(r,e),o=yield new QT(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var Dte=10*60*1e3,ZT=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kte(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!L3(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qu(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Dte&&this.cachedEventUids.clear(),this.cachedEventUids.has(t3(e))}saveEventToCache(e){this.cachedEventUids.add(t3(e)),this.lastProcessedEventTime=Date.now()}};function t3(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function L3({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function kte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L3(t);default:return!1}}function Rte(n){return C(this,arguments,function*(t,e={}){return fc(t,"GET","/v1/projects",e)})}var Pte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mte=/^https?/;function Nte(t){return C(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield Rte(t);for(let n of e)try{if(Ote(n))return}catch{}la(t,"unauthorized-domain")})}function Ote(t){let e=FT(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Mte.test(n))return!1;if(Pte.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Fte=new Zu(3e4,6e4);function n3(){let t=ca().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Lte(t){return new Promise((e,n)=>{var r,i,s;function o(){n3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{n3(),n(Qu(t,"network-request-failed"))},timeout:Fte.get()})}if(!((i=(r=ca().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ca().gapi)===null||s===void 0)&&s.load)o();else{let a=S3("iframefcb");return ca()[a]=()=>{gapi.load?o():n(Qu(t,"network-request-failed"))},C3(`${Vee()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw H_=null,e})}var H_=null;function Bte(t){return H_=H_||Lte(t),H_}var Vte=new Zu(5e3,15e3),Ute="__/auth/iframe",jte="emulator/auth/iframe",$te={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zte(t){let e=t.config;nt(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?nI(e,jte):`https://${t.config.authDomain}/${Ute}`,r={apiKey:e.apiKey,appName:t.name,v:gl},i=Hte.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${zm(r).slice(1)}`}function qte(t){return C(this,null,function*(){let e=yield Bte(t),n=ca().gapi;return nt(n,t,"internal-error"),e.open({where:document.body,url:zte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$te,dontclear:!0},r=>new Promise((i,s)=>C(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Qu(t,"network-request-failed"),a=ca().setTimeout(()=>{s(o)},Vte.get());function c(){ca().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var Gte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Wte=500,Kte=600,Xte="_blank",Yte="http://localhost",ex=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Qte(t,e,n,r=Wte,i=Kte){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Gte),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ur().toLowerCase();n&&(a=v3(l)?Xte:n),m3(l)&&(e=e||Yte,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[m,y])=>`${h}${m}=${y},`,"");if(Mee(l)&&a!=="_self")return Zte(e||"",a),new ex(null);let f=window.open(e||"",a,u);nt(f,t,"popup-blocked");try{f.focus()}catch{}return new ex(f)}function Zte(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Jte="__/auth/handler",ene="emulator/auth/handler",tne=encodeURIComponent("fac");function r3(t,e,n,r,i,s){return C(this,null,function*(){nt(t.config.authDomain,t,"auth-domain-config-required"),nt(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:gl,eventId:i};if(e instanceof Y_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",IL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,f]of Object.entries(s||{}))o[u]=f}if(e instanceof GT){let u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${tne}=${encodeURIComponent(c)}`:"";return`${nne(t)}?${zm(a).slice(1)}${l}`})}function nne({config:t}){return t.emulator?nI(t,ene):`https://${t.authDomain}/${Jte}`}var OT="webStorageSupport",JT=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mI,this._completeRedirectFn=Ate,this._overrideRedirectResult=Ste}_openPopup(e,n,r,i){return C(this,null,function*(){var s;yl((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield r3(e,n,r,FT(),i);return Qte(e,o,P3())})}_openRedirect(e,n,r,i){return C(this,null,function*(){yield this._originValidation(e);let s=yield r3(e,n,r,FT(),i);return lte(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(yl(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return C(this,null,function*(){let n=yield qte(e),r=new ZT(e);return n.register("authEvent",i=>(nt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(OT,{type:OT},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[OT];o!==void 0&&n(!!o),la(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Nte(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return E3()||g3()||oI()}},B3=JT;var i3="@firebase/auth",s3="1.7.9";var eI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function rne(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ine(t){ml(new Zs("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;nt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b3(t)},l=new HT(r,i,s,c);return $ee(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ml(new Zs("auth-internal",e=>{let n=ed(e.getProvider("auth").getImmediate());return(r=>new eI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(i3,s3,rne(t)),Nr(i3,s3,"esm2017")}var sne=5*60,one=pT("authIdTokenMaxAge")||sne,o3=null,ane=t=>e=>C(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>one)return;let i=n?.token;o3!==i&&(o3=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function gI(t=rh()){let e=Wm(t,"auth");if(e.isInitialized())return e.getImmediate();let n=aI(t,{popupRedirectResolver:B3,persistence:[F3,R3,mI]}),r=pT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=ane(s.toString());pI(n,o,()=>o(n.currentUser)),hI(n,a=>o(a))}}let i=fT("auth");return i&&cI(n,`http://${i}`),n}function cne(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Lee({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Qu("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",cne().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ine("Browser");var V3="auth",Ss=class{constructor(e){return e}},r0=class{constructor(){return Km(V3)}};var vI=new We("angularfire2.auth-instances");function Zne(t,e){let n=L_(V3,t,e);return n&&new Ss(n)}function Jne(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ss(r)}}var ere={provide:r0,deps:[[new Mi,vI]]},tre={provide:Ss,useFactory:Zne,deps:[[new Mi,vI],ac]};function U3(t,...e){return Nr("angularfire",Xu.full,"auth"),ea([tre,ere,{provide:vI,useFactory:Jne(t),multi:!0,deps:[tn,es,oh,Yu,[new Mi,sh],...e]}])}var lh=jr(uI,!0);var j3=jr(gI,!0);var uh=jr(fI,!0);var $3=jr(dI,!0);var H3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z3={};var _l,yI;(function(){var t;function e(D,A){function T(){}T.prototype=A.prototype,D.D=A.prototype,D.prototype=new T,D.prototype.constructor=D,D.C=function(P,L,B){for(var V=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)V[vt-2]=arguments[vt];return A.prototype[L].apply(P,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,A,T){T||(T=0);var P=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)P[L]=A.charCodeAt(T++)|A.charCodeAt(T++)<<8|A.charCodeAt(T++)<<16|A.charCodeAt(T++)<<24;else for(L=0;16>L;++L)P[L]=A[T++]|A[T++]<<8|A[T++]<<16|A[T++]<<24;A=D.g[0],T=D.g[1],L=D.g[2];var B=D.g[3],V=A+(B^T&(L^B))+P[0]+3614090360&4294967295;A=T+(V<<7&4294967295|V>>>25),V=B+(L^A&(T^L))+P[1]+3905402710&4294967295,B=A+(V<<12&4294967295|V>>>20),V=L+(T^B&(A^T))+P[2]+606105819&4294967295,L=B+(V<<17&4294967295|V>>>15),V=T+(A^L&(B^A))+P[3]+3250441966&4294967295,T=L+(V<<22&4294967295|V>>>10),V=A+(B^T&(L^B))+P[4]+4118548399&4294967295,A=T+(V<<7&4294967295|V>>>25),V=B+(L^A&(T^L))+P[5]+1200080426&4294967295,B=A+(V<<12&4294967295|V>>>20),V=L+(T^B&(A^T))+P[6]+2821735955&4294967295,L=B+(V<<17&4294967295|V>>>15),V=T+(A^L&(B^A))+P[7]+4249261313&4294967295,T=L+(V<<22&4294967295|V>>>10),V=A+(B^T&(L^B))+P[8]+1770035416&4294967295,A=T+(V<<7&4294967295|V>>>25),V=B+(L^A&(T^L))+P[9]+2336552879&4294967295,B=A+(V<<12&4294967295|V>>>20),V=L+(T^B&(A^T))+P[10]+4294925233&4294967295,L=B+(V<<17&4294967295|V>>>15),V=T+(A^L&(B^A))+P[11]+2304563134&4294967295,T=L+(V<<22&4294967295|V>>>10),V=A+(B^T&(L^B))+P[12]+1804603682&4294967295,A=T+(V<<7&4294967295|V>>>25),V=B+(L^A&(T^L))+P[13]+4254626195&4294967295,B=A+(V<<12&4294967295|V>>>20),V=L+(T^B&(A^T))+P[14]+2792965006&4294967295,L=B+(V<<17&4294967295|V>>>15),V=T+(A^L&(B^A))+P[15]+1236535329&4294967295,T=L+(V<<22&4294967295|V>>>10),V=A+(L^B&(T^L))+P[1]+4129170786&4294967295,A=T+(V<<5&4294967295|V>>>27),V=B+(T^L&(A^T))+P[6]+3225465664&4294967295,B=A+(V<<9&4294967295|V>>>23),V=L+(A^T&(B^A))+P[11]+643717713&4294967295,L=B+(V<<14&4294967295|V>>>18),V=T+(B^A&(L^B))+P[0]+3921069994&4294967295,T=L+(V<<20&4294967295|V>>>12),V=A+(L^B&(T^L))+P[5]+3593408605&4294967295,A=T+(V<<5&4294967295|V>>>27),V=B+(T^L&(A^T))+P[10]+38016083&4294967295,B=A+(V<<9&4294967295|V>>>23),V=L+(A^T&(B^A))+P[15]+3634488961&4294967295,L=B+(V<<14&4294967295|V>>>18),V=T+(B^A&(L^B))+P[4]+3889429448&4294967295,T=L+(V<<20&4294967295|V>>>12),V=A+(L^B&(T^L))+P[9]+568446438&4294967295,A=T+(V<<5&4294967295|V>>>27),V=B+(T^L&(A^T))+P[14]+3275163606&4294967295,B=A+(V<<9&4294967295|V>>>23),V=L+(A^T&(B^A))+P[3]+4107603335&4294967295,L=B+(V<<14&4294967295|V>>>18),V=T+(B^A&(L^B))+P[8]+1163531501&4294967295,T=L+(V<<20&4294967295|V>>>12),V=A+(L^B&(T^L))+P[13]+2850285829&4294967295,A=T+(V<<5&4294967295|V>>>27),V=B+(T^L&(A^T))+P[2]+4243563512&4294967295,B=A+(V<<9&4294967295|V>>>23),V=L+(A^T&(B^A))+P[7]+1735328473&4294967295,L=B+(V<<14&4294967295|V>>>18),V=T+(B^A&(L^B))+P[12]+2368359562&4294967295,T=L+(V<<20&4294967295|V>>>12),V=A+(T^L^B)+P[5]+4294588738&4294967295,A=T+(V<<4&4294967295|V>>>28),V=B+(A^T^L)+P[8]+2272392833&4294967295,B=A+(V<<11&4294967295|V>>>21),V=L+(B^A^T)+P[11]+1839030562&4294967295,L=B+(V<<16&4294967295|V>>>16),V=T+(L^B^A)+P[14]+4259657740&4294967295,T=L+(V<<23&4294967295|V>>>9),V=A+(T^L^B)+P[1]+2763975236&4294967295,A=T+(V<<4&4294967295|V>>>28),V=B+(A^T^L)+P[4]+1272893353&4294967295,B=A+(V<<11&4294967295|V>>>21),V=L+(B^A^T)+P[7]+4139469664&4294967295,L=B+(V<<16&4294967295|V>>>16),V=T+(L^B^A)+P[10]+3200236656&4294967295,T=L+(V<<23&4294967295|V>>>9),V=A+(T^L^B)+P[13]+681279174&4294967295,A=T+(V<<4&4294967295|V>>>28),V=B+(A^T^L)+P[0]+3936430074&4294967295,B=A+(V<<11&4294967295|V>>>21),V=L+(B^A^T)+P[3]+3572445317&4294967295,L=B+(V<<16&4294967295|V>>>16),V=T+(L^B^A)+P[6]+76029189&4294967295,T=L+(V<<23&4294967295|V>>>9),V=A+(T^L^B)+P[9]+3654602809&4294967295,A=T+(V<<4&4294967295|V>>>28),V=B+(A^T^L)+P[12]+3873151461&4294967295,B=A+(V<<11&4294967295|V>>>21),V=L+(B^A^T)+P[15]+530742520&4294967295,L=B+(V<<16&4294967295|V>>>16),V=T+(L^B^A)+P[2]+3299628645&4294967295,T=L+(V<<23&4294967295|V>>>9),V=A+(L^(T|~B))+P[0]+4096336452&4294967295,A=T+(V<<6&4294967295|V>>>26),V=B+(T^(A|~L))+P[7]+1126891415&4294967295,B=A+(V<<10&4294967295|V>>>22),V=L+(A^(B|~T))+P[14]+2878612391&4294967295,L=B+(V<<15&4294967295|V>>>17),V=T+(B^(L|~A))+P[5]+4237533241&4294967295,T=L+(V<<21&4294967295|V>>>11),V=A+(L^(T|~B))+P[12]+1700485571&4294967295,A=T+(V<<6&4294967295|V>>>26),V=B+(T^(A|~L))+P[3]+2399980690&4294967295,B=A+(V<<10&4294967295|V>>>22),V=L+(A^(B|~T))+P[10]+4293915773&4294967295,L=B+(V<<15&4294967295|V>>>17),V=T+(B^(L|~A))+P[1]+2240044497&4294967295,T=L+(V<<21&4294967295|V>>>11),V=A+(L^(T|~B))+P[8]+1873313359&4294967295,A=T+(V<<6&4294967295|V>>>26),V=B+(T^(A|~L))+P[15]+4264355552&4294967295,B=A+(V<<10&4294967295|V>>>22),V=L+(A^(B|~T))+P[6]+2734768916&4294967295,L=B+(V<<15&4294967295|V>>>17),V=T+(B^(L|~A))+P[13]+1309151649&4294967295,T=L+(V<<21&4294967295|V>>>11),V=A+(L^(T|~B))+P[4]+4149444226&4294967295,A=T+(V<<6&4294967295|V>>>26),V=B+(T^(A|~L))+P[11]+3174756917&4294967295,B=A+(V<<10&4294967295|V>>>22),V=L+(A^(B|~T))+P[2]+718787259&4294967295,L=B+(V<<15&4294967295|V>>>17),V=T+(B^(L|~A))+P[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(L+(V<<21&4294967295|V>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+B&4294967295}r.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var T=A-this.blockSize,P=this.B,L=this.h,B=0;B<A;){if(L==0)for(;B<=T;)i(this,D,B),B+=this.blockSize;if(typeof D=="string"){for(;B<A;)if(P[L++]=D.charCodeAt(B++),L==this.blockSize){i(this,P),L=0;break}}else for(;B<A;)if(P[L++]=D[B++],L==this.blockSize){i(this,P),L=0;break}}this.h=L,this.o+=A},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var T=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=T&255,T/=256;for(this.u(D),D=Array(16),A=T=0;4>A;++A)for(var P=0;32>P;P+=8)D[T++]=this.g[A]>>>P&255;return D};function s(D,A){var T=a;return Object.prototype.hasOwnProperty.call(T,D)?T[D]:T[D]=A(D)}function o(D,A){this.h=A;for(var T=[],P=!0,L=D.length-1;0<=L;L--){var B=D[L]|0;P&&B==A||(T[L]=B,P=!1)}this.g=T}var a={};function c(D){return-128<=D&&128>D?s(D,function(A){return new o([A|0],0>A?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return f;if(0>D)return x(l(-D));for(var A=[],T=1,P=0;D>=T;P++)A[P]=D/T|0,T*=4294967296;return new o(A,0)}function u(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return x(u(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=l(Math.pow(A,8)),P=f,L=0;L<D.length;L+=8){var B=Math.min(8,D.length-L),V=parseInt(D.substring(L,L+B),A);8>B?(B=l(Math.pow(A,B)),P=P.j(B).add(l(V))):(P=P.j(T),P=P.add(l(V)))}return P}var f=c(0),h=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(_(this))return-x(this).m();for(var D=0,A=1,T=0;T<this.g.length;T++){var P=this.i(T);D+=(0<=P?P:4294967296+P)*A,A*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(y(this))return"0";if(_(this))return"-"+x(this).toString(D);for(var A=l(Math.pow(D,6)),T=this,P="";;){var L=Q(T,A).g;T=M(T,L.j(A));var B=((0<T.g.length?T.g[0]:T.h)>>>0).toString(D);if(T=L,y(T))return B+P;for(;6>B.length;)B="0"+B;P=B+P}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function y(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function _(D){return D.h==-1}t.l=function(D){return D=M(this,D),_(D)?-1:y(D)?0:1};function x(D){for(var A=D.g.length,T=[],P=0;P<A;P++)T[P]=~D.g[P];return new o(T,~D.h).add(h)}t.abs=function(){return _(this)?x(this):this},t.add=function(D){for(var A=Math.max(this.g.length,D.g.length),T=[],P=0,L=0;L<=A;L++){var B=P+(this.i(L)&65535)+(D.i(L)&65535),V=(B>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);P=V>>>16,B&=65535,V&=65535,T[L]=V<<16|B}return new o(T,T[T.length-1]&-2147483648?-1:0)};function M(D,A){return D.add(x(A))}t.j=function(D){if(y(this)||y(D))return f;if(_(this))return _(D)?x(this).j(x(D)):x(x(this).j(D));if(_(D))return x(this.j(x(D)));if(0>this.l(m)&&0>D.l(m))return l(this.m()*D.m());for(var A=this.g.length+D.g.length,T=[],P=0;P<2*A;P++)T[P]=0;for(P=0;P<this.g.length;P++)for(var L=0;L<D.g.length;L++){var B=this.i(P)>>>16,V=this.i(P)&65535,vt=D.i(L)>>>16,Ge=D.i(L)&65535;T[2*P+2*L]+=V*Ge,H(T,2*P+2*L),T[2*P+2*L+1]+=B*Ge,H(T,2*P+2*L+1),T[2*P+2*L+1]+=V*vt,H(T,2*P+2*L+1),T[2*P+2*L+2]+=B*vt,H(T,2*P+2*L+2)}for(P=0;P<A;P++)T[P]=T[2*P+1]<<16|T[2*P];for(P=A;P<2*A;P++)T[P]=0;return new o(T,0)};function H(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function K(D,A){this.g=D,this.h=A}function Q(D,A){if(y(A))throw Error("division by zero");if(y(D))return new K(f,f);if(_(D))return A=Q(x(D),A),new K(x(A.g),x(A.h));if(_(A))return A=Q(D,x(A)),new K(x(A.g),A.h);if(30<D.g.length){if(_(D)||_(A))throw Error("slowDivide_ only works with positive integers.");for(var T=h,P=A;0>=P.l(D);)T=ae(T),P=ae(P);var L=fe(T,1),B=fe(P,1);for(P=fe(P,2),T=fe(T,2);!y(P);){var V=B.add(P);0>=V.l(D)&&(L=L.add(T),B=V),P=fe(P,1),T=fe(T,1)}return A=M(D,L.j(A)),new K(L,A)}for(L=f;0<=D.l(A);){for(T=Math.max(1,Math.floor(D.m()/A.m())),P=Math.ceil(Math.log(T)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),B=l(T),V=B.j(A);_(V)||0<V.l(D);)T-=P,B=l(T),V=B.j(A);y(B)&&(B=h),L=L.add(B),D=M(D,V)}return new K(L,D)}t.A=function(D){return Q(this,D).h},t.and=function(D){for(var A=Math.max(this.g.length,D.g.length),T=[],P=0;P<A;P++)T[P]=this.i(P)&D.i(P);return new o(T,this.h&D.h)},t.or=function(D){for(var A=Math.max(this.g.length,D.g.length),T=[],P=0;P<A;P++)T[P]=this.i(P)|D.i(P);return new o(T,this.h|D.h)},t.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),T=[],P=0;P<A;P++)T[P]=this.i(P)^D.i(P);return new o(T,this.h^D.h)};function ae(D){for(var A=D.g.length+1,T=[],P=0;P<A;P++)T[P]=D.i(P)<<1|D.i(P-1)>>>31;return new o(T,D.h)}function fe(D,A){var T=A>>5;A%=32;for(var P=D.g.length-T,L=[],B=0;B<P;B++)L[B]=0<A?D.i(B+T)>>>A|D.i(B+T+1)<<32-A:D.i(B+T);return new o(L,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yI=z3.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,_l=z3.Integer=o}).apply(typeof H3<"u"?H3:typeof self<"u"?self:typeof window<"u"?window:{});var ix=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hc={};var _I,nre,dh,xI,i0,sx,wI,EI,bI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,w){return d==Array.prototype||d==Object.prototype||(d[v]=w.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ix=="object"&&ix];for(var v=0;v<d.length;++v){var w=d[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(d,v){if(v)e:{var w=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var ee=d[R];if(!(ee in w))break e;w=w[ee]}d=d[d.length-1],R=w[d],v=v(R),v!=R&&v!=null&&e(w,d,{configurable:!0,writable:!0,value:v})}}function s(d,v){d instanceof String&&(d+="");var w=0,R=!1,ee={next:function(){if(!R&&w<d.length){var ce=w++;return{value:v(ce,d[ce]),done:!1}}return R=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}i("Array.prototype.values",function(d){return d||function(){return s(this,function(v,w){return w})}});var o=o||{},a=this||self;function c(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function l(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function u(d,v,w){return d.call.apply(d.bind,arguments)}function f(d,v,w){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ee,R),d.apply(v,ee)}}return function(){return d.apply(v,arguments)}}function h(d,v,w){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function m(d,v){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function y(d,v){function w(){}w.prototype=v.prototype,d.aa=v.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(R,ee,ce){for(var Me=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)Me[Jt-2]=arguments[Jt];return v.prototype[ee].apply(R,Me)}}function _(d){let v=d.length;if(0<v){let w=Array(v);for(let R=0;R<v;R++)w[R]=d[R];return w}return[]}function x(d,v){for(let w=1;w<arguments.length;w++){let R=arguments[w];if(c(R)){let ee=d.length||0,ce=R.length||0;d.length=ee+ce;for(let Me=0;Me<ce;Me++)d[ee+Me]=R[Me]}else d.push(R)}}class M{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function H(d){return/^[\s\xa0]*$/.test(d)}function K(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function Q(d){return Q[" "](d),d}Q[" "]=function(){};var ae=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function fe(d,v,w){for(let R in d)v.call(w,d[R],R,d)}function D(d,v){for(let w in d)v.call(void 0,d[w],w,d)}function A(d){let v={};for(let w in d)v[w]=d[w];return v}let T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,v){let w,R;for(let ee=1;ee<arguments.length;ee++){R=arguments[ee];for(w in R)d[w]=R[w];for(let ce=0;ce<T.length;ce++)w=T[ce],Object.prototype.hasOwnProperty.call(R,w)&&(d[w]=R[w])}}function L(d){var v=1;d=d.split(":");let w=[];for(;0<v&&d.length;)w.push(d.shift()),v--;return d.length&&w.push(d.join(":")),w}function B(d){a.setTimeout(()=>{throw d},0)}function V(){var d=Mn;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class vt{constructor(){this.h=this.g=null}add(v,w){let R=Ge.get();R.set(v,w),this.h?this.h.next=R:this.g=R,this.h=R}}var Ge=new M(()=>new Rn,d=>d.reset());class Rn{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let hn,Pn=!1,Mn=new vt,Wt=()=>{let d=a.Promise.resolve(void 0);hn=()=>{d.then(Bn)}};var Bn=()=>{for(var d;d=V();){try{d.h.call(d.g)}catch(w){B(w)}var v=Ge;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}Pn=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{let w=()=>{};a.addEventListener("test",w,v),a.removeEventListener("test",w,v)}catch{}return d}();function Y(d,v){if(le.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(ae){e:{try{Q(v.nodeName);var ee=!0;break e}catch{}ee=!1}ee||(v=null)}}else w=="mouseover"?v=d.fromElement:w=="mouseout"&&(v=d.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:xe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Y.aa.h.call(this)}}y(Y,le);var xe={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function He(d,v,w,R,ee){this.listener=d,this.proxy=null,this.src=v,this.type=w,this.capture=!!R,this.ha=ee,this.key=++Qe,this.da=this.fa=!1}function Ae(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function kt(d){this.src=d,this.g={},this.h=0}kt.prototype.add=function(d,v,w,R,ee){var ce=d.toString();d=this.g[ce],d||(d=this.g[ce]=[],this.h++);var Me=Vn(d,v,R,ee);return-1<Me?(v=d[Me],w||(v.fa=!1)):(v=new He(v,this.src,ce,!!R,ee),v.fa=w,d.push(v)),v};function pt(d,v){var w=v.type;if(w in d.g){var R=d.g[w],ee=Array.prototype.indexOf.call(R,v,void 0),ce;(ce=0<=ee)&&Array.prototype.splice.call(R,ee,1),ce&&(Ae(v),d.g[w].length==0&&(delete d.g[w],d.h--))}}function Vn(d,v,w,R){for(var ee=0;ee<d.length;++ee){var ce=d[ee];if(!ce.da&&ce.listener==v&&ce.capture==!!w&&ce.ha==R)return ee}return-1}var rt="closure_lm_"+(1e6*Math.random()|0),Tn={};function pn(d,v,w,R,ee){if(R&&R.once)return Ai(d,v,w,R,ee);if(Array.isArray(v)){for(var ce=0;ce<v.length;ce++)pn(d,v[ce],w,R,ee);return null}return w=Nn(w),d&&d[Fe]?d.K(v,w,l(R)?!!R.capture:!!R,ee):Oe(d,v,w,!1,R,ee)}function Oe(d,v,w,R,ee,ce){if(!v)throw Error("Invalid event type");var Me=l(ee)?!!ee.capture:!!ee,Jt=Hn(d);if(Jt||(d[rt]=Jt=new kt(d)),w=Jt.add(v,w,R,Me,ce),w.proxy)return w;if(R=Cr(),w.proxy=R,R.src=d,R.listener=w,d.addEventListener)Z||(ee=Me),ee===void 0&&(ee=!1),d.addEventListener(v.toString(),R,ee);else if(d.attachEvent)d.attachEvent(fi(v.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Cr(){function d(w){return v.call(d.src,d.listener,w)}let v=zi;return d}function Ai(d,v,w,R,ee){if(Array.isArray(v)){for(var ce=0;ce<v.length;ce++)Ai(d,v[ce],w,R,ee);return null}return w=Nn(w),d&&d[Fe]?d.L(v,w,l(R)?!!R.capture:!!R,ee):Oe(d,v,w,!0,R,ee)}function cs(d,v,w,R,ee){if(Array.isArray(v))for(var ce=0;ce<v.length;ce++)cs(d,v[ce],w,R,ee);else R=l(R)?!!R.capture:!!R,w=Nn(w),d&&d[Fe]?(d=d.i,v=String(v).toString(),v in d.g&&(ce=d.g[v],w=Vn(ce,w,R,ee),-1<w&&(Ae(ce[w]),Array.prototype.splice.call(ce,w,1),ce.length==0&&(delete d.g[v],d.h--)))):d&&(d=Hn(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Vn(v,w,R,ee)),(w=-1<d?v[d]:null)&&mt(w))}function mt(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Fe])pt(v.i,d);else{var w=d.type,R=d.proxy;v.removeEventListener?v.removeEventListener(w,R,d.capture):v.detachEvent?v.detachEvent(fi(w),R):v.addListener&&v.removeListener&&v.removeListener(R),(w=Hn(v))?(pt(w,d),w.h==0&&(w.src=null,v[rt]=null)):Ae(d)}}}function fi(d){return d in Tn?Tn[d]:Tn[d]="on"+d}function zi(d,v){if(d.da)d=!0;else{v=new Y(v,this);var w=d.listener,R=d.ha||d.src;d.fa&&mt(d),d=w.call(R,v)}return d}function Hn(d){return d=d[rt],d instanceof kt?d:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nn(d){return typeof d=="function"?d:(d[mn]||(d[mn]=function(v){return d.handleEvent(v)}),d[mn])}function On(){X.call(this),this.i=new kt(this),this.M=this,this.F=null}y(On,X),On.prototype[Fe]=!0,On.prototype.removeEventListener=function(d,v,w,R){cs(this,d,v,w,R)};function wn(d,v){var w,R=d.F;if(R)for(w=[];R;R=R.F)w.push(R);if(d=d.M,R=v.type||v,typeof v=="string")v=new le(v,d);else if(v instanceof le)v.target=v.target||d;else{var ee=v;v=new le(R,d),P(v,ee)}if(ee=!0,w)for(var ce=w.length-1;0<=ce;ce--){var Me=v.g=w[ce];ee=Ls(Me,R,!0,v)&&ee}if(Me=v.g=d,ee=Ls(Me,R,!0,v)&&ee,ee=Ls(Me,R,!1,v)&&ee,w)for(ce=0;ce<w.length;ce++)Me=v.g=w[ce],ee=Ls(Me,R,!1,v)&&ee}On.prototype.N=function(){if(On.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var w=d.g[v],R=0;R<w.length;R++)Ae(w[R]);delete d.g[v],d.h--}}this.F=null},On.prototype.K=function(d,v,w,R){return this.i.add(String(d),v,!1,w,R)},On.prototype.L=function(d,v,w,R){return this.i.add(String(d),v,!0,w,R)};function Ls(d,v,w,R){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var ee=!0,ce=0;ce<v.length;++ce){var Me=v[ce];if(Me&&!Me.da&&Me.capture==w){var Jt=Me.listener,Sr=Me.ha||Me.src;Me.fa&&pt(d.i,Me),ee=Jt.call(Sr,R)!==!1&&ee}}return ee&&!R.defaultPrevented}function or(d,v,w){if(typeof d=="function")w&&(d=h(d,w));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:a.setTimeout(d,v||0)}function Xl(d){d.g=or(()=>{d.g=null,d.i&&(d.i=!1,Xl(d))},d.l);let v=d.h;d.h=null,d.m.apply(null,v)}class Yl extends X{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function co(d){X.call(this),this.h=d,this.g={}}y(co,X);var ka=[];function Ql(d){fe(d.g,function(v,w){this.g.hasOwnProperty(w)&&mt(v)},d),d.g={}}co.prototype.N=function(){co.aa.N.call(this),Ql(this)},co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zl=a.JSON.stringify,Sp=a.JSON.parse,Vd=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function qi(){}qi.prototype.h=null;function Jl(d){return d.h||(d.h=d.i())}function Ud(){}var Ra={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vo(){le.call(this,"d")}y(Vo,le);function eu(){le.call(this,"c")}y(eu,le);var ls={},jd=null;function Mc(){return jd=jd||new On}ls.La="serverreachability";function $d(d){le.call(this,ls.La,d)}y($d,le);function Pa(d){let v=Mc();wn(v,new $d(v))}ls.STAT_EVENT="statevent";function Hd(d,v){le.call(this,ls.STAT_EVENT,d),this.stat=v}y(Hd,le);function Zn(d){let v=Mc();wn(v,new Hd(v,d))}ls.Ma="timingevent";function Nc(d,v){le.call(this,ls.Ma,d),this.size=v}y(Nc,le);function Ma(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},v)}function Na(){this.g=!0}Na.prototype.xa=function(){this.g=!1};function Tp(d,v,w,R,ee,ce){d.info(function(){if(d.g)if(ce)for(var Me="",Jt=ce.split("&"),Sr=0;Sr<Jt.length;Sr++){var Ut=Jt[Sr].split("=");if(1<Ut.length){var Lr=Ut[0];Ut=Ut[1];var Tr=Lr.split("_");Me=2<=Tr.length&&Tr[1]=="type"?Me+(Lr+"="+Ut+"&"):Me+(Lr+"=redacted&")}}else Me=null;else Me=ce;return"XMLHTTP REQ ("+R+") [attempt "+ee+"]: "+v+`
`+w+`
`+Me})}function I(d,v,w,R,ee,ce,Me){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+ee+"]: "+v+`
`+w+`
`+ce+" "+Me})}function O(d,v,w,R){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+F(d,w)+(R?" "+R:"")})}function N(d,v){d.info(function(){return"TIMEOUT: "+v})}Na.prototype.info=function(){};function F(d,v){if(!d.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var R=w[d];if(!(2>R.length)){var ee=R[1];if(Array.isArray(ee)&&!(1>ee.length)){var ce=ee[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(var Me=1;Me<ee.length;Me++)ee[Me]=""}}}}return Zl(w)}catch{return v}}var j={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},z={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ie;function ue(){}y(ue,qi),ue.prototype.g=function(){return new XMLHttpRequest},ue.prototype.i=function(){return{}},ie=new ue;function te(d,v,w,R){this.j=d,this.i=v,this.l=w,this.R=R||1,this.U=new co(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new re}function re(){this.i=null,this.g="",this.h=!1}var se={},we={};function ve(d,v,w){d.L=1,d.v=qd(Vs(v)),d.m=w,d.P=!0,$e(d,null)}function $e(d,v){d.F=Date.now(),Je(d),d.A=Vs(d.v);var w=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),Mg(w.i,"t",R),d.C=0,w=d.j.J,d.h=new re,d.g=Vp(d.j,w?v:null,!d.m),0<d.O&&(d.M=new Yl(h(d.Y,d,d.g),d.O)),v=d.U,w=d.g,R=d.ca;var ee="readystatechange";Array.isArray(ee)||(ee&&(ka[0]=ee.toString()),ee=ka);for(var ce=0;ce<ee.length;ce++){var Me=pn(w,ee[ce],R||v.handleEvent,!1,v.h||v);if(!Me)break;v.g[Me.key]=Me}v=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Pa(),Tp(d.i,d.u,d.A,d.l,d.R,d.m)}te.prototype.ca=function(d){d=d.target;let v=this.M;v&&fo(d)==3?v.j():this.Y(d)},te.prototype.Y=function(d){try{if(d==this.g)e:{let Tr=fo(this.g);var v=this.g.Ba();let zo=this.g.Z();if(!(3>Tr)&&(Tr!=3||this.g&&(this.h.h||this.g.oa()||Ug(this.g)))){this.J||Tr!=4||v==7||(v==8||0>=zo?Pa(3):Pa(2)),ar(this);var w=this.g.Z();this.X=w;t:if(De(this)){var R=Ug(this.g);d="";var ee=R.length,ce=fo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fn(this),ln(this);var Me="";break t}this.h.i=new a.TextDecoder}for(v=0;v<ee;v++)this.h.h=!0,d+=this.h.i.decode(R[v],{stream:!(ce&&v==ee-1)});R.length=0,this.h.g+=d,this.C=0,Me=this.h.g}else Me=this.g.oa();if(this.o=w==200,I(this.i,this.u,this.A,this.l,this.R,Tr,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Jt,Sr=this.g;if((Jt=Sr.g?Sr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Jt)){var Ut=Jt;break t}}Ut=null}if(w=Ut)O(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lo(this,w);else{this.o=!1,this.s=3,Zn(12),Fn(this),ln(this);break e}}if(this.P){w=!0;let us;for(;!this.J&&this.C<Me.length;)if(us=Ne(this,Me),us==we){Tr==4&&(this.s=4,Zn(14),w=!1),O(this.i,this.l,null,"[Incomplete Response]");break}else if(us==se){this.s=4,Zn(15),O(this.i,this.l,Me,"[Invalid Chunk]"),w=!1;break}else O(this.i,this.l,us,null),lo(this,us);if(De(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tr!=4||Me.length!=0||this.h.h||(this.s=1,Zn(16),w=!1),this.o=this.o&&w,!w)O(this.i,this.l,Me,"[Invalid Chunked Response]"),Fn(this),ln(this);else if(0<Me.length&&!this.W){this.W=!0;var Lr=this.j;Lr.g==this&&Lr.ba&&!Lr.M&&(Lr.j.info("Great, no buffering proxy detected. Bytes received: "+Me.length),jc(Lr),Lr.M=!0,Zn(11))}}else O(this.i,this.l,Me,null),lo(this,Me);Tr==4&&Fn(this),this.o&&!this.J&&(Tr==4?Op(this.j,this):(this.o=!1,Je(this)))}else N1(this.g),w==400&&0<Me.indexOf("Unknown SID")?(this.s=3,Zn(12)):(this.s=0,Zn(13)),Fn(this),ln(this)}}}catch{}finally{}};function De(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Ne(d,v){var w=d.C,R=v.indexOf(`
`,w);return R==-1?we:(w=Number(v.substring(w,R)),isNaN(w)?se:(R+=1,R+w>v.length?we:(v=v.slice(R,R+w),d.C=R+w,v)))}te.prototype.cancel=function(){this.J=!0,Fn(this)};function Je(d){d.S=Date.now()+d.I,Zt(d,d.I)}function Zt(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ma(h(d.ba,d),v)}function ar(d){d.B&&(a.clearTimeout(d.B),d.B=null)}te.prototype.ba=function(){this.B=null;let d=Date.now();0<=d-this.S?(N(this.i,this.A),this.L!=2&&(Pa(),Zn(17)),Fn(this),this.s=2,ln(this)):Zt(this,this.S-d)};function ln(d){d.j.G==0||d.J||Op(d.j,d)}function Fn(d){ar(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Ql(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function lo(d,v){try{var w=d.j;if(w.G!=0&&(w.g==d||Ip(w.h,d))){if(!d.K&&Ip(w.h,d)&&w.G==3){try{var R=w.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var ee=R;if(ee[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)cu(w),Xd(w);else break e;au(w),Zn(18)}}else w.za=ee[1],0<w.za-w.T&&37500>ee[2]&&w.F&&w.v==0&&!w.C&&(w.C=Ma(h(w.Za,w),6e3));if(1>=Gi(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Ho(w,11)}else if((d.K||w.g==d)&&cu(w),!H(v))for(ee=w.Da.g.parse(v),v=0;v<ee.length;v++){let Ut=ee[v];if(w.T=Ut[0],Ut=Ut[1],w.G==2)if(Ut[0]=="c"){w.K=Ut[1],w.ia=Ut[2];let Lr=Ut[3];Lr!=null&&(w.la=Lr,w.j.info("VER="+w.la));let Tr=Ut[4];Tr!=null&&(w.Aa=Tr,w.j.info("SVER="+w.Aa));let zo=Ut[5];zo!=null&&typeof zo=="number"&&0<zo&&(R=1.5*zo,w.L=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;let us=d.g;if(us){let Qd=us.g?us.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qd){var ce=R.h;ce.g||Qd.indexOf("spdy")==-1&&Qd.indexOf("quic")==-1&&Qd.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(Ap(ce,ce.h),ce.h=null))}if(R.D){let jp=us.g?us.g.getResponseHeader("X-HTTP-Session-Id"):null;jp&&(R.ya=jp,gn(R.I,R.D,jp))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),R=w;var Me=d;if(R.qa=Bp(R,R.J?R.ia:null,R.W),Me.K){Cg(R.h,Me);var Jt=Me,Sr=R.L;Sr&&(Jt.I=Sr),Jt.B&&(ar(Jt),Je(Jt)),R.g=Me}else Np(R);0<w.i.length&&Yd(w)}else Ut[0]!="stop"&&Ut[0]!="close"||Ho(w,7);else w.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Ho(w,7):Kd(w):Ut[0]!="noop"&&w.l&&w.l.ta(Ut),w.v=0)}}Pa(4)}catch{}}var Uo=class{constructor(d,v){this.g=d,this.map=v}};function Bs(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oc(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Gi(d){return d.h?1:d.g?d.g.size:0}function Ip(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Ap(d,v){d.g?d.g.add(v):d.h=v}function Cg(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Bs.prototype.cancel=function(){if(this.i=Sg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let d of this.g.values())d.cancel();this.g.clear()}};function Sg(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(let w of d.g.values())v=v.concat(w.D);return v}return _(d.i)}function Tg(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var v=[],w=d.length,R=0;R<w;R++)v.push(d[R]);return v}v=[],w=0;for(R in d)v[w++]=d[R];return v}function T1(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var v=[];d=d.length;for(var w=0;w<d;w++)v.push(w);return v}v=[],w=0;for(let R in d)v[w++]=R;return v}}}function Dp(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var w=T1(d),R=Tg(d),ee=R.length,ce=0;ce<ee;ce++)v.call(void 0,R[ce],w&&w[ce],d)}var Ig=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function I1(d,v){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var R=d[w].indexOf("="),ee=null;if(0<=R){var ce=d[w].substring(0,R);ee=d[w].substring(R+1)}else ce=d[w];v(ce,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function Wi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Wi){this.h=d.h,zd(this,d.j),this.o=d.o,this.g=d.g,Fc(this,d.s),this.l=d.l;var v=d.i,w=new ru;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),kp(this,w),this.m=d.m}else d&&(v=String(d).match(Ig))?(this.h=!1,zd(this,v[1]||"",!0),this.o=tu(v[2]||""),this.g=tu(v[3]||"",!0),Fc(this,v[4]),this.l=tu(v[5]||"",!0),kp(this,v[6]||"",!0),this.m=tu(v[7]||"")):(this.h=!1,this.i=new ru(null,this.h))}Wi.prototype.toString=function(){var d=[],v=this.j;v&&d.push(nu(v,Ag,!0),":");var w=this.g;return(w||v=="file")&&(d.push("//"),(v=this.o)&&d.push(nu(v,Ag,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(nu(w,w.charAt(0)=="/"?D1:Lc,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",nu(w,kg)),d.join("")};function Vs(d){return new Wi(d)}function zd(d,v,w){d.j=w?tu(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Fc(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function kp(d,v,w){v instanceof ru?(d.i=v,k1(d.i,d.h)):(w||(v=nu(v,Dg)),d.i=new ru(v,d.h))}function gn(d,v,w){d.i.set(v,w)}function qd(d){return gn(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function tu(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function nu(d,v,w){return typeof d=="string"?(d=encodeURI(d).replace(v,A1),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function A1(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ag=/[#\/\?@]/g,Lc=/[#\?:]/g,D1=/[#\?]/g,Dg=/[#\?@]/g,kg=/#/g;function ru(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function jo(d){d.g||(d.g=new Map,d.h=0,d.i&&I1(d.i,function(v,w){d.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}t=ru.prototype,t.add=function(d,v){jo(this),this.i=null,d=Bc(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(v),this.h+=1,this};function Rg(d,v){jo(d),v=Bc(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Pg(d,v){return jo(d),v=Bc(d,v),d.g.has(v)}t.forEach=function(d,v){jo(this),this.g.forEach(function(w,R){w.forEach(function(ee){d.call(v,ee,R,this)},this)},this)},t.na=function(){jo(this);let d=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let R=0;R<v.length;R++){let ee=d[R];for(let ce=0;ce<ee.length;ce++)w.push(v[R])}return w},t.V=function(d){jo(this);let v=[];if(typeof d=="string")Pg(this,d)&&(v=v.concat(this.g.get(Bc(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)v=v.concat(d[w])}return v},t.set=function(d,v){return jo(this),this.i=null,d=Bc(this,d),Pg(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function Mg(d,v,w){Rg(d,v),0<w.length&&(d.i=null,d.g.set(Bc(d,v),_(w)),d.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let d=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var R=v[w];let ce=encodeURIComponent(String(R)),Me=this.V(R);for(R=0;R<Me.length;R++){var ee=ce;Me[R]!==""&&(ee+="="+encodeURIComponent(String(Me[R]))),d.push(ee)}}return this.i=d.join("&")};function Bc(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function k1(d,v){v&&!d.j&&(jo(d),d.i=null,d.g.forEach(function(w,R){var ee=R.toLowerCase();R!=ee&&(Rg(this,R),Mg(this,ee,w))},d)),d.j=v}function Vc(d,v){let w=new Na;if(a.Image){let R=new Image;R.onload=m($o,w,"TestLoadImage: loaded",!0,v,R),R.onerror=m($o,w,"TestLoadImage: error",!1,v,R),R.onabort=m($o,w,"TestLoadImage: abort",!1,v,R),R.ontimeout=m($o,w,"TestLoadImage: timeout",!1,v,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else v(!1)}function R1(d,v){let w=new Na,R=new AbortController,ee=setTimeout(()=>{R.abort(),$o(w,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:R.signal}).then(ce=>{clearTimeout(ee),ce.ok?$o(w,"TestPingServer: ok",!0,v):$o(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(ee),$o(w,"TestPingServer: error",!1,v)})}function $o(d,v,w,R,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),R(w)}catch{}}function Ng(){this.g=new Vd}function P1(d,v,w){let R=w||"";try{Dp(d,function(ee,ce){let Me=ee;l(ee)&&(Me=Zl(ee)),v.push(R+ce+"="+encodeURIComponent(Me))})}catch(ee){throw v.push(R+"type="+encodeURIComponent("_badmap")),ee}}function Ki(d){this.l=d.Ub||null,this.j=d.eb||!1}y(Ki,qi),Ki.prototype.g=function(){return new Gd(this.l,this.j)},Ki.prototype.i=function(d){return function(){return d}}({});function Gd(d,v){On.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Gd,On),t=Gd.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,iu(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,uo(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,iu(this)),this.g&&(this.readyState=3,iu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rp(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rp(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?uo(this):iu(this),this.readyState==3&&Rp(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,uo(this))},t.Qa=function(d){this.g&&(this.response=d,uo(this))},t.ga=function(){this.g&&uo(this)};function uo(d){d.readyState=4,d.l=null,d.j=null,d.v=null,iu(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let d=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=v.next();return d.join(`\r
`)};function iu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Gd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Og(d){let v="";return fe(d,function(w,R){v+=R,v+=":",v+=w,v+=`\r
`}),v}function Pp(d,v,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=Og(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):gn(d,v,w))}function In(d){On.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(In,On);var Uc=/^https?$/i,M1=["POST","PUT"];t=In.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ie.g(),this.v=this.o?Jl(this.o):Jl(ie),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(ce){Fg(this,ce);return}if(d=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var ee in R)w.set(ee,R[ee]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(let ce of R.keys())w.set(ce,R.get(ce));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(ce=>ce.toLowerCase()=="content-type"),ee=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(M1,v,void 0))||R||ee||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[ce,Me]of w)this.g.setRequestHeader(ce,Me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vg(this),this.u=!0,this.g.send(d),this.u=!1}catch(ce){Fg(this,ce)}};function Fg(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Lg(d),Wd(d)}function Lg(d){d.A||(d.A=!0,wn(d,"complete"),wn(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,wn(this,"complete"),wn(this,"abort"),Wd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wd(this,!0)),In.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bg(this):this.bb())},t.bb=function(){Bg(this)};function Bg(d){if(d.h&&typeof o<"u"&&(!d.v[1]||fo(d)!=4||d.Z()!=2)){if(d.u&&fo(d)==4)or(d.Ea,0,d);else if(wn(d,"readystatechange"),fo(d)==4){d.h=!1;try{let Me=d.Z();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var R;if(R=Me===0){var ee=String(d.D).match(Ig)[1]||null;!ee&&a.self&&a.self.location&&(ee=a.self.location.protocol.slice(0,-1)),R=!Uc.test(ee?ee.toLowerCase():"")}w=R}if(w)wn(d,"complete"),wn(d,"success");else{d.m=6;try{var ce=2<fo(d)?d.g.statusText:""}catch{ce=""}d.l=ce+" ["+d.Z()+"]",Lg(d)}}finally{Wd(d)}}}}function Wd(d,v){if(d.g){Vg(d);let w=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||wn(d,"ready");try{w.onreadystatechange=R}catch{}}}function Vg(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function fo(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<fo(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Sp(v)}};function Ug(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function N1(d){let v={};d=(d.g&&2<=fo(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(H(d[R]))continue;var w=L(d[R]);let ee=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();let ce=v[ee]||[];v[ee]=ce,ce.push(w)}D(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function su(d,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||v}function ou(d){this.Aa=0,this.i=[],this.j=new Na,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=su("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=su("baseRetryDelayMs",5e3,d),this.cb=su("retryDelaySeedMs",1e4,d),this.Wa=su("forwardChannelMaxRetries",2,d),this.wa=su("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Bs(d&&d.concurrentRequestLimit),this.Da=new Ng,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ou.prototype,t.la=8,t.G=1,t.connect=function(d,v,w,R){Zn(0),this.W=d,this.H=v||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.I=Bp(this,null,this.W),Yd(this)};function Kd(d){if(jg(d),d.G==3){var v=d.U++,w=Vs(d.I);if(gn(w,"SID",d.K),gn(w,"RID",v),gn(w,"TYPE","terminate"),Oa(d,w),v=new te(d,d.j,v),v.L=2,v.v=qd(Vs(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=v.v,w=!0),w||(v.g=Vp(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Je(v)}Lp(d)}function Xd(d){d.g&&(jc(d),d.g.cancel(),d.g=null)}function jg(d){Xd(d),d.u&&(a.clearTimeout(d.u),d.u=null),cu(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Yd(d){if(!Oc(d.h)&&!d.s){d.s=!0;var v=d.Ga;hn||Wt(),Pn||(hn(),Pn=!0),Mn.add(v,d),d.B=0}}function $g(d,v){return Gi(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ma(h(d.Ga,d,v),Fp(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;let ee=new te(this,this.j,d),ce=this.o;if(this.S&&(ce?(ce=A(ce),P(ce,this.S)):ce=this.S),this.m!==null||this.O||(ee.H=ce,ce=null),this.P)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=Mp(this,ee,v),w=Vs(this.I),gn(w,"RID",d),gn(w,"CVER",22),this.D&&gn(w,"X-HTTP-Session-Id",this.D),Oa(this,w),ce&&(this.O?v="headers="+encodeURIComponent(String(Og(ce)))+"&"+v:this.m&&Pp(w,this.m,ce)),Ap(this.h,ee),this.Ua&&gn(w,"TYPE","init"),this.P?(gn(w,"$req",v),gn(w,"SID","null"),ee.T=!0,ve(ee,w,null)):ve(ee,w,v),this.G=2}}else this.G==3&&(d?Hg(this,d):this.i.length==0||Oc(this.h)||Hg(this))};function Hg(d,v){var w;v?w=v.l:w=d.U++;let R=Vs(d.I);gn(R,"SID",d.K),gn(R,"RID",w),gn(R,"AID",d.T),Oa(d,R),d.m&&d.o&&Pp(R,d.m,d.o),w=new te(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Mp(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ap(d.h,w),ve(w,R,v)}function Oa(d,v){d.H&&fe(d.H,function(w,R){gn(v,R,w)}),d.l&&Dp({},function(w,R){gn(v,R,w)})}function Mp(d,v,w){w=Math.min(d.i.length,w);var R=d.l?h(d.l.Na,d.l,d):null;e:{var ee=d.i;let ce=-1;for(;;){let Me=["count="+w];ce==-1?0<w?(ce=ee[0].g,Me.push("ofs="+ce)):ce=0:Me.push("ofs="+ce);let Jt=!0;for(let Sr=0;Sr<w;Sr++){let Ut=ee[Sr].g,Lr=ee[Sr].map;if(Ut-=ce,0>Ut)ce=Math.max(0,ee[Sr].g-100),Jt=!1;else try{P1(Lr,Me,"req"+Ut+"_")}catch{R&&R(Lr)}}if(Jt){R=Me.join("&");break e}}}return d=d.i.splice(0,w),v.D=d,R}function Np(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;hn||Wt(),Pn||(hn(),Pn=!0),Mn.add(v,d),d.v=0}}function au(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ma(h(d.Fa,d),Fp(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,zg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ma(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zn(10),Xd(this),zg(this))};function jc(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function zg(d){d.g=new te(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Vs(d.qa);gn(v,"RID","rpc"),gn(v,"SID",d.K),gn(v,"AID",d.T),gn(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&gn(v,"TO",d.ja),gn(v,"TYPE","xmlhttp"),Oa(d,v),d.m&&d.o&&Pp(v,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=qd(Vs(v)),w.m=null,w.P=!0,$e(w,d)}t.Za=function(){this.C!=null&&(this.C=null,Xd(this),au(this),Zn(19))};function cu(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Op(d,v){var w=null;if(d.g==v){cu(d),jc(d),d.g=null;var R=2}else if(Ip(d.h,v))w=v.D,Cg(d.h,v),R=1;else return;if(d.G!=0){if(v.o)if(R==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var ee=d.B;R=Mc(),wn(R,new Nc(R,w)),Yd(d)}else Np(d);else if(ee=v.s,ee==3||ee==0&&0<v.X||!(R==1&&$g(d,v)||R==2&&au(d)))switch(w&&0<w.length&&(v=d.h,v.i=v.i.concat(w)),ee){case 1:Ho(d,5);break;case 4:Ho(d,10);break;case 3:Ho(d,6);break;default:Ho(d,2)}}}function Fp(d,v){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*v}function Ho(d,v){if(d.j.info("Error code "+v),v==2){var w=h(d.fb,d),R=d.Xa;let ee=!R;R=new Wi(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||zd(R,"https"),qd(R),ee?Vc(R.toString(),w):R1(R.toString(),w)}else Zn(2);d.G=0,d.l&&d.l.sa(v),Lp(d),jg(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Zn(2)):(this.j.info("Failed to ping google.com"),Zn(1))};function Lp(d){if(d.G=0,d.ka=[],d.l){let v=Sg(d.h);(v.length!=0||d.i.length!=0)&&(x(d.ka,v),x(d.ka,d.i),d.h.i.length=0,_(d.i),d.i.length=0),d.l.ra()}}function Bp(d,v,w){var R=w instanceof Wi?Vs(w):new Wi(w);if(R.g!="")v&&(R.g=v+"."+R.g),Fc(R,R.s);else{var ee=a.location;R=ee.protocol,v=v?v+"."+ee.hostname:ee.hostname,ee=+ee.port;var ce=new Wi(null);R&&zd(ce,R),v&&(ce.g=v),ee&&Fc(ce,ee),w&&(ce.l=w),R=ce}return w=d.D,v=d.ya,w&&v&&gn(R,w,v),gn(R,"VER",d.la),Oa(d,R),R}function Vp(d,v,w){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new In(new Ki({eb:w})):new In(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Up(){}t=Up.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function lu(){}lu.prototype.g=function(d,v){return new cr(d,v)};function cr(d,v){On.call(this),this.g=new ou(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!H(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!H(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new $c(this)}y(cr,On),cr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cr.prototype.close=function(){Kd(this.g)},cr.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=Zl(d),d=w);v.i.push(new Uo(v.Ya++,d)),v.G==3&&Yd(v)},cr.prototype.N=function(){this.g.l=null,delete this.j,Kd(this.g),delete this.g,cr.aa.N.call(this)};function qg(d){Vo.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(let w in v){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}y(qg,Vo);function Gg(){eu.call(this),this.status=1}y(Gg,eu);function $c(d){this.g=d}y($c,Up),$c.prototype.ua=function(){wn(this.g,"a")},$c.prototype.ta=function(d){wn(this.g,new qg(d))},$c.prototype.sa=function(d){wn(this.g,new Gg)},$c.prototype.ra=function(){wn(this.g,"b")},lu.prototype.createWebChannel=lu.prototype.g,cr.prototype.send=cr.prototype.o,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,bI=hc.createWebChannelTransport=function(){return new lu},EI=hc.getStatEventTarget=function(){return Mc()},wI=hc.Event=ls,sx=hc.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},j.NO_ERROR=0,j.TIMEOUT=8,j.HTTP_ERROR=6,i0=hc.ErrorCode=j,z.COMPLETE="complete",xI=hc.EventType=z,Ud.EventType=Ra,Ra.OPEN="a",Ra.CLOSE="b",Ra.ERROR="c",Ra.MESSAGE="d",On.prototype.listen=On.prototype.K,dh=hc.WebChannel=Ud,nre=hc.FetchXmlHttpFactory=Ki,In.prototype.listenOnce=In.prototype.L,In.prototype.getLastError=In.prototype.Ka,In.prototype.getLastErrorCode=In.prototype.Ba,In.prototype.getStatus=In.prototype.Z,In.prototype.getResponseJson=In.prototype.Oa,In.prototype.getResponseText=In.prototype.oa,In.prototype.send=In.prototype.ea,In.prototype.setWithCredentials=In.prototype.Ha,_I=hc.XhrIo=In}).apply(typeof ix<"u"?ix:typeof self<"u"?self:typeof window<"u"?window:{});var q3="@firebase/firestore";var $r=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$r.UNAUTHENTICATED=new $r(null),$r.GOOGLE_CREDENTIALS=new $r("google-credentials-uid"),$r.FIRST_PARTY=new $r("first-party-uid"),$r.MOCK_USER=new $r("mock-user");var kh="10.14.0";var id=new hl("@firebase/firestore");function s0(){return id.logLevel}function Ke(t,...e){if(id.logLevel<=Lt.DEBUG){let n=e.map(oD);id.debug(`Firestore (${kh}): ${t}`,...n)}}function mc(t,...e){if(id.logLevel<=Lt.ERROR){let n=e.map(oD);id.error(`Firestore (${kh}): ${t}`,...n)}}function yh(t,...e){if(id.logLevel<=Lt.WARN){let n=e.map(oD);id.warn(`Firestore (${kh}): ${t}`,...n)}}function oD(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function at(t="Unexpected state"){let e=`FIRESTORE (${kh}) INTERNAL ASSERTION FAILED: `+t;throw mc(e),new Error(e)}function rn(t,e){t||at()}function ft(t,e){return t}var ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ze=class extends Cs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var da=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ux=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},AI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($r.UNAUTHENTICATED))}shutdown(){}},DI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},kI=class{constructor(e){this.t=e,this.currentUser=$r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rn(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new da;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new da,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>C(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new da)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rn(typeof r.accessToken=="string"),new ux(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return rn(e===null||typeof e=="string"),new $r(e)}},RI=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=$r.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},PI=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new RI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($r.FIRST_PARTY))}shutdown(){}invalidateToken(){}},MI=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},NI=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){rn(this.o===void 0);let r=s=>{s.error!=null&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,Ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rn(typeof n.token=="string"),this.R=n.token,new MI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function rre(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var dx=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=rre(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function qt(t,e){return t<e?-1:t>e?1:0}function _h(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var $n=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ze(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ze(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ze(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var yt=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new $n(0,0))}static max(){return new t(new $n(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var fx=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&at(),r===void 0?r=e.length-n:r>e.length-n&&at(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},jn=class t extends fx{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new ze(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},ire=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Is=class t extends fx{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return ire.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new ze(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new ze(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ze(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ze(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var et=class t{constructor(e){this.path=e}static fromPath(e){return new t(jn.fromString(e))}static fromName(e){return new t(jn.fromString(e).popFirst(5))}static empty(){return new t(jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return jn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new jn(e.slice()))}};var OI=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};OI.UNKNOWN_ID=-1;function sre(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=yt.fromTimestamp(r===1e9?new $n(n+1,0):new $n(n,r));return new sd(i,et.empty(),e)}function ore(t){return new sd(t.readTime,t.key,-1)}var sd=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(yt.min(),et.empty(),-1)}static max(){return new t(yt.max(),et.empty(),-1)}};function are(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=et.comparator(t.documentKey,e.documentKey),n!==0?n:qt(t.largestBatchId,e.largestBatchId))}var cre="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",FI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function C0(t){return C(this,null,function*(){if(t.code!==ye.FAILED_PRECONDITION||t.message!==cre)throw t;Ke("LocalStore","Unexpectedly lost primary lease")})}var ke=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function lre(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function S0(t){return t.name==="IndexedDbTransactionError"}var T4=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function qx(t){return t==null}function d0(t){return t===0&&1/t==-1/0}function ure(t){return typeof t=="number"&&Number.isInteger(t)&&!d0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var dre=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fAe=[...dre,"documentOverlays"],fre=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hre=fre,pre=[...hre,"indexConfiguration","indexState","indexEntries"];var hAe=[...pre,"globals"];function G3(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function dd(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function I4(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Wn=class t{constructor(e,n){this.comparator=e,this.root=n||fa.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fa.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fa.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mh(this.root,e,this.comparator,!0)}},mh=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},fa=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();let e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}};fa.EMPTY=null,fa.RED=!0,fa.BLACK=!1;fa.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(e,n,r,i,s){return this}insert(e,n,r){return new fa(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var _i=class t{constructor(e){this.comparator=e,this.data=new Wn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hx(this.data.getIterator())}getIteratorFrom(e){return new hx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},hx=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Js=class t{constructor(e){this.fields=e,e.sort(Is.comparator)}static empty(){return new t([])}unionWith(e){let n=new _i(Is.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _h(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var px=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var xi=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new px("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};xi.EMPTY_BYTE_STRING=new xi("");var mre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gc(t){if(rn(!!t),typeof t=="string"){let e=0,n=mre.exec(t);if(rn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ln(t.seconds),nanos:Ln(t.nanos)}}function Ln(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function El(t){return typeof t=="string"?xi.fromBase64String(t):xi.fromUint8Array(t)}function aD(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cD(t){let e=t.mapValue.fields.__previous_value__;return aD(e)?cD(e):e}function f0(t){let e=gc(t.mapValue.fields.__local_write_time__.timestampValue);return new $n(e.seconds,e.nanos)}var LI=class{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},mx=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ox={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function od(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?aD(t)?4:D4(t)?9007199254740991:A4(t)?10:11:at()}function ma(t,e){if(t===e)return!0;let n=od(t);if(n!==od(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return f0(t).isEqual(f0(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=gc(i.timestampValue),a=gc(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return El(i.bytesValue).isEqual(El(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ln(i.geoPointValue.latitude)===Ln(s.geoPointValue.latitude)&&Ln(i.geoPointValue.longitude)===Ln(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ln(i.integerValue)===Ln(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ln(i.doubleValue),a=Ln(s.doubleValue);return o===a?d0(o)===d0(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return _h(t.arrayValue.values||[],e.arrayValue.values||[],ma);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(G3(o)!==G3(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!ma(o[c],a[c])))return!1;return!0}(t,e);default:return at()}}function h0(t,e){return(t.values||[]).find(n=>ma(n,e))!==void 0}function xh(t,e){if(t===e)return 0;let n=od(t),r=od(e);if(n!==r)return qt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qt(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ln(s.integerValue||s.doubleValue),c=Ln(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return W3(t.timestampValue,e.timestampValue);case 4:return W3(f0(t),f0(e));case 5:return qt(t.stringValue,e.stringValue);case 6:return function(s,o){let a=El(s),c=El(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=qt(a[l],c[l]);if(u!==0)return u}return qt(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=qt(Ln(s.latitude),Ln(o.latitude));return a!==0?a:qt(Ln(s.longitude),Ln(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return K3(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,l,u;let f=s.fields||{},h=o.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,y=(c=h.value)===null||c===void 0?void 0:c.arrayValue,_=qt(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((u=y?.values)===null||u===void 0?void 0:u.length)||0);return _!==0?_:K3(m,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ox.mapValue&&o===ox.mapValue)return 0;if(s===ox.mapValue)return 1;if(o===ox.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let f=0;f<c.length&&f<u.length;++f){let h=qt(c[f],u[f]);if(h!==0)return h;let m=xh(a[c[f]],l[u[f]]);if(m!==0)return m}return qt(c.length,u.length)}(t.mapValue,e.mapValue);default:throw at()}}function W3(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qt(t,e);let n=gc(t),r=gc(e),i=qt(n.seconds,r.seconds);return i!==0?i:qt(n.nanos,r.nanos)}function K3(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=xh(n[i],r[i]);if(s)return s}return qt(n.length,r.length)}function wh(t){return BI(t)}function BI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=gc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return El(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return et.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=BI(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${BI(n.fields[o])}`;return i+"}"}(t.mapValue):at()}function X3(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function VI(t){return!!t&&"integerValue"in t}function lD(t){return!!t&&"arrayValue"in t}function Y3(t){return!!t&&"nullValue"in t}function Q3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cx(t){return!!t&&"mapValue"in t}function A4(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function a0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return dd(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=a0(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=a0(t.arrayValue.values[n]);return e}return Object.assign({},t)}function D4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ts=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cx(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=a0(n)}setAll(e){let n=Is.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=a0(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());cx(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ma(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cx(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){dd(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(a0(this.value))}};function k4(t){let e=[];return dd(t.fields,(n,r)=>{let i=new Is([n]);if(cx(r)){let s=k4(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Js(e)}var To=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,yt.min(),yt.min(),yt.min(),Ts.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,yt.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,yt.min(),yt.min(),Ts.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,yt.min(),yt.min(),Ts.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ts.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Eh=class{constructor(e,n){this.position=e,this.inclusive=n}};function Z3(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=et.comparator(et.fromName(o.referenceValue),n.key):r=xh(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function J3(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ma(t.position[n],e.position[n]))return!1;return!0}var ad=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function gre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var gx=class{},vr=class t extends gx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jI(e,n,r):n==="array-contains"?new zI(e,r):n==="in"?new qI(e,r):n==="not-in"?new GI(e,r):n==="array-contains-any"?new WI(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $I(e,r):new HI(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xh(n,this.value)):n!==null&&od(this.value)===od(n)&&this.matchesComparison(xh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Io=class t extends gx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return R4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function R4(t){return t.op==="and"}function P4(t){return vre(t)&&R4(t)}function vre(t){for(let e of t.filters)if(e instanceof Io)return!1;return!0}function UI(t){if(t instanceof vr)return t.field.canonicalString()+t.op.toString()+wh(t.value);if(P4(t))return t.filters.map(e=>UI(e)).join(",");{let e=t.filters.map(n=>UI(n)).join(",");return`${t.op}(${e})`}}function M4(t,e){return t instanceof vr?function(r,i){return i instanceof vr&&r.op===i.op&&r.field.isEqual(i.field)&&ma(r.value,i.value)}(t,e):t instanceof Io?function(r,i){return i instanceof Io&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&M4(o,i.filters[a]),!0):!1}(t,e):void at()}function N4(t){return t instanceof vr?function(n){return`${n.field.canonicalString()} ${n.op} ${wh(n.value)}`}(t):t instanceof Io?function(n){return n.op.toString()+" {"+n.getFilters().map(N4).join(" ,")+"}"}(t):"Filter"}var jI=class extends vr{constructor(e,n,r){super(e,n,r),this.key=et.fromName(r.referenceValue)}matches(e){let n=et.comparator(e.key,this.key);return this.matchesComparison(n)}},$I=class extends vr{constructor(e,n){super(e,"in",n),this.keys=O4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},HI=class extends vr{constructor(e,n){super(e,"not-in",n),this.keys=O4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function O4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>et.fromName(r.referenceValue))}var zI=class extends vr{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return lD(n)&&h0(n.arrayValue,this.value)}},qI=class extends vr{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&h0(this.value.arrayValue,n)}},GI=class extends vr{constructor(e,n){super(e,"not-in",n)}matches(e){if(h0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!h0(this.value.arrayValue,n)}},WI=class extends vr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!lD(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>h0(this.value.arrayValue,r))}};var KI=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function e4(t,e=null,n=[],r=[],i=null,s=null,o=null){return new KI(t,e,n,r,i,s,o)}function uD(t){let e=ft(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>UI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),qx(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wh(r)).join(",")),e.ue=n}return e.ue}function dD(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gre(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!M4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!J3(t.startAt,e.startAt)&&J3(t.endAt,e.endAt)}function XI(t){return et.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var bl=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function yre(t,e,n,r,i,s,o,a){return new bl(t,e,n,r,i,s,o,a)}function fD(t){return new bl(t)}function t4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function F4(t){return t.collectionGroup!==null}function c0(t){let e=ft(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new _i(Is.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ad(s,r))}),n.has(Is.keyField().canonicalString())||e.ce.push(new ad(Is.keyField(),r))}return e.ce}function ha(t){let e=ft(t);return e.le||(e.le=_re(e,c0(t))),e.le}function _re(t,e){if(t.limitType==="F")return e4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ad(i.field,s)});let n=t.endAt?new Eh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Eh(t.startAt.position,t.startAt.inclusive):null;return e4(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function YI(t,e){let n=t.filters.concat([e]);return new bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function QI(t,e,n){return new bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gx(t,e){return dD(ha(t),ha(e))&&t.limitType===e.limitType}function L4(t){return`${uD(ha(t))}|lt:${t.limitType}`}function fh(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>N4(i)).join(", ")}]`),qx(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>wh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>wh(i)).join(",")),`Target(${r})`}(ha(t))}; limitType=${t.limitType})`}function Wx(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):et.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of c0(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let l=Z3(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,c0(r),i)||r.endAt&&!function(o,a,c){let l=Z3(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,c0(r),i))}(t,e)}function xre(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function B4(t){return(e,n)=>{let r=!1;for(let i of c0(t)){let s=wre(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function wre(t,e,n){let r=t.field.isKeyField()?et.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?xh(c,l):at()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return at()}}var Cl=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){dd(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return I4(this.inner)}size(){return this.innerSize}};var Ere=new Wn(et.comparator);function vc(){return Ere}var V4=new Wn(et.comparator);function o0(...t){let e=V4;for(let n of t)e=e.insert(n.key,n);return e}function U4(t){let e=V4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function td(){return l0()}function j4(){return l0()}function l0(){return new Cl(t=>t.toString(),(t,e)=>t.isEqual(e))}var bre=new Wn(et.comparator),Cre=new _i(et.comparator);function Bt(...t){let e=Cre;for(let n of t)e=e.add(n);return e}var Sre=new _i(qt);function Tre(){return Sre}function hD(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:d0(e)?"-0":e}}function $4(t){return{integerValue:""+t}}function Ire(t,e){return ure(e)?$4(e):hD(t,e)}var bh=class{constructor(){this._=void 0}};function Are(t,e,n){return t instanceof Ch?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&aD(s)&&(s=cD(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof cd?z4(t,e):t instanceof ld?q4(t,e):function(i,s){let o=H4(i,s),a=n4(o)+n4(i.Pe);return VI(o)&&VI(i.Pe)?$4(a):hD(i.serializer,a)}(t,e)}function Dre(t,e,n){return t instanceof cd?z4(t,e):t instanceof ld?q4(t,e):n}function H4(t,e){return t instanceof Sh?function(r){return VI(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ch=class extends bh{},cd=class extends bh{constructor(e){super(),this.elements=e}};function z4(t,e){let n=G4(e);for(let r of t.elements)n.some(i=>ma(i,r))||n.push(r);return{arrayValue:{values:n}}}var ld=class extends bh{constructor(e){super(),this.elements=e}};function q4(t,e){let n=G4(e);for(let r of t.elements)n=n.filter(i=>!ma(i,r));return{arrayValue:{values:n}}}var Sh=class extends bh{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function n4(t){return Ln(t.integerValue||t.doubleValue)}function G4(t){return lD(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function kre(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof cd&&i instanceof cd||r instanceof ld&&i instanceof ld?_h(r.elements,i.elements,ma):r instanceof Sh&&i instanceof Sh?ma(r.Pe,i.Pe):r instanceof Ch&&i instanceof Ch}(t.transform,e.transform)}var ZI=class{constructor(e,n){this.version=e,this.transformResults=n}},xl=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function lx(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Th=class{};function W4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vx(t.key,xl.none()):new ud(t.key,t.data,xl.none());{let n=t.data,r=Ts.empty(),i=new _i(Is.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ga(t.key,r,new Js(i.toArray()),xl.none())}}function Rre(t,e,n){t instanceof ud?function(i,s,o){let a=i.value.clone(),c=i4(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ga?function(i,s,o){if(!lx(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=i4(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(K4(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function u0(t,e,n,r){return t instanceof ud?function(s,o,a,c){if(!lx(s.precondition,o))return a;let l=s.value.clone(),u=s4(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ga?function(s,o,a,c){if(!lx(s.precondition,o))return a;let l=s4(s.fieldTransforms,c,o),u=o.data;return u.setAll(K4(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return lx(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Pre(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=H4(r.transform,i||null);s!=null&&(n===null&&(n=Ts.empty()),n.set(r.field,s))}return n||null}function r4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_h(r,i,(s,o)=>kre(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ud=class extends Th{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ga=class extends Th{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function K4(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function i4(t,e,n){let r=new Map;rn(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Dre(o,a,n[i]))}return r}function s4(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,Are(s,o,e))}return r}var vx=class extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},JI=class extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var eA=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&Rre(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=u0(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=u0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=j4();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=W4(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Bt())}isEqual(e){return this.batchId===e.batchId&&_h(this.mutations,e.mutations,(n,r)=>r4(n,r))&&_h(this.baseMutations,e.baseMutations,(n,r)=>r4(n,r))}},tA=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){rn(e.mutations.length===r.length);let i=function(){return bre}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var nA=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var rA=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var mr,Ht;function Mre(t){switch(t){default:return at();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function X4(t){if(t===void 0)return mc("GRPC error has no .code"),ye.UNKNOWN;switch(t){case mr.OK:return ye.OK;case mr.CANCELLED:return ye.CANCELLED;case mr.UNKNOWN:return ye.UNKNOWN;case mr.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case mr.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case mr.INTERNAL:return ye.INTERNAL;case mr.UNAVAILABLE:return ye.UNAVAILABLE;case mr.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case mr.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case mr.NOT_FOUND:return ye.NOT_FOUND;case mr.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case mr.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case mr.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case mr.ABORTED:return ye.ABORTED;case mr.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case mr.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case mr.DATA_LOSS:return ye.DATA_LOSS;default:return at()}}(Ht=mr||(mr={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";var o4=null;function Nre(){return new TextEncoder}var Ore=new _l([4294967295,4294967295],0);function a4(t){let e=Nre().encode(t),n=new yI;return n.update(e),new Uint8Array(n.digest())}function c4(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _l([n,r],0),new _l([i,s],0)]}var iA=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new nd(`Invalid padding: ${n}`);if(r<0)throw new nd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new nd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=_l.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(_l.fromNumber(r)));return i.compare(Ore)===1&&(i=new _l([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=a4(e),[r,i]=c4(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=a4(e),[r,i]=c4(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},nd=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var yx=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,p0.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(yt.min(),i,new Wn(qt),vc(),Bt())}},p0=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Bt(),Bt(),Bt())}};var gh=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},_x=class{constructor(e,n){this.targetId=e,this.me=n}},xx=class{constructor(e,n,r=xi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},wx=class{constructor(){this.fe=0,this.ge=u4(),this.pe=xi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Bt(),n=Bt(),r=Bt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:at()}}),new p0(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=u4()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,rn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},sA=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=vc(),this.qe=l4(),this.Qe=new Wn(qt)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:at()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(XI(s))if(r===0){let o=new et(s.path);this.Ue(n,o,To.newNoDocument(o,yt.min()))}else rn(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}o4?.et(function(u,f,h,m,y){var _,x,M,H,K,Q;let ae={localCacheCount:u,existenceFilterCount:f.count,databaseId:h.database,projectId:h.projectId},fe=f.unchangedNames;return fe&&(ae.bloomFilter={applied:y===0,hashCount:(_=fe?.hashCount)!==null&&_!==void 0?_:0,bitmapLength:(H=(M=(x=fe?.bits)===null||x===void 0?void 0:x.bitmap)===null||M===void 0?void 0:M.length)!==null&&H!==void 0?H:0,padding:(Q=(K=fe?.bits)===null||K===void 0?void 0:K.padding)!==null&&Q!==void 0?Q:0,mightContain:D=>{var A;return(A=m?.mightContain(D))!==null&&A!==void 0&&A}}),ae}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=El(r).toUint8Array()}catch(c){if(c instanceof px)return yh("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new iA(o,i,s)}catch(c){return yh(c instanceof nd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&XI(a.target)){let c=new et(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,To.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Bt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new yx(e,n,this.Qe,this.ke,r);return this.ke=vc(),this.qe=l4(),this.Qe=new Wn(qt),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new wx,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new _i(qt),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||Ke("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new wx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function l4(){return new Wn(et.comparator)}function u4(){return new Wn(et.comparator)}var Fre={asc:"ASCENDING",desc:"DESCENDING"},Lre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bre={and:"AND",or:"OR"},oA=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function aA(t,e){return t.useProto3Json||qx(e)?e:{value:e}}function Ex(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Y4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Vre(t,e){return Ex(t,e.toTimestamp())}function pa(t){return rn(!!t),yt.fromTimestamp(function(n){let r=gc(n);return new $n(r.seconds,r.nanos)}(t))}function pD(t,e){return cA(t,e).canonicalString()}function cA(t,e){let n=function(i){return new jn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Q4(t){let e=jn.fromString(t);return rn(nB(e)),e}function lA(t,e){return pD(t.databaseId,e.path)}function CI(t,e){let n=Q4(e);if(n.get(1)!==t.databaseId.projectId)throw new ze(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ze(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new et(J4(n))}function Z4(t,e){return pD(t.databaseId,e)}function Ure(t){let e=Q4(t);return e.length===4?jn.emptyPath():J4(e)}function uA(t){return new jn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function J4(t){return rn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function d4(t,e,n){return{name:lA(t,e),fields:n.value.mapValue.fields}}function jre(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:at()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(rn(u===void 0||typeof u=="string"),xi.fromBase64String(u||"")):(rn(u===void 0||u instanceof Buffer||u instanceof Uint8Array),xi.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let u=l.code===void 0?ye.UNKNOWN:X4(l.code);return new ze(u,l.message||"")}(o);n=new xx(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=CI(t,r.document.name),s=pa(r.document.updateTime),o=r.document.createTime?pa(r.document.createTime):yt.min(),a=new Ts({mapValue:{fields:r.document.fields}}),c=To.newFoundDocument(i,s,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new gh(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=CI(t,r.document),s=r.readTime?pa(r.readTime):yt.min(),o=To.newNoDocument(i,s),a=r.removedTargetIds||[];n=new gh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=CI(t,r.document),s=r.removedTargetIds||[];n=new gh([],s,i,null)}else{if(!("filter"in e))return at();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new rA(i,s),a=r.targetId;n=new _x(a,o)}}return n}function $re(t,e){let n;if(e instanceof ud)n={update:d4(t,e.key,e.value)};else if(e instanceof vx)n={delete:lA(t,e.key)};else if(e instanceof ga)n={update:d4(t,e.key,e.data),updateMask:Qre(e.fieldMask)};else{if(!(e instanceof JI))return at();n={verify:lA(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Ch)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof cd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ld)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw at()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Vre(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:at()}(t,e.precondition)),n}function Hre(t,e){return t&&t.length>0?(rn(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?pa(i.updateTime):pa(s);return o.isEqual(yt.min())&&(o=pa(s)),new ZI(o,i.transformResults||[])}(n,e))):[]}function zre(t,e){return{documents:[Z4(t,e.path)]}}function qre(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Z4(t,i);let s=function(l){if(l.length!==0)return tB(Io.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:hh(h.field),direction:Kre(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=aA(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function Gre(t){let e=Ure(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){rn(r===1);let u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(f){let h=eB(f);return h instanceof Io&&P4(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(y){return new ad(ph(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,qx(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){let h=!!f.before,m=f.values||[];return new Eh(m,h)}(n.startAt));let l=null;return n.endAt&&(l=function(f){let h=!f.before,m=f.values||[];return new Eh(m,h)}(n.endAt)),yre(e,i,o,s,a,"F",c,l)}function Wre(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eB(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ph(n.unaryFilter.field);return vr.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ph(n.unaryFilter.field);return vr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ph(n.unaryFilter.field);return vr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ph(n.unaryFilter.field);return vr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(t):t.fieldFilter!==void 0?function(n){return vr.create(ph(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Io.create(n.compositeFilter.filters.map(r=>eB(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return at()}}(n.compositeFilter.op))}(t):at()}function Kre(t){return Fre[t]}function Xre(t){return Lre[t]}function Yre(t){return Bre[t]}function hh(t){return{fieldPath:t.canonicalString()}}function ph(t){return Is.fromServerFormat(t.fieldPath)}function tB(t){return t instanceof vr?function(n){if(n.op==="=="){if(Q3(n.value))return{unaryFilter:{field:hh(n.field),op:"IS_NAN"}};if(Y3(n.value))return{unaryFilter:{field:hh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Q3(n.value))return{unaryFilter:{field:hh(n.field),op:"IS_NOT_NAN"}};if(Y3(n.value))return{unaryFilter:{field:hh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hh(n.field),op:Xre(n.op),value:n.value}}}(t):t instanceof Io?function(n){let r=n.getFilters().map(i=>tB(i));return r.length===1?r[0]:{compositeFilter:{op:Yre(n.op),filters:r}}}(t):at()}function Qre(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var m0=class t{constructor(e,n,r,i,s=yt.min(),o=yt.min(),a=xi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var dA=class{constructor(e){this.ct=e}};function Zre(t){let e=Gre({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?QI(e,e.limit,"L"):e}var bx=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ln(e.integerValue));else if("doubleValue"in e){let r=Ln(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),d0(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=gc(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(El(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?D4(e)?this.dt(n,Number.MAX_SAFE_INTEGER):A4(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):at()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ln(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),et.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};bx.vt=new bx;var fA=class{constructor(){this.un=new hA}addToCollectionParentIndex(e,n){return this.un.add(n),ke.resolve()}getCollectionParents(e,n){return ke.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ke.resolve()}deleteFieldIndex(e,n){return ke.resolve()}deleteAllFieldIndexes(e){return ke.resolve()}createTargetIndexes(e,n){return ke.resolve()}getDocumentsMatchingTarget(e,n){return ke.resolve(null)}getIndexType(e,n){return ke.resolve(0)}getFieldIndexes(e,n){return ke.resolve([])}getNextCollectionGroupToUpdate(e){return ke.resolve(null)}getMinOffset(e,n){return ke.resolve(sd.min())}getMinOffsetFromCollectionGroup(e,n){return ke.resolve(sd.min())}updateCollectionGroup(e,n,r){return ke.resolve()}updateIndexEntries(e,n){return ke.resolve()}},hA=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _i(jn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _i(jn.comparator)).toArray()}};var mAe=new Uint8Array(0);var ua=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ua.DEFAULT_COLLECTION_PERCENTILE=10,ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ua.DEFAULT=new ua(41943040,ua.DEFAULT_COLLECTION_PERCENTILE,ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ua.DISABLED=new ua(-1,0,0);var g0=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var pA=class{constructor(){this.changes=new Cl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,To.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?ke.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var mA=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var gA=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&u0(r.mutation,i,Js.empty(),$n.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Bt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Bt()){let i=td();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=o0();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=td();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Bt()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=vc(),o=l0(),a=function(){return l0()}();return n.forEach((c,l)=>{let u=r.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof ga)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),u0(u.mutation,l,u.mutation.getFieldMask(),$n.now())):o.set(l.key,Js.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var f;return a.set(l,new mA(u,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let r=l0(),i=new Wn((o,a)=>o-a),s=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let u=r.get(c)||Js.empty();u=a.applyToLocalView(l,u),r.set(c,u);let f=(i.get(a.batchId)||Bt()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,f=j4();u.forEach(h=>{if(!s.has(h)){let m=W4(n.get(h),r.get(h));m!==null&&f.set(h,m),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,f))}return ke.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return et.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):F4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ke.resolve(td()),a=-1,c=s;return o.next(l=>ke.forEach(l,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(u)?ke.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Bt())).next(u=>({batchId:a,changes:U4(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new et(n)).next(r=>{let i=o0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=o0();return this.indexManager.getCollectionParents(e,s).next(a=>ke.forEach(a,c=>{let l=function(f,h){return new bl(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{let u=l.getKey();o.get(u)===null&&(o=o.insert(u,To.newInvalidDocument(u)))});let a=o0();return o.forEach((c,l)=>{let u=s.get(c);u!==void 0&&u0(u.mutation,l,Js.empty(),$n.now()),Wx(n,l)&&(a=a.insert(c,l))}),a})}};var vA=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ke.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:pa(i.createTime)}}(n)),ke.resolve()}getNamedQuery(e,n){return ke.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Zre(i.bundledQuery),readTime:pa(i.readTime)}}(n)),ke.resolve()}};var yA=class{constructor(){this.overlays=new Wn(et.comparator),this.Ir=new Map}getOverlay(e,n){return ke.resolve(this.overlays.get(n))}getOverlays(e,n){let r=td();return ke.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ke.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ke.resolve()}getOverlaysForCollection(e,n,r){let i=td(),s=n.length+1,o=new et(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ke.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Wn((l,u)=>l-u),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);u===null&&(u=td(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=td(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return ke.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nA(n,r));let s=this.Ir.get(n);s===void 0&&(s=Bt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var _A=class{constructor(){this.sessionToken=xi.EMPTY_BYTE_STRING}getSessionToken(e){return ke.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ke.resolve()}};var v0=class{constructor(){this.Tr=new _i(gr.Er),this.dr=new _i(gr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new gr(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new gr(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new et(new jn([])),r=new gr(n,e),i=new gr(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new et(new jn([])),r=new gr(n,e),i=new gr(n,e+1),s=Bt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new gr(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},gr=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return et.comparator(e.key,n.key)||qt(e.wr,n.wr)}static Ar(e,n){return qt(e.wr,n.wr)||et.comparator(e.key,n.key)}};var xA=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new _i(gr.Er)}checkEmpty(e){return ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new eA(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new gr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ke.resolve(o)}lookupMutationBatch(e,n){return ke.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return ke.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new gr(n,0),i=new gr(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),ke.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _i(qt);return n.forEach(i=>{let s=new gr(i,0),o=new gr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),ke.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;et.isDocumentKey(s)||(s=s.child(""));let o=new gr(new et(s),0),a=new _i(qt);return this.br.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.wr)),!0)},o),ke.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){rn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ke.forEach(n.mutations,i=>{let s=new gr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new gr(n,0),i=this.br.firstAfterOrEqual(r);return ke.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ke.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var wA=class{constructor(e){this.Mr=e,this.docs=function(){return new Wn(et.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return ke.resolve(r?r.document.mutableCopy():To.newInvalidDocument(n))}getEntries(e,n){let r=vc();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():To.newInvalidDocument(i))}),ke.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=vc(),o=n.path,a=new et(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||are(ore(u),r)<=0||(i.has(u.key)||Wx(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ke.resolve(s)}getAllFromCollectionGroup(e,n,r,i){at()}Or(e,n){return ke.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new EA(this)}getSize(e){return ke.resolve(this.size)}},EA=class extends pA{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ke.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var bA=class{constructor(e){this.persistence=e,this.Nr=new Cl(n=>uD(n),dD),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new v0,this.targetCount=0,this.kr=g0.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ke.resolve()}getLastRemoteSnapshotVersion(e){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ke.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ke.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new g0(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ke.resolve()}updateTargetData(e,n){return this.Kn(n),ke.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ke.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ke.waitFor(s).next(()=>i)}getTargetCount(e){return ke.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return ke.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ke.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ke.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ke.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return ke.resolve(r)}containsKey(e,n){return ke.resolve(this.Br.containsKey(n))}};var CA=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new T4(0),this.Kr=!1,this.Kr=!0,this.$r=new _A,this.referenceDelegate=e(this),this.Ur=new bA(this),this.indexManager=new fA,this.remoteDocumentCache=function(i){return new wA(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new dA(n),this.Gr=new vA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new xA(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ke("MemoryPersistence","Starting transaction:",e);let i=new SA(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return ke.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},SA=class extends FI{constructor(e){super(),this.currentSequenceNumber=e}},TA=class t{constructor(e){this.persistence=e,this.Jr=new v0,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw at()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ke.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ke.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ke.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.Xr,r=>{let i=et.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,yt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ke.or([()=>ke.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var IA=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Bt(),i=Bt();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var AA=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var DA=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return SL()?8:lre(Ur())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new AA;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(s0()<=Lt.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",fh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ke.resolve()):(s0()<=Lt.DEBUG&&Ke("QueryEngine","Query:",fh(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(s0()<=Lt.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",fh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ha(n))):ke.resolve())}Yi(e,n){if(t4(n))return ke.resolve(null);let r=ha(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=QI(n,null,"F"),r=ha(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Bt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.ts(n,a);return this.ns(n,l,o,c.readTime)?this.Yi(e,QI(n,null,"F")):this.rs(e,l,n,c)}))})))}Zi(e,n,r,i){return t4(n)||i.isEqual(yt.min())?ke.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?ke.resolve(null):(s0()<=Lt.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fh(n)),this.rs(e,o,n,sre(i,-1)).next(a=>a))})}ts(e,n){let r=new _i(B4(e));return n.forEach((i,s)=>{Wx(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return s0()<=Lt.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",fh(n)),this.Ji.getDocumentsMatchingQuery(e,n,sd.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var kA=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Wn(qt),this._s=new Cl(s=>uD(s),dD),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gA(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function Jre(t,e,n,r){return new kA(t,e,n,r)}function rB(t,e){return C(this,null,function*(){let n=ft(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Bt();for(let l of i){o.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of s){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function eie(t,e){let n=ft(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let f=l.batch,h=f.keys(),m=ke.resolve();return h.forEach(y=>{m=m.next(()=>u.getEntry(c,y)).next(_=>{let x=l.docVersions.get(y);rn(x!==null),_.version.compareTo(x)<0&&(f.applyToRemoteDocument(_,l),_.isValidDocument()&&(_.setReadTime(l.commitVersion),u.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Bt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function iB(t){let e=ft(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function tie(t,e){let n=ft(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((u,f)=>{let h=i.get(f);if(!h)return;a.push(n.Ur.removeMatchingKeys(s,u.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,u.addedDocuments,f)));let m=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(xi.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),i=i.insert(f,m),function(_,x,M){return _.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(h,m,u)&&a.push(n.Ur.updateTargetData(s,m))});let c=vc(),l=Bt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(nie(s,o,e.documentUpdates).next(u=>{c=u.Ps,l=u.Is})),!r.isEqual(yt.min())){let u=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return ke.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.os=i,s))}function nie(t,e,n){let r=Bt(),i=Bt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=vc();return n.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(yt.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Ke("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function rie(t,e){let n=ft(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iie(t,e){let n=ft(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,ke.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new m0(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function RA(t,e,n){return C(this,null,function*(){let r=ft(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!S0(o))throw o;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function f4(t,e,n){let r=ft(t),i=yt.min(),s=Bt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){let f=ft(c),h=f._s.get(u);return h!==void 0?ke.resolve(f.os.get(h)):f.Ur.getTargetData(l,u)}(r,o,ha(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:yt.min(),n?s:Bt())).next(a=>(sie(r,xre(e),a),{documents:a,Ts:s})))}function sie(t,e,n){let r=t.us.get(e)||yt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Cx=class{constructor(){this.activeTargetIds=Tre()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var PA=class{constructor(){this.so=new Cx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Cx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var MA=class{_o(e){}shutdown(){}};var Sx=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ax=null;function SI(){return ax===null?ax=function(){return 268435456+Math.round(2147483648*Math.random())}():ax++,"0x"+ax.toString(16)}var oie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var NA=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var yi="WebChannelConnection",OA=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=SI(),c=this.xo(n,r.toUriEncodedString());Ke("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,c,l,i).then(u=>(Ke("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw yh("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kh}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=oie[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=SI();return new Promise((o,a)=>{let c=new _I;c.setWithCredentials(!0),c.listenOnce(xI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case i0.NO_ERROR:let u=c.getResponseJson();Ke(yi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case i0.TIMEOUT:Ke(yi,`RPC '${e}' ${s} timed out`),a(new ze(ye.DEADLINE_EXCEEDED,"Request time out"));break;case i0.HTTP_ERROR:let f=c.getStatus();if(Ke(yi,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let m=h?.error;if(m&&m.status&&m.message){let y=function(x){let M=x.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(M)>=0?M:ye.UNKNOWN}(m.status);a(new ze(y,m.message))}else a(new ze(ye.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ze(ye.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Ke(yi,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);Ke(yi,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=SI(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=bI(),a=EI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let u=s.join("");Ke(yi,`Creating RPC '${e}' stream ${i}: ${u}`,c);let f=o.createWebChannel(u,c),h=!1,m=!1,y=new NA({Io:x=>{m?Ke(yi,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(Ke(yi,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Ke(yi,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},To:()=>f.close()}),_=(x,M,H)=>{x.listen(M,K=>{try{H(K)}catch(Q){setTimeout(()=>{throw Q},0)}})};return _(f,dh.EventType.OPEN,()=>{m||(Ke(yi,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),_(f,dh.EventType.CLOSE,()=>{m||(m=!0,Ke(yi,`RPC '${e}' stream ${i} transport closed`),y.So())}),_(f,dh.EventType.ERROR,x=>{m||(m=!0,yh(yi,`RPC '${e}' stream ${i} transport errored:`,x),y.So(new ze(ye.UNAVAILABLE,"The operation could not be completed")))}),_(f,dh.EventType.MESSAGE,x=>{var M;if(!m){let H=x.data[0];rn(!!H);let K=H,Q=K.error||((M=K[0])===null||M===void 0?void 0:M.error);if(Q){Ke(yi,`RPC '${e}' stream ${i} received error:`,Q);let ae=Q.status,fe=function(T){let P=mr[T];if(P!==void 0)return X4(P)}(ae),D=Q.message;fe===void 0&&(fe=ye.INTERNAL,D="Unknown error status: "+ae+" with message "+Q.message),m=!0,y.So(new ze(fe,D)),f.close()}else Ke(yi,`RPC '${e}' stream ${i} received:`,H),y.bo(H)}}),_(a,wI.STAT_EVENT,x=>{x.stat===sx.PROXY?Ke(yi,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===sx.NOPROXY&&Ke(yi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}};function TI(){return typeof document<"u"?document:null}function Kx(t){return new oA(t,!0)}var Tx=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Ix=class{constructor(e,n,r,i,s,o,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Tx(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return C(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return C(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return C(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ye.RESOURCE_EXHAUSTED?(mc(n.toString()),mc("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new ze(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>C(this,null,function*(){this.state=0,this.start()}))}I_(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},FA=class extends Ix{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=jre(this.serializer,e),r=function(s){if(!("targetChange"in s))return yt.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?yt.min():o.readTime?pa(o.readTime):yt.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=uA(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=XI(c)?{documents:zre(s,c)}:{query:qre(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Y4(s,o.resumeToken);let l=aA(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(yt.min())>0){a.readTime=Ex(s,o.snapshotVersion.toTimestamp());let l=aA(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=Wre(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=uA(this.serializer),n.removeTarget=e,this.a_(n)}},LA=class extends Ix{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return rn(!!e.streamToken),this.lastStreamToken=e.streamToken,rn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){rn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=Hre(e.writeResults,e.commitTime),r=pa(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=uA(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>$re(this.serializer,r))};this.a_(n)}};var BA=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ze(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,cA(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ze(ye.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,cA(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ze(ye.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},VA=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(mc(n),this.D_=!1):Ke("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var UA=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>C(this,null,function*(){fd(this)&&(Ke("RemoteStore","Restarting streams for network reachability change."),yield function(c){return C(this,null,function*(){let l=ft(c);l.L_.add(4),yield T0(l),l.q_.set("Unknown"),l.L_.delete(4),yield Xx(l)})}(this))}))}),this.q_=new VA(r,i)}};function Xx(t){return C(this,null,function*(){if(fd(t))for(let e of t.B_)yield e(!0)})}function T0(t){return C(this,null,function*(){for(let e of t.B_)yield e(!1)})}function sB(t,e){let n=ft(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),yD(n)?vD(n):Rh(n).r_()&&gD(n,e))}function mD(t,e){let n=ft(t),r=Rh(n);n.N_.delete(e),r.r_()&&oB(n,e),n.N_.size===0&&(r.r_()?r.o_():fd(n)&&n.q_.set("Unknown"))}function gD(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rh(t).A_(e)}function oB(t,e){t.Q_.xe(e),Rh(t).R_(e)}function vD(t){t.Q_=new sA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Rh(t).start(),t.q_.v_()}function yD(t){return fd(t)&&!Rh(t).n_()&&t.N_.size>0}function fd(t){return ft(t).L_.size===0}function aB(t){t.Q_=void 0}function aie(t){return C(this,null,function*(){t.q_.set("Online")})}function cie(t){return C(this,null,function*(){t.N_.forEach((e,n)=>{gD(t,e)})})}function lie(t,e){return C(this,null,function*(){aB(t),yD(t)?(t.q_.M_(e),vD(t)):t.q_.set("Unknown")})}function uie(t,e,n){return C(this,null,function*(){if(t.q_.set("Online"),e instanceof xx&&e.state===2&&e.cause)try{yield function(i,s){return C(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ax(t,r)}else if(e instanceof gh?t.Q_.Ke(e):e instanceof _x?t.Q_.He(e):t.Q_.We(e),!n.isEqual(yt.min()))try{let r=yield iB(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=s.N_.get(l);u&&s.N_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let u=s.N_.get(c);if(!u)return;s.N_.set(c,u.withResumeToken(xi.EMPTY_BYTE_STRING,u.snapshotVersion)),oB(s,c);let f=new m0(u.target,c,l,u.sequenceNumber);gD(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){Ke("RemoteStore","Failed to raise snapshot:",r),yield Ax(t,r)}})}function Ax(t,e,n){return C(this,null,function*(){if(!S0(e))throw e;t.L_.add(1),yield T0(t),t.q_.set("Offline"),n||(n=()=>iB(t.localStore)),t.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){Ke("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Xx(t)}))})}function cB(t,e){return e().catch(n=>Ax(t,n,e))}function Yx(t){return C(this,null,function*(){let e=ft(t),n=Sl(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;die(e);)try{let i=yield rie(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,fie(e,i)}catch(i){yield Ax(e,i)}lB(e)&&uB(e)})}function die(t){return fd(t)&&t.O_.length<10}function fie(t,e){t.O_.push(e);let n=Sl(t);n.r_()&&n.V_&&n.m_(e.mutations)}function lB(t){return fd(t)&&!Sl(t).n_()&&t.O_.length>0}function uB(t){Sl(t).start()}function hie(t){return C(this,null,function*(){Sl(t).p_()})}function pie(t){return C(this,null,function*(){let e=Sl(t);for(let n of t.O_)e.m_(n.mutations)})}function mie(t,e,n){return C(this,null,function*(){let r=t.O_.shift(),i=tA.from(r,e,n);yield cB(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Yx(t)})}function gie(t,e){return C(this,null,function*(){e&&Sl(t).V_&&(yield function(r,i){return C(this,null,function*(){if(function(o){return Mre(o)&&o!==ye.ABORTED}(i.code)){let s=r.O_.shift();Sl(r).s_(),yield cB(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Yx(r)}})}(t,e)),lB(t)&&uB(t)})}function h4(t,e){return C(this,null,function*(){let n=ft(t);n.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");let r=fd(n);n.L_.add(3),yield T0(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Xx(n)})}function vie(t,e){return C(this,null,function*(){let n=ft(t);e?(n.L_.delete(2),yield Xx(n)):e||(n.L_.add(2),yield T0(n),n.q_.set("Unknown"))})}function Rh(t){return t.K_||(t.K_=function(n,r,i){let s=ft(n);return s.w_(),new FA(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:aie.bind(null,t),Ro:cie.bind(null,t),mo:lie.bind(null,t),d_:uie.bind(null,t)}),t.B_.push(e=>C(this,null,function*(){e?(t.K_.s_(),yD(t)?vD(t):t.q_.set("Unknown")):(yield t.K_.stop(),aB(t))}))),t.K_}function Sl(t){return t.U_||(t.U_=function(n,r,i){let s=ft(n);return s.w_(),new LA(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:hie.bind(null,t),mo:gie.bind(null,t),f_:pie.bind(null,t),g_:mie.bind(null,t)}),t.B_.push(e=>C(this,null,function*(){e?(t.U_.s_(),yield Yx(t)):(yield t.U_.stop(),t.O_.length>0&&(Ke("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var jA=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function _D(t,e){if(mc("AsyncQueue",`${e}: ${t}`),S0(t))return new ze(ye.UNAVAILABLE,`${e}: ${t}`);throw t}var Dx=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||et.comparator(n.key,r.key):(n,r)=>et.comparator(n.key,r.key),this.keyedMap=o0(),this.sortedSet=new Wn(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var kx=class{constructor(){this.W_=new Wn(et.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):at():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ih=class t{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Dx.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var $A=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},HA=class{constructor(){this.queries=p4(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ft(n),s=i.queries;i.queries=p4(),s.forEach((o,a)=>{for(let c of a.j_)c.onError(r)})})(this,new ze(ye.ABORTED,"Firestore shutting down"))}};function p4(){return new Cl(t=>L4(t),Gx)}function dB(t,e){return C(this,null,function*(){let n=ft(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new $A,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=_D(o,`Initialization of query '${fh(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&xD(n)})}function fB(t,e){return C(this,null,function*(){let n=ft(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function yie(t,e){let n=ft(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&xD(n)}function _ie(t,e,n){let r=ft(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function xD(t){t.Y_.forEach(e=>{e.next()})}var zA,m4;(m4=zA||(zA={})).ea="default",m4.Cache="cache";var Rx=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ih(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ih.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==zA.Cache}};var Px=class{constructor(e){this.key=e}},Mx=class{constructor(e){this.key=e}},qA=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Bt(),this.mutatedKeys=Bt(),this.Aa=B4(e),this.Ra=new Dx(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new kx,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{let h=i.get(u),m=Wx(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),x=!1;h&&m?h.data.isEqual(m.data)?y!==_&&(r.track({type:3,doc:m}),x=!0):this.ga(h,m)||(r.track({type:2,doc:m}),x=!0,(c&&this.Aa(m,c)>0||l&&this.Aa(m,l)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),x=!0):h&&!m&&(r.track({type:1,doc:h}),x=!0,(c||l)&&(a=!0)),x&&(m?(o=o.add(m),s=_?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((u,f)=>function(m,y){let _=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return _(m)-_(y)}(u.type,f.type)||this.Aa(u.doc,f.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,l=c!==this.Ea;return this.Ea=c,o.length!==0||l?{snapshot:new Ih(this.query,e.Ra,s,o,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new kx,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Bt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Mx(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Px(r))}),n}ba(e){this.Ta=e.Ts,this.da=Bt();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ih.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},GA=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},WA=class{constructor(e){this.key=e,this.va=!1}},KA=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Cl(a=>L4(a),Gx),this.Ma=new Map,this.xa=new Set,this.Oa=new Wn(et.comparator),this.Na=new Map,this.La=new v0,this.Ba={},this.ka=new Map,this.qa=g0.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function xie(t,e,n=!0){return C(this,null,function*(){let r=yB(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield hB(r,e,n,!0),i})}function wie(t,e){return C(this,null,function*(){let n=yB(t);yield hB(n,e,!0,!1)})}function hB(t,e,n,r){return C(this,null,function*(){let i=yield iie(t.localStore,ha(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield Eie(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&sB(t.remoteStore,i),a})}function Eie(t,e,n,r,i){return C(this,null,function*(){t.Ka=(f,h,m)=>function(_,x,M,H){return C(this,null,function*(){let K=x.view.ma(M);K.ns&&(K=yield f4(_.localStore,x.query,!1).then(({documents:D})=>x.view.ma(D,K)));let Q=H&&H.targetChanges.get(x.targetId),ae=H&&H.targetMismatches.get(x.targetId)!=null,fe=x.view.applyChanges(K,_.isPrimaryClient,Q,ae);return v4(_,x.targetId,fe.wa),fe.snapshot})}(t,f,h,m);let s=yield f4(t.localStore,e,!0),o=new qA(e,s.Ts),a=o.ma(s.documents),c=p0.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,c);v4(t,n,l.wa);let u=new GA(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function bie(t,e,n){return C(this,null,function*(){let r=ft(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Gx(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield RA(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&mD(r.remoteStore,i.targetId),XA(r,i.targetId)}).catch(C0))):(XA(r,i.targetId),yield RA(r.localStore,i.targetId,!0))})}function Cie(t,e){return C(this,null,function*(){let n=ft(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mD(n.remoteStore,r.targetId))})}function Sie(t,e,n){return C(this,null,function*(){let r=Pie(t);try{let i=yield function(o,a){let c=ft(o),l=$n.now(),u=a.reduce((m,y)=>m.add(y.key),Bt()),f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=vc(),_=Bt();return c.cs.getEntries(m,u).next(x=>{y=x,y.forEach((M,H)=>{H.isValidDocument()||(_=_.add(M))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,y)).next(x=>{f=x;let M=[];for(let H of a){let K=Pre(H,f.get(H.key).overlayedDocument);K!=null&&M.push(new ga(H.key,K,k4(K.value.mapValue),xl.exists(!0)))}return c.mutationQueue.addMutationBatch(m,l,M,a)}).next(x=>{h=x;let M=x.applyToLocalDocumentSet(f,_);return c.documentOverlayCache.saveOverlays(m,x.batchId,M)})}).then(()=>({batchId:h.batchId,changes:U4(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Ba[o.currentUser.toKey()];l||(l=new Wn(qt)),l=l.insert(a,c),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield I0(r,i.changes),yield Yx(r.remoteStore)}catch(i){let s=_D(i,"Failed to persist write");n.reject(s)}})}function pB(t,e){return C(this,null,function*(){let n=ft(t);try{let r=yield tie(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(rn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?rn(o.va):i.removedDocuments.size>0&&(rn(o.va),o.va=!1))}),yield I0(n,r,e)}catch(r){yield C0(r)}})}function g4(t,e,n){let r=ft(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=ft(o);c.onlineState=a;let l=!1;c.queries.forEach((u,f)=>{for(let h of f.j_)h.Z_(a)&&(l=!0)}),l&&xD(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Tie(t,e,n){return C(this,null,function*(){let r=ft(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Wn(et.comparator);o=o.insert(s,To.newNoDocument(s,yt.min()));let a=Bt().add(s),c=new yx(yt.min(),new Map,new Wn(qt),o,a);yield pB(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),wD(r)}else yield RA(r.localStore,e,!1).then(()=>XA(r,e,n)).catch(C0)})}function Iie(t,e){return C(this,null,function*(){let n=ft(t),r=e.batch.batchId;try{let i=yield eie(n.localStore,e);gB(n,r,null),mB(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield I0(n,i)}catch(i){yield C0(i)}})}function Aie(t,e,n){return C(this,null,function*(){let r=ft(t);try{let i=yield function(o,a){let c=ft(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(rn(f!==null),u=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);gB(r,e,n),mB(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield I0(r,i)}catch(i){yield C0(i)}})}function mB(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function gB(t,e,n){let r=ft(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function XA(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||vB(t,r)})}function vB(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(mD(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),wD(t))}function v4(t,e,n){for(let r of n)r instanceof Px?(t.La.addReference(r.key,e),Die(t,r)):r instanceof Mx?(Ke("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||vB(t,r.key)):at()}function Die(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ke("SyncEngine","New document in limbo: "+n),t.xa.add(r),wD(t))}function wD(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new et(jn.fromString(e)),r=t.qa.next();t.Na.set(r,new WA(n)),t.Oa=t.Oa.insert(n,r),sB(t.remoteStore,new m0(ha(fD(n.path)),r,"TargetPurposeLimboResolution",T4.oe))}}function I0(t,e,n){return C(this,null,function*(){let r=ft(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{o.push(r.Ka(c,e,n).then(l=>{var u;if((l||n)&&r.isPrimaryClient){let f=l?!l.fromCache:(u=n?.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(l){i.push(l);let f=IA.Wi(c.targetId,l);s.push(f)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(c,l){return C(this,null,function*(){let u=ft(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ke.forEach(l,h=>ke.forEach(h.$i,m=>u.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>ke.forEach(h.Ui,m=>u.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!S0(f))throw f;Ke("LocalStore","Failed to update sequence numbers: "+f)}for(let f of l){let h=f.targetId;if(!f.fromCache){let m=u.os.get(h),y=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(y);u.os=u.os.insert(h,_)}}})}(r.localStore,s))})}function kie(t,e){return C(this,null,function*(){let n=ft(t);if(!n.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());let r=yield rB(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(c=>{c.reject(new ze(ye.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield I0(n,r.hs)}})}function Rie(t,e){let n=ft(t),r=n.Na.get(e);if(r&&r.va)return Bt().add(r.key);{let i=Bt(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function yB(t){let e=ft(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tie.bind(null,e),e.Ca.d_=yie.bind(null,e.eventManager),e.Ca.$a=_ie.bind(null,e.eventManager),e}function Pie(t){let e=ft(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Iie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Aie.bind(null,e),e}var y4=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return C(this,null,function*(){this.serializer=Kx(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return Jre(this.persistence,new DA,n.initialUser,this.serializer)}Ga(n){return new CA(TA.Zr,this.serializer)}Wa(n){return new PA}terminate(){return C(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var Mie=(()=>{class t{initialize(n,r){return C(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>g4(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=kie.bind(null,this.syncEngine),yield vie(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new HA}()}createDatastore(n){let r=Kx(n.databaseInfo.databaseId),i=function(o){return new OA(o)}(n.databaseInfo);return function(o,a,c,l){return new BA(o,a,c,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,a,c){return new UA(i,s,o,a,c)}(this.localStore,this.datastore,n.asyncQueue,r=>g4(this.syncEngine,r,0),function(){return Sx.D()?new Sx:new MA}())}createSyncEngine(n,r){return function(s,o,a,c,l,u,f){let h=new KA(s,o,a,c,l,u);return f&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var n,r;yield function(s){return C(this,null,function*(){let o=ft(s);Ke("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield T0(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Nx=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):mc("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var YA=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$r.UNAUTHENTICATED,this.clientId=dx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>C(this,null,function*(){Ke("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(Ke("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=_D(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function II(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield rB(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function _4(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Nie(t);Ke("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>h4(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>h4(e.remoteStore,i)),t._onlineComponents=e})}function Nie(t){return C(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield II(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;yh("Error using user provided cache. Falling back to memory cache: "+n),yield II(t,new y4)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),yield II(t,new y4);return t._offlineComponents})}function _B(t){return C(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield _4(t,t._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),yield _4(t,new Mie))),t._onlineComponents})}function Oie(t){return _B(t).then(e=>e.syncEngine)}function QA(t){return C(this,null,function*(){let e=yield _B(t),n=e.eventManager;return n.onListen=xie.bind(null,e.syncEngine),n.onUnlisten=bie.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wie.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Cie.bind(null,e.syncEngine),n})}function Fie(t,e,n={}){let r=new da;return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(s,o,a,c,l){let u=new Nx({next:h=>{u.Za(),o.enqueueAndForget(()=>fB(s,f)),h.fromCache&&c.source==="server"?l.reject(new ze(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),f=new Rx(a,u,{includeMetadataChanges:!0,_a:!0});return dB(s,f)}(yield QA(t),t.asyncQueue,e,n,r)})),r.promise}function xB(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var x4=new Map;function wB(t,e,n){if(!n)throw new ze(ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Lie(t,e,n,r){if(e===!0&&r===!0)throw new ze(ye.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function w4(t){if(!et.isDocumentKey(t))throw new ze(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function E4(t){if(et.isDocumentKey(t))throw new ze(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":at()}function pc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ze(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Qx(t);throw new ze(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Ox=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ze(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ze(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lie("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xB((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ze(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ze(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ze(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ah=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ox({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ze(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ze(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ox(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AI;switch(r.type){case"firstParty":return new PI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ze(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=x4.get(n);r&&(Ke("ComponentProvider","Removing Datastore"),x4.delete(n),r.terminate())}(this),Promise.resolve()}};function EB(t,e,n,r={}){var i;let s=(t=pc(t,Ah))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&yh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=$r.MOCK_USER;else{a=_L(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ze(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new $r(l)}t._authCredentials=new DI(new ux(a,c))}}var Tl=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ts=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},wl=class t extends Tl{constructor(e,n,r){super(e,n,fD(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ts(this.firestore,null,new et(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function bB(t,e,...n){if(t=pr(t),wB("collection","path",e),t instanceof Ah){let r=jn.fromString(e,...n);return E4(r),new wl(t,null,r)}{if(!(t instanceof ts||t instanceof wl))throw new ze(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(jn.fromString(e,...n));return E4(r),new wl(t.firestore,null,r)}}function ED(t,e,...n){if(t=pr(t),arguments.length===1&&(e=dx.newId()),wB("doc","path",e),t instanceof Ah){let r=jn.fromString(e,...n);return w4(r),new ts(t,null,new et(r))}{if(!(t instanceof ts||t instanceof wl))throw new ze(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(jn.fromString(e,...n));return w4(r),new ts(t.firestore,t instanceof wl?t.converter:null,new et(r))}}var Fx=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Tx(this,"async_queue_retry"),this.Vu=()=>{let r=TI();r&&Ke("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=TI();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=TI();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new da;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return C(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!S0(e))throw e;Ke("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw mc("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=jA.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&at()}verifyOperationInProgress(){}wu(){return C(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function b4(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Il=class extends Ah{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Fx,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Fx(e),this._firestoreClient=void 0,yield e}})}};function CB(t,e){let n=typeof t=="object"?t:rh(),r=typeof t=="string"?t:e||"(default)",i=Wm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=yL("firestore");s&&EB(i,...s)}return i}function bD(t){if(t._terminated)throw new ze(ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Bie(t),t._firestoreClient}function Bie(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,l,u){return new LI(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,xB(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new YA(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(t._componentsProvider))}var y0=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(xi.fromBase64String(e))}catch(n){throw new ze(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Dh=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ze(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Is(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var _0=class{constructor(e){this._methodName=e}};var x0=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ze(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ze(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}};var w0=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var Vie=/^__.*__$/,ZA=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ga(e,this.data,this.fieldMask,n,this.fieldTransforms):new ud(e,this.data,n,this.fieldTransforms)}},Lx=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ga(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function SB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}var JA=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Vx(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(SB(this.Cu)&&Vie.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},eD=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kx(e)}Qu(e,n,r,i=!1){return new JA({Cu:e,methodName:n,qu:r,path:Is.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function CD(t){let e=t._freezeSettings(),n=Kx(t._databaseId);return new eD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Uie(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);SD("Data must be an object, but it was:",o,r);let a=TB(r,o),c,l;if(s.merge)c=new Js(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let u=[];for(let f of s.mergeFields){let h=tD(e,f,n);if(!o.contains(h))throw new ze(ye.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);AB(u,h)||u.push(h)}c=new Js(u),l=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=o.fieldTransforms;return new ZA(new Ts(a),c,l)}var Bx=class t extends _0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function jie(t,e,n,r){let i=t.Qu(1,e,n);SD("Data must be an object, but it was:",i,r);let s=[],o=Ts.empty();dd(r,(c,l)=>{let u=TD(e,c,n);l=pr(l);let f=i.Nu(u);if(l instanceof Bx)s.push(u);else{let h=A0(l,f);h!=null&&(s.push(u),o.set(u,h))}});let a=new Js(s);return new Lx(o,a,i.fieldTransforms)}function $ie(t,e,n,r,i,s){let o=t.Qu(1,e,n),a=[tD(e,r,n)],c=[i];if(s.length%2!=0)throw new ze(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(tD(e,s[h])),c.push(s[h+1]);let l=[],u=Ts.empty();for(let h=a.length-1;h>=0;--h)if(!AB(l,a[h])){let m=a[h],y=c[h];y=pr(y);let _=o.Nu(m);if(y instanceof Bx)l.push(m);else{let x=A0(y,_);x!=null&&(l.push(m),u.set(m,x))}}let f=new Js(l);return new Lx(u,f,o.fieldTransforms)}function Hie(t,e,n,r=!1){return A0(n,t.Qu(r?4:3,e))}function A0(t,e){if(IB(t=pr(t)))return SD("Unsupported field value:",e,t),TB(t,e);if(t instanceof _0)return function(r,i){if(!SB(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=A0(a,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=pr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ire(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=$n.fromDate(r);return{timestampValue:Ex(i.serializer,s)}}if(r instanceof $n){let s=new $n(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ex(i.serializer,s)}}if(r instanceof x0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof y0)return{bytesValue:Y4(i.serializer,r._byteString)};if(r instanceof ts){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:pD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof w0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return hD(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Qx(r)}`)}(t,e)}function TB(t,e){let n={};return I4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dd(t,(r,i)=>{let s=A0(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function IB(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $n||t instanceof x0||t instanceof y0||t instanceof ts||t instanceof _0||t instanceof w0)}function SD(t,e,n){if(!IB(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Qx(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function tD(t,e,n){if((e=pr(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return TD(t,e);throw Vx("Field path arguments must be of type string or ",t,!1,void 0,n)}var zie=new RegExp("[~\\*/\\[\\]]");function TD(t,e,n){if(e.search(zie)>=0)throw Vx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dh(...e.split("."))._internalPath}catch{throw Vx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vx(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ze(ye.INVALID_ARGUMENT,a+t+c)}function AB(t,e){return t.some(n=>n.isEqual(e))}var Ux=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ts(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new nD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Zx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},nD=class extends Ux{data(){return super.data()}};function Zx(t,e){return typeof e=="string"?TD(t,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}function DB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ze(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var E0=class{},jx=class extends E0{};function kB(t,e,...n){let r=[];e instanceof E0&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof rD).length,a=s.filter(c=>c instanceof $x).length;if(o>1||o>0&&a>0)throw new ze(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var $x=class t extends jx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return MB(e._query,n),new Tl(e.firestore,e.converter,YI(e._query,n))}_parse(e){let n=CD(e.firestore);return function(s,o,a,c,l,u,f){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ze(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){S4(f,u);let m=[];for(let y of f)m.push(C4(c,s,y));h={arrayValue:{values:m}}}else h=C4(c,s,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||S4(f,u),h=Hie(a,o,f,u==="in"||u==="not-in");return vr.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function RB(t,e,n){let r=e,i=Zx("where",t);return $x._create(i,r,n)}var rD=class t extends E0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Io.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)MB(o,c),o=YI(o,c)}(e._query,n),new Tl(e.firestore,e.converter,YI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var iD=class t extends jx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new ze(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ze(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ad(s,o)}(e._query,this._field,this._direction);return new Tl(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new bl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function PB(t,e="asc"){let n=e,r=Zx("orderBy",t);return iD._create(r,n)}function C4(t,e,n){if(typeof(n=pr(n))=="string"){if(n==="")throw new ze(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F4(e)&&n.indexOf("/")!==-1)throw new ze(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(jn.fromString(n));if(!et.isDocumentKey(r))throw new ze(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return X3(t,new et(r))}if(n instanceof ts)return X3(t,n._key);throw new ze(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qx(n)}.`)}function S4(t,e){if(!Array.isArray(t)||t.length===0)throw new ze(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MB(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ze(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ze(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var sD=class{convertValue(e,n="none"){switch(od(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(El(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw at()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return dd(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ln(o.doubleValue));return new w0(s)}convertGeoPoint(e){return new x0(Ln(e.latitude),Ln(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=cD(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(f0(e));default:return null}}convertTimestamp(e){let n=gc(e);return new $n(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=jn.fromString(e);rn(nB(r));let i=new mx(r.get(1),r.get(3)),s=new et(r.popFirst(5));return i.isEqual(n)||mc(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function qie(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var rd=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Hx=class extends Ux{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Zx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},vh=class extends Hx{data(e={}){return super.data(e)}},zx=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new rd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vh(this._firestore,this._userDataWriter,r.key,r,new rd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ze(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new vh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new rd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new vh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new rd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Gie(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Gie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}var b0=class extends sD{constructor(e){super(),this.firestore=e}convertBytes(e){return new y0(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ts(this.firestore,null,n)}};function NB(t){t=pc(t,Tl);let e=pc(t.firestore,Il),n=bD(e),r=new b0(e);return DB(t._query),Fie(n,t._query).then(i=>new zx(e,r,t,i))}function OB(t,e,n,...r){t=pc(t,ts);let i=pc(t.firestore,Il),s=CD(i),o;return o=typeof(e=pr(e))=="string"||e instanceof Dh?$ie(s,"updateDoc",t._key,e,n,r):jie(s,"updateDoc",t._key,e),LB(i,[o.toMutation(t._key,xl.exists(!0))])}function FB(t,e){let n=pc(t.firestore,Il),r=ED(t),i=qie(t.converter,e);return LB(n,[Uie(CD(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,xl.exists(!1))]).then(()=>r)}function ID(t,...e){var n,r,i;t=pr(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||b4(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(b4(e[o])){let f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,l,u;if(t instanceof ts)l=pc(t.firestore,Il),u=fD(t._key.path),c={next:f=>{e[o]&&e[o](Wie(l,t,f))},error:e[o+1],complete:e[o+2]};else{let f=pc(t,Tl);l=pc(f.firestore,Il),u=f._query;let h=new b0(l);c={next:m=>{e[o]&&e[o](new zx(l,h,f,m))},error:e[o+1],complete:e[o+2]},DB(t._query)}return function(h,m,y,_){let x=new Nx(_),M=new Rx(m,x,y);return h.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return dB(yield QA(h),M)})),()=>{x.Za(),h.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return fB(yield QA(h),M)}))}}(bD(l),u,a,c)}function LB(t,e){return function(r,i){let s=new da;return r.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return Sie(yield Oie(r),i,s)})),s.promise}(bD(t),e)}function Wie(t,e,n){let r=n.docs.get(e._key),i=new b0(t);return new Hx(t,i,e._key,r,new rd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){kh=i})(gl),ml(new Zs("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Il(new kI(r.getProvider("auth-internal")),new NI(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ze(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mx(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Nr(q3,"4.7.3",e),Nr(q3,"4.7.3","esm2017")})();var Jx=function(){return Jx=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jx.apply(this,arguments)};var Yie={includeMetadataChanges:!1};function BB(t,e){return e===void 0&&(e=Yie),new Mt(function(n){var r=ID(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function VB(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Jx(Jx({},r),(n={},n[e.idField]=t.id,n))}function UB(t){return BB(t,{includeMetadataChanges:!0}).pipe(wt(function(e){return e.docs}))}function jB(t,e){return e===void 0&&(e={}),UB(t).pipe(wt(function(n){return n.map(function(r){return VB(r,e)})}))}var nr=class{constructor(e){return e}},$B="firestore",AD=class{constructor(){return Km($B)}};var DD=new We("angularfire2.firestore-instances");function Qie(t,e){let n=L_($B,t,e);return n&&new nr(n)}function Zie(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new nr(r)}}var Jie={provide:AD,deps:[[new Mi,DD]]},ese={provide:nr,useFactory:Qie,deps:[[new Mi,DD],ac]};function HB(t,...e){return Nr("angularfire",Xu.full,"fst"),ea([ese,Jie,{provide:DD,useFactory:Zie(t),multi:!0,deps:[tn,es,oh,Yu,[new Mi,r0],[new Mi,sh],...e]}])}var yc=jr(jB,!0);var Al=jr(FB,!0);var Kn=jr(bB,!0);var _c=jr(ED,!0);var Ph=jr(NB,!0);var zB=jr(CB,!0);var ew=jr(PB,!0);var As=jr(kB,!0);var Ao=jr(OB,!0);var va=jr(RB,!0);var Uk=fu(D0());var Mh={siteKey:"6LdlA38qAAAAAFIPXfhFg9wSLNa9U64m9DoiGTV6"};var tse=new We("recaptcha-language"),nse=new We("recaptcha-base-url"),rse=new We("recaptcha-nonce-tag"),ise=new We("recaptcha-settings"),sse=new We("recaptcha-v3-site-key"),ose=new We("recaptcha-loader-options");function ase(t,e,n,{url:r,lang:i,nonce:s}={}){window.ng2recaptchaloaded=()=>{n(grecaptcha)};let o=document.createElement("script");o.innerHTML="";let{url:a,nonce:c}=e(new URL(r||"https://www.google.com/recaptcha/api.js"));a.searchParams.set("render",t==="explicit"?t:t.key),a.searchParams.set("onload","ng2recaptchaloaded"),a.searchParams.set("trustedtypes","true"),i&&a.searchParams.set("hl",i),o.src=a.href;let l=c||s;l&&o.setAttribute("nonce",l),o.async=!0,o.defer=!0,document.head.appendChild(o)}function cse({v3SiteKey:t,onBeforeLoad:e,onLoaded:n}){let r=t?{key:t}:"explicit";qB.loadScript(r,e,n)}var qB={loadScript:ase,newLoadScript:cse};function lse(t){return t.asObservable().pipe(Zi(e=>e!==null))}var GB=(()=>{class t{static{this.ready=null}constructor(n,r,i,s,o,a){this.platformId=n,this.language=r,this.baseUrl=i,this.nonce=s,this.v3SiteKey=o,this.options=a;let c=this.init();this.ready=c?lse(c):lt()}init(){if(t.ready)return t.ready;if(!HO(this.platformId))return;let n=new er(null);return t.ready=n,qB.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:r=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(r);let i=new URL(this.baseUrl??r);return this.language&&i.searchParams.set("hl",this.language),{url:i,nonce:this.nonce}},onLoaded:r=>{let i=r;this.options?.onLoaded&&(i=this.options.onLoaded(r)),n.next(i)}}),n}static{this.\u0275fac=function(r){return new(r||t)(st(ta),st(tse,8),st(nse,8),st(rse,8),st(sse,8),st(ose,8))}}static{this.\u0275prov=Xe({token:t,factory:t.\u0275fac})}}return t})(),use=0,Nh=(()=>{class t{constructor(n,r,i,s){this.elementRef=n,this.loader=r,this.zone=i,this.id=`ngrecaptcha-${use++}`,this.errorMode="default",this.resolved=new It,this.error=new It,this.errored=new It,s&&(this.siteKey=s.siteKey,this.theme=s.theme,this.type=s.type,this.size=s.size,this.badge=s.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(n=>{n!=null&&n.render instanceof Function&&(this.grecaptcha=n,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){this.size==="invisible"&&(this.widget!=null?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){this.widget!=null&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return this.widget!=null?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(n){this.error.emit(n),this.errored.emit(n)}captchaResponseCallback(n){this.resolved.emit(n)}grecaptchaReset(){this.widget!=null&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){let n={badge:this.badge,callback:r=>{this.zone.run(()=>this.captchaResponseCallback(r))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};this.errorMode==="handled"&&(n["error-callback"]=(...r)=>{this.zone.run(()=>this.onError(r))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,n),this.executeRequested===!0&&(this.executeRequested=!1,this.execute())}static{this.\u0275fac=function(r){return new(r||t)(ge(gs),ge(GB),ge(tn),ge(ise,8))}}static{this.\u0275cmp=Et({type:t,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(r,i){r&2&&Wa("id",i.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return t})(),dse=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ms({type:t})}static{this.\u0275inj=ps({})}}return t})(),Oh=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ms({type:t})}static{this.\u0275inj=ps({providers:[GB],imports:[dse]})}}return t})();var WB=t=>{let e=t.httpHandler;return{setHttpHandler(n){e=n},httpHandler(){return e},updateHttpClientConfig(n,r){e.updateHttpClientConfig(n,r)},httpHandlerConfigs(){return e.httpHandlerConfigs()}}},KB=t=>({httpHandler:t.httpHandler()});var k0=function(t){return t.HTTP="http",t.HTTPS="https",t}(k0||{});var R0=function(t){return t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256",t}(R0||{});var Fh="__smithy_context";var bt=class t{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let n=new t(he(G({},e),{headers:G({},e.headers)}));return n.query&&(n.query=fse(n.query)),n}static isInstance(e){if(!e)return!1;let n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){return t.clone(this)}};function fse(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return he(G({},e),{[n]:Array.isArray(r)?[...r]:r})},{})}var ns=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let n=e;return typeof n.statusCode=="number"&&typeof n.headers=="object"}};function hse(t){return e=>n=>C(this,null,function*(){let{request:r}=n;return bt.isInstance(r)&&r.body&&t.runtime==="node"&&t.requestHandler?.constructor?.name!=="FetchHttpHandler"&&(r.headers=he(G({},r.headers),{Expect:"100-continue"})),e(he(G({},n),{request:r}))})}var pse={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},XB=t=>({applyToStack:e=>{e.add(hse(t),pse)}});var PD={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},MD=PD.WHEN_SUPPORTED;var ND=PD.WHEN_SUPPORTED,An=function(t){return t.MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.SHA1="SHA1",t.SHA256="SHA256",t}(An||{});var YB=An.MD5,QB=An.CRC32;function ZB(t,e,n){return t.$source||(t.$source={}),t.$source[e]=n,t}function Hr(t,e,n){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=n}var OD=t=>ns.isInstance(t)?t.headers?.date??t.headers?.Date:void 0;var Lh=t=>new Date(Date.now()+t);var JB=(t,e)=>Math.abs(Lh(e).getTime()-t)>=3e5;var FD=(t,e)=>{let n=Date.parse(t);return JB(n,e)?n-Date.now():e};var P0=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},tw=t=>C(void 0,null,function*(){let e=P0("context",t.context),n=P0("config",t.config),r=e.endpointV2?.properties?.authSchemes?.[0],s=yield P0("signer",n.signer)(r),o=t?.signingRegion,a=t?.signingRegionSet,c=t?.signingName;return{config:n,signer:s,signingRegion:o,signingRegionSet:a,signingName:c}}),hd=class{sign(e,n,r){return C(this,null,function*(){if(!bt.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let i=yield tw(r),{config:s,signer:o}=i,{signingRegion:a,signingName:c}=i,l=r.context;if(l?.authSchemes?.length??!1){let[f,h]=l.authSchemes;f?.name==="sigv4a"&&h?.name==="sigv4"&&(a=h?.signingRegion??a,c=h?.signingName??c)}return yield o.sign(e,{signingDate:Lh(s.systemClockOffset),signingRegion:a,signingService:c})})}errorHandler(e){return n=>{let r=n.ServerTime??OD(n.$response);if(r){let i=P0("config",e.config),s=i.systemClockOffset;i.systemClockOffset=FD(r,i.systemClockOffset),i.systemClockOffset!==s&&n.$metadata&&(n.$metadata.clockSkewCorrected=!0)}throw n}}successHandler(e,n){let r=OD(e);if(r){let i=P0("config",n.config);i.systemClockOffset=FD(r,i.systemClockOffset)}}};var M0=class extends hd{sign(e,n,r){return C(this,null,function*(){if(!bt.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:i,signer:s,signingRegion:o,signingRegionSet:a,signingName:c}=yield tw(r),u=((yield i.sigv4aSigningRegionSet?.())??a??[o]).join(",");return yield s.sign(e,{signingDate:Lh(i.systemClockOffset),signingRegion:u,signingService:c})})}};var Do=t=>t[Fh]||(t[Fh]={});var ni=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};function vse(t){let e=new Map;for(let n of t)e.set(n.schemeId,n);return e}var LD=(t,e)=>(n,r)=>i=>C(void 0,null,function*(){let s=t.httpAuthSchemeProvider(yield e.httpAuthSchemeParametersProvider(t,r,i.input)),o=vse(t.httpAuthSchemes),a=Do(r),c=[];for(let l of s){let u=o.get(l.schemeId);if(!u){c.push(`HttpAuthScheme \`${l.schemeId}\` was not enabled for this service.`);continue}let f=u.identityProvider(yield e.identityProviderConfigProvider(t));if(!f){c.push(`HttpAuthScheme \`${l.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:h={},signingProperties:m={}}=l.propertiesExtractor?.(t,r)||{};l.identityProperties=Object.assign(l.identityProperties||{},h),l.signingProperties=Object.assign(l.signingProperties||{},m),a.selectedHttpAuthScheme={httpAuthOption:l,identity:yield f(l.identityProperties),signer:u.signer};break}if(!a.selectedHttpAuthScheme)throw new Error(c.join(`
`));return n(i)});var yse={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},eV=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n})=>({applyToStack:r=>{r.addRelativeTo(LD(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n}),yse)}});var tV=(t,e)=>n=>r=>C(void 0,null,function*(){let{response:i}=yield n(r);try{let s=yield e(i,t);return{response:i,output:s}}catch(s){if(Object.defineProperty(s,"$response",{value:i}),!("$metadata"in s)){let o="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";s.message+=`
  `+o,typeof s.$responseBodyText<"u"&&s.$response&&(s.$response.body=s.$responseBodyText)}throw s}});var nV=(t,e)=>(n,r)=>i=>C(void 0,null,function*(){let s=r.endpointV2?.url&&t.urlParser?()=>C(void 0,null,function*(){return t.urlParser(r.endpointV2.url)}):t.endpoint;if(!s)throw new Error("No valid endpoint provider available.");let o=yield e(i.input,he(G({},t),{endpoint:s}));return n(he(G({},i),{request:o}))});var _se={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},N0={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function nw(t,e,n){return{applyToStack:r=>{r.add(tV(t,n),_se),r.add(nV(t,e),N0)}}}var YRe={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:N0.name};var xse=t=>e=>{throw e},wse=(t,e)=>{},rV=t=>(e,n)=>r=>C(void 0,null,function*(){if(!bt.isInstance(r.request))return e(r);let s=Do(n).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=s,l=yield e(he(G({},r),{request:yield c.sign(r.request,a,o)})).catch((c.errorHandler||xse)(o));return(c.successHandler||wse)(l.response,o),l});var BD={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},iV=t=>({applyToStack:e=>{e.addRelativeTo(rV(t),BD)}});var xc=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};var wc={},pd=new Array(64);for(let t=0,e=65,n=90;t+e<=n;t++){let r=String.fromCharCode(t+e);wc[r]=t,pd[t]=r}for(let t=0,e=97,n=122;t+e<=n;t++){let r=String.fromCharCode(t+e),i=t+26;wc[r]=i,pd[i]=r}for(let t=0;t<10;t++){wc[t.toString(10)]=t+52;let e=t.toString(10),n=t+52;wc[e]=n,pd[n]=e}wc["+"]=62;pd[62]="+";wc["/"]=63;pd[63]="/";var kl=6,md=8,sV=63;var Bh=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;let n=new ArrayBuffer(e),r=new DataView(n);for(let i=0;i<t.length;i+=4){let s=0,o=0;for(let l=i,u=i+3;l<=u;l++)if(t[l]!=="="){if(!(t[l]in wc))throw new TypeError(`Invalid character ${t[l]} in base64 string.`);s|=wc[t[l]]<<(u-l)*kl,o+=kl}else s>>=kl;let a=i/4*3;s>>=o%md;let c=Math.floor(o/md);for(let l=0;l<c;l++){let u=(c-l-1)*md;r.setUint8(a+l,(s&255<<u)>>u)}}return new Uint8Array(n)};var Ds=t=>new TextEncoder().encode(t);var _a=t=>typeof t=="string"?Ds(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t);var Vh=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)};function gd(t){let e;typeof t=="string"?e=Ds(t):e=t;let n=typeof e=="object"&&typeof e.length=="number",r=typeof e=="object"&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let s=0;s<e.length;s+=3){let o=0,a=0;for(let l=s,u=Math.min(s+3,e.length);l<u;l++)o|=e[l]<<(u-l-1)*md,a+=md;let c=Math.ceil(a/kl);o<<=c*kl-a;for(let l=1;l<=c;l++){let u=(c-l)*kl;i+=pd[(o&sV<<u)>>u]}i+="==".slice(0,4-c)}return i}function oV(t,e="utf-8"){return e==="base64"?gd(t):Vh(t)}function aV(t,e){return e==="base64"?Ec.mutate(Bh(t)):Ec.mutate(Ds(t))}var Ec=class t extends Uint8Array{static fromString(e,n="utf-8"){switch(typeof e){case"string":return aV(e,n);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,t.prototype),e}transformToString(e="utf-8"){return oV(this,e)}};var cV=(t,e)=>{let{base64Encoder:n,bodyLengthChecker:r,checksumAlgorithmFn:i,checksumLocationName:s,streamHasher:o}=e,a=n!==void 0&&r!==void 0&&i!==void 0&&s!==void 0&&o!==void 0,c=a?o(i,t):void 0,l=t.getReader();return new ReadableStream({pull(f){return C(this,null,function*(){let{value:h,done:m}=yield l.read();if(m){if(f.enqueue(`0\r
`),a){let y=n(yield c);f.enqueue(`${s}:${y}\r
`),f.enqueue(`\r
`)}f.close()}else f.enqueue(`${(r(h)||0).toString(16)}\r
${h}\r
`)})}})};var ko=t=>encodeURIComponent(t).replace(/[!'()*]/g,Ese),Ese=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function VD(t){let e=[];for(let n of Object.keys(t).sort()){let r=t[n];if(n=ko(n),Array.isArray(r))for(let i=0,s=r.length;i<s;i++)e.push(`${n}=${ko(r[i])}`);else{let i=n;(r||typeof r=="string")&&(i+=`=${ko(r)}`),e.push(i)}}return e.join("&")}var lV=t=>C(void 0,null,function*(){return typeof Blob=="function"&&t instanceof Blob?new Uint8Array(yield t.arrayBuffer()):bse(t)});function bse(t){return C(this,null,function*(){let e=[],n=t.getReader(),r=!1,i=0;for(;!r;){let{done:a,value:c}=yield n.read();c&&(e.push(c),i+=c.length),r=a}let s=new Uint8Array(i),o=0;for(let a of e)s.set(a,o),o+=a.length;return s})}var uV={},UD={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),uV[t]=e,UD[e]=t}function rw(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){let r=t.slice(n,n+2).toLowerCase();if(r in UD)e[n/2]=UD[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return e}function rr(t){let e="";for(let n=0;n<t.byteLength;n++)e+=uV[t[n]];return e}var iw=t=>typeof ReadableStream=="function"&&(t?.constructor?.name===ReadableStream.name||t instanceof ReadableStream);var dV="The stream has already been transformed.",hV=t=>{if(!fV(t)&&!iw(t)){let i=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let e=!1,n=()=>C(void 0,null,function*(){if(e)throw new Error(dV);return e=!0,yield lV(t)}),r=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(t,{transformToByteArray:n,transformToString:i=>C(void 0,null,function*(){let s=yield n();if(i==="base64")return gd(s);if(i==="hex")return rr(s);if(i===void 0||i==="utf8"||i==="utf-8")return Vh(s);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(s);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")}),transformToWebStream:()=>{if(e)throw new Error(dV);if(e=!0,fV(t))return r(t);if(iw(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},fV=t=>typeof Blob=="function"&&t instanceof Blob;function pV(t){return C(this,null,function*(){return typeof t.stream=="function"&&(t=t.stream()),t.tee()})}function mV(t,e){return C(this,null,function*(){let n=0,r=[],i=t.getReader(),s=!1;for(;!s;){let{done:c,value:l}=yield i.read();if(l&&(r.push(l),n+=l?.byteLength??0),n>=e)break;s=c}i.releaseLock();let o=new Uint8Array(Math.min(e,n)),a=0;for(let c of r){if(c.byteLength>o.byteLength-a){o.set(c.subarray(0,o.byteLength-a),a);break}else o.set(c,a);a+=c.length}return o})}var O0=(...n)=>C(void 0,[...n],function*(t=new Uint8Array,e){if(t instanceof Uint8Array)return Ec.mutate(t);if(!t)return Ec.mutate(new Uint8Array);let r=e.streamCollector(t);return Ec.mutate(yield r)});function sw(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function ow(t,e){return new jD(t,e)}var jD=class{constructor(e,n){this.input=e,this.context=n,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}build(){return C(this,null,function*(){let{hostname:e,protocol:n="https",port:r,path:i}=yield this.context.endpoint();this.path=i;for(let s of this.resolvePathStack)s(this.path);return new bt({protocol:n,hostname:this.hostname||e,port:r,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(n=>{this.path=`${n?.endsWith("/")?n.slice(0,-1):n||""}`+e}),this}p(e,n,r,i){return this.resolvePathStack.push(s=>{this.path=$D(s,this.input,e,n,r,i)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}};var $D=(t,e,n,r,i,s)=>{if(e!=null&&e[n]!==void 0){let o=r();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");t=t.replace(i,s?o.split("/").map(a=>sw(a)).join("/"):sw(o))}else throw new Error("No value provided for input HTTP label: "+n+".");return t};function gV(t,e,n){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=n}var aw=class{constructor(e){this.authSchemes=new Map;for(let[n,r]of Object.entries(e))r!==void 0&&this.authSchemes.set(n,r)}getIdentityProvider(e){return this.authSchemes.get(e)}};var Cse=t=>e=>HD(e)&&e.expiration.getTime()-Date.now()<t;var vV=Cse(3e5),HD=t=>t.expiration!==void 0,yV=(t,e,n)=>{if(t===void 0)return;let r=typeof t!="function"?()=>C(void 0,null,function*(){return Promise.resolve(t)}):t,i,s,o,a=!1,c=l=>C(void 0,null,function*(){s||(s=r(l));try{i=yield s,o=!0,a=!1}finally{s=void 0}return i});return e===void 0?l=>C(void 0,null,function*(){return(!o||l?.forceRefresh)&&(i=yield c(l)),i}):l=>C(void 0,null,function*(){return(!o||l?.forceRefresh)&&(i=yield c(l)),a?i:n(i)?(e(i)&&(yield c(l)),i):(a=!0,i)})};var _V=(t,e,n)=>{let r,i,s,o=!1,a=()=>C(void 0,null,function*(){i||(i=t());try{r=yield i,s=!0,o=!1}finally{i=void 0}return r});return e===void 0?c=>C(void 0,null,function*(){return(!s||c?.forceRefresh)&&(r=yield a()),r}):c=>C(void 0,null,function*(){return(!s||c?.forceRefresh)&&(r=yield a()),o?r:n&&!n(r)?(o=!0,r):(e(r)&&(yield a()),r)})};var xV=t=>(t.sigv4aSigningRegionSet=xc(t.sigv4aSigningRegionSet),t);var wV="X-Amz-Algorithm",EV="X-Amz-Credential",qD="X-Amz-Date",bV="X-Amz-SignedHeaders",CV="X-Amz-Expires",GD="X-Amz-Signature",WD="X-Amz-Security-Token";var KD="authorization",XD=qD.toLowerCase(),Sse="date",SV=[KD,XD,Sse],TV=GD.toLowerCase(),F0="x-amz-content-sha256",IV=WD.toLowerCase();var AV={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},DV=/^proxy-/,kV=/^sec-/;var cw="AWS4-HMAC-SHA256";var RV="AWS4-HMAC-SHA256-PAYLOAD",PV="UNSIGNED-PAYLOAD",MV=50,YD="aws4_request",NV=60*60*24*7;var lw={},QD=[],uw=(t,e,n)=>`${t}/${e}/${n}/${YD}`,FV=(t,e,n,r,i)=>C(void 0,null,function*(){let s=yield OV(t,e.secretAccessKey,e.accessKeyId),o=`${n}:${r}:${i}:${rr(s)}:${e.sessionToken}`;if(o in lw)return lw[o];for(QD.push(o);QD.length>MV;)delete lw[QD.shift()];let a=`AWS4${e.secretAccessKey}`;for(let c of[n,r,i,YD])a=yield OV(t,a,c);return lw[o]=a});var OV=(t,e,n)=>{let r=new t(e);return r.update(_a(n)),r.digest()};var dw=({headers:t},e,n)=>{let r={};for(let i of Object.keys(t).sort()){if(t[i]==null)continue;let s=i.toLowerCase();(s in AV||e?.has(s)||DV.test(s)||kV.test(s))&&(!n||n&&!n.has(s))||(r[s]=t[i].trim().replace(/\s+/g," "))}return r};var ZD=({query:t={}})=>{let e=[],n={};for(let r of Object.keys(t)){if(r.toLowerCase()===TV)continue;let i=ko(r);e.push(i);let s=t[r];typeof s=="string"?n[i]=`${i}=${ko(s)}`:Array.isArray(s)&&(n[i]=s.slice(0).reduce((o,a)=>o.concat([`${i}=${ko(a)}`]),[]).sort().join("&"))}return e.sort().map(r=>n[r]).filter(r=>r).join("&")};var fw=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]";var L0=(r,i)=>C(void 0,[r,i],function*({headers:t,body:e},n){for(let s of Object.keys(t))if(s.toLowerCase()===F0)return t[s];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||fw(e)){let s=new n;return s.update(_a(e)),rr(yield s.digest())}return PV});var hw=class{format(e){let n=[];for(let s of Object.keys(e)){let o=Ds(s);n.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[s]))}let r=new Uint8Array(n.reduce((s,o)=>s+o.byteLength,0)),i=0;for(let s of n)r.set(s,i),i+=s.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let o=new Uint8Array(s.buffer);return o.set(e.value,3),o;case"string":let a=Ds(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(JD.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!Tse.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let f=new Uint8Array(17);return f[0]=9,f.set(rw(e.value.replace(/\-/g,"")),1),f}}};var Tse=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,JD=class t{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let n=new Uint8Array(8);for(let r=7,i=Math.abs(Math.round(e));r>-1&&i>0;r--,i/=256)n[r]=i;return e<0&&LV(n),new t(n)}valueOf(){let e=this.bytes.slice(0),n=e[0]&128;return n&&LV(e),parseInt(rr(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function LV(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var BV=(t,e)=>{t=t.toLowerCase();for(let n of Object.keys(e))if(t===n.toLowerCase())return!0;return!1};var e2=(t,e={})=>{let{headers:n,query:r={}}=bt.clone(t);for(let i of Object.keys(n)){let s=i.toLowerCase();(s.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(s)||e.hoistableHeaders?.has(s))&&(r[i]=n[i],delete n[i])}return he(G({},t),{headers:n,query:r})};var pw=t=>{t=bt.clone(t);for(let e of Object.keys(t.headers))SV.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t};var VV=t=>Ise(t).toISOString().replace(/\.\d{3}Z$/,"Z"),Ise=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;var vd=class{constructor({applyChecksum:e,credentials:n,region:r,service:i,sha256:s,uriEscapePath:o=!0}){this.headerFormatter=new hw,this.service=i,this.sha256=s,this.uriEscapePath=o,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=ni(r),this.credentialProvider=ni(n)}presign(r){return C(this,arguments,function*(e,n={}){let{signingDate:i=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:a,signableHeaders:c,hoistableHeaders:l,signingRegion:u,signingService:f}=n,h=yield this.credentialProvider();this.validateResolvedCredentials(h);let m=u??(yield this.regionProvider()),{longDate:y,shortDate:_}=mw(i);if(s>NV)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let x=uw(_,m,f??this.service),M=e2(pw(e),{unhoistableHeaders:a,hoistableHeaders:l});h.sessionToken&&(M.query[WD]=h.sessionToken),M.query[wV]=cw,M.query[EV]=`${h.accessKeyId}/${x}`,M.query[qD]=y,M.query[CV]=s.toString(10);let H=dw(M,o,c);return M.query[bV]=UV(H),M.query[GD]=yield this.getSignature(y,x,this.getSigningKey(h,m,_,f),this.createCanonicalRequest(M,H,yield L0(e,this.sha256))),M})}sign(e,n){return C(this,null,function*(){return typeof e=="string"?this.signString(e,n):e.headers&&e.payload?this.signEvent(e,n):e.message?this.signMessage(e,n):this.signRequest(e,n)})}signEvent(a,c){return C(this,arguments,function*({headers:e,payload:n},{signingDate:r=new Date,priorSignature:i,signingRegion:s,signingService:o}){let l=s??(yield this.regionProvider()),{shortDate:u,longDate:f}=mw(r),h=uw(u,l,o??this.service),m=yield L0({headers:{},body:n},this.sha256),y=new this.sha256;y.update(e);let _=rr(yield y.digest()),x=[RV,f,h,i,_,m].join(`
`);return this.signString(x,{signingDate:r,signingRegion:l,signingService:o})})}signMessage(s,o){return C(this,arguments,function*(e,{signingDate:n=new Date,signingRegion:r,signingService:i}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:n,signingRegion:r,signingService:i,priorSignature:e.priorSignature}).then(c=>({message:e.message,signature:c}))})}signString(s){return C(this,arguments,function*(e,{signingDate:n=new Date,signingRegion:r,signingService:i}={}){let o=yield this.credentialProvider();this.validateResolvedCredentials(o);let a=r??(yield this.regionProvider()),{shortDate:c}=mw(n),l=new this.sha256(yield this.getSigningKey(o,a,c,i));return l.update(_a(e)),rr(yield l.digest())})}signRequest(a){return C(this,arguments,function*(e,{signingDate:n=new Date,signableHeaders:r,unsignableHeaders:i,signingRegion:s,signingService:o}={}){let c=yield this.credentialProvider();this.validateResolvedCredentials(c);let l=s??(yield this.regionProvider()),u=pw(e),{longDate:f,shortDate:h}=mw(n),m=uw(h,l,o??this.service);u.headers[XD]=f,c.sessionToken&&(u.headers[IV]=c.sessionToken);let y=yield L0(u,this.sha256);!BV(F0,u.headers)&&this.applyChecksum&&(u.headers[F0]=y);let _=dw(u,i,r),x=yield this.getSignature(f,m,this.getSigningKey(c,l,h,o),this.createCanonicalRequest(u,_,y));return u.headers[KD]=`${cw} Credential=${c.accessKeyId}/${m}, SignedHeaders=${UV(_)}, Signature=${x}`,u})}createCanonicalRequest(e,n,r){let i=Object.keys(n).sort();return`${e.method}
${this.getCanonicalPath(e)}
${ZD(e)}
${i.map(s=>`${s}:${n[s]}`).join(`
`)}

${i.join(";")}
${r}`}createStringToSign(e,n,r){return C(this,null,function*(){let i=new this.sha256;i.update(_a(r));let s=yield i.digest();return`${cw}
${e}
${n}
${rr(s)}`})}getCanonicalPath({path:e}){if(this.uriEscapePath){let n=[];for(let s of e.split("/"))s?.length!==0&&s!=="."&&(s===".."?n.pop():n.push(s));let r=`${e?.startsWith("/")?"/":""}${n.join("/")}${n.length>0&&e?.endsWith("/")?"/":""}`;return ko(r).replace(/%2F/g,"/")}return e}getSignature(e,n,r,i){return C(this,null,function*(){let s=yield this.createStringToSign(e,n,i),o=new this.sha256(yield r);return o.update(_a(s)),rr(yield o.digest())})}getSigningKey(e,n,r,i){return FV(this.sha256,e,r,n,i||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},mw=t=>{let e=VV(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},UV=t=>Object.keys(t).sort().join(";");var jV=t=>{let e=!1,n;t.credentials&&(e=!0,n=yV(t.credentials,vV,HD)),n||(t.credentialDefaultProvider?n=xc(t.credentialDefaultProvider(Object.assign({},t,{parentClientConfig:t}))):n=()=>C(void 0,null,function*(){throw new Error("`credentials` is missing")}));let{signingEscapePath:r=!0,systemClockOffset:i=t.systemClockOffset||0,sha256:s}=t,o;return t.signer?o=xc(t.signer):t.regionInfoProvider?o=()=>xc(t.region)().then(a=>C(void 0,null,function*(){return[(yield t.regionInfoProvider(a,{useFipsEndpoint:yield t.useFipsEndpoint(),useDualstackEndpoint:yield t.useDualstackEndpoint()}))||{},a]})).then(([a,c])=>{let{signingRegion:l,signingService:u}=a;t.signingRegion=t.signingRegion||l||c,t.signingName=t.signingName||u||t.serviceId;let f=he(G({},t),{credentials:n,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:r}),h=t.signerConstructor||vd;return new h(f)}):o=a=>C(void 0,null,function*(){a=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:yield xc(t.region)(),properties:{}},a);let c=a.signingRegion,l=a.signingName;t.signingRegion=t.signingRegion||c,t.signingName=t.signingName||l||t.serviceId;let u=he(G({},t),{credentials:n,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:r}),f=t.signerConstructor||vd;return new f(u)}),he(G({},t),{systemClockOffset:i,signingEscapePath:r,credentials:e?()=>C(void 0,null,function*(){return n().then(a=>ZB(a,"CREDENTIALS_CODE","e"))}):n,signer:o})};var yd=(t,e)=>{let n=[];if(t&&n.push(t),e)for(let r of e)n.push(r);return n},Rl=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,Uh=()=>{let t=[],e=[],n=!1,r=new Set,i=f=>f.sort((h,m)=>$V[m.step]-$V[h.step]||HV[m.priority||"normal"]-HV[h.priority||"normal"]),s=f=>{let h=!1,m=y=>{let _=yd(y.name,y.aliases);if(_.includes(f)){h=!0;for(let x of _)r.delete(x);return!1}return!0};return t=t.filter(m),e=e.filter(m),h},o=f=>{let h=!1,m=y=>{if(y.middleware===f){h=!0;for(let _ of yd(y.name,y.aliases))r.delete(_);return!1}return!0};return t=t.filter(m),e=e.filter(m),h},a=f=>(t.forEach(h=>{f.add(h.middleware,G({},h))}),e.forEach(h=>{f.addRelativeTo(h.middleware,G({},h))}),f.identifyOnResolve?.(u.identifyOnResolve()),f),c=f=>{let h=[];return f.before.forEach(m=>{m.before.length===0&&m.after.length===0?h.push(m):h.push(...c(m))}),h.push(f),f.after.reverse().forEach(m=>{m.before.length===0&&m.after.length===0?h.push(m):h.push(...c(m))}),h},l=(f=!1)=>{let h=[],m=[],y={};return t.forEach(x=>{let M=he(G({},x),{before:[],after:[]});for(let H of yd(M.name,M.aliases))y[H]=M;h.push(M)}),e.forEach(x=>{let M=he(G({},x),{before:[],after:[]});for(let H of yd(M.name,M.aliases))y[H]=M;m.push(M)}),m.forEach(x=>{if(x.toMiddleware){let M=y[x.toMiddleware];if(M===void 0){if(f)return;throw new Error(`${x.toMiddleware} is not found when adding ${Rl(x.name,x.aliases)} middleware ${x.relation} ${x.toMiddleware}`)}x.relation==="after"&&M.after.push(x),x.relation==="before"&&M.before.push(x)}}),i(h).map(c).reduce((x,M)=>(x.push(...M),x),[])},u={add:(f,h={})=>{let{name:m,override:y,aliases:_}=h,x=G({step:"initialize",priority:"normal",middleware:f},h),M=yd(m,_);if(M.length>0){if(M.some(H=>r.has(H))){if(!y)throw new Error(`Duplicate middleware name '${Rl(m,_)}'`);for(let H of M){let K=t.findIndex(ae=>ae.name===H||ae.aliases?.some(fe=>fe===H));if(K===-1)continue;let Q=t[K];if(Q.step!==x.step||x.priority!==Q.priority)throw new Error(`"${Rl(Q.name,Q.aliases)}" middleware with ${Q.priority} priority in ${Q.step} step cannot be overridden by "${Rl(m,_)}" middleware with ${x.priority} priority in ${x.step} step.`);t.splice(K,1)}}for(let H of M)r.add(H)}t.push(x)},addRelativeTo:(f,h)=>{let{name:m,override:y,aliases:_}=h,x=G({middleware:f},h),M=yd(m,_);if(M.length>0){if(M.some(H=>r.has(H))){if(!y)throw new Error(`Duplicate middleware name '${Rl(m,_)}'`);for(let H of M){let K=e.findIndex(ae=>ae.name===H||ae.aliases?.some(fe=>fe===H));if(K===-1)continue;let Q=e[K];if(Q.toMiddleware!==x.toMiddleware||Q.relation!==x.relation)throw new Error(`"${Rl(Q.name,Q.aliases)}" middleware ${Q.relation} "${Q.toMiddleware}" middleware cannot be overridden by "${Rl(m,_)}" middleware ${x.relation} "${x.toMiddleware}" middleware.`);e.splice(K,1)}}for(let H of M)r.add(H)}e.push(x)},clone:()=>a(Uh()),use:f=>{f.applyToStack(u)},remove:f=>typeof f=="string"?s(f):o(f),removeByTag:f=>{let h=!1,m=y=>{let{tags:_,name:x,aliases:M}=y;if(_&&_.includes(f)){let H=yd(x,M);for(let K of H)r.delete(K);return h=!0,!1}return!0};return t=t.filter(m),e=e.filter(m),h},concat:f=>{let h=a(Uh());return h.use(f),h.identifyOnResolve(n||h.identifyOnResolve()||(f.identifyOnResolve?.()??!1)),h},applyToStack:a,identify:()=>l(!0).map(f=>{let h=f.step??f.relation+" "+f.toMiddleware;return Rl(f.name,f.aliases)+" - "+h}),identifyOnResolve(f){return typeof f=="boolean"&&(n=f),n},resolve:(f,h)=>{for(let m of l().map(y=>y.middleware).reverse())f=m(f,h);return n&&console.log(u.identify()),f}};return u},$V={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},HV={high:3,normal:2,low:1};var gw=class{constructor(e){this.config=e,this.middlewareStack=Uh()}send(e,n,r){let i=typeof n!="function"?n:void 0,s=typeof n=="function"?n:r,o=i===void 0&&this.config.cacheMiddleware===!0,a;if(o){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(e.constructor)?a=c.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,i),c.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,i);if(s)a(e).then(c=>s(null,c.output),c=>s(c)).catch(()=>{});else return a(e).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}};var _d=class{constructor(){this.middlewareStack=Uh()}static classBuilder(){return new t2}resolveMiddlewareWithContext(e,n,r,{middlewareFn:i,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:u,CommandCtor:f}){for(let x of i.bind(this)(f,e,n,r))this.middlewareStack.use(x);let h=e.concat(this.middlewareStack),{logger:m}=n,y=G({logger:m,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[Fh]:G({commandInstance:this},l)},u),{requestHandler:_}=n;return h.resolve(x=>_.handle(x.request,r||{}),y)}},t2=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,n,r={}){return this._smithyContext=G({service:e,operation:n},r),this}c(e={}){return this._additionalContext=e,this}n(e,n){return this._clientName=e,this._commandName=n,this}f(e=r=>r,n=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=n,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){let e=this,n;return n=class extends _d{static getEndpointParameterInstructions(){return e._ep}constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this)}resolveMiddleware(r,i,s){return this.resolveMiddlewareWithContext(r,i,s,{CommandCtor:n,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}};var ks="***SensitiveInformation***";var n2=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}};var Ase=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&JV.warn(ZV(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},Dse=Math.ceil(34028234663852886e22),zV=t=>{let e=Ase(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>Dse)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},kse=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}};var qV=t=>WV(t,16),GV=t=>WV(t,8),WV=(t,e)=>{let n=kse(t);if(n!==void 0&&Rse(n,e)!==n)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return n},Rse=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},r2=(t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t},KV=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;let e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},jh=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return JV.warn(ZV(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}};var XV=t=>zV(typeof t=="string"?i2(t):t),Pse=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,i2=t=>{let e=t.match(Pse);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)};var YV=t=>qV(typeof t=="string"?i2(t):t),QV=t=>GV(typeof t=="string"?i2(t):t),ZV=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),JV={warn:console.warn};var Mse=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e6=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function t6(t){let e=t.getUTCFullYear(),n=t.getUTCMonth(),r=t.getUTCDay(),i=t.getUTCDate(),s=t.getUTCHours(),o=t.getUTCMinutes(),a=t.getUTCSeconds(),c=i<10?`0${i}`:`${i}`,l=s<10?`0${s}`:`${s}`,u=o<10?`0${o}`:`${o}`,f=a<10?`0${a}`:`${a}`;return`${Mse[r]}, ${c} ${e6[n]} ${e} ${l}:${u}:${f} GMT`}var IFe=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var Nse=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),n6=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=Nse.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[n,r,i,s,o,a,c,l,u]=e,f=YV(r6(r)),h=B0(i,"month",1,12),m=B0(s,"day",1,31),y=Ose(f,h,m,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l});return u.toUpperCase()!="Z"&&y.setTime(y.getTime()-Use(u)),y},AFe=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),DFe=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),kFe=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/);var Ose=(t,e,n,r)=>{let i=e-1;return Lse(t,i,n),new Date(Date.UTC(t,i,n,B0(r.hours,"hour",0,23),B0(r.minutes,"minute",0,59),B0(r.seconds,"seconds",0,60),Vse(r.fractionalMilliseconds)))};var RFe=50*365*24*60*60*1e3;var Fse=[31,28,31,30,31,30,31,31,30,31,30,31],Lse=(t,e,n)=>{let r=Fse[e];if(e===1&&Bse(t)&&(r=29),n>r)throw new TypeError(`Invalid day for ${e6[e]} in ${t}: ${n}`)},Bse=t=>t%4===0&&(t%100!==0||t%400===0),B0=(t,e,n,r)=>{let i=QV(r6(t));if(i<n||i>r)throw new TypeError(`${e} must be between ${n} and ${r}, inclusive`);return i},Vse=t=>t==null?0:XV("0."+t)*1e3,Use=t=>{let e=t[0],n=1;if(e=="+")n=1;else if(e=="-")n=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let r=Number(t.substring(1,3)),i=Number(t.substring(4,6));return n*(r*60+i)*60*1e3},r6=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)};var vw=class t extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,t.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}},eo=(t,e={})=>{Object.entries(e).filter(([,r])=>r!==void 0).forEach(([r,i])=>{(t[r]==null||t[r]==="")&&(t[r]=i)});let n=t.message||t.Message||"UnknownError";return t.message=n,delete t.Message,t};var jse=({output:t,parsedBody:e,exceptionCtor:n,errorCode:r})=>{let i=$se(t),s=i.httpStatusCode?i.httpStatusCode+"":void 0,o=new n({name:e?.code||e?.Code||r||s||"UnknownError",$fault:"client",$metadata:i});throw eo(o,e)},i6=t=>({output:e,parsedBody:n,errorCode:r})=>{jse({output:e,parsedBody:n,exceptionCtor:t,errorCode:r})},$se=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]});var s6=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};var o6=t=>{let e=[];for(let n in R0){let r=R0[n];t[r]!==void 0&&e.push({algorithmId:()=>r,checksumConstructor:()=>t[r]})}return{_checksumAlgorithms:e,addChecksumAlgorithm(n){this._checksumAlgorithms.push(n)},checksumAlgorithms(){return this._checksumAlgorithms}}},a6=t=>{let e={};return t.checksumAlgorithms().forEach(n=>{e[n.algorithmId()]=n.checksumConstructor()}),e};var c6=t=>{let e=t.retryStrategy;return{setRetryStrategy(n){e=n},retryStrategy(){return e}}},l6=t=>{let e={};return e.retryStrategy=t.retryStrategy(),e};var u6=t=>G(G({},o6(t)),c6(t));var d6=t=>G(G({},a6(t)),l6(t));var s2=t=>{let e="#text";for(let n in t)t.hasOwnProperty(n)&&t[n][e]!==void 0?t[n]=t[n][e]:typeof t[n]=="object"&&t[n]!==null&&(t[n]=s2(t[n]));return t};var Pl=t=>t!=null;var o2=function(){let t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),n=new e;return Object.setPrototypeOf(n,t.prototype),n};o2.prototype=Object.create(String.prototype,{constructor:{value:o2,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(o2,String);var Ml=class{trace(){}debug(){}info(){}warn(){}error(){}};function ri(t,e,n){let r,i,s;if(typeof e>"u"&&typeof n>"u")r={},s=t;else{if(r=t,typeof e=="function")return i=e,s=n,Hse(r,i,s);s=e}for(let o of Object.keys(s)){if(!Array.isArray(s[o])){r[o]=s[o];continue}zse(r,null,s,o)}return r}var Hse=(t,e,n)=>ri(t,Object.entries(n).reduce((r,[i,s])=>(Array.isArray(s)?r[i]=s:typeof s=="function"?r[i]=[e,s()]:r[i]=[e,s],r),{})),zse=(t,e,n,r)=>{if(e!==null){let o=n[r];typeof o=="function"&&(o=[,o]);let[a=qse,c=Gse,l=r]=o;(typeof a=="function"&&a(e[l])||typeof a!="function"&&a)&&(t[r]=c(e[l]));return}let[i,s]=n[r];if(typeof s=="function"){let o,a=i===void 0&&(o=s())!=null,c=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;a?t[r]=o:c&&(t[r]=s())}else{let o=i===void 0&&s!=null,a=typeof i=="function"&&!!i(s)||typeof i!="function"&&!!i;(o||a)&&(t[r]=s)}},qse=t=>t!=null,Gse=t=>t;var f6=t=>t.toISOString().replace(".000Z","Z");var h6=(t,e)=>O0(t,e).then(n=>e.utf8Encoder(n));var G6=fu(q6());var m2=(t,e)=>h6(t,e).then(n=>{if(n.length){let r=new G6.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let i;try{i=r.parse(n,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:n}),c}let s="#text",o=Object.keys(i)[0],a=i[o];return a[s]&&(a[o]=a[s],delete a[s]),s2(a)}return{}}),W6=(t,e)=>C(void 0,null,function*(){let n=yield m2(t,e);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n}),K6=(t,e)=>{if(e?.Error?.Code!==void 0)return e.Error.Code;if(e?.Code!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"};var j0=[An.CRC32,An.CRC32C,An.SHA1,An.SHA256],X6=[An.SHA256,An.SHA1,An.CRC32,An.CRC32C];var Y6=(t,{requestChecksumRequired:e,requestAlgorithmMember:n},r)=>{let i=r?QB:YB;if(!n||!t[n])return e?i:void 0;let s=t[n];if(!j0.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${j0}.`);return s};var $h=t=>t===An.MD5?"content-md5":`x-amz-checksum-${t.toLowerCase()}`;var Q6=(t,e)=>{let n=t.toLowerCase();for(let r of Object.keys(e))if(n===r.toLowerCase())return!0;return!1};var Hh=t=>t!==void 0&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!fw(t);var g2=t=>new TextEncoder().encode(t);var tae=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:g2;function Li(t){return t instanceof Uint8Array?t:typeof t=="string"?tae(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function xa(t){return typeof t=="string"?t.length===0:t.byteLength===0}function $0(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}function H0(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),n=0;n<t.length;)e[n]=t[n],n+=1;return e}return Uint32Array.from(t)}var v2=function(){function t(){this.crc32=new wd}return t.prototype.update=function(e){xa(e)||this.crc32.update(Li(e))},t.prototype.digest=function(){return zc(this,void 0,void 0,function(){return df(this,function(e){return[2,$0(this.crc32.digest())]})})},t.prototype.reset=function(){this.crc32=new wd},t}();var wd=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var n,r;try{for(var i=uf(e),s=i.next();!s.done;s=i.next()){var o=s.value;this.checksum=this.checksum>>>8^rae[(this.checksum^o)&255]}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();var nae=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],rae=H0(nae);var _2=function(){function t(){this.crc32c=new y2}return t.prototype.update=function(e){xa(e)||this.crc32c.update(Li(e))},t.prototype.digest=function(){return zc(this,void 0,void 0,function(){return df(this,function(e){return[2,$0(this.crc32c.digest())]})})},t.prototype.reset=function(){this.crc32c=new y2},t}();var y2=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var n,r;try{for(var i=uf(e),s=i.next();!s.done;s=i.next()){var o=s.value;this.checksum=this.checksum>>>8^sae[(this.checksum^o)&255]}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();var iae=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],sae=H0(iae);var _w=(t,e)=>({[An.MD5]:e.md5,[An.CRC32]:v2,[An.CRC32C]:_2,[An.SHA1]:e.sha1,[An.SHA256]:e.sha256})[t];var xw=(t,e)=>{let n=new t;return n.update(_a(e||"")),n.digest()};var Z6={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},J6=(t,e)=>(n,r)=>i=>C(void 0,null,function*(){if(!bt.isInstance(i.request))return n(i);let{request:s}=i,{body:o,headers:a}=s,{base64Encoder:c,streamHasher:l}=t,{input:u,requestChecksumRequired:f,requestAlgorithmMember:h}=e,m=Y6(u,{requestChecksumRequired:f,requestAlgorithmMember:h},!!r.isS3ExpressBucket),y=o,_=a;if(m){switch(m){case An.CRC32:Hr(r,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case An.CRC32C:Hr(r,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case An.SHA1:Hr(r,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case An.SHA256:Hr(r,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}let M=$h(m),H=_w(m,t);if(Hh(o)){let{getAwsChunkedEncodingStream:K,bodyLengthChecker:Q}=t;y=K(o,{base64Encoder:c,bodyLengthChecker:Q,checksumLocationName:M,checksumAlgorithmFn:H,streamHasher:l}),_=he(G({},a),{"content-encoding":a["content-encoding"]?`${a["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":a["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":M}),delete _["content-length"]}else if(!Q6(M,a)){let K=yield xw(H,o);_=he(G({},a),{[M]:c(K)})}}return yield n(he(G({},i),{request:he(G({},s),{headers:_,body:y})}))});var ww=(t=[])=>{let e=[];for(let n of X6)!t.includes(n)||!j0.includes(n)||e.push(n);return e};var e8=t=>{let e=t.lastIndexOf("-");if(e!==-1){let n=t.slice(e+1);if(!n.startsWith("0")){let r=parseInt(n,10);if(!isNaN(r)&&r>=1&&r<=1e4)return!0}}return!1};function x2(t){return new Blob([t]).stream()}var t8=(i,s)=>C(void 0,[i,s],function*(t,{streamHasher:e,checksumAlgorithmFn:n,base64Encoder:r}){let o=Hh(t)?e(n,t):xw(n,t);return r(yield o)});var n8=(r,i)=>C(void 0,[r,i],function*(t,{config:e,responseAlgorithms:n}){let s=ww(n),{body:o,headers:a}=t;for(let c of s){let l=$h(c),u=a[l];if(u){let f=_w(c,e),{streamHasher:h,base64Encoder:m}=e,y=yield t8(o,{streamHasher:h,checksumAlgorithmFn:f,base64Encoder:m});if(y===u)break;throw new Error(`Checksum mismatch: expected "${y}" but received "${u}" in response header "${l}".`)}}});var r8={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},i8=(t,e)=>(n,r)=>i=>C(void 0,null,function*(){if(!bt.isInstance(i.request))return n(i);let s=i.input,o=yield n(i),a=o.response,c,{requestValidationModeMember:l,responseAlgorithms:u}=e;if(l&&s[l]==="ENABLED"){let{clientName:f,commandName:h}=r;if(f==="S3Client"&&h==="GetObjectCommand"&&ww(u).every(_=>{let x=$h(_),M=a.headers[x];return!M||e8(M)}))return o;let y=Hh(a.body);y&&(c=yield t.streamCollector(a.body),a.body=x2(c)),yield n8(o.response,{config:t,responseAlgorithms:u}),y&&c&&(a.body=x2(c))}return o});var s8=(t,e)=>({applyToStack:n=>{n.add(J6(t,e),Z6),n.addRelativeTo(i8(t,e),r8)}});var o8=t=>he(G({},t),{requestChecksumCalculation:ni(t.requestChecksumCalculation??MD),responseChecksumValidation:ni(t.responseChecksumValidation??ND)});var oae=t=>e=>n=>C(void 0,null,function*(){if(!bt.isInstance(n.request))return e(n);let{request:r}=n,{handlerProtocol:i=""}=t.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let s=r.hostname;r.port!=null&&(s+=`:${r.port}`),r.headers.host=s}return e(n)}),aae={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},a8=t=>({applyToStack:e=>{e.add(oae(t),aae)}});var cae=()=>(t,e)=>n=>C(void 0,null,function*(){try{let i=yield t(n),{clientName:s,commandName:o,logger:a,dynamoDbDocumentClientOptions:c={}}=e,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:u}=c,f=l??e.inputFilterSensitiveLog,h=u??e.outputFilterSensitiveLog,r=i.output,{$metadata:m}=r,y=du(r,["$metadata"]);return a?.info?.({clientName:s,commandName:o,input:f(n.input),output:h(y),metadata:m}),i}catch(i){let{clientName:s,commandName:o,logger:a,dynamoDbDocumentClientOptions:c={}}=e,{overrideInputFilterSensitiveLog:l}=c,u=l??e.inputFilterSensitiveLog;throw a?.error?.({clientName:s,commandName:o,input:u(n.input),error:i,metadata:i.$metadata}),i}}),lae={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},c8=t=>({applyToStack:e=>{e.add(cae(),lae)}});var l8="X-Amzn-Trace-Id",uae="AWS_LAMBDA_FUNCTION_NAME",dae="_X_AMZN_TRACE_ID",fae=t=>e=>n=>C(void 0,null,function*(){let{request:r}=n;if(!bt.isInstance(r)||t.runtime!=="node"||r.headers.hasOwnProperty(l8))return e(n);let i=process.env[uae],s=process.env[dae],o=a=>typeof a=="string"&&a.length>0;return o(i)&&o(s)&&(r.headers[l8]=s),e(he(G({},n),{request:r}))}),hae={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},u8=t=>({applyToStack:e=>{e.add(fae(t),hae)}});var pae="content-length";function mae(){return(t,e)=>n=>C(this,null,function*(){let{request:r}=n;if(bt.isInstance(r)&&!(pae in r.headers)){let i="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof e?.logger?.warn=="function"&&!(e.logger instanceof Ml)?e.logger.warn(i):console.warn(i)}return t(G({},n))})}var gae={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},d8=t=>({applyToStack:e=>{e.add(mae(),gae)}});var f8=t=>(e,n)=>r=>C(void 0,null,function*(){let i=yield t.region(),s=t.region,o=()=>{};n.__s3RegionRedirect&&(Object.defineProperty(t,"region",{writable:!1,value:()=>C(void 0,null,function*(){return n.__s3RegionRedirect})}),o=()=>Object.defineProperty(t,"region",{writable:!0,value:s}));try{let a=yield e(r);if(n.__s3RegionRedirect){o();let c=yield t.region();if(i!==c)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw o(),a}}),h8={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function vae(t){return(e,n)=>r=>C(this,null,function*(){try{return yield e(r)}catch(i){if(t.followRegionRedirects&&(i?.$metadata?.httpStatusCode===301||i?.$metadata?.httpStatusCode===400&&i?.name==="IllegalLocationConstraintException")){try{let s=i.$response.headers["x-amz-bucket-region"];n.logger?.debug(`Redirecting from ${yield t.region()} to ${s}`),n.__s3RegionRedirect=s}catch(s){throw new Error("Region redirect failed: "+s)}return e(r)}throw i}})}var yae={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},p8=t=>({applyToStack:e=>{e.add(vae(t),yae),e.addRelativeTo(f8(t),h8)}});var w2=(()=>{class t{constructor(n={}){this.data=n,this.lastPurgeTime=Date.now()}get(n){let r=this.data[n];if(r)return r}set(n,r){return this.data[n]=r,r}delete(n){delete this.data[n]}purgeExpired(){return C(this,null,function*(){let n=Date.now();if(!(this.lastPurgeTime+t.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>n))for(let r in this.data){let i=this.data[r];if(!i.isRefreshing){let s=yield i.identity;s.expiration&&s.expiration.getTime()<n&&delete this.data[r]}}})}}return t.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4,t})();var Ed=class{constructor(e,n=!1,r=Date.now()){this._identity=e,this.isRefreshing=n,this.accessed=r}get identity(){return this.accessed=Date.now(),this._identity}};var E2=(()=>{class t{constructor(n,r=new w2){this.createSessionFn=n,this.cache=r}getS3ExpressIdentity(n,r){return C(this,null,function*(){let i=r.Bucket,{cache:s}=this,o=s.get(i);return o?o.identity.then(a=>(a.expiration?.getTime()??0)<Date.now()?s.set(i,new Ed(this.getIdentity(i))).identity:((a.expiration?.getTime()??0)<Date.now()+t.REFRESH_WINDOW_MS&&!o.isRefreshing&&(o.isRefreshing=!0,this.getIdentity(i).then(u=>{s.set(i,new Ed(Promise.resolve(u)))})),a)):s.set(i,new Ed(this.getIdentity(i))).identity})}getIdentity(n){return C(this,null,function*(){yield this.cache.purgeExpired().catch(s=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+s)});let r=yield this.createSessionFn(n);if(!r.Credentials?.AccessKeyId||!r.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}})}}return t.REFRESH_WINDOW_MS=6e4,t})();var v8="Directory",y8="S3Express",_8="sigv4-s3express",Ew="X-Amz-S3session-Token",z0=Ew.toLowerCase();var q0=class extends vd{signWithCredentials(e,n,r){return C(this,null,function*(){let i=x8(n);e.headers[z0]=n.sessionToken;let s=this;return w8(s,i),s.signRequest(e,r??{})})}presignWithCredentials(e,n,r){return C(this,null,function*(){let i=x8(n);return delete e.headers[z0],e.headers[Ew]=n.sessionToken,e.query=e.query??{},e.query[Ew]=n.sessionToken,w8(this,i),this.presign(e,r)})}};function x8(t){return{accessKeyId:t.accessKeyId,secretAccessKey:t.secretAccessKey,expiration:t.expiration}}function w8(t,e){let n=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),r=t.credentialProvider,i=()=>(clearTimeout(n),t.credentialProvider=r,Promise.resolve(e));t.credentialProvider=i}var E8=t=>(e,n)=>r=>C(void 0,null,function*(){if(n.endpointV2){let i=n.endpointV2,s=i.properties?.authSchemes?.[0]?.name===_8;if((i.properties?.backend===y8||i.properties?.bucketType===v8)&&(Hr(n,"S3_EXPRESS_BUCKET","J"),n.isS3ExpressBucket=!0),s){let a=r.input.Bucket;if(a){let c=yield t.s3ExpressIdentityProvider.getS3ExpressIdentity(yield t.credentials(),{Bucket:a});n.s3ExpressIdentity=c,bt.isInstance(r.request)&&c.sessionToken&&(r.request.headers[z0]=c.sessionToken)}}}return e(r)}),b8={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},b2=t=>({applyToStack:e=>{e.add(E8(t),b8)}});var C8=(t,e,n,r)=>C(void 0,null,function*(){let i=yield r.signWithCredentials(n,t,{});if(i.headers["X-Amz-Security-Token"]||i.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return i});var xae=t=>e=>{throw e},wae=(t,e)=>{};var S8=t=>(e,n)=>r=>C(void 0,null,function*(){if(!bt.isInstance(r.request))return e(r);let s=Do(n).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=s,l;n.s3ExpressIdentity?l=yield C8(n.s3ExpressIdentity,o,r.request,yield t.signer()):l=yield c.sign(r.request,a,o);let u=yield e(he(G({},r),{request:l})).catch((c.errorHandler||xae)(o));return(c.successHandler||wae)(u.response,o),u}),C2=t=>({applyToStack:e=>{e.addRelativeTo(S8(t),BD)}});var T8=(t,{session:e})=>{let[n,r]=e;return he(G({},t),{forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,followRegionRedirects:t.followRegionRedirects??!1,s3ExpressIdentityProvider:t.s3ExpressIdentityProvider??new E2(i=>C(void 0,null,function*(){return n().send(new r({Bucket:i,SessionMode:"ReadWrite"}))})),bucketEndpoint:t.bucketEndpoint??!1})};var Eae={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},bae=3e3,Cae=t=>(e,n)=>r=>C(void 0,null,function*(){let i=yield e(r),{response:s}=i;if(!ns.isInstance(s))return i;let{statusCode:o,body:a}=s;if(o<200||o>=300||!(typeof a?.stream=="function"||typeof a?.pipe=="function"||typeof a?.tee=="function"))return i;let l=a,u=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([l,u]=yield pV(a)),s.body=u;let f=yield Sae(l,{streamCollector:m=>C(void 0,null,function*(){return mV(m,bae)})});typeof l?.destroy=="function"&&l.destroy();let h=t.utf8Encoder(f.subarray(f.length-16));if(f.length===0&&Eae[n.commandName]){let m=new Error("S3 aborted request");throw m.name="InternalError",m}return h&&h.endsWith("</Error>")&&(s.statusCode=400),i}),Sae=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),Tae={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},bw=t=>({applyToStack:e=>{e.addRelativeTo(Cae(t),Tae)}});var I8=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6;function A8(t){return(e,n)=>r=>C(this,null,function*(){if(t.bucketEndpoint){let i=n.endpointV2;if(i){let s=r.input.Bucket;if(typeof s=="string")try{let o=new URL(s);n.endpointV2=he(G({},i),{url:o})}catch(o){let a=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${s} could not be parsed as URL.`;throw n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a),o}}}return e(r)})}var D8={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function Iae({bucketEndpoint:t}){return e=>n=>C(this,null,function*(){let{input:{Bucket:r}}=n;if(!t&&typeof r=="string"&&!I8(r)&&r.indexOf("/")>=0){let i=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw i.name="InvalidBucketName",i}return e(G({},n))})}var Aae={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},k8=t=>({applyToStack:e=>{e.add(Iae(t),Aae),e.addRelativeTo(A8(t),D8)}});var Dae=void 0;function kae(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function R8(t){let e=xc(t.userAgentAppId??Dae);return he(G({},t),{customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent,userAgentAppId:()=>C(this,null,function*(){let n=yield e();if(!kae(n)){let r=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console:t.logger;typeof n!="string"?r?.warn("userAgentAppId must be a string or undefined."):n.length>50&&r?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n})})}var Cw=class{constructor({size:e,params:n}){this.data=new Map,this.parameters=[],this.capacity=e??50,n&&(this.parameters=n)}get(e,n){let r=this.hash(e);if(r===!1)return n();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let i=this.data.keys(),s=0;for(;;){let{value:o,done:a}=i.next();if(this.data.delete(o),a||++s>10)break}}this.data.set(r,n())}return this.data.get(r)}size(){return this.data.size}hash(e){let n="",{parameters:r}=this;if(r.length===0)return!1;for(let i of r){let s=String(e[i]??"");if(s.includes("|;"))return!1;n+=s+"|;"}return n}};var Rae=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),G0=t=>Rae.test(t)||t.startsWith("[")&&t.endsWith("]");var Pae=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),W0=(t,e=!1)=>{if(!e)return Pae.test(t);let n=t.split(".");for(let r of n)if(!W0(r))return!1;return!0};var bd={};var Cc="endpoints";function to(t){return typeof t!="object"||t==null?t:"ref"in t?`$${to(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(to).join(", ")})`:JSON.stringify(t,null,2)}var bn=class extends Error{constructor(e){super(e),this.name="EndpointError"}};var P8=(t,e)=>t===e;var M8=t=>{let e=t.split("."),n=[];for(let r of e){let i=r.indexOf("[");if(i!==-1){if(r.indexOf("]")!==r.length-1)throw new bn(`Path: '${t}' does not end with ']'`);let s=r.slice(i+1,-1);if(Number.isNaN(parseInt(s)))throw new bn(`Invalid array index: '${s}' in path: '${t}'`);i!==0&&n.push(r.slice(0,i)),n.push(s)}else n.push(r)}return n};var Sw=(t,e)=>M8(e).reduce((n,r)=>{if(typeof n!="object")throw new bn(`Index '${r}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]},t);var N8=t=>t!=null;var O8=t=>!t;var S2={[k0.HTTP]:80,[k0.HTTPS]:443},F8=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:h,port:m,protocol:y="",path:_="",query:x={}}=t,M=new URL(`${y}//${h}${m?`:${m}`:""}${_}`);return M.search=Object.entries(x).map(([H,K])=>`${H}=${K}`).join("&"),M}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let n=e.href,{host:r,hostname:i,pathname:s,protocol:o,search:a}=e;if(a)return null;let c=o.slice(0,-1);if(!Object.values(k0).includes(c))return null;let l=G0(i),u=n.includes(`${r}:${S2[c]}`)||typeof t=="string"&&t.includes(`${r}:${S2[c]}`),f=`${r}${u?`:${S2[c]}`:""}`;return{scheme:c,authority:f,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:l}};var L8=(t,e)=>t===e;var B8=(t,e,n,r)=>e>=n||t.length<n?null:r?t.substring(t.length-n,t.length-e):t.substring(e,n);var V8=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`);var U8={booleanEquals:P8,getAttr:Sw,isSet:N8,isValidHostLabel:W0,not:O8,parseURL:F8,stringEquals:L8,substring:B8,uriEncode:V8};var Tw=(t,e)=>{let n=[],r=G(G({},e.endpointParams),e.referenceRecord),i=0;for(;i<t.length;){let s=t.indexOf("{",i);if(s===-1){n.push(t.slice(i));break}n.push(t.slice(i,s));let o=t.indexOf("}",s);if(o===-1){n.push(t.slice(s));break}t[s+1]==="{"&&t[o+1]==="}"&&(n.push(t.slice(s+1,o)),i=o+2);let a=t.substring(s+1,o);if(a.includes("#")){let[c,l]=a.split("#");n.push(Sw(r[c],l))}else n.push(r[a]);i=o+1}return n.join("")};var j8=({ref:t},e)=>G(G({},e.endpointParams),e.referenceRecord)[t];var Ol=(t,e,n)=>{if(typeof t=="string")return Tw(t,n);if(t.fn)return Iw(t,n);if(t.ref)return j8(t,n);throw new bn(`'${e}': ${String(t)} is not a string, function or reference.`)};var Iw=({fn:t,argv:e},n)=>{let r=e.map(s=>["boolean","number"].includes(typeof s)?s:Ol(s,"arg",n)),i=t.split(".");return i[0]in bd&&i[1]!=null?bd[i[0]][i[1]](...r):U8[t](...r)};var $8=(r,n)=>{var i=r,{assign:t}=i,e=du(i,["assign"]);if(t&&t in n.referenceRecord)throw new bn(`'${t}' is already defined in Reference Record.`);let s=Iw(e,n);return n.logger?.debug?.(`${Cc} evaluateCondition: ${to(e)} = ${to(s)}`),G({result:s===""?!0:!!s},t!=null&&{toAssign:{name:t,value:s}})};var zh=(t=[],e)=>{let n={};for(let r of t){let{result:i,toAssign:s}=$8(r,he(G({},e),{referenceRecord:G(G({},e.referenceRecord),n)}));if(!i)return{result:i};s&&(n[s.name]=s.value,e.logger?.debug?.(`${Cc} assign: ${s.name} := ${to(s.value)}`))}return{result:!0,referenceRecord:n}};var H8=(t,e)=>Object.entries(t).reduce((n,[r,i])=>he(G({},n),{[r]:i.map(s=>{let o=Ol(s,"Header value entry",e);if(typeof o!="string")throw new bn(`Header '${r}' value '${o}' is not a string`);return o})}),{});var T2=(t,e)=>{if(Array.isArray(t))return t.map(n=>T2(n,e));switch(typeof t){case"string":return Tw(t,e);case"object":if(t===null)throw new bn(`Unexpected endpoint property: ${t}`);return Aw(t,e);case"boolean":return t;default:throw new bn(`Unexpected endpoint property type: ${typeof t}`)}};var Aw=(t,e)=>Object.entries(t).reduce((n,[r,i])=>he(G({},n),{[r]:T2(i,e)}),{});var z8=(t,e)=>{let n=Ol(t,"Endpoint URL",e);if(typeof n=="string")try{return new URL(n)}catch(r){throw console.error(`Failed to construct URL with ${n}`,r),r}throw new bn(`Endpoint URL must be a string, got ${typeof n}`)};var q8=(t,e)=>{let{conditions:n,endpoint:r}=t,{result:i,referenceRecord:s}=zh(n,e);if(!i)return;let o=he(G({},e),{referenceRecord:G(G({},e.referenceRecord),s)}),{url:a,properties:c,headers:l}=r;return e.logger?.debug?.(`${Cc} Resolving endpoint from template: ${to(r)}`),he(G(G({},l!=null&&{headers:H8(l,o)}),c!=null&&{properties:Aw(c,o)}),{url:z8(a,o)})};var G8=(t,e)=>{let{conditions:n,error:r}=t,{result:i,referenceRecord:s}=zh(n,e);if(i)throw new bn(Ol(r,"Error",he(G({},e),{referenceRecord:G(G({},e.referenceRecord),s)})))};var W8=(t,e)=>{let{conditions:n,rules:r}=t,{result:i,referenceRecord:s}=zh(n,e);if(i)return Dw(r,he(G({},e),{referenceRecord:G(G({},e.referenceRecord),s)}))};var Dw=(t,e)=>{for(let n of t)if(n.type==="endpoint"){let r=q8(n,e);if(r)return r}else if(n.type==="error")G8(n,e);else if(n.type==="tree"){let r=W8(n,e);if(r)return r}else throw new bn(`Unknown endpoint rule: ${n}`);throw new bn("Rules evaluation failed")};var I2=(t,e)=>{let{endpointParams:n,logger:r}=e,{parameters:i,rules:s}=t;e.logger?.debug?.(`${Cc} Initial EndpointParams: ${to(n)}`);let o=Object.entries(i).filter(([,l])=>l.default!=null).map(([l,u])=>[l,u.default]);if(o.length>0)for(let[l,u]of o)n[l]=n[l]??u;let a=Object.entries(i).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(n[l]==null)throw new bn(`Missing required parameter: '${l}'`);let c=Dw(s,{endpointParams:n,logger:r,referenceRecord:{}});return e.logger?.debug?.(`${Cc} Resolved endpoint: ${to(c)}`),c};var A2=(t,e=!1)=>{if(e){for(let n of t.split("."))if(!A2(n))return!1;return!0}return!(!W0(t)||t.length<3||t.length>63||t!==t.toLowerCase()||G0(t))};var K8=":",Mae="/",X8=t=>{let e=t.split(K8);if(e.length<6)return null;let[n,r,i,s,o,...a]=e;if(n!=="arn"||r===""||i===""||a.join(K8)==="")return null;let c=a.map(l=>l.split(Mae)).flat();return{partition:r,service:i,region:s,accountId:o,resourceId:c}};var Y8={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"};var Oae=Y8,Fae="",Q8=t=>{let{partitions:e}=Oae;for(let r of e){let{regions:i,outputs:s}=r;for(let[o,a]of Object.entries(i))if(o===t)return G(G({},s),a)}for(let r of e){let{regionRegex:i,outputs:s}=r;if(new RegExp(i).test(t))return G({},s)}let n=e.find(r=>r.id==="aws");if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return G({},n.outputs)};var Z8=()=>Fae;var D2={isVirtualHostableS3Bucket:A2,parseArn:X8,partition:Q8};bd.aws=D2;var Lae=/\d{12}\.ddb/;function J8(t,e,n){return C(this,null,function*(){if(n.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Hr(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){let s=yield e.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?Hr(t,"RETRY_MODE_ADAPTIVE","F"):Hr(t,"RETRY_MODE_STANDARD","E"):Hr(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){let s=t.endpointV2;switch(String(s?.url?.hostname).match(Lae)&&Hr(t,"ACCOUNT_ID_ENDPOINT","O"),yield e.accountIdEndpointMode?.()){case"disabled":Hr(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Hr(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Hr(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let i=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(i?.$source){let s=i;s.accountId&&Hr(t,"RESOLVED_ACCOUNT_ID","T");for(let[o,a]of Object.entries(s.$source??{}))Hr(t,o,a)}})}var k2="user-agent",kw="x-amz-user-agent",R2=" ",Rw="/",eU=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,tU=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,P2="-";function nU(t){let e="";for(let n in t){let r=t[n];if(e.length+r.length+1<=1024){e.length?e+=","+r:e+=r;continue}break}return e}var Bae=t=>(e,n)=>r=>C(void 0,null,function*(){let{request:i}=r;if(!bt.isInstance(i))return e(r);let{headers:s}=i,o=n?.userAgent?.map(Pw)||[],a=(yield t.defaultUserAgentProvider()).map(Pw);yield J8(n,t,r);let c=n;a.push(`m/${nU(Object.assign({},n.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=t?.customUserAgent?.map(Pw)||[],u=yield t.userAgentAppId();u&&a.push(Pw([`app/${u}`]));let f=Z8(),h=(f?[f]:[]).concat([...a,...o,...l]).join(R2),m=[...a.filter(y=>y.startsWith("aws-sdk-")),...l].join(R2);return t.runtime!=="browser"?(m&&(s[kw]=s[kw]?`${s[k2]} ${m}`:m),s[k2]=h):s[kw]=h,e(he(G({},r),{request:i}))}),Pw=t=>{let e=t[0].split(Rw).map(o=>o.replace(eU,P2)).join(Rw),n=t[1]?.replace(tU,P2),r=e.indexOf(Rw),i=e.substring(0,r),s=e.substring(r+1);return i==="api"&&(s=s.toLowerCase()),[i,s,n].filter(o=>o&&o.length>0).reduce((o,a,c)=>{switch(c){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},Vae={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},rU=t=>({applyToStack:e=>{e.add(Bae(t),Vae)}});var iU=!1;var sU=!1;var Mw=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"));var M2=t=>Mw(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t;var oU=t=>{let{region:e,useFipsEndpoint:n}=t;if(!e)throw new Error("Region is missing");return he(G({},t),{region:()=>C(void 0,null,function*(){if(typeof e=="string")return M2(e);let r=yield e();return M2(r)}),useFipsEndpoint:()=>C(void 0,null,function*(){let r=typeof e=="string"?e:yield e();return Mw(r)?!0:typeof n!="function"?Promise.resolve(!!n):n()})})};var aU=t=>he(G({},t),{eventStreamMarshaller:t.eventStreamSerdeProvider(t)});var cU="content-length";function Uae(t){return e=>n=>C(this,null,function*(){let r=n.request;if(bt.isInstance(r)){let{body:i,headers:s}=r;if(i&&Object.keys(s).map(o=>o.toLowerCase()).indexOf(cU)===-1)try{let o=t(i);r.headers=he(G({},r.headers),{[cU]:String(o)})}catch{}}return e(he(G({},n),{request:r}))})}var jae={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},lU=t=>({applyToStack:e=>{e.add(Uae(t.bodyLengthChecker),jae)}});var uU=t=>C(void 0,null,function*(){let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Gae(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!qae(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t}),$ae=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Hae=/(\d+\.){3}\d+/,zae=/\.\./;var qae=t=>$ae.test(t)&&!Hae.test(t)&&!zae.test(t),Gae=t=>{let[e,n,r,,,i]=t.split(":"),s=e==="arn"&&t.split(":").length>=6,o=!!(s&&n&&r&&i);if(s&&!o)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return o};var dU=(t,e,n)=>{let r=()=>C(void 0,null,function*(){let i=n[t]??n[e];return typeof i=="function"?i():i});return t==="credentialScope"||e==="CredentialScope"?()=>C(void 0,null,function*(){let i=typeof n.credentials=="function"?yield n.credentials():n.credentials;return i?.credentialScope??i?.CredentialScope}):t==="accountId"||e==="AccountId"?()=>C(void 0,null,function*(){let i=typeof n.credentials=="function"?yield n.credentials():n.credentials;return i?.accountId??i?.AccountId}):t==="endpoint"||e==="endpoint"?()=>C(void 0,null,function*(){let i=yield r();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){let{protocol:s,hostname:o,port:a,path:c}=i;return`${s}//${o}${a?":"+a:""}${c}`}}return i}):r};var Nw=t=>C(void 0,null,function*(){});function fU(t){let e={};if(t=t.replace(/^\?/,""),t)for(let n of t.split("&")){let[r,i=null]=n.split("=");r=decodeURIComponent(r),i&&(i=decodeURIComponent(i)),r in e?Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i}return e}var qh=t=>{if(typeof t=="string")return qh(new URL(t));let{hostname:e,pathname:n,port:r,protocol:i,search:s}=t,o;return s&&(o=fU(s)),{hostname:e,port:r?parseInt(r):void 0,protocol:i,path:n,query:o}};var Ow=t=>typeof t=="object"?"url"in t?qh(t.url):t:qh(t);var hU=(t,e,n,r)=>C(void 0,null,function*(){if(!n.endpoint){let o;n.serviceConfiguredEndpoint?o=yield n.serviceConfiguredEndpoint():o=yield Nw(n.serviceId),o&&(n.endpoint=()=>Promise.resolve(Ow(o)))}let i=yield N2(t,e,n);if(typeof n.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return n.endpointProvider(i,r)}),N2=(t,e,n)=>C(void 0,null,function*(){let r={},i=e?.getEndpointParameterInstructions?.()||{};for(let[s,o]of Object.entries(i))switch(o.type){case"staticContextParams":r[s]=o.value;break;case"contextParams":r[s]=t[o.name];break;case"clientContextParams":case"builtInParams":r[s]=yield dU(o.name,s,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return Object.keys(i).length===0&&Object.assign(r,n),String(n.serviceId).toLowerCase()==="s3"&&(yield uU(r)),r});var pU=({config:t,instructions:e})=>(n,r)=>i=>C(void 0,null,function*(){t.endpoint&&gV(r,"ENDPOINT_OVERRIDE","N");let s=yield hU(i.input,{getEndpointParameterInstructions(){return e}},G({},t),r);r.endpointV2=s,r.authSchemes=s.properties?.authSchemes;let o=r.authSchemes?.[0];if(o){r.signing_region=o.signingRegion,r.signing_service=o.signingName;let c=Do(r)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return n(G({},i))});var Wae={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:N0.name},Fw=(t,e)=>({applyToStack:n=>{n.addRelativeTo(pU({config:t,instructions:e}),Wae)}});var mU=t=>{let e=t.tls??!0,{endpoint:n}=t,r=n!=null?()=>C(void 0,null,function*(){return Ow(yield ni(n)())}):void 0,i=!!n,s=he(G({},t),{endpoint:r,tls:e,isCustomEndpoint:i,useDualstackEndpoint:ni(t.useDualstackEndpoint??!1),useFipsEndpoint:ni(t.useFipsEndpoint??!1)}),o;return s.serviceConfiguredEndpoint=()=>C(void 0,null,function*(){return t.serviceId&&!o&&(o=Nw(t.serviceId)),o}),s};var wa=function(t){return t.STANDARD="standard",t.ADAPTIVE="adaptive",t}(wa||{}),Fl=3,O2=wa.STANDARD;var gU=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],vU=["TimeoutError","RequestTimeout","RequestTimeoutException"],yU=[500,502,503,504],_U=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"];var Kae=t=>t.$metadata?.clockSkewCorrected,Gh=t=>t.$metadata?.httpStatusCode===429||gU.includes(t.name)||t.$retryable?.throttling==!0,Lw=t=>Kae(t)||vU.includes(t.name)||_U.includes(t?.code||"")||yU.includes(t.$metadata?.httpStatusCode||0),xU=t=>{if(t.$metadata?.httpStatusCode!==void 0){let e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!Lw(t)}return!1};var K0=class{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let n=this.getCurrentTimeInSeconds();this.lastThrottleTime=n,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}getSendToken(){return C(this,null,function*(){return this.acquireTokenBucket(1)})}acquireTokenBucket(e){return C(this,null,function*(){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let n=(e-this.currentCapacity)/this.fillRate*1e3;yield new Promise(r=>setTimeout(r,n))}this.currentCapacity=this.currentCapacity-e}})}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let n=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+n),this.lastTimestamp=e}updateClientSendingRate(e){let n;if(this.updateMeasuredRate(),Gh(e)){let i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),n=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),n=this.cubicSuccess(this.getCurrentTimeInSeconds());let r=Math.min(n,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),n=Math.floor(e*2)/2;if(this.requestCount++,n>this.lastTxRateBucket){let r=this.requestCount/(n-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=n}}getPrecise(e){return parseFloat(e.toFixed(8))}};var Bw="amz-sdk-invocation-id",Vw="amz-sdk-request";var wU=()=>{let t=100;return{computeNextBackoffDelay:r=>Math.floor(Math.min(2e4,Math.random()*2**r*t)),setDelayBase:r=>{t=r}}};var F2=({retryDelay:t,retryCount:e,retryCost:n})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(2e4,t),getRetryCost:()=>n});var Cd=class{constructor(e){this.maxAttempts=e,this.mode=wa.STANDARD,this.capacity=500,this.retryBackoffStrategy=wU(),this.maxAttemptsProvider=typeof e=="function"?e:()=>C(this,null,function*(){return e})}acquireInitialRetryToken(e){return C(this,null,function*(){return F2({retryDelay:100,retryCount:0})})}refreshRetryTokenForRetry(e,n){return C(this,null,function*(){let r=yield this.getMaxAttempts();if(this.shouldRetry(e,n,r)){let i=n.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?500:100);let s=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),o=n.retryAfterHint?Math.max(n.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(i);return this.capacity-=a,F2({retryDelay:o,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")})}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}getMaxAttempts(){return C(this,null,function*(){try{return yield this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Fl}`),Fl}})}shouldRetry(e,n,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(n.errorType)&&this.isRetryableError(n.errorType)}getCapacityCost(e){return e==="TRANSIENT"?10:5}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}};var jw=class{constructor(e,n){this.maxAttemptsProvider=e,this.mode=wa.ADAPTIVE;let{rateLimiter:r}=n??{};this.rateLimiter=r??new K0,this.standardRetryStrategy=new Cd(e)}acquireInitialRetryToken(e){return C(this,null,function*(){return yield this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)})}refreshRetryTokenForRetry(e,n){return C(this,null,function*(){return this.rateLimiter.updateClientSendingRate(n),this.standardRetryStrategy.refreshRetryTokenForRetry(e,n)})}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}};var $w,Xae=new Uint8Array(16);function B2(){if(!$w&&($w=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$w))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $w(Xae)}var ii=[];for(let t=0;t<256;++t)ii.push((t+256).toString(16).slice(1));function TU(t,e=0){return ii[t[e+0]]+ii[t[e+1]]+ii[t[e+2]]+ii[t[e+3]]+"-"+ii[t[e+4]]+ii[t[e+5]]+"-"+ii[t[e+6]]+ii[t[e+7]]+"-"+ii[t[e+8]]+ii[t[e+9]]+"-"+ii[t[e+10]]+ii[t[e+11]]+ii[t[e+12]]+ii[t[e+13]]+ii[t[e+14]]+ii[t[e+15]]}var Yae=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),V2={randomUUID:Yae};function Qae(t,e,n){if(V2.randomUUID&&!e&&!t)return V2.randomUUID();t=t||{};let r=t.random||(t.rng||B2)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return TU(r)}var U2=Qae;var j2=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`);var IU=t=>{let{retryStrategy:e}=t,n=ni(t.maxAttempts??Fl);return he(G({},t),{maxAttempts:n,retryStrategy:()=>C(void 0,null,function*(){return e||((yield ni(t.retryMode)())===wa.ADAPTIVE?new jw(n):new Cd(n))})})};var AU=t=>t?.body instanceof ReadableStream;var Zae=t=>(e,n)=>r=>C(void 0,null,function*(){let i=yield t.retryStrategy(),s=yield t.maxAttempts();if(Jae(i)){i=i;let o=yield i.acquireInitialRetryToken(n.partition_id),a=new Error,c=0,l=0,{request:u}=r,f=bt.isInstance(u);for(f&&(u.headers[Bw]=U2());;)try{f&&(u.headers[Vw]=`attempt=${c+1}; max=${s}`);let{response:h,output:m}=yield e(r);return i.recordSuccess(o),m.$metadata.attempts=c+1,m.$metadata.totalRetryDelay=l,{response:h,output:m}}catch(h){let m=ece(h);if(a=j2(h),f&&AU(u))throw(n.logger instanceof Ml?console:n.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{o=yield i.refreshRetryTokenForRetry(o,m)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=o.getRetryCount();let y=o.getRetryDelay();l+=y,yield new Promise(_=>setTimeout(_,y))}}else return i=i,i?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(e,r)}),Jae=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",ece=t=>{let e={error:t,errorType:tce(t)},n=rce(t.$response);return n&&(e.retryAfterHint=n),e},tce=t=>Gh(t)?"THROTTLING":Lw(t)?"TRANSIENT":xU(t)?"SERVER_ERROR":"CLIENT_ERROR",nce={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},DU=t=>({applyToStack:e=>{e.add(Zae(t),nce)}}),rce=t=>{if(!ns.isInstance(t))return;let e=Object.keys(t.headers).find(s=>s.toLowerCase()==="retry-after");if(!e)return;let n=t.headers[e],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(r*1e3)};var Hw={CrtSignerV4:null};var zw=class{constructor(e){this.sigv4Signer=new q0(e),this.signerOptions=e}sign(r){return C(this,arguments,function*(e,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(e,n)}return this.sigv4Signer.sign(e,n)})}signWithCredentials(i,s){return C(this,arguments,function*(e,n,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().signWithCredentials(e,n,r)}return this.sigv4Signer.signWithCredentials(e,n,r)})}presign(r){return C(this,arguments,function*(e,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(e,n)}return this.sigv4Signer.presign(e,n)})}presignWithCredentials(i,s){return C(this,arguments,function*(e,n,r={}){if(r.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(e,n,r)})}getSigv4aSigner(){if(!this.sigv4aSigner){let e=null;try{if(e=Hw.CrtSignerV4,typeof e!="function")throw new Error}catch(n){throw n.message=`${n.message}
Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,n}this.sigv4aSigner=new e(he(G({},this.signerOptions),{signingAlgorithm:1}))}return this.sigv4aSigner}};var hk="required",W="type",J="conditions",pe="fn",me="argv",it="ref",Xn="assign",Ve="url",Ue="properties",k5="backend",Po="authSchemes",Rs="disableDoubleEncoding",Ps="signingName",Ca="signingRegion",je="headers",pk="signingRegionSet";var no="isSet",Wr="booleanEquals",qe="error",Qw="aws.partition",Dn="stringEquals",sr="getAttr",wi="name",Ea="substring",kU="bucketSuffix",R5="parseURL",RU="{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",be="endpoint",Ee="tree",P5="aws.isVirtualHostableS3Bucket",Kw="{url#scheme}://{Bucket}.{url#authority}{url#path}",ba="not",Xw="{url#scheme}://{url#authority}{url#path}",M5="hardwareType",N5="regionPrefix",PU="bucketAliasSuffix",dk="outpostId",Td="isValidHostLabel",mk="sigv4a",Q0="s3-outposts",Qh="s3",O5="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",F5="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",MU="https://{Bucket}.s3.{partitionResult#dnsSuffix}",L5="aws.parseArn",B5="bucketArn",V5="arnType",Zw="",gk="s3-object-lambda",U5="accesspoint",vk="accessPointName",NU="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",OU="mrapPartition",FU="outpostType",LU="arnPrefix",j5="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",BU="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",VU="https://s3.{partitionResult#dnsSuffix}",Kh={[hk]:!1,[W]:"String"},Xh={[hk]:!0,default:!1,[W]:"Boolean"},X0={[hk]:!1,[W]:"Boolean"},Ro={[pe]:Wr,[me]:[{[it]:"Accelerate"},!0]},Sn={[pe]:Wr,[me]:[{[it]:"UseFIPS"},!0]},Cn={[pe]:Wr,[me]:[{[it]:"UseDualStack"},!0]},_r={[pe]:no,[me]:[{[it]:"Endpoint"}]},$5={[pe]:Qw,[me]:[{[it]:"Region"}],[Xn]:"partitionResult"},UU={[pe]:Dn,[me]:[{[pe]:sr,[me]:[{[it]:"partitionResult"},wi]},"aws-cn"]},Jw={[pe]:no,[me]:[{[it]:"Bucket"}]},Vi={[it]:"Bucket"},Bi={[pe]:R5,[me]:[{[it]:"Endpoint"}],[Xn]:"url"},Yw={[pe]:Wr,[me]:[{[pe]:sr,[me]:[{[it]:"url"},"isIp"]},!0]},H5={[it]:"url"},z5={[pe]:"uriEncode",[me]:[Vi],[Xn]:"uri_encoded_bucket"},Sc={[k5]:"S3Express",[Po]:[{[Rs]:!0,[wi]:"sigv4",[Ps]:"s3express",[Ca]:"{Region}"}]},ot={},q5={[pe]:P5,[me]:[Vi,!1]},$2={[qe]:"S3Express bucket name is not a valid virtual hostable name.",[W]:qe},eE={[k5]:"S3Express",[Po]:[{[Rs]:!0,[wi]:"sigv4-s3express",[Ps]:"s3express",[Ca]:"{Region}"}]},jU={[pe]:no,[me]:[{[it]:"UseS3ExpressControlEndpoint"}]},$U={[pe]:Wr,[me]:[{[it]:"UseS3ExpressControlEndpoint"},!0]},ht={[pe]:ba,[me]:[_r]},HU={[qe]:"Unrecognized S3Express bucket name format.",[W]:qe},zU={[pe]:ba,[me]:[Jw]},qU={[it]:M5},GU={[J]:[ht],[qe]:"Expected a endpoint to be specified but no endpoint was found",[W]:qe},qw={[Po]:[{[Rs]:!0,[wi]:mk,[Ps]:Q0,[pk]:["*"]},{[Rs]:!0,[wi]:"sigv4",[Ps]:Q0,[Ca]:"{Region}"}]},H2={[pe]:Wr,[me]:[{[it]:"ForcePathStyle"},!1]},ice={[it]:"ForcePathStyle"},yr={[pe]:Wr,[me]:[{[it]:"Accelerate"},!1]},Or={[pe]:Dn,[me]:[{[it]:"Region"},"aws-global"]},zr={[Po]:[{[Rs]:!0,[wi]:"sigv4",[Ps]:Qh,[Ca]:"us-east-1"}]},Vt={[pe]:ba,[me]:[Or]},qr={[pe]:Wr,[me]:[{[it]:"UseGlobalEndpoint"},!0]},WU={[Ve]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Ue]:{[Po]:[{[Rs]:!0,[wi]:"sigv4",[Ps]:Qh,[Ca]:"{Region}"}]},[je]:{}},xr={[Po]:[{[Rs]:!0,[wi]:"sigv4",[Ps]:Qh,[Ca]:"{Region}"}]},Gr={[pe]:Wr,[me]:[{[it]:"UseGlobalEndpoint"},!1]},Pt={[pe]:Wr,[me]:[{[it]:"UseDualStack"},!1]},KU={[Ve]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[Ue]:xr,[je]:{}},Ct={[pe]:Wr,[me]:[{[it]:"UseFIPS"},!1]},XU={[Ve]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[Ue]:xr,[je]:{}},YU={[Ve]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Ue]:xr,[je]:{}},z2={[pe]:Wr,[me]:[{[pe]:sr,[me]:[H5,"isIp"]},!1]},q2={[Ve]:O5,[Ue]:xr,[je]:{}},fk={[Ve]:Kw,[Ue]:xr,[je]:{}},QU={[be]:fk,[W]:be},G2={[Ve]:F5,[Ue]:xr,[je]:{}},ZU={[Ve]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[Ue]:xr,[je]:{}},Gw={[qe]:"Invalid region: region was not a valid DNS name.",[W]:qe},rs={[it]:B5},G5={[it]:V5},W2={[pe]:sr,[me]:[rs,"service"]},yk={[it]:vk},JU={[J]:[Cn],[qe]:"S3 Object Lambda does not support Dual-stack",[W]:qe},e5={[J]:[Ro],[qe]:"S3 Object Lambda does not support S3 Accelerate",[W]:qe},t5={[J]:[{[pe]:no,[me]:[{[it]:"DisableAccessPoints"}]},{[pe]:Wr,[me]:[{[it]:"DisableAccessPoints"},!0]}],[qe]:"Access points are not supported for this operation",[W]:qe},K2={[J]:[{[pe]:no,[me]:[{[it]:"UseArnRegion"}]},{[pe]:Wr,[me]:[{[it]:"UseArnRegion"},!1]},{[pe]:ba,[me]:[{[pe]:Dn,[me]:[{[pe]:sr,[me]:[rs,"region"]},"{Region}"]}]}],[qe]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[W]:qe},W5={[pe]:sr,[me]:[{[it]:"bucketPartition"},wi]},K5={[pe]:sr,[me]:[rs,"accountId"]},X2={[Po]:[{[Rs]:!0,[wi]:"sigv4",[Ps]:gk,[Ca]:"{bucketArn#region}"}]},n5={[qe]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[W]:qe},Y2={[qe]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[W]:qe},Q2={[qe]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[W]:qe},Z2={[qe]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[W]:qe},r5={[qe]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[W]:qe},i5={[qe]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[W]:qe},Y0={[Po]:[{[Rs]:!0,[wi]:"sigv4",[Ps]:Qh,[Ca]:"{bucketArn#region}"}]},s5={[Po]:[{[Rs]:!0,[wi]:mk,[Ps]:Q0,[pk]:["*"]},{[Rs]:!0,[wi]:"sigv4",[Ps]:Q0,[Ca]:"{bucketArn#region}"}]},o5={[pe]:L5,[me]:[Vi]},a5={[Ve]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Ue]:xr,[je]:{}},c5={[Ve]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Ue]:xr,[je]:{}},l5={[Ve]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Ue]:xr,[je]:{}},J2={[Ve]:j5,[Ue]:xr,[je]:{}},u5={[Ve]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Ue]:xr,[je]:{}},d5={[it]:"UseObjectLambdaEndpoint"},ek={[Po]:[{[Rs]:!0,[wi]:"sigv4",[Ps]:gk,[Ca]:"{Region}"}]},f5={[Ve]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Ue]:xr,[je]:{}},h5={[Ve]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[Ue]:xr,[je]:{}},p5={[Ve]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Ue]:xr,[je]:{}},tk={[Ve]:Xw,[Ue]:xr,[je]:{}},m5={[Ve]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[Ue]:xr,[je]:{}},nk=[{[it]:"Region"}],sce=[{[it]:"Endpoint"}],oce=[Vi],rk=[Cn],Ww=[Ro],Sd=[_r,Bi],g5=[{[pe]:no,[me]:[{[it]:"DisableS3ExpressSessionAuth"}]},{[pe]:Wr,[me]:[{[it]:"DisableS3ExpressSessionAuth"},!0]}],v5=[Yw],ik=[z5],sk=[q5],Yh=[Sn],y5=[{[pe]:Ea,[me]:[Vi,6,14,!0],[Xn]:"s3expressAvailabilityZoneId"},{[pe]:Ea,[me]:[Vi,14,16,!0],[Xn]:"s3expressAvailabilityZoneDelim"},{[pe]:Dn,[me]:[{[it]:"s3expressAvailabilityZoneDelim"},"--"]}],_5=[{[J]:[Sn],[be]:{[Ve]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[Ue]:Sc,[je]:{}},[W]:be},{[be]:{[Ve]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[Ue]:Sc,[je]:{}},[W]:be}],x5=[{[pe]:Ea,[me]:[Vi,6,15,!0],[Xn]:"s3expressAvailabilityZoneId"},{[pe]:Ea,[me]:[Vi,15,17,!0],[Xn]:"s3expressAvailabilityZoneDelim"},{[pe]:Dn,[me]:[{[it]:"s3expressAvailabilityZoneDelim"},"--"]}],w5=[{[J]:[Sn],[be]:{[Ve]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[Ue]:eE,[je]:{}},[W]:be},{[be]:{[Ve]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[Ue]:eE,[je]:{}},[W]:be}],ace=[Jw],E5=[{[pe]:Td,[me]:[{[it]:dk},!1]}],b5=[{[pe]:Dn,[me]:[{[it]:N5},"beta"]}],cce=["*"],Ll=[$5],C5=[{[pe]:Td,[me]:[{[it]:"Region"},!1]}],Bl=[{[pe]:Dn,[me]:[{[it]:"Region"},"us-east-1"]}],ok=[{[pe]:Dn,[me]:[G5,U5]}],S5=[{[pe]:sr,[me]:[rs,"resourceId[1]"],[Xn]:vk},{[pe]:ba,[me]:[{[pe]:Dn,[me]:[yk,Zw]}]}],lce=[rs,"resourceId[1]"],ak=[{[pe]:ba,[me]:[{[pe]:Dn,[me]:[{[pe]:sr,[me]:[rs,"region"]},Zw]}]}],T5=[{[pe]:ba,[me]:[{[pe]:no,[me]:[{[pe]:sr,[me]:[rs,"resourceId[2]"]}]}]}],uce=[rs,"resourceId[2]"],ck=[{[pe]:Qw,[me]:[{[pe]:sr,[me]:[rs,"region"]}],[Xn]:"bucketPartition"}],I5=[{[pe]:Dn,[me]:[W5,{[pe]:sr,[me]:[{[it]:"partitionResult"},wi]}]}],lk=[{[pe]:Td,[me]:[{[pe]:sr,[me]:[rs,"region"]},!0]}],uk=[{[pe]:Td,[me]:[K5,!1]}],A5=[{[pe]:Td,[me]:[yk,!1]}],D5=[{[pe]:Td,[me]:[{[it]:"Region"},!0]}],dce={version:"1.0",parameters:{Bucket:Kh,Region:Kh,UseFIPS:Xh,UseDualStack:Xh,Endpoint:Kh,ForcePathStyle:Xh,Accelerate:Xh,UseGlobalEndpoint:Xh,UseObjectLambdaEndpoint:X0,Key:Kh,Prefix:Kh,CopySource:Kh,DisableAccessPoints:X0,DisableMultiRegionAccessPoints:Xh,UseArnRegion:X0,UseS3ExpressControlEndpoint:X0,DisableS3ExpressSessionAuth:X0},rules:[{[J]:[{[pe]:no,[me]:nk}],rules:[{[J]:[Ro,Sn],error:"Accelerate cannot be used with FIPS",[W]:qe},{[J]:[Cn,_r],error:"Cannot set dual-stack in combination with a custom endpoint.",[W]:qe},{[J]:[_r,Sn],error:"A custom endpoint cannot be combined with FIPS",[W]:qe},{[J]:[_r,Ro],error:"A custom endpoint cannot be combined with S3 Accelerate",[W]:qe},{[J]:[Sn,$5,UU],error:"Partition does not support FIPS",[W]:qe},{[J]:[Jw,{[pe]:Ea,[me]:[Vi,0,6,!0],[Xn]:kU},{[pe]:Dn,[me]:[{[it]:kU},"--x-s3"]}],rules:[{[J]:rk,error:"S3Express does not support Dual-stack.",[W]:qe},{[J]:Ww,error:"S3Express does not support S3 Accelerate.",[W]:qe},{[J]:Sd,rules:[{[J]:g5,rules:[{[J]:v5,rules:[{[J]:ik,rules:[{endpoint:{[Ve]:RU,[Ue]:Sc,[je]:ot},[W]:be}],[W]:Ee}],[W]:Ee},{[J]:sk,rules:[{endpoint:{[Ve]:Kw,[Ue]:Sc,[je]:ot},[W]:be}],[W]:Ee},$2],[W]:Ee},{[J]:v5,rules:[{[J]:ik,rules:[{endpoint:{[Ve]:RU,[Ue]:eE,[je]:ot},[W]:be}],[W]:Ee}],[W]:Ee},{[J]:sk,rules:[{endpoint:{[Ve]:Kw,[Ue]:eE,[je]:ot},[W]:be}],[W]:Ee},$2],[W]:Ee},{[J]:[jU,$U],rules:[{[J]:[z5,ht],rules:[{[J]:Yh,endpoint:{[Ve]:"https://s3express-control-fips.{Region}.amazonaws.com/{uri_encoded_bucket}",[Ue]:Sc,[je]:ot},[W]:be},{endpoint:{[Ve]:"https://s3express-control.{Region}.amazonaws.com/{uri_encoded_bucket}",[Ue]:Sc,[je]:ot},[W]:be}],[W]:Ee}],[W]:Ee},{[J]:sk,rules:[{[J]:g5,rules:[{[J]:y5,rules:_5,[W]:Ee},{[J]:x5,rules:_5,[W]:Ee},HU],[W]:Ee},{[J]:y5,rules:w5,[W]:Ee},{[J]:x5,rules:w5,[W]:Ee},HU],[W]:Ee},$2],[W]:Ee},{[J]:[zU,jU,$U],rules:[{[J]:Sd,endpoint:{[Ve]:Xw,[Ue]:Sc,[je]:ot},[W]:be},{[J]:Yh,endpoint:{[Ve]:"https://s3express-control-fips.{Region}.amazonaws.com",[Ue]:Sc,[je]:ot},[W]:be},{endpoint:{[Ve]:"https://s3express-control.{Region}.amazonaws.com",[Ue]:Sc,[je]:ot},[W]:be}],[W]:Ee},{[J]:[Jw,{[pe]:Ea,[me]:[Vi,49,50,!0],[Xn]:M5},{[pe]:Ea,[me]:[Vi,8,12,!0],[Xn]:N5},{[pe]:Ea,[me]:[Vi,0,7,!0],[Xn]:PU},{[pe]:Ea,[me]:[Vi,32,49,!0],[Xn]:dk},{[pe]:Qw,[me]:nk,[Xn]:"regionPartition"},{[pe]:Dn,[me]:[{[it]:PU},"--op-s3"]}],rules:[{[J]:E5,rules:[{[J]:[{[pe]:Dn,[me]:[qU,"e"]}],rules:[{[J]:b5,rules:[GU,{[J]:Sd,endpoint:{[Ve]:"https://{Bucket}.ec2.{url#authority}",[Ue]:qw,[je]:ot},[W]:be}],[W]:Ee},{endpoint:{[Ve]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Ue]:qw,[je]:ot},[W]:be}],[W]:Ee},{[J]:[{[pe]:Dn,[me]:[qU,"o"]}],rules:[{[J]:b5,rules:[GU,{[J]:Sd,endpoint:{[Ve]:"https://{Bucket}.op-{outpostId}.{url#authority}",[Ue]:qw,[je]:ot},[W]:be}],[W]:Ee},{endpoint:{[Ve]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Ue]:qw,[je]:ot},[W]:be}],[W]:Ee},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[W]:qe}],[W]:Ee},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[W]:qe}],[W]:Ee},{[J]:ace,rules:[{[J]:[_r,{[pe]:ba,[me]:[{[pe]:no,[me]:[{[pe]:R5,[me]:sce}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[W]:qe},{[J]:[H2,q5],rules:[{[J]:Ll,rules:[{[J]:C5,rules:[{[J]:[Ro,UU],error:"S3 Accelerate cannot be used in this region",[W]:qe},{[J]:[Cn,Sn,yr,ht,Or],endpoint:{[Ve]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Ue]:zr,[je]:ot},[W]:be},{[J]:[Cn,Sn,yr,ht,Vt,qr],rules:[{endpoint:WU,[W]:be}],[W]:Ee},{[J]:[Cn,Sn,yr,ht,Vt,Gr],endpoint:WU,[W]:be},{[J]:[Pt,Sn,yr,ht,Or],endpoint:{[Ve]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Ue]:zr,[je]:ot},[W]:be},{[J]:[Pt,Sn,yr,ht,Vt,qr],rules:[{endpoint:KU,[W]:be}],[W]:Ee},{[J]:[Pt,Sn,yr,ht,Vt,Gr],endpoint:KU,[W]:be},{[J]:[Cn,Ct,Ro,ht,Or],endpoint:{[Ve]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Ue]:zr,[je]:ot},[W]:be},{[J]:[Cn,Ct,Ro,ht,Vt,qr],rules:[{endpoint:XU,[W]:be}],[W]:Ee},{[J]:[Cn,Ct,Ro,ht,Vt,Gr],endpoint:XU,[W]:be},{[J]:[Cn,Ct,yr,ht,Or],endpoint:{[Ve]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Ue]:zr,[je]:ot},[W]:be},{[J]:[Cn,Ct,yr,ht,Vt,qr],rules:[{endpoint:YU,[W]:be}],[W]:Ee},{[J]:[Cn,Ct,yr,ht,Vt,Gr],endpoint:YU,[W]:be},{[J]:[Pt,Ct,yr,_r,Bi,Yw,Or],endpoint:{[Ve]:O5,[Ue]:zr,[je]:ot},[W]:be},{[J]:[Pt,Ct,yr,_r,Bi,z2,Or],endpoint:{[Ve]:Kw,[Ue]:zr,[je]:ot},[W]:be},{[J]:[Pt,Ct,yr,_r,Bi,Yw,Vt,qr],rules:[{[J]:Bl,endpoint:q2,[W]:be},{endpoint:q2,[W]:be}],[W]:Ee},{[J]:[Pt,Ct,yr,_r,Bi,z2,Vt,qr],rules:[{[J]:Bl,endpoint:fk,[W]:be},QU],[W]:Ee},{[J]:[Pt,Ct,yr,_r,Bi,Yw,Vt,Gr],endpoint:q2,[W]:be},{[J]:[Pt,Ct,yr,_r,Bi,z2,Vt,Gr],endpoint:fk,[W]:be},{[J]:[Pt,Ct,Ro,ht,Or],endpoint:{[Ve]:F5,[Ue]:zr,[je]:ot},[W]:be},{[J]:[Pt,Ct,Ro,ht,Vt,qr],rules:[{[J]:Bl,endpoint:G2,[W]:be},{endpoint:G2,[W]:be}],[W]:Ee},{[J]:[Pt,Ct,Ro,ht,Vt,Gr],endpoint:G2,[W]:be},{[J]:[Pt,Ct,yr,ht,Or],endpoint:{[Ve]:MU,[Ue]:zr,[je]:ot},[W]:be},{[J]:[Pt,Ct,yr,ht,Vt,qr],rules:[{[J]:Bl,endpoint:{[Ve]:MU,[Ue]:xr,[je]:ot},[W]:be},{endpoint:ZU,[W]:be}],[W]:Ee},{[J]:[Pt,Ct,yr,ht,Vt,Gr],endpoint:ZU,[W]:be}],[W]:Ee},Gw],[W]:Ee}],[W]:Ee},{[J]:[_r,Bi,{[pe]:Dn,[me]:[{[pe]:sr,[me]:[H5,"scheme"]},"http"]},{[pe]:P5,[me]:[Vi,!0]},H2,Ct,Pt,yr],rules:[{[J]:Ll,rules:[{[J]:C5,rules:[QU],[W]:Ee},Gw],[W]:Ee}],[W]:Ee},{[J]:[H2,{[pe]:L5,[me]:oce,[Xn]:B5}],rules:[{[J]:[{[pe]:sr,[me]:[rs,"resourceId[0]"],[Xn]:V5},{[pe]:ba,[me]:[{[pe]:Dn,[me]:[G5,Zw]}]}],rules:[{[J]:[{[pe]:Dn,[me]:[W2,gk]}],rules:[{[J]:ok,rules:[{[J]:S5,rules:[JU,e5,{[J]:ak,rules:[t5,{[J]:T5,rules:[K2,{[J]:ck,rules:[{[J]:Ll,rules:[{[J]:I5,rules:[{[J]:lk,rules:[{[J]:[{[pe]:Dn,[me]:[K5,Zw]}],error:"Invalid ARN: Missing account id",[W]:qe},{[J]:uk,rules:[{[J]:A5,rules:[{[J]:Sd,endpoint:{[Ve]:NU,[Ue]:X2,[je]:ot},[W]:be},{[J]:Yh,endpoint:{[Ve]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Ue]:X2,[je]:ot},[W]:be},{endpoint:{[Ve]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Ue]:X2,[je]:ot},[W]:be}],[W]:Ee},n5],[W]:Ee},Y2],[W]:Ee},Q2],[W]:Ee},Z2],[W]:Ee}],[W]:Ee}],[W]:Ee},r5],[W]:Ee},{error:"Invalid ARN: bucket ARN is missing a region",[W]:qe}],[W]:Ee},i5],[W]:Ee},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[W]:qe}],[W]:Ee},{[J]:ok,rules:[{[J]:S5,rules:[{[J]:ak,rules:[{[J]:ok,rules:[{[J]:ak,rules:[t5,{[J]:T5,rules:[K2,{[J]:ck,rules:[{[J]:Ll,rules:[{[J]:[{[pe]:Dn,[me]:[W5,"{partitionResult#name}"]}],rules:[{[J]:lk,rules:[{[J]:[{[pe]:Dn,[me]:[W2,Qh]}],rules:[{[J]:uk,rules:[{[J]:A5,rules:[{[J]:Ww,error:"Access Points do not support S3 Accelerate",[W]:qe},{[J]:[Sn,Cn],endpoint:{[Ve]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Ue]:Y0,[je]:ot},[W]:be},{[J]:[Sn,Pt],endpoint:{[Ve]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Ue]:Y0,[je]:ot},[W]:be},{[J]:[Ct,Cn],endpoint:{[Ve]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Ue]:Y0,[je]:ot},[W]:be},{[J]:[Ct,Pt,_r,Bi],endpoint:{[Ve]:NU,[Ue]:Y0,[je]:ot},[W]:be},{[J]:[Ct,Pt],endpoint:{[Ve]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Ue]:Y0,[je]:ot},[W]:be}],[W]:Ee},n5],[W]:Ee},Y2],[W]:Ee},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[W]:qe}],[W]:Ee},Q2],[W]:Ee},Z2],[W]:Ee}],[W]:Ee}],[W]:Ee},r5],[W]:Ee}],[W]:Ee}],[W]:Ee},{[J]:[{[pe]:Td,[me]:[yk,!0]}],rules:[{[J]:rk,error:"S3 MRAP does not support dual-stack",[W]:qe},{[J]:Yh,error:"S3 MRAP does not support FIPS",[W]:qe},{[J]:Ww,error:"S3 MRAP does not support S3 Accelerate",[W]:qe},{[J]:[{[pe]:Wr,[me]:[{[it]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[W]:qe},{[J]:[{[pe]:Qw,[me]:nk,[Xn]:OU}],rules:[{[J]:[{[pe]:Dn,[me]:[{[pe]:sr,[me]:[{[it]:OU},wi]},{[pe]:sr,[me]:[rs,"partition"]}]}],rules:[{endpoint:{[Ve]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[Ue]:{[Po]:[{[Rs]:!0,name:mk,[Ps]:Qh,[pk]:cce}]},[je]:ot},[W]:be}],[W]:Ee},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[W]:qe}],[W]:Ee}],[W]:Ee},{error:"Invalid Access Point Name",[W]:qe}],[W]:Ee},i5],[W]:Ee},{[J]:[{[pe]:Dn,[me]:[W2,Q0]}],rules:[{[J]:rk,error:"S3 Outposts does not support Dual-stack",[W]:qe},{[J]:Yh,error:"S3 Outposts does not support FIPS",[W]:qe},{[J]:Ww,error:"S3 Outposts does not support S3 Accelerate",[W]:qe},{[J]:[{[pe]:no,[me]:[{[pe]:sr,[me]:[rs,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[W]:qe},{[J]:[{[pe]:sr,[me]:lce,[Xn]:dk}],rules:[{[J]:E5,rules:[K2,{[J]:ck,rules:[{[J]:Ll,rules:[{[J]:I5,rules:[{[J]:lk,rules:[{[J]:uk,rules:[{[J]:[{[pe]:sr,[me]:uce,[Xn]:FU}],rules:[{[J]:[{[pe]:sr,[me]:[rs,"resourceId[3]"],[Xn]:vk}],rules:[{[J]:[{[pe]:Dn,[me]:[{[it]:FU},U5]}],rules:[{[J]:Sd,endpoint:{[Ve]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[Ue]:s5,[je]:ot},[W]:be},{endpoint:{[Ve]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Ue]:s5,[je]:ot},[W]:be}],[W]:Ee},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[W]:qe}],[W]:Ee},{error:"Invalid ARN: expected an access point name",[W]:qe}],[W]:Ee},{error:"Invalid ARN: Expected a 4-component resource",[W]:qe}],[W]:Ee},Y2],[W]:Ee},Q2],[W]:Ee},Z2],[W]:Ee}],[W]:Ee}],[W]:Ee},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[W]:qe}],[W]:Ee},{error:"Invalid ARN: The Outpost Id was not set",[W]:qe}],[W]:Ee},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[W]:qe}],[W]:Ee},{error:"Invalid ARN: No ARN type specified",[W]:qe}],[W]:Ee},{[J]:[{[pe]:Ea,[me]:[Vi,0,4,!1],[Xn]:LU},{[pe]:Dn,[me]:[{[it]:LU},"arn:"]},{[pe]:ba,[me]:[{[pe]:no,[me]:[o5]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[W]:qe},{[J]:[{[pe]:Wr,[me]:[ice,!0]},o5],error:"Path-style addressing cannot be used with ARN buckets",[W]:qe},{[J]:ik,rules:[{[J]:Ll,rules:[{[J]:[yr],rules:[{[J]:[Cn,ht,Sn,Or],endpoint:{[Ve]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Ue]:zr,[je]:ot},[W]:be},{[J]:[Cn,ht,Sn,Vt,qr],rules:[{endpoint:a5,[W]:be}],[W]:Ee},{[J]:[Cn,ht,Sn,Vt,Gr],endpoint:a5,[W]:be},{[J]:[Pt,ht,Sn,Or],endpoint:{[Ve]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Ue]:zr,[je]:ot},[W]:be},{[J]:[Pt,ht,Sn,Vt,qr],rules:[{endpoint:c5,[W]:be}],[W]:Ee},{[J]:[Pt,ht,Sn,Vt,Gr],endpoint:c5,[W]:be},{[J]:[Cn,ht,Ct,Or],endpoint:{[Ve]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Ue]:zr,[je]:ot},[W]:be},{[J]:[Cn,ht,Ct,Vt,qr],rules:[{endpoint:l5,[W]:be}],[W]:Ee},{[J]:[Cn,ht,Ct,Vt,Gr],endpoint:l5,[W]:be},{[J]:[Pt,_r,Bi,Ct,Or],endpoint:{[Ve]:j5,[Ue]:zr,[je]:ot},[W]:be},{[J]:[Pt,_r,Bi,Ct,Vt,qr],rules:[{[J]:Bl,endpoint:J2,[W]:be},{endpoint:J2,[W]:be}],[W]:Ee},{[J]:[Pt,_r,Bi,Ct,Vt,Gr],endpoint:J2,[W]:be},{[J]:[Pt,ht,Ct,Or],endpoint:{[Ve]:BU,[Ue]:zr,[je]:ot},[W]:be},{[J]:[Pt,ht,Ct,Vt,qr],rules:[{[J]:Bl,endpoint:{[Ve]:BU,[Ue]:xr,[je]:ot},[W]:be},{endpoint:u5,[W]:be}],[W]:Ee},{[J]:[Pt,ht,Ct,Vt,Gr],endpoint:u5,[W]:be}],[W]:Ee},{error:"Path-style addressing cannot be used with S3 Accelerate",[W]:qe}],[W]:Ee}],[W]:Ee}],[W]:Ee},{[J]:[{[pe]:no,[me]:[d5]},{[pe]:Wr,[me]:[d5,!0]}],rules:[{[J]:Ll,rules:[{[J]:D5,rules:[JU,e5,{[J]:Sd,endpoint:{[Ve]:Xw,[Ue]:ek,[je]:ot},[W]:be},{[J]:Yh,endpoint:{[Ve]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[Ue]:ek,[je]:ot},[W]:be},{endpoint:{[Ve]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[Ue]:ek,[je]:ot},[W]:be}],[W]:Ee},Gw],[W]:Ee}],[W]:Ee},{[J]:[zU],rules:[{[J]:Ll,rules:[{[J]:D5,rules:[{[J]:[Sn,Cn,ht,Or],endpoint:{[Ve]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Ue]:zr,[je]:ot},[W]:be},{[J]:[Sn,Cn,ht,Vt,qr],rules:[{endpoint:f5,[W]:be}],[W]:Ee},{[J]:[Sn,Cn,ht,Vt,Gr],endpoint:f5,[W]:be},{[J]:[Sn,Pt,ht,Or],endpoint:{[Ve]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Ue]:zr,[je]:ot},[W]:be},{[J]:[Sn,Pt,ht,Vt,qr],rules:[{endpoint:h5,[W]:be}],[W]:Ee},{[J]:[Sn,Pt,ht,Vt,Gr],endpoint:h5,[W]:be},{[J]:[Ct,Cn,ht,Or],endpoint:{[Ve]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Ue]:zr,[je]:ot},[W]:be},{[J]:[Ct,Cn,ht,Vt,qr],rules:[{endpoint:p5,[W]:be}],[W]:Ee},{[J]:[Ct,Cn,ht,Vt,Gr],endpoint:p5,[W]:be},{[J]:[Ct,Pt,_r,Bi,Or],endpoint:{[Ve]:Xw,[Ue]:zr,[je]:ot},[W]:be},{[J]:[Ct,Pt,_r,Bi,Vt,qr],rules:[{[J]:Bl,endpoint:tk,[W]:be},{endpoint:tk,[W]:be}],[W]:Ee},{[J]:[Ct,Pt,_r,Bi,Vt,Gr],endpoint:tk,[W]:be},{[J]:[Ct,Pt,ht,Or],endpoint:{[Ve]:VU,[Ue]:zr,[je]:ot},[W]:be},{[J]:[Ct,Pt,ht,Vt,qr],rules:[{[J]:Bl,endpoint:{[Ve]:VU,[Ue]:xr,[je]:ot},[W]:be},{endpoint:m5,[W]:be}],[W]:Ee},{[J]:[Ct,Pt,ht,Vt,Gr],endpoint:m5,[W]:be}],[W]:Ee},Gw],[W]:Ee}],[W]:Ee}],[W]:Ee},{error:"A region must be set when sending requests to S3.",[W]:qe}]},X5=dce;var fce=new Cw({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),tE=(t,e={})=>fce.get(t,()=>I2(X5,{endpointParams:t,logger:e.logger}));bd.aws=D2;var hce=t=>(e,n,r)=>C(void 0,null,function*(){if(!r)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let i=yield t(e,n,r),s=Do(n)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!s)throw new Error(`getEndpointParameterInstructions() is not defined on \`${n.commandName}\``);let o=yield N2(r,{getEndpointParameterInstructions:s},e);return Object.assign(i,o)}),pce=(t,e,n)=>C(void 0,null,function*(){return{operation:Do(e).operation,region:(yield ni(t.region)())||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}}),Y5=hce(pce);function Q5(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}function Z5(t){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}var mce=(t,e,n)=>i=>{let o=t(i).properties?.authSchemes;if(!o)return e(i);let a=[];for(let l of o){let c=l,{name:u,properties:f={}}=c,h=du(c,["name","properties"]),m=u.toLowerCase();u!==m&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${u}\` to \`${m}\``);let y;if(m==="sigv4a"){y="aws.auth#sigv4a";let M=o.find(H=>{let K=H.name.toLowerCase();return K!=="sigv4a"&&K.startsWith("sigv4")});if(!Hw.CrtSignerV4&&M)continue}else if(m.startsWith("sigv4"))y="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${m}\``);let _=n[y];if(!_)throw new Error(`Could not find HttpAuthOption create function for \`${y}\``);let x=_(i);x.schemeId=y,x.signingProperties=G(G(G({},x.signingProperties||{}),h),f),a.push(x)}return a},gce=t=>{let e=[];switch(t.operation){default:e.push(Q5(t)),e.push(Z5(t))}return e},J5=mce(tE,gce,{"aws.auth#sigv4":Q5,"aws.auth#sigv4a":Z5}),e9=t=>{let e=jV(t),n=xV(e);return G({},n)};var t9=t=>he(G({},t),{useFipsEndpoint:t.useFipsEndpoint??!1,useDualstackEndpoint:t.useDualstackEndpoint??!1,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),nE={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var Ui=class t extends vw{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};var rE=class t extends Ui{constructor(e){super(G({name:"NoSuchUpload",$fault:"client"},e)),this.name="NoSuchUpload",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var iE=class t extends Ui{constructor(e){super(G({name:"ObjectNotInActiveTierError",$fault:"client"},e)),this.name="ObjectNotInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}},sE=class t extends Ui{constructor(e){super(G({name:"BucketAlreadyExists",$fault:"client"},e)),this.name="BucketAlreadyExists",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}},oE=class t extends Ui{constructor(e){super(G({name:"BucketAlreadyOwnedByYou",$fault:"client"},e)),this.name="BucketAlreadyOwnedByYou",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var aE=class t extends Ui{constructor(e){super(G({name:"NoSuchBucket",$fault:"client"},e)),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var cE=class t extends Ui{constructor(e){super(G({name:"InvalidObjectState",$fault:"client"},e)),this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,t.prototype),this.StorageClass=e.StorageClass,this.AccessTier=e.AccessTier}},lE=class t extends Ui{constructor(e){super(G({name:"NoSuchKey",$fault:"client"},e)),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var uE=class t extends Ui{constructor(e){super(G({name:"NotFound",$fault:"client"},e)),this.name="NotFound",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var vce=t=>G(G(G({},t),t.SecretAccessKey&&{SecretAccessKey:ks}),t.SessionToken&&{SessionToken:ks}),n9=t=>G(G(G(G({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:ks}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:ks}),t.Credentials&&{Credentials:vce(t.Credentials)}),r9=t=>G(G(G({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:ks}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:ks});var dE=class t extends Ui{constructor(e){super(G({name:"ObjectAlreadyInActiveTierError",$fault:"client"},e)),this.name="ObjectAlreadyInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var i9=t=>G(G(G({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:ks}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:ks}),s9=t=>G(G(G(G({},t),t.SSECustomerKey&&{SSECustomerKey:ks}),t.SSEKMSKeyId&&{SSEKMSKeyId:ks}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:ks});var l9=(t,e)=>C(void 0,null,function*(){let n=ow(t,e),r=ri({},Pl,{[fle]:t[Xce],[vE]:t[pE],[yE]:t[gE],[_E]:t[mE],[Jh]:[()=>Pl(t[Zh]),()=>t[Zh].toString()]});n.bp("/"),n.p("Bucket",()=>t.Bucket,"{Bucket}",!1);let i=ri({[ule]:[,""]});return n.m("GET").h(r).q(i).b(void 0),n.build()});var u9=(t,e)=>C(void 0,null,function*(){let n=ow(t,e),r=ri({},Pl,G({[ole]:t[Lce]||"application/octet-stream",[dle]:t[kce],[ele]:t[Pce],[tle]:t[Mce],[nle]:t[Nce],[rle]:t[Oce],[ile]:[()=>Pl(t[o9]),()=>t[o9].toString()],[sle]:t[Fce],[Sle]:t[Rce],[x9]:t[p9],[w9]:t[m9],[E9]:t[g9],[b9]:t[v9],[ale]:[()=>Pl(t[a9]),()=>t6(t[a9]).toString()],[lle]:t[zce],[mle]:t[Uce],[gle]:t[jce],[vle]:t[$ce],[yle]:t[Hce],[vE]:t[pE],[Cle]:t[hE],[Dle]:t[Jce],[C9]:t[y9],[Tle]:t[Yce],[S9]:t[_9],[yE]:t[gE],[_E]:t[mE],[Jh]:[()=>Pl(t[Zh]),()=>t[Zh].toString()],[ble]:t[Kce],[Ile]:t[Qce],[xle]:t[Gce],[wle]:[()=>Pl(t[c9]),()=>f6(t[c9]).toString()],[_le]:t[qce],[ple]:t[Bce]},t.Metadata!==void 0&&Object.keys(t.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=t.Metadata[c],a),{})));n.bp("/{Key+}"),n.p("Bucket",()=>t.Bucket,"{Bucket}",!1),n.p("Key",()=>t.Key,"{Key+}",!0);let i=ri({[kle]:[,"PutObject"]}),s,o;return t.Body!==void 0&&(o=t.Body,s=o),n.m("PUT").h(r).q(i).b(s),n.build()});var d9=(t,e)=>C(void 0,null,function*(){if(t.statusCode!==200&&t.statusCode>=300)return h9(t,e);let n=ri({$metadata:Mo(t),[pE]:[,t.headers[vE]],[gE]:[,t.headers[yE]],[mE]:[,t.headers[_E]],[Zh]:[()=>t.headers[Jh]!==void 0,()=>n2(t.headers[Jh])]}),r=r2(KV(yield m2(t.body,e)),"body");return r[wk]!=null&&(n[wk]=Dce(r[wk],e)),n});var f9=(t,e)=>C(void 0,null,function*(){if(t.statusCode!==200&&t.statusCode>=300)return h9(t,e);let n=ri({$metadata:Mo(t),[fE]:[,t.headers[hle]],[Vce]:[,t.headers[cle]],[p9]:[,t.headers[x9]],[m9]:[,t.headers[w9]],[g9]:[,t.headers[E9]],[v9]:[,t.headers[b9]],[pE]:[,t.headers[vE]],[Zce]:[,t.headers[Ale]],[y9]:[,t.headers[C9]],[_9]:[,t.headers[S9]],[gE]:[,t.headers[yE]],[mE]:[,t.headers[_E]],[Zh]:[()=>t.headers[Jh]!==void 0,()=>n2(t.headers[Jh])],[Wce]:[,t.headers[Ele]]});return yield O0(t.body,e),n});var h9=(t,e)=>C(void 0,null,function*(){let n=he(G({},t),{body:yield W6(t.body,e)}),r=K6(t,n.body);switch(r){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw yield Sce(n,e);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw yield Ace(n,e);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw yield xce(n,e);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw yield wce(n,e);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw yield bce(n,e);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw yield Ece(n,e);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw yield Cce(n,e);case"NotFound":case"com.amazonaws.s3#NotFound":throw yield Tce(n,e);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw yield Ice(n,e);default:let i=n.body;return _ce({output:t,parsedBody:i,errorCode:r})}}),_ce=i6(Ui),xce=(t,e)=>C(void 0,null,function*(){let n=ri({}),r=t.body,i=new sE(G({$metadata:Mo(t)},n));return eo(i,t.body)}),wce=(t,e)=>C(void 0,null,function*(){let n=ri({}),r=t.body,i=new oE(G({$metadata:Mo(t)},n));return eo(i,t.body)}),Ece=(t,e)=>C(void 0,null,function*(){let n=ri({}),r=t.body;r[xk]!=null&&(n[xk]=jh(r[xk])),r[hE]!=null&&(n[hE]=jh(r[hE]));let i=new cE(G({$metadata:Mo(t)},n));return eo(i,t.body)}),bce=(t,e)=>C(void 0,null,function*(){let n=ri({}),r=t.body,i=new aE(G({$metadata:Mo(t)},n));return eo(i,t.body)}),Cce=(t,e)=>C(void 0,null,function*(){let n=ri({}),r=t.body,i=new lE(G({$metadata:Mo(t)},n));return eo(i,t.body)}),Sce=(t,e)=>C(void 0,null,function*(){let n=ri({}),r=t.body,i=new rE(G({$metadata:Mo(t)},n));return eo(i,t.body)}),Tce=(t,e)=>C(void 0,null,function*(){let n=ri({}),r=t.body,i=new uE(G({$metadata:Mo(t)},n));return eo(i,t.body)}),Ice=(t,e)=>C(void 0,null,function*(){let n=ri({}),r=t.body,i=new dE(G({$metadata:Mo(t)},n));return eo(i,t.body)}),Ace=(t,e)=>C(void 0,null,function*(){let n=ri({}),r=t.body,i=new iE(G({$metadata:Mo(t)},n));return eo(i,t.body)});var Dce=(t,e)=>{let n={};return t[_k]!=null&&(n[_k]=jh(t[_k])),t[Ek]!=null&&(n[Ek]=jh(t[Ek])),t[bk]!=null&&(n[bk]=jh(t[bk])),t[fE]!=null&&(n[fE]=r2(n6(t[fE]))),n};var Mo=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]});var kce="ACL";var _k="AccessKeyId";var xk="AccessTier";var Zh="BucketKeyEnabled";var wk="Credentials",Rce="ChecksumAlgorithm";var Pce="CacheControl",p9="ChecksumCRC32",m9="ChecksumCRC32C",Mce="ContentDisposition";var Nce="ContentEncoding";var Oce="ContentLanguage",o9="ContentLength";var Fce="ContentMD5";var g9="ChecksumSHA1",v9="ChecksumSHA256";var Lce="ContentType";var a9="Expires";var Bce="ExpectedBucketOwner";var Vce="ETag";var fE="Expiration";var Uce="GrantFullControl";var jce="GrantRead",$ce="GrantReadACP";var Hce="GrantWriteACP";var zce="IfNoneMatch";var qce="ObjectLockLegalHoldStatus",Gce="ObjectLockMode";var c9="ObjectLockRetainUntilDate";var Wce="RequestCharged";var Kce="RequestPayer";var Ek="SecretAccessKey";var hE="StorageClass";var Xce="SessionMode";var pE="ServerSideEncryption";var y9="SSECustomerAlgorithm",Yce="SSECustomerKey",_9="SSECustomerKeyMD5";var mE="SSEKMSEncryptionContext",gE="SSEKMSKeyId";var bk="SessionToken";var Qce="Tagging";var Zce="VersionId";var Jce="WebsiteRedirectLocation";var ele="cache-control",tle="content-disposition",nle="content-encoding",rle="content-language",ile="content-length",sle="content-md5";var ole="content-type";var ale="expires";var cle="etag";var lle="if-none-match";var ule="session";var dle="x-amz-acl";var x9="x-amz-checksum-crc32",w9="x-amz-checksum-crc32c";var E9="x-amz-checksum-sha1",b9="x-amz-checksum-sha256";var fle="x-amz-create-session-mode";var hle="x-amz-expiration",ple="x-amz-expected-bucket-owner";var mle="x-amz-grant-full-control",gle="x-amz-grant-read",vle="x-amz-grant-read-acp";var yle="x-amz-grant-write-acp";var _le="x-amz-object-lock-legal-hold",xle="x-amz-object-lock-mode",wle="x-amz-object-lock-retain-until-date";var Ele="x-amz-request-charged";var ble="x-amz-request-payer";var Cle="x-amz-storage-class",Sle="x-amz-sdk-checksum-algorithm";var vE="x-amz-server-side-encryption",yE="x-amz-server-side-encryption-aws-kms-key-id",Jh="x-amz-server-side-encryption-bucket-key-enabled",_E="x-amz-server-side-encryption-context",C9="x-amz-server-side-encryption-customer-algorithm",Tle="x-amz-server-side-encryption-customer-key",S9="x-amz-server-side-encryption-customer-key-md5",Ile="x-amz-tagging";var Ale="x-amz-version-id",Dle="x-amz-website-redirect-location",kle="x-id";var xE=class extends _d.classBuilder().ep(he(G({},nE),{DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}})).m(function(e,n,r,i){return[nw(r,this.serialize,this.deserialize),Fw(r,e.getEndpointParameterInstructions()),bw(r)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(r9,n9).ser(l9).de(d9).build(){};var T9={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.679.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"vitest run","test:watch":"vitest watch","test:e2e":"vitest run -c vitest.config.e2e.ts && yarn test:browser","test:e2e:watch":"vitest watch -c vitest.config.e2e.ts","test:browser":"node ./test/browser-build/esbuild && vitest run -c vitest.config.browser.ts","test:browser:watch":"node ./test/browser-build/esbuild && vitest watch -c vitest.config.browser.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.679.0","@aws-sdk/client-sts":"3.679.0","@aws-sdk/core":"3.679.0","@aws-sdk/credential-provider-node":"3.679.0","@aws-sdk/middleware-bucket-endpoint":"3.679.0","@aws-sdk/middleware-expect-continue":"3.679.0","@aws-sdk/middleware-flexible-checksums":"3.679.0","@aws-sdk/middleware-host-header":"3.679.0","@aws-sdk/middleware-location-constraint":"3.679.0","@aws-sdk/middleware-logger":"3.679.0","@aws-sdk/middleware-recursion-detection":"3.679.0","@aws-sdk/middleware-sdk-s3":"3.679.0","@aws-sdk/middleware-ssec":"3.679.0","@aws-sdk/middleware-user-agent":"3.679.0","@aws-sdk/region-config-resolver":"3.679.0","@aws-sdk/signature-v4-multi-region":"3.679.0","@aws-sdk/types":"3.679.0","@aws-sdk/util-endpoints":"3.679.0","@aws-sdk/util-user-agent-browser":"3.679.0","@aws-sdk/util-user-agent-node":"3.679.0","@aws-sdk/xml-builder":"3.679.0","@smithy/config-resolver":"^3.0.9","@smithy/core":"^2.4.8","@smithy/eventstream-serde-browser":"^3.0.10","@smithy/eventstream-serde-config-resolver":"^3.0.7","@smithy/eventstream-serde-node":"^3.0.9","@smithy/fetch-http-handler":"^3.2.9","@smithy/hash-blob-browser":"^3.1.6","@smithy/hash-node":"^3.0.7","@smithy/hash-stream-node":"^3.1.6","@smithy/invalid-dependency":"^3.0.7","@smithy/md5-js":"^3.0.7","@smithy/middleware-content-length":"^3.0.9","@smithy/middleware-endpoint":"^3.1.4","@smithy/middleware-retry":"^3.0.23","@smithy/middleware-serde":"^3.0.7","@smithy/middleware-stack":"^3.0.7","@smithy/node-config-provider":"^3.1.8","@smithy/node-http-handler":"^3.2.4","@smithy/protocol-http":"^4.1.4","@smithy/smithy-client":"^3.4.0","@smithy/types":"^3.5.0","@smithy/url-parser":"^3.0.7","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.23","@smithy/util-defaults-mode-node":"^3.0.23","@smithy/util-endpoints":"^2.1.3","@smithy/util-middleware":"^3.0.7","@smithy/util-retry":"^3.0.7","@smithy/util-stream":"^3.1.9","@smithy/util-utf8":"^3.0.0","@smithy/util-waiter":"^3.1.6",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/signature-v4-crt":"3.679.0","@tsconfig/node16":"16.1.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};var Ck=t=>new TextEncoder().encode(t);function Sk(t){return typeof t=="string"?t.length===0:t.byteLength===0}var Tk={name:"SHA-1"},Ik={name:"HMAC",hash:Tk},I9=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);var Ple={};function ro(){return typeof window<"u"?window:typeof self<"u"?self:Ple}var Ak=function(){function t(e){this.toHash=new Uint8Array(0),e!==void 0&&(this.key=new Promise(function(n,r){ro().crypto.subtle.importKey("raw",A9(e),Ik,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))}return t.prototype.update=function(e){if(!Sk(e)){var n=A9(e),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(n){return ro().crypto.subtle.sign(Ik,n,e.toHash).then(function(r){return new Uint8Array(r)})}):Sk(this.toHash)?Promise.resolve(I9):Promise.resolve().then(function(){return ro().crypto.subtle.digest(Tk,e.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},t.prototype.reset=function(){this.toHash=new Uint8Array(0)},t}();function A9(t){return typeof t=="string"?Ck(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var Mle=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function wE(t){if(Nle(t)&&typeof t.crypto.subtle=="object"){var e=t.crypto.subtle;return Ole(e)}return!1}function Nle(t){if(typeof t=="object"&&typeof t.crypto=="object"){var e=t.crypto.getRandomValues;return typeof e=="function"}return!1}function Ole(t){return t&&Mle.every(function(e){return typeof t[e]=="function"})}var D9=function(){function t(e){if(wE(ro()))this.hash=new Ak(e);else throw new Error("SHA1 not supported")}return t.prototype.update=function(e,n){this.hash.update(Li(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();var Dk={name:"SHA-256"},kk={name:"HMAC",hash:Dk},k9=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);var Rk=function(){function t(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return t.prototype.update=function(e){if(!xa(e)){var n=Li(e),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(n){return ro().crypto.subtle.sign(kk,n,e.toHash).then(function(r){return new Uint8Array(r)})}):xa(this.toHash)?Promise.resolve(k9):Promise.resolve().then(function(){return ro().crypto.subtle.digest(Dk,e.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},t.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(n,r){ro().crypto.subtle.importKey("raw",Li(e.secret),kk,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))},t}();var is=64,R9=32,P9=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),M9=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],N9=Math.pow(2,53)-1;var Z0=function(){function t(){this.state=Int32Array.from(M9),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,r=e.byteLength;if(this.bytesHashed+=r,this.bytesHashed*8>N9)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=e[n++],r--,this.bufferLength===is&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(n.setUint8(this.bufferLength++,128),r%is>=is-8){for(var i=this.bufferLength;i<is;i++)n.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<is-8;i++)n.setUint8(i,0);n.setUint32(is-8,Math.floor(e/4294967296),!0),n.setUint32(is-4,e),this.hashBuffer(),this.finished=!0}for(var s=new Uint8Array(R9),i=0;i<8;i++)s[i*4]=this.state[i]>>>24&255,s[i*4+1]=this.state[i]>>>16&255,s[i*4+2]=this.state[i]>>>8&255,s[i*4+3]=this.state[i]>>>0&255;return s},t.prototype.hashBuffer=function(){for(var e=this,n=e.buffer,r=e.state,i=r[0],s=r[1],o=r[2],a=r[3],c=r[4],l=r[5],u=r[6],f=r[7],h=0;h<is;h++){if(h<16)this.temp[h]=(n[h*4]&255)<<24|(n[h*4+1]&255)<<16|(n[h*4+2]&255)<<8|n[h*4+3]&255;else{var m=this.temp[h-2],y=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10;m=this.temp[h-15];var _=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3;this.temp[h]=(y+this.temp[h-7]|0)+(_+this.temp[h-16]|0)}var x=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&l^~c&u)|0)+(f+(P9[h]+this.temp[h]|0)|0)|0,M=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&s^i&o^s&o)|0;f=u,u=l,l=c,c=a+x|0,a=o,o=s,s=i,i=x+M|0}r[0]+=i,r[1]+=s,r[2]+=o,r[3]+=a,r[4]+=c,r[5]+=l,r[6]+=u,r[7]+=f},t}();var O9=function(){function t(e){this.secret=e,this.hash=new Z0,this.reset()}return t.prototype.update=function(e){if(!(xa(e)||this.error))try{this.hash.update(Li(e))}catch(n){this.error=n}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return zc(this,void 0,void 0,function(){return df(this,function(e){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new Z0,this.secret){this.outer=new Z0;var e=Fle(this.secret),n=new Uint8Array(is);n.set(e);for(var r=0;r<is;r++)e[r]^=54,n[r]^=92;this.hash.update(e),this.outer.update(n);for(var r=0;r<e.byteLength;r++)e[r]=0}},t}();function Fle(t){var e=Li(t);if(e.byteLength>is){var n=new Z0;n.update(e),e=n.digest()}var r=new Uint8Array(is);return r.set(e),r}var F9=function(){function t(e){wE(ro())?this.hash=new Rk(e):this.hash=new O9(e)}return t.prototype.update=function(e,n){this.hash.update(Li(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();var L9=fu(Mk());var B9=({serviceId:t,clientVersion:e})=>n=>C(void 0,null,function*(){let r=typeof window<"u"&&window?.navigator?.userAgent?L9.default.parse(window.navigator.userAgent):void 0,i=[["aws-sdk-js",e],["ua","2.1"],[`os/${r?.os?.name||"other"}`,r?.os?.version],["lang/js"],["md/browser",`${r?.browser?.name??"unknown"}_${r?.browser?.version??"unknown"}`]];t&&i.push([`api/${t}`,e]);let s=yield n?.userAgentAppId?.();return s&&i.push([`app/${s}`]),i});var ep=class t{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let n=new Uint8Array(8);for(let r=7,i=Math.abs(Math.round(e));r>-1&&i>0;r--,i/=256)n[r]=i;return e<0&&V9(n),new t(n)}valueOf(){let e=this.bytes.slice(0),n=e[0]&128;return n&&V9(e),parseInt(rr(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function V9(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var EE=class{constructor(e,n){this.toUtf8=e,this.fromUtf8=n}format(e){let n=[];for(let s of Object.keys(e)){let o=this.fromUtf8(s);n.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[s]))}let r=new Uint8Array(n.reduce((s,o)=>s+o.byteLength,0)),i=0;for(let s of n)r.set(s,i),i+=s.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let o=new Uint8Array(s.buffer);return o.set(e.value,3),o;case"string":let a=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(ep.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!qle.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let f=new Uint8Array(17);return f[0]=9,f.set(rw(e.value.replace(/\-/g,"")),1),f}}parse(e){let n={},r=0;for(;r<e.byteLength;){let i=e.getUint8(r++),s=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,i));switch(r+=i,e.getUint8(r++)){case 0:n[s]={type:U9,value:!0};break;case 1:n[s]={type:U9,value:!1};break;case 2:n[s]={type:Lle,value:e.getInt8(r++)};break;case 3:n[s]={type:Ble,value:e.getInt16(r,!1)},r+=2;break;case 4:n[s]={type:Vle,value:e.getInt32(r,!1)},r+=4;break;case 5:n[s]={type:Ule,value:new ep(new Uint8Array(e.buffer,e.byteOffset+r,8))},r+=8;break;case 6:let o=e.getUint16(r,!1);r+=2,n[s]={type:jle,value:new Uint8Array(e.buffer,e.byteOffset+r,o)},r+=o;break;case 7:let a=e.getUint16(r,!1);r+=2,n[s]={type:$le,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,a))},r+=a;break;case 8:n[s]={type:Hle,value:new Date(new ep(new Uint8Array(e.buffer,e.byteOffset+r,8)).valueOf())},r+=8;break;case 9:let c=new Uint8Array(e.buffer,e.byteOffset+r,16);r+=16,n[s]={type:zle,value:`${rr(c.subarray(0,4))}-${rr(c.subarray(4,6))}-${rr(c.subarray(6,8))}-${rr(c.subarray(8,10))}-${rr(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return n}};var U9="boolean",Lle="byte",Ble="short",Vle="integer",Ule="long",jle="binary",$le="string",Hle="timestamp",zle="uuid",qle=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var j9=4,Vl=j9*2,Id=4,Gle=Vl+Id*2;function $9({byteLength:t,byteOffset:e,buffer:n}){if(t<Gle)throw new Error("Provided message too short to accommodate event stream message overhead");let r=new DataView(n,e,t),i=r.getUint32(0,!1);if(t!==i)throw new Error("Reported message length does not match received message length");let s=r.getUint32(j9,!1),o=r.getUint32(Vl,!1),a=r.getUint32(t-Id,!1),c=new wd().update(new Uint8Array(n,e,Vl));if(o!==c.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(n,e+Vl,t-(Vl+Id))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(n,e+Vl+Id,s),body:new Uint8Array(n,e+Vl+Id+s,i-s-(Vl+Id+Id))}}var bE=class{constructor(e,n){this.headerMarshaller=new EE(e,n),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){let e=this.messageBuffer.pop(),n=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return n}}}getAvailableMessages(){let e=this.messageBuffer;this.messageBuffer=[];let n=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return n}}}encode({headers:e,body:n}){let r=this.headerMarshaller.format(e),i=r.byteLength+n.byteLength+16,s=new Uint8Array(i),o=new DataView(s.buffer,s.byteOffset,s.byteLength),a=new wd;return o.setUint32(0,i,!1),o.setUint32(4,r.byteLength,!1),o.setUint32(8,a.update(s.subarray(0,8)).digest(),!1),s.set(r,12),s.set(n,r.byteLength+12),o.setUint32(i-4,a.update(s.subarray(8,i-4)).digest(),!1),s}decode(e){let{headers:n,body:r}=$9(e);return{headers:this.headerMarshaller.parse(n),body:r}}formatHeaders(e){return this.headerMarshaller.format(e)}};var CE=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return Yi(this,null,function*(){try{for(var e=Fa(this.options.inputStream),n,r,i;n=!(r=yield new lr(e.next())).done;n=!1){let s=r.value;yield this.options.decoder.decode(s)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new lr(r.call(e)))}finally{if(i)throw i[0]}}})}};var SE=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return Yi(this,null,function*(){try{for(var e=Fa(this.options.messageStream),n,r,i;n=!(r=yield new lr(e.next())).done;n=!1){let s=r.value;yield this.options.encoder.encode(s)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new lr(r.call(e)))}finally{if(i)throw i[0]}}this.options.includeEndFrame&&(yield new Uint8Array(0))})}};var TE=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return Yi(this,null,function*(){try{for(var e=Fa(this.options.messageStream),n,r,i;n=!(r=yield new lr(e.next())).done;n=!1){let s=r.value;let o=yield new lr(this.options.deserializer(s));o!==void 0&&(yield o)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new lr(r.call(e)))}finally{if(i)throw i[0]}}})}};var IE=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return Yi(this,null,function*(){try{for(var e=Fa(this.options.inputStream),n,r,i;n=!(r=yield new lr(e.next())).done;n=!1){let s=r.value;yield this.options.serializer(s)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new lr(r.call(e)))}finally{if(i)throw i[0]}}})}};function H9(t){let e=0,n=0,r=null,i=null,s=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);e=a,n=4,r=new Uint8Array(a),new DataView(r.buffer).setUint32(0,a,!1)},o=function(){return Yi(this,null,function*(){let a=t[Symbol.asyncIterator]();for(;;){let{value:c,done:l}=yield new lr(a.next());if(l){if(e)if(e===n)yield r;else throw new Error("Truncated event message received.");else return;return}let u=c.length,f=0;for(;f<u;){if(!r){let m=u-f;i||(i=new Uint8Array(4));let y=Math.min(4-n,m);if(i.set(c.slice(f,f+y),n),n+=y,f+=y,n<4)break;s(new DataView(i.buffer).getUint32(0,!1)),i=null}let h=Math.min(e-n,u-f);r.set(c.slice(f,f+h),n),n+=h,f+=h,e&&e===n&&(yield r,r=null,e=0,n=0)}}})};return{[Symbol.asyncIterator]:o}}function z9(t,e){return function(n){return C(this,null,function*(){let{value:r}=n.headers[":message-type"];if(r==="error"){let i=new Error(n.headers[":error-message"].value||"UnknownError");throw i.name=n.headers[":error-code"].value,i}else if(r==="exception"){let i=n.headers[":exception-type"].value,s={[i]:n},o=yield t(s);if(o.$unknown){let a=new Error(e(n.body));throw a.name=i,a}throw o[i]}else if(r==="event"){let i={[n.headers[":event-type"].value]:n},s=yield t(i);return s.$unknown?void 0:s}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)})}}var eg=class{constructor({utf8Encoder:e,utf8Decoder:n}){this.eventStreamCodec=new bE(e,n),this.utfEncoder=e}deserialize(e,n){let r=H9(e);return new TE({messageStream:new CE({inputStream:r,decoder:this.eventStreamCodec}),deserializer:z9(n,this.utfEncoder)})}serialize(e,n){return new SE({messageStream:new IE({inputStream:e,serializer:n}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};var q9=t=>({[Symbol.asyncIterator]:function(){return Yi(this,null,function*(){let e=t.getReader();try{for(;;){let{done:n,value:r}=yield new lr(e.read());if(n)return;yield r}}finally{e.releaseLock()}})}}),G9=t=>{let e=t[Symbol.asyncIterator]();return new ReadableStream({pull(r){return C(this,null,function*(){let{done:i,value:s}=yield e.next();if(i)return r.close();r.enqueue(s)})}})};var AE=class{constructor({utf8Encoder:e,utf8Decoder:n}){this.universalMarshaller=new eg({utf8Decoder:n,utf8Encoder:e})}deserialize(e,n){let r=Wle(e)?q9(e):e;return this.universalMarshaller.deserialize(r,n)}serialize(e,n){let r=this.universalMarshaller.serialize(e,n);return typeof ReadableStream=="function"?G9(r):r}},Wle=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream;var W9=t=>new AE(t);function K9(t=0){return new Promise((e,n)=>{t&&setTimeout(()=>{let r=new Error(`Request did not complete within ${t} ms`);r.name="TimeoutError",n(r)},t)})}var Nk={supported:void 0},DE=class t{static create(e){return typeof e?.handle=="function"?e:new t(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(n=>n||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),Nk.supported===void 0&&(Nk.supported=typeof Request<"u"&&"keepalive"in new Request("https://[::1]"))}destroy(){}handle(r){return C(this,arguments,function*(e,{abortSignal:n}={}){this.config||(this.config=yield this.configProvider);let i=this.config.requestTimeout,s=this.config.keepAlive===!0,o=this.config.credentials;if(n?.aborted){let H=new Error("Request aborted");return H.name="AbortError",Promise.reject(H)}let a=e.path,c=VD(e.query||{});c&&(a+=`?${c}`),e.fragment&&(a+=`#${e.fragment}`);let l="";if(e.username!=null||e.password!=null){let H=e.username??"",K=e.password??"";l=`${H}:${K}@`}let{port:u,method:f}=e,h=`${e.protocol}//${l}${e.hostname}${u?`:${u}`:""}${a}`,m=f==="GET"||f==="HEAD"?void 0:e.body,y={body:m,headers:new Headers(e.headers),method:f,credentials:o};this.config?.cache&&(y.cache=this.config.cache),m&&(y.duplex="half"),typeof AbortController<"u"&&(y.signal=n),Nk.supported&&(y.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(y,this.config.requestInit(e));let _=()=>{},x=new Request(h,y),M=[fetch(x).then(H=>{let K=H.headers,Q={};for(let fe of K.entries())Q[fe[0]]=fe[1];return H.body!=null?{response:new ns({headers:Q,reason:H.statusText,statusCode:H.status,body:H.body})}:H.blob().then(fe=>({response:new ns({headers:Q,reason:H.statusText,statusCode:H.status,body:fe})}))}),K9(i)];return n&&M.push(new Promise((H,K)=>{let Q=()=>{let ae=new Error("Request aborted");ae.name="AbortError",K(ae)};if(typeof n.addEventListener=="function"){let ae=n;ae.addEventListener("abort",Q,{once:!0}),_=()=>ae.removeEventListener("abort",Q)}else n.onabort=Q})),Promise.race(M).finally(_)})}updateHttpClientConfig(e,n){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[e]=n,r))}httpHandlerConfigs(){return this.config??{}}};var X9=t=>typeof Blob=="function"&&t instanceof Blob?Kle(t):Xle(t);function Kle(t){return C(this,null,function*(){let e=yield Yle(t),n=Bh(e);return new Uint8Array(n)})}function Xle(t){return C(this,null,function*(){let e=[],n=t.getReader(),r=!1,i=0;for(;!r;){let{done:a,value:c}=yield n.read();c&&(e.push(c),i+=c.length),r=a}let s=new Uint8Array(i),o=0;for(let a of e)s.set(a,o),o+=a.length;return s})}function Yle(t){return new Promise((e,n)=>{let r=new FileReader;r.onloadend=()=>{if(r.readyState!==2)return n(new Error("Reader aborted too early"));let i=r.result??"",s=i.indexOf(","),o=s>-1?s+1:i.length;e(i.substring(o))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(t)})}function Y9(r,i){return C(this,arguments,function*(t,e,n=1024*1024){let s=t.size,o=0;for(;o<s;){let a=t.slice(o,Math.min(s,o+n));e(new Uint8Array(yield a.arrayBuffer())),o+=a.size}})}var Q9=function(e,n){return C(this,null,function*(){let r=new e;return yield Y9(n,i=>{r.update(i)}),r.digest()})};var Z9=t=>()=>Promise.reject(t);var J9=[1732584193,4023233417,2562383102,271733878];var kE=class{constructor(){this.reset()}update(e){if(Zle(e))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");let n=Jle(e),r=0,{byteLength:i}=n;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,n[r++]),i--,this.bufferLength===64&&(this.hashBuffer(),this.bufferLength=0)}digest(){return C(this,null,function*(){if(!this.finished){let{buffer:n,bufferLength:r,bytesHashed:i}=this,s=i*8;if(n.setUint8(this.bufferLength++,128),r%64>=56){for(let o=this.bufferLength;o<64;o++)n.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(let o=this.bufferLength;o<56;o++)n.setUint8(o,0);n.setUint32(56,s>>>0,!0),n.setUint32(60,Math.floor(s/4294967296),!0),this.hashBuffer(),this.finished=!0}let e=new DataView(new ArrayBuffer(16));for(let n=0;n<4;n++)e.setUint32(n*4,this.state[n],!0);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)})}hashBuffer(){let{buffer:e,state:n}=this,r=n[0],i=n[1],s=n[2],o=n[3];r=Ei(r,i,s,o,e.getUint32(0,!0),7,3614090360),o=Ei(o,r,i,s,e.getUint32(4,!0),12,3905402710),s=Ei(s,o,r,i,e.getUint32(8,!0),17,606105819),i=Ei(i,s,o,r,e.getUint32(12,!0),22,3250441966),r=Ei(r,i,s,o,e.getUint32(16,!0),7,4118548399),o=Ei(o,r,i,s,e.getUint32(20,!0),12,1200080426),s=Ei(s,o,r,i,e.getUint32(24,!0),17,2821735955),i=Ei(i,s,o,r,e.getUint32(28,!0),22,4249261313),r=Ei(r,i,s,o,e.getUint32(32,!0),7,1770035416),o=Ei(o,r,i,s,e.getUint32(36,!0),12,2336552879),s=Ei(s,o,r,i,e.getUint32(40,!0),17,4294925233),i=Ei(i,s,o,r,e.getUint32(44,!0),22,2304563134),r=Ei(r,i,s,o,e.getUint32(48,!0),7,1804603682),o=Ei(o,r,i,s,e.getUint32(52,!0),12,4254626195),s=Ei(s,o,r,i,e.getUint32(56,!0),17,2792965006),i=Ei(i,s,o,r,e.getUint32(60,!0),22,1236535329),r=bi(r,i,s,o,e.getUint32(4,!0),5,4129170786),o=bi(o,r,i,s,e.getUint32(24,!0),9,3225465664),s=bi(s,o,r,i,e.getUint32(44,!0),14,643717713),i=bi(i,s,o,r,e.getUint32(0,!0),20,3921069994),r=bi(r,i,s,o,e.getUint32(20,!0),5,3593408605),o=bi(o,r,i,s,e.getUint32(40,!0),9,38016083),s=bi(s,o,r,i,e.getUint32(60,!0),14,3634488961),i=bi(i,s,o,r,e.getUint32(16,!0),20,3889429448),r=bi(r,i,s,o,e.getUint32(36,!0),5,568446438),o=bi(o,r,i,s,e.getUint32(56,!0),9,3275163606),s=bi(s,o,r,i,e.getUint32(12,!0),14,4107603335),i=bi(i,s,o,r,e.getUint32(32,!0),20,1163531501),r=bi(r,i,s,o,e.getUint32(52,!0),5,2850285829),o=bi(o,r,i,s,e.getUint32(8,!0),9,4243563512),s=bi(s,o,r,i,e.getUint32(28,!0),14,1735328473),i=bi(i,s,o,r,e.getUint32(48,!0),20,2368359562),r=Ci(r,i,s,o,e.getUint32(20,!0),4,4294588738),o=Ci(o,r,i,s,e.getUint32(32,!0),11,2272392833),s=Ci(s,o,r,i,e.getUint32(44,!0),16,1839030562),i=Ci(i,s,o,r,e.getUint32(56,!0),23,4259657740),r=Ci(r,i,s,o,e.getUint32(4,!0),4,2763975236),o=Ci(o,r,i,s,e.getUint32(16,!0),11,1272893353),s=Ci(s,o,r,i,e.getUint32(28,!0),16,4139469664),i=Ci(i,s,o,r,e.getUint32(40,!0),23,3200236656),r=Ci(r,i,s,o,e.getUint32(52,!0),4,681279174),o=Ci(o,r,i,s,e.getUint32(0,!0),11,3936430074),s=Ci(s,o,r,i,e.getUint32(12,!0),16,3572445317),i=Ci(i,s,o,r,e.getUint32(24,!0),23,76029189),r=Ci(r,i,s,o,e.getUint32(36,!0),4,3654602809),o=Ci(o,r,i,s,e.getUint32(48,!0),11,3873151461),s=Ci(s,o,r,i,e.getUint32(60,!0),16,530742520),i=Ci(i,s,o,r,e.getUint32(8,!0),23,3299628645),r=Si(r,i,s,o,e.getUint32(0,!0),6,4096336452),o=Si(o,r,i,s,e.getUint32(28,!0),10,1126891415),s=Si(s,o,r,i,e.getUint32(56,!0),15,2878612391),i=Si(i,s,o,r,e.getUint32(20,!0),21,4237533241),r=Si(r,i,s,o,e.getUint32(48,!0),6,1700485571),o=Si(o,r,i,s,e.getUint32(12,!0),10,2399980690),s=Si(s,o,r,i,e.getUint32(40,!0),15,4293915773),i=Si(i,s,o,r,e.getUint32(4,!0),21,2240044497),r=Si(r,i,s,o,e.getUint32(32,!0),6,1873313359),o=Si(o,r,i,s,e.getUint32(60,!0),10,4264355552),s=Si(s,o,r,i,e.getUint32(24,!0),15,2734768916),i=Si(i,s,o,r,e.getUint32(52,!0),21,1309151649),r=Si(r,i,s,o,e.getUint32(16,!0),6,4149444226),o=Si(o,r,i,s,e.getUint32(44,!0),10,3174756917),s=Si(s,o,r,i,e.getUint32(8,!0),15,718787259),i=Si(i,s,o,r,e.getUint32(36,!0),21,3951481745),n[0]=r+n[0]&4294967295,n[1]=i+n[1]&4294967295,n[2]=s+n[2]&4294967295,n[3]=o+n[3]&4294967295}reset(){this.state=Uint32Array.from(J9),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}};function RE(t,e,n,r,i,s){return e=(e+t&4294967295)+(r+s&4294967295)&4294967295,(e<<i|e>>>32-i)+n&4294967295}function Ei(t,e,n,r,i,s,o){return RE(e&n|~e&r,t,e,i,s,o)}function bi(t,e,n,r,i,s,o){return RE(e&r|n&~r,t,e,i,s,o)}function Ci(t,e,n,r,i,s,o){return RE(e^n^r,t,e,i,s,o)}function Si(t,e,n,r,i,s,o){return RE(n^(e|~r),t,e,i,s,o)}function Zle(t){return typeof t=="string"?t.length===0:t.byteLength===0}function Jle(t){return typeof t=="string"?Ds(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var ej=typeof TextEncoder=="function"?new TextEncoder:null,tj=t=>{if(typeof t=="string"){if(ej)return ej.encode(t).byteLength;let e=t.length;for(let n=e-1;n>=0;n--){let r=t.charCodeAt(n);r>127&&r<=2047?e++:r>2047&&r<=65535&&(e+=2),r>=56320&&r<=57343&&n--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)};var nj=t=>({apiVersion:"2006-03-01",base64Decoder:t?.base64Decoder??Bh,base64Encoder:t?.base64Encoder??gd,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??tE,extensions:t?.extensions??[],getAwsChunkedEncodingStream:t?.getAwsChunkedEncodingStream??cV,httpAuthSchemeProvider:t?.httpAuthSchemeProvider??J5,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new hd},{schemeId:"aws.auth#sigv4a",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4a"),signer:new M0}],logger:t?.logger??new Ml,sdkStreamMixin:t?.sdkStreamMixin??hV,serviceId:t?.serviceId??"S3",signerConstructor:t?.signerConstructor??zw,signingEscapePath:t?.signingEscapePath??!1,urlParser:t?.urlParser??qh,useArnRegion:t?.useArnRegion??!1,utf8Decoder:t?.utf8Decoder??Ds,utf8Encoder:t?.utf8Encoder??Vh});var ij=fu(Mk());var rj=["in-region","cross-region","mobile","standard","legacy"];var sj=({defaultsMode:t}={})=>_V(()=>C(void 0,null,function*(){let e=typeof t=="function"?yield t():t;switch(e?.toLowerCase()){case"auto":return Promise.resolve(eue()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${rj.join(", ")}, got ${e}`)}})),eue=()=>{let e=(typeof window<"u"&&window?.navigator?.userAgent?ij.default.parse(window.navigator.userAgent):void 0)?.platform?.type;return e==="tablet"||e==="mobile"};var oj=t=>{let e=sj(t),n=()=>e().then(s6),r=nj(t);return he(G(G({},r),t),{runtime:"browser",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??tj,credentialDefaultProvider:t?.credentialDefaultProvider??(i=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:t?.defaultUserAgentProvider??B9({serviceId:r.serviceId,clientVersion:T9.version}),eventStreamSerdeProvider:t?.eventStreamSerdeProvider??W9,maxAttempts:t?.maxAttempts??Fl,md5:t?.md5??kE,region:t?.region??Z9("Region is missing"),requestHandler:DE.create(t?.requestHandler??n),retryMode:t?.retryMode??(()=>C(void 0,null,function*(){return(yield n()).retryMode||O2})),sha1:t?.sha1??D9,sha256:t?.sha256??F9,streamCollector:t?.streamCollector??X9,streamHasher:t?.streamHasher??Q9,useDualstackEndpoint:t?.useDualstackEndpoint??(()=>Promise.resolve(iU)),useFipsEndpoint:t?.useFipsEndpoint??(()=>Promise.resolve(sU))})};var aj=t=>{let e=()=>C(void 0,null,function*(){if(t.region===void 0)throw new Error("Region is missing from runtimeConfig");let n=t.region;return typeof n=="string"?n:n()});return{setRegion(n){e=n},region(){return e}}},cj=t=>({region:t.region()});var lj=t=>{let e=t.httpAuthSchemes,n=t.httpAuthSchemeProvider,r=t.credentials;return{setHttpAuthScheme(i){let s=e.findIndex(o=>o.schemeId===i.schemeId);s===-1?e.push(i):e.splice(s,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){n=i},httpAuthSchemeProvider(){return n},setCredentials(i){r=i},credentials(){return r}}},uj=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()});var PE=t=>t,dj=(t,e)=>{let n=G(G(G(G({},PE(aj(t))),PE(u6(t))),PE(WB(t))),PE(lj(t)));return e.forEach(r=>r.configure(n)),G(G(G(G(G({},t),cj(n)),d6(n)),KB(n)),uj(n))};var ME=class extends gw{constructor(...[e]){let n=oj(e||{}),r=t9(n),i=R8(r),s=o8(i),o=IU(s),a=oU(o),c=a,l=mU(c),u=aU(l),f=e9(u),h=T8(f,{session:[()=>this,xE]}),m=dj(h,e?.extensions||[]);super(m),this.config=m,this.middlewareStack.use(rU(this.config)),this.middlewareStack.use(DU(this.config)),this.middlewareStack.use(lU(this.config)),this.middlewareStack.use(a8(this.config)),this.middlewareStack.use(c8(this.config)),this.middlewareStack.use(u8(this.config)),this.middlewareStack.use(eV(this.config,{httpAuthSchemeParametersProvider:Y5,identityProviderConfigProvider:y=>C(this,null,function*(){return new aw({"aws.auth#sigv4":y.credentials,"aws.auth#sigv4a":y.credentials})})})),this.middlewareStack.use(iV(this.config)),this.middlewareStack.use(k8(this.config)),this.middlewareStack.use(XB(this.config)),this.middlewareStack.use(p8(this.config)),this.middlewareStack.use(b2(this.config)),this.middlewareStack.use(C2(this.config))}destroy(){super.destroy()}};function nue(t){return e=>n=>C(this,null,function*(){let r=G({},n.input),i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let s of i){let o=r[s.target];if(o){let a;typeof o=="string"?iue(o,t)?a=t.base64Decoder(o):(a=t.utf8Decoder(o),r[s.target]=t.base64Encoder(a)):(a=ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o),r[s.target]=t.base64Encoder(a));let c=new t.md5;c.update(a),r[s.hash]=t.base64Encoder(yield c.digest())}}return e(he(G({},n),{input:r}))})}var rue={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},fj=t=>({applyToStack:e=>{e.add(nue(t),rue)}});function iue(t,e){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t))return!1;try{return e.base64Decoder(t).length===32}catch{return!1}}var NE=class extends _d.classBuilder().ep(he(G({},nE),{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(e,n,r,i){return[nw(r,this.serialize,this.deserialize),Fw(r,e.getEndpointParameterInstructions()),s8(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}),d8(r),bw(r),fj(r)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(s9,i9).ser(u9).de(f9).build(){};var tg={bucketName:"clinic-profile-images",region:"nyc3",accessKeyId:"DO00U2C2Q94HAEM78V2Q",secretAccessKey:"Vj8Gg8mgZ0p78/cy6TadY3a/dJ1Al1Z6DfcDKhkHENA"};var si=[];for(let t=0;t<256;++t)si.push((t+256).toString(16).slice(1));function hj(t,e=0){return(si[t[e+0]]+si[t[e+1]]+si[t[e+2]]+si[t[e+3]]+"-"+si[t[e+4]]+si[t[e+5]]+"-"+si[t[e+6]]+si[t[e+7]]+"-"+si[t[e+8]]+si[t[e+9]]+"-"+si[t[e+10]]+si[t[e+11]]+si[t[e+12]]+si[t[e+13]]+si[t[e+14]]+si[t[e+15]]).toLowerCase()}var Ok,sue=new Uint8Array(16);function Fk(){if(!Ok){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ok=crypto.getRandomValues.bind(crypto)}return Ok(sue)}var oue=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Lk={randomUUID:oue};function aue(t,e,n){if(Lk.randomUUID&&!e&&!t)return Lk.randomUUID();t=t||{};let r=t.random||(t.rng||Fk)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return hj(r)}var Bk=aue;var jl=class t{s3Client;bucketName=tg.bucketName;region=tg.region;constructor(){this.s3Client=new ME({region:this.region,endpoint:"https://nyc3.digitaloceanspaces.com",credentials:{accessKeyId:tg.accessKeyId,secretAccessKey:tg.secretAccessKey}})}uploadImage(e){return C(this,null,function*(){if(!["image/jpeg","image/png","image/gif"].includes(e.type))throw new Error("Tipo de archivo no soportado.");let r=e.name.split(".").pop(),i=`${Bk()}.${r}`,s=new NE({Bucket:this.bucketName,Key:i,Body:e,ACL:"public-read"});try{return yield this.s3Client.send(s),`https://${this.bucketName}.nyc3.digitaloceanspaces.com/${i}`}catch(o){console.error("Error al subir la imagen",o);let a=o;throw new Error(`Error al subir la imagen: ${a.message}`)}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})};function cue(t,e){t&1&&(S(0,"div",23),k(1," El nombre es requerido y solo puede contener letras. "),E())}function lue(t,e){t&1&&(S(0,"div",23),k(1," El apellido es requerido y solo puede contener letras. "),E())}function uue(t,e){t&1&&(S(0,"div",23),k(1," La edad es requerida y debe ser un n\xFAmero positivo. "),E())}function due(t,e){t&1&&(S(0,"div",23),k(1," El DNI es requerido y debe tener 10 d\xEDgitos. "),E())}function fue(t,e){t&1&&(S(0,"div",23),k(1," La obra social es requerida. "),E())}function hue(t,e){t&1&&(S(0,"div",23),k(1," Por favor, ingresa un correo v\xE1lido. "),E())}function pue(t,e){t&1&&(S(0,"div",23),k(1," La contrase\xF1a es requerida y debe tener al menos 6 caracteres. "),E())}function mue(t,e){t&1&&(S(0,"div"),k(1," Debes cargar ambas im\xE1genes de perfil. "),E())}function gue(t,e){t&1&&(S(0,"div",30)(1,"div",31)(2,"span",32),k(3,"Cargando..."),E()()())}function vue(t,e){if(t&1&&(S(0,"div",33),k(1),E()),t&2){let n=Ce();q(),Dt(" ",n.errorMessage," ")}}var tp=class t{constructor(e,n,r,i,s){this.fb=e;this.auth=n;this.firestore=r;this.router=i;this.imagesService=s;this.registerForm=this.fb.group({nombre:["",[Ze.required,Ze.pattern(/^[a-zA-Z\s]*$/)]],apellido:["",[Ze.required,Ze.pattern(/^[a-zA-Z\s]*$/)]],edad:["",[Ze.required,Ze.min(0)]],dni:["",[Ze.required,Ze.pattern(/^\d{8}$/)]],obraSocial:["",[Ze.required,Ze.pattern(/^[a-zA-Z\s]*$/)]],email:["",[Ze.required,Ze.email]],password:["",[Ze.required,Ze.minLength(6)]],perfil1:[null],perfil2:[null]})}redirectToLogin=!0;registrationSuccess=new It;registerForm;perfil1Loaded=!1;perfil2Loaded=!1;errorMessage="";loading=!1;recaptchaResponse=null;siteKeyCaptcha=Mh.siteKey;ngOnDestroy(){console.log("Limpiando imagen")}resolved(e){this.recaptchaResponse=e}onFileChange(e,n){let r=e.target.files[0];r?["image/jpeg","image/png","image/gif"].includes(r.type)?(this.registerForm.patchValue({[n]:r}),n==="perfil1"?this.perfil1Loaded=!0:n==="perfil2"&&(this.perfil2Loaded=!0),this.errorMessage=""):(this.errorMessage="Por favor, sube una imagen v\xE1lida (JPEG, PNG o GIF).",n==="perfil1"?this.perfil1Loaded=!1:n==="perfil2"&&(this.perfil2Loaded=!1)):(n==="perfil1"?this.perfil1Loaded=!1:n==="perfil2"&&(this.perfil2Loaded=!1),this.errorMessage="La imagen de perfil es requerida.")}onSubmit(){return C(this,null,function*(){this.registerForm.valid?(this.loading=!0,lh(this.auth,this.registerForm.value.email,this.registerForm.value.password).then(e=>C(this,null,function*(){let n=e.user;console.log("Usuario creado",n);try{yield uh(n),console.log("Correo de verificaci\xF3n enviado")}catch(s){console.error("Error al enviar el correo de verificaci\xF3n",s)}let r=yield this.imagesService.uploadImage(this.registerForm.value.perfil1),i=yield this.imagesService.uploadImage(this.registerForm.value.perfil2);try{yield this.logUser(r,i),Uk.default.fire({title:"\xA1Registro exitoso!",text:"Por favor, verifica tu correo electr\xF3nico para continuar.",icon:"success",confirmButtonText:"Ok"}).then(()=>{this.redirectToLogin?this.router.navigate(["/login"]):(console.log("Usuario registrado desde el panel de administrador"),this.registerForm.reset(),this.registerForm.patchValue({perfil1:null}),this.registerForm.patchValue({perfil2:null}),this.registrationSuccess.emit())})}catch(s){console.error("Error al registrar el usuario",s),Uk.default.fire({title:"Error",text:"Hubo un error al registrar el usuario. Por favor, intenta nuevamente.",icon:"error",confirmButtonText:"Ok"})}})).catch(e=>{switch(e.code){case"auth/email-already-in-use":this.errorMessage="El email ya est\xE1 en uso";break;case"auth/invalid-email":this.errorMessage="El email no es v\xE1lido";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a tiene que tener al menos 6 caracteres";break;default:this.errorMessage="Error al registrar el usuario";break}this.loading=!1}).finally(()=>{this.loading=!1})):this.errorMessage="Por favor, completa todos los campos correctamente."})}logUser(e,n){return C(this,null,function*(){let r=Kn(this.firestore,"pacientes"),i={nombre:this.registerForm.value.nombre.toLowerCase(),apellido:this.registerForm.value.apellido.toLowerCase(),edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,obraSocial:this.registerForm.value.obraSocial,email:this.registerForm.value.email,perfil1:e,perfil2:n,fechaRegistro:$n.fromDate(new Date)};try{yield Al(r,i),console.log("Usuario registrado correctamente")}catch(s){console.error("Error al registrar el usuario",s)}})}static \u0275fac=function(n){return new(n||t)(ge(oa),ge(Ss),ge(nr),ge(ti),ge(jl))};static \u0275cmp=Et({type:t,selectors:[["app-pacient-form"]],inputs:{redirectToLogin:"redirectToLogin"},outputs:{registrationSuccess:"registrationSuccess"},standalone:!0,features:[Ft],decls:55,vars:13,consts:[[1,"container","mt-5"],[1,"text-center"],[1,"container-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","required","",1,"form-control"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","required","",1,"form-control"],["for","obraSocial",1,"form-label"],["type","text","id","obraSocial","formControlName","obraSocial","required","",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["for","perfil1",1,"form-label"],["type","file","id","perfil1","accept","image/*","required","",1,"form-control",3,"change"],["for","perfil2",1,"form-label"],["type","file","id","perfil2","accept","image/*","required","",1,"form-control",3,"change"],[1,"text-danger"],[4,"ngIf"],[1,"form-group"],["required","",3,"resolved","siteKey"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(n,r){if(n&1&&(S(0,"div",0)(1,"h2",1),k(2," Registro paciente"),E(),S(3,"form",2),Te("ngSubmit",function(){return r.onSubmit()}),S(4,"div",3)(5,"label",4),k(6,"Nombre"),E(),Ie(7,"input",5),Se(8,cue,2,0,"div",6),E(),S(9,"div",3)(10,"label",7),k(11,"Apellido"),E(),Ie(12,"input",8),Se(13,lue,2,0,"div",6),E(),S(14,"div",3)(15,"label",9),k(16,"Edad"),E(),Ie(17,"input",10),Se(18,uue,2,0,"div",6),E(),S(19,"div",3)(20,"label",11),k(21,"DNI"),E(),Ie(22,"input",12),Se(23,due,2,0,"div",6),E(),S(24,"div",3)(25,"label",13),k(26,"Obra Social"),E(),Ie(27,"input",14),Se(28,fue,2,0,"div",6),E(),S(29,"div",3)(30,"label",15),k(31,"Email"),E(),Ie(32,"input",16),Se(33,hue,2,0,"div",6),E(),S(34,"div",3)(35,"label",17),k(36,"Contrase\xF1a"),E(),Ie(37,"input",18),Se(38,pue,2,0,"div",6),E(),S(39,"div",3)(40,"label",19),k(41,"Imagen de Perfil 1"),E(),S(42,"input",20),Te("change",function(s){return r.onFileChange(s,"perfil1")}),E()(),S(43,"div",3)(44,"label",21),k(45,"Imagen de Perfil 2"),E(),S(46,"input",22),Te("change",function(s){return r.onFileChange(s,"perfil2")}),E()(),S(47,"div",23),Se(48,mue,2,0,"div",24),E(),S(49,"div",25)(50,"re-captcha",26),Te("resolved",function(s){return r.resolved(s)}),E()(),S(51,"button",27),k(52," Registrarse "),E(),Se(53,gue,4,0,"div",28)(54,vue,2,1,"div",29),E()()),n&2){let i,s,o,a,c,l,u;q(3),ne("formGroup",r.registerForm),q(5),ne("ngIf",((i=r.registerForm.get("nombre"))==null?null:i.invalid)&&((i=r.registerForm.get("nombre"))==null?null:i.touched)),q(5),ne("ngIf",((s=r.registerForm.get("apellido"))==null?null:s.invalid)&&((s=r.registerForm.get("apellido"))==null?null:s.touched)),q(5),ne("ngIf",((o=r.registerForm.get("edad"))==null?null:o.invalid)&&((o=r.registerForm.get("edad"))==null?null:o.touched)),q(5),ne("ngIf",((a=r.registerForm.get("dni"))==null?null:a.invalid)&&((a=r.registerForm.get("dni"))==null?null:a.touched)),q(5),ne("ngIf",((c=r.registerForm.get("obraSocial"))==null?null:c.invalid)&&((c=r.registerForm.get("obraSocial"))==null?null:c.touched)),q(5),ne("ngIf",((l=r.registerForm.get("email"))==null?null:l.invalid)&&((l=r.registerForm.get("email"))==null?null:l.touched)),q(5),ne("ngIf",((u=r.registerForm.get("password"))==null?null:u.invalid)&&((u=r.registerForm.get("password"))==null?null:u.touched)),q(10),ne("ngIf",!r.perfil1Loaded||!r.perfil2Loaded),q(2),dr("siteKey",r.siteKeyCaptcha),q(),ne("disabled",r.registerForm.invalid||r.loading||!r.perfil1Loaded||!r.perfil2Loaded||r.recaptchaResponse===null),q(2),ne("ngIf",r.loading),q(),ne("ngIf",r.errorMessage)}},dependencies:[Qs,sa,Vr,qu,vi,ia,ic,Ys,Co,_n,dn,Oh,Nh],styles:[".container-form[_ngcontent-%COMP%]{background-color:#fff;padding:30px;margin-bottom:20px;border-radius:10px;box-shadow:0 4px 8px #0000001a}"]})};var jk=fu(D0());function yue(t,e){t&1&&(S(0,"div",30),k(1," El nombre es requerido y solo puede contener letras. "),E())}function _ue(t,e){t&1&&(S(0,"div",30),k(1," El apellido es requerido y solo puede contener letras. "),E())}function xue(t,e){t&1&&(S(0,"div",30),k(1," La edad es requerida y debe ser mayor de edad. "),E())}function wue(t,e){t&1&&(S(0,"div",30),k(1," El DNI es requerido y debe tener 8 d\xEDgitos. "),E())}function Eue(t,e){t&1&&(S(0,"div",30),k(1," La especialidad es requerida. "),E())}function bue(t,e){t&1&&(S(0,"div",30),k(1," La especialidad extra es requerida. "),E())}function Cue(t,e){if(t&1&&(S(0,"div",37)(1,"div",38)(2,"label",39),k(3,"Especialidad Extra"),E(),Ie(4,"input",40),Se(5,bue,2,0,"div",6),E()()),t&2){let n=e.$implicit,r=e.index;q(),ne("formGroupName",r),q(4),ne("ngIf",n.invalid&&n.touched)}}function Sue(t,e){t&1&&(S(0,"div",30),k(1," Por favor, ingresa un correo v\xE1lido. "),E())}function Tue(t,e){t&1&&(S(0,"div",30),k(1," La contrase\xF1a es requerida y debe tener al menos 6 caracteres. "),E())}function Iue(t,e){t&1&&(S(0,"div",41),k(1," Imagen cargada correctamente. "),E())}function Aue(t,e){t&1&&(S(0,"div"),k(1," La imagen de perfil es requerida. "),E())}function Due(t,e){t&1&&(S(0,"div",42)(1,"div",43)(2,"span",44),k(3,"Cargando..."),E()()())}function kue(t,e){if(t&1&&(S(0,"div",45),k(1),E()),t&2){let n=Ce();q(),Dt(" ",n.errorMessage," ")}}var np=class t{constructor(e,n,r,i,s){this.fb=e;this.auth=n;this.firestore=r;this.router=i;this.imagesService=s;this.registerForm=this.fb.group({nombre:["",[Ze.required,Ze.pattern(/^[a-zA-Z\s]*$/)]],apellido:["",[Ze.required,Ze.pattern(/^[a-zA-Z\s]*$/)]],edad:["",[Ze.required,Ze.min(18)]],dni:["",[Ze.required,Ze.pattern(/^\d{8}$/)]],especialidad:["",[Ze.required,Ze.pattern(/^[a-zA-Z\s]*$/)]],email:["",[Ze.required,Ze.email]],password:["",[Ze.required,Ze.minLength(6)]],perfil1:[null],especialidadesExtras:this.fb.array([])})}redirectToLogin=!0;registrationSuccess=new It;registerForm;perfil1Loaded=!1;errorMessage="";loading=!1;recaptchaResponse=null;siteKeyCaptcha=Mh.siteKey;get extraSpecialties(){return this.registerForm.get("especialidadesExtras")}resolved(e){this.recaptchaResponse=e}addExtraSpecialty(){let e=this.fb.group({nombre:["",Ze.required]});this.extraSpecialties.push(e)}ngOnDestroy(){console.log("Limpiando imagen")}onFileChange(e,n){let r=e.target.files[0];r?["image/jpeg","image/png","image/gif"].includes(r.type)?(this.registerForm.patchValue({[n]:r}),this.perfil1Loaded=!0):(this.perfil1Loaded=!1,this.errorMessage="Por favor, sube una imagen v\xE1lida (JPEG, PNG o GIF)."):(this.perfil1Loaded=!1,this.errorMessage="La imagen de perfil es requerida.")}onSubmit(){return C(this,null,function*(){this.registerForm.valid&&(console.log(this.registerForm.value),this.loading=!0,lh(this.auth,this.registerForm.value.email,this.registerForm.value.password).then(e=>C(this,null,function*(){let n=e.user;console.log("Usuario creado:",n);try{yield uh(n),console.log("Correo de verificaci\xF3n enviado")}catch(i){console.error("Error al enviar el correo de verificaci\xF3n:",i)}let r=yield this.imagesService.uploadImage(this.registerForm.value.perfil1);try{yield this.logUser(r),console.log("Correo de verificaci\xF3n enviado"),jk.default.fire({icon:"success",title:"\xA1Registro exitoso!",text:"Por favor, verifica tu correo electr\xF3nico para continuar."}).then(()=>{this.redirectToLogin?this.router.navigate(["/login"]):(console.log("Usuario registrado desde el panel de administrador"),this.registerForm.reset(),this.registerForm.patchValue({perfil1:null}),this.registrationSuccess.emit())})}catch(i){console.error("Error al crear el usuario",i),jk.default.fire({icon:"error",title:"Error al crear el usuario",text:"Por favor, intenta de nuevo."})}})).catch(e=>{switch(e.code){case"auth/email-already-in-use":this.errorMessage="El email ya est\xE1 en uso";break;case"auth/invalid-email":this.errorMessage="El email no es v\xE1lido";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres";break;default:this.errorMessage="Error al registrar el usuario";break}this.loading=!1}).finally(()=>{this.loading=!1}))})}logUser(e){return C(this,null,function*(){let n=[];n.push(this.registerForm.value.especialidad),this.registerForm.value.especialidadesExtras.forEach(s=>{n.push(s.nombre.toLowerCase())});let r=Kn(this.firestore,"especialistas"),i={nombre:this.registerForm.value.nombre.toLowerCase(),apellido:this.registerForm.value.apellido.toLowerCase(),edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,especialidades:n,email:this.registerForm.value.email,perfil1:e,profileValidatedByAdmin:!1,fechaRegistro:$n.now()};try{yield Al(r,i)}catch(s){console.error("Error al crear el usuario:",s)}})}static \u0275fac=function(n){return new(n||t)(ge(oa),ge(Ss),ge(nr),ge(ti),ge(jl))};static \u0275cmp=Et({type:t,selectors:[["app-specialist-form"]],inputs:{redirectToLogin:"redirectToLogin"},outputs:{registrationSuccess:"registrationSuccess"},standalone:!0,features:[Ft],decls:65,vars:15,consts:[[1,"container","mt-5"],[1,"text-center"],[1,"container-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","required","",1,"form-control"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","required","",1,"form-control"],["for","especialidad",1,"form-label"],["id","especialidad","formControlName","especialidad","required","",1,"form-select"],["value",""],["value","cardiologia"],["value","odontologia"],["value","psicologia"],["formArrayName","especialidadesExtras",4,"ngFor","ngForOf"],[1,"text-end","mb-3"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-plus"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["for","perfil1",1,"form-label"],["type","file","id","perfil1","accept","image/*",1,"form-control",3,"change"],["class","text-success",4,"ngIf"],[1,"text-danger"],[4,"ngIf"],[1,"form-group"],["required","",3,"resolved","siteKey"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["formArrayName","especialidadesExtras"],[1,"mb-3",3,"formGroupName"],["for","especialidadExtra",1,"form-label"],["type","text","formControlName","nombre","required","",1,"form-control"],[1,"text-success"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(n,r){if(n&1&&(S(0,"div",0)(1,"h2",1),k(2,"Registro Especialista"),E(),S(3,"form",2),Te("ngSubmit",function(){return r.onSubmit()}),S(4,"div",3)(5,"label",4),k(6,"Nombre"),E(),Ie(7,"input",5),Se(8,yue,2,0,"div",6),E(),S(9,"div",3)(10,"label",7),k(11,"Apellido"),E(),Ie(12,"input",8),Se(13,_ue,2,0,"div",6),E(),S(14,"div",3)(15,"label",9),k(16,"Edad"),E(),Ie(17,"input",10),Se(18,xue,2,0,"div",6),E(),S(19,"div",3)(20,"label",11),k(21,"DNI"),E(),Ie(22,"input",12),Se(23,wue,2,0,"div",6),E(),S(24,"div",3)(25,"label",13),k(26,"Especialidad"),E(),S(27,"select",14)(28,"option",15),k(29,"Selecciona una especialidad"),E(),S(30,"option",16),k(31,"Medicina"),E(),S(32,"option",17),k(33,"Odontolog\xEDa"),E(),S(34,"option",18),k(35,"Psicolog\xEDa"),E()(),Se(36,Eue,2,0,"div",6),E(),Se(37,Cue,6,2,"div",19),S(38,"div",20)(39,"button",21),Te("click",function(){return r.addExtraSpecialty()}),Ie(40,"i",22),k(41," Agregar Especialidad Extra "),E()(),S(42,"div",3)(43,"label",23),k(44,"Email"),E(),Ie(45,"input",24),Se(46,Sue,2,0,"div",6),E(),S(47,"div",3)(48,"label",25),k(49,"Contrase\xF1a"),E(),Ie(50,"input",26),Se(51,Tue,2,0,"div",6),E(),S(52,"div",3)(53,"label",27),k(54,"Imagen de Perfil"),E(),S(55,"input",28),Te("change",function(s){return r.onFileChange(s,"perfil1")}),E(),Se(56,Iue,2,0,"div",29),E(),S(57,"div",30),Se(58,Aue,2,0,"div",31),E(),S(59,"div",32)(60,"re-captcha",33),Te("resolved",function(s){return r.resolved(s)}),E()(),S(61,"button",34),k(62," Registrarse "),E(),Se(63,Due,4,0,"div",35)(64,kue,2,1,"div",36),E()()),n&2){let i,s,o,a,c,l,u;q(3),ne("formGroup",r.registerForm),q(5),ne("ngIf",((i=r.registerForm.get("nombre"))==null?null:i.invalid)&&((i=r.registerForm.get("nombre"))==null?null:i.touched)),q(5),ne("ngIf",((s=r.registerForm.get("apellido"))==null?null:s.invalid)&&((s=r.registerForm.get("apellido"))==null?null:s.touched)),q(5),ne("ngIf",((o=r.registerForm.get("edad"))==null?null:o.invalid)&&((o=r.registerForm.get("edad"))==null?null:o.touched)),q(5),ne("ngIf",((a=r.registerForm.get("dni"))==null?null:a.invalid)&&((a=r.registerForm.get("dni"))==null?null:a.touched)),q(13),ne("ngIf",((c=r.registerForm.get("especialidad"))==null?null:c.invalid)&&((c=r.registerForm.get("especialidad"))==null?null:c.touched)),q(),ne("ngForOf",r.extraSpecialties.controls),q(9),ne("ngIf",((l=r.registerForm.get("email"))==null?null:l.invalid)&&((l=r.registerForm.get("email"))==null?null:l.touched)),q(5),ne("ngIf",((u=r.registerForm.get("password"))==null?null:u.invalid)&&((u=r.registerForm.get("password"))==null?null:u.touched)),q(5),ne("ngIf",r.perfil1Loaded),q(2),ne("ngIf",!r.perfil1Loaded),q(2),dr("siteKey",r.siteKeyCaptcha),q(),ne("disabled",!r.registerForm.valid||!r.perfil1Loaded||r.recaptchaResponse===null),q(2),ne("ngIf",r.loading),q(),ne("ngIf",r.errorMessage)}},dependencies:[Qs,sa,Jf,eh,Vr,qu,ul,vi,ia,ic,Ys,Co,D_,k_,_n,hr,dn,Oh,Nh],styles:[".container-form[_ngcontent-%COMP%]{background-color:#fff;padding:30px;margin-bottom:20px;border-radius:10px;box-shadow:0 4px 8px #0000001a}"]})};function Rue(t,e){if(t&1){let n=Ot();S(0,"div",4)(1,"div",5)(2,"button",6),Te("click",function(){ut(n);let i=Ce();return dt(i.showPacienteForm())}),Ie(3,"img",7),S(4,"span",8),k(5,"Paciente"),E()()(),S(6,"div",5)(7,"button",6),Te("click",function(){ut(n);let i=Ce();return dt(i.showSpecialistForm())}),Ie(8,"img",9),S(9,"span",8),k(10,"Especialista"),E()()()()}}function Pue(t,e){t&1&&Ie(0,"app-pacient-form")}function Mue(t,e){t&1&&Ie(0,"app-specialist-form")}function Nue(t,e){if(t&1&&(S(0,"div",10),Se(1,Pue,1,0,"app-pacient-form",11)(2,Mue,1,0,"app-specialist-form",11),E()),t&2){let n=Ce();q(),ne("ngIf",n.isPacienteFormVisible),q(),ne("ngIf",!n.isPacienteFormVisible)}}var OE=class t{showForm=!1;isPacienteFormVisible=!1;constructor(){}showPacienteForm(){this.isPacienteFormVisible=!0,this.showForm=!0}showSpecialistForm(){this.isPacienteFormVisible=!1,this.showForm=!0}ngOnInit(){}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Et({type:t,selectors:[["app-register"]],standalone:!0,features:[Ft],decls:5,vars:2,consts:[[1,"container","text-center","mt-5"],[1,"mb-4"],["class","row justify-content-center mt-4",4,"ngIf"],["class","text-start mt-4",4,"ngIf"],[1,"row","justify-content-center","mt-4"],[1,"col-md-4"],[1,"btn","btn-light","option-button",3,"click"],["src","media/paciente.png","alt","Paciente",1,"option-image"],[1,"option-text"],["src","media/doctor.png","alt","Especialista",1,"option-image"],[1,"text-start","mt-4"],[4,"ngIf"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"h1",1),k(2,"Selecciona tu tipo de usuario"),E(),Se(3,Rue,11,0,"div",2)(4,Nue,3,2,"div",3),E()),n&2&&(q(3),ne("ngIf",!r.showForm),q(),ne("ngIf",r.showForm))},dependencies:[Qs,dn,_n,tp,np],styles:[".option-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;border-radius:8px;transition:background-color .3s,transform .3s;width:100%;height:500px;border:1px solid #dee2e6;box-shadow:0 4px 8px #0000001a}.option-button[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;transform:scale(1.05)}.option-image[_ngcontent-%COMP%]{width:220px;height:220px;margin-bottom:10px;object-fit:cover}.option-text[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:#007bff;margin-top:10px}h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0056b3;text-shadow:1px 1px 2px rgba(0,0,0,.1);margin-bottom:20px;letter-spacing:1px}.container[_ngcontent-%COMP%]{margin-top:40px;background-color:#f8f9fa;padding:30px;border-radius:8px;box-shadow:0 2px 4px #0000001a}"]})};var mj=fu(D0());var rp=class t{userSubject=new er(this.isLoggedIn());user$=this.userSubject.asObservable();isLoggedIn(){return!!localStorage.getItem("user")}login(){this.userSubject.next(!0)}logout(){localStorage.removeItem("user"),this.userSubject.next(!1)}getUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null}isThereAnAdmin(){let e=this.getUser();return e&&e.isAdmin}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})};function Oue(t,e){t&1&&(S(0,"div",21),k(1," Por favor, ingresa un correo v\xE1lido. "),E())}function Fue(t,e){t&1&&(S(0,"div",21),k(1," La contrase\xF1a es requerida. "),E())}function Lue(t,e){if(t&1&&(S(0,"div",22),k(1),E()),t&2){let n=Ce();q(),Dt(" ",n.errorMessage," ")}}function Bue(t,e){t&1&&(S(0,"div",23)(1,"div",24)(2,"span",25),k(3,"Cargando..."),E()()())}var FE=class t{constructor(e,n,r,i,s){this.fb=e;this.firestore=n;this.auth=r;this.router=i;this.authService=s;this.loginForm=this.fb.group({email:["",[Ze.required,Ze.email]],password:["",[Ze.required,Ze.minLength(1)]]})}loginForm;errorMessage=null;loading=!1;sub;isDoctor=null;urlPaciente="https://clinic-profile-images.nyc3.digitaloceanspaces.com/7805c816-51e7-495e-a433-4fa93f9dec07.png";urlEspecialista="https://clinic-profile-images.nyc3.digitaloceanspaces.com/b60aba11-355f-45a6-981b-00bb78321cd8.jpg";urlAdmin="https://clinic-profile-images.nyc3.digitaloceanspaces.com/ebcc95df-f57b-4a55-9112-345ed0d1b5d4.png";onSubmit(){return C(this,null,function*(){if(this.loginForm.valid){this.loading=!0;let{email:e,password:n}=this.loginForm.value;try{let r=e.toLowerCase(),s=(yield $3(this.auth,r,n)).user;if(!s.emailVerified){this.errorMessage="Por favor, verifica tu correo electr\xF3nico antes de iniciar sesi\xF3n.";return}let o=yield this.getUser(e);if(this.isDoctor==!1){this.errorMessage="El usuario no ha sido validado por el administrador.";return}else mj.default.fire({title:"Inicio de sesi\xF3n exitoso",icon:"success",timer:2e3,showConfirmButton:!1}),console.log("Inicio de sesi\xF3n exitoso",s),this.errorMessage=null,this.authService.login(),this.router.navigate(["/home"])}catch(r){console.error("Error al iniciar sesi\xF3n",r),this.errorMessage="Email y/o contrase\xF1a incorrecto."}finally{this.loading=!1}}})}getUser(e){return C(this,null,function*(){let n=yield this.checkUser(e);return n||(this.errorMessage="Usuario no encontrado.",!1)})}checkUser(e){return C(this,null,function*(){return(yield this.findPaciente(e))?"paciente":(yield this.findDoctor(e))?"doctor":(yield this.findAdmin(e))?"admin":null})}findPaciente(e){return C(this,null,function*(){let n=Kn(this.firestore,"pacientes"),r=As(n,va("email","==",e)),i=yield Ph(r);if(!i.empty){let s=i.docs[0].data();return console.log("Usuario encontrado:",s),localStorage.setItem("user",JSON.stringify(s)),!0}return!1})}findDoctor(e){return C(this,null,function*(){let n=Kn(this.firestore,"especialistas"),r=As(n,va("email","==",e)),i=yield Ph(r);if(!i.empty){let s=i.docs[0].data();return console.log("Usuario encontrado:",s),s.profileValidatedByAdmin===!1?(this.isDoctor=!1,!0):(this.isDoctor=!0,console.log("Usuario doctor"),localStorage.setItem("user",JSON.stringify(s)),!0)}return!1})}findAdmin(e){return C(this,null,function*(){let n=Kn(this.firestore,"admins"),r=As(n,va("email","==",e)),i=yield Ph(r);if(!i.empty){let s=i.docs[0].data();return console.log("Usuario encontrado:",s),localStorage.setItem("user",JSON.stringify(s)),!0}return!1})}getPacientes(e){e==1?this.loginForm.get("email")?.setValue("j9hpx2l0@cj.MintEmail.com"):e==2?this.loginForm.get("email")?.setValue("18duu2j9@cj.MintEmail.com"):e==3&&this.loginForm.get("email")?.setValue("a5yfl81p@cj.MintEmail.com"),this.loginForm.get("password")?.setValue("123456")}getEspecialistas(e){e==1?this.loginForm.get("email")?.setValue("c7hup2p3@cj.MintEmail.com"):e==2&&this.loginForm.get("email")?.setValue("q796si4b@cj.MintEmail.com"),this.loginForm.get("password")?.setValue("123456")}getAdmins(e){e==1&&this.loginForm.get("email")?.setValue("r6q00n9h@cj.MintEmail.com"),this.loginForm.get("password")?.setValue("123456")}static \u0275fac=function(n){return new(n||t)(ge(oa),ge(nr),ge(Ss),ge(ti),ge(rp))};static \u0275cmp=Et({type:t,selectors:[["app-login"]],standalone:!0,features:[Ft],decls:37,vars:12,consts:[[1,"container","mt-5"],[1,"text-center","mb-4"],[1,"row","justify-content-center","mb-4"],[1,"col-6","col-md-2",3,"click"],[1,"btn","access-button"],["alt","Paciente 1",1,"access-image",3,"src"],["alt","Paciente 2",1,"access-image",3,"src"],["alt","Paciente 3",1,"access-image",3,"src"],["alt","Especialista 1",1,"access-image",3,"src"],["alt","Especialista 2",1,"access-image",3,"src"],["alt","Administrador",1,"access-image",3,"src"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","autocomplete","email","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","autocomplete","current-password","required","",1,"form-control"],["class","text-danger mb-3",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],[1,"text-danger"],[1,"text-danger","mb-3"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(n,r){if(n&1&&(S(0,"div",0)(1,"h2",1),k(2,"Iniciar Sesi\xF3n"),E(),S(3,"div",2)(4,"div",3),Te("click",function(){return r.getPacientes(1)}),S(5,"button",4),Ie(6,"img",5),E()(),S(7,"div",3),Te("click",function(){return r.getPacientes(2)}),S(8,"button",4),Ie(9,"img",6),E()(),S(10,"div",3),Te("click",function(){return r.getPacientes(3)}),S(11,"button",4),Ie(12,"img",7),E()(),S(13,"div",3),Te("click",function(){return r.getEspecialistas(1)}),S(14,"button",4),Ie(15,"img",8),E()(),S(16,"div",3),Te("click",function(){return r.getEspecialistas(2)}),S(17,"button",4),Ie(18,"img",9),E()(),S(19,"div",3),Te("click",function(){return r.getAdmins(1)}),S(20,"button",4),Ie(21,"img",10),E()()(),S(22,"form",11),Te("ngSubmit",function(){return r.onSubmit()}),S(23,"div",12)(24,"label",13),k(25,"Correo Electr\xF3nico"),E(),Ie(26,"input",14),Se(27,Oue,2,0,"div",15),E(),S(28,"div",12)(29,"label",16),k(30,"Contrase\xF1a"),E(),Ie(31,"input",17),Se(32,Fue,2,0,"div",15),E(),Se(33,Lue,2,1,"div",18),S(34,"button",19),k(35," Iniciar Sesi\xF3n "),E()(),Se(36,Bue,4,0,"div",20),E()),n&2){let i,s;q(6),dr("src",r.urlPaciente,Rr),q(3),dr("src",r.urlPaciente,Rr),q(3),ne("src",r.urlPaciente,Rr),q(3),dr("src",r.urlEspecialista,Rr),q(3),dr("src",r.urlEspecialista,Rr),q(3),dr("src",r.urlAdmin,Rr),q(),ne("formGroup",r.loginForm),q(5),ne("ngIf",((i=r.loginForm.get("email"))==null?null:i.invalid)&&((i=r.loginForm.get("email"))==null?null:i.touched)),q(5),ne("ngIf",((s=r.loginForm.get("password"))==null?null:s.invalid)&&((s=r.loginForm.get("password"))==null?null:s.touched)),q(),ne("ngIf",r.errorMessage),q(),ne("disabled",r.loginForm.invalid||r.loading),q(2),ne("ngIf",r.loading)}},dependencies:[Qs,sa,Vr,vi,ia,ic,Ys,Co,dn],styles:[".access-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:10px;border:1px solid #007bff;border-radius:8px;transition:background-color .3s,transform .3s;background-color:#fff;text-align:center;width:100%}.access-button[_ngcontent-%COMP%]:hover{background-color:#e9ecef;transform:scale(1.05)}.access-image[_ngcontent-%COMP%]{width:80px;height:80px;margin-bottom:5px;border-radius:50%;object-fit:cover}.container[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;padding:40px}@media (max-width: 768px){.access-button[_ngcontent-%COMP%]{margin-bottom:15px}.container[_ngcontent-%COMP%]{padding:20px}.access-image[_ngcontent-%COMP%]{width:60px;height:60px}}@media (max-width: 576px){.access-button[_ngcontent-%COMP%]{padding:15px}.access-image[_ngcontent-%COMP%]{width:50px;height:50px}}"]})};var Vue=()=>["lunes","martes","miercoles","jueves","viernes"];function Uue(t,e){if(t&1&&(S(0,"option",13),k(1),E()),t&2){let n=e.$implicit;ne("value",n),q(),tt(n)}}function jue(t,e){if(t&1&&(S(0,"div",14),Ie(1,"input",15),S(2,"label",16),k(3),mi(4,"titlecase"),E()()),t&2){let n=e.$implicit;q(),dr("id",n),ne("formControlName",n),q(),dr("for",n),q(),tt(rl(4,4,n))}}var LE=class t{constructor(e,n){this.fb=e;this.firestore=n}especialidades=[];user;submit=new It;disponibilidadForm;ngOnInit(){this.initializeForm()}initializeForm(){this.disponibilidadForm=this.fb.group({especialidad:[this.especialidades[0],Ze.required],lunes:[!1],martes:[!1],miercoles:[!1],jueves:[!1],viernes:[!1],horaInicio:["",Ze.required],horaFin:["",Ze.required]})}onSubmit(){if(this.disponibilidadForm.valid){let e=this.disponibilidadForm.value;console.log(e),this.updateEspecialista(e),this.submit.emit(!0);let n=this.disponibilidadForm.get("especialidad")?.value;this.disponibilidadForm.reset(),this.initializeForm(),this.disponibilidadForm.get("especialidad")?.setValue(n)}else console.log("Formulario inv\xE1lido")}updateEspecialista(e){return C(this,null,function*(){let n=Kn(this.firestore,"especialistas"),r=As(n,va("email","==",this.user.email));try{let i=yield Ph(r);if(i.empty){console.log("No se encontr\xF3 un especialista con ese email.");return}let s=i.docs[0],o=s.ref,a=s.data().disponibilidades,c=!1,l={especialidad:e.especialidad,diasDisponibles:{lunes:e.lunes,martes:e.martes,miercoles:e.miercoles,jueves:e.jueves,viernes:e.viernes},horaInicio:e.horaInicio,horaFin:e.horaFin};console.log("Disponibilidad a enviar a Firestore:",l);let u=[];if(!a)u.push(l);else{for(let f=0;f<a.length;f++)if(a[f].especialidad===l.especialidad){a[f]=l,c=!0;break}c||a.push(l)}yield Ao(o,{disponibilidades:a||u}),console.log("Disponibilidad actualizada correctamente")}catch(i){console.error("Error al actualizar las disponibilidades: ",i)}})}static \u0275fac=function(n){return new(n||t)(ge(oa),ge(nr))};static \u0275cmp=Et({type:t,selectors:[["app-disponibilidad-form"]],inputs:{especialidades:"especialidades",user:"user"},outputs:{submit:"submit"},standalone:!0,features:[Ft],decls:19,vars:5,consts:[[3,"ngSubmit","formGroup"],[1,"form-group","mb-4"],["for","especialidad",1,"h6"],["id","especialidad","formControlName","especialidad",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"h6"],[1,"d-flex","flex-wrap"],["class","form-check form-check-inline mr-4",4,"ngFor","ngForOf"],["for","horas",1,"h6"],[1,"d-flex"],["type","time","formControlName","horaInicio","placeholder","Hora de Inicio",1,"form-control"],["type","time","formControlName","horaFin","placeholder","Hora de Fin",1,"form-control","ml-2"],["type","submit",1,"btn","btn-primary","btn-block","mt-4",3,"disabled"],[3,"value"],[1,"form-check","form-check-inline","mr-4"],["type","checkbox",1,"form-check-input",3,"formControlName","id"],[1,"form-check-label",3,"for"]],template:function(n,r){n&1&&(S(0,"form",0),Te("ngSubmit",function(){return r.onSubmit()}),S(1,"div",1)(2,"label",2),k(3,"Especialidad"),E(),S(4,"select",3),Se(5,Uue,2,2,"option",4),E()(),S(6,"div",1)(7,"label",5),k(8,"D\xEDas Disponibles"),E(),S(9,"div",6),Se(10,jue,5,6,"div",7),E()(),S(11,"div",1)(12,"label",8),k(13,"Horario"),E(),S(14,"div",9),Ie(15,"input",10)(16,"input",11),E()(),S(17,"button",12),k(18," Guardar Disponibilidad "),E()()),n&2&&(ne("formGroup",r.disponibilidadForm),q(5),ne("ngForOf",r.especialidades),q(5),ne("ngForOf",fO(4,Vue)),q(7),ne("disabled",r.disponibilidadForm.invalid))},dependencies:[Qs,sa,Jf,eh,Vr,iT,ul,vi,ia,Ys,Co,_n,hr,Yy]})};function $ue(t,e){if(t&1&&(S(0,"div",16),Ie(1,"img",19),E()),t&2){let n=Ce(2);q(),ne("src",n.user.perfil1,Rr)}}function Hue(t,e){if(t&1&&(S(0,"div",16)(1,"strong"),k(2,"Obra social: "),E(),S(3,"span",17),k(4),E()()),t&2){let n=Ce(2);q(4),tt(n.user.obraSocial)}}function zue(t,e){if(t&1&&(S(0,"span",17),k(1),E()),t&2){let n=e.$implicit;q(),Dt("",n," ")}}function que(t,e){if(t&1&&(S(0,"div",16)(1,"strong"),k(2,"Especialidades: "),E(),Se(3,zue,2,1,"span",20),E()),t&2){let n=Ce(2);q(3),ne("ngForOf",n.user.especialidades)}}function Gue(t,e){if(t&1&&(S(0,"div",16),Ie(1,"img",21),E()),t&2){let n=Ce(2);q(),ne("src",n.user.perfil2,Rr)}}function Wue(t,e){if(t&1){let n=Ot();S(0,"button",22),Te("click",function(){ut(n);let i=Ce(2);return dt(i.openModal())}),k(1,"Agregar/Modificar Disponibilidad Horaria"),E()}}function Kue(t,e){if(t&1&&(S(0,"div",11)(1,"div",12)(2,"div",13),Se(3,$ue,2,1,"div",14),E(),S(4,"div",15)(5,"div",16)(6,"strong"),k(7,"Nombre: "),E(),S(8,"span",17),k(9),E()(),S(10,"div",16)(11,"strong"),k(12,"Apellido: "),E(),S(13,"span",17),k(14),E()(),S(15,"div",16)(16,"strong"),k(17,"Edad: "),E(),S(18,"span",17),k(19),E()(),S(20,"div",16)(21,"strong"),k(22,"DNI: "),E(),S(23,"span",17),k(24),E()(),S(25,"div",16)(26,"strong"),k(27,"Email: "),E(),S(28,"span",17),k(29),E()(),Se(30,Hue,5,1,"div",14)(31,que,4,1,"div",14),E(),S(32,"div",13),Se(33,Gue,2,1,"div",14),E()(),Se(34,Wue,2,0,"button",18),E()),t&2){let n=Ce();q(3),ne("ngIf",n.user.perfil1),q(6),tt(n.user.nombre),q(5),tt(n.user.apellido),q(5),tt(n.user.edad),q(5),tt(n.user.dni),q(5),tt(n.user.email),q(),ne("ngIf",n.user.obraSocial),q(),ne("ngIf",n.user.especialidades),q(2),ne("ngIf",n.user.perfil2),q(),ne("ngIf",n.user.especialidades)}}function Xue(t,e){if(t&1){let n=Ot();S(0,"app-disponibilidad-form",23),Te("submit",function(i){ut(n);let s=Ce();return dt(s.handleDisponibilidadSubmit(i))}),E()}if(t&2){let n=Ce();ne("especialidades",n.user.especialidades)("user",n.user)}}var BE=class t{modal;user;constructor(){}ngOnInit(){this.loadUser(),this.user&&this.user.especialidades&&(this.modal=new window.bootstrap.Modal(document.getElementById("disponibilidadModal")))}loadUser(){let e=localStorage.getItem("user");e&&(this.user=JSON.parse(e))}handleDisponibilidadSubmit(e){console.log(e),this.closeModal()}openModal(){this.modal.show()}closeModal(){this.modal.hide()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Et({type:t,selectors:[["app-perfil"]],standalone:!0,features:[Ft],decls:13,vars:2,consts:[[1,"container","mt-5"],[1,"text-center","text-dark"],["class","profile-card bg-light p-4 rounded shadow",4,"ngIf"],["id","disponibilidadModal","tabindex","-1","aria-labelledby","disponibilidadModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","disponibilidadModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"especialidades","user","submit",4,"ngIf"],[1,"profile-card","bg-light","p-4","rounded","shadow"],[1,"row"],[1,"col-md-4","text-center"],["class","mb-3",4,"ngIf"],[1,"col-md-4"],[1,"mb-3"],[1,"text-muted"],["class","btn btn-primary",3,"click",4,"ngIf"],["alt","Perfil 1",1,"img-thumbnail","profile-img",3,"src"],["class","text-muted",4,"ngFor","ngForOf"],["alt","Perfil 2",1,"img-thumbnail","profile-img",3,"src"],[1,"btn","btn-primary",3,"click"],[3,"submit","especialidades","user"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"h2",1),k(2,"Perfil del Usuario"),E(),Se(3,Kue,35,10,"div",2),S(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"h5",7),k(9,"Agregar/Modificar Disponibilidad Horaria"),E(),Ie(10,"button",8),E(),S(11,"div",9),Se(12,Xue,1,2,"app-disponibilidad-form",10),E()()()()()),n&2&&(q(3),ne("ngIf",r.user),q(9),ne("ngIf",r.user.especialidades))},dependencies:[_n,hr,dn,LE],styles:[".container[_ngcontent-%COMP%]{max-width:1000px;margin:auto;background:#fffffff2;border-radius:10px;padding:40px;box-shadow:0 4px 20px #0000001a}h2[_ngcontent-%COMP%]{margin-bottom:30px;color:#0056b3}strong[_ngcontent-%COMP%]{color:#0056b3}.text-muted[_ngcontent-%COMP%]{color:#495057}.profile-img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:5px;border:2px solid #007bff}.profile-card[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;border-radius:10px;box-shadow:0 2px 10px #00000026}"]})};var $k=fu(D0());function Yue(t,e){t&1&&(S(0,"div",20),k(1," El nombre es requerido y solo puede contener letras. "),E())}function Que(t,e){t&1&&(S(0,"div",20),k(1," El apellido es requerido y solo puede contener letras. "),E())}function Zue(t,e){t&1&&(S(0,"div",20),k(1," La edad es requerida y debe ser mayor de edad. "),E())}function Jue(t,e){t&1&&(S(0,"div",20),k(1," El DNI es requerido y debe tener 8 d\xEDgitos. "),E())}function ede(t,e){t&1&&(S(0,"div",20),k(1," Por favor, ingresa un correo v\xE1lido. "),E())}function tde(t,e){t&1&&(S(0,"div",20),k(1," La contrase\xF1a es requerida y debe tener al menos 6 caracteres. "),E())}function nde(t,e){t&1&&(S(0,"div",27),k(1," Imagen cargada correctamente. "),E())}function rde(t,e){t&1&&(S(0,"div"),k(1," La imagen de perfil es requerida. "),E())}function ide(t,e){t&1&&(S(0,"div",28)(1,"div",29)(2,"span",30),k(3,"Cargando..."),E()()())}function sde(t,e){if(t&1&&(S(0,"div",31),k(1),E()),t&2){let n=Ce();q(),Dt(" ",n.errorMessage," ")}}var VE=class t{constructor(e,n,r,i,s){this.fb=e;this.auth=n;this.firestore=r;this.router=i;this.imagesService=s;this.registerForm=this.fb.group({nombre:["",[Ze.required,Ze.pattern(/^[a-zA-Z\s]*$/)]],apellido:["",[Ze.required,Ze.pattern(/^[a-zA-Z\s]*$/)]],edad:["",[Ze.required,Ze.min(18)]],dni:["",[Ze.required,Ze.pattern(/^\d{8}$/)]],email:["",[Ze.required,Ze.email]],password:["",[Ze.required,Ze.minLength(6)]],perfil1:[null]})}redirectToLogin=!0;registrationSuccess=new It;registerForm;perfil1Loaded=!1;errorMessage="";loading=!1;recaptchaResponse=null;siteKeyCaptcha=Mh.siteKey;ngOnDestroy(){console.log("Limpiando imagen")}resolved(e){this.recaptchaResponse=e}onFileChange(e,n){let r=e.target.files[0];r?["image/jpeg","image/png","image/gif"].includes(r.type)?(this.registerForm.patchValue({[n]:r}),this.perfil1Loaded=!0):(this.perfil1Loaded=!1,this.errorMessage="Por favor, sube una imagen v\xE1lida (JPEG, PNG o GIF)."):(this.perfil1Loaded=!1,this.errorMessage="La imagen de perfil es requerida.")}onSubmit(){return C(this,null,function*(){this.registerForm.valid&&(console.log(this.registerForm.value),this.loading=!0,lh(this.auth,this.registerForm.value.email,this.registerForm.value.password).then(e=>C(this,null,function*(){let n=e.user;console.log("Usuario creado:",n);try{yield uh(n),console.log("Correo de verificaci\xF3n enviado")}catch(i){console.error("Error al enviar el correo de verificaci\xF3n:",i)}let r=yield this.imagesService.uploadImage(this.registerForm.value.perfil1);try{yield this.logUser(r),console.log("Correo de verificaci\xF3n enviado"),$k.default.fire({icon:"success",title:"\xA1Registro exitoso!",text:"Por favor, verifica tu correo electr\xF3nico para continuar."}).then(()=>{this.redirectToLogin?this.router.navigate(["/login"]):(console.log("Usuario registrado desde el panel de administrador"),this.registerForm.reset(),this.registerForm.patchValue({perfil1:null}),this.registrationSuccess.emit())})}catch(i){console.error("Error al crear el usuario",i),$k.default.fire({icon:"error",title:"Error al crear el usuario",text:"Por favor, intenta de nuevo."})}})).catch(e=>{switch(e.code){case"auth/email-already-in-use":this.errorMessage="El email ya est\xE1 en uso";break;case"auth/invalid-email":this.errorMessage="El email no es v\xE1lido";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres";break;default:this.errorMessage="Error al registrar el usuario";break}this.loading=!1}).finally(()=>{this.loading=!1}))})}logUser(e){return C(this,null,function*(){let n=Kn(this.firestore,"admins"),r={nombre:this.registerForm.value.nombre.toLowerCase(),apellido:this.registerForm.value.apellido.toLowerCase(),edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,email:this.registerForm.value.email,perfil1:e,fechaRegistro:$n.now(),isAdmin:!0};try{yield Al(n,r)}catch(i){console.error("Error al crear el usuario:",i)}})}static \u0275fac=function(n){return new(n||t)(ge(oa),ge(Ss),ge(nr),ge(ti),ge(jl))};static \u0275cmp=Et({type:t,selectors:[["app-admin-form"]],inputs:{redirectToLogin:"redirectToLogin"},outputs:{registrationSuccess:"registrationSuccess"},standalone:!0,features:[Ft],decls:47,vars:13,consts:[[1,"container","mt-5"],[1,"text-center"],[1,"container-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","required","",1,"form-control"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","required","",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["for","perfil1",1,"form-label"],["type","file","id","perfil1","accept","image/*",1,"form-control",3,"change"],["class","text-success",4,"ngIf"],[1,"text-danger"],[4,"ngIf"],[1,"form-group"],["required","",3,"resolved","siteKey"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],[1,"text-success"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(n,r){if(n&1&&(S(0,"div",0)(1,"h2",1),k(2,"Registro Administrador"),E(),S(3,"form",2),Te("ngSubmit",function(){return r.onSubmit()}),S(4,"div",3)(5,"label",4),k(6,"Nombre"),E(),Ie(7,"input",5),Se(8,Yue,2,0,"div",6),E(),S(9,"div",3)(10,"label",7),k(11,"Apellido"),E(),Ie(12,"input",8),Se(13,Que,2,0,"div",6),E(),S(14,"div",3)(15,"label",9),k(16,"Edad"),E(),Ie(17,"input",10),Se(18,Zue,2,0,"div",6),E(),S(19,"div",3)(20,"label",11),k(21,"DNI"),E(),Ie(22,"input",12),Se(23,Jue,2,0,"div",6),E(),S(24,"div",3)(25,"label",13),k(26,"Email"),E(),Ie(27,"input",14),Se(28,ede,2,0,"div",6),E(),S(29,"div",3)(30,"label",15),k(31,"Contrase\xF1a"),E(),Ie(32,"input",16),Se(33,tde,2,0,"div",6),E(),S(34,"div",3)(35,"label",17),k(36,"Imagen de Perfil"),E(),S(37,"input",18),Te("change",function(s){return r.onFileChange(s,"perfil1")}),E(),Se(38,nde,2,0,"div",19),E(),S(39,"div",20),Se(40,rde,2,0,"div",21),E(),S(41,"div",22)(42,"re-captcha",23),Te("resolved",function(s){return r.resolved(s)}),E()(),S(43,"button",24),k(44," Registrarse "),E(),Se(45,ide,4,0,"div",25)(46,sde,2,1,"div",26),E()()),n&2){let i,s,o,a,c,l;q(3),ne("formGroup",r.registerForm),q(5),ne("ngIf",((i=r.registerForm.get("nombre"))==null?null:i.invalid)&&((i=r.registerForm.get("nombre"))==null?null:i.touched)),q(5),ne("ngIf",((s=r.registerForm.get("apellido"))==null?null:s.invalid)&&((s=r.registerForm.get("apellido"))==null?null:s.touched)),q(5),ne("ngIf",((o=r.registerForm.get("edad"))==null?null:o.invalid)&&((o=r.registerForm.get("edad"))==null?null:o.touched)),q(5),ne("ngIf",((a=r.registerForm.get("dni"))==null?null:a.invalid)&&((a=r.registerForm.get("dni"))==null?null:a.touched)),q(5),ne("ngIf",((c=r.registerForm.get("email"))==null?null:c.invalid)&&((c=r.registerForm.get("email"))==null?null:c.touched)),q(5),ne("ngIf",((l=r.registerForm.get("password"))==null?null:l.invalid)&&((l=r.registerForm.get("password"))==null?null:l.touched)),q(5),ne("ngIf",r.perfil1Loaded),q(2),ne("ngIf",!r.perfil1Loaded),q(2),dr("siteKey",r.siteKeyCaptcha),q(),ne("disabled",!r.registerForm.valid||!r.perfil1Loaded||r.recaptchaResponse===null),q(2),ne("ngIf",r.loading),q(),ne("ngIf",r.errorMessage)}},dependencies:[Qs,sa,Vr,qu,vi,ia,ic,Ys,Co,_n,dn,Oh,Nh],styles:[".container-form[_ngcontent-%COMP%]{background-color:#fff;padding:30px;margin-bottom:20px;border-radius:10px;box-shadow:0 4px 8px #0000001a}"]})};var ug={};ug.version="0.18.5";var Dd=1200,pp=1252,ode=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],ade={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},n$=function(t){ode.indexOf(t)!=-1&&(pp=ade[0]=t)};function cde(){n$(1252)}var dg=function(t){Dd=t,n$(t)};function lde(){dg(1200),cde()}function ude(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var UE=function(e){return String.fromCharCode(e)},gj=function(e){return String.fromCharCode(e)},xn;var Ia=null,ng=!0,Hl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function fg(t){for(var e="",n=0,r=0,i=0,s=0,o=0,a=0,c=0,l=0;l<t.length;)n=t.charCodeAt(l++),s=n>>2,r=t.charCodeAt(l++),o=(n&3)<<4|r>>4,i=t.charCodeAt(l++),a=(r&15)<<2|i>>6,c=i&63,isNaN(r)?a=c=64:isNaN(i)&&(c=64),e+=Hl.charAt(s)+Hl.charAt(o)+Hl.charAt(a)+Hl.charAt(c);return e}function kc(t){var e="",n=0,r=0,i=0,s=0,o=0,a=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<t.length;)s=Hl.indexOf(t.charAt(l++)),o=Hl.indexOf(t.charAt(l++)),n=s<<2|o>>4,e+=String.fromCharCode(n),a=Hl.indexOf(t.charAt(l++)),r=(o&15)<<4|a>>2,a!==64&&(e+=String.fromCharCode(r)),c=Hl.indexOf(t.charAt(l++)),i=(a&3)<<6|c,c!==64&&(e+=String.fromCharCode(i));return e}var Qt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Pc=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Rd(t){return Qt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function vj(t){return Qt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Fo=function(e){return Qt?Pc(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function c1(t){if(typeof ArrayBuffer>"u")return Fo(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function vg(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function dde(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var ci=Qt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Pc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function fde(t){for(var e=[],n=0,r=t.length+250,i=Rd(t.length+255),s=0;s<t.length;++s){var o=t.charCodeAt(s);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=t.charCodeAt(++s)&1023;i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|a>>6&15|(o&3)<<4,i[n++]=128|a&63}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|o&63;n>r&&(e.push(i.slice(0,n)),n=0,i=Rd(65535),r=65530)}return e.push(i.slice(0,n)),ci(e)}var lp=/\u0000/g,jE=/[\u0001-\u0006]/g;function up(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Lo(t,e){var n=""+t;return n.length>=e?n:Yn("0",e-n.length)+n}function tR(t,e){var n=""+t;return n.length>=e?n:Yn(" ",e-n.length)+n}function XE(t,e){var n=""+t;return n.length>=e?n:n+Yn(" ",e-n.length)}function hde(t,e){var n=""+Math.round(t);return n.length>=e?n:Yn("0",e-n.length)+n}function pde(t,e){var n=""+t;return n.length>=e?n:Yn("0",e-n.length)+n}var yj=Math.pow(2,32);function ip(t,e){if(t>yj||t<-yj)return hde(t,e);var n=Math.round(t);return pde(n,e)}function YE(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var _j=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Hk=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function mde(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "',t}var Qn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "'},xj={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},gde={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function QE(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,o=1,a=0,c=1,l=0,u=0,f=Math.floor(i);l<e&&(f=Math.floor(i),a=f*o+s,u=f*l+c,!(i-f<5e-8));)i=1/(i-f),s=o,o=a,c=l,l=u;if(u>e&&(l>e?(u=c,a=s):(u=l,a=o)),!n)return[0,r*a,u];var h=Math.floor(r*a/u);return[h,r*a-h*u,u]}function $E(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,o=[],a={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),e&&e.date1904&&(r+=1462),a.u>.9999&&(a.u=0,++i==86400&&(a.T=i=0,++r,++a.D)),r===60)o=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),r<60&&(s=(s+6)%7),n&&(s=bde(c,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=s,a}var r$=new Date(1899,11,31,0,0,0),vde=r$.getTime(),yde=new Date(1900,2,1,0,0,0);function i$(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=yde&&(n+=24*60*60*1e3),(n-(vde+(t.getTimezoneOffset()-r$.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function nR(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function _de(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function xde(t){var e=t<0?12:11,n=nR(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function wde(t){var e=nR(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Ede(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=xde(t):e===10?n=t.toFixed(10).substr(0,12):n=wde(t),nR(_de(n.toUpperCase()))}function Qk(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Ede(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return ql(14,i$(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function bde(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function Cde(t,e,n,r){var i="",s=0,o=0,a=n.y,c,l=0;switch(t){case 98:a=n.y+543;case 121:switch(e.length){case 1:case 2:c=a%100,l=2;break;default:c=a%1e4,l=4;break}break;case 109:switch(e.length){case 1:case 2:c=n.m,l=e.length;break;case 3:return Hk[n.m-1][1];case 5:return Hk[n.m-1][0];default:return Hk[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=n.d,l=e.length;break;case 3:return _j[n.q][0];default:return _j[n.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(n.H+11)%12,l=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=n.H,l=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=n.M,l=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Lo(n.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(n.S+n.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(i=Lo(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=n.D*24+n.H;break;case"[m]":case"[mm]":c=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":c=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}l=e.length===3?1:2;break;case 101:c=a,l=1;break}var u=l>0?Lo(c,l):"";return u}function zl(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var s$=/%/g;function Sde(t,e,n){var r=e.replace(s$,""),i=e.length-r.length;return Ic(t,r,n*Math.pow(10,2*i))+Yn("%",i)}function Tde(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Ic(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function o$(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+o$(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,c,l,u){return c+l+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var a$=/# (\?+)( ?)\/( ?)(\d+)/;function Ide(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),o=i-s*r,a=r;return n+(s===0?"":""+s)+" "+(o===0?Yn(" ",t[1].length+1+t[4].length):tR(o,t[1].length)+t[2]+"/"+t[3]+Lo(a,t[4].length))}function Ade(t,e,n){return n+(e===0?"":""+e)+Yn(" ",t[1].length+2+t[4].length)}var c$=/^#*0*\.([0#]+)/,l$=/\).*[0#]/,u$=/\(###\) ###\\?-####/;function ji(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function wj(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function Ej(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function Dde(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function kde(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function io(t,e,n){if(t.charCodeAt(0)===40&&!e.match(l$)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?io("n",r,n):"("+io("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return Tde(t,e,n);if(e.indexOf("%")!==-1)return Sde(t,e,n);if(e.indexOf("E")!==-1)return o$(e,n);if(e.charCodeAt(0)===36)return"$"+io(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,o,a,c=Math.abs(n),l=n<0?"-":"";if(e.match(/^00+$/))return l+ip(c,e.length);if(e.match(/^[#?]+$/))return i=ip(n,0),i==="0"&&(i=""),i.length>e.length?i:ji(e.substr(0,e.length-i.length))+i;if(s=e.match(a$))return Ide(s,c,l);if(e.match(/^#+0+$/))return l+ip(c,e.length-e.indexOf("0"));if(s=e.match(c$))return i=wj(n,s[1].length).replace(/^([^\.]+)$/,"$1."+ji(s[1])).replace(/\.$/,"."+ji(s[1])).replace(/\.(\d*)$/,function(y,_){return"."+_+Yn("0",ji(s[1]).length-_.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return l+wj(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return l+zl(ip(c,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+io(t,e,-n):zl(""+(Math.floor(n)+Dde(n,s[1].length)))+"."+Lo(Ej(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return io(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=up(io(t,e.replace(/[\\-]/g,""),n)),o=0,up(up(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<i.length?i.charAt(o++):y==="0"?"0":""}));if(e.match(u$))return i=io(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=QE(c,Math.pow(10,o)-1,!1),i=""+l,u=Ic("n",s[1],a[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=XE(a[2],o),u.length<s[4].length&&(u=ji(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=QE(c,Math.pow(10,o)-1,!0),l+(a[0]||(a[1]?"":"0"))+" "+(a[1]?tR(a[1],o)+s[2]+"/"+s[3]+XE(a[2],o):Yn(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=ip(n,0),e.length<=i.length?i:ji(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var f=e.indexOf(".")-o,h=e.length-i.length-f;return ji(e.substr(0,f)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=Ej(n,s[1].length),n<0?"-"+io(t,e,-n):zl(kde(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Lo(0,3-y.length):"")+y})+"."+Lo(o,s[1].length);switch(e){case"###,##0.00":return io(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var m=zl(ip(c,0));return m!=="0"?l+m:"";case"###,###.00":return io(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return io(t,"#,##0.00",n).replace(/^0\./,".");default:}throw new Error("unsupported format |"+e+"|")}function Rde(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Ic(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function Pde(t,e,n){var r=e.replace(s$,""),i=e.length-r.length;return Ic(t,r,n*Math.pow(10,2*i))+Yn("%",i)}function d$(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+d$(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,c,l,u){return c+l+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Sa(t,e,n){if(t.charCodeAt(0)===40&&!e.match(l$)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Sa("n",r,n):"("+Sa("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return Rde(t,e,n);if(e.indexOf("%")!==-1)return Pde(t,e,n);if(e.indexOf("E")!==-1)return d$(e,n);if(e.charCodeAt(0)===36)return"$"+Sa(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,o,a,c=Math.abs(n),l=n<0?"-":"";if(e.match(/^00+$/))return l+Lo(c,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:ji(e.substr(0,e.length-i.length))+i;if(s=e.match(a$))return Ade(s,c,l);if(e.match(/^#+0+$/))return l+Lo(c,e.length-e.indexOf("0"));if(s=e.match(c$))return i=(""+n).replace(/^([^\.]+)$/,"$1."+ji(s[1])).replace(/\.$/,"."+ji(s[1])),i=i.replace(/\.(\d*)$/,function(y,_){return"."+_+Yn("0",ji(s[1]).length-_.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return l+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return l+zl(""+c);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Sa(t,e,-n):zl(""+n)+"."+Yn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Sa(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=up(Sa(t,e.replace(/[\\-]/g,""),n)),o=0,up(up(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<i.length?i.charAt(o++):y==="0"?"0":""}));if(e.match(u$))return i=Sa(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=QE(c,Math.pow(10,o)-1,!1),i=""+l,u=Ic("n",s[1],a[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=XE(a[2],o),u.length<s[4].length&&(u=ji(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=QE(c,Math.pow(10,o)-1,!0),l+(a[0]||(a[1]?"":"0"))+" "+(a[1]?tR(a[1],o)+s[2]+"/"+s[3]+XE(a[2],o):Yn(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:ji(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var f=e.indexOf(".")-o,h=e.length-i.length-f;return ji(e.substr(0,f)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Sa(t,e,-n):zl(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Lo(0,3-y.length):"")+y})+"."+Lo(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=zl(""+c);return m!=="0"?l+m:"";default:if(e.match(/\.[0#?]*$/))return Sa(t,e.slice(0,e.lastIndexOf(".")),n)+ji(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ic(t,e,n){return(n|0)===n?Sa(t,e,n):io(t,e,n)}function Mde(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var f$=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function h$(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":YE(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4E0A":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(f$))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function Nde(t,e,n,r){for(var i=[],s="",o=0,a="",c="t",l,u,f,h="H";o<t.length;)switch(a=t.charAt(o)){case"G":if(!YE(t,o))throw new Error("unrecognized character "+a+" in "+t);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=t.charCodeAt(++o))!==34&&o<t.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++o;break;case"\\":var m=t.charAt(++o),y=m==="("||m===")"?m:"t";i[i.length]={t:y,v:m},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(l==null&&(l=$E(e,n,t.charAt(o+1)==="2"),l==null))return"";i[i.length]={t:"X",v:t.substr(o,2)},c=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||l==null&&(l=$E(e,n),l==null))return"";for(s=a;++o<t.length&&t.charAt(o).toLowerCase()===a;)s+=a;a==="m"&&c.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=h),i[i.length]={t:a,v:s},c=a;break;case"A":case"a":case"\u4E0A":var _={t:a,v:a};if(l==null&&(l=$E(e,n)),t.substr(o,3).toUpperCase()==="A/P"?(l!=null&&(_.v=l.H>=12?"P":"A"),_.t="T",h="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(l!=null&&(_.v=l.H>=12?"PM":"AM"),_.t="T",o+=5,h="h"):t.substr(o,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348"?(l!=null&&(_.v=l.H>=12?"\u4E0B\u5348":"\u4E0A\u5348"),_.t="T",o+=5,h="h"):(_.t="t",++o),l==null&&_.t==="T")return"";i[i.length]=_,c=a;break;case"[":for(s=a;t.charAt(o++)!=="]"&&o<t.length;)s+=t.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(f$)){if(l==null&&(l=$E(e,n),l==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",h$(t)||(i[i.length]={t:"t",v:s}));break;case".":if(l!=null){for(s=a;++o<t.length&&(a=t.charAt(o))==="0";)s+=a;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=a;++o<t.length&&"0#?.,E+-%".indexOf(a=t.charAt(o))>-1;)s+=a;i[i.length]={t:"n",v:s};break;case"?":for(s=a;t.charAt(++o)===a;)s+=a;i[i.length]={t:a,v:s},c=a;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=a;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)s+=t.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:a,v:a},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=\u20ACacfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+t);i[i.length]={t:"t",v:a},++o;break}var x=0,M=0,H;for(o=i.length-1,c="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=h,c="h",x<1&&(x=1);break;case"s":(H=i[o].v.match(/\.0+$/))&&(M=Math.max(M,H[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=i[o].t;break;case"m":c==="s"&&(i[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&i[o].v.match(/[Hh]/)&&(x=1),x<2&&i[o].v.match(/[Mm]/)&&(x=2),x<3&&i[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M),l.M>=60&&(l.M=0,++l.H);break;case 2:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M);break}var K="",Q;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=Cde(i[o].t.charCodeAt(0),i[o].v,l,M),i[o].t="t";break;case"n":case"?":for(Q=o+1;i[Q]!=null&&((a=i[Q].t)==="?"||a==="D"||(a===" "||a==="t")&&i[Q+1]!=null&&(i[Q+1].t==="?"||i[Q+1].t==="t"&&i[Q+1].v==="/")||i[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(i[Q].v==="/"||i[Q].v===" "&&i[Q+1]!=null&&i[Q+1].t=="?"));)i[o].v+=i[Q].v,i[Q]={v:"",t:";"},++Q;K+=i[o].v,o=Q-1;break;case"G":i[o].t="t",i[o].v=Qk(e,n);break}var ae="",fe,D;if(K.length>0){K.charCodeAt(0)==40?(fe=e<0&&K.charCodeAt(0)===45?-e:e,D=Ic("n",K,fe)):(fe=e<0&&r>1?-e:e,D=Ic("n",K,fe),fe<0&&i[0]&&i[0].t=="t"&&(D=D.substr(1),i[0].v="-"+i[0].v)),Q=D.length-1;var A=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){A=o;break}var T=i.length;if(A===i.length&&D.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(Q>=i[o].v.length-1?(Q-=i[o].v.length,i[o].v=D.substr(Q+1,i[o].v.length)):Q<0?i[o].v="":(i[o].v=D.substr(0,Q+1),Q=-1),i[o].t="t",T=o);Q>=0&&T<i.length&&(i[T].v=D.substr(0,Q+1)+i[T].v)}else if(A!==i.length&&D.indexOf("E")===-1){for(Q=D.indexOf(".")-1,o=A;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(u=i[o].v.indexOf(".")>-1&&o===A?i[o].v.indexOf(".")-1:i[o].v.length-1,ae=i[o].v.substr(u+1);u>=0;--u)Q>=0&&(i[o].v.charAt(u)==="0"||i[o].v.charAt(u)==="#")&&(ae=D.charAt(Q--)+ae);i[o].v=ae,i[o].t="t",T=o}for(Q>=0&&T<i.length&&(i[T].v=D.substr(0,Q+1)+i[T].v),Q=D.indexOf(".")+1,o=A;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==A)){for(u=i[o].v.indexOf(".")>-1&&o===A?i[o].v.indexOf(".")+1:0,ae=i[o].v.substr(0,u);u<i[o].v.length;++u)Q<D.length&&(ae+=D.charAt(Q++));i[o].v=ae,i[o].t="t",T=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(fe=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=Ic(i[o].t,i[o].v,fe),i[o].t="t");var P="";for(o=0;o!==i.length;++o)i[o]!=null&&(P+=i[o].v);return P}var bj=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Cj(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function Ode(t,e){var n=Mde(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break;case 4:break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(bj),a=n[1].match(bj);return Cj(e,o)?[r,n[0]]:Cj(e,a)?[r,n[1]]:[r,n[o!=null&&a!=null?2:1]]}return[r,s]}function ql(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Qn)[t],r==null&&(r=n.table&&n.table[xj[t]]||Qn[xj[t]]),r==null&&(r=gde[t]||"General");break}if(YE(r,0))return Qk(e,n);e instanceof Date&&(e=i$(e,n.date1904));var i=Ode(r,e);if(YE(i[1]))return Qk(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return Nde(i[1],e,n,i[0])}function p$(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(Qn[n]==null){e<0&&(e=n);continue}if(Qn[n]==t){e=n;break}}e<0&&(e=391)}return Qn[e]=t,e}function l1(t){for(var e=0;e!=392;++e)t[e]!==void 0&&p$(t[e],e)}function u1(){Qn=mde()}var m$=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Fde(t){var e=typeof t=="number"?Qn[t]:t;return e=e.replace(m$,"(\\d+)"),new RegExp("^"+e+"$")}function Lde(t,e,n){var r=-1,i=-1,s=-1,o=-1,a=-1,c=-1;(e.match(m$)||[]).forEach(function(f,h){var m=parseInt(n[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=m;break;case"d":s=m;break;case"h":o=m;break;case"s":c=m;break;case"m":o>=0?a=m:i=m;break}}),c>=0&&a==-1&&i>=0&&(a=i,i=-1);var l=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);l.length==7&&(l="0"+l),l.length==8&&(l="20"+l);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&a==-1&&c==-1?l:r==-1&&i==-1&&s==-1?u:l+"T"+u}var Bde=function(){var t={};t.version="1.2.0";function e(){for(var D=0,A=new Array(256),T=0;T!=256;++T)D=T,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,A[T]=D;return typeof Int32Array<"u"?new Int32Array(A):A}var n=e();function r(D){var A=0,T=0,P=0,L=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)L[P]=D[P];for(P=0;P!=256;++P)for(T=D[P],A=256+P;A<4096;A+=256)T=L[A]=T>>>8^D[T&255];var B=[];for(P=1;P!=16;++P)B[P-1]=typeof Int32Array<"u"?L.subarray(P*256,P*256+256):L.slice(P*256,P*256+256);return B}var i=r(n),s=i[0],o=i[1],a=i[2],c=i[3],l=i[4],u=i[5],f=i[6],h=i[7],m=i[8],y=i[9],_=i[10],x=i[11],M=i[12],H=i[13],K=i[14];function Q(D,A){for(var T=A^-1,P=0,L=D.length;P<L;)T=T>>>8^n[(T^D.charCodeAt(P++))&255];return~T}function ae(D,A){for(var T=A^-1,P=D.length-15,L=0;L<P;)T=K[D[L++]^T&255]^H[D[L++]^T>>8&255]^M[D[L++]^T>>16&255]^x[D[L++]^T>>>24]^_[D[L++]]^y[D[L++]]^m[D[L++]]^h[D[L++]]^f[D[L++]]^u[D[L++]]^l[D[L++]]^c[D[L++]]^a[D[L++]]^o[D[L++]]^s[D[L++]]^n[D[L++]];for(P+=15;L<P;)T=T>>>8^n[(T^D[L++])&255];return~T}function fe(D,A){for(var T=A^-1,P=0,L=D.length,B=0,V=0;P<L;)B=D.charCodeAt(P++),B<128?T=T>>>8^n[(T^B)&255]:B<2048?(T=T>>>8^n[(T^(192|B>>6&31))&255],T=T>>>8^n[(T^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,V=D.charCodeAt(P++)&1023,T=T>>>8^n[(T^(240|B>>8&7))&255],T=T>>>8^n[(T^(128|B>>2&63))&255],T=T>>>8^n[(T^(128|V>>6&15|(B&3)<<4))&255],T=T>>>8^n[(T^(128|V&63))&255]):(T=T>>>8^n[(T^(224|B>>12&15))&255],T=T>>>8^n[(T^(128|B>>6&63))&255],T=T>>>8^n[(T^(128|B&63))&255]);return~T}return t.table=n,t.bstr=Q,t.buf=ae,t.str=fe,t}(),fn=function(){var e={};e.version="1.2.1";function n(I,O){for(var N=I.split("/"),F=O.split("/"),j=0,z=0,ie=Math.min(N.length,F.length);j<ie;++j){if(z=N[j].length-F[j].length)return z;if(N[j]!=F[j])return N[j]<F[j]?-1:1}return N.length-F.length}function r(I){if(I.charAt(I.length-1)=="/")return I.slice(0,-1).indexOf("/")===-1?I:r(I.slice(0,-1));var O=I.lastIndexOf("/");return O===-1?I:I.slice(0,O+1)}function i(I){if(I.charAt(I.length-1)=="/")return i(I.slice(0,-1));var O=I.lastIndexOf("/");return O===-1?I:I.slice(O+1)}function s(I,O){typeof O=="string"&&(O=new Date(O));var N=O.getHours();N=N<<6|O.getMinutes(),N=N<<5|O.getSeconds()>>>1,I.write_shift(2,N);var F=O.getFullYear()-1980;F=F<<4|O.getMonth()+1,F=F<<5|O.getDate(),I.write_shift(2,F)}function o(I){var O=I.read_shift(2)&65535,N=I.read_shift(2)&65535,F=new Date,j=N&31;N>>>=5;var z=N&15;N>>>=4,F.setMilliseconds(0),F.setFullYear(N+1980),F.setMonth(z-1),F.setDate(j);var ie=O&31;O>>>=5;var ue=O&63;return O>>>=6,F.setHours(O),F.setMinutes(ue),F.setSeconds(ie<<1),F}function a(I){Ns(I,0);for(var O={},N=0;I.l<=I.length-4;){var F=I.read_shift(2),j=I.read_shift(2),z=I.l+j,ie={};switch(F){case 21589:N=I.read_shift(1),N&1&&(ie.mtime=I.read_shift(4)),j>5&&(N&2&&(ie.atime=I.read_shift(4)),N&4&&(ie.ctime=I.read_shift(4))),ie.mtime&&(ie.mt=new Date(ie.mtime*1e3));break}I.l=z,O[F]=ie}return O}var c;function l(){return c||(c={})}function u(I,O){if(I[0]==80&&I[1]==75)return Jl(I,O);if((I[0]|32)==109&&(I[1]|32)==105)return Pa(I,O);if(I.length<512)throw new Error("CFB file size "+I.length+" < 512");var N=3,F=512,j=0,z=0,ie=0,ue=0,te=0,re=[],se=I.slice(0,512);Ns(se,0);var we=f(se);switch(N=we[0],N){case 3:F=512;break;case 4:F=4096;break;case 0:if(we[1]==0)return Jl(I,O);default:throw new Error("Major Version: Expected 3 or 4 saw "+N)}F!==512&&(se=I.slice(0,F),Ns(se,28));var ve=I.slice(0,F);h(se,N);var $e=se.read_shift(4,"i");if(N===3&&$e!==0)throw new Error("# Directory Sectors: Expected 0 saw "+$e);se.l+=4,ie=se.read_shift(4,"i"),se.l+=4,se.chk("00100000","Mini Stream Cutoff Size: "),ue=se.read_shift(4,"i"),j=se.read_shift(4,"i"),te=se.read_shift(4,"i"),z=se.read_shift(4,"i");for(var De=-1,Ne=0;Ne<109&&(De=se.read_shift(4,"i"),!(De<0));++Ne)re[Ne]=De;var Je=m(I,F);x(te,z,Je,F,re);var Zt=H(Je,ie,re,F);Zt[ie].name="!Directory",j>0&&ue!==V&&(Zt[ue].name="!MiniFAT"),Zt[re[0]].name="!FAT",Zt.fat_addrs=re,Zt.ssz=F;var ar={},ln=[],Fn=[],lo=[];K(ie,Zt,Je,ln,j,ar,Fn,ue),y(Fn,lo,ln),ln.shift();var Uo={FileIndex:Fn,FullPaths:lo};return O&&O.raw&&(Uo.raw={header:ve,sectors:Je}),Uo}function f(I){if(I[I.l]==80&&I[I.l+1]==75)return[0,0];I.chk(vt,"Header Signature: "),I.l+=16;var O=I.read_shift(2,"u");return[I.read_shift(2,"u"),O]}function h(I,O){var N=9;switch(I.l+=2,N=I.read_shift(2)){case 9:if(O!=3)throw new Error("Sector Shift: Expected 9 saw "+N);break;case 12:if(O!=4)throw new Error("Sector Shift: Expected 12 saw "+N);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+N)}I.chk("0600","Mini Sector Shift: "),I.chk("000000000000","Reserved: ")}function m(I,O){for(var N=Math.ceil(I.length/O)-1,F=[],j=1;j<N;++j)F[j-1]=I.slice(j*O,(j+1)*O);return F[N-1]=I.slice(N*O),F}function y(I,O,N){for(var F=0,j=0,z=0,ie=0,ue=0,te=N.length,re=[],se=[];F<te;++F)re[F]=se[F]=F,O[F]=N[F];for(;ue<se.length;++ue)F=se[ue],j=I[F].L,z=I[F].R,ie=I[F].C,re[F]===F&&(j!==-1&&re[j]!==j&&(re[F]=re[j]),z!==-1&&re[z]!==z&&(re[F]=re[z])),ie!==-1&&(re[ie]=F),j!==-1&&F!=re[F]&&(re[j]=re[F],se.lastIndexOf(j)<ue&&se.push(j)),z!==-1&&F!=re[F]&&(re[z]=re[F],se.lastIndexOf(z)<ue&&se.push(z));for(F=1;F<te;++F)re[F]===F&&(z!==-1&&re[z]!==z?re[F]=re[z]:j!==-1&&re[j]!==j&&(re[F]=re[j]));for(F=1;F<te;++F)if(I[F].type!==0){if(ue=F,ue!=re[ue])do ue=re[ue],O[F]=O[ue]+"/"+O[F];while(ue!==0&&re[ue]!==-1&&ue!=re[ue]);re[F]=-1}for(O[0]+="/",F=1;F<te;++F)I[F].type!==2&&(O[F]+="/")}function _(I,O,N){for(var F=I.start,j=I.size,z=[],ie=F;N&&j>0&&ie>=0;)z.push(O.slice(ie*B,ie*B+B)),j-=B,ie=Ad(N,ie*4);return z.length===0?de(0):ci(z).slice(0,I.size)}function x(I,O,N,F,j){var z=V;if(I===V){if(O!==0)throw new Error("DIFAT chain shorter than expected")}else if(I!==-1){var ie=N[I],ue=(F>>>2)-1;if(!ie)return;for(var te=0;te<ue&&(z=Ad(ie,te*4))!==V;++te)j.push(z);x(Ad(ie,F-4),O-1,N,F,j)}}function M(I,O,N,F,j){var z=[],ie=[];j||(j=[]);var ue=F-1,te=0,re=0;for(te=O;te>=0;){j[te]=!0,z[z.length]=te,ie.push(I[te]);var se=N[Math.floor(te*4/F)];if(re=te*4&ue,F<4+re)throw new Error("FAT boundary crossed: "+te+" 4 "+F);if(!I[se])break;te=Ad(I[se],re)}return{nodes:z,data:Pj([ie])}}function H(I,O,N,F){var j=I.length,z=[],ie=[],ue=[],te=[],re=F-1,se=0,we=0,ve=0,$e=0;for(se=0;se<j;++se)if(ue=[],ve=se+O,ve>=j&&(ve-=j),!ie[ve]){te=[];var De=[];for(we=ve;we>=0;){De[we]=!0,ie[we]=!0,ue[ue.length]=we,te.push(I[we]);var Ne=N[Math.floor(we*4/F)];if($e=we*4&re,F<4+$e)throw new Error("FAT boundary crossed: "+we+" 4 "+F);if(!I[Ne]||(we=Ad(I[Ne],$e),De[we]))break}z[ve]={nodes:ue,data:Pj([te])}}return z}function K(I,O,N,F,j,z,ie,ue){for(var te=0,re=F.length?2:0,se=O[I].data,we=0,ve=0,$e;we<se.length;we+=128){var De=se.slice(we,we+128);Ns(De,64),ve=De.read_shift(2),$e=h1(De,0,ve-re),F.push($e);var Ne={name:$e,type:De.read_shift(1),color:De.read_shift(1),L:De.read_shift(4,"i"),R:De.read_shift(4,"i"),C:De.read_shift(4,"i"),clsid:De.read_shift(16),state:De.read_shift(4,"i"),start:0,size:0},Je=De.read_shift(2)+De.read_shift(2)+De.read_shift(2)+De.read_shift(2);Je!==0&&(Ne.ct=Q(De,De.l-8));var Zt=De.read_shift(2)+De.read_shift(2)+De.read_shift(2)+De.read_shift(2);Zt!==0&&(Ne.mt=Q(De,De.l-8)),Ne.start=De.read_shift(4,"i"),Ne.size=De.read_shift(4,"i"),Ne.size<0&&Ne.start<0&&(Ne.size=Ne.type=0,Ne.start=V,Ne.name=""),Ne.type===5?(te=Ne.start,j>0&&te!==V&&(O[te].name="!StreamData")):Ne.size>=4096?(Ne.storage="fat",O[Ne.start]===void 0&&(O[Ne.start]=M(N,Ne.start,O.fat_addrs,O.ssz)),O[Ne.start].name=Ne.name,Ne.content=O[Ne.start].data.slice(0,Ne.size)):(Ne.storage="minifat",Ne.size<0?Ne.size=0:te!==V&&Ne.start!==V&&O[te]&&(Ne.content=_(Ne,O[te].data,(O[ue]||{}).data))),Ne.content&&Ns(Ne.content,0),z[$e]=Ne,ie.push(Ne)}}function Q(I,O){return new Date((Kr(I,O+4)/1e7*Math.pow(2,32)+Kr(I,O)/1e7-11644473600)*1e3)}function ae(I,O){return l(),u(c.readFileSync(I),O)}function fe(I,O){var N=O&&O.type;switch(N||Qt&&Buffer.isBuffer(I)&&(N="buffer"),N||"base64"){case"file":return ae(I,O);case"base64":return u(Fo(kc(I)),O);case"binary":return u(Fo(I),O)}return u(I,O)}function D(I,O){var N=O||{},F=N.root||"Root Entry";if(I.FullPaths||(I.FullPaths=[]),I.FileIndex||(I.FileIndex=[]),I.FullPaths.length!==I.FileIndex.length)throw new Error("inconsistent CFB structure");I.FullPaths.length===0&&(I.FullPaths[0]=F+"/",I.FileIndex[0]={name:F,type:5}),N.CLSID&&(I.FileIndex[0].clsid=N.CLSID),A(I)}function A(I){var O="Sh33tJ5";if(!fn.find(I,"/"+O)){var N=de(4);N[0]=55,N[1]=N[3]=50,N[2]=54,I.FileIndex.push({name:O,type:2,content:N,size:4,L:69,R:69,C:69}),I.FullPaths.push(I.FullPaths[0]+O),T(I)}}function T(I,O){D(I);for(var N=!1,F=!1,j=I.FullPaths.length-1;j>=0;--j){var z=I.FileIndex[j];switch(z.type){case 0:F?N=!0:(I.FileIndex.pop(),I.FullPaths.pop());break;case 1:case 2:case 5:F=!0,isNaN(z.R*z.L*z.C)&&(N=!0),z.R>-1&&z.L>-1&&z.R==z.L&&(N=!0);break;default:N=!0;break}}if(!(!N&&!O)){var ie=new Date(1987,1,19),ue=0,te=Object.create?Object.create(null):{},re=[];for(j=0;j<I.FullPaths.length;++j)te[I.FullPaths[j]]=!0,I.FileIndex[j].type!==0&&re.push([I.FullPaths[j],I.FileIndex[j]]);for(j=0;j<re.length;++j){var se=r(re[j][0]);F=te[se],F||(re.push([se,{name:i(se).replace("/",""),type:1,clsid:Rn,ct:ie,mt:ie,content:null}]),te[se]=!0)}for(re.sort(function($e,De){return n($e[0],De[0])}),I.FullPaths=[],I.FileIndex=[],j=0;j<re.length;++j)I.FullPaths[j]=re[j][0],I.FileIndex[j]=re[j][1];for(j=0;j<re.length;++j){var we=I.FileIndex[j],ve=I.FullPaths[j];if(we.name=i(ve).replace("/",""),we.L=we.R=we.C=-(we.color=1),we.size=we.content?we.content.length:0,we.start=0,we.clsid=we.clsid||Rn,j===0)we.C=re.length>1?1:-1,we.size=0,we.type=5;else if(ve.slice(-1)=="/"){for(ue=j+1;ue<re.length&&r(I.FullPaths[ue])!=ve;++ue);for(we.C=ue>=re.length?-1:ue,ue=j+1;ue<re.length&&r(I.FullPaths[ue])!=r(ve);++ue);we.R=ue>=re.length?-1:ue,we.type=1}else r(I.FullPaths[j+1]||"")==r(ve)&&(we.R=j+1),we.type=2}}}function P(I,O){var N=O||{};if(N.fileType=="mad")return Hd(I,N);switch(T(I),N.fileType){case"zip":return Ra(I,N)}var F=function($e){for(var De=0,Ne=0,Je=0;Je<$e.FileIndex.length;++Je){var Zt=$e.FileIndex[Je];if(Zt.content){var ar=Zt.content.length;ar>0&&(ar<4096?De+=ar+63>>6:Ne+=ar+511>>9)}}for(var ln=$e.FullPaths.length+3>>2,Fn=De+7>>3,lo=De+127>>7,Uo=Fn+Ne+ln+lo,Bs=Uo+127>>7,Oc=Bs<=109?0:Math.ceil((Bs-109)/127);Uo+Bs+Oc+127>>7>Bs;)Oc=++Bs<=109?0:Math.ceil((Bs-109)/127);var Gi=[1,Oc,Bs,lo,ln,Ne,De,0];return $e.FileIndex[0].size=De<<6,Gi[7]=($e.FileIndex[0].start=Gi[0]+Gi[1]+Gi[2]+Gi[3]+Gi[4]+Gi[5])+(Gi[6]+7>>3),Gi}(I),j=de(F[7]<<9),z=0,ie=0;{for(z=0;z<8;++z)j.write_shift(1,Ge[z]);for(z=0;z<8;++z)j.write_shift(2,0);for(j.write_shift(2,62),j.write_shift(2,3),j.write_shift(2,65534),j.write_shift(2,9),j.write_shift(2,6),z=0;z<3;++z)j.write_shift(2,0);for(j.write_shift(4,0),j.write_shift(4,F[2]),j.write_shift(4,F[0]+F[1]+F[2]+F[3]-1),j.write_shift(4,0),j.write_shift(4,4096),j.write_shift(4,F[3]?F[0]+F[1]+F[2]-1:V),j.write_shift(4,F[3]),j.write_shift(-4,F[1]?F[0]-1:V),j.write_shift(4,F[1]),z=0;z<109;++z)j.write_shift(-4,z<F[2]?F[1]+z:-1)}if(F[1])for(ie=0;ie<F[1];++ie){for(;z<236+ie*127;++z)j.write_shift(-4,z<F[2]?F[1]+z:-1);j.write_shift(-4,ie===F[1]-1?V:ie+1)}var ue=function($e){for(ie+=$e;z<ie-1;++z)j.write_shift(-4,z+1);$e&&(++z,j.write_shift(-4,V))};for(ie=z=0,ie+=F[1];z<ie;++z)j.write_shift(-4,hn.DIFSECT);for(ie+=F[2];z<ie;++z)j.write_shift(-4,hn.FATSECT);ue(F[3]),ue(F[4]);for(var te=0,re=0,se=I.FileIndex[0];te<I.FileIndex.length;++te)se=I.FileIndex[te],se.content&&(re=se.content.length,!(re<4096)&&(se.start=ie,ue(re+511>>9)));for(ue(F[6]+7>>3);j.l&511;)j.write_shift(-4,hn.ENDOFCHAIN);for(ie=z=0,te=0;te<I.FileIndex.length;++te)se=I.FileIndex[te],se.content&&(re=se.content.length,!(!re||re>=4096)&&(se.start=ie,ue(re+63>>6)));for(;j.l&511;)j.write_shift(-4,hn.ENDOFCHAIN);for(z=0;z<F[4]<<2;++z){var we=I.FullPaths[z];if(!we||we.length===0){for(te=0;te<17;++te)j.write_shift(4,0);for(te=0;te<3;++te)j.write_shift(4,-1);for(te=0;te<12;++te)j.write_shift(4,0);continue}se=I.FileIndex[z],z===0&&(se.start=se.size?se.start-1:V);var ve=z===0&&N.root||se.name;if(re=2*(ve.length+1),j.write_shift(64,ve,"utf16le"),j.write_shift(2,re),j.write_shift(1,se.type),j.write_shift(1,se.color),j.write_shift(-4,se.L),j.write_shift(-4,se.R),j.write_shift(-4,se.C),se.clsid)j.write_shift(16,se.clsid,"hex");else for(te=0;te<4;++te)j.write_shift(4,0);j.write_shift(4,se.state||0),j.write_shift(4,0),j.write_shift(4,0),j.write_shift(4,0),j.write_shift(4,0),j.write_shift(4,se.start),j.write_shift(4,se.size),j.write_shift(4,0)}for(z=1;z<I.FileIndex.length;++z)if(se=I.FileIndex[z],se.size>=4096)if(j.l=se.start+1<<9,Qt&&Buffer.isBuffer(se.content))se.content.copy(j,j.l,0,se.size),j.l+=se.size+511&-512;else{for(te=0;te<se.size;++te)j.write_shift(1,se.content[te]);for(;te&511;++te)j.write_shift(1,0)}for(z=1;z<I.FileIndex.length;++z)if(se=I.FileIndex[z],se.size>0&&se.size<4096)if(Qt&&Buffer.isBuffer(se.content))se.content.copy(j,j.l,0,se.size),j.l+=se.size+63&-64;else{for(te=0;te<se.size;++te)j.write_shift(1,se.content[te]);for(;te&63;++te)j.write_shift(1,0)}if(Qt)j.l=j.length;else for(;j.l<j.length;)j.write_shift(1,0);return j}function L(I,O){var N=I.FullPaths.map(function(te){return te.toUpperCase()}),F=N.map(function(te){var re=te.split("/");return re[re.length-(te.slice(-1)=="/"?2:1)]}),j=!1;O.charCodeAt(0)===47?(j=!0,O=N[0].slice(0,-1)+O):j=O.indexOf("/")!==-1;var z=O.toUpperCase(),ie=j===!0?N.indexOf(z):F.indexOf(z);if(ie!==-1)return I.FileIndex[ie];var ue=!z.match(jE);for(z=z.replace(lp,""),ue&&(z=z.replace(jE,"!")),ie=0;ie<N.length;++ie)if((ue?N[ie].replace(jE,"!"):N[ie]).replace(lp,"")==z||(ue?F[ie].replace(jE,"!"):F[ie]).replace(lp,"")==z)return I.FileIndex[ie];return null}var B=64,V=-2,vt="d0cf11e0a1b11ae1",Ge=[208,207,17,224,161,177,26,225],Rn="00000000000000000000000000000000",hn={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:V,FREESECT:-1,HEADER_SIGNATURE:vt,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Rn,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Pn(I,O,N){l();var F=P(I,N);c.writeFileSync(O,F)}function Mn(I){for(var O=new Array(I.length),N=0;N<I.length;++N)O[N]=String.fromCharCode(I[N]);return O.join("")}function Wt(I,O){var N=P(I,O);switch(O&&O.type||"buffer"){case"file":return l(),c.writeFileSync(O.filename,N),N;case"binary":return typeof N=="string"?N:Mn(N);case"base64":return fg(typeof N=="string"?N:Mn(N));case"buffer":if(Qt)return Buffer.isBuffer(N)?N:Pc(N);case"array":return typeof N=="string"?Fo(N):N}return N}var Bn;function X(I){try{var O=I.InflateRaw,N=new O;if(N._processChunk(new Uint8Array([3,0]),N._finishFlushFlag),N.bytesRead)Bn=I;else throw new Error("zlib does not expose bytesRead")}catch(F){console.error("cannot use native zlib: "+(F.message||F))}}function le(I,O){if(!Bn)return Vd(I,O);var N=Bn.InflateRaw,F=new N,j=F._processChunk(I.slice(I.l),F._finishFlushFlag);return I.l+=F.bytesRead,j}function Z(I){return Bn?Bn.deflateRawSync(I):or(I)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],xe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Qe(I){var O=(I<<1|I<<11)&139536|(I<<5|I<<15)&558144;return(O>>16|O>>8|O)&255}for(var He=typeof Uint8Array<"u",Ae=He?new Uint8Array(256):[],kt=0;kt<256;++kt)Ae[kt]=Qe(kt);function pt(I,O){var N=Ae[I&255];return O<=8?N>>>8-O:(N=N<<8|Ae[I>>8&255],O<=16?N>>>16-O:(N=N<<8|Ae[I>>16&255],N>>>24-O))}function Vn(I,O){var N=O&7,F=O>>>3;return(I[F]|(N<=6?0:I[F+1]<<8))>>>N&3}function rt(I,O){var N=O&7,F=O>>>3;return(I[F]|(N<=5?0:I[F+1]<<8))>>>N&7}function Tn(I,O){var N=O&7,F=O>>>3;return(I[F]|(N<=4?0:I[F+1]<<8))>>>N&15}function pn(I,O){var N=O&7,F=O>>>3;return(I[F]|(N<=3?0:I[F+1]<<8))>>>N&31}function Oe(I,O){var N=O&7,F=O>>>3;return(I[F]|(N<=1?0:I[F+1]<<8))>>>N&127}function Cr(I,O,N){var F=O&7,j=O>>>3,z=(1<<N)-1,ie=I[j]>>>F;return N<8-F||(ie|=I[j+1]<<8-F,N<16-F)||(ie|=I[j+2]<<16-F,N<24-F)||(ie|=I[j+3]<<24-F),ie&z}function Ai(I,O,N){var F=O&7,j=O>>>3;return F<=5?I[j]|=(N&7)<<F:(I[j]|=N<<F&255,I[j+1]=(N&7)>>8-F),O+3}function cs(I,O,N){var F=O&7,j=O>>>3;return N=(N&1)<<F,I[j]|=N,O+1}function mt(I,O,N){var F=O&7,j=O>>>3;return N<<=F,I[j]|=N&255,N>>>=8,I[j+1]=N,O+8}function fi(I,O,N){var F=O&7,j=O>>>3;return N<<=F,I[j]|=N&255,N>>>=8,I[j+1]=N&255,I[j+2]=N>>>8,O+16}function zi(I,O){var N=I.length,F=2*N>O?2*N:O+5,j=0;if(N>=O)return I;if(Qt){var z=vj(F);if(I.copy)I.copy(z);else for(;j<I.length;++j)z[j]=I[j];return z}else if(He){var ie=new Uint8Array(F);if(ie.set)ie.set(I);else for(;j<N;++j)ie[j]=I[j];return ie}return I.length=F,I}function Hn(I){for(var O=new Array(I),N=0;N<I;++N)O[N]=0;return O}function mn(I,O,N){var F=1,j=0,z=0,ie=0,ue=0,te=I.length,re=He?new Uint16Array(32):Hn(32);for(z=0;z<32;++z)re[z]=0;for(z=te;z<N;++z)I[z]=0;te=I.length;var se=He?new Uint16Array(te):Hn(te);for(z=0;z<te;++z)re[j=I[z]]++,F<j&&(F=j),se[z]=0;for(re[0]=0,z=1;z<=F;++z)re[z+16]=ue=ue+re[z-1]<<1;for(z=0;z<te;++z)ue=I[z],ue!=0&&(se[z]=re[ue+16]++);var we=0;for(z=0;z<te;++z)if(we=I[z],we!=0)for(ue=pt(se[z],F)>>F-we,ie=(1<<F+4-we)-1;ie>=0;--ie)O[ue|ie<<we]=we&15|z<<4;return F}var Nn=He?new Uint16Array(512):Hn(512),On=He?new Uint16Array(32):Hn(32);if(!He){for(var wn=0;wn<512;++wn)Nn[wn]=0;for(wn=0;wn<32;++wn)On[wn]=0}(function(){for(var I=[],O=0;O<32;O++)I.push(5);mn(I,On,32);var N=[];for(O=0;O<=143;O++)N.push(8);for(;O<=255;O++)N.push(9);for(;O<=279;O++)N.push(7);for(;O<=287;O++)N.push(8);mn(N,Nn,288)})();var Ls=function(){for(var O=He?new Uint8Array(32768):[],N=0,F=0;N<Fe.length-1;++N)for(;F<Fe[N+1];++F)O[F]=N;for(;F<32768;++F)O[F]=29;var j=He?new Uint8Array(259):[];for(N=0,F=0;N<xe.length-1;++N)for(;F<xe[N+1];++F)j[F]=N;function z(ue,te){for(var re=0;re<ue.length;){var se=Math.min(65535,ue.length-re),we=re+se==ue.length;for(te.write_shift(1,+we),te.write_shift(2,se),te.write_shift(2,~se&65535);se-- >0;)te[te.l++]=ue[re++]}return te.l}function ie(ue,te){for(var re=0,se=0,we=He?new Uint16Array(32768):[];se<ue.length;){var ve=Math.min(65535,ue.length-se);if(ve<10){for(re=Ai(te,re,+(se+ve==ue.length)),re&7&&(re+=8-(re&7)),te.l=re/8|0,te.write_shift(2,ve),te.write_shift(2,~ve&65535);ve-- >0;)te[te.l++]=ue[se++];re=te.l*8;continue}re=Ai(te,re,+(se+ve==ue.length)+2);for(var $e=0;ve-- >0;){var De=ue[se];$e=($e<<5^De)&32767;var Ne=-1,Je=0;if((Ne=we[$e])&&(Ne|=se&-32768,Ne>se&&(Ne-=32768),Ne<se))for(;ue[Ne+Je]==ue[se+Je]&&Je<250;)++Je;if(Je>2){De=j[Je],De<=22?re=mt(te,re,Ae[De+1]>>1)-1:(mt(te,re,3),re+=5,mt(te,re,Ae[De-23]>>5),re+=3);var Zt=De<8?0:De-4>>2;Zt>0&&(fi(te,re,Je-xe[De]),re+=Zt),De=O[se-Ne],re=mt(te,re,Ae[De]>>3),re-=3;var ar=De<4?0:De-2>>1;ar>0&&(fi(te,re,se-Ne-Fe[De]),re+=ar);for(var ln=0;ln<Je;++ln)we[$e]=se&32767,$e=($e<<5^ue[se])&32767,++se;ve-=Je-1}else De<=143?De=De+48:re=cs(te,re,1),re=mt(te,re,Ae[De]),we[$e]=se&32767,++se}re=mt(te,re,0)-1}return te.l=(re+7)/8|0,te.l}return function(te,re){return te.length<8?z(te,re):ie(te,re)}}();function or(I){var O=de(50+Math.floor(I.length*1.1)),N=Ls(I,O);return O.slice(0,N)}var Xl=He?new Uint16Array(32768):Hn(32768),Yl=He?new Uint16Array(32768):Hn(32768),co=He?new Uint16Array(128):Hn(128),ka=1,Ql=1;function Zl(I,O){var N=pn(I,O)+257;O+=5;var F=pn(I,O)+1;O+=5;var j=Tn(I,O)+4;O+=4;for(var z=0,ie=He?new Uint8Array(19):Hn(19),ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],te=1,re=He?new Uint8Array(8):Hn(8),se=He?new Uint8Array(8):Hn(8),we=ie.length,ve=0;ve<j;++ve)ie[Y[ve]]=z=rt(I,O),te<z&&(te=z),re[z]++,O+=3;var $e=0;for(re[0]=0,ve=1;ve<=te;++ve)se[ve]=$e=$e+re[ve-1]<<1;for(ve=0;ve<we;++ve)($e=ie[ve])!=0&&(ue[ve]=se[$e]++);var De=0;for(ve=0;ve<we;++ve)if(De=ie[ve],De!=0){$e=Ae[ue[ve]]>>8-De;for(var Ne=(1<<7-De)-1;Ne>=0;--Ne)co[$e|Ne<<De]=De&7|ve<<3}var Je=[];for(te=1;Je.length<N+F;)switch($e=co[Oe(I,O)],O+=$e&7,$e>>>=3){case 16:for(z=3+Vn(I,O),O+=2,$e=Je[Je.length-1];z-- >0;)Je.push($e);break;case 17:for(z=3+rt(I,O),O+=3;z-- >0;)Je.push(0);break;case 18:for(z=11+Oe(I,O),O+=7;z-- >0;)Je.push(0);break;default:Je.push($e),te<$e&&(te=$e);break}var Zt=Je.slice(0,N),ar=Je.slice(N);for(ve=N;ve<286;++ve)Zt[ve]=0;for(ve=F;ve<30;++ve)ar[ve]=0;return ka=mn(Zt,Xl,286),Ql=mn(ar,Yl,30),O}function Sp(I,O){if(I[0]==3&&!(I[1]&3))return[Rd(O),2];for(var N=0,F=0,j=vj(O||1<<18),z=0,ie=j.length>>>0,ue=0,te=0;!(F&1);){if(F=rt(I,N),N+=3,F>>>1)F>>1==1?(ue=9,te=5):(N=Zl(I,N),ue=ka,te=Ql);else{N&7&&(N+=8-(N&7));var re=I[N>>>3]|I[(N>>>3)+1]<<8;if(N+=32,re>0)for(!O&&ie<z+re&&(j=zi(j,z+re),ie=j.length);re-- >0;)j[z++]=I[N>>>3],N+=8;continue}for(;;){!O&&ie<z+32767&&(j=zi(j,z+32767),ie=j.length);var se=Cr(I,N,ue),we=F>>>1==1?Nn[se]:Xl[se];if(N+=we&15,we>>>=4,!(we>>>8&255))j[z++]=we;else{if(we==256)break;we-=257;var ve=we<8?0:we-4>>2;ve>5&&(ve=0);var $e=z+xe[we];ve>0&&($e+=Cr(I,N,ve),N+=ve),se=Cr(I,N,te),we=F>>>1==1?On[se]:Yl[se],N+=we&15,we>>>=4;var De=we<4?0:we-2>>1,Ne=Fe[we];for(De>0&&(Ne+=Cr(I,N,De),N+=De),!O&&ie<$e&&(j=zi(j,$e+100),ie=j.length);z<$e;)j[z]=j[z-Ne],++z}}}return O?[j,N+7>>>3]:[j.slice(0,z),N+7>>>3]}function Vd(I,O){var N=I.slice(I.l||0),F=Sp(N,O);return I.l+=F[1],F[0]}function qi(I,O){if(I)typeof console<"u"&&console.error(O);else throw new Error(O)}function Jl(I,O){var N=I;Ns(N,0);var F=[],j=[],z={FileIndex:F,FullPaths:j};D(z,{root:O.root});for(var ie=N.length-4;(N[ie]!=80||N[ie+1]!=75||N[ie+2]!=5||N[ie+3]!=6)&&ie>=0;)--ie;N.l=ie+4,N.l+=4;var ue=N.read_shift(2);N.l+=6;var te=N.read_shift(4);for(N.l=te,ie=0;ie<ue;++ie){N.l+=20;var re=N.read_shift(4),se=N.read_shift(4),we=N.read_shift(2),ve=N.read_shift(2),$e=N.read_shift(2);N.l+=8;var De=N.read_shift(4),Ne=a(N.slice(N.l+we,N.l+we+ve));N.l+=we+ve+$e;var Je=N.l;N.l=De+4,Ud(N,re,se,z,Ne),N.l=Je}return z}function Ud(I,O,N,F,j){I.l+=2;var z=I.read_shift(2),ie=I.read_shift(2),ue=o(I);if(z&8257)throw new Error("Unsupported ZIP encryption");for(var te=I.read_shift(4),re=I.read_shift(4),se=I.read_shift(4),we=I.read_shift(2),ve=I.read_shift(2),$e="",De=0;De<we;++De)$e+=String.fromCharCode(I[I.l++]);if(ve){var Ne=a(I.slice(I.l,I.l+ve));(Ne[21589]||{}).mt&&(ue=Ne[21589].mt),((j||{})[21589]||{}).mt&&(ue=j[21589].mt)}I.l+=ve;var Je=I.slice(I.l,I.l+re);switch(ie){case 8:Je=le(I,se);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ie)}var Zt=!1;z&8&&(te=I.read_shift(4),te==134695760&&(te=I.read_shift(4),Zt=!0),re=I.read_shift(4),se=I.read_shift(4)),re!=O&&qi(Zt,"Bad compressed size: "+O+" != "+re),se!=N&&qi(Zt,"Bad uncompressed size: "+N+" != "+se),Nc(F,$e,Je,{unsafe:!0,mt:ue})}function Ra(I,O){var N=O||{},F=[],j=[],z=de(1),ie=N.compression?8:0,ue=0,te=!1;te&&(ue|=8);var re=0,se=0,we=0,ve=0,$e=I.FullPaths[0],De=$e,Ne=I.FileIndex[0],Je=[],Zt=0;for(re=1;re<I.FullPaths.length;++re)if(De=I.FullPaths[re].slice($e.length),Ne=I.FileIndex[re],!(!Ne.size||!Ne.content||De=="Sh33tJ5")){var ar=we,ln=de(De.length);for(se=0;se<De.length;++se)ln.write_shift(1,De.charCodeAt(se)&127);ln=ln.slice(0,ln.l),Je[ve]=Bde.buf(Ne.content,0);var Fn=Ne.content;ie==8&&(Fn=Z(Fn)),z=de(30),z.write_shift(4,67324752),z.write_shift(2,20),z.write_shift(2,ue),z.write_shift(2,ie),Ne.mt?s(z,Ne.mt):z.write_shift(4,0),z.write_shift(-4,ue&8?0:Je[ve]),z.write_shift(4,ue&8?0:Fn.length),z.write_shift(4,ue&8?0:Ne.content.length),z.write_shift(2,ln.length),z.write_shift(2,0),we+=z.length,F.push(z),we+=ln.length,F.push(ln),we+=Fn.length,F.push(Fn),ue&8&&(z=de(12),z.write_shift(-4,Je[ve]),z.write_shift(4,Fn.length),z.write_shift(4,Ne.content.length),we+=z.l,F.push(z)),z=de(46),z.write_shift(4,33639248),z.write_shift(2,0),z.write_shift(2,20),z.write_shift(2,ue),z.write_shift(2,ie),z.write_shift(4,0),z.write_shift(-4,Je[ve]),z.write_shift(4,Fn.length),z.write_shift(4,Ne.content.length),z.write_shift(2,ln.length),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(4,0),z.write_shift(4,ar),Zt+=z.l,j.push(z),Zt+=ln.length,j.push(ln),++ve}return z=de(22),z.write_shift(4,101010256),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(2,ve),z.write_shift(2,ve),z.write_shift(4,Zt),z.write_shift(4,we),z.write_shift(2,0),ci([ci(F),ci(j),z])}var Vo={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function eu(I,O){if(I.ctype)return I.ctype;var N=I.name||"",F=N.match(/\.([^\.]+)$/);return F&&Vo[F[1]]||O&&(F=(N=O).match(/[\.\\]([^\.\\])+$/),F&&Vo[F[1]])?Vo[F[1]]:"application/octet-stream"}function ls(I){for(var O=fg(I),N=[],F=0;F<O.length;F+=76)N.push(O.slice(F,F+76));return N.join(`\r
`)+`\r
`}function jd(I){var O=I.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(re){var se=re.charCodeAt(0).toString(16).toUpperCase();return"="+(se.length==1?"0"+se:se)});O=O.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),O.charAt(0)==`
`&&(O="=0D"+O.slice(1)),O=O.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var N=[],F=O.split(`\r
`),j=0;j<F.length;++j){var z=F[j];if(z.length==0){N.push("");continue}for(var ie=0;ie<z.length;){var ue=76,te=z.slice(ie,ie+ue);te.charAt(ue-1)=="="?ue--:te.charAt(ue-2)=="="?ue-=2:te.charAt(ue-3)=="="&&(ue-=3),te=z.slice(ie,ie+ue),ie+=ue,ie<z.length&&(te+="="),N.push(te)}}return N.join(`\r
`)}function Mc(I){for(var O=[],N=0;N<I.length;++N){for(var F=I[N];N<=I.length&&F.charAt(F.length-1)=="=";)F=F.slice(0,F.length-1)+I[++N];O.push(F)}for(var j=0;j<O.length;++j)O[j]=O[j].replace(/[=][0-9A-Fa-f]{2}/g,function(z){return String.fromCharCode(parseInt(z.slice(1),16))});return Fo(O.join(`\r
`))}function $d(I,O,N){for(var F="",j="",z="",ie,ue=0;ue<10;++ue){var te=O[ue];if(!te||te.match(/^\s*$/))break;var re=te.match(/^(.*?):\s*([^\s].*)$/);if(re)switch(re[1].toLowerCase()){case"content-location":F=re[2].trim();break;case"content-type":z=re[2].trim();break;case"content-transfer-encoding":j=re[2].trim();break}}switch(++ue,j.toLowerCase()){case"base64":ie=Fo(kc(O.slice(ue).join("")));break;case"quoted-printable":ie=Mc(O.slice(ue));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+j)}var se=Nc(I,F.slice(N.length),ie,{unsafe:!0});z&&(se.ctype=z)}function Pa(I,O){if(Mn(I.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var N=O&&O.root||"",F=(Qt&&Buffer.isBuffer(I)?I.toString("binary"):Mn(I)).split(`\r
`),j=0,z="";for(j=0;j<F.length;++j)if(z=F[j],!!/^Content-Location:/i.test(z)&&(z=z.slice(z.indexOf("file")),N||(N=z.slice(0,z.lastIndexOf("/")+1)),z.slice(0,N.length)!=N))for(;N.length>0&&(N=N.slice(0,N.length-1),N=N.slice(0,N.lastIndexOf("/")+1),z.slice(0,N.length)!=N););var ie=(F[1]||"").match(/boundary="(.*?)"/);if(!ie)throw new Error("MAD cannot find boundary");var ue="--"+(ie[1]||""),te=[],re=[],se={FileIndex:te,FullPaths:re};D(se);var we,ve=0;for(j=0;j<F.length;++j){var $e=F[j];$e!==ue&&$e!==ue+"--"||(ve++&&$d(se,F.slice(we,j),N),we=j)}return se}function Hd(I,O){var N=O||{},F=N.boundary||"SheetJS";F="------="+F;for(var j=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+F.slice(2)+'"',"","",""],z=I.FullPaths[0],ie=z,ue=I.FileIndex[0],te=1;te<I.FullPaths.length;++te)if(ie=I.FullPaths[te].slice(z.length),ue=I.FileIndex[te],!(!ue.size||!ue.content||ie=="Sh33tJ5")){ie=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Je){return"_x"+Je.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Je){return"_u"+Je.charCodeAt(0).toString(16)+"_"});for(var re=ue.content,se=Qt&&Buffer.isBuffer(re)?re.toString("binary"):Mn(re),we=0,ve=Math.min(1024,se.length),$e=0,De=0;De<=ve;++De)($e=se.charCodeAt(De))>=32&&$e<128&&++we;var Ne=we>=ve*4/5;j.push(F),j.push("Content-Location: "+(N.root||"file:///C:/SheetJS/")+ie),j.push("Content-Transfer-Encoding: "+(Ne?"quoted-printable":"base64")),j.push("Content-Type: "+eu(ue,ie)),j.push(""),j.push(Ne?jd(se):ls(se))}return j.push(F+`--\r
`),j.join(`\r
`)}function Zn(I){var O={};return D(O,I),O}function Nc(I,O,N,F){var j=F&&F.unsafe;j||D(I);var z=!j&&fn.find(I,O);if(!z){var ie=I.FullPaths[0];O.slice(0,ie.length)==ie?ie=O:(ie.slice(-1)!="/"&&(ie+="/"),ie=(ie+O).replace("//","/")),z={name:i(O),type:2},I.FileIndex.push(z),I.FullPaths.push(ie),j||fn.utils.cfb_gc(I)}return z.content=N,z.size=N?N.length:0,F&&(F.CLSID&&(z.clsid=F.CLSID),F.mt&&(z.mt=F.mt),F.ct&&(z.ct=F.ct)),z}function Ma(I,O){D(I);var N=fn.find(I,O);if(N){for(var F=0;F<I.FileIndex.length;++F)if(I.FileIndex[F]==N)return I.FileIndex.splice(F,1),I.FullPaths.splice(F,1),!0}return!1}function Na(I,O,N){D(I);var F=fn.find(I,O);if(F){for(var j=0;j<I.FileIndex.length;++j)if(I.FileIndex[j]==F)return I.FileIndex[j].name=i(N),I.FullPaths[j]=N,!0}return!1}function Tp(I){T(I,!0)}return e.find=L,e.read=fe,e.parse=u,e.write=Wt,e.writeFile=Pn,e.utils={cfb_new:Zn,cfb_add:Nc,cfb_del:Ma,cfb_mov:Na,cfb_gc:Tp,ReadShift:og,CheckField:A$,prep_blob:Ns,bconcat:ci,use_zlib:X,_deflateRaw:or,_inflateRaw:Vd,consts:hn},e}(),HE;function Vde(t){return typeof t=="string"?c1(t):Array.isArray(t)?dde(t):t}function yg(t,e,n){if(typeof HE<"u"&&HE.writeFileSync)return n?HE.writeFileSync(t,e,n):HE.writeFileSync(t,e);if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=c1(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?Tc(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([Vde(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(t);return a.open("w"),a.encoding="binary",Array.isArray(e)&&(e=vg(e)),a.write(e),a.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+t)}function di(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function Sj(t,e){for(var n=[],r=di(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function rR(t){for(var e=[],n=di(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function d1(t){for(var e=[],n=di(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function Ude(t){for(var e=[],n=di(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var ZE=new Date(1899,11,30,0,0,0);function os(t,e){var n=t.getTime();e&&(n-=1462*24*60*60*1e3);var r=ZE.getTime()+(t.getTimezoneOffset()-ZE.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var g$=new Date,jde=ZE.getTime()+(g$.getTimezoneOffset()-ZE.getTimezoneOffset())*6e4,Tj=g$.getTimezoneOffset();function v$(t){var e=new Date;return e.setTime(t*24*60*60*1e3+jde),e.getTimezoneOffset()!==Tj&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Tj)*6e4),e}var Ij=new Date("2017-02-19T19:06:09.000Z"),y$=isNaN(Ij.getFullYear())?new Date("2/19/17"):Ij,$de=y$.getFullYear()==2017;function Hi(t,e){var n=new Date(t);if($de)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(y$.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function f1(t,e){if(Qt&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return Tc(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Tc(ude(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return Tc(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Tc(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"\u20AC":"\x80","\u201A":"\x82",\u0192:"\x83","\u201E":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02C6":"\x88","\u2030":"\x89",\u0160:"\x8A","\u2039":"\x8B",\u0152:"\x8C",\u017D:"\x8E","\u2018":"\x91","\u2019":"\x92","\u201C":"\x93","\u201D":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02DC":"\x98","\u2122":"\x99",\u0161:"\x9A","\u203A":"\x9B",\u0153:"\x9C",\u017E:"\x9E",\u0178:"\x9F"};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function as(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=as(t[n]));return e}function Yn(t,e){for(var n="";n.length<e;)n+=t;return n}function Ac(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var Hde=["january","february","march","april","may","june","july","august","september","october","november","december"];function hg(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&Hde.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}function St(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return Qt?r=Pc(n):r=fde(n),fn.utils.cfb_add(t,e,r)}fn.utils.cfb_add(t,e,n)}else t.file(e,n)}function iR(){return fn.utils.cfb_new()}var br=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`;var zde={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},sR=rR(zde);var oR=/[&<>'"]/g,qde=/[\u0000-\u0008\u000b-\u001f]/g;function an(t){var e=t+"";return e.replace(oR,function(n){return sR[n]}).replace(qde,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Aj(t){return an(t).replace(/ /g,"_x0020_")}var _$=/[\u0000-\u001f]/g;function Gde(t){var e=t+"";return e.replace(oR,function(n){return sR[n]}).replace(/\n/g,"<br/>").replace(_$,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function Wde(t){var e=t+"";return e.replace(oR,function(n){return sR[n]}).replace(_$,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function Kde(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Xde(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function zk(t){for(var e="",n=0,r=0,i=0,s=0,o=0,a=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=t.charCodeAt(n++),a=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(a>>>10&1023)),e+=String.fromCharCode(56320+(a&1023))}return e}function Dj(t){var e=Rd(2*t.length),n,r,i=1,s=0,o=0,a;for(r=0;r<t.length;r+=i)i=1,(a=t.charCodeAt(r))<128?n=a:a<224?(n=(a&31)*64+(t.charCodeAt(r+1)&63),i=2):a<240?(n=(a&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(a&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function kj(t){return Pc(t,"binary").toString("utf8")}var zE="foo bar baz\xE2\x98\x83\xF0\x9F\x8D\xA3",sg=Qt&&(kj(zE)==zk(zE)&&kj||Dj(zE)==zk(zE)&&Dj)||zk,Tc=Qt?function(t){return Pc(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")};var Yde=function(){var t=[["nbsp"," "],["middot","\xB7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}}();var x$=/(^\s|\s$|\n)/;function li(t,e){return"<"+t+(e.match(x$)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function pg(t){return di(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Re(t,e,n){return"<"+t+(n!=null?pg(n):"")+(e!=null?(e.match(x$)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Zk(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function Qde(t,e){switch(typeof t){case"string":var n=Re("vt:lpwstr",an(t));return e&&(n=n.replace(/&quot;/g,"_x0022_")),n;case"number":return Re((t|0)==t?"vt:i4":"vt:r8",an(String(t)));case"boolean":return Re("vt:bool",t?"true":"false")}if(t instanceof Date)return Re("vt:filetime",Zk(t));throw new Error("Unable to serialize "+t)}var Xr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},gp=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Os={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Zde(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function Jde(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=r?-e:e;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var a=0;a<=5;++a,s/=256)t[n+a]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var Rj=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},Pj=Qt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Pc(e)})):Rj(t)}:Rj,Mj=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(ig(t,i)));return r.join("").replace(lp,"")},h1=Qt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(lp,""):Mj(t,e,n)}:Mj,Nj=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},w$=Qt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):Nj(t,e,n)}:Nj,Oj=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(ap(t,i)));return r.join("")},vp=Qt?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):Oj(e,n,r)}:Oj,E$=function(t,e){var n=Kr(t,e);return n>0?vp(t,e+4,e+4+n-1):""},aR=E$,b$=function(t,e){var n=Kr(t,e);return n>0?vp(t,e+4,e+4+n-1):""},cR=b$,C$=function(t,e){var n=2*Kr(t,e);return n>0?vp(t,e+4,e+4+n-1):""},lR=C$,S$=function(e,n){var r=Kr(e,n);return r>0?h1(e,n+4,n+4+r):""},uR=S$,T$=function(t,e){var n=Kr(t,e);return n>0?vp(t,e+4,e+4+n):""},dR=T$,I$=function(t,e){return Zde(t,e)},JE=I$,fR=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Qt&&(aR=function(e,n){if(!Buffer.isBuffer(e))return E$(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},cR=function(e,n){if(!Buffer.isBuffer(e))return b$(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},lR=function(e,n){if(!Buffer.isBuffer(e))return C$(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},uR=function(e,n){if(!Buffer.isBuffer(e))return S$(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},dR=function(e,n){if(!Buffer.isBuffer(e))return T$(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},JE=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):I$(e,n)},fR=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});function efe(){h1=function(t,e,n){return xn.utils.decode(1200,t.slice(e,n)).replace(lp,"")},vp=function(t,e,n){return xn.utils.decode(65001,t.slice(e,n))},aR=function(t,e){var n=Kr(t,e);return n>0?xn.utils.decode(pp,t.slice(e+4,e+4+n-1)):""},cR=function(t,e){var n=Kr(t,e);return n>0?xn.utils.decode(Dd,t.slice(e+4,e+4+n-1)):""},lR=function(t,e){var n=2*Kr(t,e);return n>0?xn.utils.decode(1200,t.slice(e+4,e+4+n-1)):""},uR=function(t,e){var n=Kr(t,e);return n>0?xn.utils.decode(1200,t.slice(e+4,e+4+n)):""},dR=function(t,e){var n=Kr(t,e);return n>0?xn.utils.decode(65001,t.slice(e+4,e+4+n)):""}}typeof xn<"u"&&efe();var ap=function(t,e){return t[e]},ig=function(t,e){return t[e+1]*256+t[e]},tfe=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Kr=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Ad=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},nfe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function og(t,e){var n="",r,i,s=[],o,a,c,l;switch(e){case"dbcs":if(l=this.l,Qt&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)n+=String.fromCharCode(ig(this,l)),l+=2;t*=2;break;case"utf8":n=vp(this,this.l,this.l+t);break;case"utf16le":t*=2,n=h1(this,this.l,this.l+t);break;case"wstr":if(typeof xn<"u")n=xn.utils.decode(Dd,this.slice(this.l,this.l+2*t));else return og.call(this,t,"dbcs");t=2*t;break;case"lpstr-ansi":n=aR(this,this.l),t=4+Kr(this,this.l);break;case"lpstr-cp":n=cR(this,this.l),t=4+Kr(this,this.l);break;case"lpwstr":n=lR(this,this.l),t=4+2*Kr(this,this.l);break;case"lpp4":t=4+Kr(this,this.l),n=uR(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Kr(this,this.l),n=dR(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(o=ap(this,this.l+t++))!==0;)s.push(UE(o));n=s.join("");break;case"_wstr":for(t=0,n="";(o=ig(this,this.l+t))!==0;)s.push(UE(o)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",l=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(l)!==-1)return o=ap(this,l),this.l=l+1,a=og.call(this,t-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(UE(ig(this,l))),l+=2}n=s.join(""),t*=2;break;case"cpstr":if(typeof xn<"u"){n=xn.utils.decode(Dd,this.slice(this.l,this.l+t));break}case"sbcs-cont":for(n="",l=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(l)!==-1)return o=ap(this,l),this.l=l+1,a=og.call(this,t-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(UE(ap(this,l))),l+=1}n=s.join("");break;default:switch(t){case 1:return r=ap(this,this.l),this.l++,r;case 2:return r=(e==="i"?tfe:ig)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(r=(t>0?Ad:nfe)(this,this.l),this.l+=4,r):(i=Kr(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=JE(this,this.l):i=JE([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=w$(this,this.l,t);break}}return this.l+=t,n}var rfe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},ife=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},sfe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function ofe(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)sfe(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){if(typeof xn<"u"&&pp==874)for(i=0;i!=e.length;++i){var s=xn.utils.encode(pp,e.charAt(i));this[this.l+i]=s[0]}else for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var o=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,rfe(this,e,this.l);break;case 8:if(r=8,n==="f"){Jde(this,e,this.l);break}case 16:break;case-4:r=4,ife(this,e,this.l);break}return this.l+=r,this}function A$(t,e){var n=w$(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Ns(t,e){t.l=e,t.read_shift=og,t.chk=A$,t.write_shift=ofe}function Aa(t,e){t.l+=e}function de(t){var e=Rd(t);return Ns(e,0),e}function ss(){var t=[],e=Qt?256:2048,n=function(l){var u=de(l);return Ns(u,0),u},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(l){return r&&l<r.length-r.l?r:(i(),r=n(Math.max(l+1,e)))},o=function(){return i(),ci(t)},a=function(l){i(),r=l,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:a,end:o,_bufs:t}}function _e(t,e,n,r){var i=+e,s;if(!isNaN(i)){r||(r=Jge[i].p||(n||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var o=t.next(s);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var a=0;a!=4;++a)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&fR(n)&&t.push(n)}}function ag(t,e,n){var r=as(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function Fj(t,e,n){var r=as(t);return r.s=ag(r.s,e.s,n),r.e=ag(r.e,e.s,n),r}function cg(t,e){if(t.cRel&&t.c<0)for(t=as(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=as(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=cn(t);return!t.cRel&&t.cRel!=null&&(n=lfe(n)),!t.rRel&&t.rRel!=null&&(n=afe(n)),n}function qk(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Ti(t.s.c)+":"+(t.e.cRel?"":"$")+Ti(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ui(t.s.r)+":"+(t.e.rRel?"":"$")+ui(t.e.r):cg(t.s,e.biff)+":"+cg(t.e,e.biff)}function hR(t){return parseInt(cfe(t),10)-1}function ui(t){return""+(t+1)}function afe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function cfe(t){return t.replace(/\$(\d+)$/,"$1")}function pR(t){for(var e=ufe(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Ti(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function lfe(t){return t.replace(/^([A-Z])/,"$$$1")}function ufe(t){return t.replace(/^\$([A-Z])/,"$1")}function dfe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Yr(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function cn(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function Fs(t){var e=t.indexOf(":");return e==-1?{s:Yr(t),e:Yr(t)}:{s:Yr(t.slice(0,e)),e:Yr(t.slice(e+1))}}function Er(t,e){return typeof e>"u"||typeof e=="number"?Er(t.s,t.e):(typeof t!="string"&&(t=cn(t)),typeof e!="string"&&(e=cn(e)),t==e?t:t+":"+e)}function kn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function Lj(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=ql(t.z,n?os(e):e)}catch{}try{return t.w=ql((t.XF||{}).numFmtId||(n?14:0),n?os(e):e)}catch{return""+e}}function Rc(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?_g[t.v]||t.v:e==null?Lj(t,t.v):Lj(t,e))}function Nd(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function D$(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense;Ia!=null&&i==null&&(i=Ia);var s=t||(i?[]:{}),o=0,a=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var c=typeof r.origin=="string"?Yr(r.origin):r.origin;o=c.r,a=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var l={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=kn(s["!ref"]);l.s.c=u.s.c,l.s.r=u.s.r,l.e.c=Math.max(l.e.c,u.e.c),l.e.r=Math.max(l.e.r,u.e.r),o==-1&&(l.e.r=o=u.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=e[f].length;++h)if(!(typeof e[f][h]>"u")){var m={v:e[f][h]},y=o+f,_=a+h;if(l.s.r>y&&(l.s.r=y),l.s.c>_&&(l.s.c=_),l.e.r<y&&(l.e.r=y),l.e.c<_&&(l.e.c=_),e[f][h]&&typeof e[f][h]=="object"&&!Array.isArray(e[f][h])&&!(e[f][h]instanceof Date))m=e[f][h];else if(Array.isArray(m.v)&&(m.f=e[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(r.nullError)m.t="e",m.v=0;else if(r.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=r.dateNF||Qn[14],r.cellDates?(m.t="d",m.w=ql(m.z,os(m.v))):(m.t="n",m.v=os(m.v),m.w=ql(m.z,m.v))):m.t="s";if(i)s[y]||(s[y]=[]),s[y][_]&&s[y][_].z&&(m.z=s[y][_].z),s[y][_]=m;else{var x=cn({c:_,r:y});s[x]&&s[x].z&&(m.z=s[x].z),s[x]=m}}}return l.s.c<1e7&&(s["!ref"]=Er(l)),s}function yp(t,e){return D$(null,t,e)}function ffe(t){return t.read_shift(4,"i")}function Bo(t,e){return e||(e=de(4)),e.write_shift(4,t),e}function Ii(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Qr(t,e){var n=!1;return e==null&&(n=!0,e=de(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function hfe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function pfe(t,e){return e||(e=de(4)),e.write_shift(2,t.ich||0),e.write_shift(2,t.ifnt||0),e}function mR(t,e){var n=t.l,r=t.read_shift(1),i=Ii(t),s=[],o={t:i,h:i};if(r&1){for(var a=t.read_shift(4),c=0;c!=a;++c)s.push(hfe(t));o.r=s}else o.r=[{ich:0,ifnt:0}];return t.l=n+e,o}function mfe(t,e){var n=!1;return e==null&&(n=!0,e=de(15+4*t.t.length)),e.write_shift(1,0),Qr(t.t,e),n?e.slice(0,e.l):e}var gfe=mR;function vfe(t,e){var n=!1;return e==null&&(n=!0,e=de(23+4*t.t.length)),e.write_shift(1,1),Qr(t.t,e),e.write_shift(4,1),pfe({ich:0,ifnt:0},e),n?e.slice(0,e.l):e}function oo(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Od(t,e){return e==null&&(e=de(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Fd(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Ld(t,e){return e==null&&(e=de(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var yfe=Ii,k$=Qr;function gR(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function e1(t,e){var n=!1;return e==null&&(n=!0,e=de(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var _fe=Ii,Jk=gR,vR=e1;function R$(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?JE([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Ad(e,0)>>2;return n?i/100:i}function P$(t,e){e==null&&(e=de(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-(1<<29)&&t<1<<29?r=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function M$(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function xfe(t,e){return e||(e=de(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Bd=M$,_p=xfe;function xp(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Pd(t,e){return(e||de(8)).write_shift(8,t,"f")}function wfe(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),o=t.read_shift(1),a=t.read_shift(1),c=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var l=kfe[i];l&&(e.rgb=Kj(l));break;case 2:e.rgb=Kj([o,a,c]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function t1(t,e){if(e||(e=de(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function Efe(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function bfe(t,e){e||(e=de(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}var N$=2,Ms=3,qE=11;var n1=19;var GE=64,Cfe=65,Sfe=71;var Tfe=4108,Ife=4126,ai=80;var Bj={1:{n:"CodePage",t:N$},2:{n:"Category",t:ai},3:{n:"PresentationFormat",t:ai},4:{n:"ByteCount",t:Ms},5:{n:"LineCount",t:Ms},6:{n:"ParagraphCount",t:Ms},7:{n:"SlideCount",t:Ms},8:{n:"NoteCount",t:Ms},9:{n:"HiddenCount",t:Ms},10:{n:"MultimediaClipCount",t:Ms},11:{n:"ScaleCrop",t:qE},12:{n:"HeadingPairs",t:Tfe},13:{n:"TitlesOfParts",t:Ife},14:{n:"Manager",t:ai},15:{n:"Company",t:ai},16:{n:"LinksUpToDate",t:qE},17:{n:"CharacterCount",t:Ms},19:{n:"SharedDoc",t:qE},22:{n:"HyperlinksChanged",t:qE},23:{n:"AppVersion",t:Ms,p:"version"},24:{n:"DigSig",t:Cfe},26:{n:"ContentType",t:ai},27:{n:"ContentStatus",t:ai},28:{n:"Language",t:ai},29:{n:"Version",t:ai},255:{},2147483648:{n:"Locale",t:n1},2147483651:{n:"Behavior",t:n1},1919054434:{}},Vj={1:{n:"CodePage",t:N$},2:{n:"Title",t:ai},3:{n:"Subject",t:ai},4:{n:"Author",t:ai},5:{n:"Keywords",t:ai},6:{n:"Comments",t:ai},7:{n:"Template",t:ai},8:{n:"LastAuthor",t:ai},9:{n:"RevNumber",t:ai},10:{n:"EditTime",t:GE},11:{n:"LastPrinted",t:GE},12:{n:"CreatedDate",t:GE},13:{n:"ModifiedDate",t:GE},14:{n:"PageCount",t:Ms},15:{n:"WordCount",t:Ms},16:{n:"CharCount",t:Ms},17:{n:"Thumbnail",t:Sfe},18:{n:"Application",t:ai},19:{n:"DocSecurity",t:Ms},255:{},2147483648:{n:"Locale",t:n1},2147483651:{n:"Behavior",t:n1},1919054434:{}};function Afe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Dfe=Afe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),kfe=as(Dfe),_g={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"};var Rfe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},WE={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function O$(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function F$(t,e){var n=Ude(Rfe),r=[],i;r[r.length]=br,r[r.length]=Re("Types",null,{xmlns:Xr.CT,"xmlns:xsd":Xr.xsd,"xmlns:xsi":Xr.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Re("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){t[c]&&t[c].length>0&&(i=t[c][0],r[r.length]=Re("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:WE[c][e.bookType]||WE[c].xlsx}))},o=function(c){(t[c]||[]).forEach(function(l){r[r.length]=Re("Override",null,{PartName:(l[0]=="/"?"":"/")+l,ContentType:WE[c][e.bookType]||WE[c].xlsx})})},a=function(c){(t[c]||[]).forEach(function(l){r[r.length]=Re("Override",null,{PartName:(l[0]=="/"?"":"/")+l,ContentType:n[c][0]})})};return s("workbooks"),o("sheets"),o("charts"),a("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),o("metadata"),a("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Gt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function L$(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function dp(t){var e=[br,Re("Relationships",null,{xmlns:Xr.RELS})];return di(t["!id"]).forEach(function(n){e[e.length]=Re("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function on(t,e,n,r,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,s?i.TargetMode=s:[Gt.HLINK,Gt.XPATH,Gt.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function Pfe(t){var e=[br];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function Uj(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function Mfe(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Nfe(t){var e=[br];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(Uj(t[n][0],t[n][1])),e.push(Mfe("",t[n][0]));return e.push(Uj("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function B$(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+ug.version+"</meta:generator></office:meta></office:document-meta>"}var kd=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Gk(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=an(e),r[r.length]=n?Re(t,e,n):li(t,e))}function V$(t,e){var n=e||{},r=[br,Re("cp:coreProperties",null,{"xmlns:cp":Xr.CORE_PROPS,"xmlns:dc":Xr.dc,"xmlns:dcterms":Xr.dcterms,"xmlns:dcmitype":Xr.dcmitype,"xmlns:xsi":Xr.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&Gk("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Zk(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&Gk("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Zk(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=kd.length;++s){var o=kd[s],a=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:t?t[o[1]]:null;a===!0?a="1":a===!1?a="0":typeof a=="number"&&(a=String(a)),a!=null&&Gk(o[0],a,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var fp=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],U$=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function j$(t){var e=[],n=Re;return t||(t={}),t.Application="SheetJS",e[e.length]=br,e[e.length]=Re("Properties",null,{xmlns:Xr.EXT_PROPS,"xmlns:vt":Xr.vt}),fp.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=an(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+an(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function $$(t){var e=[br,Re("Properties",null,{xmlns:Xr.CUST_PROPS,"xmlns:vt":Xr.vt})];if(!t)return e.join("");var n=1;return di(t).forEach(function(i){++n,e[e.length]=Re("property",Qde(t[i],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:an(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var jj={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Ofe(t,e){var n=[];return di(jj).map(function(r){for(var i=0;i<kd.length;++i)if(kd[i][1]==r)return kd[i];for(i=0;i<fp.length;++i)if(fp[i][1]==r)return fp[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(li(jj[r[1]]||r[1],i))}}),Re("DocumentProperties",n.join(""),{xmlns:Os.o})}function Ffe(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&di(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var o=0;o<kd.length;++o)if(s==kd[o][1])return;for(o=0;o<fp.length;++o)if(s==fp[o][1])return;for(o=0;o<n.length;++o)if(s==n[o])return;var a=t[s],c="string";typeof a=="number"?(c="float",a=String(a)):a===!0||a===!1?(c="boolean",a=a?"1":"0"):a=String(a),i.push(Re(Aj(s),a,{"dt:dt":c}))}}),e&&di(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var o=e[s],a="string";typeof o=="number"?(a="float",o=String(o)):o===!0||o===!1?(a="boolean",o=o?"1":"0"):o instanceof Date?(a="dateTime.tz",o=o.toISOString()):o=String(o),i.push(Re(Aj(s),o,{"dt:dt":a}))}}),"<"+r+' xmlns="'+Os.o+'">'+i.join("")+"</"+r+">"}function Lfe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var o=de(8);return o.write_shift(4,r),o.write_shift(4,i),o}function $j(t,e){var n=de(4),r=de(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=de(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=Lfe(e);break;case 31:case 80:for(r=de(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return ci([n,r])}var H$=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Bfe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function Hj(t,e,n){var r=de(8),i=[],s=[],o=8,a=0,c=de(8),l=de(8);if(c.write_shift(4,2),c.write_shift(4,1200),l.write_shift(4,1),s.push(c),i.push(l),o+=8+c.length,!e){l=de(8),l.write_shift(4,0),i.unshift(l);var u=[de(4)];for(u[0].write_shift(4,t.length),a=0;a<t.length;++a){var f=t[a][0];for(c=de(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,a+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=ci(u),s.unshift(c),o+=8+c.length}for(a=0;a<t.length;++a)if(!(e&&!e[t[a][0]])&&!(H$.indexOf(t[a][0])>-1||U$.indexOf(t[a][0])>-1)&&t[a][1]!=null){var h=t[a][1],m=0;if(e){m=+e[t[a][0]];var y=n[m];if(y.p=="version"&&typeof h=="string"){var _=h.split(".");h=(+_[0]<<16)+(+_[1]||0)}c=$j(y.t,h)}else{var x=Bfe(h);x==-1&&(x=31,h=String(h)),c=$j(x,h)}s.push(c),l=de(8),l.write_shift(4,e?m:2+a),i.push(l),o+=8+c.length}var M=8*(s.length+1);for(a=0;a<s.length;++a)i[a].write_shift(4,M),M+=s[a].length;return r.write_shift(4,o),r.write_shift(4,s.length),ci([r].concat(i).concat(s))}function zj(t,e,n,r,i,s){var o=de(i?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,fn.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,i?68:48);var c=Hj(t,n,r);if(a.push(c),i){var l=Hj(i,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+c.length),a.push(l)}return ci(a)}function Vfe(t,e){e||(e=de(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function Ufe(t,e){return t.read_shift(e)===1}function $i(t,e){return e||(e=de(2)),e.write_shift(2,+!!t),e}function z$(t){return t.read_shift(2,"u")}function so(t,e){return e||(e=de(2)),e.write_shift(2,t),e}function q$(t,e,n){return n||(n=de(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function G$(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont",s=Dd;if(n&&n.biff>=8&&(Dd=1200),!n||n.biff==8){var o=t.read_shift(1);o&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var a=r?t.read_shift(r,i):"";return Dd=s,a}function jfe(t){var e=t.t||"",n=1,r=de(3+(n>1?2:0));r.write_shift(2,e.length),r.write_shift(1,(n>1?8:0)|1),n>1&&r.write_shift(2,n);var i=de(2*e.length);i.write_shift(2*e.length,e,"utf16le");var s=[r,i];return ci(s)}function $fe(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function Hfe(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):$fe(t,r,n)}function zfe(t,e,n){if(n.biff>5)return Hfe(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function W$(t,e,n){return n||(n=de(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function qj(t,e){e||(e=de(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function qfe(t){var e=de(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)e.write_shift(4,o[n]);if(s==28)r=r.slice(1),qj(r,e);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)e.write_shift(1,parseInt(o[n],16));var a=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(a.length+1)),n=0;n<a.length;++n)e.write_shift(2,a.charCodeAt(n));e.write_shift(2,0),s&8&&qj(i>-1?r.slice(i+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)e.write_shift(1,parseInt(o[n],16));for(var c=0;r.slice(c*3,c*3+3)=="../"||r.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,r.length-3*c+1),n=0;n<r.length-3*c;++n)e.write_shift(1,r.charCodeAt(n+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function Md(t,e,n,r){return r||(r=de(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function Gfe(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),o=t.read_shift(r,"i");return[i,s,o]}function Wfe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function K$(t,e){return e||(e=de(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function yR(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=de(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Kfe(t,e){var n=!e||e.biff==8,r=de(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function Xfe(t,e){var n=!e||e.biff>=8?2:1,r=de(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function Yfe(t,e){var n=de(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=jfe(t[i],e);var s=ci([n].concat(r));return s.parts=[n.length].concat(r.map(function(o){return o.length})),s}function Qfe(){var t=de(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function Zfe(t){var e=de(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function Jfe(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,s=de(i);return s.write_shift(2,(t.sz||12)*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}function ehe(t,e,n,r){var i=de(10);return Md(t,e,r,i),i.write_shift(4,n),i}function the(t,e,n,r,i){var s=!i||i.biff==8,o=de(8+ +s+(1+s)*n.length);return Md(t,e,r,o),o.write_shift(2,n.length),s&&o.write_shift(1,1),o.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),o}function nhe(t,e,n,r){var i=n&&n.biff==5;r||(r=de(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}function rhe(t,e){var n=e.biff==8||!e.biff?4:2,r=de(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function Gj(t,e,n,r){var i=n&&n.biff==5;r||(r=de(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function ihe(t){var e=de(8);return e.write_shift(4,0),e.write_shift(2,t[0]?t[0]+1:0),e.write_shift(2,t[1]?t[1]+1:0),e}function she(t,e,n,r,i,s){var o=de(8);return Md(t,e,r,o),q$(n,s,o),o}function ohe(t,e,n,r){var i=de(14);return Md(t,e,r,i),Pd(n,i),i}function ahe(t,e,n){if(n.biff<8)return che(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(Gfe(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function che(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=G$(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function lhe(t){var e=de(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)K$(t[n],e);return e}function uhe(t){var e=de(24),n=Yr(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return ci([e,qfe(t[1])])}function dhe(t){var e=t[1].Tooltip,n=de(10+2*(e.length+1));n.write_shift(2,2048);var r=Yr(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function fhe(t){return t||(t=de(4)),t.write_shift(2,1),t.write_shift(2,1),t}function hhe(t,e,n){if(!n.cellStyles)return Aa(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),o=t.read_shift(r),a=t.read_shift(r),c=t.read_shift(2);r==2&&(t.l+=2);var l={s:i,e:s,w:o,ixfe:a,flags:c};return(n.biff>=5||!n.biff)&&(l.level=c>>8&7),l}function phe(t,e){var n=de(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function mhe(t){for(var e=de(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}function ghe(t,e,n){var r=de(15);return wg(r,t,e),r.write_shift(8,n,"f"),r}function vhe(t,e,n){var r=de(9);return wg(r,t,e),r.write_shift(2,n),r}var yhe=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=rR({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(a,c){var l=[],u=Rd(1);switch(c.type){case"base64":u=Fo(kc(a));break;case"binary":u=Fo(a);break;case"buffer":case"array":u=a;break}Ns(u,0);var f=u.read_shift(1),h=!!(f&136),m=!1,y=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var _=0,x=521;f==2&&(_=u.read_shift(2)),u.l+=3,f!=2&&(_=u.read_shift(4)),_>1048576&&(_=1e6),f!=2&&(x=u.read_shift(2));var M=u.read_shift(2),H=c.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(H=t[u[u.l]]),u.l+=1,u.l+=2),y&&(u.l+=36);for(var K=[],Q={},ae=Math.min(u.length,f==2?521:x-10-(m?264:0)),fe=y?32:11;u.l<ae&&u[u.l]!=13;)switch(Q={},Q.name=xn.utils.decode(H,u.slice(u.l,u.l+fe)).replace(/[\u0000\r\n].*$/g,""),u.l+=fe,Q.type=String.fromCharCode(u.read_shift(1)),f!=2&&!y&&(Q.offset=u.read_shift(4)),Q.len=u.read_shift(1),f==2&&(Q.offset=u.read_shift(2)),Q.dec=u.read_shift(1),Q.name.length&&K.push(Q),f!=2&&(u.l+=y?13:14),Q.type){case"B":(!m||Q.len!=8)&&c.WTF&&console.log("Skipping "+Q.name+":"+Q.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+Q.name+":"+Q.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+Q.type)}if(u[u.l]!==13&&(u.l=x-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=x;var D=0,A=0;for(l[0]=[],A=0;A!=K.length;++A)l[0][A]=K[A].name;for(;_-- >0;){if(u[u.l]===42){u.l+=M;continue}for(++u.l,l[++D]=[],A=0,A=0;A!=K.length;++A){var T=u.slice(u.l,u.l+K[A].len);u.l+=K[A].len,Ns(T,0);var P=xn.utils.decode(H,T);switch(K[A].type){case"C":P.trim().length&&(l[D][A]=P.replace(/\s+$/,""));break;case"D":P.length===8?l[D][A]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):l[D][A]=P;break;case"F":l[D][A]=parseFloat(P.trim());break;case"+":case"I":l[D][A]=y?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":l[D][A]=!0;break;case"N":case"F":l[D][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));l[D][A]="##MEMO##"+(y?parseInt(P.trim(),10):T.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(l[D][A]=+P||0);break;case"@":l[D][A]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":l[D][A]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":l[D][A]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":l[D][A]=-T.read_shift(-8,"f");break;case"B":if(m&&K[A].len==8){l[D][A]=T.read_shift(8,"f");break}case"G":case"P":T.l+=K[A].len;break;case"0":if(K[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+K[A].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(l=l.slice(0,c.sheetRows)),c.DBF=K,l}function r(a,c){var l=c||{};l.dateNF||(l.dateNF="yyyymmdd");var u=yp(n(a,l),l);return u["!cols"]=l.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete l.DBF,u}function i(a,c){try{return Nd(r(a,c),c)}catch(l){if(c&&c.WTF)throw l}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,c){var l=c||{};if(+l.codepage>=0&&dg(+l.codepage),l.type=="string")throw new Error("Cannot write DBF to JS string");var u=ss(),f=a1(a,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),y=a["!cols"]||[],_=0,x=0,M=0,H=1;for(_=0;_<h.length;++_){if(((y[_]||{}).DBF||{}).name){h[_]=y[_].DBF.name,++M;continue}if(h[_]!=null){if(++M,typeof h[_]=="number"&&(h[_]=h[_].toString(10)),typeof h[_]!="string")throw new Error("DBF Invalid column name "+h[_]+" |"+typeof h[_]+"|");if(h.indexOf(h[_])!==_){for(x=0;x<1024;++x)if(h.indexOf(h[_]+"_"+x)==-1){h[_]+="_"+x;break}}}}var K=kn(a["!ref"]),Q=[],ae=[],fe=[];for(_=0;_<=K.e.c-K.s.c;++_){var D="",A="",T=0,P=[];for(x=0;x<m.length;++x)m[x][_]!=null&&P.push(m[x][_]);if(P.length==0||h[_]==null){Q[_]="?";continue}for(x=0;x<P.length;++x){switch(typeof P[x]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=P[x]instanceof Date?"D":"C";break;default:A="C"}T=Math.max(T,String(P[x]).length),D=D&&D!=A?"C":A}T>250&&(T=250),A=((y[_]||{}).DBF||{}).type,A=="C"&&y[_].DBF.len>T&&(T=y[_].DBF.len),D=="B"&&A=="N"&&(D="N",fe[_]=y[_].DBF.dec,T=y[_].DBF.len),ae[_]=D=="C"||A=="N"?T:s[D]||0,H+=ae[_],Q[_]=D}var L=u.next(32);for(L.write_shift(4,318902576),L.write_shift(4,m.length),L.write_shift(2,296+32*M),L.write_shift(2,H),_=0;_<4;++_)L.write_shift(4,0);for(L.write_shift(4,0|(+e[pp]||3)<<8),_=0,x=0;_<h.length;++_)if(h[_]!=null){var B=u.next(32),V=(h[_].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);B.write_shift(1,V,"sbcs"),B.write_shift(1,Q[_]=="?"?"C":Q[_],"sbcs"),B.write_shift(4,x),B.write_shift(1,ae[_]||s[Q[_]]||0),B.write_shift(1,fe[_]||0),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(1,0),B.write_shift(4,0),B.write_shift(4,0),x+=ae[_]||s[Q[_]]||0}var vt=u.next(264);for(vt.write_shift(4,13),_=0;_<65;++_)vt.write_shift(4,0);for(_=0;_<m.length;++_){var Ge=u.next(H);for(Ge.write_shift(1,0),x=0;x<h.length;++x)if(h[x]!=null)switch(Q[x]){case"L":Ge.write_shift(1,m[_][x]==null?63:m[_][x]?84:70);break;case"B":Ge.write_shift(8,m[_][x]||0,"f");break;case"N":var Rn="0";for(typeof m[_][x]=="number"&&(Rn=m[_][x].toFixed(fe[x]||0)),M=0;M<ae[x]-Rn.length;++M)Ge.write_shift(1,32);Ge.write_shift(1,Rn,"sbcs");break;case"D":m[_][x]?(Ge.write_shift(4,("0000"+m[_][x].getFullYear()).slice(-4),"sbcs"),Ge.write_shift(2,("00"+(m[_][x].getMonth()+1)).slice(-2),"sbcs"),Ge.write_shift(2,("00"+m[_][x].getDate()).slice(-2),"sbcs")):Ge.write_shift(8,"00000000","sbcs");break;case"C":var hn=String(m[_][x]!=null?m[_][x]:"").slice(0,ae[x]);for(Ge.write_shift(1,hn,"sbcs"),M=0;M<ae[x]-hn.length;++M)Ge.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}}(),_he=function(){var t={AA:"\xC0",BA:"\xC1",CA:"\xC2",DA:195,HA:"\xC4",JA:197,AE:"\xC8",BE:"\xC9",CE:"\xCA",HE:"\xCB",AI:"\xCC",BI:"\xCD",CI:"\xCE",HI:"\xCF",AO:"\xD2",BO:"\xD3",CO:"\xD4",DO:213,HO:"\xD6",AU:"\xD9",BU:"\xDA",CU:"\xDB",HU:"\xDC",Aa:"\xE0",Ba:"\xE1",Ca:"\xE2",Da:227,Ha:"\xE4",Ja:229,Ae:"\xE8",Be:"\xE9",Ce:"\xEA",He:"\xEB",Ai:"\xEC",Bi:"\xED",Ci:"\xEE",Hi:"\xEF",Ao:"\xF2",Bo:"\xF3",Co:"\xF4",Do:245,Ho:"\xF6",Au:"\xF9",Bu:"\xFA",Cu:"\xFB",Hu:"\xFC",KC:"\xC7",Kc:"\xE7",q:"\xE6",z:"\u0153",a:"\xC6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+di(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(h,m){var y=t[m];return typeof y=="number"?gj(y):y},r=function(h,m,y){var _=m.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return _==59?h:gj(_)};t["|"]=254;function i(h,m){switch(m.type){case"base64":return s(kc(h),m);case"binary":return s(h,m);case"buffer":return s(Qt&&Buffer.isBuffer(h)?h.toString("binary"):vg(h),m);case"array":return s(f1(h),m)}throw new Error("Unrecognized type "+m.type)}function s(h,m){var y=h.split(/[\n\r]+/),_=-1,x=-1,M=0,H=0,K=[],Q=[],ae=null,fe={},D=[],A=[],T=[],P=0,L;for(+m.codepage>=0&&dg(+m.codepage);M!==y.length;++M){P=0;var B=y[M].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),V=B.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),vt=V[0],Ge;if(B.length>0)switch(vt){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":V[1].charAt(0)=="P"&&Q.push(B.slice(3).replace(/;;/g,";"));break;case"C":var Rn=!1,hn=!1,Pn=!1,Mn=!1,Wt=-1,Bn=-1;for(H=1;H<V.length;++H)switch(V[H].charAt(0)){case"A":break;case"X":x=parseInt(V[H].slice(1))-1,hn=!0;break;case"Y":for(_=parseInt(V[H].slice(1))-1,hn||(x=0),L=K.length;L<=_;++L)K[L]=[];break;case"K":Ge=V[H].slice(1),Ge.charAt(0)==='"'?Ge=Ge.slice(1,Ge.length-1):Ge==="TRUE"?Ge=!0:Ge==="FALSE"?Ge=!1:isNaN(Ac(Ge))?isNaN(hg(Ge).getDate())||(Ge=Hi(Ge)):(Ge=Ac(Ge),ae!==null&&h$(ae)&&(Ge=v$(Ge))),typeof xn<"u"&&typeof Ge=="string"&&(m||{}).type!="string"&&(m||{}).codepage&&(Ge=xn.utils.decode(m.codepage,Ge)),Rn=!0;break;case"E":Mn=!0;var X=vpe(V[H].slice(1),{r:_,c:x});K[_][x]=[K[_][x],X];break;case"S":Pn=!0,K[_][x]=[K[_][x],"S5S"];break;case"G":break;case"R":Wt=parseInt(V[H].slice(1))-1;break;case"C":Bn=parseInt(V[H].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+B)}if(Rn&&(K[_][x]&&K[_][x].length==2?K[_][x][0]=Ge:K[_][x]=Ge,ae=null),Pn){if(Mn)throw new Error("SYLK shared formula cannot have own formula");var le=Wt>-1&&K[Wt][Bn];if(!le||!le[1])throw new Error("SYLK shared formula cannot find base");K[_][x][1]=ype(le[1],{r:_-Wt,c:x-Bn})}break;case"F":var Z=0;for(H=1;H<V.length;++H)switch(V[H].charAt(0)){case"X":x=parseInt(V[H].slice(1))-1,++Z;break;case"Y":for(_=parseInt(V[H].slice(1))-1,L=K.length;L<=_;++L)K[L]=[];break;case"M":P=parseInt(V[H].slice(1))/20;break;case"F":break;case"G":break;case"P":ae=Q[parseInt(V[H].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=V[H].slice(1).split(" "),L=parseInt(T[0],10);L<=parseInt(T[1],10);++L)P=parseInt(T[2],10),A[L-1]=P===0?{hidden:!0}:{wch:P},_R(A[L-1]);break;case"C":x=parseInt(V[H].slice(1))-1,A[x]||(A[x]={});break;case"R":_=parseInt(V[H].slice(1))-1,D[_]||(D[_]={}),P>0?(D[_].hpt=P,D[_].hpx=J$(P)):P===0&&(D[_].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+B)}Z<1&&(ae=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+B)}}return D.length>0&&(fe["!rows"]=D),A.length>0&&(fe["!cols"]=A),m&&m.sheetRows&&(K=K.slice(0,m.sheetRows)),[K,fe]}function o(h,m){var y=i(h,m),_=y[0],x=y[1],M=yp(_,m);return di(x).forEach(function(H){M[H]=x[H]}),M}function a(h,m){return Nd(o(h,m),m)}function c(h,m,y,_){var x="C;Y"+(y+1)+";X"+(_+1)+";K";switch(h.t){case"n":x+=h.v||0,h.f&&!h.F&&(x+=";E"+wR(h.f,{r:y,c:_}));break;case"b":x+=h.v?"TRUE":"FALSE";break;case"e":x+=h.w||h.v;break;case"d":x+='"'+(h.w||h.v)+'"';break;case"s":x+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function l(h,m){m.forEach(function(y,_){var x="F;W"+(_+1)+" "+(_+1)+" ";y.hidden?x+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=r1(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=i1(y.wpx)),typeof y.wch=="number"&&(x+=Math.round(y.wch))),x.charAt(x.length-1)!=" "&&h.push(x)})}function u(h,m){m.forEach(function(y,_){var x="F;";y.hidden?x+="M0;":y.hpt?x+="M"+20*y.hpt+";":y.hpx&&(x+="M"+20*s1(y.hpx)+";"),x.length>2&&h.push(x+"R"+(_+1))})}function f(h,m){var y=["ID;PWXL;N;E"],_=[],x=kn(h["!ref"]),M,H=Array.isArray(h),K=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),h["!cols"]&&l(y,h["!cols"]),h["!rows"]&&u(y,h["!rows"]),y.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var Q=x.s.r;Q<=x.e.r;++Q)for(var ae=x.s.c;ae<=x.e.c;++ae){var fe=cn({r:Q,c:ae});M=H?(h[Q]||[])[ae]:h[fe],!(!M||M.v==null&&(!M.f||M.F))&&_.push(c(M,h,Q,ae,m))}return y.join(K)+K+_.join(K)+K+"E"+K}return{to_workbook:a,to_sheet:o,from_sheet:f}}(),xhe=function(){function t(s,o){switch(o.type){case"base64":return e(kc(s),o);case"binary":return e(s,o);case"buffer":return e(Qt&&Buffer.isBuffer(s)?s.toString("binary"):vg(s),o);case"array":return e(f1(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var a=s.split(`
`),c=-1,l=-1,u=0,f=[];u!==a.length;++u){if(a[u].trim()==="BOT"){f[++c]=[],l=0;continue}if(!(c<0)){var h=a[u].trim().split(","),m=h[0],y=h[1];++u;for(var _=a[u]||"";(_.match(/["]/g)||[]).length&1&&u<a.length-1;)_+=`
`+a[++u];switch(_=_.trim(),+m){case-1:if(_==="BOT"){f[++c]=[],l=0;continue}else if(_!=="EOD")throw new Error("Unrecognized DIF special command "+_);break;case 0:_==="TRUE"?f[c][l]=!0:_==="FALSE"?f[c][l]=!1:isNaN(Ac(y))?isNaN(hg(y).getDate())?f[c][l]=y:f[c][l]=Hi(y):f[c][l]=Ac(y),++l;break;case 1:_=_.slice(1,_.length-1),_=_.replace(/""/g,'"'),ng&&_&&_.match(/^=".*"$/)&&(_=_.slice(2,-1)),f[c][l++]=_!==""?_:null;break}if(_==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function n(s,o){return yp(t(s,o),o)}function r(s,o){return Nd(n(s,o),o)}var i=function(){var s=function(c,l,u,f,h){c.push(l),c.push(u+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,l,u,f){c.push(l+","+u),c.push(l==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var l=[],u=kn(c["!ref"]),f,h=Array.isArray(c);s(l,"TABLE",0,1,"sheetjs"),s(l,"VECTORS",0,u.e.r-u.s.r+1,""),s(l,"TUPLES",0,u.e.c-u.s.c+1,""),s(l,"DATA",0,0,"");for(var m=u.s.r;m<=u.e.r;++m){o(l,-1,0,"BOT");for(var y=u.s.c;y<=u.e.c;++y){var _=cn({r:m,c:y});if(f=h?(c[m]||[])[y]:c[_],!f){o(l,1,0,"");continue}switch(f.t){case"n":var x=ng?f.w:f.v;!x&&f.v!=null&&(x=f.v),x==null?ng&&f.f&&!f.F?o(l,1,0,"="+f.f):o(l,1,0,""):o(l,0,x,"V");break;case"b":o(l,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(l,1,0,!ng||isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=ql(f.z||Qn[14],os(Hi(f.v)))),ng?o(l,0,f.w,"V"):o(l,1,0,f.w);break;default:o(l,1,0,"")}}}o(l,-1,0,"EOD");var M=`\r
`,H=l.join(M);return H}}();return{to_workbook:r,to_sheet:n,from_sheet:i}}(),X$=function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,h){for(var m=f.split(`
`),y=-1,_=-1,x=0,M=[];x!==m.length;++x){var H=m[x].trim().split(":");if(H[0]==="cell"){var K=Yr(H[1]);if(M.length<=K.r)for(y=M.length;y<=K.r;++y)M[y]||(M[y]=[]);switch(y=K.r,_=K.c,H[2]){case"t":M[y][_]=t(H[3]);break;case"v":M[y][_]=+H[3];break;case"vtf":var Q=H[H.length-1];case"vtc":switch(H[3]){case"nl":M[y][_]=!!+H[4];break;default:M[y][_]=+H[4];break}H[2]=="vtf"&&(M[y][_]=[M[y][_],Q])}}}return h&&h.sheetRows&&(M=M.slice(0,h.sheetRows)),M}function r(f,h){return yp(n(f,h),h)}function i(f,h){return Nd(r(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function l(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],y,_="",x=Fs(f["!ref"]),M=Array.isArray(f),H=x.s.r;H<=x.e.r;++H)for(var K=x.s.c;K<=x.e.c;++K)if(_=cn({r:H,c:K}),y=M?(f[H]||[])[K]:f[_],!(!y||y.v==null||y.t==="z")){switch(m=["cell",_,"t"],y.t){case"s":case"str":m.push(e(y.v));break;case"n":y.f?(m[2]="vtf",m[3]="n",m[4]=y.v,m[5]=e(y.f)):(m[2]="v",m[3]=y.v);break;case"b":m[2]="vt"+(y.f?"f":"c"),m[3]="nl",m[4]=y.v?"1":"0",m[5]=e(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var Q=os(Hi(y.v));m[2]="vtc",m[3]="nd",m[4]=""+Q,m[5]=y.w||ql(y.z||Qn[14],Q);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[s,o,a,o,l(f),c].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:u}}(),whe=function(){function t(u,f,h,m,y){y.raw?f[h][m]=u:u===""||(u==="TRUE"?f[h][m]=!0:u==="FALSE"?f[h][m]=!1:isNaN(Ac(u))?isNaN(hg(u).getDate())?f[h][m]=u:f[h][m]=Hi(u):f[h][m]=Ac(u))}function e(u,f){var h=f||{},m=[];if(!u||u.length===0)return m;for(var y=u.split(/[\r\n]/),_=y.length-1;_>=0&&y[_].length===0;)--_;for(var x=10,M=0,H=0;H<=_;++H)M=y[H].indexOf(" "),M==-1?M=y[H].length:M++,x=Math.max(x,M);for(H=0;H<=_;++H){m[H]=[];var K=0;for(t(y[H].slice(0,x).trim(),m,H,K,h),K=1;K<=(y[H].length-x)/10+1;++K)t(y[H].slice(x+(K-1)*10,x+K*10).trim(),m,H,K,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(u){for(var f={},h=!1,m=0,y=0;m<u.length;++m)(y=u.charCodeAt(m))==34?h=!h:!h&&y in n&&(f[y]=(f[y]||0)+1);y=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&y.push([f[m],m]);if(!y.length){f=r;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&y.push([f[m],m])}return y.sort(function(_,x){return _[0]-x[0]||r[_[1]]-r[x[1]]}),n[y.pop()[1]]||44}function s(u,f){var h=f||{},m="";Ia!=null&&h.dense==null&&(h.dense=Ia);var y=h.dense?[]:{},_={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(m=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(m=u.charAt(4),u=u.slice(6)):m=i(u.slice(0,1024)):h&&h.FS?m=h.FS:m=i(u.slice(0,1024));var x=0,M=0,H=0,K=0,Q=0,ae=m.charCodeAt(0),fe=!1,D=0,A=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var T=h.dateNF!=null?Fde(h.dateNF):null;function P(){var L=u.slice(K,Q),B={};if(L.charAt(0)=='"'&&L.charAt(L.length-1)=='"'&&(L=L.slice(1,-1).replace(/""/g,'"')),L.length===0)B.t="z";else if(h.raw)B.t="s",B.v=L;else if(L.trim().length===0)B.t="s",B.v=L;else if(L.charCodeAt(0)==61)L.charCodeAt(1)==34&&L.charCodeAt(L.length-1)==34?(B.t="s",B.v=L.slice(2,-1).replace(/""/g,'"')):_pe(L)?(B.t="n",B.f=L.slice(1)):(B.t="s",B.v=L);else if(L=="TRUE")B.t="b",B.v=!0;else if(L=="FALSE")B.t="b",B.v=!1;else if(!isNaN(H=Ac(L)))B.t="n",h.cellText!==!1&&(B.w=L),B.v=H;else if(!isNaN(hg(L).getDate())||T&&L.match(T)){B.z=h.dateNF||Qn[14];var V=0;T&&L.match(T)&&(L=Lde(L,h.dateNF,L.match(T)||[]),V=1),h.cellDates?(B.t="d",B.v=Hi(L,V)):(B.t="n",B.v=os(Hi(L,V))),h.cellText!==!1&&(B.w=ql(B.z,B.v instanceof Date?os(B.v):B.v)),h.cellNF||delete B.z}else B.t="s",B.v=L;if(B.t=="z"||(h.dense?(y[x]||(y[x]=[]),y[x][M]=B):y[cn({c:M,r:x})]=B),K=Q+1,A=u.charCodeAt(K),_.e.c<M&&(_.e.c=M),_.e.r<x&&(_.e.r=x),D==ae)++M;else if(M=0,++x,h.sheetRows&&h.sheetRows<=x)return!0}e:for(;Q<u.length;++Q)switch(D=u.charCodeAt(Q)){case 34:A===34&&(fe=!fe);break;case ae:case 10:case 13:if(!fe&&P())break e;break;default:break}return Q-K>0&&P(),y["!ref"]=Er(_),y}function o(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,f):yp(e(u,f),f)}function a(u,f){var h="",m=f.type=="string"?[0,0,0,0]:Mve(u,f);switch(f.type){case"base64":h=kc(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof xn<"u"?h=xn.utils.decode(f.codepage,u):h=Qt&&Buffer.isBuffer(u)?u.toString("binary"):vg(u);break;case"array":h=f1(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=sg(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=sg(h):f.type=="binary"&&typeof xn<"u"&&f.codepage&&(h=xn.utils.decode(f.codepage,xn.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?X$.to_sheet(f.type=="string"?h:sg(h),f):o(h,f)}function c(u,f){return Nd(a(u,f),f)}function l(u){for(var f=[],h=kn(u["!ref"]),m,y=Array.isArray(u),_=h.s.r;_<=h.e.r;++_){for(var x=[],M=h.s.c;M<=h.e.c;++M){var H=cn({r:_,c:M});if(m=y?(u[_]||[])[M]:u[H],!m||m.v==null){x.push("          ");continue}for(var K=(m.w||(Rc(m),m.w)||"").slice(0,10);K.length<10;)K+=" ";x.push(K+(M===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:a,from_sheet:l}}();var Wj=function(){function t(X,le,Z){if(X){Ns(X,X.l||0);for(var Y=Z.Enum||Wt;X.l<X.length;){var xe=X.read_shift(2),Fe=Y[xe]||Y[65535],Qe=X.read_shift(2),He=X.l+Qe,Ae=Fe.f&&Fe.f(X,Qe,Z);if(X.l=He,le(Ae,Fe,xe))return}}}function e(X,le){switch(le.type){case"base64":return n(Fo(kc(X)),le);case"binary":return n(Fo(X),le);case"buffer":case"array":return n(X,le)}throw"Unsupported type "+le.type}function n(X,le){if(!X)return X;var Z=le||{};Ia!=null&&Z.dense==null&&(Z.dense=Ia);var Y=Z.dense?[]:{},xe="Sheet1",Fe="",Qe=0,He={},Ae=[],kt=[],pt={s:{r:0,c:0},e:{r:0,c:0}},Vn=Z.sheetRows||0;if(X[2]==0&&(X[3]==8||X[3]==9)&&X.length>=16&&X[14]==5&&X[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(X[2]==2)Z.Enum=Wt,t(X,function(Oe,Cr,Ai){switch(Ai){case 0:Z.vers=Oe,Oe>=4096&&(Z.qpro=!0);break;case 6:pt=Oe;break;case 204:Oe&&(Fe=Oe);break;case 222:Fe=Oe;break;case 15:case 51:Z.qpro||(Oe[1].v=Oe[1].v.slice(1));case 13:case 14:case 16:Ai==14&&(Oe[2]&112)==112&&(Oe[2]&15)>1&&(Oe[2]&15)<15&&(Oe[1].z=Z.dateNF||Qn[14],Z.cellDates&&(Oe[1].t="d",Oe[1].v=v$(Oe[1].v))),Z.qpro&&Oe[3]>Qe&&(Y["!ref"]=Er(pt),He[xe]=Y,Ae.push(xe),Y=Z.dense?[]:{},pt={s:{r:0,c:0},e:{r:0,c:0}},Qe=Oe[3],xe=Fe||"Sheet"+(Qe+1),Fe="");var cs=Z.dense?(Y[Oe[0].r]||[])[Oe[0].c]:Y[cn(Oe[0])];if(cs){cs.t=Oe[1].t,cs.v=Oe[1].v,Oe[1].z!=null&&(cs.z=Oe[1].z),Oe[1].f!=null&&(cs.f=Oe[1].f);break}Z.dense?(Y[Oe[0].r]||(Y[Oe[0].r]=[]),Y[Oe[0].r][Oe[0].c]=Oe[1]):Y[cn(Oe[0])]=Oe[1];break;default:}},Z);else if(X[2]==26||X[2]==14)Z.Enum=Bn,X[2]==14&&(Z.qpro=!0,X.l=0),t(X,function(Oe,Cr,Ai){switch(Ai){case 204:xe=Oe;break;case 22:Oe[1].v=Oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Oe[3]>Qe&&(Y["!ref"]=Er(pt),He[xe]=Y,Ae.push(xe),Y=Z.dense?[]:{},pt={s:{r:0,c:0},e:{r:0,c:0}},Qe=Oe[3],xe="Sheet"+(Qe+1)),Vn>0&&Oe[0].r>=Vn)break;Z.dense?(Y[Oe[0].r]||(Y[Oe[0].r]=[]),Y[Oe[0].r][Oe[0].c]=Oe[1]):Y[cn(Oe[0])]=Oe[1],pt.e.c<Oe[0].c&&(pt.e.c=Oe[0].c),pt.e.r<Oe[0].r&&(pt.e.r=Oe[0].r);break;case 27:Oe[14e3]&&(kt[Oe[14e3][0]]=Oe[14e3][1]);break;case 1537:kt[Oe[0]]=Oe[1],Oe[0]==Qe&&(xe=Oe[1]);break;default:break}},Z);else throw new Error("Unrecognized LOTUS BOF "+X[2]);if(Y["!ref"]=Er(pt),He[Fe||xe]=Y,Ae.push(Fe||xe),!kt.length)return{SheetNames:Ae,Sheets:He};for(var rt={},Tn=[],pn=0;pn<kt.length;++pn)He[Ae[pn]]?(Tn.push(kt[pn]||Ae[pn]),rt[kt[pn]]=He[kt[pn]]||He[Ae[pn]]):(Tn.push(kt[pn]),rt[kt[pn]]={"!ref":"A1"});return{SheetNames:Tn,Sheets:rt}}function r(X,le){var Z=le||{};if(+Z.codepage>=0&&dg(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=ss(),xe=kn(X["!ref"]),Fe=Array.isArray(X),Qe=[];Pe(Y,0,s(1030)),Pe(Y,6,c(xe));for(var He=Math.min(xe.e.r,8191),Ae=xe.s.r;Ae<=He;++Ae)for(var kt=ui(Ae),pt=xe.s.c;pt<=xe.e.c;++pt){Ae===xe.s.r&&(Qe[pt]=Ti(pt));var Vn=Qe[pt]+kt,rt=Fe?(X[Ae]||[])[pt]:X[Vn];if(!(!rt||rt.t=="z"))if(rt.t=="n")(rt.v|0)==rt.v&&rt.v>=-32768&&rt.v<=32767?Pe(Y,13,m(Ae,pt,rt.v)):Pe(Y,14,_(Ae,pt,rt.v));else{var Tn=Rc(rt);Pe(Y,15,f(Ae,pt,Tn.slice(0,239)))}}return Pe(Y,1),Y.end()}function i(X,le){var Z=le||{};if(+Z.codepage>=0&&dg(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=ss();Pe(Y,0,o(X));for(var xe=0,Fe=0;xe<X.SheetNames.length;++xe)(X.Sheets[X.SheetNames[xe]]||{})["!ref"]&&Pe(Y,27,Mn(X.SheetNames[xe],Fe++));var Qe=0;for(xe=0;xe<X.SheetNames.length;++xe){var He=X.Sheets[X.SheetNames[xe]];if(!(!He||!He["!ref"])){for(var Ae=kn(He["!ref"]),kt=Array.isArray(He),pt=[],Vn=Math.min(Ae.e.r,8191),rt=Ae.s.r;rt<=Vn;++rt)for(var Tn=ui(rt),pn=Ae.s.c;pn<=Ae.e.c;++pn){rt===Ae.s.r&&(pt[pn]=Ti(pn));var Oe=pt[pn]+Tn,Cr=kt?(He[rt]||[])[pn]:He[Oe];if(!(!Cr||Cr.t=="z"))if(Cr.t=="n")Pe(Y,23,P(rt,pn,Qe,Cr.v));else{var Ai=Rc(Cr);Pe(Y,22,D(rt,pn,Qe,Ai.slice(0,239)))}}++Qe}}return Pe(Y,1),Y.end()}function s(X){var le=de(2);return le.write_shift(2,X),le}function o(X){var le=de(26);le.write_shift(2,4096),le.write_shift(2,4),le.write_shift(4,0);for(var Z=0,Y=0,xe=0,Fe=0;Fe<X.SheetNames.length;++Fe){var Qe=X.SheetNames[Fe],He=X.Sheets[Qe];if(!(!He||!He["!ref"])){++xe;var Ae=Fs(He["!ref"]);Z<Ae.e.r&&(Z=Ae.e.r),Y<Ae.e.c&&(Y=Ae.e.c)}}return Z>8191&&(Z=8191),le.write_shift(2,Z),le.write_shift(1,xe),le.write_shift(1,Y),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(1,1),le.write_shift(1,2),le.write_shift(4,0),le.write_shift(4,0),le}function a(X,le,Z){var Y={s:{c:0,r:0},e:{c:0,r:0}};return le==8&&Z.qpro?(Y.s.c=X.read_shift(1),X.l++,Y.s.r=X.read_shift(2),Y.e.c=X.read_shift(1),X.l++,Y.e.r=X.read_shift(2),Y):(Y.s.c=X.read_shift(2),Y.s.r=X.read_shift(2),le==12&&Z.qpro&&(X.l+=2),Y.e.c=X.read_shift(2),Y.e.r=X.read_shift(2),le==12&&Z.qpro&&(X.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function c(X){var le=de(8);return le.write_shift(2,X.s.c),le.write_shift(2,X.s.r),le.write_shift(2,X.e.c),le.write_shift(2,X.e.r),le}function l(X,le,Z){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return Z.qpro&&Z.vers!=20768?(Y[0].c=X.read_shift(1),Y[3]=X.read_shift(1),Y[0].r=X.read_shift(2),X.l+=2):(Y[2]=X.read_shift(1),Y[0].c=X.read_shift(2),Y[0].r=X.read_shift(2)),Y}function u(X,le,Z){var Y=X.l+le,xe=l(X,le,Z);if(xe[1].t="s",Z.vers==20768){X.l++;var Fe=X.read_shift(1);return xe[1].v=X.read_shift(Fe,"utf8"),xe}return Z.qpro&&X.l++,xe[1].v=X.read_shift(Y-X.l,"cstr"),xe}function f(X,le,Z){var Y=de(7+Z.length);Y.write_shift(1,255),Y.write_shift(2,le),Y.write_shift(2,X),Y.write_shift(1,39);for(var xe=0;xe<Y.length;++xe){var Fe=Z.charCodeAt(xe);Y.write_shift(1,Fe>=128?95:Fe)}return Y.write_shift(1,0),Y}function h(X,le,Z){var Y=l(X,le,Z);return Y[1].v=X.read_shift(2,"i"),Y}function m(X,le,Z){var Y=de(7);return Y.write_shift(1,255),Y.write_shift(2,le),Y.write_shift(2,X),Y.write_shift(2,Z,"i"),Y}function y(X,le,Z){var Y=l(X,le,Z);return Y[1].v=X.read_shift(8,"f"),Y}function _(X,le,Z){var Y=de(13);return Y.write_shift(1,255),Y.write_shift(2,le),Y.write_shift(2,X),Y.write_shift(8,Z,"f"),Y}function x(X,le,Z){var Y=X.l+le,xe=l(X,le,Z);if(xe[1].v=X.read_shift(8,"f"),Z.qpro)X.l=Y;else{var Fe=X.read_shift(2);Q(X.slice(X.l,X.l+Fe),xe),X.l+=Fe}return xe}function M(X,le,Z){var Y=le&32768;return le&=-32769,le=(Y?X:0)+(le>=8192?le-16384:le),(Y?"":"$")+(Z?Ti(le):ui(le))}var H={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},K=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function Q(X,le){Ns(X,0);for(var Z=[],Y=0,xe="",Fe="",Qe="",He="";X.l<X.length;){var Ae=X[X.l++];switch(Ae){case 0:Z.push(X.read_shift(8,"f"));break;case 1:Fe=M(le[0].c,X.read_shift(2),!0),xe=M(le[0].r,X.read_shift(2),!1),Z.push(Fe+xe);break;case 2:{var kt=M(le[0].c,X.read_shift(2),!0),pt=M(le[0].r,X.read_shift(2),!1);Fe=M(le[0].c,X.read_shift(2),!0),xe=M(le[0].r,X.read_shift(2),!1),Z.push(kt+pt+":"+Fe+xe)}break;case 3:if(X.l<X.length){console.error("WK1 premature formula end");return}break;case 4:Z.push("("+Z.pop()+")");break;case 5:Z.push(X.read_shift(2));break;case 6:{for(var Vn="";Ae=X[X.l++];)Vn+=String.fromCharCode(Ae);Z.push('"'+Vn.replace(/"/g,'""')+'"')}break;case 8:Z.push("-"+Z.pop());break;case 23:Z.push("+"+Z.pop());break;case 22:Z.push("NOT("+Z.pop()+")");break;case 20:case 21:He=Z.pop(),Qe=Z.pop(),Z.push(["AND","OR"][Ae-20]+"("+Qe+","+He+")");break;default:if(Ae<32&&K[Ae])He=Z.pop(),Qe=Z.pop(),Z.push(Qe+K[Ae]+He);else if(H[Ae]){if(Y=H[Ae][1],Y==69&&(Y=X[X.l++]),Y>Z.length){console.error("WK1 bad formula parse 0x"+Ae.toString(16)+":|"+Z.join("|")+"|");return}var rt=Z.slice(-Y);Z.length-=Y,Z.push(H[Ae][0]+"("+rt.join(",")+")")}else return Ae<=7?console.error("WK1 invalid opcode "+Ae.toString(16)):Ae<=24?console.error("WK1 unsupported op "+Ae.toString(16)):Ae<=30?console.error("WK1 invalid opcode "+Ae.toString(16)):Ae<=115?console.error("WK1 unsupported function opcode "+Ae.toString(16)):console.error("WK1 unrecognized opcode "+Ae.toString(16))}}Z.length==1?le[1].f=""+Z[0]:console.error("WK1 bad formula parse |"+Z.join("|")+"|")}function ae(X){var le=[{c:0,r:0},{t:"n",v:0},0];return le[0].r=X.read_shift(2),le[3]=X[X.l++],le[0].c=X[X.l++],le}function fe(X,le){var Z=ae(X,le);return Z[1].t="s",Z[1].v=X.read_shift(le-4,"cstr"),Z}function D(X,le,Z,Y){var xe=de(6+Y.length);xe.write_shift(2,X),xe.write_shift(1,Z),xe.write_shift(1,le),xe.write_shift(1,39);for(var Fe=0;Fe<Y.length;++Fe){var Qe=Y.charCodeAt(Fe);xe.write_shift(1,Qe>=128?95:Qe)}return xe.write_shift(1,0),xe}function A(X,le){var Z=ae(X,le);Z[1].v=X.read_shift(2);var Y=Z[1].v>>1;if(Z[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return Z[1].v=Y,Z}function T(X,le){var Z=ae(X,le),Y=X.read_shift(4),xe=X.read_shift(4),Fe=X.read_shift(2);if(Fe==65535)return Y===0&&xe===3221225472?(Z[1].t="e",Z[1].v=15):Y===0&&xe===3489660928?(Z[1].t="e",Z[1].v=42):Z[1].v=0,Z;var Qe=Fe&32768;return Fe=(Fe&32767)-16446,Z[1].v=(1-Qe*2)*(xe*Math.pow(2,Fe+32)+Y*Math.pow(2,Fe)),Z}function P(X,le,Z,Y){var xe=de(14);if(xe.write_shift(2,X),xe.write_shift(1,Z),xe.write_shift(1,le),Y==0)return xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(2,65535),xe;var Fe=0,Qe=0,He=0,Ae=0;return Y<0&&(Fe=1,Y=-Y),Qe=Math.log2(Y)|0,Y/=Math.pow(2,Qe-31),Ae=Y>>>0,Ae&2147483648||(Y/=2,++Qe,Ae=Y>>>0),Y-=Ae,Ae|=2147483648,Ae>>>=0,Y*=Math.pow(2,32),He=Y>>>0,xe.write_shift(4,He),xe.write_shift(4,Ae),Qe+=16383+(Fe?32768:0),xe.write_shift(2,Qe),xe}function L(X,le){var Z=T(X,14);return X.l+=le-14,Z}function B(X,le){var Z=ae(X,le),Y=X.read_shift(4);return Z[1].v=Y>>6,Z}function V(X,le){var Z=ae(X,le),Y=X.read_shift(8,"f");return Z[1].v=Y,Z}function vt(X,le){var Z=V(X,14);return X.l+=le-10,Z}function Ge(X,le){return X[X.l+le-1]==0?X.read_shift(le,"cstr"):""}function Rn(X,le){var Z=X[X.l++];Z>le-1&&(Z=le-1);for(var Y="";Y.length<Z;)Y+=String.fromCharCode(X[X.l++]);return Y}function hn(X,le,Z){if(!(!Z.qpro||le<21)){var Y=X.read_shift(1);X.l+=17,X.l+=1,X.l+=2;var xe=X.read_shift(le-21,"cstr");return[Y,xe]}}function Pn(X,le){for(var Z={},Y=X.l+le;X.l<Y;){var xe=X.read_shift(2);if(xe==14e3){for(Z[xe]=[0,""],Z[xe][0]=X.read_shift(2);X[X.l];)Z[xe][1]+=String.fromCharCode(X[X.l]),X.l++;X.l++}}return Z}function Mn(X,le){var Z=de(5+X.length);Z.write_shift(2,14e3),Z.write_shift(2,le);for(var Y=0;Y<X.length;++Y){var xe=X.charCodeAt(Y);Z[Z.l++]=xe>127?95:xe}return Z[Z.l++]=0,Z}var Wt={0:{n:"BOF",f:z$},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ge},222:{n:"SHEETNAMELP",f:Rn},65535:{n:""}},Bn={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:fe},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:L},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Pn},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:B},38:{n:"??"},39:{n:"NUMBER27",f:V},40:{n:"FORMULA28",f:vt},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ge},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:hn},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}}();var Ehe=/^\s|\s$|[\t\n\r]/;function Y$(t,e){if(!e.bookSST)return"";var n=[br];n[n.length]=Re("sst",null,{xmlns:gp[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(Ehe)&&(s+=' xml:space="preserve"'),s+=">"+an(i.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function bhe(t){return[t.read_shift(4),t.read_shift(4)]}function Che(t,e){return e||(e=de(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var She=mfe;function The(t){var e=ss();_e(e,159,Che(t));for(var n=0;n<t.length;++n)_e(e,19,She(t[n]));return _e(e,160),e.end()}function Ihe(t){if(typeof xn<"u")return xn.utils.encode(pp,t);for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function Q$(t){var e=0,n,r=Ihe(t),i=r.length+1,s,o,a,c,l;for(n=Rd(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)o=n[s],a=e&16384?1:0,c=e<<1&32767,l=a|c,e=l^o;return e^52811}var Ahe=function(){function t(i,s){switch(s.type){case"base64":return e(kc(i),s);case"binary":return e(i,s);case"buffer":return e(Qt&&Buffer.isBuffer(i)?i.toString("binary"):vg(i),s);case"array":return e(f1(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var o=s||{},a=o.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var l={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,f){Array.isArray(a)&&(a[f]=[]);for(var h=/\\\w+\b/g,m=0,y,_=-1;y=h.exec(u);){switch(y[0]){case"\\cell":var x=u.slice(m,h.lastIndex-y[0].length);if(x[0]==" "&&(x=x.slice(1)),++_,x.length){var M={v:x,t:"s"};Array.isArray(a)?a[f][_]=M:a[cn({r:f,c:_})]=M}break}m=h.lastIndex}_>l.e.c&&(l.e.c=_)}),a["!ref"]=Er(l),a}function n(i,s){return Nd(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=kn(i["!ref"]),a,c=Array.isArray(i),l=o.s.r;l<=o.e.r;++l){s.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var f=cn({r:l,c:u});a=c?(i[l]||[])[u]:i[f],!(!a||a.v==null&&(!a.f||a.F))&&(s.push(" "+(a.w||(Rc(a),a.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}}();function Kj(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}var Dhe=6;var Dc=Dhe;function r1(t){return Math.floor((t+Math.round(128/Dc)/256)*Dc)}function i1(t){return Math.floor((t-5)/Dc*100+.5)/100}function eR(t){return Math.round((t*Dc+5)/Dc*256)/256}function _R(t){t.width?(t.wpx=r1(t.width),t.wch=i1(t.wpx),t.MDW=Dc):t.wpx?(t.wch=i1(t.wpx),t.width=eR(t.wch),t.MDW=Dc):typeof t.wch=="number"&&(t.width=eR(t.wch),t.wpx=r1(t.width),t.MDW=Dc),t.customWidth&&delete t.customWidth}var khe=96,Z$=khe;function s1(t){return t*96/Z$}function J$(t){return t*Z$/96}function Rhe(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=Re("numFmt",null,{numFmtId:r,formatCode:an(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Re("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Phe(t){var e=[];return e[e.length]=Re("cellXfs",null),t.forEach(function(n){e[e.length]=Re("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Re("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function e7(t,e){var n=[br,Re("styleSheet",null,{xmlns:gp[0],"xmlns:vt":Xr.vt})],r;return t.SSF&&(r=Rhe(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=Phe(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function Mhe(t,e){var n=t.read_shift(2),r=Ii(t,e-2);return[n,r]}function Nhe(t,e,n){n||(n=de(6+4*e.length)),n.write_shift(2,t),Qr(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function Ohe(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=Efe(t,2,n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(r.underline=o);var a=t.read_shift(1);a>0&&(r.family=a);var c=t.read_shift(1);switch(c>0&&(r.charset=c),t.l++,r.color=wfe(t,8),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Ii(t,e-21),r}function Fhe(t,e){e||(e=de(25+4*32)),e.write_shift(2,t.sz*20),bfe(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),t1(t.color,e);var r=0;return t.scheme=="major"&&(r=1),t.scheme=="minor"&&(r=2),e.write_shift(1,r),Qr(t.name,e),e.length>e.l?e.slice(0,e.l):e}var Lhe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Wk,Bhe=Aa;function Xj(t,e){e||(e=de(4*3+8*7+16*1)),Wk||(Wk=rR(Lhe));var n=Wk[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(t1({auto:1},e),t1({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Vhe(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function t7(t,e,n){n||(n=de(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function rg(t,e){return e||(e=de(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Uhe=Aa;function jhe(t,e){return e||(e=de(51)),e.write_shift(1,0),rg(null,e),rg(null,e),rg(null,e),rg(null,e),rg(null,e),e.length>e.l?e.slice(0,e.l):e}function $he(t,e){return e||(e=de(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,+t.builtinId),e.write_shift(1,0),e1(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Hhe(t,e,n){var r=de(2052);return r.write_shift(4,t),e1(e,r),e1(n,r),r.length>r.l?r.slice(0,r.l):r}function zhe(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&(_e(t,615,Bo(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&_e(t,44,Nhe(i,e[i]))}),_e(t,616))}}function qhe(t){var e=1;e!=0&&(_e(t,611,Bo(e)),_e(t,43,Fhe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),_e(t,612))}function Ghe(t){var e=2;e!=0&&(_e(t,603,Bo(e)),_e(t,45,Xj({patternType:"none"})),_e(t,45,Xj({patternType:"gray125"})),_e(t,604))}function Whe(t){var e=1;e!=0&&(_e(t,613,Bo(e)),_e(t,46,jhe({})),_e(t,614))}function Khe(t){var e=1;_e(t,626,Bo(e)),_e(t,47,t7({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),_e(t,627)}function Xhe(t,e){_e(t,617,Bo(e.length)),e.forEach(function(n){_e(t,47,t7(n,0))}),_e(t,618)}function Yhe(t){var e=1;_e(t,619,Bo(e)),_e(t,48,$he({xfId:0,builtinId:0,name:"Normal"})),_e(t,620)}function Qhe(t){var e=0;_e(t,505,Bo(e)),_e(t,506)}function Zhe(t){var e=0;_e(t,508,Hhe(e,"TableStyleMedium9","PivotStyleMedium4")),_e(t,509)}function Jhe(t,e){var n=ss();return _e(n,278),zhe(n,t.SSF),qhe(n,t),Ghe(n,t),Whe(n,t),Khe(n,t),Xhe(n,e.cellXfs),Yhe(n,t),Qhe(n,t),Zhe(n,t),_e(n,279),n.end()}function n7(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[br];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',n[n.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',n[n.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',n[n.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',n[n.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',n[n.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',n[n.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function epe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ii(t,e-8)}}function tpe(t){var e=de(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Qr(t.name,e),e.slice(0,e.l)}function npe(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function rpe(t){var e=de(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function ipe(t,e){var n=de(8+2*e.length);return n.write_shift(4,t),Qr(e,n),n.slice(0,n.l)}function spe(t){return t.l+=4,t.read_shift(4)!=0}function ope(t,e){var n=de(8);return n.write_shift(4,t),n.write_shift(4,e?1:0),n}function ape(){var t=ss();return _e(t,332),_e(t,334,Bo(1)),_e(t,335,tpe({name:"XLDAPR",version:12e4,flags:3496657072})),_e(t,336),_e(t,339,ipe(1,"XLDAPR")),_e(t,52),_e(t,35,Bo(514)),_e(t,4096,Bo(0)),_e(t,4097,so(1)),_e(t,36),_e(t,53),_e(t,340),_e(t,337,ope(1,!0)),_e(t,51,rpe([[1,0]])),_e(t,338),_e(t,333),t.end()}function r7(){var t=[br];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function cpe(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=cn(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var cp=1024;function i7(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[Re("xml",null,{"xmlns:v":Os.v,"xmlns:o":Os.o,"xmlns:x":Os.x,"xmlns:mv":Os.mv}).replace(/\/>/,">"),Re("o:shapelayout",Re("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Re("v:shapetype",[Re("v:stroke",null,{joinstyle:"miter"}),Re("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];cp<t*1e3;)cp+=1e3;return e.forEach(function(s){var o=Yr(s[0]),a={color2:"#BEFF82",type:"gradient"};a.type=="gradient"&&(a.angle="-180");var c=a.type=="gradient"?Re("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,l=Re("v:fill",c,a),u={on:"t",obscured:"t"};++cp,i=i.concat(["<v:shape"+pg({id:"_x0000_s"+cp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",l,Re("v:shadow",null,u),Re("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",li("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),li("x:AutoFill","False"),li("x:Row",String(o.r)),li("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function s7(t){var e=[br,Re("comments",null,{xmlns:gp[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var s=an(i.a);n.indexOf(s)==-1&&(n.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(c){c.a&&(i=n.indexOf(an(c.a))),s.push(c.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(li("t",an(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,a=1;a<s.length;++a)o+=`Reply:
    `+s[a]+`
`;e.push(li("t",an(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function lpe(t,e,n){var r=[br,Re("ThreadedComments",null,{xmlns:Xr.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(o,a){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};a==0?s=c.id:c.parentId=s,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),r.push(Re("threadedComment",li("text",o.t||""),c))})}),r.push("</ThreadedComments>"),r.join("")}function upe(t){var e=[br,Re("personList",null,{xmlns:Xr.TCMNT,"xmlns:x":gp[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(Re("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function dpe(t){var e={};e.iauthor=t.read_shift(4);var n=Bd(t,16);return e.rfx=n.s,e.ref=cn(n.s),t.l+=16,e}function fpe(t,e){return e==null&&(e=de(36)),e.write_shift(4,t[1].iauthor),_p(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var hpe=Ii;function ppe(t){return Qr(t.slice(0,54))}function mpe(t){var e=ss(),n=[];return _e(e,628),_e(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),_e(e,632,ppe(i.a)))})}),_e(e,631),_e(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var s={s:Yr(r[0]),e:Yr(r[0])};_e(e,635,fpe([s,i])),i.t&&i.t.length>0&&_e(e,637,vfe(i)),_e(e,636),delete i.iauthor})}),_e(e,634),_e(e,629),e.end()}function gpe(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&fn.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var o7=["xlsb","xlsm","xlam","biff8","xla"];var vpe=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,o){var a=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var l=s.length>0?parseInt(s,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return a?u+=e.c:--u,c?l+=e.r:--l,i+(a?"":"$")+Ti(u)+(c?"":"$")+ui(l)}return function(i,s){return e=s,i.replace(t,n)}}(),xR=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,wR=function(){return function(e,n){return e.replace(xR,function(r,i,s,o,a,c){var l=pR(o)-(s?0:n.c),u=hR(c)-(a?0:n.r),f=u==0?"":a?u+1:"["+u+"]",h=l==0?"":s?l+1:"["+l+"]";return i+"R"+f+"C"+h})}}();function ype(t,e){return t.replace(xR,function(n,r,i,s,o,a){return r+(i=="$"?i+s:Ti(pR(s)+e.c))+(o=="$"?o+a:ui(hR(a)+e.r))})}function _pe(t){return t.length!=1}function wr(t){t.l+=1}function Gl(t,e){var n=t.read_shift(e==1?1:2);return[n&16383,n>>14&1,n>>15&1]}function a7(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return c7(t,e,n);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),o=Gl(t,2),a=Gl(t,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function c7(t){var e=Gl(t,2),n=Gl(t,2),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function xpe(t,e,n){if(n.biff<8)return c7(t,e,n);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=Gl(t,2),o=Gl(t,2);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function l7(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return wpe(t,e,n);var r=t.read_shift(n&&n.biff==12?4:2),i=Gl(t,2);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function wpe(t){var e=Gl(t,2),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function Epe(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function bpe(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return Cpe(t,e,n);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),o=(s&16384)>>14,a=(s&32768)>>15;if(s&=16383,a==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:a}}function Cpe(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function Spe(t,e,n){var r=(t[t.l++]&96)>>5,i=a7(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function Tpe(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var o=a7(t,s,n);return[r,i,o]}function Ipe(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function Ape(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function Dpe(t,e,n){var r=(t[t.l++]&96)>>5,i=xpe(t,e-1,n);return[r,i]}function kpe(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function Yj(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function Rpe(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function Ppe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function Mpe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function Npe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Ope(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function u7(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function Fpe(t){return t.read_shift(2),u7(t,2)}function Lpe(t){return t.read_shift(2),u7(t,2)}function Bpe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=l7(t,0,n);return[r,i]}function Vpe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=bpe(t,0,n);return[r,i]}function Upe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=l7(t,0,n);return[r,i,s]}function jpe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[jme[i],h7[i],r]}function $pe(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:Hpe(t);return[i,(s[0]===0?h7:Ume)[s[1]]]}function Hpe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function zpe(t,e,n){t.l+=n&&n.biff==2?3:4}function qpe(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function Gpe(t){return t.l++,_g[t.read_shift(1)]}function Wpe(t){return t.l++,t.read_shift(2)}function Kpe(t){return t.l++,t.read_shift(1)!==0}function Xpe(t){return t.l++,xp(t,8)}function Ype(t,e,n){return t.l++,G$(t,e-1,n)}function Qpe(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Ufe(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=_g[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=xp(t,8);break;case 2:n[1]=zfe(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function Zpe(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?Bd:Wfe)(t,8));return i}function Jpe(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var a=0;a!=i;++a)o[s][a]=Qpe(t,n.biff);return o}function eme(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function tme(t,e,n){if(n.biff==5)return nme(t,e,n);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function nme(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function rme(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function ime(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function sme(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function ome(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var ame=Aa,cme=Aa,lme=Aa;function xg(t,e,n){return t.l+=2,[Epe(t,4,n)]}function ER(t){return t.l+=6,[]}var ume=xg,dme=ER,fme=ER,hme=xg;function d7(t){return t.l+=2,[z$(t),t.read_shift(2)&1]}var pme=xg,mme=d7,gme=ER,vme=xg,yme=xg,_me=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function xme(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),o=_me[n>>2&31];return{ixti:e,coltype:n&3,rt:o,idx:r,c:i,C:s}}function wme(t){return t.l+=2,[t.read_shift(4)]}function Eme(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function bme(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function Cme(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function Sme(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function Tme(t){return t.l+=4,[0,0]}var Qj={1:{n:"PtgExp",f:qpe},2:{n:"PtgTbl",f:lme},3:{n:"PtgAdd",f:wr},4:{n:"PtgSub",f:wr},5:{n:"PtgMul",f:wr},6:{n:"PtgDiv",f:wr},7:{n:"PtgPower",f:wr},8:{n:"PtgConcat",f:wr},9:{n:"PtgLt",f:wr},10:{n:"PtgLe",f:wr},11:{n:"PtgEq",f:wr},12:{n:"PtgGe",f:wr},13:{n:"PtgGt",f:wr},14:{n:"PtgNe",f:wr},15:{n:"PtgIsect",f:wr},16:{n:"PtgUnion",f:wr},17:{n:"PtgRange",f:wr},18:{n:"PtgUplus",f:wr},19:{n:"PtgUminus",f:wr},20:{n:"PtgPercent",f:wr},21:{n:"PtgParen",f:wr},22:{n:"PtgMissArg",f:wr},23:{n:"PtgStr",f:Ype},26:{n:"PtgSheet",f:Eme},27:{n:"PtgEndSheet",f:bme},28:{n:"PtgErr",f:Gpe},29:{n:"PtgBool",f:Kpe},30:{n:"PtgInt",f:Wpe},31:{n:"PtgNum",f:Xpe},32:{n:"PtgArray",f:kpe},33:{n:"PtgFunc",f:jpe},34:{n:"PtgFuncVar",f:$pe},35:{n:"PtgName",f:eme},36:{n:"PtgRef",f:Bpe},37:{n:"PtgArea",f:Spe},38:{n:"PtgMemArea",f:rme},39:{n:"PtgMemErr",f:ame},40:{n:"PtgMemNoMem",f:cme},41:{n:"PtgMemFunc",f:ime},42:{n:"PtgRefErr",f:sme},43:{n:"PtgAreaErr",f:Ipe},44:{n:"PtgRefN",f:Vpe},45:{n:"PtgAreaN",f:Dpe},46:{n:"PtgMemAreaN",f:Cme},47:{n:"PtgMemNoMemN",f:Sme},57:{n:"PtgNameX",f:tme},58:{n:"PtgRef3d",f:Upe},59:{n:"PtgArea3d",f:Tpe},60:{n:"PtgRefErr3d",f:ome},61:{n:"PtgAreaErr3d",f:Ape},255:{}},Ime={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Ame={1:{n:"PtgElfLel",f:d7},2:{n:"PtgElfRw",f:vme},3:{n:"PtgElfCol",f:ume},6:{n:"PtgElfRwV",f:yme},7:{n:"PtgElfColV",f:hme},10:{n:"PtgElfRadical",f:pme},11:{n:"PtgElfRadicalS",f:gme},13:{n:"PtgElfColS",f:dme},15:{n:"PtgElfColSV",f:fme},16:{n:"PtgElfRadicalLel",f:mme},25:{n:"PtgList",f:xme},29:{n:"PtgSxName",f:wme},255:{}},Dme={0:{n:"PtgAttrNoop",f:Tme},1:{n:"PtgAttrSemi",f:Ope},2:{n:"PtgAttrIf",f:Mpe},4:{n:"PtgAttrChoose",f:Rpe},8:{n:"PtgAttrGoto",f:Ppe},16:{n:"PtgAttrSum",f:zpe},32:{n:"PtgAttrBaxcel",f:Yj},33:{n:"PtgAttrBaxcel",f:Yj},64:{n:"PtgAttrSpace",f:Fpe},65:{n:"PtgAttrSpaceSemi",f:Lpe},128:{n:"PtgAttrIfError",f:Npe},255:{}};function kme(t,e,n,r){if(r.biff<8)return Aa(t,e);for(var i=t.l+e,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=Jpe(t,0,r),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=Zpe(t,n[o][1],r),s.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=t.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0];default:break}return e=i-t.l,e!==0&&s.push(Aa(t,e)),s}function Rme(t,e,n){for(var r=t.l+e,i,s,o=[];r!=t.l;)e=r-t.l,s=t[t.l],i=Qj[s]||Qj[Ime[s]],(s===24||s===25)&&(i=(s===24?Ame:Dme)[t[t.l+1]]),!i||!i.f?Aa(t,e):o.push([i.n,i.f(t,e,n)]);return o}function Pme(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var Mme={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Nme(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function f7(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function Zj(t,e,n){var r=f7(t,e,n);return r=="#REF"?r:Nme(r,n)}function mp(t,e,n,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},a=[],c,l,u,f=0,h=0,m,y="";if(!t[0]||!t[0][0])return"";for(var _=-1,x="",M=0,H=t[0].length;M<H;++M){var K=t[0][M];switch(K[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=a.pop(),l=a.pop(),_>=0){switch(t[0][_][1][0]){case 0:x=Yn(" ",t[0][_][1][1]);break;case 1:x=Yn("\r",t[0][_][1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][_][1][0])}l=l+x,_=-1}a.push(l+Mme[K[0]]+c);break;case"PtgIsect":c=a.pop(),l=a.pop(),a.push(l+" "+c);break;case"PtgUnion":c=a.pop(),l=a.pop(),a.push(l+","+c);break;case"PtgRange":c=a.pop(),l=a.pop(),a.push(l+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=ag(K[1][1],o,i),a.push(cg(u,s));break;case"PtgRefN":u=n?ag(K[1][1],n,i):K[1][1],a.push(cg(u,s));break;case"PtgRef3d":f=K[1][1],u=ag(K[1][2],o,i),y=Zj(r,f,i);var Q=y;a.push(y+"!"+cg(u,s));break;case"PtgFunc":case"PtgFuncVar":var ae=K[1][0],fe=K[1][1];ae||(ae=0),ae&=127;var D=ae==0?[]:a.slice(-ae);a.length-=ae,fe==="User"&&(fe=D.shift()),a.push(fe+"("+D.join(",")+")");break;case"PtgBool":a.push(K[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(K[1]);break;case"PtgNum":a.push(String(K[1]));break;case"PtgStr":a.push('"'+K[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(K[1]);break;case"PtgAreaN":m=Fj(K[1][1],n?{s:n}:o,i),a.push(qk(m,i));break;case"PtgArea":m=Fj(K[1][1],o,i),a.push(qk(m,i));break;case"PtgArea3d":f=K[1][1],m=K[1][2],y=Zj(r,f,i),a.push(y+"!"+qk(m,i));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=K[1][2];var A=(r.names||[])[h-1]||(r[0]||[])[h],T=A?A.Name:"SH33TJSNAME"+String(h);T&&T.slice(0,6)=="_xlfn."&&!i.xlfn&&(T=T.slice(6)),a.push(T);break;case"PtgNameX":var P=K[1][1];h=K[1][2];var L;if(i.biff<=5)P<0&&(P=-P),r[P]&&(L=r[P][h]);else{var B="";if(((r[P]||[])[0]||[])[0]==14849||(((r[P]||[])[0]||[])[0]==1025?r[P][h]&&r[P][h].itab>0&&(B=r.SheetNames[r[P][h].itab-1]+"!"):B=r.SheetNames[h-1]+"!"),r[P]&&r[P][h])B+=r[P][h].Name;else if(r[0]&&r[0][h])B+=r[0][h].Name;else{var V=(f7(r,P,i)||"").split(";;");V[h-1]?B=V[h-1]:B+="SH33TJSERRX"}a.push(B);break}L||(L={Name:"SH33TJSERRY"}),a.push(L.Name);break;case"PtgParen":var vt="(",Ge=")";if(_>=0){switch(x="",t[0][_][1][0]){case 2:vt=Yn(" ",t[0][_][1][1])+vt;break;case 3:vt=Yn("\r",t[0][_][1][1])+vt;break;case 4:Ge=Yn(" ",t[0][_][1][1])+Ge;break;case 5:Ge=Yn("\r",t[0][_][1][1])+Ge;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][_][1][0])}_=-1}a.push(vt+a.pop()+Ge);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":u={c:K[1][1],r:K[1][0]};var Rn={c:n.c,r:n.r};if(r.sharedf[cn(u)]){var hn=r.sharedf[cn(u)];a.push(mp(hn,o,Rn,r,i))}else{var Pn=!1;for(c=0;c!=r.arrayf.length;++c)if(l=r.arrayf[c],!(u.c<l[0].s.c||u.c>l[0].e.c)&&!(u.r<l[0].s.r||u.r>l[0].e.r)){a.push(mp(l[1],o,Rn,r,i)),Pn=!0;break}Pn||a.push(K[1])}break;case"PtgArray":a.push("{"+Pme(K[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":_=M;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+K[1].idx+"[#"+K[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(K));default:throw new Error("Unrecognized Formula Token: "+String(K))}var Mn=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&_>=0&&Mn.indexOf(t[0][M][0])==-1){K=t[0][_];var Wt=!0;switch(K[1][0]){case 4:Wt=!1;case 0:x=Yn(" ",K[1][1]);break;case 5:Wt=!1;case 1:x=Yn("\r",K[1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+K[1][0])}a.push((Wt?x:"")+a.pop()+(Wt?"":x)),_=-1}}if(a.length>1&&i.WTF)throw new Error("bad formula stack");return a[0]}function Ome(t){if(t==null){var e=de(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Pd(t);return Pd(0)}function Fme(t,e,n,r,i){var s=Md(e,n,i),o=Ome(t.v),a=de(6),c=33;a.write_shift(2,c),a.write_shift(4,0);for(var l=de(t.bf.length),u=0;u<t.bf.length;++u)l[u]=t.bf[u];var f=ci([s,o,a,l]);return f}function p1(t,e,n){var r=t.read_shift(4),i=Rme(t,r,n),s=t.read_shift(4),o=s>0?kme(t,s,i,n):null;return[i,o]}var Lme=p1,m1=p1,Bme=p1,Vme=p1,Ume={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},h7={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},jme={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function $me(t){var e="of:="+t.replace(xR,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function Hme(t){return t.replace(/\./,"!")}var lg=typeof Map<"u";function bR(t,e,n){var r=0,i=t.length;if(n){if(lg?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var s=lg?n.get(e):n[e];r<s.length;++r)if(t[s[r]].t===e)return t.Count++,s[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(lg?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function g1(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(Dc=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=i1(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=eR(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function p7(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function Kl(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){p$(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===r)return i;return t[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function zme(t,e,n){if(t&&t["!ref"]){var r=kn(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function qme(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+Er(t[n])+'"/>';return e+"</mergeCells>"}function Gme(t,e,n,r,i){var s=!1,o={},a=null;if(r.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[n];try{e.Workbook&&(c=e.Workbook.Sheets[n].CodeName||c)}catch{}s=!0,o.codeName=Tc(an(c))}if(t&&t["!outline"]){var l={summaryBelow:1,summaryRight:1};t["!outline"].above&&(l.summaryBelow=0),t["!outline"].left&&(l.summaryRight=0),a=(a||"")+Re("outlinePr",null,l)}!s&&!a||(i[i.length]=Re("sheetPr",a,o))}var Wme=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Kme=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Xme(t){var e={sheet:1};return Wme.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),Kme.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=Q$(t.password).toString(16).toUpperCase()),Re("sheetProtection",null,e)}function Yme(t){return p7(t),Re("pageMargins",null,t)}function Qme(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=Re("col",null,g1(i,r)));return n[n.length]="</cols>",n.join("")}function Zme(t,e,n,r){var i=typeof t.ref=="string"?t.ref:Er(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,o=Fs(i);o.s.r==o.e.r&&(o.e.r=Fs(e["!ref"]).e.r,i=Er(o));for(var a=0;a<s.length;++a){var c=s[a];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return a==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),Re("autoFilter",null,{ref:i})}function Jme(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Re("sheetViews",Re("sheetView",null,i),{})}function e0e(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=_g[t.v];break;case"d":r&&r.cellDates?i=Hi(t.v,-1).toISOString():(t=as(t),t.t="n",i=""+(t.v=os(Hi(t.v)))),typeof t.z>"u"&&(t.z=Qn[14]);break;default:i=t.v;break}var a=li("v",an(i)),c={r:e},l=Kl(r.cellXfs,t,r);switch(l!==0&&(c.s=l),t.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){a=li("v",""+bR(r.Strings,t.v,r.revStrings)),c.t="s";break}c.t="str";break}if(t.t!=s&&(t.t=s,t.v=o),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;a=Re("f",an(t.f),u)+(t.v!=null?a:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(c.cm=1),Re("c",a,c)}function t0e(t,e,n,r){var i=[],s=[],o=kn(t["!ref"]),a="",c,l="",u=[],f=0,h=0,m=t["!rows"],y=Array.isArray(t),_={r:l},x,M=-1;for(h=o.s.c;h<=o.e.c;++h)u[h]=Ti(h);for(f=o.s.r;f<=o.e.r;++f){for(s=[],l=ui(f),h=o.s.c;h<=o.e.c;++h){c=u[h]+l;var H=y?(t[f]||[])[h]:t[c];H!==void 0&&(a=e0e(H,c,t,e,n,r))!=null&&s.push(a)}(s.length>0||m&&m[f])&&(_={r:l},m&&m[f]&&(x=m[f],x.hidden&&(_.hidden=1),M=-1,x.hpx?M=s1(x.hpx):x.hpt&&(M=x.hpt),M>-1&&(_.ht=M,_.customHeight=1),x.level&&(_.outlineLevel=x.level)),i[i.length]=Re("row",s.join(""),_))}if(m)for(;f<m.length;++f)m&&m[f]&&(_={r:f+1},x=m[f],x.hidden&&(_.hidden=1),M=-1,x.hpx?M=s1(x.hpx):x.hpt&&(M=x.hpt),M>-1&&(_.ht=M,_.customHeight=1),x.level&&(_.outlineLevel=x.level),i[i.length]=Re("row","",_));return i.join("")}function m7(t,e,n,r){var i=[br,Re("worksheet",null,{xmlns:gp[0],"xmlns:r":Xr.r})],s=n.SheetNames[t],o=0,a="",c=n.Sheets[s];c==null&&(c={});var l=c["!ref"]||"A1",u=kn(l);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+l+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),l=Er(u)}r||(r={}),c["!comments"]=[];var f=[];Gme(c,n,t,e,i),i[i.length]=Re("dimension",null,{ref:l}),i[i.length]=Jme(c,e,t,n),e.sheetFormat&&(i[i.length]=Re("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=Qme(c,c["!cols"])),i[o=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(a=t0e(c,e,t,n,r),a.length>0&&(i[i.length]=a)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),c["!protect"]&&(i[i.length]=Xme(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=Zme(c["!autofilter"],c,n,t)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=qme(c["!merges"]));var h=-1,m,y=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(_){_[1].Target&&(m={ref:_[0]},_[1].Target.charAt(0)!="#"&&(y=on(r,-1,an(_[1].Target).replace(/#.*$/,""),Gt.HLINK),m["r:id"]="rId"+y),(h=_[1].Target.indexOf("#"))>-1&&(m.location=an(_[1].Target.slice(h+1))),_[1].Tooltip&&(m.tooltip=an(_[1].Tooltip)),i[i.length]=Re("hyperlink",null,m))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=Yme(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=li("ignoredErrors",Re("ignoredError",null,{numberStoredAsText:1,sqref:l}))),f.length>0&&(y=on(r,-1,"../drawings/drawing"+(t+1)+".xml",Gt.DRAW),i[i.length]=Re("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=f),c["!comments"].length>0&&(y=on(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Gt.VML),i[i.length]=Re("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function n0e(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}function r0e(t,e,n){var r=de(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var s=320;i.hpx?s=s1(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var a=0,c=r.l;r.l+=4;for(var l={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var f=-1,h=-1,m=u<<10;m<u+1<<10;++m){l.c=m;var y=Array.isArray(n)?(n[l.r]||[])[l.c]:n[cn(l)];y&&(f<0&&(f=m),h=m)}f<0||(++a,r.write_shift(4,f),r.write_shift(4,h))}var _=r.l;return r.l=c,r.write_shift(4,a),r.l=_,r.length>r.l?r.slice(0,r.l):r}function i0e(t,e,n,r){var i=r0e(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&_e(t,0,i)}var s0e=Bd,o0e=_p;function a0e(){}function c0e(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=yfe(t,e-19),n}function l0e(t,e,n){n==null&&(n=de(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return t1({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),k$(t,n),n.slice(0,n.l)}function u0e(t){var e=oo(t);return[e]}function d0e(t,e,n){return n==null&&(n=de(8)),Od(e,n)}function f0e(t){var e=Fd(t);return[e]}function h0e(t,e,n){return n==null&&(n=de(4)),Ld(e,n)}function p0e(t){var e=oo(t),n=t.read_shift(1);return[e,n,"b"]}function m0e(t,e,n){return n==null&&(n=de(9)),Od(e,n),n.write_shift(1,t.v?1:0),n}function g0e(t){var e=Fd(t),n=t.read_shift(1);return[e,n,"b"]}function v0e(t,e,n){return n==null&&(n=de(5)),Ld(e,n),n.write_shift(1,t.v?1:0),n}function y0e(t){var e=oo(t),n=t.read_shift(1);return[e,n,"e"]}function _0e(t,e,n){return n==null&&(n=de(9)),Od(e,n),n.write_shift(1,t.v),n}function x0e(t){var e=Fd(t),n=t.read_shift(1);return[e,n,"e"]}function w0e(t,e,n){return n==null&&(n=de(8)),Ld(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function E0e(t){var e=oo(t),n=t.read_shift(4);return[e,n,"s"]}function b0e(t,e,n){return n==null&&(n=de(12)),Od(e,n),n.write_shift(4,e.v),n}function C0e(t){var e=Fd(t),n=t.read_shift(4);return[e,n,"s"]}function S0e(t,e,n){return n==null&&(n=de(8)),Ld(e,n),n.write_shift(4,e.v),n}function T0e(t){var e=oo(t),n=xp(t);return[e,n,"n"]}function I0e(t,e,n){return n==null&&(n=de(16)),Od(e,n),Pd(t.v,n),n}function A0e(t){var e=Fd(t),n=xp(t);return[e,n,"n"]}function D0e(t,e,n){return n==null&&(n=de(12)),Ld(e,n),Pd(t.v,n),n}function k0e(t){var e=oo(t),n=R$(t);return[e,n,"n"]}function R0e(t,e,n){return n==null&&(n=de(12)),Od(e,n),P$(t.v,n),n}function P0e(t){var e=Fd(t),n=R$(t);return[e,n,"n"]}function M0e(t,e,n){return n==null&&(n=de(8)),Ld(e,n),P$(t.v,n),n}function N0e(t){var e=oo(t),n=mR(t);return[e,n,"is"]}function O0e(t){var e=oo(t),n=Ii(t);return[e,n,"str"]}function F0e(t,e,n){return n==null&&(n=de(12+4*t.v.length)),Od(e,n),Qr(t.v,n),n.length>n.l?n.slice(0,n.l):n}function L0e(t){var e=Fd(t),n=Ii(t);return[e,n,"str"]}function B0e(t,e,n){return n==null&&(n=de(8+4*t.v.length)),Ld(e,n),Qr(t.v,n),n.length>n.l?n.slice(0,n.l):n}function V0e(t,e,n){var r=t.l+e,i=oo(t);i.r=n["!row"];var s=t.read_shift(1),o=[i,s,"b"];if(n.cellFormula){t.l+=2;var a=m1(t,r-t.l,n);o[3]=mp(a,null,i,n.supbooks,n)}else t.l=r;return o}function U0e(t,e,n){var r=t.l+e,i=oo(t);i.r=n["!row"];var s=t.read_shift(1),o=[i,s,"e"];if(n.cellFormula){t.l+=2;var a=m1(t,r-t.l,n);o[3]=mp(a,null,i,n.supbooks,n)}else t.l=r;return o}function j0e(t,e,n){var r=t.l+e,i=oo(t);i.r=n["!row"];var s=xp(t),o=[i,s,"n"];if(n.cellFormula){t.l+=2;var a=m1(t,r-t.l,n);o[3]=mp(a,null,i,n.supbooks,n)}else t.l=r;return o}function $0e(t,e,n){var r=t.l+e,i=oo(t);i.r=n["!row"];var s=Ii(t),o=[i,s,"str"];if(n.cellFormula){t.l+=2;var a=m1(t,r-t.l,n);o[3]=mp(a,null,i,n.supbooks,n)}else t.l=r;return o}var H0e=Bd,z0e=_p;function q0e(t,e){return e==null&&(e=de(4)),e.write_shift(4,t),e}function G0e(t,e){var n=t.l+e,r=Bd(t,16),i=gR(t),s=Ii(t),o=Ii(t),a=Ii(t);t.l=n;var c={rfx:r,relId:i,loc:s,display:a};return o&&(c.Tooltip=o),c}function W0e(t,e){var n=de(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));_p({s:Yr(t[0]),e:Yr(t[0])},n),vR("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return Qr(i||"",n),Qr(t[1].Tooltip||"",n),Qr("",n),n.slice(0,n.l)}function K0e(){}function X0e(t,e,n){var r=t.l+e,i=M$(t,16),s=t.read_shift(1),o=[i];if(o[2]=s,n.cellFormula){var a=Lme(t,r-t.l,n);o[1]=a}else t.l=r;return o}function Y0e(t,e,n){var r=t.l+e,i=Bd(t,16),s=[i];if(n.cellFormula){var o=Vme(t,r-t.l,n);s[1]=o,t.l=r}else t.l=r;return s}function Q0e(t,e,n){n==null&&(n=de(18));var r=g1(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var g7=["left","right","top","bottom","header","footer"];function Z0e(t){var e={};return g7.forEach(function(n){e[n]=xp(t,8)}),e}function J0e(t,e){return e==null&&(e=de(6*8)),p7(t),g7.forEach(function(n){Pd(t[n],e)}),e}function ege(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function tge(t,e,n){n==null&&(n=de(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function nge(t){var e=de(24);return e.write_shift(4,4),e.write_shift(4,1),_p(t,e),e}function rge(t,e){return e==null&&(e=de(16*4+2)),e.write_shift(2,t.password?Q$(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function ige(){}function sge(){}function oge(t,e,n,r,i,s,o){if(e.v===void 0)return!1;var a="";switch(e.t){case"b":a=e.v?"1":"0";break;case"d":e=as(e),e.z=e.z||Qn[14],e.v=os(Hi(e.v)),e.t="n";break;case"n":case"e":a=""+e.v;break;default:a=e.v;break}var c={r:n,c:r};switch(c.s=Kl(i.cellXfs,e,i),e.l&&s["!links"].push([cn(c),e.l]),e.c&&s["!comments"].push([cn(c),e.c]),e.t){case"s":case"str":return i.bookSST?(a=bR(i.Strings,e.v,i.revStrings),c.t="s",c.v=a,o?_e(t,18,S0e(e,c)):_e(t,7,b0e(e,c))):(c.t="str",o?_e(t,17,B0e(e,c)):_e(t,6,F0e(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?_e(t,13,M0e(e,c)):_e(t,2,R0e(e,c)):o?_e(t,16,D0e(e,c)):_e(t,5,I0e(e,c)),!0;case"b":return c.t="b",o?_e(t,15,v0e(e,c)):_e(t,4,m0e(e,c)),!0;case"e":return c.t="e",o?_e(t,14,w0e(e,c)):_e(t,3,_0e(e,c)),!0}return o?_e(t,12,h0e(e,c)):_e(t,1,d0e(e,c)),!0}function age(t,e,n,r){var i=kn(e["!ref"]||"A1"),s,o="",a=[];_e(t,145);var c=Array.isArray(e),l=i.e.r;e["!rows"]&&(l=Math.max(i.e.r,e["!rows"].length-1));for(var u=i.s.r;u<=l;++u){o=ui(u),i0e(t,e,i,u);var f=!1;if(u<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(a[h]=Ti(h)),s=a[h]+o;var m=c?(e[u]||[])[h]:e[s];if(!m){f=!1;continue}f=oge(t,m,u,h,r,e,f)}}_e(t,146)}function cge(t,e){!e||!e["!merges"]||(_e(t,177,q0e(e["!merges"].length)),e["!merges"].forEach(function(n){_e(t,176,z0e(n))}),_e(t,178))}function lge(t,e){!e||!e["!cols"]||(_e(t,390),e["!cols"].forEach(function(n,r){n&&_e(t,60,Q0e(r,n))}),_e(t,391))}function uge(t,e){!e||!e["!ref"]||(_e(t,648),_e(t,649,nge(kn(e["!ref"]))),_e(t,650))}function dge(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=on(n,-1,r[1].Target.replace(/#.*$/,""),Gt.HLINK);_e(t,494,W0e(r,i))}}),delete e["!links"]}function fge(t,e,n,r){if(e["!comments"].length>0){var i=on(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Gt.VML);_e(t,551,vR("rId"+i)),e["!legacy"]=i}}function hge(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Er(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,a=Fs(s);a.s.r==a.e.r&&(a.e.r=Fs(e["!ref"]).e.r,s=Er(a));for(var c=0;c<o.length;++c){var l=o[c];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+s;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),_e(t,161,_p(kn(s))),_e(t,162)}}function pge(t,e,n){_e(t,133),_e(t,137,tge(e,n)),_e(t,138),_e(t,134)}function mge(t,e){e["!protect"]&&_e(t,535,rge(e["!protect"]))}function gge(t,e,n,r){var i=ss(),s=n.SheetNames[t],o=n.Sheets[s]||{},a=s;try{n&&n.Workbook&&(a=n.Workbook.Sheets[t].CodeName||a)}catch{}var c=kn(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],_e(i,129),(n.vbaraw||o["!outline"])&&_e(i,147,l0e(a,o["!outline"])),_e(i,148,o0e(c)),pge(i,o,n.Workbook),lge(i,o,t,e,n),age(i,o,t,e,n),mge(i,o),hge(i,o,n,t),cge(i,o),dge(i,o,r),o["!margins"]&&_e(i,476,J0e(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&uge(i,o),fge(i,o,t,r),_e(i,130),i.end()}function vge(t,e){t.l+=10;var n=Ii(t,e-10);return{name:n}}var yge=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function _ge(t){return!t.Workbook||!t.Workbook.WBProps?"false":Xde(t.Workbook.WBProps.date1904)?"true":"false"}var xge="][*?/\\".split("");function v7(t,e){if(t.length>31){if(e)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return xge.forEach(function(r){if(t.indexOf(r)!=-1){if(!e)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}}),n}function wge(t,e,n){t.forEach(function(r,i){v7(r);for(var s=0;s<i;++s)if(r==t[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=e&&e[i]&&e[i].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Ege(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];wge(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)zme(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function y7(t){var e=[br];e[e.length]=Re("workbook",null,{xmlns:gp[0],"xmlns:r":Xr.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(yge.forEach(function(a){t.Workbook.WBProps[a[0]]!=null&&t.Workbook.WBProps[a[0]]!=a[1]&&(r[a[0]]=t.Workbook.WBProps[a[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Re("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var o={name:an(t.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=Re("sheet",null,o)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(a){var c={name:a.Name};a.Comment&&(c.comment=a.Comment),a.Sheet!=null&&(c.localSheetId=""+a.Sheet),a.Hidden&&(c.hidden="1"),a.Ref&&(e[e.length]=Re("definedName",an(a.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function bge(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=Jk(t,e-8),n.name=Ii(t),n}function Cge(t,e){return e||(e=de(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),vR(t.strRelID,e),Qr(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Sge(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?Ii(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function Tge(t,e){e||(e=de(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),k$(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Ige(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=_fe(t),o=Bme(t,0,n),a=gR(t);t.l=r;var c={Name:s,Ptg:o};return i<268435455&&(c.Sheet=i),a&&(c.Comment=a),c}function Age(t,e){_e(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};_e(t,156,Cge(i))}_e(t,144)}function Dge(t,e){e||(e=de(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Qr("SheetJS",e),Qr(ug.version,e),Qr(ug.version,e),Qr("7262",e),e.length>e.l?e.slice(0,e.l):e}function kge(t,e){e||(e=de(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function Rge(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&s==-1&&(s=r);s>i||(_e(t,135),_e(t,158,kge(i)),_e(t,136))}}function Pge(t,e){var n=ss();return _e(n,131),_e(n,128,Dge()),_e(n,153,Tge(t.Workbook&&t.Workbook.WBProps||null)),Rge(n,t,e),Age(n,t,e),_e(n,132),n.end()}function Mge(t,e,n){return(e.slice(-4)===".bin"?Pge:y7)(t,n)}function Nge(t,e,n,r,i){return(e.slice(-4)===".bin"?gge:m7)(t,n,r,i)}function Oge(t,e,n){return(e.slice(-4)===".bin"?Jhe:e7)(t,n)}function Fge(t,e,n){return(e.slice(-4)===".bin"?The:Y$)(t,n)}function Lge(t,e,n){return(e.slice(-4)===".bin"?mpe:s7)(t,n)}function Bge(t){return(t.slice(-4)===".bin"?ape:r7)()}function Vge(t,e){var n=[];return t.Props&&n.push(Ofe(t.Props,e)),t.Custprops&&n.push(Ffe(t.Props,t.Custprops,e)),n.join("")}function Uge(){return""}function jge(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(Re("NumberFormat",null,{"ss:Format":an(Qn[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};n.push(Re("Style",s.join(""),o))}),Re("Styles",n.join(""))}function _7(t){return Re("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+wR(t.Ref,{r:0,c:0})})}function $ge(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(_7(i)))}return Re("Names",n.join(""))}function Hge(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],o=0;o<i.length;++o){var a=i[o];a.Sheet==n&&(a.Name.match(/^_xlfn\./)||s.push(_7(a)))}return s.join("")}function zge(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Re("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Re("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Re("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(Re("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(li("ProtectContents","True")),t["!protect"].objects&&i.push(li("ProtectObjects","True")),t["!protect"].scenarios&&i.push(li("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(li("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(li("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":Re("WorksheetOptions",i.join(""),{xmlns:Os.x})}function qge(t){return t.map(function(e){var n=Kde(e.t||""),r=Re("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Re("Comment",r,{"ss:Author":e.a})}).join("")}function Gge(t,e,n,r,i,s,o){if(!t||t.v==null&&t.f==null)return"";var a={};if(t.f&&(a["ss:Formula"]="="+an(wR(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var c=Yr(t.F.slice(e.length+1));a["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(t.l&&t.l.Target&&(a["ss:HRef"]=an(t.l.Target),t.l.Tooltip&&(a["x:HRefScreenTip"]=an(t.l.Tooltip))),n["!merges"])for(var l=n["!merges"],u=0;u!=l.length;++u)l[u].s.c!=o.c||l[u].s.r!=o.r||(l[u].e.c>l[u].s.c&&(a["ss:MergeAcross"]=l[u].e.c-l[u].s.c),l[u].e.r>l[u].s.r&&(a["ss:MergeDown"]=l[u].e.r-l[u].s.r));var f="",h="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":f="Number",h=String(t.v);break;case"b":f="Boolean",h=t.v?"1":"0";break;case"e":f="Error",h=_g[t.v];break;case"d":f="DateTime",h=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Qn[14]);break;case"s":f="String",h=Wde(t.v||"");break}var m=Kl(r.cellXfs,t,r);a["ss:StyleID"]="s"+(21+m),a["ss:Index"]=o.c+1;var y=t.v!=null?h:"",_=t.t=="z"?"":'<Data ss:Type="'+f+'">'+y+"</Data>";return(t.c||[]).length>0&&(_+=qge(t.c)),Re("Cell",_,a)}function Wge(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=J$(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function Kge(t,e,n,r){if(!t["!ref"])return"";var i=kn(t["!ref"]),s=t["!merges"]||[],o=0,a=[];t["!cols"]&&t["!cols"].forEach(function(x,M){_R(x);var H=!!x.width,K=g1(M,x),Q={"ss:Index":M+1};H&&(Q["ss:Width"]=r1(K.width)),x.hidden&&(Q["ss:Hidden"]="1"),a.push(Re("Column",null,Q))});for(var c=Array.isArray(t),l=i.s.r;l<=i.e.r;++l){for(var u=[Wge(l,(t["!rows"]||[])[l])],f=i.s.c;f<=i.e.c;++f){var h=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>f)&&!(s[o].s.r>l)&&!(s[o].e.c<f)&&!(s[o].e.r<l)){(s[o].s.c!=f||s[o].s.r!=l)&&(h=!0);break}if(!h){var m={r:l,c:f},y=cn(m),_=c?(t[l]||[])[f]:t[y];u.push(Gge(_,y,t,e,n,r,m))}}u.push("</Row>"),u.length>2&&a.push(u.join(""))}return a.join("")}function Xge(t,e,n){var r=[],i=n.SheetNames[t],s=n.Sheets[i],o=s?Hge(s,e,t,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=s?Kge(s,e,t,n):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(zge(s,e,t,n)),r.join("")}function Yge(t,e){e||(e={}),t.SSF||(t.SSF=as(Qn)),t.SSF&&(u1(),l1(t.SSF),e.revssf=d1(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Kl(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(Vge(t,e)),n.push(Uge(t,e)),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(Re("Worksheet",Xge(r,e,t),{"ss:Name":an(t.SheetNames[r])}));return n[2]=jge(t,e),n[3]=$ge(t,e),br+Re("Workbook",n.join(""),{xmlns:Os.ss,"xmlns:o":Os.o,"xmlns:x":Os.x,"xmlns:ss":Os.ss,"xmlns:dt":Os.dt,"xmlns:html":Os.html})}var Kk={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Qge(t,e){var n=[],r=[],i=[],s=0,o,a=Sj(Bj,"n"),c=Sj(Vj,"n");if(t.Props)for(o=di(t.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(a,o[s])?n:Object.prototype.hasOwnProperty.call(c,o[s])?r:i).push([o[s],t.Props[o[s]]]);if(t.Custprops)for(o=di(t.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(a,o[s])?n:Object.prototype.hasOwnProperty.call(c,o[s])?r:i).push([o[s],t.Custprops[o[s]]]);var l=[];for(s=0;s<i.length;++s)H$.indexOf(i[s][0])>-1||U$.indexOf(i[s][0])>-1||i[s][1]!=null&&l.push(i[s]);r.length&&fn.utils.cfb_add(e,"/SummaryInformation",zj(r,Kk.SI,c,Vj)),(n.length||l.length)&&fn.utils.cfb_add(e,"/DocumentSummaryInformation",zj(n,Kk.DSI,a,Bj,l.length?l:null,Kk.UDI))}function Zge(t,e){var n=e||{},r=fn.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return fn.utils.cfb_add(r,i,x7(t,n)),n.biff==8&&(t.Props||t.Custprops)&&Qge(t,r),n.biff==8&&t.vbaraw&&gpe(r,fn.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var Jge={0:{f:n0e},1:{f:u0e},2:{f:k0e},3:{f:y0e},4:{f:p0e},5:{f:T0e},6:{f:O0e},7:{f:E0e},8:{f:$0e},9:{f:j0e},10:{f:V0e},11:{f:U0e},12:{f:f0e},13:{f:P0e},14:{f:x0e},15:{f:g0e},16:{f:A0e},17:{f:L0e},18:{f:C0e},19:{f:mR},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Ige},40:{},42:{},43:{f:Ohe},44:{f:Mhe},45:{f:Bhe},46:{f:Uhe},47:{f:Vhe},48:{},49:{f:ffe},50:{},51:{f:npe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:hhe},62:{f:N0e},63:{f:cpe},64:{f:ige},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Aa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:ege},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:c0e},148:{f:s0e,p:16},151:{f:K0e},152:{},153:{f:Sge},154:{},155:{},156:{f:bge},157:{},158:{},159:{T:1,f:bhe},160:{T:-1},161:{T:1,f:Bd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:H0e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:epe},336:{T:-1},337:{f:spe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Jk},357:{},358:{},359:{},360:{T:1},361:{},362:{f:ahe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:X0e},427:{f:Y0e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Z0e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:a0e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:G0e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Jk},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:hpe},633:{T:1},634:{T:-1},635:{T:1,f:dpe},636:{T:-1},637:{f:gfe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:vge},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:sge},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Pe(t,e,n,r){var i=e;if(!isNaN(i)){var s=r||(n||[]).length||0,o=t.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&fR(n)&&t.push(n)}}function eve(t,e,n,r){var i=r||(n||[]).length||0;if(i<=8224)return Pe(t,e,n,i);var s=e;if(!isNaN(s)){for(var o=n.parts||[],a=0,c=0,l=0;l+(o[a]||8224)<=8224;)l+=o[a]||8224,a++;var u=t.next(4);for(u.write_shift(2,s),u.write_shift(2,l),t.push(n.slice(c,c+l)),c+=l;c<i;){for(u=t.next(4),u.write_shift(2,60),l=0;l+(o[a]||8224)<=8224;)l+=o[a]||8224,a++;u.write_shift(2,l),t.push(n.slice(c,c+l)),c+=l}}}function wg(t,e,n){return t||(t=de(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function tve(t,e,n,r){var i=de(9);return wg(i,t,e),q$(n,r||"b",i),i}function nve(t,e,n){var r=de(8+2*n.length);return wg(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function rve(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?os(Hi(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Pe(t,2,vhe(n,r,i)):Pe(t,3,ghe(n,r,i));return;case"b":case"e":Pe(t,5,tve(n,r,e.v,e.t));return;case"s":case"str":Pe(t,4,nve(n,r,(e.v||"").slice(0,255)));return}Pe(t,1,wg(null,n,r))}function ive(t,e,n,r){var i=Array.isArray(e),s=kn(e["!ref"]||"A1"),o,a="",c=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=Er(s)}for(var l=s.s.r;l<=s.e.r;++l){a=ui(l);for(var u=s.s.c;u<=s.e.c;++u){l===s.s.r&&(c[u]=Ti(u)),o=c[u]+a;var f=i?(e[l]||[])[u]:e[o];f&&rve(t,f,l,u,r)}}}function sve(t,e){var n=e||{};Ia!=null&&n.dense==null&&(n.dense=Ia);for(var r=ss(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==n.sheet&&(i=s);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Pe(r,n.biff==4?1033:n.biff==3?521:9,yR(t,16,n)),ive(r,t.Sheets[t.SheetNames[i]],i,n,t),Pe(r,10),r.end()}function ove(t,e,n){Pe(t,49,Jfe({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}function ave(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Pe(t,1054,nhe(i,e[i],n))})}function cve(t,e){var n=de(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Pe(t,2151,n),n=de(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),K$(kn(e["!ref"]||"A1"),n),n.write_shift(4,4),Pe(t,2152,n)}function lve(t,e){for(var n=0;n<16;++n)Pe(t,224,Gj({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Pe(t,224,Gj(r,0,e))})}function uve(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];Pe(t,440,uhe(r)),r[1].Tooltip&&Pe(t,2048,dhe(r))}delete e["!links"]}function dve(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&Pe(t,125,phe(g1(i,r),i))})}}function fve(t,e,n,r,i){var s=16+Kl(i.cellXfs,e,i);if(e.v==null&&!e.bf){Pe(t,513,Md(n,r,s));return}if(e.bf)Pe(t,6,Fme(e,n,r,i,s));else switch(e.t){case"d":case"n":var o=e.t=="d"?os(Hi(e.v)):e.v;Pe(t,515,ohe(n,r,o,s,i));break;case"b":case"e":Pe(t,517,she(n,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var a=bR(i.Strings,e.v,i.revStrings);Pe(t,253,ehe(n,r,a,s,i))}else Pe(t,516,the(n,r,(e.v||"").slice(0,255),s,i));break;default:Pe(t,513,Md(n,r,s))}}function hve(t,e,n){var r=ss(),i=n.SheetNames[t],s=n.Sheets[i]||{},o=(n||{}).Workbook||{},a=(o.Sheets||[])[t]||{},c=Array.isArray(s),l=e.biff==8,u,f="",h=[],m=kn(s["!ref"]||"A1"),y=l?65536:16384;if(m.e.c>255||m.e.r>=y){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,y-1)}Pe(r,2057,yR(n,16,e)),Pe(r,13,so(1)),Pe(r,12,so(100)),Pe(r,15,$i(!0)),Pe(r,17,$i(!1)),Pe(r,16,Pd(.001)),Pe(r,95,$i(!0)),Pe(r,42,$i(!1)),Pe(r,43,$i(!1)),Pe(r,130,so(1)),Pe(r,128,ihe([0,0])),Pe(r,131,$i(!1)),Pe(r,132,$i(!1)),l&&dve(r,s["!cols"]),Pe(r,512,rhe(m,e)),l&&(s["!links"]=[]);for(var _=m.s.r;_<=m.e.r;++_){f=ui(_);for(var x=m.s.c;x<=m.e.c;++x){_===m.s.r&&(h[x]=Ti(x)),u=h[x]+f;var M=c?(s[_]||[])[x]:s[u];M&&(fve(r,M,_,x,e),l&&M.l&&s["!links"].push([u,M.l]))}}var H=a.CodeName||a.name||i;return l&&Pe(r,574,Zfe((o.Views||[])[0])),l&&(s["!merges"]||[]).length&&Pe(r,229,lhe(s["!merges"])),l&&uve(r,s),Pe(r,442,W$(H,e)),l&&cve(r,s),Pe(r,10),r.end()}function pve(t,e,n){var r=ss(),i=(t||{}).Workbook||{},s=i.Sheets||[],o=i.WBProps||{},a=n.biff==8,c=n.biff==5;if(Pe(r,2057,yR(t,5,n)),n.bookType=="xla"&&Pe(r,135),Pe(r,225,a?so(1200):null),Pe(r,193,Vfe(2)),c&&Pe(r,191),c&&Pe(r,192),Pe(r,226),Pe(r,92,Kfe("SheetJS",n)),Pe(r,66,so(a?1200:1252)),a&&Pe(r,353,so(0)),a&&Pe(r,448),Pe(r,317,mhe(t.SheetNames.length)),a&&t.vbaraw&&Pe(r,211),a&&t.vbaraw){var l=o.CodeName||"ThisWorkbook";Pe(r,442,W$(l,n))}Pe(r,156,so(17)),Pe(r,25,$i(!1)),Pe(r,18,$i(!1)),Pe(r,19,so(0)),a&&Pe(r,431,$i(!1)),a&&Pe(r,444,so(0)),Pe(r,61,Qfe(n)),Pe(r,64,$i(!1)),Pe(r,141,so(0)),Pe(r,34,$i(_ge(t)=="true")),Pe(r,14,$i(!0)),a&&Pe(r,439,$i(!1)),Pe(r,218,so(0)),ove(r,t,n),ave(r,t.SSF,n),lve(r,n),a&&Pe(r,352,$i(!1));var u=r.end(),f=ss();a&&Pe(f,140,fhe()),a&&n.Strings&&eve(f,252,Yfe(n.Strings,n)),Pe(f,10);var h=f.end(),m=ss(),y=0,_=0;for(_=0;_<t.SheetNames.length;++_)y+=(a?12:11)+(a?2:1)*t.SheetNames[_].length;var x=u.length+y+h.length;for(_=0;_<t.SheetNames.length;++_){var M=s[_]||{};Pe(m,133,Xfe({pos:x,hs:M.Hidden||0,dt:0,name:t.SheetNames[_]},n)),x+=e[_].length}var H=m.end();if(y!=H.length)throw new Error("BS8 "+y+" != "+H.length);var K=[];return u.length&&K.push(u),H.length&&K.push(H),h.length&&K.push(h),ci(K)}function mve(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=as(Qn)),t&&t.SSF&&(u1(),l1(t.SSF),n.revssf=d1(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,CR(n),n.cellXfs=[],Kl(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=hve(i,n,t);return r.unshift(pve(t,r,n)),ci(r)}function x7(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=Fs(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return mve(t,e);case 4:case 3:case 2:return sve(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function gve(t,e,n,r){for(var i=t["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var a=0,c=0,l=0;l<i.length;++l)if(!(i[l].s.r>n||i[l].s.c>o)&&!(i[l].e.r<n||i[l].e.c<o)){if(i[l].s.r<n||i[l].s.c<o){a=-1;break}a=i[l].e.r-i[l].s.r+1,c=i[l].e.c-i[l].s.c+1;break}if(!(a<0)){var u=cn({r:n,c:o}),f=r.dense?(t[n]||[])[o]:t[u],h=f&&f.v!=null&&(f.h||Gde(f.w||(Rc(f),f.w)||""))||"",m={};a>1&&(m.rowspan=a),c>1&&(m.colspan=c),r.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(r.id||"sjs")+"-"+u,s.push(Re("td",h,m))}}var y="<tr>";return y+s.join("")+"</tr>"}var vve='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',yve="</body></html>";function _ve(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function w7(t,e){var n=e||{},r=n.header!=null?n.header:vve,i=n.footer!=null?n.footer:yve,s=[r],o=Fs(t["!ref"]);n.dense=Array.isArray(t),s.push(_ve(t,o,n));for(var a=o.s.r;a<=o.e.r;++a)s.push(gve(t,o,a,n));return s.push("</table>"+i),s.join("")}function E7(t,e,n){var r=n||{};Ia!=null&&(r.dense=Ia);var i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?Yr(r.origin):r.origin;i=o.r,s=o.c}var a=e.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,a.length),l={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var u=Fs(t["!ref"]);l.s.r=Math.min(l.s.r,u.s.r),l.s.c=Math.min(l.s.c,u.s.c),l.e.r=Math.max(l.e.r,u.e.r),l.e.c=Math.max(l.e.c,u.e.c),i==-1&&(l.e.r=i=u.e.r+1)}var f=[],h=0,m=t["!rows"]||(t["!rows"]=[]),y=0,_=0,x=0,M=0,H=0,K=0;for(t["!cols"]||(t["!cols"]=[]);y<a.length&&_<c;++y){var Q=a[y];if(Jj(Q)){if(r.display)continue;m[_]={hidden:!0}}var ae=Q.children;for(x=M=0;x<ae.length;++x){var fe=ae[x];if(!(r.display&&Jj(fe))){var D=fe.hasAttribute("data-v")?fe.getAttribute("data-v"):fe.hasAttribute("v")?fe.getAttribute("v"):Yde(fe.innerHTML),A=fe.getAttribute("data-z")||fe.getAttribute("z");for(h=0;h<f.length;++h){var T=f[h];T.s.c==M+s&&T.s.r<_+i&&_+i<=T.e.r&&(M=T.e.c+1-s,h=-1)}K=+fe.getAttribute("colspan")||1,((H=+fe.getAttribute("rowspan")||1)>1||K>1)&&f.push({s:{r:_+i,c:M+s},e:{r:_+i+(H||1)-1,c:M+s+(K||1)-1}});var P={t:"s",v:D},L=fe.getAttribute("data-t")||fe.getAttribute("t")||"";D!=null&&(D.length==0?P.t=L||"z":r.raw||D.trim().length==0||L=="s"||(D==="TRUE"?P={t:"b",v:!0}:D==="FALSE"?P={t:"b",v:!1}:isNaN(Ac(D))?isNaN(hg(D).getDate())||(P={t:"d",v:Hi(D)},r.cellDates||(P={t:"n",v:os(P.v)}),P.z=r.dateNF||Qn[14]):P={t:"n",v:Ac(D)})),P.z===void 0&&A!=null&&(P.z=A);var B="",V=fe.getElementsByTagName("A");if(V&&V.length)for(var vt=0;vt<V.length&&!(V[vt].hasAttribute("href")&&(B=V[vt].getAttribute("href"),B.charAt(0)!="#"));++vt);B&&B.charAt(0)!="#"&&(P.l={Target:B}),r.dense?(t[_+i]||(t[_+i]=[]),t[_+i][M+s]=P):t[cn({c:M+s,r:_+i})]=P,l.e.c<M+s&&(l.e.c=M+s),M+=K}}++_}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),l.e.r=Math.max(l.e.r,_-1+i),t["!ref"]=Er(l),_>=c&&(t["!fullref"]=Er((l.e.r=a.length-y+_-1+i,l))),t}function b7(t,e){var n=e||{},r=n.dense?[]:{};return E7(r,t,e)}function xve(t,e){return Nd(b7(t,e),e)}function Jj(t){var e="",n=wve(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function wve(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Eve=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+pg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return br+e}}(),e$=function(){var t=function(s){return an(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(s,o,a){var c=[];c.push('      <table:table table:name="'+an(o.SheetNames[a])+`" table:style-name="ta1">
`);var l=0,u=0,f=Fs(s["!ref"]||"A1"),h=s["!merges"]||[],m=0,y=Array.isArray(s);if(s["!cols"])for(u=0;u<=f.e.c;++u)c.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+`></table:table-column>
`);var _="",x=s["!rows"]||[];for(l=0;l<f.s.r;++l)_=x[l]?' table:style-name="ro'+x[l].ods+'"':"",c.push("        <table:table-row"+_+`></table:table-row>
`);for(;l<=f.e.r;++l){for(_=x[l]?' table:style-name="ro'+x[l].ods+'"':"",c.push("        <table:table-row"+_+`>
`),u=0;u<f.s.c;++u)c.push(e);for(;u<=f.e.c;++u){var M=!1,H={},K="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>u)&&!(h[m].s.r>l)&&!(h[m].e.c<u)&&!(h[m].e.r<l)){(h[m].s.c!=u||h[m].s.r!=l)&&(M=!0),H["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,H["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(M){c.push(n);continue}var Q=cn({r:l,c:u}),ae=y?(s[l]||[])[u]:s[Q];if(ae&&ae.f&&(H["table:formula"]=an($me(ae.f)),ae.F&&ae.F.slice(0,Q.length)==Q)){var fe=Fs(ae.F);H["table:number-matrix-columns-spanned"]=fe.e.c-fe.s.c+1,H["table:number-matrix-rows-spanned"]=fe.e.r-fe.s.r+1}if(!ae){c.push(e);continue}switch(ae.t){case"b":K=ae.v?"TRUE":"FALSE",H["office:value-type"]="boolean",H["office:boolean-value"]=ae.v?"true":"false";break;case"n":K=ae.w||String(ae.v||0),H["office:value-type"]="float",H["office:value"]=ae.v||0;break;case"s":case"str":K=ae.v==null?"":ae.v,H["office:value-type"]="string";break;case"d":K=ae.w||Hi(ae.v).toISOString(),H["office:value-type"]="date",H["office:date-value"]=Hi(ae.v).toISOString(),H["table:style-name"]="ce1";break;default:c.push(e);continue}var D=t(K);if(ae.l&&ae.l.Target){var A=ae.l.Target;A=A.charAt(0)=="#"?"#"+Hme(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),D=Re("text:a",D,{"xlink:href":A.replace(/&/g,"&amp;")})}c.push("          "+Re("table:table-cell",Re("text:p",D,{}),H)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},i=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var a=0;o.SheetNames.map(function(l){return o.Sheets[l]}).forEach(function(l){if(l&&l["!cols"]){for(var u=0;u<l["!cols"].length;++u)if(l["!cols"][u]){var f=l["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;_R(f),f.ods=a;var h=l["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),s.push(`  </style:style>
`),++a}}});var c=0;o.SheetNames.map(function(l){return o.Sheets[l]}).forEach(function(l){if(l&&l["!rows"]){for(var u=0;u<l["!rows"].length;++u)if(l["!rows"][u]){l["!rows"][u].ods=c;var f=l["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,a){var c=[br],l=pg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=pg({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(c.push("<office:document"+l+u+`>
`),c.push(B$().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+l+`>
`),i(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(r(o.Sheets[o.SheetNames[f]],o,f,a));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),a.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function C7(t,e){if(e.bookType=="fods")return e$(t,e);var n=iR(),r="",i=[],s=[];return r="mimetype",St(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",St(n,r,e$(t,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",St(n,r,Eve(t,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",St(n,r,br+B$()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",St(n,r,Nfe(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",St(n,r,Pfe(i)),n}function o1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function bve(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Fo(Tc(t))}function Cve(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function Wl(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function Sve(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=n>=0?0:128}function mg(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function sn(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function hp(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Fr(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=mg(t,n),s=i&7;i=Math.floor(i/8);var o=0,a;if(i==0)break;switch(s){case 0:{for(var c=n[0];t[n[0]++]>=128;);a=t.slice(c,n[0])}break;case 5:o=4,a=t.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,a=t.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=mg(t,n),a=t.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var l={data:a,type:s};e[i]==null?e[i]=[l]:e[i].push(l)}return e}function oi(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push(sn(r*8+i.type)),i.type==2&&e.push(sn(i.data.length)),e.push(i.data))})}),Wl(e)}function No(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=mg(t,r),s=Fr(t.slice(r[0],r[0]+i));r[0]+=i;var o={id:hp(s[1][0].data),messages:[]};s[2].forEach(function(a){var c=Fr(a.data),l=hp(c[3][0].data);o.messages.push({meta:c,data:t.slice(r[0],r[0]+l)}),r[0]+=l}),(e=s[3])!=null&&e[0]&&(o.merge=hp(s[3][0].data)>>>0>0),n.push(o)}return n}function sp(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:sn(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:sn(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:sn(o.data.length)}],r[2].push({data:oi(o.meta),type:2})});var s=oi(r);e.push(sn(s.length)),e.push(s),i.forEach(function(o){return e.push(o)})}),Wl(e)}function Tve(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=mg(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var o=e[n[0]++]>>2;if(o<60)++o;else{var a=o-59;o=e[n[0]],a>1&&(o|=e[n[0]+1]<<8),a>2&&(o|=e[n[0]+2]<<16),a>3&&(o|=e[n[0]+3]<<24),o>>>=0,o++,n[0]+=a}i.push(e.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var c=0,l=0;if(s==1?(l=(e[n[0]]>>2&7)+4,c=(e[n[0]++]&224)<<3,c|=e[n[0]++]):(l=(e[n[0]++]>>2)+1,s==2?(c=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(c=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[Wl(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(l>=c)for(i.push(i[0].slice(-c)),l-=c;l>=i[i.length-1].length;)i.push(i[i.length-1]),l-=i[i.length-1].length;i.push(i[0].slice(-c,-c+l))}}var u=Wl(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function Oo(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(Tve(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return Wl(e)}function op(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var s=sn(r),o=s.length;e.push(s),r<=60?(o++,e.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),o+=r,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,n+=r}return Wl(e)}function Xk(t,e){var n=new Uint8Array(32),r=o1(n),i=12,s=0;switch(n[0]=5,t.t){case"n":n[1]=2,Sve(n,i,t.v),s|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,s,!0),n.slice(0,i)}function Yk(t,e){var n=new Uint8Array(32),r=o1(n),i=12,s=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,s,!0),n.slice(0,i)}function $l(t){var e=Fr(t);return mg(e[1][0].data)}function Ive(t,e,n){var r,i,s,o;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var a=((o=(s=t[8])==null?void 0:s[0])==null?void 0:o.data)&&hp(t[8][0].data)>0||!1;if(a)throw"Math only works with normal offsets";for(var c=0,l=o1(t[7][0].data),u=0,f=[],h=o1(t[4][0].data),m=0,y=[],_=0;_<e.length;++_){if(e[_]==null){l.setUint16(_*2,65535,!0),h.setUint16(_*2,65535);continue}l.setUint16(_*2,u,!0),h.setUint16(_*2,m,!0);var x,M;switch(typeof e[_]){case"string":x=Xk({t:"s",v:e[_]},n),M=Yk({t:"s",v:e[_]},n);break;case"number":x=Xk({t:"n",v:e[_]},n),M=Yk({t:"n",v:e[_]},n);break;case"boolean":x=Xk({t:"b",v:e[_]},n),M=Yk({t:"b",v:e[_]},n);break;default:throw new Error("Unsupported value "+e[_])}f.push(x),u+=x.length,y.push(M),m+=M.length,++c}for(t[2][0].data=sn(c);_<t[7][0].data.length/2;++_)l.setUint16(_*2,65535,!0),h.setUint16(_*2,65535,!0);return t[6][0].data=Wl(f),t[3][0].data=Wl(y),c}function Ave(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Fs(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Er(r)));var s=a1(n,{range:r,header:1}),o=["~Sh33tJ5~"];s.forEach(function(Z){return Z.forEach(function(Y){typeof Y=="string"&&o.push(Y)})});var a={},c=[],l=fn.read(e.numbers,{type:"base64"});l.FileIndex.map(function(Z,Y){return[Z,l.FullPaths[Y]]}).forEach(function(Z){var Y=Z[0],xe=Z[1];if(Y.type==2&&Y.name.match(/\.iwa/)){var Fe=Y.content,Qe=Oo(Fe),He=No(Qe);He.forEach(function(Ae){c.push(Ae.id),a[Ae.id]={deps:[],location:xe,type:hp(Ae.messages[0].meta[1][0].data)}})}}),c.sort(function(Z,Y){return Z-Y});var u=c.filter(function(Z){return Z>1}).map(function(Z){return[Z,sn(Z)]});l.FileIndex.map(function(Z,Y){return[Z,l.FullPaths[Y]]}).forEach(function(Z){var Y=Z[0],xe=Z[1];if(Y.name.match(/\.iwa/)){var Fe=No(Oo(Y.content));Fe.forEach(function(Qe){Qe.messages.forEach(function(He){u.forEach(function(Ae){Qe.messages.some(function(kt){return hp(kt.meta[1][0].data)!=11006&&Cve(kt.data,Ae[1])})&&a[Ae[0]].deps.push(Qe.id)})})})}});function f(){for(var Z=927262;Z<2e6;++Z)if(!a[Z])return Z;throw new Error("Too many messages")}for(var h=fn.find(l,a[1].location),m=No(Oo(h.content)),y,_=0;_<m.length;++_){var x=m[_];x.id==1&&(y=x)}var M=$l(Fr(y.messages[0].data)[1][0].data);for(h=fn.find(l,a[M].location),m=No(Oo(h.content)),_=0;_<m.length;++_)x=m[_],x.id==M&&(y=x);for(M=$l(Fr(y.messages[0].data)[2][0].data),h=fn.find(l,a[M].location),m=No(Oo(h.content)),_=0;_<m.length;++_)x=m[_],x.id==M&&(y=x);for(M=$l(Fr(y.messages[0].data)[2][0].data),h=fn.find(l,a[M].location),m=No(Oo(h.content)),_=0;_<m.length;++_)x=m[_],x.id==M&&(y=x);var H=Fr(y.messages[0].data);{H[6][0].data=sn(r.e.r+1),H[7][0].data=sn(r.e.c+1);var K=$l(H[46][0].data),Q=fn.find(l,a[K].location),ae=No(Oo(Q.content));{for(var fe=0;fe<ae.length&&ae[fe].id!=K;++fe);if(ae[fe].id!=K)throw"Bad ColumnRowUIDMapArchive";var D=Fr(ae[fe].messages[0].data);D[1]=[],D[2]=[],D[3]=[];for(var A=0;A<=r.e.c;++A){var T=[];T[1]=T[2]=[{type:0,data:sn(A+420690)}],D[1].push({type:2,data:oi(T)}),D[2].push({type:0,data:sn(A)}),D[3].push({type:0,data:sn(A)})}D[4]=[],D[5]=[],D[6]=[];for(var P=0;P<=r.e.r;++P)T=[],T[1]=T[2]=[{type:0,data:sn(P+726270)}],D[4].push({type:2,data:oi(T)}),D[5].push({type:0,data:sn(P)}),D[6].push({type:0,data:sn(P)});ae[fe].messages[0].data=oi(D)}Q.content=op(sp(ae)),Q.size=Q.content.length,delete H[46];var L=Fr(H[4][0].data);{L[7][0].data=sn(r.e.r+1);var B=Fr(L[1][0].data),V=$l(B[2][0].data);Q=fn.find(l,a[V].location),ae=No(Oo(Q.content));{if(ae[0].id!=V)throw"Bad HeaderStorageBucket";var vt=Fr(ae[0].messages[0].data);for(P=0;P<s.length;++P){var Ge=Fr(vt[2][0].data);Ge[1][0].data=sn(P),Ge[4][0].data=sn(s[P].length),vt[2][P]={type:vt[2][0].type,data:oi(Ge)}}ae[0].messages[0].data=oi(vt)}Q.content=op(sp(ae)),Q.size=Q.content.length;var Rn=$l(L[2][0].data);Q=fn.find(l,a[Rn].location),ae=No(Oo(Q.content));{if(ae[0].id!=Rn)throw"Bad HeaderStorageBucket";for(vt=Fr(ae[0].messages[0].data),A=0;A<=r.e.c;++A)Ge=Fr(vt[2][0].data),Ge[1][0].data=sn(A),Ge[4][0].data=sn(r.e.r+1),vt[2][A]={type:vt[2][0].type,data:oi(Ge)};ae[0].messages[0].data=oi(vt)}Q.content=op(sp(ae)),Q.size=Q.content.length;var hn=$l(L[4][0].data);(function(){for(var Z=fn.find(l,a[hn].location),Y=No(Oo(Z.content)),xe,Fe=0;Fe<Y.length;++Fe){var Qe=Y[Fe];Qe.id==hn&&(xe=Qe)}var He=Fr(xe.messages[0].data);{He[3]=[];var Ae=[];o.forEach(function(Vn,rt){Ae[1]=[{type:0,data:sn(rt)}],Ae[2]=[{type:0,data:sn(1)}],Ae[3]=[{type:2,data:bve(Vn)}],He[3].push({type:2,data:oi(Ae)})})}xe.messages[0].data=oi(He);var kt=sp(Y),pt=op(kt);Z.content=pt,Z.size=Z.content.length})();var Pn=Fr(L[3][0].data);{var Mn=Pn[1][0];delete Pn[2];var Wt=Fr(Mn.data);{var Bn=$l(Wt[2][0].data);(function(){for(var Z=fn.find(l,a[Bn].location),Y=No(Oo(Z.content)),xe,Fe=0;Fe<Y.length;++Fe){var Qe=Y[Fe];Qe.id==Bn&&(xe=Qe)}var He=Fr(xe.messages[0].data);{delete He[6],delete Pn[7];var Ae=new Uint8Array(He[5][0].data);He[5]=[];for(var kt=0,pt=0;pt<=r.e.r;++pt){var Vn=Fr(Ae);kt+=Ive(Vn,s[pt],o),Vn[1][0].data=sn(pt),He[5].push({data:oi(Vn),type:2})}He[1]=[{type:0,data:sn(r.e.c+1)}],He[2]=[{type:0,data:sn(r.e.r+1)}],He[3]=[{type:0,data:sn(kt)}],He[4]=[{type:0,data:sn(r.e.r+1)}]}xe.messages[0].data=oi(He);var rt=sp(Y),Tn=op(rt);Z.content=Tn,Z.size=Z.content.length})()}Mn.data=oi(Wt)}L[3][0].data=oi(Pn)}H[4][0].data=oi(L)}y.messages[0].data=oi(H);var X=sp(m),le=op(X);return h.content=le,h.size=h.content.length,l}function Dve(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function CR(t){Dve([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function kve(t,e){return e.bookType=="ods"?C7(t,e):e.bookType=="numbers"?Ave(t,e):e.bookType=="xlsb"?Rve(t,e):Pve(t,e)}function Rve(t,e){cp=1024,t&&!t.SSF&&(t.SSF=as(Qn)),t&&t.SSF&&(u1(),l1(t.SSF),e.revssf=d1(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,lg?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=o7.indexOf(e.bookType)>-1,i=O$();CR(e=e||{});var s=iR(),o="",a=0;if(e.cellXfs=[],Kl(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",St(s,o,V$(t.Props,e)),i.coreprops.push(o),on(e.rels,2,o,Gt.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],l=0;l<t.SheetNames.length;++l)(t.Workbook.Sheets[l]||{}).Hidden!=2&&c.push(t.SheetNames[l]);t.Props.SheetNames=c}for(t.Props.Worksheets=t.Props.SheetNames.length,St(s,o,j$(t.Props,e)),i.extprops.push(o),on(e.rels,3,o,Gt.EXT_PROPS),t.Custprops!==t.Props&&di(t.Custprops||{}).length>0&&(o="docProps/custom.xml",St(s,o,$$(t.Custprops,e)),i.custprops.push(o),on(e.rels,4,o,Gt.CUST_PROPS)),a=1;a<=t.SheetNames.length;++a){var u={"!id":{}},f=t.Sheets[t.SheetNames[a-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+a+"."+n,St(s,o,Nge(a-1,o,e,t,u)),i.sheets.push(o),on(e.wbrels,-1,"worksheets/sheet"+a+"."+n,Gt.WS[0])}if(f){var m=f["!comments"],y=!1,_="";m&&m.length>0&&(_="xl/comments"+a+"."+n,St(s,_,Lge(m,_,e)),i.comments.push(_),on(u,-1,"../comments"+a+"."+n,Gt.CMNT),y=!0),f["!legacy"]&&y&&St(s,"xl/drawings/vmlDrawing"+a+".vml",i7(a,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&St(s,L$(o),dp(u))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+n,St(s,o,Fge(e.Strings,o,e)),i.strs.push(o),on(e.wbrels,-1,"sharedStrings."+n,Gt.SST)),o="xl/workbook."+n,St(s,o,Mge(t,o,e)),i.workbooks.push(o),on(e.rels,1,o,Gt.WB),o="xl/theme/theme1.xml",St(s,o,n7(t.Themes,e)),i.themes.push(o),on(e.wbrels,-1,"theme/theme1.xml",Gt.THEME),o="xl/styles."+n,St(s,o,Oge(t,o,e)),i.styles.push(o),on(e.wbrels,-1,"styles."+n,Gt.STY),t.vbaraw&&r&&(o="xl/vbaProject.bin",St(s,o,t.vbaraw),i.vba.push(o),on(e.wbrels,-1,"vbaProject.bin",Gt.VBA)),o="xl/metadata."+n,St(s,o,Bge(o)),i.metadata.push(o),on(e.wbrels,-1,"metadata."+n,Gt.XLMETA),St(s,"[Content_Types].xml",F$(i,e)),St(s,"_rels/.rels",dp(e.rels)),St(s,"xl/_rels/workbook."+n+".rels",dp(e.wbrels)),delete e.revssf,delete e.ssf,s}function Pve(t,e){cp=1024,t&&!t.SSF&&(t.SSF=as(Qn)),t&&t.SSF&&(u1(),l1(t.SSF),e.revssf=d1(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,lg?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=o7.indexOf(e.bookType)>-1,i=O$();CR(e=e||{});var s=iR(),o="",a=0;if(e.cellXfs=[],Kl(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",St(s,o,V$(t.Props,e)),i.coreprops.push(o),on(e.rels,2,o,Gt.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],l=0;l<t.SheetNames.length;++l)(t.Workbook.Sheets[l]||{}).Hidden!=2&&c.push(t.SheetNames[l]);t.Props.SheetNames=c}t.Props.Worksheets=t.Props.SheetNames.length,St(s,o,j$(t.Props,e)),i.extprops.push(o),on(e.rels,3,o,Gt.EXT_PROPS),t.Custprops!==t.Props&&di(t.Custprops||{}).length>0&&(o="docProps/custom.xml",St(s,o,$$(t.Custprops,e)),i.custprops.push(o),on(e.rels,4,o,Gt.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,a=1;a<=t.SheetNames.length;++a){var f={"!id":{}},h=t.Sheets[t.SheetNames[a-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+a+"."+n,St(s,o,m7(a-1,e,t,f)),i.sheets.push(o),on(e.wbrels,-1,"worksheets/sheet"+a+"."+n,Gt.WS[0])}if(h){var y=h["!comments"],_=!1,x="";if(y&&y.length>0){var M=!1;y.forEach(function(H){H[1].forEach(function(K){K.T==!0&&(M=!0)})}),M&&(x="xl/threadedComments/threadedComment"+a+"."+n,St(s,x,lpe(y,u,e)),i.threadedcomments.push(x),on(f,-1,"../threadedComments/threadedComment"+a+"."+n,Gt.TCMNT)),x="xl/comments"+a+"."+n,St(s,x,s7(y,e)),i.comments.push(x),on(f,-1,"../comments"+a+"."+n,Gt.CMNT),_=!0}h["!legacy"]&&_&&St(s,"xl/drawings/vmlDrawing"+a+".vml",i7(a,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&St(s,L$(o),dp(f))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+n,St(s,o,Y$(e.Strings,e)),i.strs.push(o),on(e.wbrels,-1,"sharedStrings."+n,Gt.SST)),o="xl/workbook."+n,St(s,o,y7(t,e)),i.workbooks.push(o),on(e.rels,1,o,Gt.WB),o="xl/theme/theme1.xml",St(s,o,n7(t.Themes,e)),i.themes.push(o),on(e.wbrels,-1,"theme/theme1.xml",Gt.THEME),o="xl/styles."+n,St(s,o,e7(t,e)),i.styles.push(o),on(e.wbrels,-1,"styles."+n,Gt.STY),t.vbaraw&&r&&(o="xl/vbaProject.bin",St(s,o,t.vbaraw),i.vba.push(o),on(e.wbrels,-1,"vbaProject.bin",Gt.VBA)),o="xl/metadata."+n,St(s,o,r7()),i.metadata.push(o),on(e.wbrels,-1,"metadata."+n,Gt.XLMETA),u.length>1&&(o="xl/persons/person.xml",St(s,o,upe(u,e)),i.people.push(o),on(e.wbrels,-1,"persons/person.xml",Gt.PEOPLE)),St(s,"[Content_Types].xml",F$(i,e)),St(s,"_rels/.rels",dp(e.rels)),St(s,"xl/_rels/workbook."+n+".rels",dp(e.wbrels)),delete e.revssf,delete e.ssf,s}function Mve(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=kc(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function S7(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return yg(e.file,fn.write(t,{type:Qt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return fn.write(t,e)}function Nve(t,e){var n=as(e||{}),r=kve(t,n);return Ove(r,n)}function Ove(t,e){var n={},r=Qt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?fn.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(c1(i))}return e.password&&typeof encrypt_agile<"u"?S7(encrypt_agile(i,e.password),e):e.type==="file"?yg(e.file,i):e.type=="string"?sg(i):i}function Fve(t,e){var n=e||{},r=Zge(t,n);return S7(r,n)}function Ta(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return fg(Tc(r));case"binary":return Tc(r);case"string":return t;case"file":return yg(e.file,r,"utf8");case"buffer":return Qt?Pc(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Ta(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Lve(t,e){switch(e.type){case"base64":return fg(t);case"binary":return t;case"string":return t;case"file":return yg(e.file,t,"binary");case"buffer":return Qt?Pc(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function KE(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?fg(n):e.type=="string"?sg(n):n;case"file":return yg(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function T7(t,e){lde(),Ege(t);var n=as(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=T7(t,n);return n.type="array",c1(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Ta(Yge(t,n),n);case"slk":case"sylk":return Ta(_he.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return Ta(w7(t.Sheets[t.SheetNames[i]],n),n);case"txt":return Lve(A7(t.Sheets[t.SheetNames[i]],n),n);case"csv":return Ta(SR(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return Ta(xhe.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return KE(yhe.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return Ta(whe.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return Ta(Ahe.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return Ta(X$.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return Ta(C7(t,n),n);case"wk1":return KE(Wj.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return KE(Wj.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),KE(x7(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),Fve(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Nve(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function Bve(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function I7(t,e,n){var r=n||{};return r.type="file",r.file=e,Bve(r),T7(t,r)}function Vve(t,e,n,r,i,s,o,a){var c=ui(n),l=a.defval,u=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),f=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch{h.__rowNum__=n}else h.__rowNum__=n;if(!o||t[n])for(var m=e.s.c;m<=e.e.c;++m){var y=o?t[n][m]:t[r[m]+c];if(y===void 0||y.t===void 0){if(l===void 0)continue;s[m]!=null&&(h[s[m]]=l);continue}var _=y.v;switch(y.t){case"z":if(_==null)break;continue;case"e":_=_==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[m]!=null){if(_==null)if(y.t=="e"&&_===null)h[s[m]]=null;else if(l!==void 0)h[s[m]]=l;else if(u&&_===null)h[s[m]]=null;else continue;else h[s[m]]=u&&(y.t!=="n"||y.t==="n"&&a.rawNumbers!==!1)?_:Rc(y,_,a);_!=null&&(f=!1)}}return{row:h,isempty:f}}function a1(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],o=0,a="",c={s:{r:0,c:0},e:{r:0,c:0}},l=e||{},u=l.range!=null?l.range:t["!ref"];switch(l.header===1?r=1:l.header==="A"?r=2:Array.isArray(l.header)?r=3:l.header==null&&(r=0),typeof u){case"string":c=kn(u);break;case"number":c=kn(t["!ref"]),c.s.r=u;break;default:c=u}r>0&&(i=0);var f=ui(c.s.r),h=[],m=[],y=0,_=0,x=Array.isArray(t),M=c.s.r,H=0,K={};x&&!t[M]&&(t[M]=[]);var Q=l.skipHidden&&t["!cols"]||[],ae=l.skipHidden&&t["!rows"]||[];for(H=c.s.c;H<=c.e.c;++H)if(!(Q[H]||{}).hidden)switch(h[H]=Ti(H),n=x?t[M][H]:t[h[H]+f],r){case 1:s[H]=H-c.s.c;break;case 2:s[H]=h[H];break;case 3:s[H]=l.header[H-c.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),a=o=Rc(n,null,l),_=K[o]||0,!_)K[o]=1;else{do a=o+"_"+_++;while(K[a]);K[o]=_,K[a]=1}s[H]=a}for(M=c.s.r+i;M<=c.e.r;++M)if(!(ae[M]||{}).hidden){var fe=Vve(t,c,M,h,r,s,x,l);(fe.isempty===!1||(r===1?l.blankrows!==!1:l.blankrows))&&(m[y++]=fe.row)}return m.length=y,m}var t$=/"/g;function Uve(t,e,n,r,i,s,o,a){for(var c=!0,l=[],u="",f=ui(n),h=e.s.c;h<=e.e.c;++h)if(r[h]){var m=a.dense?(t[n]||[])[h]:t[r[h]+f];if(m==null)u="";else if(m.v!=null){c=!1,u=""+(a.rawNumbers&&m.t=="n"?m.v:Rc(m,null,a));for(var y=0,_=0;y!==u.length;++y)if((_=u.charCodeAt(y))===i||_===s||_===34||a.forceQuotes){u='"'+u.replace(t$,'""')+'"';break}u=="ID"&&(u='"ID"')}else m.f!=null&&!m.F?(c=!1,u="="+m.f,u.indexOf(",")>=0&&(u='"'+u.replace(t$,'""')+'"')):u="";l.push(u)}return a.blankrows===!1&&c?null:l.join(o)}function SR(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=kn(t["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),a=r.RS!==void 0?r.RS:`
`,c=a.charCodeAt(0),l=new RegExp((s=="|"?"\\|":s)+"+$"),u="",f=[];r.dense=Array.isArray(t);for(var h=r.skipHidden&&t["!cols"]||[],m=r.skipHidden&&t["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(h[y]||{}).hidden||(f[y]=Ti(y));for(var _=0,x=i.s.r;x<=i.e.r;++x)(m[x]||{}).hidden||(u=Uve(t,i,x,f,o,c,s,r),u!=null&&(r.strip&&(u=u.replace(l,"")),(u||r.blankrows!==!1)&&n.push((_++?a:"")+u)));return delete r.dense,n.join("")}function A7(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=SR(t,e);if(typeof xn>"u"||e.type=="string")return n;var r=xn.utils.encode(1200,n,"str");return"\xFF\xFE"+r}function jve(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=kn(t["!ref"]),s="",o=[],a,c=[],l=Array.isArray(t);for(a=i.s.c;a<=i.e.c;++a)o[a]=Ti(a);for(var u=i.s.r;u<=i.e.r;++u)for(s=ui(u),a=i.s.c;a<=i.e.c;++a)if(e=o[a]+s,n=l?(t[u]||[])[a]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}c[c.length]=e+"="+r}return c}function D7(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},o=0,a=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var c=typeof r.origin=="string"?Yr(r.origin):r.origin;o=c.r,a=c.c}var l,u={s:{c:0,r:0},e:{c:a,r:o+e.length-1+i}};if(s["!ref"]){var f=kn(s["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(o=f.e.r+1,u.e.r=o+e.length-1+i)}else o==-1&&(o=0,u.e.r=e.length-1+i);var h=r.header||[],m=0;e.forEach(function(_,x){di(_).forEach(function(M){(m=h.indexOf(M))==-1&&(h[m=h.length]=M);var H=_[M],K="z",Q="",ae=cn({c:a+m,r:o+x+i});l=gg(s,ae),H&&typeof H=="object"&&!(H instanceof Date)?s[ae]=H:(typeof H=="number"?K="n":typeof H=="boolean"?K="b":typeof H=="string"?K="s":H instanceof Date?(K="d",r.cellDates||(K="n",H=os(H)),Q=r.dateNF||Qn[14]):H===null&&r.nullError&&(K="e",H=0),l?(l.t=K,l.v=H,delete l.w,delete l.R,Q&&(l.z=Q)):s[ae]=l={t:K,v:H},Q&&(l.z=Q))})}),u.e.c=Math.max(u.e.c,a+h.length-1);var y=ui(o);if(i)for(m=0;m<h.length;++m)s[Ti(m+a)+y]={t:"s",v:h[m]};return s["!ref"]=Er(u),s}function $ve(t,e){return D7(null,t,e)}function gg(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Yr(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?gg(t,cn(e)):gg(t,cn({r:e,c:n||0}))}function Hve(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function zve(){return{SheetNames:[],Sheets:{}}}function qve(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=o+i)!=-1;++i);}if(v7(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function Gve(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=Hve(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function Wve(t,e){return t.z=e,t}function k7(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function Kve(t,e,n){return k7(t,"#"+e,n)}function Xve(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function Yve(t,e,n,r){for(var i=typeof e!="string"?e:kn(e),s=typeof e=="string"?e:Er(e),o=i.s.r;o<=i.e.r;++o)for(var a=i.s.c;a<=i.e.c;++a){var c=gg(t,o,a);c.t="n",c.F=s,delete c.v,o==i.s.r&&a==i.s.c&&(c.f=n,r&&(c.D=!0))}return t}var Da={encode_col:Ti,encode_row:ui,encode_cell:cn,encode_range:Er,decode_col:pR,decode_row:hR,split_cell:dfe,decode_cell:Yr,decode_range:Fs,format_cell:Rc,sheet_add_aoa:D$,sheet_add_json:D7,sheet_add_dom:E7,aoa_to_sheet:yp,json_to_sheet:$ve,table_to_sheet:b7,table_to_book:xve,sheet_to_csv:SR,sheet_to_txt:A7,sheet_to_json:a1,sheet_to_html:w7,sheet_to_formulae:jve,sheet_to_row_object_array:a1,sheet_get_cell:gg,book_new:zve,book_append_sheet:qve,book_set_sheet_visibility:Gve,cell_set_number_format:Wve,cell_set_hyperlink:k7,cell_set_internal_link:Kve,cell_add_comment:Xve,sheet_set_array_formula:Yve,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};var uXe=ug.version;var ao=class t{constructor(e){this.firestore=e}getPacientes(){let e=Kn(this.firestore,"pacientes"),n=As(e,ew("fechaRegistro","asc"));return yc(n,{idField:"id"})}getEspecialistas(){let e=Kn(this.firestore,"especialistas"),n=As(e,ew("fechaRegistro","asc"));return yc(n,{idField:"id"})}getAdmins(){let e=Kn(this.firestore,"admins"),n=As(e,ew("fechaRegistro","asc"));return yc(n,{idField:"id"})}getEspecialistasPorEspecialidad(e){let n=Kn(this.firestore,"especialistas"),r=As(n,va("especialidades","array-contains",e));return yc(r,{idField:"id"})}getTurnos(e){let n=Kn(this.firestore,"turnos"),r=As(n,va("paciente.email","==",e));return yc(r,{idField:"id"})}getTurnosEspecialista(e){let n=Kn(this.firestore,"turnos"),r=As(n,va("especialista.email","==",e));return yc(r,{idField:"id"})}updateEstadoTurno(e,n){let r=_c(this.firestore,"turnos",e);return Ao(r,{estado:n})}cancelarTurno(e,n){let r=_c(this.firestore,"turnos",e);return Ao(r,{estado:"cancelado",comentario:n})}rechazarTurno(e,n){let r=_c(this.firestore,"turnos",e);return Ao(r,{estado:"rechazado",comentario:n})}finalizarTurno(e,n){let r=_c(this.firestore,"turnos",e);return Ao(r,{estado:"realizado",comentario:n})}calificarAtencion(e,n){let r=_c(this.firestore,"turnos",e);return Ao(r,{calificacion:n})}completarEncuesta(e,n){let r=_c(this.firestore,"turnos",e);return Ao(r,{encuesta:n})}static \u0275fac=function(n){return new(n||t)(st(nr))};static \u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})};var Zve=(t,e)=>({"bg-success":t,"bg-danger":e}),Jve=(t,e)=>({"btn-danger":t,"btn-success":e});function eye(t,e){if(t&1&&(S(0,"tr")(1,"td"),k(2),E(),S(3,"td"),k(4),E(),S(5,"td"),k(6),E(),S(7,"td"),k(8),E(),S(9,"td"),k(10),E(),S(11,"td"),k(12),E(),S(13,"td"),Ie(14,"img",29),E()()),t&2){let n=e.$implicit;q(2),tt(n.nombre),q(2),tt(n.apellido),q(2),tt(n.email),q(2),tt(n.dni),q(2),tt(n.edad),q(2),tt(n.obraSocial),q(2),ne("src",n.perfil1,Rr)}}function tye(t,e){if(t&1){let n=Ot();Ru(0),S(1,"app-pacient-form",30),Te("registrationSuccess",function(){ut(n);let i=Ce();return dt(i.handleRegistrationSuccess())}),E(),Pu()}if(t&2){let n=Ce();q(),ne("redirectToLogin",n.redirectToLogin)}}function nye(t,e){if(t&1){let n=Ot();Ru(0),S(1,"app-specialist-form",30),Te("registrationSuccess",function(){ut(n);let i=Ce();return dt(i.handleRegistrationSuccess())}),E(),Pu()}if(t&2){let n=Ce();q(),ne("redirectToLogin",n.redirectToLogin)}}function rye(t,e){if(t&1){let n=Ot();Ru(0),S(1,"app-admin-form",30),Te("registrationSuccess",function(){ut(n);let i=Ce();return dt(i.handleRegistrationSuccess())}),E(),Pu()}if(t&2){let n=Ce();q(),ne("redirectToLogin",n.redirectToLogin)}}function iye(t,e){if(t&1){let n=Ot();S(0,"tr")(1,"td"),k(2),E(),S(3,"td"),k(4),E(),S(5,"td"),k(6),E(),S(7,"td"),k(8),E(),S(9,"td"),k(10),E(),S(11,"td")(12,"button",31),Te("click",function(){let i=ut(n).$implicit,s=Ce();return dt(s.openSpecialtiesModal(i))}),k(13,"Ver Especialidades"),E()(),S(14,"td"),Ie(15,"img",29),E(),S(16,"td")(17,"span",32),k(18),E()(),S(19,"td")(20,"button",33),Te("click",function(){let i=ut(n).$implicit,s=Ce();return dt(s.toggleUserAccess(i.id,i.profileValidatedByAdmin))}),k(21),E()()()}if(t&2){let n=e.$implicit;q(2),tt(n.nombre),q(2),tt(n.apellido),q(2),tt(n.email),q(2),tt(n.dni),q(2),tt(n.edad),q(5),ne("src",n.perfil1,Rr),q(2),ne("ngClass",Xa(10,Zve,n.profileValidatedByAdmin,!n.profileValidatedByAdmin)),q(),Dt(" ",n.profileValidatedByAdmin?"Habilitado":"Deshabilitado"," "),q(2),ne("ngClass",Xa(13,Jve,n.profileValidatedByAdmin,!n.profileValidatedByAdmin)),q(),Dt(" ",n.profileValidatedByAdmin?"Inhabilitar":"Habilitar"," ")}}function sye(t,e){if(t&1&&(S(0,"li"),k(1),E()),t&2){let n=e.$implicit;q(),tt(n)}}function oye(t,e){if(t&1&&(S(0,"div")(1,"h6"),k(2),E(),S(3,"ul"),Se(4,sye,2,1,"li",9),E()()),t&2){let n=Ce();q(2),pi("",n.selectedSpecialist.nombre," ",n.selectedSpecialist.apellido,""),q(2),ne("ngForOf",n.selectedSpecialist.especialidades)}}function aye(t,e){if(t&1&&(S(0,"tr")(1,"td"),k(2),E(),S(3,"td"),k(4),E(),S(5,"td"),k(6),E(),S(7,"td"),k(8),E(),S(9,"td"),k(10),E(),S(11,"td"),Ie(12,"img",29),E()()),t&2){let n=e.$implicit;q(2),tt(n.nombre),q(2),tt(n.apellido),q(2),tt(n.email),q(2),tt(n.dni),q(2),tt(n.edad),q(2),ne("src",n.perfil1,Rr)}}var v1=class t{constructor(e,n,r){this.firestore=e;this.router=n;this.userService=r}arrPacientes=[];arrEspecialistas=[];arrAdmins=[];subPacientes;subEspecialistas;subAdmins;currentPagePacientes=1;itemsPerPagePacientes=5;currentPageEspecialistas=1;itemsPerPageEspecialistas=10;currentPageAdmins=1;itemsPerPageAdmins=5;selectedUserType=null;redirectToLogin=!1;ngOnInit(){this.currentPagePacientes=1,this.currentPageEspecialistas=1,this.currentPageAdmins=1,this.getUsers()}ngOnDestroy(){this.subPacientes.unsubscribe(),this.subEspecialistas.unsubscribe(),this.subAdmins.unsubscribe()}onPageChangePacientes(e){this.currentPagePacientes=e}onPageChangeEspecialistas(e){this.currentPageEspecialistas=e}onPageChangeAdmins(e){this.currentPageAdmins=e}getUsers(){this.getPacientes(),this.getEspecialistas(),this.getAdmins()}toggleUserAccess(e,n){return C(this,null,function*(){let r=_c(this.firestore,`especialistas/${e}`);try{yield Ao(r,{profileValidatedByAdmin:!n})}catch(i){console.error("Error al actualizar el estado del usuario:",i)}})}addUser(){}getPacientes(){this.subPacientes=this.userService.getPacientes().subscribe(e=>{this.arrPacientes=e})}getEspecialistas(){this.subEspecialistas=this.userService.getEspecialistas().subscribe(e=>{this.arrEspecialistas=e})}getAdmins(){this.subAdmins=this.userService.getAdmins().subscribe(e=>{this.arrAdmins=e})}openUserTypeModal(){let e=document.getElementById("userTypeModal");new window.bootstrap.Modal(e).show()}openUserForm(e){this.selectedUserType=e,new window.bootstrap.Modal(document.getElementById("userFormModal")).show()}handleRegistrationSuccess(){let e=document.getElementById("userFormModal");e&&(window.bootstrap.Modal.getInstance(e).hide(),this.selectedUserType=null)}selectedSpecialist;openSpecialtiesModal(e){this.selectedSpecialist=e,new window.bootstrap.Modal(document.getElementById("specialtiesModal")).show()}exportarUsuarios(){let n=[...this.arrEspecialistas].map(o=>({apellido:o.apellido,nombre:o.nombre,dni:o.dni,edad:o.edad,email:o.email,especialidades:o.especialidades.join(", "),imagen1:o.perfil1,perfilValidado:o.profileValidatedByAdmin})),r=[...this.arrPacientes];r=r.map(o=>({apellido:o.apellido,nombre:o.nombre,dni:o.dni,edad:o.edad,email:o.email,obraSocial:o.obraSocial,imagen1:o.perfil1,imagen2:o.perfil2}));let i=[...this.arrAdmins];i=i.map(o=>({apellido:o.apellido,nombre:o.nombre,dni:o.dni,edad:o.edad,email:o.email,imagen1:o.perfil1}));let s=this.exportarDisponibilidad();if(s.length>0||r.length>0||n.length>0||i.length>0){let o=Da.json_to_sheet(r),a=Da.json_to_sheet(i),c=Da.json_to_sheet(n),l=Da.json_to_sheet(s),u=Da.book_new();Da.book_append_sheet(u,o,"Pacientes"),Da.book_append_sheet(u,a,"Administradores"),Da.book_append_sheet(u,c,"Especialistas"),Da.book_append_sheet(u,l,"Disponibilidad Especialistas"),I7(u,"datos_usuarios.xlsx")}else console.log("No hay datos disponibles para exportar.")}exportarDisponibilidad(){let e=[];return this.arrEspecialistas.forEach(n=>{n.disponibilidades&&n.disponibilidades.forEach(r=>{let i={id:n.id,especialidad:r.especialidad,horaInicio:r.horaInicio,horaFin:r.horaFin,lunes:r.diasDisponibles.lunes?"Disponible":"No Disponible",martes:r.diasDisponibles.martes?"Disponible":"No Disponible",miercoles:r.diasDisponibles.miercoles?"Disponible":"No Disponible",jueves:r.diasDisponibles.jueves?"Disponible":"No Disponible",viernes:r.diasDisponibles.viernes?"Disponible":"No Disponible"};e.push(i)})}),console.log("Disponibilidades:",e),e}static \u0275fac=function(n){return new(n||t)(ge(nr),ge(ti),ge(ao))};static \u0275cmp=Et({type:t,selectors:[["app-usuarios"]],standalone:!0,features:[Ft],decls:117,vars:7,consts:[[1,"container","mt-4"],[1,"mb-4","text-center"],[1,"text-end","mb-3"],[1,"btn","btn-success",3,"click"],["data-bs-toggle","modal","data-bs-target","#userTypeModal",1,"btn","btn-primary"],[1,"mt-4"],[1,"table-responsive"],[1,"table","table-hover","table-bordered"],[1,"thead-light"],[4,"ngFor","ngForOf"],["id","userTypeModal","tabindex","-1","aria-labelledby","userTypeModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","userTypeModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","text-center"],[1,"btn","btn-primary","m-2",3,"click"],[1,"btn","btn-success","m-2",3,"click"],[1,"btn","btn-warning","m-2",3,"click"],["id","userFormModal","tabindex","-1","aria-labelledby","userFormModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],["id","userFormModalLabel",1,"modal-title"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","specialtiesModal","tabindex","-1","aria-labelledby","specialtiesModalLabel","aria-hidden","true",1,"modal","fade"],["id","specialtiesModalLabel",1,"modal-title"],["alt","Imagen de perfil",1,"img-thumbnail",3,"src"],[3,"registrationSuccess","redirectToLogin"],[1,"btn","btn-info",3,"click"],[1,"badge",3,"ngClass"],[1,"btn",3,"click","ngClass"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"h2",1),k(2,"Secci\xF3n de Usuarios"),E(),S(3,"div",2)(4,"button",3),Te("click",function(){return r.exportarUsuarios()}),k(5,"Exportar Usuarios"),E()(),S(6,"div",2)(7,"button",4),k(8," Agregar Usuario "),E()(),S(9,"h3",5),k(10,"Pacientes"),E(),S(11,"div",6)(12,"table",7)(13,"thead",8)(14,"tr")(15,"th"),k(16,"Nombre"),E(),S(17,"th"),k(18,"Apellido"),E(),S(19,"th"),k(20,"Email"),E(),S(21,"th"),k(22,"DNI"),E(),S(23,"th"),k(24,"Edad"),E(),S(25,"th"),k(26,"Obra Social"),E(),S(27,"th"),k(28,"Imagen"),E()()(),S(29,"tbody"),Se(30,eye,15,7,"tr",9),E()()(),S(31,"div",10)(32,"div",11)(33,"div",12)(34,"div",13)(35,"h5",14),k(36,"Seleccionar Tipo de Usuario"),E(),Ie(37,"button",15),E(),S(38,"div",16)(39,"button",17),Te("click",function(){return r.openUserForm("paciente")}),k(40,"Crear Paciente"),E(),S(41,"button",18),Te("click",function(){return r.openUserForm("especialista")}),k(42,"Crear Especialista"),E(),S(43,"button",19),Te("click",function(){return r.openUserForm("administrador")}),k(44,"Crear Administrador"),E()()()()(),S(45,"div",20)(46,"div",21)(47,"div",12)(48,"div",13)(49,"h5",22),k(50,"Agregar Usuario"),E(),Ie(51,"button",15),E(),S(52,"div",23),Se(53,tye,2,1,"ng-container",24)(54,nye,2,1,"ng-container",24)(55,rye,2,1,"ng-container",24),E(),S(56,"div",25)(57,"button",26),k(58,"Cerrar"),E()()()()(),S(59,"h3",5),k(60,"Especialistas"),E(),S(61,"div",6)(62,"table",7)(63,"thead",8)(64,"tr")(65,"th"),k(66,"Nombre"),E(),S(67,"th"),k(68,"Apellido"),E(),S(69,"th"),k(70,"Email"),E(),S(71,"th"),k(72,"DNI"),E(),S(73,"th"),k(74,"Edad"),E(),S(75,"th"),k(76,"Especialidades"),E(),S(77,"th"),k(78,"Imagen"),E(),S(79,"th"),k(80,"Estado"),E(),S(81,"th"),k(82,"Acci\xF3n"),E()()(),S(83,"tbody"),Se(84,iye,22,16,"tr",9),E()()(),S(85,"div",27)(86,"div",21)(87,"div",12)(88,"div",13)(89,"h5",28),k(90,"Especialidades"),E(),Ie(91,"button",15),E(),S(92,"div",23),Se(93,oye,5,3,"div",24),E(),S(94,"div",25)(95,"button",26),k(96,"Cerrar"),E()()()()(),S(97,"h3",5),k(98,"Administradores"),E(),S(99,"div",6)(100,"table",7)(101,"thead",8)(102,"tr")(103,"th"),k(104,"Nombre"),E(),S(105,"th"),k(106,"Apellido"),E(),S(107,"th"),k(108,"Email"),E(),S(109,"th"),k(110,"DNI"),E(),S(111,"th"),k(112,"Edad"),E(),S(113,"th"),k(114,"Imagen"),E()()(),S(115,"tbody"),Se(116,aye,13,6,"tr",9),E()()()()),n&2&&(q(30),ne("ngForOf",r.arrPacientes),q(23),ne("ngIf",r.selectedUserType==="paciente"),q(),ne("ngIf",r.selectedUserType==="especialista"),q(),ne("ngIf",r.selectedUserType==="administrador"),q(29),ne("ngForOf",r.arrEspecialistas),q(9),ne("ngIf",r.selectedSpecialist),q(23),ne("ngForOf",r.arrAdmins))},dependencies:[_n,sl,hr,dn,tp,np,VE],styles:[".container[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:20px;box-shadow:0 2px 10px #0000001a}.table[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-radius:10px;overflow:hidden}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.img-thumbnail[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover}.badge[_ngcontent-%COMP%]{font-size:.9rem;padding:.5em .75em}th[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}thead[_ngcontent-%COMP%]{background-color:#e9ecef}.btn[_ngcontent-%COMP%]{transition:background-color .3s ease;border-radius:5px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333}.btn-success[_ngcontent-%COMP%]{background-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}@media (max-width: 768px){.img-thumbnail[_ngcontent-%COMP%]{width:40px;height:40px}}"]})};var wp=class t{constructor(e){this.firestore=e}setTurno(e){return Al(Kn(this.firestore,"turnos"),e)}getTurnos(){return yc(Kn(this.firestore,"turnos"),{idField:"id"})}static \u0275fac=function(n){return new(n||t)(st(nr))};static \u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"})};function cye(t,e){t&1&&(S(0,"h2"),k(1,"Seleccione un paciente"),E())}function lye(t,e){if(t&1){let n=Ot();S(0,"button",10),Te("click",function(){let i=ut(n).$implicit,s=Ce(2);return dt(s.onPacienteSelect(i))}),S(1,"div",11)(2,"p"),k(3),E(),Ie(4,"img",12),E()()}if(t&2){let n=e.$implicit;q(3),pi("",n.nombre," ",n.apellido,""),q(),dr("alt",n.nombre+n.apellido),ne("src",n.perfil1,Rr)}}function uye(t,e){if(t&1&&(S(0,"div",8),Se(1,lye,5,4,"button",9),E()),t&2){let n=Ce();q(),ne("ngForOf",n.pacientes)}}function dye(t,e){t&1&&(S(0,"h2",13),k(1,"Seleccione una Especialidad"),E())}function fye(t,e){if(t&1){let n=Ot();S(0,"button",15),Te("click",function(){let i=ut(n).$implicit,s=Ce(2);return dt(s.onEspecialidadSelect(i))}),Ie(1,"img",12),E()}if(t&2){let n=e.$implicit,r=Ce(2);q(),dr("alt",n),ne("src",r.obtenerRutaImagen(n),Rr)}}function hye(t,e){if(t&1&&(S(0,"div",8),Se(1,fye,2,2,"button",14),E()),t&2){let n=Ce();q(),ne("ngForOf",n.especialidades)}}function pye(t,e){if(t&1){let n=Ot();S(0,"button",19),Te("click",function(){let i=ut(n).$implicit,s=Ce(2);return dt(s.onEspecialistaSelect(i))}),S(1,"div",11)(2,"p"),k(3),E(),Ie(4,"img",20),E()()}if(t&2){let n=e.$implicit;q(3),pi("",n.nombre," ",n.apellido,""),q(),dr("alt",n.nombre),ne("src",n.perfil1,Rr)}}function mye(t,e){if(t&1&&(S(0,"div",16)(1,"h3"),k(2,"Seleccione un Profesional"),E(),S(3,"div",17),Se(4,pye,5,4,"button",18),E()()),t&2){let n=Ce();q(4),ne("ngForOf",n.arrEspecialistas)}}function gye(t,e){t&1&&(S(0,"h3"),k(1,"Seleccione un D\xEDa y Hora"),E())}function vye(t,e){if(t&1){let n=Ot();S(0,"button",26),Te("click",function(){let i=ut(n).$implicit,s=Ce(3);return dt(s.onDiaSelect(i))}),k(1),mi(2,"date"),E()}if(t&2){let n=e.$implicit;q(),Dt(" ",wo(2,1,n.fecha,"dd/MM")," ")}}function yye(t,e){if(t&1&&(S(0,"div",24),Se(1,vye,3,4,"button",25),E()),t&2){let n=Ce(2);q(),ne("ngForOf",n.diasDisponibles)}}function _ye(t,e){if(t&1){let n=Ot();S(0,"button",29),Te("click",function(){let i=ut(n).$implicit,s=Ce(3);return dt(s.onHoraSelect(i))}),k(1),E()}if(t&2){let n=e.$implicit;q(),Dt(" ",n," ")}}function xye(t,e){if(t&1&&(S(0,"div",27),Se(1,_ye,2,1,"button",28),E()),t&2){let n=Ce(2);q(),ne("ngForOf",n.horariosDisponibles)}}function wye(t,e){if(t&1&&(S(0,"div",21),Se(1,gye,2,0,"h3",1)(2,yye,2,1,"div",22)(3,xye,2,1,"div",23),E()),t&2){let n=Ce();q(),ne("ngIf",!n.mostrarConfirmarTurno),q(),ne("ngIf",n.selectedDia==""),q(),ne("ngIf",n.selectedDia&&!n.mostrarConfirmarTurno)}}function Eye(t,e){if(t&1&&(S(0,"p"),k(1),E()),t&2){let n=Ce(2);q(),pi("Paciente: ",n.paciente.nombre," ",n.paciente.apellido,"")}}function bye(t,e){if(t&1){let n=Ot();S(0,"div",30)(1,"h3"),k(2,"Confirmar Turno"),E(),S(3,"div",31),Se(4,Eye,2,2,"p",1),S(5,"p"),k(6),E(),S(7,"p"),k(8),E(),S(9,"p"),k(10),E(),S(11,"p"),k(12),E()(),S(13,"button",32),Te("click",function(){ut(n);let i=Ce();return dt(i.onConfirmarTurno())}),k(14,"Confirmar Turno"),E()()}if(t&2){let n=Ce();q(4),ne("ngIf",n.isAdmin),q(2),pi("Profesional: ",n.selectedEspecialista.nombre," ",n.selectedEspecialista.apellido,""),q(2),Dt("Especialidad: ",n.selectedEspecialidad,""),q(2),Dt("D\xEDa: ",n.selectedDia,""),q(2),Dt("Hora: ",n.selectedHora,"")}}function Cye(t,e){if(t&1){let n=Ot();S(0,"button",33),Te("click",function(){ut(n);let i=Ce();return dt(i.onVolver())}),k(1,"Volver"),E()}}var y1=class t{constructor(e,n,r,i){this.userService=e;this.turnoService=n;this.router=r;this.datePipe=i}arrEspecialistas=[];especialidades=[];selectedEspecialidad="";selectedEspecialista;selectedDia="";selectedHora="";especialidadSeleccionada=!1;especialistaSeleccionado=!1;mostrarDisponibilidad=!1;mostrarConfirmarTurno=!1;diasDeLaSemana=["lunes","martes","miercoles","jueves","viernes"];disponibilidadDias={};horariosDisponibles=[];diasDisponibles=[];fechaLimite=new Date;fechaMaxima=new Date(this.fechaLimite.getTime()+15*24*60*60*1e3);turnos=[];disponibilidadesSeleccionadas;isAdmin=!1;isPaciente=!1;pacientes=[];pacienteSeleccionado=!1;mostrarEspecialidades=!0;paciente;ngOnInit(){let e=localStorage.getItem("user");if(e){let n=JSON.parse(e);n.especialidades?this.router.navigate(["/home"]):n.isAdmin?this.isAdmin=!0:(this.isAdmin=!1,this.isPaciente=!0)}this.isAdmin&&this.userService.getPacientes().subscribe(n=>{this.pacientes=n}),this.loadEspecialidades(),this.turnoService.getTurnos().subscribe(n=>{this.turnos=n})}loadEspecialidades(){this.userService.getEspecialistas().subscribe(e=>{let n=new Set;for(let r of e)r.especialidades&&r.especialidades.forEach(i=>{n.add(i)});this.especialidades=Array.from(n)})}onPacienteSelect(e){console.log("Paciente seleccionado:",e),this.pacienteSeleccionado=!0,this.mostrarEspecialidades=!0,this.paciente=e}onEspecialidadSelect(e){this.selectedEspecialidad=e,this.especialidadSeleccionada=!0,this.mostrarEspecialidades=!1,console.log(`Especialidad seleccionada: ${e}`),this.resetDisponibilidad(),this.onEspecialidadChange()}onEspecialistaSelect(e){this.selectedEspecialista=e,this.especialistaSeleccionado=!0,this.resetDisponibilidad(),e.disponibilidades?this.onEspecialistaChange(e):this.resetDisponibilidad()}onEspecialidadChange(){this.selectedEspecialidad?this.userService.getEspecialistasPorEspecialidad(this.selectedEspecialidad).subscribe(e=>{this.arrEspecialistas=e}):this.arrEspecialistas=[]}onDiaSelect(e){this.selectedDia=this.datePipe.transform(e.fecha,"dd/MM"),console.log(`D\xEDa seleccionado: ${this.selectedDia}`),this.generateHorarios(this.disponibilidadesSeleccionadas.horaInicio,this.disponibilidadesSeleccionadas.horaFin)}onHoraSelect(e){this.selectedHora=e,console.log(`Hora seleccionada: ${e}`),console.log(`fecha y hora seleccionada: ${this.selectedDia} ${this.selectedHora}`),this.mostrarConfirmarTurno=!0}obtenerRutaImagen(e){return e=="psicologia"?`media/${e.toLowerCase()}.png`:e=="cirugia"||e=="pediatria"||e=="psiquiatria"?`media/${e.toLowerCase()}.jpeg`:e=="cardiologia"||e=="odontologia"||e=="pedagogia"?`media/${e.toLowerCase()}.jpg`:"media/fondo_azul.jpeg"}onEspecialistaChange(e){let n=e?.disponibilidades.find(r=>r.especialidad===this.selectedEspecialidad);n&&(console.log("Disponibilidades seleccionadas:",n),this.disponibilidadDias=n.diasDisponibles,this.diasDisponibles=this.getDiasDisponibles(this.disponibilidadDias),this.mostrarDisponibilidad=!0,this.disponibilidadesSeleccionadas=n)}resetDisponibilidad(){this.disponibilidadDias={},this.diasDisponibles=[],this.horariosDisponibles=[]}getDiasDisponibles(e){let n=[],r=new Date,i=this.fechaMaxima;return this.diasDeLaSemana.forEach(s=>{if(e[s]){let o=this.obtenerFechaParaDia(s,r);for(;o<=i;)o>=r&&o<=i&&n.push({dia:s,fecha:new Date(o)}),o.setDate(o.getDate()+7)}}),n.sort((s,o)=>s.fecha-o.fecha),n}obtenerFechaParaDia(e,n){let i=["domingo","lunes","martes","miercoles","jueves","viernes","sabado"].indexOf(e),s=new Date(n);return s.setDate(n.getDate()+(i-n.getDay()+7)%7),s.setHours(0,0,0,0),s}generateHorarios(e,n){let r=[],i=this.timeToMinutes(e),s=this.timeToMinutes(n),o=30;if(!this.turnos||this.turnos.length===0){console.log("No hay turnos disponibles.");return}let a=this.turnos.filter(u=>u.especialista?.id===this.selectedEspecialista.id&&u.especialidad===this.selectedEspecialidad&&u.dia===this.selectedDia);console.log("Horarios ocupados:",a);let c=new Set(a.map(u=>u.hora));console.log("Horarios ocupados (Set):",c);for(let u=i;u<=s;u+=o)r.push(this.minutesToTime(u));let l=r.filter(u=>!c.has(u));console.log("Horarios disponibles:",l),this.horariosDisponibles=l}timeToMinutes(e){let[n,r]=e.split(":").map(Number);return n*60+r}minutesToTime(e){let n=Math.floor(e/60),r=e%60;return`${this.padZero(n)}:${this.padZero(r)}`}padZero(e){return e<10?`0${e}`:`${e}`}onVolver(){this.isPaciente?(this.especialidadSeleccionada=!1,this.especialistaSeleccionado=!1,this.mostrarDisponibilidad=!1,this.mostrarConfirmarTurno=!1,this.selectedDia="",this.resetDisponibilidad()):(this.pacienteSeleccionado=!1,this.mostrarEspecialidades=!1,this.especialidadSeleccionada=!1,this.especialistaSeleccionado=!1,this.mostrarDisponibilidad=!1,this.mostrarConfirmarTurno=!1,this.selectedDia="",this.resetDisponibilidad())}onConfirmarTurno(){let e=null,n=null;if(this.isAdmin)n={nombre:this.selectedEspecialista.nombre,apellido:this.selectedEspecialista.apellido,email:this.selectedEspecialista.email,id:this.selectedEspecialista.id},e={nombre:this.paciente.nombre,apellido:this.paciente.apellido,email:this.paciente.email};else{let i=localStorage.getItem("user"),s="";if(e={nombre:String,apellido:String,email:String},i){let o=JSON.parse(i);s=o.email,e.nombre=o.nombre,e.apellido=o.apellido,e.email=o.email}n={nombre:this.selectedEspecialista.nombre,apellido:this.selectedEspecialista.apellido,email:this.selectedEspecialista.email,id:this.selectedEspecialista.id}}let r={especialidad:this.selectedEspecialidad,especialista:n,dia:this.selectedDia,hora:this.selectedHora,paciente:e,estado:"pendiente"};console.log("Turno enviado:",r),this.turnoService.setTurno(r).then(()=>{console.log("Turno guardado correctamente")}).catch(i=>{console.error("Error al guardar el turno:",i)}),this.router.navigate(["/mis-turnos"])}static \u0275fac=function(n){return new(n||t)(ge(ao),ge(wp),ge(ti),ge(pm))};static \u0275cmp=Et({type:t,selectors:[["app-solicitar-turno"]],standalone:!0,features:[Ni([pm,Yy]),Ft],decls:9,vars:8,consts:[[1,"form-container"],[4,"ngIf"],["class","especialidades-container",4,"ngIf"],["class","mb-3",4,"ngIf"],["class","profesionales-container",4,"ngIf"],["class","dias-horarios-container",4,"ngIf"],["class","confirmar-turno-container",4,"ngIf"],["class","btn btn-secondary float-start mt-3",3,"click",4,"ngIf"],[1,"especialidades-container"],["class","paciente-button",3,"click",4,"ngFor","ngForOf"],[1,"paciente-button",3,"click"],[1,"profesional-info"],[1,"especialidad-img",3,"src","alt"],[1,"mb-3"],["class","especialidad-button",3,"click",4,"ngFor","ngForOf"],[1,"especialidad-button",3,"click"],[1,"profesionales-container"],[1,"profesionales-list"],["class","profesional-button",3,"click",4,"ngFor","ngForOf"],[1,"profesional-button",3,"click"],[1,"profesional-img",3,"src","alt"],[1,"dias-horarios-container"],["class","dias-list",4,"ngIf"],["class","horarios-list",4,"ngIf"],[1,"dias-list"],["class","dia-button",3,"click",4,"ngFor","ngForOf"],[1,"dia-button",3,"click"],[1,"horarios-list"],["class","horario-button",3,"click",4,"ngFor","ngForOf"],[1,"horario-button",3,"click"],[1,"confirmar-turno-container"],[1,"confirmar-turno-info"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary","float-start","mt-3",3,"click"]],template:function(n,r){n&1&&(S(0,"div",0),Se(1,cye,2,0,"h2",1)(2,uye,2,1,"div",2)(3,dye,2,0,"h2",3)(4,hye,2,1,"div",2)(5,mye,5,1,"div",4)(6,wye,4,3,"div",5)(7,bye,15,6,"div",6)(8,Cye,2,0,"button",7),E()),n&2&&(q(),ne("ngIf",!r.pacienteSeleccionado&&!r.isPaciente),q(),ne("ngIf",!r.pacienteSeleccionado&&!r.isPaciente),q(),ne("ngIf",!r.especialidadSeleccionada&&!r.isAdmin||r.pacienteSeleccionado&&r.mostrarEspecialidades),q(),ne("ngIf",!r.especialidadSeleccionada&&!r.isAdmin||r.pacienteSeleccionado&&r.mostrarEspecialidades),q(),ne("ngIf",r.especialidadSeleccionada&&r.arrEspecialistas.length>0&&!r.mostrarDisponibilidad),q(),ne("ngIf",r.mostrarDisponibilidad&&r.diasDisponibles.length>0),q(),ne("ngIf",r.selectedHora&&r.mostrarConfirmarTurno),q(),ne("ngIf",r.especialidadSeleccionada))},dependencies:[dl,_n,hr,dn,pm],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:60vh;text-align:center;background-color:#f0f0f0;padding:20px;max-width:1200px;margin:50px auto}.especialidades-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;justify-content:center;margin-top:20px}.especialidad-button[_ngcontent-%COMP%]{background-color:#f0f0f0;border:none;border-radius:10px;cursor:pointer;padding:0;box-shadow:0 4px 6px #0000001a;transition:transform .2s;width:150px;height:150px;display:flex;justify-content:center;align-items:center;margin-bottom:auto}.especialidad-button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.especialidad-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:10px}.profesionales-container[_ngcontent-%COMP%]{margin-top:40px;display:flex;flex-direction:column;align-items:center;width:100%}.profesionales-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;margin-top:20px}.profesional-button[_ngcontent-%COMP%]{background-color:#fff;border:2px solid #ddd;border-radius:10px;width:200px;height:150px;cursor:pointer;transition:box-shadow .3s ease;display:flex;flex-direction:column;justify-content:center;align-items:center;box-shadow:0 4px 6px #0000001a}.profesional-button[_ngcontent-%COMP%]:hover{box-shadow:0 6px 8px #0003}.profesional-img[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;border-radius:50%;margin-bottom:10px}.profesional-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;font-size:14px;text-align:center;color:#333}.paciente-button[_ngcontent-%COMP%]{background-color:#f0f0f0;border:none;border-radius:10px;cursor:pointer;padding:0;box-shadow:0 4px 6px #0000001a;transition:transform .2s;width:150px;height:150px;display:flex;justify-content:center;align-items:center;margin-bottom:45px}.dia-button[_ngcontent-%COMP%], .horario-button[_ngcontent-%COMP%]{background-color:#f0f0f0;border:none;border-radius:10px;padding:10px;margin:5px;cursor:pointer;width:180px;text-align:center;font-size:16px}.dia-button[_ngcontent-%COMP%]:hover, .horario-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.dias-list[_ngcontent-%COMP%], .horarios-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.dia-button[_ngcontent-%COMP%], .horario-button[_ngcontent-%COMP%]{width:180px}.volver-btn[_ngcontent-%COMP%]{margin-left:0;display:inline-block}"]})};function Sye(t,e){if(t&1){let n=Ot();S(0,"a",12),Te("keyup.enter",function(){ut(n),Ce(3);let i=Gs(1);return dt(i.previous())})("click",function(){ut(n),Ce(3);let i=Gs(1);return dt(i.previous())}),k(1),S(2,"span",13),k(3),E()()}if(t&2){let n=Ce(3);q(),Dt(" ",n.previousLabel," "),q(2),tt(n.screenReaderPageLabel)}}function Tye(t,e){if(t&1&&(S(0,"span",14),k(1),S(2,"span",13),k(3),E()()),t&2){let n=Ce(3);q(),Dt(" ",n.previousLabel," "),q(2),tt(n.screenReaderPageLabel)}}function Iye(t,e){if(t&1&&(S(0,"li",9),Se(1,Sye,4,2,"a",10)(2,Tye,4,2,"span",11),E()),t&2){Ce(2);let n=Gs(1);Ka("disabled",n.isFirstPage()),q(),ne("ngIf",1<n.getCurrent()),q(),ne("ngIf",n.isFirstPage())}}function Aye(t,e){if(t&1){let n=Ot();S(0,"a",12),Te("keyup.enter",function(){ut(n);let i=Ce().$implicit;Ce(2);let s=Gs(1);return dt(s.setCurrent(i.value))})("click",function(){ut(n);let i=Ce().$implicit;Ce(2);let s=Gs(1);return dt(s.setCurrent(i.value))}),S(1,"span",13),k(2),E(),S(3,"span"),k(4),mi(5,"number"),E()()}if(t&2){let n=Ce().$implicit,r=Ce(2);q(2),Dt("",r.screenReaderPageLabel," "),q(2),tt(n.label==="..."?n.label:wo(5,2,n.label,""))}}function Dye(t,e){if(t&1&&(Ru(0),S(1,"span",16)(2,"span",13),k(3),E(),S(4,"span"),k(5),mi(6,"number"),E()(),Pu()),t&2){let n=Ce().$implicit,r=Ce(2);q(3),Dt("",r.screenReaderCurrentLabel," "),q(2),tt(n.label==="..."?n.label:wo(6,2,n.label,""))}}function kye(t,e){if(t&1&&(S(0,"li"),Se(1,Aye,6,5,"a",10)(2,Dye,7,5,"ng-container",15),E()),t&2){let n=e.$implicit;Ce(2);let r=Gs(1);Ka("current",r.getCurrent()===n.value)("ellipsis",n.label==="..."),q(),ne("ngIf",r.getCurrent()!==n.value),q(),ne("ngIf",r.getCurrent()===n.value)}}function Rye(t,e){if(t&1){let n=Ot();S(0,"a",12),Te("keyup.enter",function(){ut(n),Ce(3);let i=Gs(1);return dt(i.next())})("click",function(){ut(n),Ce(3);let i=Gs(1);return dt(i.next())}),k(1),S(2,"span",13),k(3),E()()}if(t&2){let n=Ce(3);q(),Dt(" ",n.nextLabel," "),q(2),tt(n.screenReaderPageLabel)}}function Pye(t,e){if(t&1&&(S(0,"span",14),k(1),S(2,"span",13),k(3),E()()),t&2){let n=Ce(3);q(),Dt(" ",n.nextLabel," "),q(2),tt(n.screenReaderPageLabel)}}function Mye(t,e){if(t&1&&(S(0,"li",17),Se(1,Rye,4,2,"a",10)(2,Pye,4,2,"span",11),E()),t&2){Ce(2);let n=Gs(1);Ka("disabled",n.isLastPage()),q(),ne("ngIf",!n.isLastPage()),q(),ne("ngIf",n.isLastPage())}}function Nye(t,e){if(t&1&&(S(0,"ul",4),Se(1,Iye,3,4,"li",5),S(2,"li",6),k(3),E(),Se(4,kye,3,6,"li",7)(5,Mye,3,4,"li",8),E()),t&2){let n=Ce(),r=Gs(1);Ka("responsive",n.responsive),q(),ne("ngIf",n.directionLinks),q(2),pi(" ",r.getCurrent()," / ",r.getLastPage()," "),q(),ne("ngForOf",r.pages)("ngForTrackBy",n.trackByIndex),q(),ne("ngIf",n.directionLinks)}}var bg=class{constructor(){this.change=new It,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(e){return e.id==null&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)}updateInstance(e){let n=!1;for(let r in this.instances[e.id])e[r]!==this.instances[e.id][r]&&(this.instances[e.id][r]=e[r],n=!0);return n}getCurrentPage(e){return this.instances[e]?this.instances[e].currentPage:1}setCurrentPage(e,n){if(this.instances[e]){let r=this.instances[e],i=Math.ceil(r.totalItems/r.itemsPerPage);n<=i&&1<=n&&(this.instances[e].currentPage=n,this.change.emit(e))}}setTotalItems(e,n){this.instances[e]&&0<=n&&(this.instances[e].totalItems=n,this.change.emit(e))}setItemsPerPage(e,n){this.instances[e]&&(this.instances[e].itemsPerPage=n,this.change.emit(e))}getInstance(e=this.DEFAULT_ID){return this.instances[e]?this.clone(this.instances[e]):{}}clone(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}},Oye=Number.MAX_SAFE_INTEGER,Ep=(()=>{class t{constructor(n){this.service=n,this.state={}}transform(n,r){if(!(n instanceof Array)){let f=r.id||this.service.defaultId();return this.state[f]?this.state[f].slice:n}let i=r.totalItems&&r.totalItems!==n.length,s=this.createInstance(n,r),o=s.id,a,c,l=s.itemsPerPage,u=this.service.register(s);if(!i&&n instanceof Array){if(l=+l||Oye,a=(s.currentPage-1)*l,c=a+l,this.stateIsIdentical(o,n,a,c))return this.state[o].slice;{let h=n.slice(a,c);return this.saveState(o,n,h,a,c),this.service.change.emit(o),h}}else return u&&this.service.change.emit(o),this.saveState(o,n,n,a,c),n}createInstance(n,r){return this.checkConfig(r),{id:r.id!=null?r.id:this.service.defaultId(),itemsPerPage:+r.itemsPerPage||0,currentPage:+r.currentPage||1,totalItems:+r.totalItems||n.length}}checkConfig(n){let i=["itemsPerPage","currentPage"].filter(s=>!(s in n));if(0<i.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${i.join(", ")}`)}saveState(n,r,i,s,o){this.state[n]={collection:r,size:r.length,slice:i,start:s,end:o}}stateIsIdentical(n,r,i,s){let o=this.state[n];return!o||!(o.size===r.length&&o.start===i&&o.end===s)?!1:o.slice.every((c,l)=>c===r[i+l])}}return t.\u0275fac=function(n){return new(n||t)(ge(bg,16))},t.\u0275pipe=Au({name:"paginate",type:t,pure:!1}),t})();var Fye=(()=>{class t{constructor(n,r){this.service=n,this.changeDetectorRef=r,this.maxSize=7,this.pageChange=new It,this.pageBoundsCorrection=new It,this.pages=[],this.changeSub=this.service.change.subscribe(i=>{this.id===i&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){this.id===void 0&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(n){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return this.getCurrent()===1}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(n){this.pageChange.emit(n)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let n=this.service.getInstance(this.id);return n.totalItems<1?1:Math.ceil(n.totalItems/n.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){this.service.getInstance(this.id).id==null&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let n=this.service.getInstance(this.id),r=this.outOfBoundCorrection(n);r!==n.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(r),this.pages=this.createPageArray(n.currentPage,n.itemsPerPage,n.totalItems,this.maxSize)}):this.pages=this.createPageArray(n.currentPage,n.itemsPerPage,n.totalItems,this.maxSize)}outOfBoundCorrection(n){let r=Math.ceil(n.totalItems/n.itemsPerPage);return r<n.currentPage&&0<r?r:n.currentPage<1?1:n.currentPage}createPageArray(n,r,i,s){s=+s;let o=[],a=Math.max(Math.ceil(i/r),1),c=Math.ceil(s/2),l=n<=c,u=a-c<n,f=!l&&!u,h=s<a,m=1;for(;m<=a&&m<=s;){let y,_=this.calculatePageNumber(m,n,s,a),x=m===2&&(f||u),M=m===s-1&&(f||l);h&&(x||M)?y="...":y=_,o.push({label:y,value:_}),m++}return o}calculatePageNumber(n,r,i,s){let o=Math.ceil(i/2);return n===i?s:n===1?n:i<s?s-o<r?s-i+n:o<r?r-o+n:n:n}}return t.\u0275fac=function(n){return new(n||t)(ge(bg),ge(Ya))},t.\u0275dir=Kt({type:t,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[zs]}),t})();function TR(t){return!!t&&t!=="false"}var bp=(()=>{class t{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new It,this.pageBoundsCorrection=new It,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(n){this._directionLinks=TR(n)}get autoHide(){return this._autoHide}set autoHide(n){this._autoHide=TR(n)}get responsive(){return this._responsive}set responsive(n){this._responsive=TR(n)}trackByIndex(n){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Et({type:t,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[["p","paginationApi"],[3,"pageChange","pageBoundsCorrection","id","maxSize"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(n,r){if(n&1){let i=Ot();S(0,"pagination-template",1,0),Te("pageChange",function(o){return ut(i),dt(r.pageChange.emit(o))})("pageBoundsCorrection",function(o){return ut(i),dt(r.pageBoundsCorrection.emit(o))}),S(2,"nav",2),Se(3,Nye,6,8,"ul",3),E()()}if(n&2){let i=Gs(1);ne("id",r.id)("maxSize",r.maxSize),q(2),Wa("aria-label",r.screenReaderPaginationLabel),q(),ne("ngIf",!(r.autoHide&&i.pages.length<=1))}},dependencies:[Fye,dn,hr,$O],styles:[`.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}
`],encapsulation:2,changeDetection:0}),t})(),Cp=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ms({type:t}),t.\u0275inj=ps({providers:[bg],imports:[[_n]]}),t})();var Lye=(t,e)=>({itemsPerPage:t,currentPage:e}),Bye=(t,e,n,r,i)=>({"text-success":t,"text-warning":e,"text-danger":n,"text-primary":r,"text-secondary":i});function Vye(t,e){t&1&&(S(0,"div",50),k(1," No tienes turnos agendados. "),E())}function Uye(t,e){if(t&1){let n=Ot();S(0,"div",53)(1,"button",54),Te("click",function(){ut(n);let i=Ce().$implicit,s=Ce();return dt(s.cancelarTurno(i.id))}),Ie(2,"i",55),k(3," Cancelar "),E()()}}function jye(t,e){if(t&1){let n=Ot();S(0,"div",53)(1,"button",56),Te("click",function(){ut(n);let i=Ce().$implicit,s=Ce();return dt(s.verResena(i.id))}),Ie(2,"i",57),k(3," Ver Rese\xF1a "),E()()}}function $ye(t,e){if(t&1){let n=Ot();S(0,"div",53)(1,"button",58),Te("click",function(){ut(n);let i=Ce().$implicit,s=Ce();return dt(s.completarEncuesta(i.id))}),Ie(2,"i",59),k(3," Completar Encuesta "),E()()}}function Hye(t,e){if(t&1){let n=Ot();S(0,"div",53)(1,"button",60),Te("click",function(){ut(n);let i=Ce().$implicit,s=Ce();return dt(s.calificarAtencion(i.id))}),Ie(2,"i",61),k(3," Calificar Atenci\xF3n "),E()()}}function zye(t,e){if(t&1&&(S(0,"tr")(1,"td"),k(2),E(),S(3,"td"),k(4),E(),S(5,"td"),k(6),E(),S(7,"td"),k(8),E(),S(9,"td")(10,"span",51),k(11),mi(12,"uppercase"),E()(),S(13,"td"),Se(14,Uye,4,0,"div",52)(15,jye,4,0,"div",52)(16,$ye,4,0,"div",52)(17,Hye,4,0,"div",52),E()()),t&2){let n=e.$implicit;q(2),tt(n.especialidad),q(2),pi("",n.especialista.nombre," ",n.especialista.apellido,""),q(2),tt(n.dia),q(2),tt(n.hora),q(2),ne("ngClass",Lf(13,Bye,n.estado==="realizado",n.estado==="pendiente",n.estado==="cancelado",n.estado==="aceptado",n.estado==="rechazado")),q(),Dt(" ",rl(12,11,n.estado)," "),q(3),ne("ngIf",n.estado==="pendiente"||n.estado==="aceptado"),q(),ne("ngIf",n.resenia||n.comentario),q(),ne("ngIf",n.estado==="realizado"&&n.comentario&&!n.encuesta),q(),ne("ngIf",n.estado==="realizado"&&!n.calificacion)}}function qye(t,e){if(t&1&&(S(0,"p")(1,"strong"),k(2,"Calificaci\xF3n:"),E(),k(3),E()),t&2){let n=Ce();q(3),Dt(" ",n.comentarioCalificacion,"")}}var _1=class t{constructor(e){this.userService=e}modal;turnos=[];turnosFiltrados=[];filtroEspecialidad="";filtroEspecialista="";turnoSeleccionadoId="";comentarioCancelacion="";comentarioPacienteSeleccionado="";comentarioCalificacion="";encuesta={atencion:0,puntualidad:0,administracion:0,recomendacion:0};page=1;pageSize=5;ngOnInit(){let e=localStorage.getItem("user");if(e){let n=JSON.parse(e);this.userService.getTurnos(n.email).subscribe(r=>{this.turnos=r,this.turnosFiltrados=r,console.log("Turnos",this.turnos)})}}filtrarTurnos(){this.turnosFiltrados=this.turnos.filter(e=>{let n=e.especialidad.toLowerCase().includes(this.filtroEspecialidad.toLowerCase()),r=e.especialista.nombre.toLowerCase().includes(this.filtroEspecialista.toLowerCase())||e.especialista.apellido.toLowerCase().includes(this.filtroEspecialista.toLowerCase());return n&&r})}cancelarTurno(e){this.comentarioCancelacion="",this.turnoSeleccionadoId=e;let n=document.getElementById("cancelarTurnoModal");this.modal=new window.bootstrap.Modal(n),this.modal.show()}confirmarCancelacion(){console.log("Cancelar turno",this.turnoSeleccionadoId,"Comentario:",this.comentarioCancelacion),this.userService.cancelarTurno(this.turnoSeleccionadoId,this.comentarioCancelacion).then(()=>{console.log("Turno cancelado")}).catch(e=>{console.error("Error al cancelar turno",e)}),this.modal.hide(),this.comentarioCancelacion=""}confirmarEncuesta(){this.encuesta.atencion=Number(this.encuesta.atencion),this.encuesta.puntualidad=Number(this.encuesta.puntualidad),this.encuesta.administracion=Number(this.encuesta.administracion),this.encuesta.recomendacion=Number(this.encuesta.recomendacion),console.log("Encuesta parseada",this.encuesta),this.userService.completarEncuesta(this.turnoSeleccionadoId,this.encuesta).then(()=>{console.log("Encuesta completada")}).catch(e=>{console.error("Error al completar encuesta",e)}),this.modal.hide()}completarEncuesta(e){console.log("Completar encuesta",e),this.encuesta={atencion:0,puntualidad:0,administracion:0,recomendacion:0},this.turnoSeleccionadoId=e;let n=document.getElementById("completarEncuestaModal");this.modal=new window.bootstrap.Modal(n),this.modal.show()}confirmarCalificacion(){console.log("Calificar atenci\xF3n"),this.userService.calificarAtencion(this.turnoSeleccionadoId,this.comentarioCalificacion).then(()=>{console.log("Atenci\xF3n calificada")}).catch(e=>{console.error("Error al calificar atenci\xF3n",e)}),this.modal.hide(),this.comentarioCalificacion=""}calificarAtencion(e){console.log("Calificar atenci\xF3n",e),this.comentarioCalificacion="",this.turnoSeleccionadoId=e;let n=document.getElementById("calificarTurnoModal");this.modal=new window.bootstrap.Modal(n),this.modal.show()}verResena(e){console.log("Ver rese\xF1a",e);let n=this.turnos.find(r=>r.id===e);if(n){this.comentarioPacienteSeleccionado=n.comentario,this.comentarioCalificacion=n.calificacion,console.log("Rese\xF1a:",n.comentario);let r=document.getElementById("verComentarioModal");new window.bootstrap.Modal(r).show()}}static \u0275fac=function(n){return new(n||t)(ge(ao))};static \u0275cmp=Et({type:t,selectors:[["app-turnos-paciente"]],standalone:!0,features:[Ft],decls:147,vars:18,consts:[[1,"container","mt-5"],[1,"row","mb-4"],[1,"col-12","col-md-6","mb-3","mb-md-0"],["for","especialidadFiltro",1,"form-label"],["id","especialidadFiltro","type","text","placeholder","Ej: Cardiolog\xEDa",1,"form-control","form-control-sm",3,"ngModelChange","input","ngModel"],["for","especialistaFiltro",1,"form-label"],["id","especialistaFiltro","type","text","placeholder","Ej: Dr. Juan P\xE9rez",1,"form-control","form-control-sm",3,"ngModelChange","input","ngModel"],["class","alert alert-warning",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-bordered"],[1,"thead-light"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],[3,"pageChange"],["id","cancelarTurnoModal","tabindex","-1","aria-labelledby","cancelarTurnoModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","cancelarTurnoModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["for","comentarioCancelacion"],["id","comentarioCancelacion","rows","3","placeholder","Escribe el motivo de la cancelaci\xF3n...",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],["id","calificarTurnoModal","tabindex","-1","aria-labelledby","calificarTurnoModalLabel","aria-hidden","true",1,"modal","fade"],["id","calificarTurnoModalLabel",1,"modal-title"],["for","comentarioCalificacion"],["id","comentarioCalificacion","rows","3","placeholder","Escribe tu comentario...",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary",3,"click"],["id","completarEncuestaModal","tabindex","-1","aria-labelledby","completarEncuestaModalLabel","aria-hidden","true",1,"modal","fade"],["id","completarEncuestaModalLabel",1,"modal-title"],[1,"mb-3"],["for","pregunta1",1,"form-label"],["id","pregunta1",1,"form-select",3,"ngModelChange","ngModel"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["for","pregunta2",1,"form-label"],["id","pregunta2",1,"form-select",3,"ngModelChange","ngModel"],["for","pregunta3",1,"form-label"],["id","pregunta3",1,"form-select",3,"ngModelChange","ngModel"],["for","pregunta4",1,"form-label"],["id","pregunta4",1,"form-select",3,"ngModelChange","ngModel"],["id","verComentarioModal","tabindex","-1","aria-labelledby","verResenaModalLabel","aria-hidden","true",1,"modal","fade"],["id","verResenaModalLabel",1,"modal-title"],[4,"ngIf"],[1,"alert","alert-warning"],[3,"ngClass"],["class","btn-group",4,"ngIf"],[1,"btn-group"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-x-circle"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"bi","bi-eye"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"bi","bi-pencil-square"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"bi","bi-star"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"h3"),k(2,"Mis Turnos"),E(),S(3,"div",1)(4,"div",2)(5,"label",3),k(6,"Filtrar por Especialidad"),E(),S(7,"input",4),Mr("ngModelChange",function(s){return Br(r.filtroEspecialidad,s)||(r.filtroEspecialidad=s),s}),Te("input",function(){return r.filtrarTurnos()}),E()(),S(8,"div",2)(9,"label",5),k(10,"Filtrar por Especialista"),E(),S(11,"input",6),Mr("ngModelChange",function(s){return Br(r.filtroEspecialista,s)||(r.filtroEspecialista=s),s}),Te("input",function(){return r.filtrarTurnos()}),E()()(),Se(12,Vye,2,0,"div",7),S(13,"div",8)(14,"table",9)(15,"thead",10)(16,"tr")(17,"th"),k(18,"Especialidad"),E(),S(19,"th"),k(20,"Especialista"),E(),S(21,"th"),k(22,"Fecha"),E(),S(23,"th"),k(24,"Hora"),E(),S(25,"th"),k(26,"Estado"),E(),S(27,"th"),k(28,"Acciones"),E()()(),S(29,"tbody"),Se(30,zye,18,19,"tr",11),mi(31,"paginate"),E()()(),S(32,"div",12)(33,"pagination-controls",13),Te("pageChange",function(s){return r.page=s}),E()()(),S(34,"div",14)(35,"div",15)(36,"div",16)(37,"div",17)(38,"h5",18),k(39,"Cancelar Turno"),E(),Ie(40,"button",19),E(),S(41,"div",20)(42,"label",21),k(43,"Comentario de cancelaci\xF3n:"),E(),S(44,"textarea",22),Mr("ngModelChange",function(s){return Br(r.comentarioCancelacion,s)||(r.comentarioCancelacion=s),s}),E()(),S(45,"div",23)(46,"button",24),k(47,"Cerrar"),E(),S(48,"button",25),Te("click",function(){return r.confirmarCancelacion()}),k(49,"Confirmar Cancelaci\xF3n"),E()()()()(),S(50,"div",26)(51,"div",15)(52,"div",16)(53,"div",17)(54,"h5",27),k(55,"Calificar Turno"),E(),Ie(56,"button",19),E(),S(57,"div",20)(58,"label",28),k(59,"Comentario de calificaci\xF3n:"),E(),S(60,"textarea",29),Mr("ngModelChange",function(s){return Br(r.comentarioCalificacion,s)||(r.comentarioCalificacion=s),s}),E()(),S(61,"div",23)(62,"button",24),k(63,"Cerrar"),E(),S(64,"button",30),Te("click",function(){return r.confirmarCalificacion()}),k(65,"Confirmar Calificaci\xF3n"),E()()()()(),S(66,"div",31)(67,"div",15)(68,"div",16)(69,"div",17)(70,"h5",32),k(71,"Encuesta de Atenci\xF3n"),E(),Ie(72,"button",19),E(),S(73,"div",20)(74,"div",33)(75,"label",34),k(76,"\xBFC\xF3mo calificar\xEDas la atenci\xF3n recibida?"),E(),S(77,"select",35),Mr("ngModelChange",function(s){return Br(r.encuesta.atencion,s)||(r.encuesta.atencion=s),s}),S(78,"option",36),k(79,"Muy mala"),E(),S(80,"option",37),k(81,"Mala"),E(),S(82,"option",38),k(83,"Regular"),E(),S(84,"option",39),k(85,"Buena"),E(),S(86,"option",40),k(87,"Muy buena"),E()()(),S(88,"div",33)(89,"label",41),k(90,"\xBFC\xF3mo calificar\xEDas la puntualidad del especialista?"),E(),S(91,"select",42),Mr("ngModelChange",function(s){return Br(r.encuesta.puntualidad,s)||(r.encuesta.puntualidad=s),s}),S(92,"option",36),k(93,"Muy mala"),E(),S(94,"option",37),k(95,"Mala"),E(),S(96,"option",38),k(97,"Regular"),E(),S(98,"option",39),k(99,"Buena"),E(),S(100,"option",40),k(101,"Muy buena"),E()()(),S(102,"div",33)(103,"label",43),k(104,"\xBFC\xF3mo calificar\xEDas la atenci\xF3n del personal administrativo?"),E(),S(105,"select",44),Mr("ngModelChange",function(s){return Br(r.encuesta.administracion,s)||(r.encuesta.administracion=s),s}),S(106,"option",36),k(107,"Muy mala"),E(),S(108,"option",37),k(109,"Mala"),E(),S(110,"option",38),k(111,"Regular"),E(),S(112,"option",39),k(113,"Buena"),E(),S(114,"option",40),k(115,"Muy buena"),E()()(),S(116,"div",33)(117,"label",45),k(118,"\xBFRecomendar\xEDas a este especialista?"),E(),S(119,"select",46),Mr("ngModelChange",function(s){return Br(r.encuesta.recomendacion,s)||(r.encuesta.recomendacion=s),s}),S(120,"option",36),k(121,"No"),E(),S(122,"option",37),k(123,"No estoy seguro"),E(),S(124,"option",38),k(125,"S\xED"),E()()()(),S(126,"div",23)(127,"button",24),k(128,"Cerrar"),E(),S(129,"button",30),Te("click",function(){return r.confirmarEncuesta()}),k(130,"Confirmar Encuesta"),E()()()()(),S(131,"div",47)(132,"div",15)(133,"div",16)(134,"div",17)(135,"h5",48),k(136,"Rese\xF1a del Turno"),E(),Ie(137,"button",19),E(),S(138,"div",20)(139,"p")(140,"strong"),k(141,"Comentario:"),E(),k(142),E(),Se(143,qye,4,1,"p",49),E(),S(144,"div",23)(145,"button",24),k(146,"Cerrar"),E()()()()()),n&2&&(q(7),Pr("ngModel",r.filtroEspecialidad),q(4),Pr("ngModel",r.filtroEspecialista),q(),ne("ngIf",r.turnosFiltrados.length===0),q(18),ne("ngForOf",wo(31,12,r.turnosFiltrados,Xa(15,Lye,r.pageSize,r.page))),q(14),Pr("ngModel",r.comentarioCancelacion),q(16),Pr("ngModel",r.comentarioCalificacion),q(17),Pr("ngModel",r.encuesta.atencion),q(14),Pr("ngModel",r.encuesta.puntualidad),q(14),Pr("ngModel",r.encuesta.administracion),q(14),Pr("ngModel",r.encuesta.recomendacion),q(23),Dt(" ",r.comentarioPacienteSeleccionado,""),q(),ne("ngIf",r.comentarioCalificacion))},dependencies:[_n,sl,hr,dn,Vf,dl,Jf,eh,Vr,ul,vi,zu,Cp,Ep,bp],styles:[".container[_ngcontent-%COMP%]{background:#ffffffd9;border-radius:8px;padding:30px}h3[_ngcontent-%COMP%]{text-align:center;font-size:1.8rem;font-weight:700;color:#1e1e1e;margin-bottom:1rem}input[type=text][_ngcontent-%COMP%]{background-color:#fffc;border:1px solid #ccc;border-radius:4px;color:#333;box-shadow:0 1px 3px #0000001a}.list-group-item[_ngcontent-%COMP%]{background-color:#ffffffd9;border-radius:8px;padding:20px;box-shadow:0 1px 4px #0000001a;margin-bottom:15px}.list-group-item[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.list-group-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 5px;border-radius:5px;box-shadow:0 2px 4px #0000001a}.pagination[_ngcontent-%COMP%]{justify-content:center;margin-top:20px}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#007bff;border-radius:50%;padding:8px 14px;border:none;box-shadow:0 1px 3px #0000001a}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:#007bff33}.modal-content[_ngcontent-%COMP%]{border-radius:8px;background-color:#ffffffe6;box-shadow:0 4px 10px #00000026}.modal-header[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-top-left-radius:8px;border-top-right-radius:8px}.modal-body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #ddd;background-color:#f8f9fa;box-shadow:0 1px 3px #0000001a}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:5px}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:20px}}"]})};var Gye=(t,e)=>({itemsPerPage:t,currentPage:e}),Wye=(t,e,n,r,i)=>({"text-success":t,"text-warning":e,"text-danger":n,"text-primary":r,"text-secondary":i});function Kye(t,e){t&1&&(S(0,"div",38),k(1," No tienes turnos asignados. "),E())}function Xye(t,e){if(t&1){let n=Ot();S(0,"div",41)(1,"button",42),Te("click",function(){ut(n);let i=Ce().$implicit,s=Ce();return dt(s.cancelarTurno(i.id))}),Ie(2,"i",43),k(3," Cancelar "),E(),S(4,"button",44),Te("click",function(){ut(n);let i=Ce().$implicit,s=Ce();return dt(s.rechazarTurno(i.id))}),Ie(5,"i",43),k(6," Rechazar "),E(),S(7,"button",45),Te("click",function(){ut(n);let i=Ce().$implicit,s=Ce();return dt(s.aceptarTurno(i.id))}),Ie(8,"i",46),k(9," Aceptar "),E()()}}function Yye(t,e){if(t&1){let n=Ot();S(0,"div",41)(1,"button",47),Te("click",function(){ut(n);let i=Ce().$implicit,s=Ce();return dt(s.finalizarTurno(i.id))}),Ie(2,"i",48),k(3," Finalizar "),E()()}}function Qye(t,e){if(t&1){let n=Ot();S(0,"div",41)(1,"button",49),Te("click",function(){ut(n);let i=Ce().$implicit,s=Ce();return dt(s.verResena(i.id))}),Ie(2,"i",50),k(3," Ver Rese\xF1a "),E()()}}function Zye(t,e){if(t&1&&(S(0,"tr")(1,"td"),k(2),E(),S(3,"td"),k(4),E(),S(5,"td"),k(6),E(),S(7,"td"),k(8),E(),S(9,"td")(10,"span",39),k(11),mi(12,"uppercase"),E()(),S(13,"td"),Se(14,Xye,10,0,"div",40)(15,Yye,4,0,"div",40)(16,Qye,4,0,"div",40),E()()),t&2){let n=e.$implicit;q(2),tt(n.especialidad),q(2),pi("",n.paciente.nombre," ",n.paciente.apellido,""),q(2),tt(n.dia),q(2),tt(n.hora),q(2),ne("ngClass",Lf(12,Wye,n.estado==="realizado",n.estado==="pendiente",n.estado==="cancelado",n.estado==="aceptado",n.estado==="rechazado")),q(),Dt(" ",rl(12,10,n.estado)," "),q(3),ne("ngIf",n.estado==="pendiente"),q(),ne("ngIf",n.estado==="aceptado"),q(),ne("ngIf",n.comentario)}}function Jye(t,e){if(t&1&&(S(0,"p")(1,"strong"),k(2,"Calificaci\xF3n:"),E(),k(3),E()),t&2){let n=Ce();q(3),Dt(" ",n.comentarioCalificacion," ")}}var x1=class t{constructor(e){this.userService=e}turnos=[];turnosFiltrados=[];filtroEspecialidad="";filtroPaciente="";turnoSeleccionadoId="";modal;comentarioSeleccionado="";comentarioCancelacion="";comentarioRechazo="";comentarioFinalizacion="";comentarioCalificacion="";page=1;pageSize=8;ngOnInit(){let e=localStorage.getItem("user");if(e){let n=JSON.parse(e);this.userService.getTurnosEspecialista(n.email).subscribe(r=>{this.turnos=r,this.turnosFiltrados=[...r]})}}filtrarTurnos(){this.turnosFiltrados=this.turnos.filter(e=>(this.filtroEspecialidad?e.especialidad.toLowerCase().includes(this.filtroEspecialidad.toLowerCase()):!0)&&(this.filtroPaciente?`${e.paciente.nombre} ${e.paciente.apellido}`.toLowerCase().includes(this.filtroPaciente.toLowerCase()):!0))}confirmarCancelacion(){console.log("Cancelar turno",this.turnoSeleccionadoId,"Comentario:",this.comentarioCancelacion),this.userService.cancelarTurno(this.turnoSeleccionadoId,this.comentarioRechazo).then(()=>{console.log("Turno cancelado")}).catch(e=>{console.error("Error al cancelar turno",e)}),this.modal.hide(),this.comentarioCancelacion=""}cancelarTurno(e){this.turnoSeleccionadoId=e;let n=document.getElementById("cancelarTurnoModal");this.modal=new window.bootstrap.Modal(n),this.modal.show()}confirmarRechazo(){console.log("Rechazar turno",this.turnoSeleccionadoId,"Comentario:",this.comentarioRechazo),this.userService.rechazarTurno(this.turnoSeleccionadoId,this.comentarioRechazo).then(()=>{console.log("Turno rechazado")}).catch(e=>{console.error("Error al rechazar turno",e)}),this.modal.hide(),this.comentarioRechazo=""}rechazarTurno(e){console.log("Rechazar turno",e),this.turnoSeleccionadoId=e;let n=document.getElementById("rechazarTurnoModal");this.modal=new window.bootstrap.Modal(n),this.modal.show()}aceptarTurno(e){console.log("Aceptar turno",e),this.userService.updateEstadoTurno(e,"aceptado").then(()=>{console.log("Turno aceptado")}).catch(n=>{console.error("Error al aceptar turno",n)})}confirmarFinalizacion(){console.log("Finalizar turno",this.turnoSeleccionadoId,"Comentario:",this.comentarioFinalizacion),this.userService.finalizarTurno(this.turnoSeleccionadoId,this.comentarioFinalizacion).then(()=>{console.log("Turno finalizado")}).catch(e=>{console.error("Error al finalizar turno",e)}),this.modal.hide(),this.comentarioFinalizacion=""}finalizarTurno(e){console.log("Finalizar turno",e),this.turnoSeleccionadoId=e;let n=document.getElementById("finalizarTurnoModal");this.modal=new window.bootstrap.Modal(n),this.modal.show()}verResena(e){console.log("Ver rese\xF1a",e);let n=this.turnos.find(r=>r.id===e);if(n){this.comentarioSeleccionado=n.comentario,this.comentarioCalificacion=n.calificacion,console.log("Rese\xF1a:",n.comentario);let r=document.getElementById("verComentarioModal");new window.bootstrap.Modal(r).show()}}static \u0275fac=function(n){return new(n||t)(ge(ao))};static \u0275cmp=Et({type:t,selectors:[["app-turnos-especialista"]],standalone:!0,features:[Ft],decls:98,vars:15,consts:[[1,"container","mt-5"],[1,"row","mb-4"],[1,"col-12","col-md-6","mb-3","mb-md-0"],["for","especialidadFiltro",1,"form-label"],["id","especialidadFiltro","type","text","placeholder","Ej: Cardiolog\xEDa",1,"form-control","form-control-sm",3,"ngModelChange","input","ngModel"],["for","pacienteFiltro",1,"form-label"],["id","pacienteFiltro","type","text","placeholder","Ej: Juan P\xE9rez",1,"form-control","form-control-sm",3,"ngModelChange","input","ngModel"],["class","alert alert-warning",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-bordered"],[1,"thead-light"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],[3,"pageChange"],["id","cancelarTurnoModal","tabindex","-1","aria-labelledby","cancelarTurnoModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","cancelarTurnoModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["for","comentarioCancelacion"],["id","comentarioCancelacion","rows","3","placeholder","Escribe el motivo de la cancelaci\xF3n...",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],["id","rechazarTurnoModal","tabindex","-1","aria-labelledby","rechazarTurnoModalLabel","aria-hidden","true",1,"modal","fade"],["id","rechazarTurnoModalLabel",1,"modal-title"],["for","comentarioRechazo"],["id","comentarioRechazo","rows","3","placeholder","Escribe el motivo del rechazo...",1,"form-control",3,"ngModelChange","ngModel"],["id","finalizarTurnoModal","tabindex","-1","aria-labelledby","finalizarTurnoModalLabel","aria-hidden","true",1,"modal","fade"],["id","finalizarTurnoModalLabel",1,"modal-title"],["for","comentarioFinalizacion"],["id","comentarioFinalizacion","rows","3","placeholder","Escribe un comentario sobre el turno...",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-success",3,"click"],["id","verComentarioModal","tabindex","-1","aria-labelledby","verResenaModalLabel","aria-hidden","true",1,"modal","fade"],["id","verResenaModalLabel",1,"modal-title"],[4,"ngIf"],[1,"alert","alert-warning"],[3,"ngClass"],["class","btn-group",4,"ngIf"],[1,"btn-group"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-x-circle"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"bi","bi-check-circle"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"bi","bi-pencil-square"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"bi","bi-eye"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"h3"),k(2,"Mis Turnos - Especialista"),E(),S(3,"div",1)(4,"div",2)(5,"label",3),k(6,"Filtrar por Especialidad"),E(),S(7,"input",4),Mr("ngModelChange",function(s){return Br(r.filtroEspecialidad,s)||(r.filtroEspecialidad=s),s}),Te("input",function(){return r.filtrarTurnos()}),E()(),S(8,"div",2)(9,"label",5),k(10,"Filtrar por Paciente"),E(),S(11,"input",6),Mr("ngModelChange",function(s){return Br(r.filtroPaciente,s)||(r.filtroPaciente=s),s}),Te("input",function(){return r.filtrarTurnos()}),E()()(),Se(12,Kye,2,0,"div",7),S(13,"div",8)(14,"table",9)(15,"thead",10)(16,"tr")(17,"th"),k(18,"Especialidad"),E(),S(19,"th"),k(20,"Paciente"),E(),S(21,"th"),k(22,"Fecha"),E(),S(23,"th"),k(24,"Hora"),E(),S(25,"th"),k(26,"Estado"),E(),S(27,"th"),k(28,"Acciones"),E()()(),S(29,"tbody"),Se(30,Zye,17,18,"tr",11),mi(31,"paginate"),E()()(),S(32,"div",12)(33,"pagination-controls",13),Te("pageChange",function(s){return r.page=s}),E()()(),S(34,"div",14)(35,"div",15)(36,"div",16)(37,"div",17)(38,"h5",18),k(39,"Cancelar Turno"),E(),Ie(40,"button",19),E(),S(41,"div",20)(42,"label",21),k(43,"Comentario de cancelaci\xF3n:"),E(),S(44,"textarea",22),Mr("ngModelChange",function(s){return Br(r.comentarioCancelacion,s)||(r.comentarioCancelacion=s),s}),E()(),S(45,"div",23)(46,"button",24),k(47,"Cerrar"),E(),S(48,"button",25),Te("click",function(){return r.confirmarCancelacion()}),k(49,"Confirmar Cancelaci\xF3n"),E()()()()(),S(50,"div",26)(51,"div",15)(52,"div",16)(53,"div",17)(54,"h5",27),k(55,"Rechazar Turno"),E(),Ie(56,"button",19),E(),S(57,"div",20)(58,"label",28),k(59,"Comentario de rechazo:"),E(),S(60,"textarea",29),Mr("ngModelChange",function(s){return Br(r.comentarioRechazo,s)||(r.comentarioRechazo=s),s}),E()(),S(61,"div",23)(62,"button",24),k(63,"Cerrar"),E(),S(64,"button",25),Te("click",function(){return r.confirmarRechazo()}),k(65,"Confirmar Rechazo"),E()()()()(),S(66,"div",30)(67,"div",15)(68,"div",16)(69,"div",17)(70,"h5",31),k(71,"Finalizar Turno"),E(),Ie(72,"button",19),E(),S(73,"div",20)(74,"label",32),k(75,"Comentario de finalizaci\xF3n:"),E(),S(76,"textarea",33),Mr("ngModelChange",function(s){return Br(r.comentarioFinalizacion,s)||(r.comentarioFinalizacion=s),s}),E()(),S(77,"div",23)(78,"button",24),k(79,"Cerrar"),E(),S(80,"button",34),Te("click",function(){return r.confirmarFinalizacion()}),k(81,"Confirmar Finalizaci\xF3n"),E()()()()(),S(82,"div",35)(83,"div",15)(84,"div",16)(85,"div",17)(86,"h5",36),k(87,"Rese\xF1a del Turno"),E(),Ie(88,"button",19),E(),S(89,"div",20)(90,"p")(91,"strong"),k(92,"Comentario:"),E(),k(93),E(),Se(94,Jye,4,1,"p",37),E(),S(95,"div",23)(96,"button",24),k(97,"Cerrar"),E()()()()()),n&2&&(q(7),Pr("ngModel",r.filtroEspecialidad),q(4),Pr("ngModel",r.filtroPaciente),q(),ne("ngIf",r.turnos.length===0),q(18),ne("ngForOf",wo(31,9,r.turnosFiltrados,Xa(12,Gye,r.pageSize,r.page))),q(14),Pr("ngModel",r.comentarioCancelacion),q(16),Pr("ngModel",r.comentarioRechazo),q(16),Pr("ngModel",r.comentarioFinalizacion),q(17),Dt(" ",r.comentarioSeleccionado,""),q(),ne("ngIf",r.comentarioCalificacion))},dependencies:[dl,Vr,vi,zu,_n,sl,hr,dn,Vf,Cp,Ep,bp],styles:[".container[_ngcontent-%COMP%]{background:#ffffffe6;border-radius:8px;padding:30px;box-shadow:0 4px 10px #0000001a}h3[_ngcontent-%COMP%]{text-align:center;font-size:1.8rem;font-weight:700;color:#1e1e1e;margin-bottom:1rem}#especialidadFiltro[_ngcontent-%COMP%], #pacienteFiltro[_ngcontent-%COMP%]{background-color:#ffffffd9;border:1px solid #ccc;border-radius:4px;color:#333;box-shadow:0 1px 3px #0000001a}.table[_ngcontent-%COMP%]{background-color:#ffffffd9;border-radius:8px;overflow:hidden}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;padding:12px 15px}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#007bff1a}.table-bordered[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:#ddd}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 5px;border-radius:5px;box-shadow:0 2px 4px #0000001a}.pagination[_ngcontent-%COMP%]{justify-content:center}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 5px}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#007bff;border-radius:50%;padding:8px 14px;border:none;box-shadow:0 1px 3px #0000001a}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:#007bff33}.modal-content[_ngcontent-%COMP%]{border-radius:8px;background-color:#ffffffe6;box-shadow:0 4px 10px #00000026}.modal-header[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-top-left-radius:8px;border-top-right-radius:8px}.modal-body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #ddd;background-color:#f8f9fa;box-shadow:0 1px 3px #0000001a}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:5px}@media (max-width: 768px){.table-responsive[_ngcontent-%COMP%]{margin-top:15px}}"]})};function e_e(t,e){t&1&&Ie(0,"app-turnos-paciente")}function t_e(t,e){t&1&&Ie(0,"app-turnos-especialista")}var w1=class t{isPaciente=!1;constructor(){}ngOnInit(){let e=localStorage.getItem("user");if(e){let n=JSON.parse(e);this.isPaciente=!!n.obraSocial}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Et({type:t,selectors:[["app-mis-turnos"]],standalone:!0,features:[Ft],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(n,r){n&1&&Se(0,e_e,1,0,"app-turnos-paciente",0)(1,t_e,1,0,"app-turnos-especialista",0),n&2&&(ne("ngIf",r.isPaciente),q(),ne("ngIf",!r.isPaciente))},dependencies:[_1,_n,dn,x1]})};var n_e=(t,e)=>({itemsPerPage:t,currentPage:e}),r_e=(t,e,n,r,i)=>({"text-success":t,"text-warning":e,"text-danger":n,"text-primary":r,"text-secondary":i});function i_e(t,e){if(t&1){let n=Ot();S(0,"div",25)(1,"button",26),Te("click",function(){ut(n);let i=Ce().$implicit,s=Ce();return dt(s.cancelarTurno(i.id))}),Ie(2,"i",27),k(3," Cancelar "),E()()}}function s_e(t,e){if(t&1&&(S(0,"tr")(1,"td"),k(2),E(),S(3,"td"),k(4),E(),S(5,"td"),k(6),E(),S(7,"td"),k(8),E(),S(9,"td")(10,"span",23),k(11),mi(12,"uppercase"),E()(),S(13,"td"),Se(14,i_e,4,0,"div",24),E()()),t&2){let n=e.$implicit;q(2),tt(n.especialidad),q(2),pi("",n.paciente.nombre," ",n.paciente.apellido,""),q(2),tt(n.dia),q(2),tt(n.hora),q(2),ne("ngClass",Lf(10,r_e,n.estado==="realizado",n.estado==="pendiente",n.estado==="cancelado",n.estado==="aceptado",n.estado==="rechazado")),q(),Dt(" ",rl(12,8,n.estado)," "),q(3),ne("ngIf",n.estado==="pendiente")}}var E1=class t{constructor(e,n){this.userService=e;this.turnoService=n}turnos=[];turnosFiltrados=[];filtroCombinado="";modal;turnoSeleccionadoId="";comentarioCancelacion="";page=1;pageSize=5;ngOnInit(){let e=localStorage.getItem("user");e&&(JSON.parse(e).isAdmin?this.turnoService.getTurnos().subscribe(r=>{this.turnos=r,this.turnosFiltrados=r,console.log("Turnos",this.turnos)}):console.log("Acceso denegado: El usuario no tiene permisos de administrador"))}filtrarTurnos(){this.turnosFiltrados=this.turnos.filter(e=>{let n=this.filtroCombinado.toLowerCase(),r=e.especialidad.toLowerCase().includes(n),i=(e.especialista.nombre.toLowerCase()+" "+e.especialista.apellido.toLowerCase()).includes(n);return r||i})}cancelarTurno(e){this.comentarioCancelacion="",this.turnoSeleccionadoId=e;let n=document.getElementById("cancelarTurnoModal");this.modal=new window.bootstrap.Modal(n),this.modal.show()}confirmarCancelacion(){this.userService.cancelarTurno(this.turnoSeleccionadoId,this.comentarioCancelacion).then(()=>{console.log("Turno cancelado"),this.modal.hide(),this.comentarioCancelacion="",this.turnosFiltrados=this.turnosFiltrados.filter(e=>e.id!==this.turnoSeleccionadoId)}).catch(e=>{console.error("Error al cancelar turno",e)})}static \u0275fac=function(n){return new(n||t)(ge(ao),ge(wp))};static \u0275cmp=Et({type:t,selectors:[["app-turnos-administrador"]],standalone:!0,features:[Ft],decls:45,vars:9,consts:[[1,"container","mt-5"],[1,"row","mb-4"],[1,"col-12"],["for","filtroCombinado",1,"form-label"],["id","filtroCombinado","type","text","placeholder","Ej: Cardiolog\xEDa, Dr. Juan P\xE9rez",1,"form-control","form-control-sm",3,"ngModelChange","input","ngModel"],[1,"table-responsive"],[1,"table","table-hover","table-bordered"],[1,"thead-light"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],[3,"pageChange"],["id","cancelarTurnoModal","tabindex","-1","aria-labelledby","cancelarTurnoModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","cancelarTurnoModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["for","comentarioCancelacion"],["id","comentarioCancelacion","rows","3","placeholder","Escribe el motivo de la cancelaci\xF3n...",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],[3,"ngClass"],["class","btn-group",4,"ngIf"],[1,"btn-group"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-x-circle"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"h3"),k(2,"Turnos de la Cl\xEDnica"),E(),S(3,"div",1)(4,"div",2)(5,"label",3),k(6,"Filtrar por Especialidad o Especialista"),E(),S(7,"input",4),Mr("ngModelChange",function(s){return Br(r.filtroCombinado,s)||(r.filtroCombinado=s),s}),Te("input",function(){return r.filtrarTurnos()}),E()()(),S(8,"div",5)(9,"table",6)(10,"thead",7)(11,"tr")(12,"th"),k(13,"Especialidad"),E(),S(14,"th"),k(15,"Paciente"),E(),S(16,"th"),k(17,"Fecha"),E(),S(18,"th"),k(19,"Hora"),E(),S(20,"th"),k(21,"Estado"),E(),S(22,"th"),k(23,"Acciones"),E()()(),S(24,"tbody"),Se(25,s_e,15,16,"tr",8),mi(26,"paginate"),E()()(),S(27,"div",9)(28,"pagination-controls",10),Te("pageChange",function(s){return r.page=s}),E()()(),S(29,"div",11)(30,"div",12)(31,"div",13)(32,"div",14)(33,"h5",15),k(34,"Cancelar Turno"),E(),Ie(35,"button",16),E(),S(36,"div",17)(37,"label",18),k(38,"Comentario de cancelaci\xF3n:"),E(),S(39,"textarea",19),Mr("ngModelChange",function(s){return Br(r.comentarioCancelacion,s)||(r.comentarioCancelacion=s),s}),E()(),S(40,"div",20)(41,"button",21),k(42,"Cerrar"),E(),S(43,"button",22),Te("click",function(){return r.confirmarCancelacion()}),k(44,"Confirmar Cancelaci\xF3n"),E()()()()()),n&2&&(q(7),Pr("ngModel",r.filtroCombinado),q(18),ne("ngForOf",wo(26,3,r.turnosFiltrados,Xa(6,n_e,r.pageSize,r.page))),q(14),Pr("ngModel",r.comentarioCancelacion))},dependencies:[_n,sl,hr,dn,Vf,dl,Vr,vi,zu,Cp,Ep,bp],styles:[".container[_ngcontent-%COMP%]{background:#fffc;border-radius:8px;padding:30px}h3[_ngcontent-%COMP%]{text-align:center;font-size:1.8rem;font-weight:700;color:#1e1e1e;margin-bottom:1rem}#filtroCombinado[_ngcontent-%COMP%]{background-color:#fffc;border:1px solid #ccc;border-radius:4px;color:#333;box-shadow:0 1px 3px #0000001a}.table[_ngcontent-%COMP%]{background-color:#ffffffd9;border-radius:8px;overflow:hidden}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;padding:12px 15px}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#007bff1a}.table-bordered[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:#ddd}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 5px;border-radius:5px;box-shadow:0 2px 4px #0000001a}pagination-controls[_ngcontent-%COMP%]{margin-top:20px}.pagination[_ngcontent-%COMP%]{justify-content:center}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 5px}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#007bff;border-radius:50%;padding:8px 14px;border:none;box-shadow:0 1px 3px #0000001a}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:#007bff33}.modal-content[_ngcontent-%COMP%]{border-radius:8px;background-color:#ffffffe6;box-shadow:0 4px 10px #00000026}.modal-header[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-top-left-radius:8px;border-top-right-radius:8px}.modal-body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #ddd;background-color:#f8f9fa;box-shadow:0 1px 3px #0000001a}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:5px}@media (max-width: 768px){.table-responsive[_ngcontent-%COMP%]{margin-top:15px}}"]})};var P7=[{path:"home",title:"Home",component:m_},{path:"",redirectTo:"home",pathMatch:"full"},{path:"register",title:"Register",component:OE},{path:"login",title:"Login",component:FE},{path:"perfil",title:"Perfil",component:BE},{path:"usuarios",title:"Usuarios",component:v1},{path:"solicitar-turno",title:"Solicitar Turno",component:y1},{path:"mis-turnos",title:"Mis Turnos",component:w1},{path:"turnos",title:"Turnos",component:E1}];var M7={projectId:"clinica-online-9aa96",appId:"1:439052174571:web:1456e09cacc106cf1eaaae",storageBucket:"clinica-online-9aa96.appspot.com",apiKey:"AIzaSyDrTHnOp6JR1tvhpz6Hqs-9BhY1HCwesRY",authDomain:"clinica-online-9aa96.firebaseapp.com",messagingSenderId:"439052174571"};var N7={providers:[EO({eventCoalescing:!0}),OF(P7),HL(()=>zL(M7)),U3(()=>j3()),HB(()=>zB())]};function o_e(t,e){t&1&&(S(0,"li",6)(1,"a",9),k(2,"Iniciar Sesi\xF3n"),E()())}function a_e(t,e){t&1&&(S(0,"li",6)(1,"a",10),k(2,"Registrarse"),E()())}function c_e(t,e){t&1&&(S(0,"li",6)(1,"a",11),k(2,"Solicitar turno"),E()())}function l_e(t,e){t&1&&(S(0,"li",6)(1,"a",12),k(2,"Turnos"),E()())}function u_e(t,e){t&1&&(S(0,"li",6)(1,"a",13),k(2,"Perfil"),E()())}function d_e(t,e){t&1&&(S(0,"li",6)(1,"a",14),k(2,"Usuarios"),E()())}function f_e(t,e){t&1&&(S(0,"li",6)(1,"a",15),k(2,"Mis turnos"),E()())}function h_e(t,e){if(t&1){let n=Ot();S(0,"li",6)(1,"button",16),Te("click",function(){ut(n);let i=Ce();return dt(i.logout())}),k(2,"Cerrar Sesi\xF3n"),E()()}}var b1=class t{constructor(e,n){this.authService=e;this.router=n;this.authService.user$.subscribe(r=>{if(this.userInLocalStorage=r,this.userInLocalStorage){let i=this.authService.getUser();i&&(i.isAdmin?this.isAdmin=!0:this.isAdmin=!1,i.obraSocial?this.isPaciente=!0:this.isPaciente=!1)}})}userInLocalStorage=!1;isAdmin=!1;isSpecialist=!1;isPaciente=!1;logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||t)(ge(rp),ge(ti))};static \u0275cmp=Et({type:t,selectors:[["app-navbar"]],standalone:!0,features:[Ft],decls:17,vars:8,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item","me-3"],["aria-current","page","routerLink","home",1,"nav-link","active","hover-effect"],["class","nav-item me-3",4,"ngIf"],["routerLink","login",1,"nav-link","hover-effect"],["routerLink","register",1,"nav-link","hover-effect"],["routerLink","solicitar-turno",1,"nav-link","hover-effect"],["routerLink","turnos",1,"nav-link","hover-effect"],["routerLink","perfil",1,"nav-link","hover-effect"],["routerLink","usuarios",1,"nav-link","hover-effect"],["routerLink","mis-turnos",1,"nav-link","hover-effect"],[1,"btn","btn-danger",3,"click"]],template:function(n,r){n&1&&(S(0,"nav",0)(1,"div",1)(2,"button",2),Ie(3,"span",3),E(),S(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),k(8,"Inicio"),E()(),Se(9,o_e,3,0,"li",8)(10,a_e,3,0,"li",8)(11,c_e,3,0,"li",8)(12,l_e,3,0,"li",8)(13,u_e,3,0,"li",8)(14,d_e,3,0,"li",8)(15,f_e,3,0,"li",8)(16,h_e,3,0,"li",8),E()()()()),n&2&&(q(9),ne("ngIf",!r.userInLocalStorage),q(),ne("ngIf",!r.userInLocalStorage),q(),ne("ngIf",r.userInLocalStorage&&r.isPaciente||r.userInLocalStorage&&r.isAdmin),q(),ne("ngIf",r.userInLocalStorage&&r.isAdmin),q(),ne("ngIf",r.userInLocalStorage),q(),ne("ngIf",r.userInLocalStorage&&r.isAdmin),q(),ne("ngIf",r.userInLocalStorage&&!r.isAdmin),q(),ne("ngIf",r.userInLocalStorage))},dependencies:[NF,dn],styles:[".hover-effect[_ngcontent-%COMP%]{transition:box-shadow .3s ease,background-color .3s ease}.hover-effect[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0003;background-color:#007bff1a;border-radius:10px}"]})};var C1=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Et({type:t,selectors:[["app-footer"]],standalone:!0,features:[Ft],decls:5,vars:0,consts:[[1,"nav","justify-content-center","flex-wrap"],[1,"nav-item"],["href","#",1,"nav-link"]],template:function(n,r){n&1&&(S(0,"footer")(1,"ul",0)(2,"li",1)(3,"a",2),k(4,"Repositorio de Github"),E()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;text-align:center;position:relative;bottom:0;width:100%}.nav[_ngcontent-%COMP%]{flex-wrap:wrap}.nav-link[_ngcontent-%COMP%]{margin:5px}"]})};var S1=class t{title="clinica-online";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Et({type:t,selectors:[["app-root"]],standalone:!0,features:[Ft],decls:4,vars:0,consts:[[1,"app-container"]],template:function(n,r){n&1&&(Ie(0,"app-navbar"),S(1,"div",0),Ie(2,"router-outlet"),E(),Ie(3,"app-footer"))},dependencies:[GS,b1,C1],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}.app-container[_ngcontent-%COMP%]{min-height:calc(100vh - 152px);display:flex;flex-direction:column;background:url("./media/fondo-clinica-RSVOCLWJ.jpg") no-repeat center center;background-size:cover}app-footer[_ngcontent-%COMP%]{flex-shrink:0}']})};QO(S1,N7).catch(t=>console.error(t));
