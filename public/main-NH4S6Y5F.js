var C4=Object.create;var Bw=Object.defineProperty,I4=Object.defineProperties,S4=Object.getOwnPropertyDescriptor,x4=Object.getOwnPropertyDescriptors,T4=Object.getOwnPropertyNames,wm=Object.getOwnPropertySymbols,eR=Object.getPrototypeOf,Uw=Object.prototype.hasOwnProperty,tR=Object.prototype.propertyIsEnumerable,A4=Reflect.get;var Vw=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t);var XD=(t,e,n)=>e in t?Bw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x=(t,e)=>{for(var n in e||={})Uw.call(e,n)&&XD(t,n,e[n]);if(wm)for(var n of wm(e))tR.call(e,n)&&XD(t,n,e[n]);return t},z=(t,e)=>I4(t,x4(e));var ec=(t,e)=>{var n={};for(var r in t)Uw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&wm)for(var r of wm(t))e.indexOf(r)<0&&tR.call(t,r)&&(n[r]=t[r]);return n};var mr=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var D4=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of T4(e))!Uw.call(t,i)&&i!==n&&Bw(t,i,{get:()=>e[i],enumerable:!(r=S4(e,i))||r.enumerable});return t};var tc=(t,e,n)=>(n=t!=null?C4(eR(t)):{},D4(e||!t||!t.__esModule?Bw(n,"default",{value:t,enumerable:!0}):n,t));var Zi=(t,e,n)=>A4(eR(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())}),Zt=function(t,e){this[0]=t,this[1]=e},gr=(t,e,n)=>{var r=(s,a,c,l)=>{try{var f=n[s](a),h=(a=f.value)instanceof Zt,y=f.done;Promise.resolve(h?a[0]:a).then(w=>h?r(s==="return"?s:"next",a[1]?{done:w.done,value:w.value}:w,c,l):c({value:w,done:y})).catch(w=>r("throw",w,c,l))}catch(w){l(w)}},i=s=>o[s]=a=>new Promise((c,l)=>r(s,a,c,l)),o={};return n=n.apply(t,e),o[Vw("asyncIterator")]=()=>o,i("next"),i("throw"),i("return"),o};var Fo=(t,e,n)=>(e=t[Vw("asyncIterator")])?e.call(t):(t=t[Vw("iterator")](),e={},n=(r,i)=>(i=t[r])&&(e[r]=o=>new Promise((s,a,c)=>(o=i.call(t,o),c=o.done,Promise.resolve(o.value).then(l=>s({value:l,done:c}),a)))),n("next"),n("return"),e);var tp=mr((xo,kT)=>{"use strict";(function(t,e){typeof xo=="object"&&typeof kT<"u"?kT.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(xo,function(){"use strict";function t(d,p,v){if(typeof d=="function"?d===p:d.has(p))return arguments.length<3?p:v;throw new TypeError("Private element is not present on this object")}function e(d,p){if(p.has(d))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(d,p){return d.get(t(d,p))}function r(d,p,v){e(d,p),p.set(d,v)}function i(d,p,v){return d.set(t(d,p),v),v}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},c=d=>new Promise(p=>{if(!d)return p();let v=window.scrollX,S=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),p()},o),window.scrollTo(v,S)}),l="swal2-",h=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((d,p)=>(d[p]=l+p,d),{}),w=["success","warning","info","question","error"].reduce((d,p)=>(d[p]=l+p,d),{}),I="SweetAlert2:",L=d=>d.charAt(0).toUpperCase()+d.slice(1),P=d=>{console.warn(`${I} ${typeof d=="object"?d.join(" "):d}`)},$=d=>{console.error(`${I} ${d}`)},Q=[],ne=d=>{Q.includes(d)||(Q.push(d),P(d))},de=function(d){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;ne(`"${d}" is deprecated and will be removed in the next major release.${p?` Use "${p}" instead.`:""}`)},Ae=d=>typeof d=="function"?d():d,me=d=>d&&typeof d.toPromise=="function",k=d=>me(d)?d.toPromise():Promise.resolve(d),A=d=>d&&Promise.resolve(d)===d,R=()=>document.body.querySelector(`.${h.container}`),N=d=>{let p=R();return p?p.querySelector(d):null},F=d=>N(`.${d}`),V=()=>F(h.popup),M=()=>F(h.icon),gi=()=>F(h["icon-content"]),vs=()=>F(h.title),Ld=()=>F(h["html-container"]),_s=()=>F(h.image),ko=()=>F(h["progress-steps"]),ws=()=>F(h["validation-message"]),Ir=()=>N(`.${h.actions} .${h.confirm}`),bs=()=>N(`.${h.actions} .${h.cancel}`),Vn=()=>N(`.${h.actions} .${h.deny}`),yn=()=>F(h["input-label"]),Es=()=>N(`.${h.loader}`),yi=()=>F(h.actions),Ap=()=>F(h.footer),$i=()=>F(h["timer-progress-bar"]),Vd=()=>F(h.close),_w=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Cs=()=>{let d=V();if(!d)return[];let p=d.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),v=Array.from(p).sort((ie,ke)=>{let at=parseInt(ie.getAttribute("tabindex")||"0"),Mt=parseInt(ke.getAttribute("tabindex")||"0");return at>Mt?1:at<Mt?-1:0}),S=d.querySelectorAll(_w),j=Array.from(S).filter(ie=>ie.getAttribute("tabindex")!=="-1");return[...new Set(v.concat(j))].filter(ie=>Mn(ie))},Is=()=>Sr(document.body,h.shown)&&!Sr(document.body,h["toast-shown"])&&!Sr(document.body,h["no-backdrop"]),Ss=()=>{let d=V();return d?Sr(d,h.toast):!1},Bd=()=>{let d=V();return d?d.hasAttribute("data-loading"):!1},Rn=(d,p)=>{if(d.textContent="",p){let S=new DOMParser().parseFromString(p,"text/html"),j=S.querySelector("head");j&&Array.from(j.childNodes).forEach(ke=>{d.appendChild(ke)});let ie=S.querySelector("body");ie&&Array.from(ie.childNodes).forEach(ke=>{ke instanceof HTMLVideoElement||ke instanceof HTMLAudioElement?d.appendChild(ke.cloneNode(!0)):d.appendChild(ke)})}},Sr=(d,p)=>{if(!p)return!1;let v=p.split(/\s+/);for(let S=0;S<v.length;S++)if(!d.classList.contains(v[S]))return!1;return!0},Dp=(d,p)=>{Array.from(d.classList).forEach(v=>{!Object.values(h).includes(v)&&!Object.values(w).includes(v)&&!Object.values(p.showClass||{}).includes(v)&&d.classList.remove(v)})},Bn=(d,p,v)=>{if(Dp(d,p),!p.customClass)return;let S=p.customClass[v];if(S){if(typeof S!="string"&&!S.forEach){P(`Invalid type of customClass.${v}! Expected string or iterable object, got "${typeof S}"`);return}$e(d,S)}},yl=(d,p)=>{if(!p)return null;switch(p){case"select":case"textarea":case"file":return d.querySelector(`.${h.popup} > .${h[p]}`);case"checkbox":return d.querySelector(`.${h.popup} > .${h.checkbox} input`);case"radio":return d.querySelector(`.${h.popup} > .${h.radio} input:checked`)||d.querySelector(`.${h.popup} > .${h.radio} input:first-child`);case"range":return d.querySelector(`.${h.popup} > .${h.range} input`);default:return d.querySelector(`.${h.popup} > .${h.input}`)}},Ud=d=>{if(d.focus(),d.type!=="file"){let p=d.value;d.value="",d.value=p}},jd=(d,p,v)=>{!d||!p||(typeof p=="string"&&(p=p.split(/\s+/).filter(Boolean)),p.forEach(S=>{Array.isArray(d)?d.forEach(j=>{v?j.classList.add(S):j.classList.remove(S)}):v?d.classList.add(S):d.classList.remove(S)}))},$e=(d,p)=>{jd(d,p,!0)},xr=(d,p)=>{jd(d,p,!1)},Hi=(d,p)=>{let v=Array.from(d.children);for(let S=0;S<v.length;S++){let j=v[S];if(j instanceof HTMLElement&&Sr(j,p))return j}},vi=(d,p,v)=>{v===`${parseInt(v)}`&&(v=parseInt(v)),v||parseInt(v)===0?d.style.setProperty(p,typeof v=="number"?`${v}px`:v):d.style.removeProperty(p)},kt=function(d){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";d&&(d.style.display=p)},Kt=d=>{d&&(d.style.display="none")},Qt=function(d){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";d&&new MutationObserver(()=>{qi(d,d.innerHTML,p)}).observe(d,{childList:!0,subtree:!0})},vn=(d,p,v,S)=>{let j=d.querySelector(p);j&&j.style.setProperty(v,S)},qi=function(d,p){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";p?kt(d,v):Kt(d)},Mn=d=>!!(d&&(d.offsetWidth||d.offsetHeight||d.getClientRects().length)),Rp=()=>!Mn(Ir())&&!Mn(Vn())&&!Mn(bs()),Mp=d=>d.scrollHeight>d.clientHeight,xs=d=>{let p=window.getComputedStyle(d),v=parseFloat(p.getPropertyValue("animation-duration")||"0"),S=parseFloat(p.getPropertyValue("transition-duration")||"0");return v>0||S>0},vl=function(d){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=$i();v&&Mn(v)&&(p&&(v.style.transition="none",v.style.width="100%"),setTimeout(()=>{v.style.transition=`width ${d/1e3}s linear`,v.style.width="0%"},10))},Pp=()=>{let d=$i();if(!d)return;let p=parseInt(window.getComputedStyle(d).width);d.style.removeProperty("transition"),d.style.width="100%";let v=parseInt(window.getComputedStyle(d).width),S=p/v*100;d.style.width=`${S}%`},$d=()=>typeof window>"u"||typeof document>"u",ww=`
 <div aria-labelledby="${h.title}" aria-describedby="${h["html-container"]}" class="${h.popup}" tabindex="-1">
   <button type="button" class="${h.close}"></button>
   <ul class="${h["progress-steps"]}"></ul>
   <div class="${h.icon}"></div>
   <img class="${h.image}" />
   <h2 class="${h.title}" id="${h.title}"></h2>
   <div class="${h["html-container"]}" id="${h["html-container"]}"></div>
   <input class="${h.input}" id="${h.input}" />
   <input type="file" class="${h.file}" />
   <div class="${h.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${h.select}" id="${h.select}"></select>
   <div class="${h.radio}"></div>
   <label class="${h.checkbox}">
     <input type="checkbox" id="${h.checkbox}" />
     <span class="${h.label}"></span>
   </label>
   <textarea class="${h.textarea}" id="${h.textarea}"></textarea>
   <div class="${h["validation-message"]}" id="${h["validation-message"]}"></div>
   <div class="${h.actions}">
     <div class="${h.loader}"></div>
     <button type="button" class="${h.confirm}"></button>
     <button type="button" class="${h.deny}"></button>
     <button type="button" class="${h.cancel}"></button>
   </div>
   <div class="${h.footer}"></div>
   <div class="${h["timer-progress-bar-container"]}">
     <div class="${h["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),bw=()=>{let d=R();return d?(d.remove(),xr([document.documentElement,document.body],[h["no-backdrop"],h["toast-shown"],h["has-column"]]),!0):!1},_i=()=>{s.currentInstance.resetValidationMessage()},Np=()=>{let d=V(),p=Hi(d,h.input),v=Hi(d,h.file),S=d.querySelector(`.${h.range} input`),j=d.querySelector(`.${h.range} output`),ie=Hi(d,h.select),ke=d.querySelector(`.${h.checkbox} input`),at=Hi(d,h.textarea);p.oninput=_i,v.onchange=_i,ie.onchange=_i,ke.onchange=_i,at.oninput=_i,S.oninput=()=>{_i(),j.value=S.value},S.onchange=()=>{_i(),j.value=S.value}},kp=d=>typeof d=="string"?document.querySelector(d):d,Va=d=>{let p=V();p.setAttribute("role",d.toast?"alert":"dialog"),p.setAttribute("aria-live",d.toast?"polite":"assertive"),d.toast||p.setAttribute("aria-modal","true")},Hd=d=>{window.getComputedStyle(d).direction==="rtl"&&$e(R(),h.rtl)},qd=d=>{let p=bw();if($d()){$("SweetAlert2 requires document to initialize");return}let v=document.createElement("div");v.className=h.container,p&&$e(v,h["no-transition"]),Rn(v,ww);let S=kp(d.target);S.appendChild(v),Va(d),Hd(S),Np()},wi=(d,p)=>{d instanceof HTMLElement?p.appendChild(d):typeof d=="object"?Op(d,p):d&&Rn(p,d)},Op=(d,p)=>{d.jquery?_l(p,d):Rn(p,d.toString())},_l=(d,p)=>{if(d.textContent="",0 in p)for(let v=0;v in p;v++)d.appendChild(p[v].cloneNode(!0));else d.appendChild(p.cloneNode(!0))},Fp=(d,p)=>{let v=yi(),S=Es();!v||!S||(!p.showConfirmButton&&!p.showDenyButton&&!p.showCancelButton?Kt(v):kt(v),Bn(v,p,"actions"),Ba(v,S,p),Rn(S,p.loaderHtml||""),Bn(S,p,"loader"))};function Ba(d,p,v){let S=Ir(),j=Vn(),ie=bs();!S||!j||!ie||(cn(S,"confirm",v),cn(j,"deny",v),cn(ie,"cancel",v),Lp(S,j,ie,v),v.reverseButtons&&(v.toast?(d.insertBefore(ie,S),d.insertBefore(j,S)):(d.insertBefore(ie,p),d.insertBefore(j,p),d.insertBefore(S,p))))}function Lp(d,p,v,S){if(!S.buttonsStyling){xr([d,p,v],h.styled);return}$e([d,p,v],h.styled),S.confirmButtonColor&&(d.style.backgroundColor=S.confirmButtonColor,$e(d,h["default-outline"])),S.denyButtonColor&&(p.style.backgroundColor=S.denyButtonColor,$e(p,h["default-outline"])),S.cancelButtonColor&&(v.style.backgroundColor=S.cancelButtonColor,$e(v,h["default-outline"]))}function cn(d,p,v){let S=L(p);qi(d,v[`show${S}Button`],"inline-block"),Rn(d,v[`${p}ButtonText`]||""),d.setAttribute("aria-label",v[`${p}ButtonAriaLabel`]||""),d.className=h[p],Bn(d,v,`${p}Button`)}let Vp=(d,p)=>{let v=Vd();v&&(Rn(v,p.closeButtonHtml||""),Bn(v,p,"closeButton"),qi(v,p.showCloseButton),v.setAttribute("aria-label",p.closeButtonAriaLabel||""))},Ua=(d,p)=>{let v=R();v&&(ja(v,p.backdrop),Ew(v,p.position),Cw(v,p.grow),Bn(v,p,"container"))};function ja(d,p){typeof p=="string"?d.style.background=p:p||$e([document.documentElement,document.body],h["no-backdrop"])}function Ew(d,p){p&&(p in h?$e(d,h[p]):(P('The "position" parameter is not valid, defaulting to "center"'),$e(d,h.center)))}function Cw(d,p){p&&$e(d,h[`grow-${p}`])}var et={innerParams:new WeakMap,domCache:new WeakMap};let Iw=["input","file","range","select","radio","checkbox","textarea"],Sw=(d,p)=>{let v=V();if(!v)return;let S=et.innerParams.get(d),j=!S||p.input!==S.input;Iw.forEach(ie=>{let ke=Hi(v,h[ie]);ke&&(zd(ie,p.inputAttributes),ke.className=h[ie],j&&Kt(ke))}),p.input&&(j&&wl(p),bl(p))},wl=d=>{if(!d.input)return;if(!It[d.input]){$(`Unexpected type of input! Expected ${Object.keys(It).join(" | ")}, got "${d.input}"`);return}let p=Gd(d.input);if(!p)return;let v=It[d.input](p,d);kt(p),d.inputAutoFocus&&setTimeout(()=>{Ud(v)})},Bp=d=>{for(let p=0;p<d.attributes.length;p++){let v=d.attributes[p].name;["id","type","value","style"].includes(v)||d.removeAttribute(v)}},zd=(d,p)=>{let v=V();if(!v)return;let S=yl(v,d);if(S){Bp(S);for(let j in p)S.setAttribute(j,p[j])}},bl=d=>{if(!d.input)return;let p=Gd(d.input);p&&Bn(p,d,"input")},Gr=(d,p)=>{!d.placeholder&&p.inputPlaceholder&&(d.placeholder=p.inputPlaceholder)},Ts=(d,p,v)=>{if(v.inputLabel){let S=document.createElement("label"),j=h["input-label"];S.setAttribute("for",d.id),S.className=j,typeof v.customClass=="object"&&$e(S,v.customClass.inputLabel),S.innerText=v.inputLabel,p.insertAdjacentElement("beforebegin",S)}},Gd=d=>{let p=V();if(p)return Hi(p,h[d]||h.input)},As=(d,p)=>{["string","number"].includes(typeof p)?d.value=`${p}`:A(p)||P(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof p}"`)},It={};It.text=It.email=It.password=It.number=It.tel=It.url=It.search=It.date=It["datetime-local"]=It.time=It.week=It.month=(d,p)=>(As(d,p.inputValue),Ts(d,d,p),Gr(d,p),d.type=p.input,d),It.file=(d,p)=>(Ts(d,d,p),Gr(d,p),d),It.range=(d,p)=>{let v=d.querySelector("input"),S=d.querySelector("output");return As(v,p.inputValue),v.type=p.input,As(S,p.inputValue),Ts(v,d,p),d},It.select=(d,p)=>{if(d.textContent="",p.inputPlaceholder){let v=document.createElement("option");Rn(v,p.inputPlaceholder),v.value="",v.disabled=!0,v.selected=!0,d.appendChild(v)}return Ts(d,d,p),d},It.radio=d=>(d.textContent="",d),It.checkbox=(d,p)=>{let v=yl(V(),"checkbox");v.value="1",v.checked=!!p.inputValue;let S=d.querySelector("span");return Rn(S,p.inputPlaceholder||p.inputLabel),v},It.textarea=(d,p)=>{As(d,p.inputValue),Gr(d,p),Ts(d,d,p);let v=S=>parseInt(window.getComputedStyle(S).marginLeft)+parseInt(window.getComputedStyle(S).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let S=parseInt(window.getComputedStyle(V()).width),j=()=>{if(!document.body.contains(d))return;let ie=d.offsetWidth+v(d);ie>S?V().style.width=`${ie}px`:vi(V(),"width",p.width)};new MutationObserver(j).observe(d,{attributes:!0,attributeFilter:["style"]})}}),d};let Up=(d,p)=>{let v=Ld();v&&(Qt(v),Bn(v,p,"htmlContainer"),p.html?(wi(p.html,v),kt(v,"block")):p.text?(v.textContent=p.text,kt(v,"block")):Kt(v),Sw(d,p))},jp=(d,p)=>{let v=Ap();v&&(Qt(v),qi(v,p.footer,"block"),p.footer&&wi(p.footer,v),Bn(v,p,"footer"))},xw=(d,p)=>{let v=et.innerParams.get(d),S=M();if(S){if(v&&p.icon===v.icon){zi(S,p),$a(S,p);return}if(!p.icon&&!p.iconHtml){Kt(S);return}if(p.icon&&Object.keys(w).indexOf(p.icon)===-1){$(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${p.icon}"`),Kt(S);return}kt(S),zi(S,p),$a(S,p),$e(S,p.showClass&&p.showClass.icon)}},$a=(d,p)=>{for(let[v,S]of Object.entries(w))p.icon!==v&&xr(d,S);$e(d,p.icon&&w[p.icon]),Kd(d,p),$p(),Bn(d,p,"icon")},$p=()=>{let d=V();if(!d)return;let p=window.getComputedStyle(d).getPropertyValue("background-color"),v=d.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let S=0;S<v.length;S++)v[S].style.backgroundColor=p},Wd=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Ha=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,zi=(d,p)=>{if(!p.icon&&!p.iconHtml)return;let v=d.innerHTML,S="";p.iconHtml?S=Hp(p.iconHtml):p.icon==="success"?(S=Wd,v=v.replace(/ style=".*?"/g,"")):p.icon==="error"?S=Ha:p.icon&&(S=Hp({question:"?",warning:"!",info:"i"}[p.icon])),v.trim()!==S.trim()&&Rn(d,S)},Kd=(d,p)=>{if(p.iconColor){d.style.color=p.iconColor,d.style.borderColor=p.iconColor;for(let v of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])vn(d,v,"background-color",p.iconColor);vn(d,".swal2-success-ring","border-color",p.iconColor)}},Hp=d=>`<div class="${h["icon-content"]}">${d}</div>`,qp=(d,p)=>{let v=_s();if(v){if(!p.imageUrl){Kt(v);return}kt(v,""),v.setAttribute("src",p.imageUrl),v.setAttribute("alt",p.imageAlt||""),vi(v,"width",p.imageWidth),vi(v,"height",p.imageHeight),v.className=h.image,Bn(v,p,"image")}},zp=(d,p)=>{let v=R(),S=V();if(!(!v||!S)){if(p.toast){vi(v,"width",p.width),S.style.width="100%";let j=Es();j&&S.insertBefore(j,M())}else vi(S,"width",p.width);vi(S,"padding",p.padding),p.color&&(S.style.color=p.color),p.background&&(S.style.background=p.background),Kt(ws()),Gp(S,p)}},Gp=(d,p)=>{let v=p.showClass||{};d.className=`${h.popup} ${Mn(d)?v.popup:""}`,p.toast?($e([document.documentElement,document.body],h["toast-shown"]),$e(d,h.toast)):$e(d,h.modal),Bn(d,p,"popup"),typeof p.customClass=="string"&&$e(d,p.customClass),p.icon&&$e(d,h[`icon-${p.icon}`])},Qd=(d,p)=>{let v=ko();if(!v)return;let{progressSteps:S,currentProgressStep:j}=p;if(!S||S.length===0||j===void 0){Kt(v);return}kt(v),v.textContent="",j>=S.length&&P("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),S.forEach((ie,ke)=>{let at=Yd(ie);if(v.appendChild(at),ke===j&&$e(at,h["active-progress-step"]),ke!==S.length-1){let Mt=Wp(p);v.appendChild(Mt)}})},Yd=d=>{let p=document.createElement("li");return $e(p,h["progress-step"]),Rn(p,d),p},Wp=d=>{let p=document.createElement("li");return $e(p,h["progress-step-line"]),d.progressStepsDistance&&vi(p,"width",d.progressStepsDistance),p},Kp=(d,p)=>{let v=vs();v&&(Qt(v),qi(v,p.title||p.titleText,"block"),p.title&&wi(p.title,v),p.titleText&&(v.innerText=p.titleText),Bn(v,p,"title"))},Qp=(d,p)=>{zp(d,p),Ua(d,p),Qd(d,p),xw(d,p),qp(d,p),Kp(d,p),Vp(d,p),Up(d,p),Fp(d,p),jp(d,p);let v=V();typeof p.didRender=="function"&&v&&p.didRender(v),s.eventEmitter.emit("didRender",v)},Tw=()=>Mn(V()),Zd=()=>{var d;return(d=Ir())===null||d===void 0?void 0:d.click()},Yp=()=>{var d;return(d=Vn())===null||d===void 0?void 0:d.click()},Aw=()=>{var d;return(d=bs())===null||d===void 0?void 0:d.click()},hr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Wr=d=>{d.keydownTarget&&d.keydownHandlerAdded&&(d.keydownTarget.removeEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!1)},El=(d,p,v)=>{Wr(d),p.toast||(d.keydownHandler=S=>Cl(p,S,v),d.keydownTarget=p.keydownListenerCapture?window:V(),d.keydownListenerCapture=p.keydownListenerCapture,d.keydownTarget.addEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!0)},Ds=(d,p)=>{var v;let S=Cs();if(S.length){d=d+p,d===S.length?d=0:d===-1&&(d=S.length-1),S[d].focus();return}(v=V())===null||v===void 0||v.focus()},Jd=["ArrowRight","ArrowDown"],gt=["ArrowLeft","ArrowUp"],Cl=(d,p,v)=>{d&&(p.isComposing||p.keyCode===229||(d.stopKeydownPropagation&&p.stopPropagation(),p.key==="Enter"?qa(p,d):p.key==="Tab"?za(p):[...Jd,...gt].includes(p.key)?Dw(p.key):p.key==="Escape"&&Zp(p,d,v)))},qa=(d,p)=>{if(!Ae(p.allowEnterKey))return;let v=yl(V(),p.input);if(d.target&&v&&d.target instanceof HTMLElement&&d.target.outerHTML===v.outerHTML){if(["textarea","file"].includes(p.input))return;Zd(),d.preventDefault()}},za=d=>{let p=d.target,v=Cs(),S=-1;for(let j=0;j<v.length;j++)if(p===v[j]){S=j;break}d.shiftKey?Ds(S,-1):Ds(S,1),d.stopPropagation(),d.preventDefault()},Dw=d=>{let p=yi(),v=Ir(),S=Vn(),j=bs();if(!p||!v||!S||!j)return;let ie=[v,S,j];if(document.activeElement instanceof HTMLElement&&!ie.includes(document.activeElement))return;let ke=Jd.includes(d)?"nextElementSibling":"previousElementSibling",at=document.activeElement;if(at){for(let Mt=0;Mt<p.children.length;Mt++){if(at=at[ke],!at)return;if(at instanceof HTMLButtonElement&&Mn(at))break}at instanceof HTMLButtonElement&&at.focus()}},Zp=(d,p,v)=>{Ae(p.allowEscapeKey)&&(d.preventDefault(),v(hr.esc))};var Rs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Rw=()=>{let d=R();Array.from(document.body.children).forEach(v=>{v.contains(d)||(v.hasAttribute("aria-hidden")&&v.setAttribute("data-previous-aria-hidden",v.getAttribute("aria-hidden")||""),v.setAttribute("aria-hidden","true"))})},Jp=()=>{Array.from(document.body.children).forEach(p=>{p.hasAttribute("data-previous-aria-hidden")?(p.setAttribute("aria-hidden",p.getAttribute("data-previous-aria-hidden")||""),p.removeAttribute("data-previous-aria-hidden")):p.removeAttribute("aria-hidden")})},Xp=typeof window<"u"&&!!window.GestureEvent,Ga=()=>{if(Xp&&!Sr(document.body,h.iosfix)){let d=document.body.scrollTop;document.body.style.top=`${d*-1}px`,$e(document.body,h.iosfix),Gi()}},Gi=()=>{let d=R();if(!d)return;let p;d.ontouchstart=v=>{p=em(v)},d.ontouchmove=v=>{p&&(v.preventDefault(),v.stopPropagation())}},em=d=>{let p=d.target,v=R(),S=Ld();return!v||!S||tm(d)||nm(d)?!1:p===v||!Mp(v)&&p instanceof HTMLElement&&p.tagName!=="INPUT"&&p.tagName!=="TEXTAREA"&&!(Mp(S)&&S.contains(p))},tm=d=>d.touches&&d.touches.length&&d.touches[0].touchType==="stylus",nm=d=>d.touches&&d.touches.length>1,Ms=()=>{if(Sr(document.body,h.iosfix)){let d=parseInt(document.body.style.top,10);xr(document.body,h.iosfix),document.body.style.top="",document.body.scrollTop=d*-1}},Mw=()=>{let d=document.createElement("div");d.className=h["scrollbar-measure"],document.body.appendChild(d);let p=d.getBoundingClientRect().width-d.clientWidth;return document.body.removeChild(d),p},Ps=null,Pw=d=>{Ps===null&&(document.body.scrollHeight>window.innerHeight||d==="scroll")&&(Ps=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ps+Mw()}px`)},Wi=()=>{Ps!==null&&(document.body.style.paddingRight=`${Ps}px`,Ps=null)};function rm(d,p,v,S){Ss()?St(d,S):(c(v).then(()=>St(d,S)),Wr(s)),Xp?(p.setAttribute("style","display:none !important"),p.removeAttribute("class"),p.innerHTML=""):p.remove(),Is()&&(Wi(),Ms(),Jp()),Nw()}function Nw(){xr([document.documentElement,document.body],[h.shown,h["height-auto"],h["no-backdrop"],h["toast-shown"]])}function pr(d){d=Wa(d);let p=Rs.swalPromiseResolve.get(this),v=Il(this);this.isAwaitingPromise?d.isDismissed||(bi(this),p(d)):v&&p(d)}let Il=d=>{let p=V();if(!p)return!1;let v=et.innerParams.get(d);if(!v||Sr(p,v.hideClass.popup))return!1;xr(p,v.showClass.popup),$e(p,v.hideClass.popup);let S=R();return xr(S,v.showClass.backdrop),$e(S,v.hideClass.backdrop),im(d,p,v),!0};function Xd(d){let p=Rs.swalPromiseReject.get(this);bi(this),p&&p(d)}let bi=d=>{d.isAwaitingPromise&&(delete d.isAwaitingPromise,et.innerParams.get(d)||d._destroy())},Wa=d=>typeof d>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},d),im=(d,p,v)=>{let S=R(),j=xs(p);typeof v.willClose=="function"&&v.willClose(p),s.eventEmitter.emit("willClose",p),j?ef(d,p,S,v.returnFocus,v.didClose):rm(d,S,v.returnFocus,v.didClose)},ef=(d,p,v,S,j)=>{s.swalCloseEventFinishedCallback=rm.bind(null,d,v,S,j);let ie=function(ke){ke.target===p&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback,p.removeEventListener("animationend",ie),p.removeEventListener("transitionend",ie))};p.addEventListener("animationend",ie),p.addEventListener("transitionend",ie)},St=(d,p)=>{setTimeout(()=>{typeof p=="function"&&p.bind(d.params)(),s.eventEmitter.emit("didClose"),d._destroy&&d._destroy()})},Ns=d=>{let p=V();if(p||new _m,p=V(),!p)return;let v=Es();Ss()?Kt(M()):kw(p,d),kt(v),p.setAttribute("data-loading","true"),p.setAttribute("aria-busy","true"),p.focus()},kw=(d,p)=>{let v=yi(),S=Es();!v||!S||(!p&&Mn(Ir())&&(p=Ir()),kt(v),p&&(Kt(p),S.setAttribute("data-button-to-replace",p.className),v.insertBefore(S,p)),$e([d,v],h.loading))},om=(d,p)=>{p.input==="select"||p.input==="radio"?Ei(d,p):["text","email","number","tel","textarea"].some(v=>v===p.input)&&(me(p.inputValue)||A(p.inputValue))&&(Ns(Ir()),lm(d,p))},sm=(d,p)=>{let v=d.getInput();if(!v)return null;switch(p.input){case"checkbox":return am(v);case"radio":return Sl(v);case"file":return cm(v);default:return p.inputAutoTrim?v.value.trim():v.value}},am=d=>d.checked?1:0,Sl=d=>d.checked?d.value:null,cm=d=>d.files&&d.files.length?d.getAttribute("multiple")!==null?d.files:d.files[0]:null,Ei=(d,p)=>{let v=V();if(!v)return;let S=j=>{p.input==="select"?Ow(v,Qa(j),p):p.input==="radio"&&Ka(v,Qa(j),p)};me(p.inputOptions)||A(p.inputOptions)?(Ns(Ir()),k(p.inputOptions).then(j=>{d.hideLoading(),S(j)})):typeof p.inputOptions=="object"?S(p.inputOptions):$(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof p.inputOptions}`)},lm=(d,p)=>{let v=d.getInput();v&&(Kt(v),k(p.inputValue).then(S=>{v.value=p.input==="number"?`${parseFloat(S)||0}`:`${S}`,kt(v),v.focus(),d.hideLoading()}).catch(S=>{$(`Error in inputValue promise: ${S}`),v.value="",kt(v),v.focus(),d.hideLoading()}))};function Ow(d,p,v){let S=Hi(d,h.select);if(!S)return;let j=(ie,ke,at)=>{let Mt=document.createElement("option");Mt.value=at,Rn(Mt,ke),Mt.selected=xl(at,v.inputValue),ie.appendChild(Mt)};p.forEach(ie=>{let ke=ie[0],at=ie[1];if(Array.isArray(at)){let Mt=document.createElement("optgroup");Mt.label=ke,Mt.disabled=!1,S.appendChild(Mt),at.forEach(Rl=>j(Mt,Rl[1],Rl[0]))}else j(S,at,ke)}),S.focus()}function Ka(d,p,v){let S=Hi(d,h.radio);if(!S)return;p.forEach(ie=>{let ke=ie[0],at=ie[1],Mt=document.createElement("input"),Rl=document.createElement("label");Mt.type="radio",Mt.name=h.radio,Mt.value=ke,xl(ke,v.inputValue)&&(Mt.checked=!0);let Lw=document.createElement("span");Rn(Lw,at),Lw.className=h.label,Rl.appendChild(Mt),Rl.appendChild(Lw),S.appendChild(Rl)});let j=S.querySelectorAll("input");j.length&&j[0].focus()}let Qa=d=>{let p=[];return d instanceof Map?d.forEach((v,S)=>{let j=v;typeof j=="object"&&(j=Qa(j)),p.push([S,j])}):Object.keys(d).forEach(v=>{let S=d[v];typeof S=="object"&&(S=Qa(S)),p.push([v,S])}),p},xl=(d,p)=>!!p&&p.toString()===d.toString(),Tl=d=>{let p=et.innerParams.get(d);d.disableButtons(),p.input?dm(d,"confirm"):Ya(d,!0)},um=d=>{let p=et.innerParams.get(d);d.disableButtons(),p.returnInputValueOnDeny?dm(d,"deny"):Oo(d,!1)},Al=(d,p)=>{d.disableButtons(),p(hr.cancel)},dm=(d,p)=>{let v=et.innerParams.get(d);if(!v.input){$(`The "input" parameter is needed to be set when using returnInputValueOn${L(p)}`);return}let S=d.getInput(),j=sm(d,v);v.inputValidator?fm(d,j,p):S&&!S.checkValidity()?(d.enableButtons(),d.showValidationMessage(v.validationMessage||S.validationMessage)):p==="deny"?Oo(d,j):Ya(d,j)},fm=(d,p,v)=>{let S=et.innerParams.get(d);d.disableInput(),Promise.resolve().then(()=>k(S.inputValidator(p,S.validationMessage))).then(ie=>{d.enableButtons(),d.enableInput(),ie?d.showValidationMessage(ie):v==="deny"?Oo(d,p):Ya(d,p)})},Oo=(d,p)=>{let v=et.innerParams.get(d||void 0);v.showLoaderOnDeny&&Ns(Vn()),v.preDeny?(d.isAwaitingPromise=!0,Promise.resolve().then(()=>k(v.preDeny(p,v.validationMessage))).then(j=>{j===!1?(d.hideLoading(),bi(d)):d.close({isDenied:!0,value:typeof j>"u"?p:j})}).catch(j=>nf(d||void 0,j))):d.close({isDenied:!0,value:p})},tf=(d,p)=>{d.close({isConfirmed:!0,value:p})},nf=(d,p)=>{d.rejectPromise(p)},Ya=(d,p)=>{let v=et.innerParams.get(d||void 0);v.showLoaderOnConfirm&&Ns(),v.preConfirm?(d.resetValidationMessage(),d.isAwaitingPromise=!0,Promise.resolve().then(()=>k(v.preConfirm(p,v.validationMessage))).then(j=>{Mn(ws())||j===!1?(d.hideLoading(),bi(d)):tf(d,typeof j>"u"?p:j)}).catch(j=>nf(d||void 0,j))):tf(d,p)};function ks(){let d=et.innerParams.get(this);if(!d)return;let p=et.domCache.get(this);Kt(p.loader),Ss()?d.icon&&kt(M()):hm(p),xr([p.popup,p.actions],h.loading),p.popup.removeAttribute("aria-busy"),p.popup.removeAttribute("data-loading"),p.confirmButton.disabled=!1,p.denyButton.disabled=!1,p.cancelButton.disabled=!1}let hm=d=>{let p=d.popup.getElementsByClassName(d.loader.getAttribute("data-button-to-replace"));p.length?kt(p[0],"inline-block"):Rp()&&Kt(d.actions)};function Za(){let d=et.innerParams.get(this),p=et.domCache.get(this);return p?yl(p.popup,d.input):null}function rf(d,p,v){let S=et.domCache.get(d);p.forEach(j=>{S[j].disabled=v})}function of(d,p){let v=V();if(!(!v||!d))if(d.type==="radio"){let S=v.querySelectorAll(`[name="${h.radio}"]`);for(let j=0;j<S.length;j++)S[j].disabled=p}else d.disabled=p}function Ki(){rf(this,["confirmButton","denyButton","cancelButton"],!1)}function sf(){rf(this,["confirmButton","denyButton","cancelButton"],!0)}function af(){of(this.getInput(),!1)}function cf(){of(this.getInput(),!0)}function lf(d){let p=et.domCache.get(this),v=et.innerParams.get(this);Rn(p.validationMessage,d),p.validationMessage.className=h["validation-message"],v.customClass&&v.customClass.validationMessage&&$e(p.validationMessage,v.customClass.validationMessage),kt(p.validationMessage);let S=this.getInput();S&&(S.setAttribute("aria-invalid","true"),S.setAttribute("aria-describedby",h["validation-message"]),Ud(S),$e(S,h.inputerror))}function Ja(){let d=et.domCache.get(this);d.validationMessage&&Kt(d.validationMessage);let p=this.getInput();p&&(p.removeAttribute("aria-invalid"),p.removeAttribute("aria-describedby"),xr(p,h.inputerror))}let Yt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},pm=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],mm={allowEnterKey:void 0},Os=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],u=d=>Object.prototype.hasOwnProperty.call(Yt,d),m=d=>pm.indexOf(d)!==-1,g=d=>mm[d],E=d=>{u(d)||P(`Unknown parameter "${d}"`)},U=d=>{Os.includes(d)&&P(`The parameter "${d}" is incompatible with toasts`)},H=d=>{let p=g(d);p&&de(d,p)},ee=d=>{d.backdrop===!1&&d.allowOutsideClick&&P('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let p in d)E(p),d.toast&&U(p),H(p)};function st(d){let p=V(),v=et.innerParams.get(this);if(!p||Sr(p,v.hideClass.popup)){P("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let S=ln(d),j=Object.assign({},v,S);Qp(this,j),et.innerParams.set(this,j),Object.defineProperties(this,{params:{value:Object.assign({},this.params,d),writable:!1,enumerable:!0}})}let ln=d=>{let p={};return Object.keys(d).forEach(v=>{m(v)?p[v]=d[v]:P(`Invalid parameter to update: ${v}`)}),p};function Qe(){let d=et.domCache.get(this),p=et.innerParams.get(this);if(!p){un(this);return}d.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof p.didDestroy=="function"&&p.didDestroy(),s.eventEmitter.emit("didDestroy"),_n(this)}let _n=d=>{un(d),delete d.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},un=d=>{d.isAwaitingPromise?(Qi(et,d),d.isAwaitingPromise=!0):(Qi(Rs,d),Qi(et,d),delete d.isAwaitingPromise,delete d.disableButtons,delete d.enableButtons,delete d.getInput,delete d.disableInput,delete d.enableInput,delete d.hideLoading,delete d.disableLoading,delete d.showValidationMessage,delete d.resetValidationMessage,delete d.close,delete d.closePopup,delete d.closeModal,delete d.closeToast,delete d.rejectPromise,delete d.update,delete d._destroy)},Qi=(d,p)=>{for(let v in d)d[v].delete(p)};var Tr=Object.freeze({__proto__:null,_destroy:Qe,close:pr,closeModal:pr,closePopup:pr,closeToast:pr,disableButtons:sf,disableInput:cf,disableLoading:ks,enableButtons:Ki,enableInput:af,getInput:Za,handleAwaitingPromise:bi,hideLoading:ks,rejectPromise:Xd,resetValidationMessage:Ja,showValidationMessage:lf,update:st});let Dl=(d,p,v)=>{d.toast?uf(d,p,v):(L$(p),V$(p),B$(d,p,v))},uf=(d,p,v)=>{p.popup.onclick=()=>{d&&(F$(d)||d.timer||d.input)||v(hr.close)}},F$=d=>!!(d.showConfirmButton||d.showDenyButton||d.showCancelButton||d.showCloseButton),gm=!1,L$=d=>{d.popup.onmousedown=()=>{d.container.onmouseup=function(p){d.container.onmouseup=()=>{},p.target===d.container&&(gm=!0)}}},V$=d=>{d.container.onmousedown=p=>{p.target===d.container&&p.preventDefault(),d.popup.onmouseup=function(v){d.popup.onmouseup=()=>{},(v.target===d.popup||v.target instanceof HTMLElement&&d.popup.contains(v.target))&&(gm=!0)}}},B$=(d,p,v)=>{p.container.onclick=S=>{if(gm){gm=!1;return}S.target===p.container&&Ae(d.allowOutsideClick)&&v(hr.backdrop)}},U$=d=>typeof d=="object"&&d.jquery,GD=d=>d instanceof Element||U$(d),j$=d=>{let p={};return typeof d[0]=="object"&&!GD(d[0])?Object.assign(p,d[0]):["title","html","icon"].forEach((v,S)=>{let j=d[S];typeof j=="string"||GD(j)?p[v]=j:j!==void 0&&$(`Unexpected type of ${v}! Expected "string" or "Element", got ${typeof j}`)}),p};function $$(){for(var d=arguments.length,p=new Array(d),v=0;v<d;v++)p[v]=arguments[v];return new this(...p)}function H$(d){class p extends this{_main(S,j){return super._main(S,Object.assign({},d,j))}}return p}let q$=()=>s.timeout&&s.timeout.getTimerLeft(),WD=()=>{if(s.timeout)return Pp(),s.timeout.stop()},KD=()=>{if(s.timeout){let d=s.timeout.start();return vl(d),d}},z$=()=>{let d=s.timeout;return d&&(d.running?WD():KD())},G$=d=>{if(s.timeout){let p=s.timeout.increase(d);return vl(p,!0),p}},W$=()=>!!(s.timeout&&s.timeout.isRunning()),QD=!1,Fw={};function K$(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Fw[d]=this,QD||(document.body.addEventListener("click",Q$),QD=!0)}let Q$=d=>{for(let p=d.target;p&&p!==document;p=p.parentNode)for(let v in Fw){let S=p.getAttribute(v);if(S){Fw[v].fire({template:S});return}}};class Y${constructor(){this.events={}}_getHandlersByEventName(p){return typeof this.events[p]>"u"&&(this.events[p]=[]),this.events[p]}on(p,v){let S=this._getHandlersByEventName(p);S.includes(v)||S.push(v)}once(p,v){var S=this;let j=function(){S.removeListener(p,j);for(var ie=arguments.length,ke=new Array(ie),at=0;at<ie;at++)ke[at]=arguments[at];v.apply(S,ke)};this.on(p,j)}emit(p){for(var v=arguments.length,S=new Array(v>1?v-1:0),j=1;j<v;j++)S[j-1]=arguments[j];this._getHandlersByEventName(p).forEach(ie=>{try{ie.apply(this,S)}catch(ke){console.error(ke)}})}removeListener(p,v){let S=this._getHandlersByEventName(p),j=S.indexOf(v);j>-1&&S.splice(j,1)}removeAllListeners(p){this.events[p]!==void 0&&(this.events[p].length=0)}reset(){this.events={}}}s.eventEmitter=new Y$;var Z$=Object.freeze({__proto__:null,argsToParams:j$,bindClickHandler:K$,clickCancel:Aw,clickConfirm:Zd,clickDeny:Yp,enableLoading:Ns,fire:$$,getActions:yi,getCancelButton:bs,getCloseButton:Vd,getConfirmButton:Ir,getContainer:R,getDenyButton:Vn,getFocusableElements:Cs,getFooter:Ap,getHtmlContainer:Ld,getIcon:M,getIconContent:gi,getImage:_s,getInputLabel:yn,getLoader:Es,getPopup:V,getProgressSteps:ko,getTimerLeft:q$,getTimerProgressBar:$i,getTitle:vs,getValidationMessage:ws,increaseTimer:G$,isDeprecatedParameter:g,isLoading:Bd,isTimerRunning:W$,isUpdatableParameter:m,isValidParameter:u,isVisible:Tw,mixin:H$,off:(d,p)=>{if(!d){s.eventEmitter.reset();return}p?s.eventEmitter.removeListener(d,p):s.eventEmitter.removeAllListeners(d)},on:(d,p)=>{s.eventEmitter.on(d,p)},once:(d,p)=>{s.eventEmitter.once(d,p)},resumeTimer:KD,showLoading:Ns,stopTimer:WD,toggleTimer:z$});class J${constructor(p,v){this.callback=p,this.remaining=v,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(p){let v=this.running;return v&&this.stop(),this.remaining+=p,v&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let YD=["swal-title","swal-html","swal-footer"],X$=d=>{let p=typeof d.template=="string"?document.querySelector(d.template):d.template;if(!p)return{};let v=p.content;return a4(v),Object.assign(e4(v),t4(v),n4(v),r4(v),i4(v),o4(v),s4(v,YD))},e4=d=>{let p={};return Array.from(d.querySelectorAll("swal-param")).forEach(S=>{Xa(S,["name","value"]);let j=S.getAttribute("name"),ie=S.getAttribute("value");!j||!ie||(typeof Yt[j]=="boolean"?p[j]=ie!=="false":typeof Yt[j]=="object"?p[j]=JSON.parse(ie):p[j]=ie)}),p},t4=d=>{let p={};return Array.from(d.querySelectorAll("swal-function-param")).forEach(S=>{let j=S.getAttribute("name"),ie=S.getAttribute("value");!j||!ie||(p[j]=new Function(`return ${ie}`)())}),p},n4=d=>{let p={};return Array.from(d.querySelectorAll("swal-button")).forEach(S=>{Xa(S,["type","color","aria-label"]);let j=S.getAttribute("type");!j||!["confirm","cancel","deny"].includes(j)||(p[`${j}ButtonText`]=S.innerHTML,p[`show${L(j)}Button`]=!0,S.hasAttribute("color")&&(p[`${j}ButtonColor`]=S.getAttribute("color")),S.hasAttribute("aria-label")&&(p[`${j}ButtonAriaLabel`]=S.getAttribute("aria-label")))}),p},r4=d=>{let p={},v=d.querySelector("swal-image");return v&&(Xa(v,["src","width","height","alt"]),v.hasAttribute("src")&&(p.imageUrl=v.getAttribute("src")||void 0),v.hasAttribute("width")&&(p.imageWidth=v.getAttribute("width")||void 0),v.hasAttribute("height")&&(p.imageHeight=v.getAttribute("height")||void 0),v.hasAttribute("alt")&&(p.imageAlt=v.getAttribute("alt")||void 0)),p},i4=d=>{let p={},v=d.querySelector("swal-icon");return v&&(Xa(v,["type","color"]),v.hasAttribute("type")&&(p.icon=v.getAttribute("type")),v.hasAttribute("color")&&(p.iconColor=v.getAttribute("color")),p.iconHtml=v.innerHTML),p},o4=d=>{let p={},v=d.querySelector("swal-input");v&&(Xa(v,["type","label","placeholder","value"]),p.input=v.getAttribute("type")||"text",v.hasAttribute("label")&&(p.inputLabel=v.getAttribute("label")),v.hasAttribute("placeholder")&&(p.inputPlaceholder=v.getAttribute("placeholder")),v.hasAttribute("value")&&(p.inputValue=v.getAttribute("value")));let S=Array.from(d.querySelectorAll("swal-input-option"));return S.length&&(p.inputOptions={},S.forEach(j=>{Xa(j,["value"]);let ie=j.getAttribute("value");if(!ie)return;let ke=j.innerHTML;p.inputOptions[ie]=ke})),p},s4=(d,p)=>{let v={};for(let S in p){let j=p[S],ie=d.querySelector(j);ie&&(Xa(ie,[]),v[j.replace(/^swal-/,"")]=ie.innerHTML.trim())}return v},a4=d=>{let p=YD.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(d.children).forEach(v=>{let S=v.tagName.toLowerCase();p.includes(S)||P(`Unrecognized element <${S}>`)})},Xa=(d,p)=>{Array.from(d.attributes).forEach(v=>{p.indexOf(v.name)===-1&&P([`Unrecognized attribute "${v.name}" on <${d.tagName.toLowerCase()}>.`,`${p.length?`Allowed attributes are: ${p.join(", ")}`:"To set the value, use HTML within the element."}`])})},ZD=10,c4=d=>{let p=R(),v=V();typeof d.willOpen=="function"&&d.willOpen(v),s.eventEmitter.emit("willOpen",v);let j=window.getComputedStyle(document.body).overflowY;d4(p,v,d),setTimeout(()=>{l4(p,v)},ZD),Is()&&(u4(p,d.scrollbarPadding,j),Rw()),!Ss()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof d.didOpen=="function"&&setTimeout(()=>d.didOpen(v)),s.eventEmitter.emit("didOpen",v),xr(p,h["no-transition"])},ym=d=>{let p=V();if(d.target!==p)return;let v=R();p.removeEventListener("animationend",ym),p.removeEventListener("transitionend",ym),v.style.overflowY="auto"},l4=(d,p)=>{xs(p)?(d.style.overflowY="hidden",p.addEventListener("animationend",ym),p.addEventListener("transitionend",ym)):d.style.overflowY="auto"},u4=(d,p,v)=>{Ga(),p&&v!=="hidden"&&Pw(v),setTimeout(()=>{d.scrollTop=0})},d4=(d,p,v)=>{$e(d,v.showClass.backdrop),v.animation?(p.style.setProperty("opacity","0","important"),kt(p,"grid"),setTimeout(()=>{$e(p,v.showClass.popup),p.style.removeProperty("opacity")},ZD)):kt(p,"grid"),$e([document.documentElement,document.body],h.shown),v.heightAuto&&v.backdrop&&!v.toast&&$e([document.documentElement,document.body],h["height-auto"])};var JD={email:(d,p)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(d)?Promise.resolve():Promise.resolve(p||"Invalid email address"),url:(d,p)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(d)?Promise.resolve():Promise.resolve(p||"Invalid URL")};function f4(d){d.inputValidator||(d.input==="email"&&(d.inputValidator=JD.email),d.input==="url"&&(d.inputValidator=JD.url))}function h4(d){(!d.target||typeof d.target=="string"&&!document.querySelector(d.target)||typeof d.target!="string"&&!d.target.appendChild)&&(P('Target parameter is not valid, defaulting to "body"'),d.target="body")}function p4(d){f4(d),d.showLoaderOnConfirm&&!d.preConfirm&&P(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),h4(d),typeof d.title=="string"&&(d.title=d.title.split(`
`).join("<br />")),qd(d)}let Yi;var vm=new WeakMap;class Bt{constructor(){if(r(this,vm,void 0),typeof window>"u")return;Yi=this;for(var p=arguments.length,v=new Array(p),S=0;S<p;S++)v[S]=arguments[S];let j=Object.freeze(this.constructor.argsToParams(v));this.params=j,this.isAwaitingPromise=!1,i(vm,this,this._main(Yi.params))}_main(p){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ee(Object.assign({},v,p)),s.currentInstance){let ie=Rs.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:ke}=s.currentInstance;s.currentInstance._destroy(),ke||ie({isDismissed:!0}),Is()&&Jp()}s.currentInstance=Yi;let S=g4(p,v);p4(S),Object.freeze(S),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let j=y4(Yi);return Qp(Yi,S),et.innerParams.set(Yi,S),m4(Yi,j,S)}then(p){return n(vm,this).then(p)}finally(p){return n(vm,this).finally(p)}}let m4=(d,p,v)=>new Promise((S,j)=>{let ie=ke=>{d.close({isDismissed:!0,dismiss:ke})};Rs.swalPromiseResolve.set(d,S),Rs.swalPromiseReject.set(d,j),p.confirmButton.onclick=()=>{Tl(d)},p.denyButton.onclick=()=>{um(d)},p.cancelButton.onclick=()=>{Al(d,ie)},p.closeButton.onclick=()=>{ie(hr.close)},Dl(v,p,ie),El(s,v,ie),om(d,v),c4(v),v4(s,v,ie),_4(p,v),setTimeout(()=>{p.container.scrollTop=0})}),g4=(d,p)=>{let v=X$(d),S=Object.assign({},Yt,p,v,d);return S.showClass=Object.assign({},Yt.showClass,S.showClass),S.hideClass=Object.assign({},Yt.hideClass,S.hideClass),S.animation===!1&&(S.showClass={backdrop:"swal2-noanimation"},S.hideClass={}),S},y4=d=>{let p={popup:V(),container:R(),actions:yi(),confirmButton:Ir(),denyButton:Vn(),cancelButton:bs(),loader:Es(),closeButton:Vd(),validationMessage:ws(),progressSteps:ko()};return et.domCache.set(d,p),p},v4=(d,p,v)=>{let S=$i();Kt(S),p.timer&&(d.timeout=new J$(()=>{v("timer"),delete d.timeout},p.timer),p.timerProgressBar&&(kt(S),Bn(S,p,"timerProgressBar"),setTimeout(()=>{d.timeout&&d.timeout.running&&vl(p.timer)})))},_4=(d,p)=>{if(!p.toast){if(!Ae(p.allowEnterKey)){de("allowEnterKey"),E4();return}w4(d)||b4(d,p)||Ds(-1,1)}},w4=d=>{let p=d.popup.querySelectorAll("[autofocus]");for(let v of p)if(v instanceof HTMLElement&&Mn(v))return v.focus(),!0;return!1},b4=(d,p)=>p.focusDeny&&Mn(d.denyButton)?(d.denyButton.focus(),!0):p.focusCancel&&Mn(d.cancelButton)?(d.cancelButton.focus(),!0):p.focusConfirm&&Mn(d.confirmButton)?(d.confirmButton.focus(),!0):!1,E4=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let d=new Date,p=localStorage.getItem("swal-initiation");p?(d.getTime()-Date.parse(p))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let v=document.createElement("audio");v.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",v.loop=!0,document.body.appendChild(v),setTimeout(()=>{v.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${d}`)}Bt.prototype.disableButtons=sf,Bt.prototype.enableButtons=Ki,Bt.prototype.getInput=Za,Bt.prototype.disableInput=cf,Bt.prototype.enableInput=af,Bt.prototype.hideLoading=ks,Bt.prototype.disableLoading=ks,Bt.prototype.showValidationMessage=lf,Bt.prototype.resetValidationMessage=Ja,Bt.prototype.close=pr,Bt.prototype.closePopup=pr,Bt.prototype.closeModal=pr,Bt.prototype.closeToast=pr,Bt.prototype.rejectPromise=Xd,Bt.prototype.update=st,Bt.prototype._destroy=Qe,Object.assign(Bt,Z$),Object.keys(Tr).forEach(d=>{Bt[d]=function(){return Yi&&Yi[d]?Yi[d](...arguments):null}}),Bt.DismissReason=hr,Bt.version="11.14.4";let _m=Bt;return _m.default=_m,_m});typeof xo<"u"&&xo.Sweetalert2&&(xo.swal=xo.sweetAlert=xo.Swal=xo.SweetAlert=xo.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});var U_=mr(ms=>{"use strict";var MV=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",IX=MV+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",PV="["+MV+"]["+IX+"]*",SX=new RegExp("^"+PV+"$"),xX=function(t,e){let n=[],r=e.exec(t);for(;r;){let i=[];i.startIndex=e.lastIndex-r[0].length;let o=r.length;for(let s=0;s<o;s++)i.push(r[s]);n.push(i),r=e.exec(t)}return n},TX=function(t){let e=SX.exec(t);return!(e===null||typeof e>"u")};ms.isExist=function(t){return typeof t<"u"};ms.isEmptyObject=function(t){return Object.keys(t).length===0};ms.merge=function(t,e,n){if(e){let r=Object.keys(e),i=r.length;for(let o=0;o<i;o++)n==="strict"?t[r[o]]=[e[r[o]]]:t[r[o]]=e[r[o]]}};ms.getValue=function(t){return ms.isExist(t)?t:""};ms.isName=TX;ms.getAllMatches=xX;ms.nameRegexp=PV});var dA=mr(LV=>{"use strict";var uA=U_(),AX={allowBooleanAttributes:!1,unpairedTags:[]};LV.validate=function(t,e){e=Object.assign({},AX,e);let n=[],r=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let o=0;o<t.length;o++)if(t[o]==="<"&&t[o+1]==="?"){if(o+=2,o=kV(t,o),o.err)return o}else if(t[o]==="<"){let s=o;if(o++,t[o]==="!"){o=OV(t,o);continue}else{let a=!1;t[o]==="/"&&(a=!0,o++);let c="";for(;o<t.length&&t[o]!==">"&&t[o]!==" "&&t[o]!=="	"&&t[o]!==`
`&&t[o]!=="\r";o++)c+=t[o];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),o--),!FX(c)){let h;return c.trim().length===0?h="Invalid space after '<'.":h="Tag '"+c+"' is an invalid name.",Gt("InvalidTag",h,cr(t,o))}let l=MX(t,o);if(l===!1)return Gt("InvalidAttr","Attributes for '"+c+"' have open quote.",cr(t,o));let f=l.value;if(o=l.index,f[f.length-1]==="/"){let h=o-f.length;f=f.substring(0,f.length-1);let y=FV(f,e);if(y===!0)r=!0;else return Gt(y.err.code,y.err.msg,cr(t,h+y.err.line))}else if(a)if(l.tagClosed){if(f.trim().length>0)return Gt("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",cr(t,s));if(n.length===0)return Gt("InvalidTag","Closing tag '"+c+"' has not been opened.",cr(t,s));{let h=n.pop();if(c!==h.tagName){let y=cr(t,h.tagStartPos);return Gt("InvalidTag","Expected closing tag '"+h.tagName+"' (opened in line "+y.line+", col "+y.col+") instead of closing tag '"+c+"'.",cr(t,s))}n.length==0&&(i=!0)}}else return Gt("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",cr(t,o));else{let h=FV(f,e);if(h!==!0)return Gt(h.err.code,h.err.msg,cr(t,o-f.length+h.err.line));if(i===!0)return Gt("InvalidXml","Multiple possible root nodes found.",cr(t,o));e.unpairedTags.indexOf(c)!==-1||n.push({tagName:c,tagStartPos:s}),r=!0}for(o++;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="!"){o++,o=OV(t,o);continue}else if(t[o+1]==="?"){if(o=kV(t,++o),o.err)return o}else break;else if(t[o]==="&"){let h=kX(t,o);if(h==-1)return Gt("InvalidChar","char '&' is not expected.",cr(t,o));o=h}else if(i===!0&&!NV(t[o]))return Gt("InvalidXml","Extra text at the end",cr(t,o));t[o]==="<"&&o--}}else{if(NV(t[o]))continue;return Gt("InvalidChar","char '"+t[o]+"' is not expected.",cr(t,o))}if(r){if(n.length==1)return Gt("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",cr(t,n[0].tagStartPos));if(n.length>0)return Gt("InvalidXml","Invalid '"+JSON.stringify(n.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Gt("InvalidXml","Start tag expected.",1);return!0};function NV(t){return t===" "||t==="	"||t===`
`||t==="\r"}function kV(t,e){let n=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let r=t.substr(n,e-n);if(e>5&&r==="xml")return Gt("InvalidXml","XML declaration allowed only at the start of the document.",cr(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function OV(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let n=1;for(e+=8;e<t.length;e++)if(t[e]==="<")n++;else if(t[e]===">"&&(n--,n===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}var DX='"',RX="'";function MX(t,e){let n="",r="",i=!1;for(;e<t.length;e++){if(t[e]===DX||t[e]===RX)r===""?r=t[e]:r!==t[e]||(r="");else if(t[e]===">"&&r===""){i=!0;break}n+=t[e]}return r!==""?!1:{value:n,index:e,tagClosed:i}}var PX=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function FV(t,e){let n=uA.getAllMatches(t,PX),r={};for(let i=0;i<n.length;i++){if(n[i][1].length===0)return Gt("InvalidAttr","Attribute '"+n[i][2]+"' has no space in starting.",dp(n[i]));if(n[i][3]!==void 0&&n[i][4]===void 0)return Gt("InvalidAttr","Attribute '"+n[i][2]+"' is without value.",dp(n[i]));if(n[i][3]===void 0&&!e.allowBooleanAttributes)return Gt("InvalidAttr","boolean attribute '"+n[i][2]+"' is not allowed.",dp(n[i]));let o=n[i][2];if(!OX(o))return Gt("InvalidAttr","Attribute '"+o+"' is an invalid name.",dp(n[i]));if(!r.hasOwnProperty(o))r[o]=1;else return Gt("InvalidAttr","Attribute '"+o+"' is repeated.",dp(n[i]))}return!0}function NX(t,e){let n=/\d/;for(t[e]==="x"&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(n))break}return-1}function kX(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,NX(t,e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(t[e]===";")break;return-1}return e}function Gt(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function OX(t){return uA.isName(t)}function FX(t){return uA.isName(t)}function cr(t,e){let n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function dp(t){return t.startIndex+t[1].length}});var BV=mr(fA=>{"use strict";var VV={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}},LX=function(t){return Object.assign({},VV,t)};fA.buildOptions=LX;fA.defaultOptions=VV});var jV=mr((OIe,UV)=>{"use strict";var hA=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,n){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:n})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};UV.exports=hA});var HV=mr((FIe,$V)=>{"use strict";var VX=U_();function BX(t,e){let n={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let r=1,i=!1,o=!1,s="";for(;e<t.length;e++)if(t[e]==="<"&&!o){if(i&&$X(t,e))e+=7,[entityName,val,e]=UX(t,e+1),val.indexOf("&")===-1&&(n[GX(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(i&&HX(t,e))e+=8;else if(i&&qX(t,e))e+=8;else if(i&&zX(t,e))e+=9;else if(jX)o=!0;else throw new Error("Invalid DOCTYPE");r++,s=""}else if(t[e]===">"){if(o?t[e-1]==="-"&&t[e-2]==="-"&&(o=!1,r--):r--,r===0)break}else t[e]==="["?i=!0:s+=t[e];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:e}}function UX(t,e){let n="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)n+=t[e];if(n=n.trim(),n.indexOf(" ")!==-1)throw new Error("External entites are not supported");let r=t[e++],i="";for(;e<t.length&&t[e]!==r;e++)i+=t[e];return[n,i,e]}function jX(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function $X(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function HX(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function qX(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function zX(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function GX(t){if(VX.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}$V.exports=BX});var zV=mr((LIe,qV)=>{"use strict";var WX=/^[-+]?0x[a-fA-F0-9]+$/,KX=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var QX={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function YX(t,e={}){if(e=Object.assign({},QX,e),!t||typeof t!="string")return t;let n=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(n))return t;if(e.hex&&WX.test(n))return Number.parseInt(n,16);{let r=KX.exec(n);if(r){let i=r[1],o=r[2],s=ZX(r[3]),a=r[4]||r[6];if(!e.leadingZeros&&o.length>0&&i&&n[2]!==".")return t;if(!e.leadingZeros&&o.length>0&&!i&&n[1]!==".")return t;{let c=Number(n),l=""+c;return l.search(/[eE]/)!==-1||a?e.eNotation?c:t:n.indexOf(".")!==-1?l==="0"&&s===""||l===s||i&&l==="-"+s?c:t:o?s===l||i+s===l?c:t:n===l||n===i+l?c:t}}else return t}}function ZX(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}qV.exports=YX});var KV=mr((VIe,WV)=>{"use strict";var GV=U_(),fp=jV(),JX=HV(),XX=zV(),pA=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,16))}},this.addExternalEntities=eee,this.parseXml=oee,this.parseTextData=tee,this.resolveNameSpace=nee,this.buildAttributesMap=iee,this.isItStopNode=lee,this.replaceEntitiesValue=aee,this.readStopNodeData=dee,this.saveTextToParentTag=cee,this.addChild=see}};function eee(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function tee(t,e,n,r,i,o,s){if(t!==void 0&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){s||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,n,i,o);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?gA(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?gA(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function nee(t){if(this.options.removeNSPrefix){let e=t.split(":"),n=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=n+e[1])}return t}var ree=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function iee(t,e,n){if(!this.options.ignoreAttributes&&typeof t=="string"){let r=GV.getAllMatches(t,ree),i=r.length,o={};for(let s=0;s<i;s++){let a=this.resolveNameSpace(r[s][1]),c=r[s][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let f=this.options.attributeValueProcessor(a,c,e);f==null?o[l]=c:typeof f!=typeof c||f!==c?o[l]=f:o[l]=gA(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[l]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=o,s}return o}}var oee=function(t){t=t.replace(/\r\n?/g,`
`);let e=new fp("!xml"),n=e,r="",i="";for(let o=0;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="/"){let a=ll(t,">",o,"Closing Tag is not closed."),c=t.substring(o+2,a).trim();if(this.options.removeNSPrefix){let h=c.indexOf(":");h!==-1&&(c=c.substr(h+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&(r=this.saveTextToParentTag(r,n,i));let l=i.substring(i.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let f=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(f=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):f=i.lastIndexOf("."),i=i.substring(0,f),n=this.tagsNodeStack.pop(),r="",o=a}else if(t[o+1]==="?"){let a=mA(t,o,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new fp(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(n,c,i)}o=a.closeIndex+1}else if(t.substr(o+1,3)==="!--"){let a=ll(t,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){let c=t.substring(o+4,a-2);r=this.saveTextToParentTag(r,n,i),n.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}o=a}else if(t.substr(o+1,2)==="!D"){let a=JX(t,o);this.docTypeEntities=a.entities,o=a.i}else if(t.substr(o+1,2)==="!["){let a=ll(t,"]]>",o,"CDATA is not closed.")-2,c=t.substring(o+9,a);r=this.saveTextToParentTag(r,n,i);let l=this.parseTextData(c,n.tagname,i,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):n.add(this.options.textNodeName,l),o=a+2}else{let a=mA(t,o,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,f=a.tagExp,h=a.attrExpPresent,y=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,i,!1));let w=n;if(w&&this.options.unpairedTags.indexOf(w.tagname)!==-1&&(n=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),c!==e.tagname&&(i+=i?"."+c:c),this.isItStopNode(this.options.stopNodes,i,c)){let I="";if(f.length>0&&f.lastIndexOf("/")===f.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),f=c):f=f.substr(0,f.length-1),o=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)o=a.closeIndex;else{let P=this.readStopNodeData(t,l,y+1);if(!P)throw new Error(`Unexpected end of ${l}`);o=P.i,I=P.tagContent}let L=new fp(c);c!==f&&h&&(L[":@"]=this.buildAttributesMap(f,i,c)),I&&(I=this.parseTextData(I,c,i,!0,h,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),L.add(this.options.textNodeName,I),this.addChild(n,L,i)}else{if(f.length>0&&f.lastIndexOf("/")===f.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),f=c):f=f.substr(0,f.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let I=new fp(c);c!==f&&h&&(I[":@"]=this.buildAttributesMap(f,i,c)),this.addChild(n,I,i),i=i.substr(0,i.lastIndexOf("."))}else{let I=new fp(c);this.tagsNodeStack.push(n),c!==f&&h&&(I[":@"]=this.buildAttributesMap(f,i,c)),this.addChild(n,I,i),n=I}r="",o=y}}else r+=t[o];return e.child};function see(t,e,n){let r=this.options.updateTag(e.tagname,n,e[":@"]);r===!1||(typeof r=="string"&&(e.tagname=r),t.addChild(e))}var aee=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){let n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function cee(t,e,n,r){return t&&(r===void 0&&(r=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,n,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,r),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function lee(t,e,n){let r="*."+n;for(let i in t){let o=t[i];if(r===o||e===o)return!0}return!1}function uee(t,e,n=">"){let r,i="";for(let o=e;o<t.length;o++){let s=t[o];if(r)s===r&&(r="");else if(s==='"'||s==="'")r=s;else if(s===n[0])if(n[1]){if(t[o+1]===n[1])return{data:i,index:o}}else return{data:i,index:o};else s==="	"&&(s=" ");i+=s}}function ll(t,e,n,r){let i=t.indexOf(e,n);if(i===-1)throw new Error(r);return i+e.length-1}function mA(t,e,n,r=">"){let i=uee(t,e+1,r);if(!i)return;let o=i.data,s=i.index,a=o.search(/\s/),c=o,l=!0;a!==-1&&(c=o.substring(0,a),o=o.substring(a+1).trimStart());let f=c;if(n){let h=c.indexOf(":");h!==-1&&(c=c.substr(h+1),l=c!==i.data.substr(h+1))}return{tagName:c,tagExp:o,closeIndex:s,attrExpPresent:l,rawTagName:f}}function dee(t,e,n){let r=n,i=1;for(;n<t.length;n++)if(t[n]==="<")if(t[n+1]==="/"){let o=ll(t,">",n,`${e} is not closed`);if(t.substring(n+2,o).trim()===e&&(i--,i===0))return{tagContent:t.substring(r,n),i:o};n=o}else if(t[n+1]==="?")n=ll(t,"?>",n+1,"StopNode is not closed.");else if(t.substr(n+1,3)==="!--")n=ll(t,"-->",n+3,"StopNode is not closed.");else if(t.substr(n+1,2)==="![")n=ll(t,"]]>",n,"StopNode is not closed.")-2;else{let o=mA(t,n,">");o&&((o&&o.tagName)===e&&o.tagExp[o.tagExp.length-1]!=="/"&&i++,n=o.closeIndex)}}function gA(t,e,n){if(e&&typeof t=="string"){let r=t.trim();return r==="true"?!0:r==="false"?!1:XX(t,n)}else return GV.isExist(t)?t:""}WV.exports=pA});var ZV=mr(YV=>{"use strict";function fee(t,e){return QV(t,e)}function QV(t,e,n){let r,i={};for(let o=0;o<t.length;o++){let s=t[o],a=hee(s),c="";if(n===void 0?c=a:c=n+"."+a,a===e.textNodeName)r===void 0?r=s[a]:r+=""+s[a];else{if(a===void 0)continue;if(s[a]){let l=QV(s[a],e,c),f=mee(l,e);s[":@"]?pee(l,s[":@"],c,e):Object.keys(l).length===1&&l[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?l=l[e.textNodeName]:Object.keys(l).length===0&&(e.alwaysCreateTextNode?l[e.textNodeName]="":l=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(l)):e.isArray(a,c,f)?i[a]=[l]:i[a]=l}}}return typeof r=="string"?r.length>0&&(i[e.textNodeName]=r):r!==void 0&&(i[e.textNodeName]=r),i}function hee(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];if(r!==":@")return r}}function pee(t,e,n,r){if(e){let i=Object.keys(e),o=i.length;for(let s=0;s<o;s++){let a=i[s];r.isArray(a,n+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function mee(t,e){let{textNodeName:n}=e,r=Object.keys(t).length;return!!(r===0||r===1&&(t[n]||typeof t[n]=="boolean"||t[n]===0))}YV.prettify=fee});var XV=mr((UIe,JV)=>{"use strict";var{buildOptions:gee}=BV(),yee=KV(),{prettify:vee}=ZV(),_ee=dA(),yA=class{constructor(e){this.externalEntities={},this.options=gee(e)}parse(e,n){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});let o=_ee.validate(e,n);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}let r=new yee(this.options);r.addExternalEntities(this.externalEntities);let i=r.parseXml(e);return this.options.preserveOrder||i===void 0?i:vee(i,this.options)}addEntity(e,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=n}};JV.exports=yA});var iB=mr((jIe,rB)=>{"use strict";var wee=`
`;function bee(t,e){let n="";return e.format&&e.indentBy.length>0&&(n=wee),tB(t,e,"",n)}function tB(t,e,n,r){let i="",o=!1;for(let s=0;s<t.length;s++){let a=t[s],c=Eee(a);if(c===void 0)continue;let l="";if(n.length===0?l=c:l=`${n}.${c}`,c===e.textNodeName){let I=a[c];Cee(l,e)||(I=e.tagValueProcessor(c,I),I=nB(I,e)),o&&(i+=r),i+=I,o=!1;continue}else if(c===e.cdataPropName){o&&(i+=r),i+=`<![CDATA[${a[c][0][e.textNodeName]}]]>`,o=!1;continue}else if(c===e.commentPropName){i+=r+`<!--${a[c][0][e.textNodeName]}-->`,o=!0;continue}else if(c[0]==="?"){let I=eB(a[":@"],e),L=c==="?xml"?"":r,P=a[c][0][e.textNodeName];P=P.length!==0?" "+P:"",i+=L+`<${c}${P}${I}?>`,o=!0;continue}let f=r;f!==""&&(f+=e.indentBy);let h=eB(a[":@"],e),y=r+`<${c}${h}`,w=tB(a[c],e,l,f);e.unpairedTags.indexOf(c)!==-1?e.suppressUnpairedNode?i+=y+">":i+=y+"/>":(!w||w.length===0)&&e.suppressEmptyNode?i+=y+"/>":w&&w.endsWith(">")?i+=y+`>${w}${r}</${c}>`:(i+=y+">",w&&r!==""&&(w.includes("/>")||w.includes("</"))?i+=r+e.indentBy+w+r:i+=w,i+=`</${c}>`),o=!0}return i}function Eee(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];if(t.hasOwnProperty(r)&&r!==":@")return r}}function eB(t,e){let n="";if(t&&!e.ignoreAttributes)for(let r in t){if(!t.hasOwnProperty(r))continue;let i=e.attributeValueProcessor(r,t[r]);i=nB(i,e),i===!0&&e.suppressBooleanAttributes?n+=` ${r.substr(e.attributeNamePrefix.length)}`:n+=` ${r.substr(e.attributeNamePrefix.length)}="${i}"`}return n}function Cee(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let n=t.substr(t.lastIndexOf(".")+1);for(let r in e.stopNodes)if(e.stopNodes[r]===t||e.stopNodes[r]==="*."+n)return!0;return!1}function nB(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){let r=e.entities[n];t=t.replace(r.regex,r.val)}return t}rB.exports=bee});var sB=mr(($Ie,oB)=>{"use strict";var Iee=iB(),See={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Ra(t){this.options=Object.assign({},See,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Aee),this.processTextOrObjNode=xee,this.options.format?(this.indentate=Tee,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Ra.prototype.build=function(t){return this.options.preserveOrder?Iee(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};Ra.prototype.j2x=function(t,e){let n="",r="";for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i))if(typeof t[i]>"u")this.isAttribute(i)&&(r+="");else if(t[i]===null)this.isAttribute(i)?r+="":i[0]==="?"?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)r+=this.buildTextValNode(t[i],i,"",e);else if(typeof t[i]!="object"){let o=this.isAttribute(i);if(o)n+=this.buildAttrPairStr(o,""+t[i]);else if(i===this.options.textNodeName){let s=this.options.tagValueProcessor(i,""+t[i]);r+=this.replaceEntitiesValue(s)}else r+=this.buildTextValNode(t[i],i,"",e)}else if(Array.isArray(t[i])){let o=t[i].length,s="",a="";for(let c=0;c<o;c++){let l=t[i][c];if(!(typeof l>"u"))if(l===null)i[0]==="?"?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(typeof l=="object")if(this.options.oneListGroup){let f=this.j2x(l,e+1);s+=f.val,this.options.attributesGroupName&&l.hasOwnProperty(this.options.attributesGroupName)&&(a+=f.attrStr)}else s+=this.processTextOrObjNode(l,i,e);else if(this.options.oneListGroup){let f=this.options.tagValueProcessor(i,l);f=this.replaceEntitiesValue(f),s+=f}else s+=this.buildTextValNode(l,i,"",e)}this.options.oneListGroup&&(s=this.buildObjectNode(s,i,a,e)),r+=s}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){let o=Object.keys(t[i]),s=o.length;for(let a=0;a<s;a++)n+=this.buildAttrPairStr(o[a],""+t[i][o[a]])}else r+=this.processTextOrObjNode(t[i],i,e);return{attrStr:n,val:r}};Ra.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function xee(t,e,n){let r=this.j2x(t,n+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,r.attrStr,n):this.buildObjectNode(r.val,e,r.attrStr,n)}Ra.prototype.buildObjectNode=function(t,e,n,r){if(t==="")return e[0]==="?"?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar;{let i="</"+e+this.tagEndChar,o="";return e[0]==="?"&&(o="?",i=""),(n||n==="")&&t.indexOf("<")===-1?this.indentate(r)+"<"+e+n+o+">"+t+i:this.options.commentPropName!==!1&&e===this.options.commentPropName&&o.length===0?this.indentate(r)+`<!--${t}-->`+this.newLine:this.indentate(r)+"<"+e+n+o+this.tagEndChar+t+this.indentate(r)+i}};Ra.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};Ra.prototype.buildTextValNode=function(t,e,n,r){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(r)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(r)+"<"+e+n+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),i===""?this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(r)+"<"+e+n+">"+i+"</"+e+this.tagEndChar}};Ra.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t};function Tee(t){return this.options.indentBy.repeat(t)}function Aee(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}oB.exports=Ra});var cB=mr((HIe,aB)=>{"use strict";var Dee=dA(),Ree=XV(),Mee=sB();aB.exports={XMLParser:Ree,XMLValidator:Dee,XMLBuilder:Mee}});var FD=mr((Sp,OD)=>{"use strict";(function(t,e){typeof Sp=="object"&&typeof OD=="object"?OD.exports=e():typeof define=="function"&&define.amd?define([],e):typeof Sp=="object"?Sp.bowser=e():t.bowser=e()})(Sp,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(r,i,o){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var s in r)n.d(o,s,function(a){return r[a]}.bind(null,s));return o},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=90)}({17:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(18),i=function(){function o(){}return o.getFirstMatch=function(s,a){var c=a.match(s);return c&&c.length>0&&c[1]||""},o.getSecondMatch=function(s,a){var c=a.match(s);return c&&c.length>1&&c[2]||""},o.matchAndReturnConst=function(s,a,c){if(s.test(a))return c},o.getWindowsVersionName=function(s){switch(s){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},o.getMacOSVersionName=function(s){var a=s.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(a.push(0),a[0]===10)switch(a[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},o.getAndroidVersionName=function(s){var a=s.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(a.push(0),!(a[0]===1&&a[1]<5))return a[0]===1&&a[1]<6?"Cupcake":a[0]===1&&a[1]>=6?"Donut":a[0]===2&&a[1]<2?"Eclair":a[0]===2&&a[1]===2?"Froyo":a[0]===2&&a[1]>2?"Gingerbread":a[0]===3?"Honeycomb":a[0]===4&&a[1]<1?"Ice Cream Sandwich":a[0]===4&&a[1]<4?"Jelly Bean":a[0]===4&&a[1]>=4?"KitKat":a[0]===5?"Lollipop":a[0]===6?"Marshmallow":a[0]===7?"Nougat":a[0]===8?"Oreo":a[0]===9?"Pie":void 0},o.getVersionPrecision=function(s){return s.split(".").length},o.compareVersions=function(s,a,c){c===void 0&&(c=!1);var l=o.getVersionPrecision(s),f=o.getVersionPrecision(a),h=Math.max(l,f),y=0,w=o.map([s,a],function(I){var L=h-o.getVersionPrecision(I),P=I+new Array(L+1).join(".0");return o.map(P.split("."),function($){return new Array(20-$.length).join("0")+$}).reverse()});for(c&&(y=h-Math.min(l,f)),h-=1;h>=y;){if(w[0][h]>w[1][h])return 1;if(w[0][h]===w[1][h]){if(h===y)return 0;h-=1}else if(w[0][h]<w[1][h])return-1}},o.map=function(s,a){var c,l=[];if(Array.prototype.map)return Array.prototype.map.call(s,a);for(c=0;c<s.length;c+=1)l.push(a(s[c]));return l},o.find=function(s,a){var c,l;if(Array.prototype.find)return Array.prototype.find.call(s,a);for(c=0,l=s.length;c<l;c+=1){var f=s[c];if(a(f,c))return f}},o.assign=function(s){for(var a,c,l=s,f=arguments.length,h=new Array(f>1?f-1:0),y=1;y<f;y++)h[y-1]=arguments[y];if(Object.assign)return Object.assign.apply(Object,[s].concat(h));var w=function(){var I=h[a];typeof I=="object"&&I!==null&&Object.keys(I).forEach(function(L){l[L]=I[L]})};for(a=0,c=h.length;a<c;a+=1)w();return s},o.getBrowserAlias=function(s){return r.BROWSER_ALIASES_MAP[s]},o.getBrowserTypeByAlias=function(s){return r.BROWSER_MAP[s]||""},o}();e.default=i,t.exports=e.default},18:function(t,e,n){"use strict";e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function s(c,l){for(var f=0;f<l.length;f++){var h=l[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}var a=function(){function c(){}var l,f,h;return c.getParser=function(y,w){if(w===void 0&&(w=!1),typeof y!="string")throw new Error("UserAgent should be a string");return new i.default(y,w)},c.parse=function(y){return new i.default(y).getResult()},l=c,h=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(f=null)&&s(l.prototype,f),h&&s(l,h),c}();e.default=a,t.exports=e.default},91:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=c(n(92)),i=c(n(93)),o=c(n(94)),s=c(n(95)),a=c(n(17));function c(f){return f&&f.__esModule?f:{default:f}}var l=function(){function f(y,w){if(w===void 0&&(w=!1),y==null||y==="")throw new Error("UserAgent parameter can't be empty");this._ua=y,this.parsedResult={},w!==!0&&this.parse()}var h=f.prototype;return h.getUA=function(){return this._ua},h.test=function(y){return y.test(this._ua)},h.parseBrowser=function(){var y=this;this.parsedResult.browser={};var w=a.default.find(r.default,function(I){if(typeof I.test=="function")return I.test(y);if(I.test instanceof Array)return I.test.some(function(L){return y.test(L)});throw new Error("Browser's test function is not valid")});return w&&(this.parsedResult.browser=w.describe(this.getUA())),this.parsedResult.browser},h.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},h.getBrowserName=function(y){return y?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},h.getBrowserVersion=function(){return this.getBrowser().version},h.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},h.parseOS=function(){var y=this;this.parsedResult.os={};var w=a.default.find(i.default,function(I){if(typeof I.test=="function")return I.test(y);if(I.test instanceof Array)return I.test.some(function(L){return y.test(L)});throw new Error("Browser's test function is not valid")});return w&&(this.parsedResult.os=w.describe(this.getUA())),this.parsedResult.os},h.getOSName=function(y){var w=this.getOS().name;return y?String(w).toLowerCase()||"":w||""},h.getOSVersion=function(){return this.getOS().version},h.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},h.getPlatformType=function(y){y===void 0&&(y=!1);var w=this.getPlatform().type;return y?String(w).toLowerCase()||"":w||""},h.parsePlatform=function(){var y=this;this.parsedResult.platform={};var w=a.default.find(o.default,function(I){if(typeof I.test=="function")return I.test(y);if(I.test instanceof Array)return I.test.some(function(L){return y.test(L)});throw new Error("Browser's test function is not valid")});return w&&(this.parsedResult.platform=w.describe(this.getUA())),this.parsedResult.platform},h.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},h.getEngineName=function(y){return y?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},h.parseEngine=function(){var y=this;this.parsedResult.engine={};var w=a.default.find(s.default,function(I){if(typeof I.test=="function")return I.test(y);if(I.test instanceof Array)return I.test.some(function(L){return y.test(L)});throw new Error("Browser's test function is not valid")});return w&&(this.parsedResult.engine=w.describe(this.getUA())),this.parsedResult.engine},h.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},h.getResult=function(){return a.default.assign({},this.parsedResult)},h.satisfies=function(y){var w=this,I={},L=0,P={},$=0;if(Object.keys(y).forEach(function(R){var N=y[R];typeof N=="string"?(P[R]=N,$+=1):typeof N=="object"&&(I[R]=N,L+=1)}),L>0){var Q=Object.keys(I),ne=a.default.find(Q,function(R){return w.isOS(R)});if(ne){var de=this.satisfies(I[ne]);if(de!==void 0)return de}var Ae=a.default.find(Q,function(R){return w.isPlatform(R)});if(Ae){var me=this.satisfies(I[Ae]);if(me!==void 0)return me}}if($>0){var k=Object.keys(P),A=a.default.find(k,function(R){return w.isBrowser(R,!0)});if(A!==void 0)return this.compareVersion(P[A])}},h.isBrowser=function(y,w){w===void 0&&(w=!1);var I=this.getBrowserName().toLowerCase(),L=y.toLowerCase(),P=a.default.getBrowserTypeByAlias(L);return w&&P&&(L=P.toLowerCase()),L===I},h.compareVersion=function(y){var w=[0],I=y,L=!1,P=this.getBrowserVersion();if(typeof P=="string")return y[0]===">"||y[0]==="<"?(I=y.substr(1),y[1]==="="?(L=!0,I=y.substr(2)):w=[],y[0]===">"?w.push(1):w.push(-1)):y[0]==="="?I=y.substr(1):y[0]==="~"&&(L=!0,I=y.substr(1)),w.indexOf(a.default.compareVersions(P,I,L))>-1},h.isOS=function(y){return this.getOSName(!0)===String(y).toLowerCase()},h.isPlatform=function(y){return this.getPlatformType(!0)===String(y).toLowerCase()},h.isEngine=function(y){return this.getEngineName(!0)===String(y).toLowerCase()},h.is=function(y,w){return w===void 0&&(w=!1),this.isBrowser(y,w)||this.isOS(y)||this.isPlatform(y)},h.some=function(y){var w=this;return y===void 0&&(y=[]),y.some(function(I){return w.is(I)})},f}();e.default=l,t.exports=e.default},92:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(a){var c={name:"Googlebot"},l=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/opera/i],describe:function(a){var c={name:"Opera"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/opr\/|opios/i],describe:function(a){var c={name:"Opera"},l=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/SamsungBrowser/i],describe:function(a){var c={name:"Samsung Internet for Android"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/Whale/i],describe:function(a){var c={name:"NAVER Whale Browser"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/MZBrowser/i],describe:function(a){var c={name:"MZ Browser"},l=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/focus/i],describe:function(a){var c={name:"Focus"},l=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/swing/i],describe:function(a){var c={name:"Swing"},l=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/coast/i],describe:function(a){var c={name:"Opera Coast"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(a){var c={name:"Opera Touch"},l=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/yabrowser/i],describe:function(a){var c={name:"Yandex Browser"},l=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/ucbrowser/i],describe:function(a){var c={name:"UC Browser"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/Maxthon|mxios/i],describe:function(a){var c={name:"Maxthon"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/epiphany/i],describe:function(a){var c={name:"Epiphany"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/puffin/i],describe:function(a){var c={name:"Puffin"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/sleipnir/i],describe:function(a){var c={name:"Sleipnir"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/k-meleon/i],describe:function(a){var c={name:"K-Meleon"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/micromessenger/i],describe:function(a){var c={name:"WeChat"},l=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/qqbrowser/i],describe:function(a){var c={name:/qqbrowserlite/i.test(a)?"QQ Browser Lite":"QQ Browser"},l=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/msie|trident/i],describe:function(a){var c={name:"Internet Explorer"},l=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/\sedg\//i],describe:function(a){var c={name:"Microsoft Edge"},l=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/edg([ea]|ios)/i],describe:function(a){var c={name:"Microsoft Edge"},l=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/vivaldi/i],describe:function(a){var c={name:"Vivaldi"},l=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/seamonkey/i],describe:function(a){var c={name:"SeaMonkey"},l=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/sailfish/i],describe:function(a){var c={name:"Sailfish"},l=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,a);return l&&(c.version=l),c}},{test:[/silk/i],describe:function(a){var c={name:"Amazon Silk"},l=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/phantom/i],describe:function(a){var c={name:"PhantomJS"},l=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/slimerjs/i],describe:function(a){var c={name:"SlimerJS"},l=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var c={name:"BlackBerry"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var c={name:"WebOS Browser"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/bada/i],describe:function(a){var c={name:"Bada"},l=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/tizen/i],describe:function(a){var c={name:"Tizen"},l=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/qupzilla/i],describe:function(a){var c={name:"QupZilla"},l=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/firefox|iceweasel|fxios/i],describe:function(a){var c={name:"Firefox"},l=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/electron/i],describe:function(a){var c={name:"Electron"},l=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/MiuiBrowser/i],describe:function(a){var c={name:"Miui"},l=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/chromium/i],describe:function(a){var c={name:"Chromium"},l=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/chrome|crios|crmo/i],describe:function(a){var c={name:"Chrome"},l=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/GSA/i],describe:function(a){var c={name:"Google Search"},l=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){var c=!a.test(/like android/i),l=a.test(/android/i);return c&&l},describe:function(a){var c={name:"Android Browser"},l=i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/playstation 4/i],describe:function(a){var c={name:"PlayStation 4"},l=i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/safari|applewebkit/i],describe:function(a){var c={name:"Safari"},l=i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/.*/i],describe:function(a){var c=a.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(c,a),version:i.default.getSecondMatch(c,a)}}}];e.default=s,t.exports=e.default},93:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(a){var c=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,a);return{name:o.OS_MAP.Roku,version:c}}},{test:[/windows phone/i],describe:function(a){var c=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.WindowsPhone,version:c}}},{test:[/windows /i],describe:function(a){var c=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,a),l=i.default.getWindowsVersionName(c);return{name:o.OS_MAP.Windows,version:c,versionName:l}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(a){var c={name:o.OS_MAP.iOS},l=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,a);return l&&(c.version=l),c}},{test:[/macintosh/i],describe:function(a){var c=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,a).replace(/[_\s]/g,"."),l=i.default.getMacOSVersionName(c),f={name:o.OS_MAP.MacOS,version:c};return l&&(f.versionName=l),f}},{test:[/(ipod|iphone|ipad)/i],describe:function(a){var c=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,a).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:c}}},{test:function(a){var c=!a.test(/like android/i),l=a.test(/android/i);return c&&l},describe:function(a){var c=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,a),l=i.default.getAndroidVersionName(c),f={name:o.OS_MAP.Android,version:c};return l&&(f.versionName=l),f}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var c=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,a),l={name:o.OS_MAP.WebOS};return c&&c.length&&(l.version=c),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var c=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,a)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,a)||i.default.getFirstMatch(/\bbb(\d+)/i,a);return{name:o.OS_MAP.BlackBerry,version:c}}},{test:[/bada/i],describe:function(a){var c=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.Bada,version:c}}},{test:[/tizen/i],describe:function(a){var c=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.Tizen,version:c}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(a){var c=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.PlayStation4,version:c}}}];e.default=s,t.exports=e.default},94:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(a){var c=i.default.getFirstMatch(/(can-l01)/i,a)&&"Nova",l={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return c&&(l.model=c),l}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(a){var c=a.test(/ipod|iphone/i),l=a.test(/like (ipod|iphone)/i);return c&&!l},describe:function(a){var c=i.default.getFirstMatch(/(ipod|iphone)/i,a);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:c}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName(!0)==="blackberry"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(a){return a.getBrowserName(!0)==="bada"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName()==="windows phone"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(a){var c=Number(String(a.getOSVersion()).split(".")[0]);return a.getOSName(!0)==="android"&&c>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(a){return a.getOSName(!0)==="android"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getOSName(!0)==="macos"},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(a){return a.getOSName(!0)==="windows"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="linux"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="playstation 4"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(a){return a.getOSName(!0)==="roku"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];e.default=s,t.exports=e.default},95:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:function(a){return a.getBrowserName(!0)==="microsoft edge"},describe:function(a){if(/\sedg\//i.test(a))return{name:o.ENGINE_MAP.Blink};var c=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,a);return{name:o.ENGINE_MAP.EdgeHTML,version:c}}},{test:[/trident/i],describe:function(a){var c={name:o.ENGINE_MAP.Trident},l=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){return a.test(/presto/i)},describe:function(a){var c={name:o.ENGINE_MAP.Presto},l=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){var c=a.test(/gecko/i),l=a.test(/like gecko/i);return c&&!l},describe:function(a){var c={name:o.ENGINE_MAP.Gecko},l=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(a){var c={name:o.ENGINE_MAP.WebKit},l=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}}];e.default=s,t.exports=e.default}})})});function nR(t,e){return Object.is(t,e)}var dn=null,bm=!1,Em=1,Lo=Symbol("SIGNAL");function tt(t){let e=dn;return dn=t,e}function rR(){return dn}var ff={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Hw(t){if(bm)throw new Error("");if(dn===null)return;dn.consumerOnSignalRead(t);let e=dn.nextProducerIndex++;if(xm(dn),e<dn.producerNode.length&&dn.producerNode[e]!==t&&df(dn)){let n=dn.producerNode[e];Sm(n,dn.producerIndexOfThis[e])}dn.producerNode[e]!==t&&(dn.producerNode[e]=t,dn.producerIndexOfThis[e]=df(dn)?aR(t,dn,e):0),dn.producerLastReadVersion[e]=t.version}function R4(){Em++}function iR(t){if(!(df(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Em)){if(!t.producerMustRecompute(t)&&!zw(t)){t.dirty=!1,t.lastCleanEpoch=Em;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Em}}function oR(t){if(t.liveConsumerNode===void 0)return;let e=bm;bm=!0;try{for(let n of t.liveConsumerNode)n.dirty||M4(n)}finally{bm=e}}function sR(){return dn?.consumerAllowSignalWrites!==!1}function M4(t){t.dirty=!0,oR(t),t.consumerMarkedDirty?.(t)}function Im(t){return t&&(t.nextProducerIndex=0),tt(t)}function qw(t,e){if(tt(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(df(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Sm(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function zw(t){xm(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(iR(n),r!==n.version))return!0}return!1}function Gw(t){if(xm(t),df(t))for(let e=0;e<t.producerNode.length;e++)Sm(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function aR(t,e,n){if(cR(t),t.liveConsumerNode.length===0&&lR(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=aR(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Sm(t,e){if(cR(t),t.liveConsumerNode.length===1&&lR(t))for(let r=0;r<t.producerNode.length;r++)Sm(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];xm(i),i.producerIndexOfThis[r]=e}}function df(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function xm(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function cR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function lR(t){return t.producerNode!==void 0}function uR(t){let e=Object.create(P4);e.computation=t;let n=()=>{if(iR(e),Hw(e),e.value===Cm)throw e.error;return e.value};return n[Lo]=e,n}var jw=Symbol("UNSET"),$w=Symbol("COMPUTING"),Cm=Symbol("ERRORED"),P4=z(x({},ff),{value:jw,dirty:!0,error:null,equal:nR,producerMustRecompute(t){return t.value===jw||t.value===$w},producerRecomputeValue(t){if(t.value===$w)throw new Error("Detected cycle in computations.");let e=t.value;t.value=$w;let n=Im(t),r;try{r=t.computation()}catch(i){r=Cm,t.error=i}finally{qw(t,n)}if(e!==jw&&e!==Cm&&r!==Cm&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function N4(){throw new Error}var dR=N4;function fR(){dR()}function hR(t){dR=t}var k4=null;function pR(t){let e=Object.create(gR);e.value=t;let n=()=>(Hw(e),e.value);return n[Lo]=e,n}function Ww(t,e){sR()||fR(),t.equal(t.value,e)||(t.value=e,O4(t))}function mR(t,e){sR()||fR(),Ww(t,e(t.value))}var gR=z(x({},ff),{equal:nR,value:void 0});function O4(t){t.version++,R4(),oR(t),k4?.()}function De(t){return typeof t=="function"}function Ml(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Tm=Ml(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function nc(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ot=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(De(r))try{r()}catch(o){e=o instanceof Tm?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{yR(o)}catch(s){e=e??[],s instanceof Tm?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Tm(e)}}add(e){var n;if(e&&e!==this)if(this.closed)yR(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&nc(n,e)}remove(e){let{_finalizers:n}=this;n&&nc(n,e),e instanceof t&&e._removeParent(this)}};Ot.EMPTY=(()=>{let t=new Ot;return t.closed=!0,t})();var Kw=Ot.EMPTY;function Am(t){return t instanceof Ot||t&&"closed"in t&&De(t.remove)&&De(t.add)&&De(t.unsubscribe)}function yR(t){De(t)?t():t.unsubscribe()}var Ci={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Pl={setTimeout(t,e,...n){let{delegate:r}=Pl;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Pl;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Dm(t){Pl.setTimeout(()=>{let{onUnhandledError:e}=Ci;if(e)e(t);else throw t})}function hf(){}var vR=Qw("C",void 0,void 0);function _R(t){return Qw("E",void 0,t)}function wR(t){return Qw("N",t,void 0)}function Qw(t,e,n){return{kind:t,value:e,error:n}}var rc=null;function Nl(t){if(Ci.useDeprecatedSynchronousErrorHandling){let e=!rc;if(e&&(rc={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=rc;if(rc=null,n)throw r}}else t()}function bR(t){Ci.useDeprecatedSynchronousErrorHandling&&rc&&(rc.errorThrown=!0,rc.error=t)}var ic=class extends Ot{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Am(e)&&e.add(this)):this.destination=V4}static create(e,n,r){return new kl(e,n,r)}next(e){this.isStopped?Zw(wR(e),this):this._next(e)}error(e){this.isStopped?Zw(_R(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Zw(vR,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},F4=Function.prototype.bind;function Yw(t,e){return F4.call(t,e)}var Jw=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Rm(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Rm(r)}else Rm(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Rm(n)}}},kl=class extends ic{constructor(e,n,r){super();let i;if(De(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ci.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Yw(e.next,o),error:e.error&&Yw(e.error,o),complete:e.complete&&Yw(e.complete,o)}):i=e}this.destination=new Jw(i)}};function Rm(t){Ci.useDeprecatedSynchronousErrorHandling?bR(t):Dm(t)}function L4(t){throw t}function Zw(t,e){let{onStoppedNotification:n}=Ci;n&&Pl.setTimeout(()=>n(t,e))}var V4={closed:!0,next:hf,error:L4,complete:hf};var Ol=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ar(t){return t}function Mm(...t){return Xw(t)}function Xw(t){return t.length===0?Ar:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var He=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=U4(n)?n:new kl(n,r,i);return Nl(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ER(r),new r((i,o)=>{let s=new kl({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ol](){return this}pipe(...n){return Xw(n)(this)}toPromise(n){return n=ER(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function ER(t){var e;return(e=t??Ci.Promise)!==null&&e!==void 0?e:Promise}function B4(t){return t&&De(t.next)&&De(t.error)&&De(t.complete)}function U4(t){return t&&t instanceof ic||B4(t)&&Am(t)}function eb(t){return De(t?.lift)}function Ye(t){return e=>{if(eb(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function qe(t,e,n,r,i){return new tb(t,e,n,r,i)}var tb=class extends ic{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Fl(){return Ye((t,e)=>{let n=null;t._refCount++;let r=qe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ll=class extends He{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,eb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ot;let n=this.getSubject();e.add(this.source.subscribe(qe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ot.EMPTY)}return e}refCount(){return Fl()(this)}};var CR=Ml(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var wn=(()=>{class t extends He{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Pm(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new CR}next(n){Nl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Nl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Nl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Kw:(this.currentObservers=null,o.push(n),new Ot(()=>{this.currentObservers=null,nc(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new He;return n.source=this,n}}return t.create=(e,n)=>new Pm(e,n),t})(),Pm=class extends wn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Kw}};var fn=class extends wn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var nb={now(){return(nb.delegate||Date).now()},delegate:void 0};var Nm=class extends Ot{constructor(e,n){super()}schedule(e,n=0){return this}};var pf={setInterval(t,e,...n){let{delegate:r}=pf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=pf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Vl=class extends Nm{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return pf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&pf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,nc(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Bl=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Bl.now=nb.now;var Ul=class extends Bl{constructor(e,n=Bl.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var rb=new Ul(Vl);var km=class extends Vl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Om=class extends Ul{};var ib=new Om(km);var Dr=new He(t=>t.complete());function IR(t){return t&&De(t.schedule)}function SR(t){return t[t.length-1]}function Fm(t){return De(SR(t))?t.pop():void 0}function Fs(t){return IR(SR(t))?t.pop():void 0}function ob(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ls(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{l(r.next(f))}catch(h){s(h)}}function c(f){try{l(r.throw(f))}catch(h){s(h)}}function l(f){f.done?o(f.value):i(f.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function $l(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(f){return c([l,f])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(f){l=[6,f],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function jl(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oc(t){return this instanceof oc?(this.v=t,this):new oc(t)}function xR(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(w){return function(I){return Promise.resolve(I).then(w,h)}}function a(w,I){r[w]&&(i[w]=function(L){return new Promise(function(P,$){o.push([w,L,P,$])>1||c(w,L)})},I&&(i[w]=I(i[w])))}function c(w,I){try{l(r[w](I))}catch(L){y(o[0][3],L)}}function l(w){w.value instanceof oc?Promise.resolve(w.value.v).then(f,h):y(o[0][2],w)}function f(w){c("next",w)}function h(w){c("throw",w)}function y(w,I){w(I),o.shift(),o.length&&c(o[0][0],o[0][1])}}function TR(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof jl=="function"?jl(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Lm=t=>t&&typeof t.length=="number"&&typeof t!="function";function Vm(t){return De(t?.then)}function Bm(t){return De(t[Ol])}function Um(t){return Symbol.asyncIterator&&De(t?.[Symbol.asyncIterator])}function jm(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function j4(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $m=j4();function Hm(t){return De(t?.[$m])}function qm(t){return xR(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield oc(n.read());if(i)return yield oc(void 0);yield yield oc(r)}}finally{n.releaseLock()}})}function zm(t){return De(t?.getReader)}function Jt(t){if(t instanceof He)return t;if(t!=null){if(Bm(t))return $4(t);if(Lm(t))return H4(t);if(Vm(t))return q4(t);if(Um(t))return AR(t);if(Hm(t))return z4(t);if(zm(t))return G4(t)}throw jm(t)}function $4(t){return new He(e=>{let n=t[Ol]();if(De(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function H4(t){return new He(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function q4(t){return new He(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Dm)})}function z4(t){return new He(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function AR(t){return new He(e=>{W4(t,e).catch(n=>e.error(n))})}function G4(t){return AR(qm(t))}function W4(t,e){var n,r,i,o;return Ls(this,void 0,void 0,function*(){try{for(n=TR(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function yr(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Vs(t,e=0){return Ye((n,r)=>{n.subscribe(qe(r,i=>yr(r,t,()=>r.next(i),e),()=>yr(r,t,()=>r.complete(),e),i=>yr(r,t,()=>r.error(i),e)))})}function Bs(t,e=0){return Ye((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function DR(t,e){return Jt(t).pipe(Bs(e),Vs(e))}function RR(t,e){return Jt(t).pipe(Bs(e),Vs(e))}function MR(t,e){return new He(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function PR(t,e){return new He(n=>{let r;return yr(n,e,()=>{r=t[$m](),yr(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>De(r?.return)&&r.return()})}function Gm(t,e){if(!t)throw new Error("Iterable cannot be null");return new He(n=>{yr(n,e,()=>{let r=t[Symbol.asyncIterator]();yr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function NR(t,e){return Gm(qm(t),e)}function kR(t,e){if(t!=null){if(Bm(t))return DR(t,e);if(Lm(t))return MR(t,e);if(Vm(t))return RR(t,e);if(Um(t))return Gm(t,e);if(Hm(t))return PR(t,e);if(zm(t))return NR(t,e)}throw jm(t)}function Ft(t,e){return e?kR(t,e):Jt(t)}function Re(...t){let e=Fs(t);return Ft(t,e)}function Hl(t,e){let n=De(t)?t:()=>t,r=i=>i.error(n());return new He(e?i=>e.schedule(r,0,i):r)}function sb(t){return!!t&&(t instanceof He||De(t.lift)&&De(t.subscribe))}var Vo=Ml(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Oe(t,e){return Ye((n,r)=>{let i=0;n.subscribe(qe(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:K4}=Array;function Q4(t,e){return K4(e)?t(...e):t(e)}function Wm(t){return Oe(e=>Q4(t,e))}var{isArray:Y4}=Array,{getPrototypeOf:Z4,prototype:J4,keys:X4}=Object;function Km(t){if(t.length===1){let e=t[0];if(Y4(e))return{args:e,keys:null};if(eH(e)){let n=X4(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function eH(t){return t&&typeof t=="object"&&Z4(t)===J4}function Qm(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ym(...t){let e=Fs(t),n=Fm(t),{args:r,keys:i}=Km(t);if(r.length===0)return Ft([],e);let o=new He(tH(r,e,i?s=>Qm(i,s):Ar));return n?o.pipe(Wm(n)):o}function tH(t,e,n=Ar){return r=>{OR(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)OR(e,()=>{let l=Ft(t[c],e),f=!1;l.subscribe(qe(r,h=>{o[c]=h,f||(f=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function OR(t,e,n){t?yr(n,t,e):e()}function FR(t,e,n,r,i,o,s,a){let c=[],l=0,f=0,h=!1,y=()=>{h&&!c.length&&!l&&e.complete()},w=L=>l<r?I(L):c.push(L),I=L=>{o&&e.next(L),l++;let P=!1;Jt(n(L,f++)).subscribe(qe(e,$=>{i?.($),o?w($):e.next($)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;c.length&&l<r;){let $=c.shift();s?yr(e,s,()=>I($)):I($)}y()}catch($){e.error($)}}))};return t.subscribe(qe(e,w,()=>{h=!0,y()})),()=>{a?.()}}function hn(t,e,n=1/0){return De(e)?hn((r,i)=>Oe((o,s)=>e(r,o,i,s))(Jt(t(r,i))),n):(typeof e=="number"&&(n=e),Ye((r,i)=>FR(r,i,t,n)))}function ab(t=1/0){return hn(Ar,t)}function LR(){return ab(1)}function ql(...t){return LR()(Ft(t,Fs(t)))}function Zm(t){return new He(e=>{Jt(t()).subscribe(e)})}function cb(...t){let e=Fm(t),{args:n,keys:r}=Km(t),i=new He(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let f=0;f<s;f++){let h=!1;Jt(n[f]).subscribe(qe(o,y=>{h||(h=!0,l--),a[f]=y},()=>c--,void 0,()=>{(!c||!h)&&(l||o.next(r?Qm(r,a):a),o.complete())}))}});return e?i.pipe(Wm(e)):i}function Kr(t,e){return Ye((n,r)=>{let i=0;n.subscribe(qe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Us(t){return Ye((e,n)=>{let r=null,i=!1,o;r=e.subscribe(qe(n,void 0,void 0,s=>{o=Jt(t(s,Us(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function VR(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(qe(s,f=>{let h=l++;c=a?t(c,f,h):(a=!0,f),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function zl(t,e){return De(e)?hn(t,e,1):hn(t,1)}function js(t){return Ye((e,n)=>{let r=!1;e.subscribe(qe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Bo(t){return t<=0?()=>Dr:Ye((e,n)=>{let r=0;e.subscribe(qe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function lb(t){return Oe(()=>t)}function Jm(t=nH){return Ye((e,n)=>{let r=!1;e.subscribe(qe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function nH(){return new Vo}function mf(t){return Ye((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ji(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Kr((i,o)=>t(i,o,r)):Ar,Bo(1),n?js(e):Jm(()=>new Vo))}function Gl(t){return t<=0?()=>Dr:Ye((e,n)=>{let r=[];e.subscribe(qe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ub(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Kr((i,o)=>t(i,o,r)):Ar,Gl(1),n?js(e):Jm(()=>new Vo))}function Xm(t,e){return Ye(VR(t,e,arguments.length>=2,!0))}function eg(...t){let e=Fs(t);return Ye((n,r)=>{(e?ql(t,n,e):ql(t,n)).subscribe(r)})}function Ii(t,e){return Ye((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(qe(r,c=>{i?.unsubscribe();let l=0,f=o++;Jt(t(c,f)).subscribe(i=qe(r,h=>r.next(e?e(c,h,f,l++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function db(t){return Ye((e,n)=>{Jt(t).subscribe(qe(n,()=>n.complete(),hf)),!n.closed&&e.subscribe(n)})}function pn(t,e,n){let r=De(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ye((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(qe(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ar}var S1="https://g.co/ng/security#xss",ge=class extends Error{constructor(e,n){super(hE(e,n)),this.code=e}};function hE(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Tf(t){return{toString:t}.toString()}var tg="__parameters__";function rH(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function x1(t,e,n){return Tf(()=>{let r=rH(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,f){let h=c.hasOwnProperty(tg)?c[tg]:Object.defineProperty(c,tg,{value:[]})[tg];for(;h.length<=f;)h.push(null);return(h[f]=h[f]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ac=globalThis;function yt(t){for(let e in t)if(t[e]===yt)return e;throw Error("Could not find renamed property on target object.")}function iH(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Xn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Xn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function BR(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var oH=yt({__forward_ref__:yt});function tr(t){return t.__forward_ref__=tr,t.toString=function(){return Xn(this())},t}function Jn(t){return T1(t)?t():t}function T1(t){return typeof t=="function"&&t.hasOwnProperty(oH)&&t.__forward_ref__===tr}function ye(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qs(t){return{providers:t.providers||[],imports:t.imports||[]}}function Fg(t){return UR(t,D1)||UR(t,R1)}function A1(t){return Fg(t)!==null}function UR(t,e){return t.hasOwnProperty(e)?t[e]:null}function sH(t){let e=t&&(t[D1]||t[R1]);return e||null}function jR(t){return t&&(t.hasOwnProperty($R)||t.hasOwnProperty(aH))?t[$R]:null}var D1=yt({\u0275prov:yt}),$R=yt({\u0275inj:yt}),R1=yt({ngInjectableDef:yt}),aH=yt({ngInjectorDef:yt}),ve=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ye({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function M1(t){return t&&!!t.\u0275providers}var cH=yt({\u0275cmp:yt}),lH=yt({\u0275dir:yt}),uH=yt({\u0275pipe:yt}),dH=yt({\u0275mod:yt}),dg=yt({\u0275fac:yt}),vf=yt({__NG_ELEMENT_ID__:yt}),HR=yt({__NG_ENV_ID__:yt});function Uo(t){return typeof t=="string"?t:t==null?"":String(t)}function fH(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Uo(t)}function hH(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ge(-200,t)}function pE(t,e){throw new ge(-201,!1)}var Ve=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ve||{}),xb;function P1(){return xb}function vr(t){let e=xb;return xb=t,e}function N1(t,e,n){let r=Fg(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Ve.Optional)return null;if(e!==void 0)return e;pE(t,"Injector")}var pH={},_f=pH,Tb="__NG_DI_FLAG__",fg="ngTempTokenPath",mH="ngTokenPath",gH=/\n/gm,yH="\u0275",qR="__source",Yl;function vH(){return Yl}function $s(t){let e=Yl;return Yl=t,e}function _H(t,e=Ve.Default){if(Yl===void 0)throw new ge(-203,!1);return Yl===null?N1(t,void 0,e):Yl.get(t,e&Ve.Optional?null:void 0,e)}function Pe(t,e=Ve.Default){return(P1()||_H)(Jn(t),e)}function oe(t,e=Ve.Default){return Pe(t,Lg(e))}function Lg(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ab(t){let e=[];for(let n=0;n<t.length;n++){let r=Jn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new ge(900,!1);let i,o=Ve.Default;for(let s=0;s<r.length;s++){let a=r[s],c=wH(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Pe(i,o))}else e.push(Pe(r))}return e}function k1(t,e){return t[Tb]=e,t.prototype[Tb]=e,t}function wH(t){return t[Tb]}function bH(t,e,n,r){let i=t[fg];throw e[qR]&&i.unshift(e[qR]),t.message=EH(`
`+t.message,i,n,r),t[mH]=i,t[fg]=null,t}function EH(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==yH?t.slice(2):t;let i=Xn(e);if(Array.isArray(e))i=e.map(Xn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Xn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(gH,`
  `)}`}var nr=k1(x1("Optional"),8);var O1=k1(x1("SkipSelf"),4);function lc(t,e){let n=t.hasOwnProperty(dg);return n?t[dg]:null}function mE(t,e){t.forEach(n=>Array.isArray(n)?mE(n,e):e(n))}function F1(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hg(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function CH(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function IH(t,e,n){let r=Af(t,e);return r>=0?t[r|1]=n:(r=~r,CH(t,r,e,n)),r}function fb(t,e){let n=Af(t,e);if(n>=0)return t[n|1]}function Af(t,e){return SH(t,e,1)}function SH(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Jl={},Qr=[],Xl=new ve(""),L1=new ve("",-1),V1=new ve(""),pg=class{get(e,n=_f){if(n===_f){let r=new Error(`NullInjectorError: No provider for ${Xn(e)}!`);throw r.name="NullInjectorError",r}return n}},B1=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(B1||{}),to=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(to||{}),zs=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(zs||{});function xH(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Db(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];TH(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function U1(t){return t===3||t===4||t===6}function TH(t){return t.charCodeAt(0)===64}function wf(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?zR(t,n,i,null,e[++r]):zR(t,n,i,null,null))}}return t}function zR(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var j1="ng-template";function AH(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&xH(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(gE(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function gE(t){return t.type===4&&t.value!==j1}function DH(t,e,n){let r=t.type===4&&!n?j1:t.value;return e===r}function RH(t,e,n){let r=4,i=t.attrs,o=i!==null?NH(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Si(r)&&!Si(c))return!1;if(s&&Si(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!DH(t,c,n)||c===""&&e.length===1){if(Si(r))return!1;s=!0}}else if(r&8){if(i===null||!AH(t,i,c,n)){if(Si(r))return!1;s=!0}}else{let l=e[++a],f=MH(c,i,gE(t),n);if(f===-1){if(Si(r))return!1;s=!0;continue}if(l!==""){let h;if(f>o?h="":h=i[f+1].toLowerCase(),r&2&&l!==h){if(Si(r))return!1;s=!0}}}}return Si(r)||s}function Si(t){return(t&1)===0}function MH(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return kH(e,t)}function PH(t,e,n=!1){for(let r=0;r<e.length;r++)if(RH(t,e[r],n))return!0;return!1}function NH(t){for(let e=0;e<t.length;e++){let n=t[e];if(U1(n))return e}return t.length}function kH(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function GR(t,e){return t?":not("+e.trim()+")":e}function OH(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Si(s)&&(e+=GR(o,i),i=""),r=s,o=o||!Si(r);n++}return i!==""&&(e+=GR(o,i)),e}function FH(t){return t.map(OH).join(",")}function LH(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Si(i))break;i=o}r++}return{attrs:e,classes:n}}function Ze(t){return Tf(()=>{let e=G1(t),n=z(x({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===B1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||to.Emulated,styles:t.styles||Qr,_:null,schemas:t.schemas||null,tView:null,id:""});W1(n);let r=t.dependencies;return n.directiveDefs=KR(r,!1),n.pipeDefs=KR(r,!0),n.id=UH(n),n})}function VH(t){return uc(t)||$1(t)}function BH(t){return t!==null}function Ys(t){return Tf(()=>({type:t.type,bootstrap:t.bootstrap||Qr,declarations:t.declarations||Qr,imports:t.imports||Qr,exports:t.exports||Qr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function WR(t,e){if(t==null)return Jl;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=zs.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==zs.None?[r,a]:r,e[o]=s):n[o]=r}return n}function ft(t){return Tf(()=>{let e=G1(t);return W1(e),e})}function Vg(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function uc(t){return t[cH]||null}function $1(t){return t[lH]||null}function H1(t){return t[uH]||null}function q1(t){let e=uc(t)||$1(t)||H1(t);return e!==null?e.standalone:!1}function z1(t,e){let n=t[dH]||null;if(!n&&e===!0)throw new Error(`Type ${Xn(t)} does not have '\u0275mod' property.`);return n}function G1(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Jl,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Qr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:WR(t.inputs,e),outputs:WR(t.outputs),debugInfo:null}}function W1(t){t.features?.forEach(e=>e(t))}function KR(t,e){if(!t)return null;let n=e?H1:VH;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(BH)}function UH(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function so(t){return{\u0275providers:t}}function jH(...t){return{\u0275providers:K1(!0,t),\u0275fromNgModule:!0}}function K1(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return mE(e,s=>{let a=s;Rb(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Q1(i,o),n}function Q1(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];yE(i,o=>{e(o,r)})}}function Rb(t,e,n,r){if(t=Jn(t),!t)return!1;let i=null,o=jR(t),s=!o&&uc(t);if(!o&&!s){let c=t.ngModule;if(o=jR(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Rb(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{mE(o.imports,f=>{Rb(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&Q1(l,e)}if(!a){let l=lc(i)||(()=>new i);e({provide:i,useFactory:l,deps:Qr},i),e({provide:V1,useValue:i,multi:!0},i),e({provide:Xl,useValue:()=>Pe(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;yE(c,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function yE(t,e){for(let n of t)M1(n)&&(n=n.\u0275providers),Array.isArray(n)?yE(n,e):e(n)}var $H=yt({provide:String,useValue:yt});function Y1(t){return t!==null&&typeof t=="object"&&$H in t}function HH(t){return!!(t&&t.useExisting)}function qH(t){return!!(t&&t.useFactory)}function eu(t){return typeof t=="function"}function zH(t){return!!t.useClass}var Bg=new ve(""),sg={},GH={},hb;function vE(){return hb===void 0&&(hb=new pg),hb}var Jr=class{},bf=class extends Jr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pb(e,s=>this.processProvider(s)),this.records.set(L1,Wl(void 0,this)),i.has("environment")&&this.records.set(Jr,Wl(void 0,this));let o=this.records.get(Bg);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(V1,Qr,Ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=tt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),tt(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=$s(this),r=vr(void 0),i;try{return e()}finally{$s(n),vr(r)}}get(e,n=_f,r=Ve.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(HR))return e[HR](this);r=Lg(r);let i,o=$s(this),s=vr(void 0);try{if(!(r&Ve.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=ZH(e)&&Fg(e);l&&this.injectableDefInScope(l)?c=Wl(Mb(e),sg):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Ve.Self?vE():this.parent;return n=r&Ve.Optional&&n===_f?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[fg]=a[fg]||[]).unshift(Xn(e)),o)throw a;return bH(a,e,"R3InjectorError",this.source)}else throw a}finally{vr(s),$s(o)}}resolveInjectorInitializers(){let e=tt(null),n=$s(this),r=vr(void 0),i;try{let o=this.get(Xl,Qr,Ve.Self);for(let s of o)s()}finally{$s(n),vr(r),tt(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Xn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processProvider(e){e=Jn(e);let n=eu(e)?e:Jn(e&&e.provide),r=KH(e);if(!eu(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Wl(void 0,sg,!0),i.factory=()=>Ab(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=tt(null);try{return n.value===sg&&(n.value=GH,n.value=n.factory()),typeof n.value=="object"&&n.value&&YH(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{tt(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Jn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Mb(t){let e=Fg(t),n=e!==null?e.factory:lc(t);if(n!==null)return n;if(t instanceof ve)throw new ge(204,!1);if(t instanceof Function)return WH(t);throw new ge(204,!1)}function WH(t){if(t.length>0)throw new ge(204,!1);let n=sH(t);return n!==null?()=>n.factory(t):()=>new t}function KH(t){if(Y1(t))return Wl(void 0,t.useValue);{let e=Z1(t);return Wl(e,sg)}}function Z1(t,e,n){let r;if(eu(t)){let i=Jn(t);return lc(i)||Mb(i)}else if(Y1(t))r=()=>Jn(t.useValue);else if(qH(t))r=()=>t.useFactory(...Ab(t.deps||[]));else if(HH(t))r=()=>Pe(Jn(t.useExisting));else{let i=Jn(t&&(t.useClass||t.provide));if(QH(t))r=()=>new i(...Ab(t.deps));else return lc(i)||Mb(i)}return r}function Wl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function QH(t){return!!t.deps}function YH(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ZH(t){return typeof t=="function"||typeof t=="object"&&t instanceof ve}function Pb(t,e){for(let n of t)Array.isArray(n)?Pb(n,e):n&&M1(n)?Pb(n.\u0275providers,e):e(n)}function qo(t,e){t instanceof bf&&t.assertNotDestroyed();let n,r=$s(t),i=vr(void 0);try{return e()}finally{$s(r),vr(i)}}function JH(){return P1()!==void 0||vH()!=null}function XH(t){return typeof t=="function"}var zo=0,Ue=1,Se=2,er=3,xi=4,Ai=5,mg=6,gg=7,Ti=8,tu=9,no=10,Ut=11,Ef=12,QR=13,uu=14,ro=15,nu=16,Kl=17,ru=18,Ug=19,J1=20,Hs=21,pb=22,Yr=23,Xr=25,X1=1;var dc=7,yg=8,vg=9,Zr=10,_g=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(_g||{});function qs(t){return Array.isArray(t)&&typeof t[X1]=="object"}function Go(t){return Array.isArray(t)&&t[X1]===!0}function _E(t){return(t.flags&4)!==0}function jg(t){return t.componentOffset>-1}function $g(t){return(t.flags&1)===1}function Gs(t){return!!t.template}function Nb(t){return(t[Se]&512)!==0}var kb=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function eM(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ao(){return tM}function tM(t){return t.type.prototype.ngOnChanges&&(t.setInput=t5),e5}ao.ngInherit=!0;function e5(){let t=rM(this),e=t?.current;if(e){let n=t.previous;if(n===Jl)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function t5(t,e,n,r,i){let o=this.declaredInputs[r],s=rM(t)||n5(t,{previous:Jl,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new kb(l&&l.currentValue,n,c===Jl),eM(t,e,i,n)}var nM="__ngSimpleChanges__";function rM(t){return t[nM]||null}function n5(t,e){return t[nM]=e}var YR=null;var Xi=function(t,e,n){YR?.(t,e,n)},r5="svg",i5="math";function io(t){for(;Array.isArray(t);)t=t[zo];return t}function iM(t,e){return io(e[t])}function ei(t,e){return io(e[t.index])}function oM(t,e){return t.data[e]}function sM(t,e){return t[e]}function Zs(t,e){let n=e[t];return qs(n)?n:n[zo]}function wE(t){return(t[Se]&128)===128}function o5(t){return Go(t[er])}function iu(t,e){return e==null?null:t[e]}function aM(t){t[Kl]=0}function cM(t){t[Se]&1024||(t[Se]|=1024,wE(t)&&qg(t))}function s5(t,e){for(;t>0;)e=e[uu],t--;return e}function Hg(t){return!!(t[Se]&9216||t[Yr]?.dirty)}function Ob(t){t[no].changeDetectionScheduler?.notify(8),t[Se]&64&&(t[Se]|=1024),Hg(t)&&qg(t)}function qg(t){t[no].changeDetectionScheduler?.notify(0);let e=fc(t);for(;e!==null&&!(e[Se]&8192||(e[Se]|=8192,!wE(e)));)e=fc(e)}function lM(t,e){if((t[Se]&256)===256)throw new ge(911,!1);t[Hs]===null&&(t[Hs]=[]),t[Hs].push(e)}function a5(t,e){if(t[Hs]===null)return;let n=t[Hs].indexOf(e);n!==-1&&t[Hs].splice(n,1)}function fc(t){let e=t[er];return Go(e)?e[er]:e}var Be={lFrame:_M(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var uM=!1;function c5(){return Be.lFrame.elementDepthCount}function l5(){Be.lFrame.elementDepthCount++}function u5(){Be.lFrame.elementDepthCount--}function dM(){return Be.bindingsEnabled}function d5(){return Be.skipHydrationRootTNode!==null}function f5(t){return Be.skipHydrationRootTNode===t}function h5(){Be.skipHydrationRootTNode=null}function ze(){return Be.lFrame.lView}function Pn(){return Be.lFrame.tView}function lt(t){return Be.lFrame.contextLView=t,t[Ti]}function ut(t){return Be.lFrame.contextLView=null,t}function Un(){let t=fM();for(;t!==null&&t.type===64;)t=t.parent;return t}function fM(){return Be.lFrame.currentTNode}function p5(){let t=Be.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function yc(t,e){let n=Be.lFrame;n.currentTNode=t,n.isParent=e}function bE(){return Be.lFrame.isParent}function hM(){Be.lFrame.isParent=!1}function pM(){return uM}function ZR(t){uM=t}function du(){let t=Be.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function mM(){return Be.lFrame.bindingIndex}function m5(t){return Be.lFrame.bindingIndex=t}function zg(){return Be.lFrame.bindingIndex++}function EE(t){let e=Be.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function g5(){return Be.lFrame.inI18n}function y5(t,e){let n=Be.lFrame;n.bindingIndex=n.bindingRootIndex=t,Fb(e)}function v5(){return Be.lFrame.currentDirectiveIndex}function Fb(t){Be.lFrame.currentDirectiveIndex=t}function _5(t){let e=Be.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function gM(t){Be.lFrame.currentQueryIndex=t}function w5(t){let e=t[Ue];return e.type===2?e.declTNode:e.type===1?t[Ai]:null}function yM(t,e,n){if(n&Ve.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Ve.Host);)if(i=w5(o),i===null||(o=o[uu],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Be.lFrame=vM();return r.currentTNode=e,r.lView=t,!0}function CE(t){let e=vM(),n=t[Ue];Be.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function vM(){let t=Be.lFrame,e=t===null?null:t.child;return e===null?_M(t):e}function _M(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function wM(){let t=Be.lFrame;return Be.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var bM=wM;function IE(){let t=wM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function b5(t){return(Be.lFrame.contextLView=s5(t,Be.lFrame.contextLView))[Ti]}function Js(){return Be.lFrame.selectedIndex}function hc(t){Be.lFrame.selectedIndex=t}function Gg(){let t=Be.lFrame;return oM(t.tView,t.selectedIndex)}function E5(){return Be.lFrame.currentNamespace}var EM=!0;function Wg(){return EM}function Kg(t){EM=t}function C5(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=tM(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Qg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function ag(t,e,n){CM(t,e,3,n)}function cg(t,e,n,r){(t[Se]&3)===n&&CM(t,e,n,r)}function mb(t,e){let n=t[Se];(n&3)===e&&(n&=16383,n+=1,t[Se]=n)}function CM(t,e,n,r){let i=r!==void 0?t[Kl]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Kl]+=65536),(a<o||o==-1)&&(I5(t,n,e,c),t[Kl]=(t[Kl]&4294901760)+c+2),c++}function JR(t,e){Xi(4,t,e);let n=tt(null);try{e.call(t)}finally{tt(n),Xi(5,t,e)}}function I5(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Se]>>14<t[Kl]>>16&&(t[Se]&3)===e&&(t[Se]+=16384,JR(a,o)):JR(a,o)}var Zl=-1,pc=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function S5(t){return t instanceof pc}function x5(t){return(t.flags&8)!==0}function T5(t){return(t.flags&16)!==0}var gb={},Lb=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Lg(r);let i=this.injector.get(e,gb,r);return i!==gb||n===gb?i:this.parentInjector.get(e,n,r)}};function IM(t){return t!==Zl}function wg(t){return t&32767}function A5(t){return t>>16}function bg(t,e){let n=A5(t),r=e;for(;n>0;)r=r[uu],n--;return r}var Vb=!0;function Eg(t){let e=Vb;return Vb=t,e}var D5=256,SM=D5-1,xM=5,R5=0,eo={};function M5(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(vf)&&(r=n[vf]),r==null&&(r=n[vf]=R5++);let i=r&SM,o=1<<i;e.data[t+(i>>xM)]|=o}function Cg(t,e){let n=TM(t,e);if(n!==-1)return n;let r=e[Ue];r.firstCreatePass&&(t.injectorIndex=e.length,yb(r.data,t),yb(e,null),yb(r.blueprint,null));let i=SE(t,e),o=t.injectorIndex;if(IM(i)){let s=wg(i),a=bg(i,e),c=a[Ue].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function yb(t,e){t.push(0,0,0,0,0,0,0,0,e)}function TM(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function SE(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=PM(i),r===null)return Zl;if(n++,i=i[uu],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Zl}function Bb(t,e,n){M5(t,e,n)}function P5(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(U1(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function AM(t,e,n){if(n&Ve.Optional||t!==void 0)return t;pE(e,"NodeInjector")}function DM(t,e,n,r){if(n&Ve.Optional&&r===void 0&&(r=null),!(n&(Ve.Self|Ve.Host))){let i=t[tu],o=vr(void 0);try{return i?i.get(e,r,n&Ve.Optional):N1(e,r,n&Ve.Optional)}finally{vr(o)}}return AM(r,e,n)}function RM(t,e,n,r=Ve.Default,i){if(t!==null){if(e[Se]&2048&&!(r&Ve.Self)){let s=L5(t,e,n,r,eo);if(s!==eo)return s}let o=MM(t,e,n,r,eo);if(o!==eo)return o}return DM(e,n,r,i)}function MM(t,e,n,r,i){let o=O5(n);if(typeof o=="function"){if(!yM(e,t,r))return r&Ve.Host?AM(i,n,r):DM(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Ve.Optional))pE(n);else return s}finally{bM()}}else if(typeof o=="number"){let s=null,a=TM(t,e),c=Zl,l=r&Ve.Host?e[ro][Ai]:null;for((a===-1||r&Ve.SkipSelf)&&(c=a===-1?SE(t,e):e[a+8],c===Zl||!e1(r,!1)?a=-1:(s=e[Ue],a=wg(c),e=bg(c,e)));a!==-1;){let f=e[Ue];if(XR(o,a,f.data)){let h=N5(a,e,n,s,r,l);if(h!==eo)return h}c=e[a+8],c!==Zl&&e1(r,e[Ue].data[a+8]===l)&&XR(o,a,e)?(s=f,a=wg(c),e=bg(c,e)):a=-1}}return i}function N5(t,e,n,r,i,o){let s=e[Ue],a=s.data[t+8],c=r==null?jg(a)&&Vb:r!=s&&(a.type&3)!==0,l=i&Ve.Host&&o===a,f=k5(a,s,n,c,l);return f!==null?ou(e,s,f,a):eo}function k5(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,f=o>>20,h=r?a:a+f,y=i?a+f:l;for(let w=h;w<y;w++){let I=s[w];if(w<c&&n===I||w>=c&&I.type===n)return w}if(i){let w=s[c];if(w&&Gs(w)&&w.type===n)return c}return null}function ou(t,e,n,r){let i=t[n],o=e.data;if(S5(i)){let s=i;s.resolving&&hH(fH(o[n]));let a=Eg(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?vr(s.injectImpl):null,f=yM(t,r,Ve.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&C5(n,o[n],e)}finally{l!==null&&vr(l),Eg(a),s.resolving=!1,bM()}}return i}function O5(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(vf)?t[vf]:void 0;return typeof e=="number"?e>=0?e&SM:F5:e}function XR(t,e,n){let r=1<<t;return!!(n[e+(t>>xM)]&r)}function e1(t,e){return!(t&Ve.Self)&&!(t&Ve.Host&&e)}var cc=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return RM(this._tNode,this._lView,e,Lg(r),n)}};function F5(){return new cc(Un(),ze())}function Di(t){return Tf(()=>{let e=t.prototype.constructor,n=e[dg]||Ub(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[dg]||Ub(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ub(t){return T1(t)?()=>{let e=Ub(Jn(t));return e&&e()}:lc(t)}function L5(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Se]&2048&&!(s[Se]&512);){let a=MM(o,s,n,r|Ve.Self,eo);if(a!==eo)return a;let c=o.parent;if(!c){let l=s[J1];if(l){let f=l.get(n,eo,r);if(f!==eo)return f}c=PM(s),s=s[uu]}o=c}return i}function PM(t){let e=t[Ue],n=e.type;return n===2?e.declTNode:n===1?t[Ai]:null}function xE(t){return P5(Un(),t)}function t1(t,e=null,n=null,r){let i=NM(t,e,n,r);return i.resolveInjectorInitializers(),i}function NM(t,e=null,n=null,r,i=new Set){let o=[n||Qr,jH(t)];return r=r||(typeof t=="object"?void 0:Xn(t)),new bf(o,e||vE(),r||null,i)}var _r=class t{static{this.THROW_IF_NOT_FOUND=_f}static{this.NULL=new pg}static create(e,n){if(Array.isArray(e))return t1({name:""},n,e,"");{let r=e.name??"";return t1({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=ye({token:t,providedIn:"any",factory:()=>Pe(L1)})}static{this.__NG_ELEMENT_ID__=-1}};var V5=new ve("");V5.__NG_ELEMENT_ID__=t=>{let e=Un();if(e===null)throw new ge(204,!1);if(e.type&2)return e.value;if(t&Ve.Optional)return null;throw new ge(204,!1)};var B5="ngOriginalError";function vb(t){return t[B5]}var kM=!0,OM=(()=>{class t{static{this.__NG_ELEMENT_ID__=U5}static{this.__NG_ENV_ID__=n=>n}}return t})(),jb=class extends OM{constructor(e){super(),this._lView=e}onDestroy(e){return lM(this._lView,e),()=>a5(this._lView,e)}};function U5(){return new jb(ze())}var fu=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=ye({token:t,providedIn:"root",factory:()=>new t})}}return t})();var $b=class extends wn{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,JH()&&(this.destroyRef=oe(OM,{optional:!0})??void 0,this.pendingTasks=oe(fu,{optional:!0})??void 0)}emit(e){let n=tt(null);try{super.next(e)}finally{tt(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ot&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ct=$b;function Ig(...t){}function FM(t){let e,n;function r(){t=Ig;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function n1(t){return queueMicrotask(()=>t()),()=>{t=Ig}}var TE="isAngularZone",Sg=TE+"_ID",j5=0,pt=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ct(!1),this.onMicrotaskEmpty=new ct(!1),this.onStable=new ct(!1),this.onError=new ct(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=kM}=e;if(typeof Zone>"u")throw new ge(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,q5(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(TE)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ge(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,$5,Ig,Ig);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},$5={};function AE(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function H5(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){FM(()=>{t.callbackScheduled=!1,Hb(t),t.isCheckStableRunning=!0,AE(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Hb(t)}function q5(t){let e=()=>{H5(t)},n=j5++;t._inner=t._inner.fork({name:"angular",properties:{[TE]:!0,[Sg]:n,[Sg+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(z5(c))return r.invokeTask(o,s,a,c);try{return r1(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),i1(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return r1(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!G5(c)&&e(),i1(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Hb(t),AE(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Hb(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function r1(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function i1(t){t._nesting--,AE(t)}var qb=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ct,this.onMicrotaskEmpty=new ct,this.onStable=new ct,this.onError=new ct}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function z5(t){return LM(t,"__ignore_ng_zone__")}function G5(t){return LM(t,"__scheduler_tick__")}function LM(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var jo=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&vb(e);for(;n&&vb(n);)n=vb(n);return n||null}},W5=new ve("",{providedIn:"root",factory:()=>{let t=oe(pt),e=oe(jo);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function K5(){return Yg(Un(),ze())}function Yg(t,e){return new Ri(ei(t,e))}var Ri=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=K5}}return t})();function VM(t){return(t.flags&128)===128}var BM=new Map,Q5=0;function Y5(){return Q5++}function Z5(t){BM.set(t[Ug],t)}function zb(t){BM.delete(t[Ug])}var o1="__ngContext__";function Ws(t,e){qs(e)?(t[o1]=e[Ug],Z5(e)):t[o1]=e}function UM(t){return $M(t[Ef])}function jM(t){return $M(t[xi])}function $M(t){for(;t!==null&&!Go(t);)t=t[xi];return t}var Gb;function HM(t){Gb=t}function J5(){if(Gb!==void 0)return Gb;if(typeof document<"u")return document;throw new ge(210,!1)}var DE=new ve("",{providedIn:"root",factory:()=>X5}),X5="ng",RE=new ve(""),Xs=new ve("",{providedIn:"platform",factory:()=>"unknown"});var ME=new ve("",{providedIn:"root",factory:()=>J5().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var e6="h",t6="b";var n6=()=>null;function PE(t,e,n=!1){return n6(t,e,n)}var qM=!1,r6=new ve("",{providedIn:"root",factory:()=>qM});var ng;function i6(){if(ng===void 0&&(ng=null,ac.trustedTypes))try{ng=ac.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ng}function s1(t){return i6()?.createScriptURL(t)||t}var xg=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${S1})`}};function Df(t){return t instanceof xg?t.changingThisBreaksApplicationSecurity:t}function NE(t,e){let n=o6(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${S1})`)}return n===e}function o6(t){return t instanceof xg&&t.getTypeName()||null}var s6=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zM(t){return t=String(t),t.match(s6)?t:"unsafe:"+t}var Zg=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Zg||{});function rr(t){let e=WM();return e?e.sanitize(Zg.URL,t)||"":NE(t,"URL")?Df(t):zM(Uo(t))}function a6(t){let e=WM();if(e)return s1(e.sanitize(Zg.RESOURCE_URL,t)||"");if(NE(t,"ResourceURL"))return s1(Df(t));throw new ge(904,!1)}function c6(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?a6:rr}function GM(t,e,n){return c6(e,n)(t)}function WM(){let t=ze();return t&&t[no].sanitizer}var l6=/^>|^->|<!--|-->|--!>|<!-$/g,u6=/(<|>)/g,d6="\u200B$1\u200B";function f6(t){return t.replace(l6,e=>e.replace(u6,d6))}function KM(t){return t instanceof Function?t():t}var $o=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}($o||{}),h6;function kE(t,e){return h6(t,e)}function Ql(t,e,n,r,i){if(r!=null){let o,s=!1;Go(r)?o=r:qs(r)&&(s=!0,r=r[zo]);let a=io(r);t===0&&n!==null?i==null?XM(e,n,a):Tg(e,n,a,i||null,!0):t===1&&n!==null?Tg(e,n,a,i||null,!0):t===2?D6(e,a,s):t===3&&e.destroyNode(a),o!=null&&M6(e,t,o,n,i)}}function p6(t,e){return t.createText(e)}function m6(t,e,n){t.setValue(e,n)}function g6(t,e){return t.createComment(f6(e))}function QM(t,e,n){return t.createElement(e,n)}function y6(t,e){YM(t,e),e[zo]=null,e[Ai]=null}function v6(t,e,n,r,i,o){r[zo]=i,r[Ai]=e,Xg(t,r,n,1,i,o)}function YM(t,e){e[no].changeDetectionScheduler?.notify(9),Xg(t,e,e[Ut],2,null,null)}function _6(t){let e=t[Ef];if(!e)return _b(t[Ue],t);for(;e;){let n=null;if(qs(e))n=e[Ef];else{let r=e[Zr];r&&(n=r)}if(!n){for(;e&&!e[xi]&&e!==t;)qs(e)&&_b(e[Ue],e),e=e[er];e===null&&(e=t),qs(e)&&_b(e[Ue],e),n=e&&e[xi]}e=n}}function w6(t,e,n,r){let i=Zr+r,o=n.length;r>0&&(n[i-1][xi]=e),r<o-Zr?(e[xi]=n[i],F1(n,Zr+r,e)):(n.push(e),e[xi]=null),e[er]=n;let s=e[nu];s!==null&&n!==s&&ZM(s,e);let a=e[ru];a!==null&&a.insertView(t),Ob(e),e[Se]|=128}function ZM(t,e){let n=t[vg],r=e[er];if(qs(r))t[Se]|=_g.HasTransplantedViews;else{let i=r[er][ro];e[ro]!==i&&(t[Se]|=_g.HasTransplantedViews)}n===null?t[vg]=[e]:n.push(e)}function OE(t,e){let n=t[vg],r=n.indexOf(e);n.splice(r,1)}function Wb(t,e){if(t.length<=Zr)return;let n=Zr+e,r=t[n];if(r){let i=r[nu];i!==null&&i!==t&&OE(i,r),e>0&&(t[n-1][xi]=r[xi]);let o=hg(t,Zr+e);y6(r[Ue],r);let s=o[ru];s!==null&&s.detachView(o[Ue]),r[er]=null,r[xi]=null,r[Se]&=-129}return r}function JM(t,e){if(!(e[Se]&256)){let n=e[Ut];n.destroyNode&&Xg(t,e,n,3,null,null),_6(e)}}function _b(t,e){if(e[Se]&256)return;let n=tt(null);try{e[Se]&=-129,e[Se]|=256,e[Yr]&&Gw(e[Yr]),E6(t,e),b6(t,e),e[Ue].type===1&&e[Ut].destroy();let r=e[nu];if(r!==null&&Go(e[er])){r!==e[er]&&OE(r,e);let i=e[ru];i!==null&&i.detachView(t)}zb(e)}finally{tt(n)}}function b6(t,e){let n=t.cleanup,r=e[gg];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[gg]=null);let i=e[Hs];if(i!==null){e[Hs]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function E6(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof pc)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Xi(4,a,c);try{c.call(a)}finally{Xi(5,a,c)}}else{Xi(4,i,o);try{o.call(i)}finally{Xi(5,i,o)}}}}}function C6(t,e,n){return I6(t,e.parent,n)}function I6(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[zo];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===to.None||o===to.Emulated)return null}return ei(r,n)}}function Tg(t,e,n,r,i){t.insertBefore(e,n,r,i)}function XM(t,e,n){t.appendChild(e,n)}function a1(t,e,n,r,i){r!==null?Tg(t,e,n,r,i):XM(t,e,n)}function eP(t,e){return t.parentNode(e)}function S6(t,e){return t.nextSibling(e)}function x6(t,e,n){return A6(t,e,n)}function T6(t,e,n){return t.type&40?ei(t,n):null}var A6=T6,c1;function Jg(t,e,n,r){let i=C6(t,r,e),o=e[Ut],s=r.parent||e[Ai],a=x6(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)a1(o,i,n[c],a,!1);else a1(o,i,n,a,!1);c1!==void 0&&c1(o,r,e,n,i)}function gf(t,e){if(e!==null){let n=e.type;if(n&3)return ei(e,t);if(n&4)return Kb(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return gf(t,r);{let i=t[e.index];return Go(i)?Kb(-1,i):io(i)}}else{if(n&128)return gf(t,e.next);if(n&32)return kE(e,t)()||io(t[e.index]);{let r=tP(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=fc(t[ro]);return gf(i,r)}else return gf(t,e.next)}}}return null}function tP(t,e){if(e!==null){let r=t[ro][Ai],i=e.projection;return r.projection[i]}return null}function Kb(t,e){let n=Zr+t+1;if(n<e.length){let r=e[n],i=r[Ue].firstChild;if(i!==null)return gf(r,i)}return e[dc]}function D6(t,e,n){t.removeChild(null,e,n)}function FE(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Ws(io(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)FE(t,e,n.child,r,i,o,!1),Ql(e,t,i,a,o);else if(c&32){let l=kE(n,r),f;for(;f=l();)Ql(e,t,i,f,o);Ql(e,t,i,a,o)}else c&16?R6(t,e,r,n,i,o):Ql(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Xg(t,e,n,r,i,o){FE(n,r,t.firstChild,e,i,o,!1)}function R6(t,e,n,r,i,o){let s=n[ro],c=s[Ai].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let f=c[l];Ql(e,t,i,f,o)}else{let l=c,f=s[er];VM(r)&&(l.flags|=128),FE(t,e,l,f,i,o,!0)}}function M6(t,e,n,r,i){let o=n[dc],s=io(n);o!==s&&Ql(e,t,r,o,i);for(let a=Zr;a<n.length;a++){let c=n[a];Xg(c[Ue],c,t,e,r,o)}}function P6(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:$o.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=$o.Important),t.setStyle(n,r,i,o))}}function N6(t,e,n){t.setAttribute(e,"style",n)}function nP(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function rP(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Db(t,e,r),i!==null&&nP(t,e,i),o!==null&&N6(t,e,o)}var Rr={};function O(t=1){iP(Pn(),ze(),Js()+t,!1)}function iP(t,e,n,r){if(!r)if((e[Se]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ag(e,o,n)}else{let o=t.preOrderHooks;o!==null&&cg(e,o,0,n)}hc(n)}function Y(t,e=Ve.Default){let n=ze();if(n===null)return Pe(t,e);let r=Un();return RM(r,n,Jn(t),e)}function oP(t,e,n,r,i,o){let s=tt(null);try{let a=null;i&zs.SignalBased&&(a=e[r][Lo]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&zs.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):eM(e,a,r,o)}finally{tt(s)}}function k6(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)hc(~i);else{let o=i,s=n[++r],a=n[++r];y5(s,o);let c=e[o];a(2,c)}}}finally{hc(-1)}}function ey(t,e,n,r,i,o,s,a,c,l,f){let h=e.blueprint.slice();return h[zo]=i,h[Se]=r|4|128|8|64,(l!==null||t&&t[Se]&2048)&&(h[Se]|=2048),aM(h),h[er]=h[uu]=t,h[Ti]=n,h[no]=s||t&&t[no],h[Ut]=a||t&&t[Ut],h[tu]=c||t&&t[tu]||null,h[Ai]=o,h[Ug]=Y5(),h[mg]=f,h[J1]=l,h[ro]=e.type==2?t[ro]:h,h}function Rf(t,e,n,r,i){let o=t.data[e];if(o===null)o=O6(t,e,n,r,i),g5()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=p5();o.injectorIndex=s===null?-1:s.injectorIndex}return yc(o,!0),o}function O6(t,e,n,r,i){let o=fM(),s=bE(),a=s?o:o&&o.parent,c=t.data[e]=U6(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function sP(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function aP(t,e,n,r,i){let o=Js(),s=r&2;try{hc(-1),s&&e.length>Xr&&iP(t,e,Xr,!1),Xi(s?2:0,i),n(r,i)}finally{hc(o),Xi(s?3:1,i)}}function LE(t,e,n){if(_E(e)){let r=tt(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{tt(r)}}}function VE(t,e,n){dM()&&(G6(t,e,n,ei(n,e)),(n.flags&64)===64&&uP(t,e,n))}function BE(t,e,n=ei){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function cP(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=UE(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function UE(t,e,n,r,i,o,s,a,c,l,f){let h=Xr+r,y=h+i,w=F6(h,y),I=typeof l=="function"?l():l;return w[Ue]={type:t,blueprint:w,template:n,queries:null,viewQuery:a,declTNode:e,data:w.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:I,incompleteFirstPass:!1,ssrId:f}}function F6(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Rr);return n}function L6(t,e,n,r){let o=r.get(r6,qM)||n===to.ShadowDom,s=t.selectRootElement(e,o);return V6(s),s}function V6(t){B6(t)}var B6=()=>null;function U6(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return d5()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function l1(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=zs.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?u1(r,n,l,a,c):u1(r,n,l,a)}return r}function u1(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function j6(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let f=r;f<i;f++){let h=o[f],y=n?n.get(h):null,w=y?y.inputs:null,I=y?y.outputs:null;c=l1(0,h.inputs,f,c,w),l=l1(1,h.outputs,f,l,I);let L=c!==null&&s!==null&&!gE(e)?rq(c,f,s):null;a.push(L)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function $6(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function jE(t,e,n,r,i,o,s,a){let c=ei(e,n),l=e.inputs,f;!a&&l!=null&&(f=l[r])?(HE(t,n,f,r,i),jg(e)&&H6(n,e.index)):e.type&3?(r=$6(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function H6(t,e){let n=Zs(e,t);n[Se]&16||(n[Se]|=64)}function $E(t,e,n,r){if(dM()){let i=r===null?null:{"":-1},o=K6(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&lP(t,e,n,s,i,a),i&&Q6(n,r,i)}n.mergedAttrs=wf(n.mergedAttrs,n.attrs)}function lP(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Bb(Cg(n,e),t,r[l].type);Z6(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,c=sP(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=wf(n.mergedAttrs,f.hostAttrs),J6(t,n,e,c,f),Y6(c,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let h=f.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}j6(t,n,o)}function q6(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;z6(s)!=a&&s.push(a),s.push(n,r,o)}}function z6(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function G6(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;jg(n)&&X6(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Cg(n,e),Ws(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=ou(e,t,a,n);if(Ws(l,e),s!==null&&nq(e,a-i,l,c,n,s),Gs(c)){let f=Zs(n.index,e);f[Ti]=ou(e,t,a,n)}}}function uP(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=v5();try{hc(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Fb(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&W6(c,l)}}finally{hc(-1),Fb(s)}}function W6(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function K6(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(PH(e,s.selectors,!1))if(r||(r=[]),Gs(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Qb(t,e,c)}else r.unshift(s),Qb(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Qb(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Q6(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new ge(-301,!1);r.push(e[i],o)}}}function Y6(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Gs(e)&&(n[""]=t)}}function Z6(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function J6(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=lc(i.type,!0)),s=new pc(o,Gs(i),Y);t.blueprint[r]=s,n[r]=s,q6(t,e,r,sP(t,n,i.hostVars,Rr),i)}function X6(t,e,n){let r=ei(e,t),i=cP(n),o=t[no].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=ty(t,ey(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function eq(t,e,n,r,i,o){let s=ei(t,e);tq(e[Ut],s,o,t.value,n,r,i)}function tq(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Uo(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function nq(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],f=s[a++],h=s[a++];oP(r,n,c,l,f,h)}}function rq(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function dP(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function fP(t,e){let n=t.contentQueries;if(n!==null){let r=tt(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];gM(o),a.contentQueries(2,e[s],s)}}}finally{tt(r)}}}function ty(t,e){return t[Ef]?t[QR][xi]=e:t[Ef]=e,t[QR]=e,e}function Yb(t,e,n){gM(0);let r=tt(null);try{e(t,n)}finally{tt(r)}}function iq(t){return t[gg]??=[]}function oq(t){return t.cleanup??=[]}function hP(t,e){let n=t[tu],r=n?n.get(jo,null):null;r&&r.handleError(e)}function HE(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],f=t.data[s];oP(f,l,r,a,c,i)}}function qE(t,e,n){let r=iM(e,t);m6(t[Ut],r,n)}function sq(t,e){let n=Zs(e,t),r=n[Ue];aq(r,n);let i=n[zo];i!==null&&n[mg]===null&&(n[mg]=PE(i,n[tu])),zE(r,n,n[Ti])}function aq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function zE(t,e,n){CE(e);try{let r=t.viewQuery;r!==null&&Yb(1,r,n);let i=t.template;i!==null&&aP(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ru]?.finishViewCreation(t),t.staticContentQueries&&fP(t,e),t.staticViewQueries&&Yb(2,t.viewQuery,n);let o=t.components;o!==null&&cq(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Se]&=-5,IE()}}function cq(t,e){for(let n=0;n<e.length;n++)sq(t,e[n])}function lq(t,e,n,r){let i=tt(null);try{let o=e.tView,a=t[Se]&4096?4096:16,c=ey(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[nu]=l;let f=t[ru];return f!==null&&(c[ru]=f.createEmbeddedView(o)),zE(o,c,n),c}finally{tt(i)}}function d1(t,e){return!e||e.firstChild===null||VM(t)}function uq(t,e,n,r=!0){let i=e[Ue];if(w6(i,e,t,n),r){let s=Kb(n,t),a=e[Ut],c=eP(a,t[dc]);c!==null&&v6(i,t[Ai],a,e,c,s)}let o=e[mg];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ag(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(io(o)),Go(o)&&dq(o,r);let s=n.type;if(s&8)Ag(t,e,n.child,r);else if(s&32){let a=kE(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=tP(e,n);if(Array.isArray(a))r.push(...a);else{let c=fc(e[ro]);Ag(c[Ue],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function dq(t,e){for(let n=Zr;n<t.length;n++){let r=t[n],i=r[Ue].firstChild;i!==null&&Ag(r[Ue],r,i,e)}t[dc]!==t[zo]&&e.push(t[dc])}var pP=[];function fq(t){return t[Yr]??hq(t)}function hq(t){let e=pP.pop()??Object.create(mq);return e.lView=t,e}function pq(t){t.lView[Yr]!==t&&(t.lView=null,pP.push(t))}var mq=z(x({},ff),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{qg(t.lView)},consumerOnSignalRead(){this.lView[Yr]=this}});function gq(t){let e=t[Yr]??Object.create(yq);return e.lView=t,e}var yq=z(x({},ff),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=fc(t.lView);for(;e&&!mP(e[Ue]);)e=fc(e);e&&cM(e)},consumerOnSignalRead(){this.lView[Yr]=this}});function mP(t){return t.type!==2}var vq=100;function gP(t,e=!0,n=0){let r=t[no],i=r.rendererFactory,o=!1;o||i.begin?.();try{_q(t,n)}catch(s){throw e&&hP(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function _q(t,e){let n=pM();try{ZR(!0),Zb(t,e);let r=0;for(;Hg(t);){if(r===vq)throw new ge(103,!1);r++,Zb(t,1)}}finally{ZR(n)}}function wq(t,e,n,r){let i=e[Se];if((i&256)===256)return;let o=!1,s=!1;!o&&e[no].inlineEffectRunner?.flush(),CE(e);let a=!0,c=null,l=null;o||(mP(t)?(l=fq(e),c=Im(l)):rR()===null?(a=!1,l=gq(e),c=Im(l)):e[Yr]&&(Gw(e[Yr]),e[Yr]=null));try{aM(e),m5(t.bindingStartIndex),n!==null&&aP(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let w=t.preOrderCheckHooks;w!==null&&ag(e,w,null)}else{let w=t.preOrderHooks;w!==null&&cg(e,w,0,null),mb(e,0)}if(s||bq(e),yP(e,0),t.contentQueries!==null&&fP(t,e),!o)if(f){let w=t.contentCheckHooks;w!==null&&ag(e,w)}else{let w=t.contentHooks;w!==null&&cg(e,w,1),mb(e,1)}k6(t,e);let h=t.components;h!==null&&_P(e,h,0);let y=t.viewQuery;if(y!==null&&Yb(2,y,r),!o)if(f){let w=t.viewCheckHooks;w!==null&&ag(e,w)}else{let w=t.viewHooks;w!==null&&cg(e,w,2),mb(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[pb]){for(let w of e[pb])w();e[pb]=null}o||(e[Se]&=-73)}catch(f){throw o||qg(e),f}finally{l!==null&&(qw(l,c),a&&pq(l)),IE()}}function yP(t,e){for(let n=UM(t);n!==null;n=jM(n))for(let r=Zr;r<n.length;r++){let i=n[r];vP(i,e)}}function bq(t){for(let e=UM(t);e!==null;e=jM(e)){if(!(e[Se]&_g.HasTransplantedViews))continue;let n=e[vg];for(let r=0;r<n.length;r++){let i=n[r];cM(i)}}}function Eq(t,e,n){let r=Zs(e,t);vP(r,n)}function vP(t,e){wE(t)&&Zb(t,e)}function Zb(t,e){let r=t[Ue],i=t[Se],o=t[Yr],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&zw(o)),s||=!1,o&&(o.dirty=!1),t[Se]&=-9217,s)wq(r,t,r.template,t[Ti]);else if(i&8192){yP(t,1);let a=r.components;a!==null&&_P(t,a,1)}}function _P(t,e,n){for(let r=0;r<e.length;r++)Eq(t,e[r],n)}function GE(t,e){let n=pM()?64:1088;for(t[no].changeDetectionScheduler?.notify(e);t;){t[Se]|=n;let r=fc(t);if(Nb(t)&&!r)return t;t=r}return null}var mc=class{get rootNodes(){let e=this._lView,n=e[Ue];return Ag(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ti]}set context(e){this._lView[Ti]=e}get destroyed(){return(this._lView[Se]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[er];if(Go(e)){let n=e[yg],r=n?n.indexOf(this):-1;r>-1&&(Wb(e,r),hg(n,r))}this._attachedToViewContainer=!1}JM(this._lView[Ue],this._lView)}onDestroy(e){lM(this._lView,e)}markForCheck(){GE(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Se]&=-129}reattach(){Ob(this._lView),this._lView[Se]|=128}detectChanges(){this._lView[Se]|=1024,gP(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Nb(this._lView),n=this._lView[nu];n!==null&&!e&&OE(n,this._lView),YM(this._lView[Ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=e;let n=Nb(this._lView),r=this._lView[nu];r!==null&&!n&&ZM(r,this._lView),Ob(this._lView)}},ny=(()=>{class t{static{this.__NG_ELEMENT_ID__=Sq}}return t})(),Cq=ny,Iq=class extends Cq{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=lq(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new mc(i)}};function Sq(){return xq(Un(),ze())}function xq(t,e){return t.type&4?new Iq(e,t,Yg(t,e)):null}var zde=new RegExp(`^(\\d+)*(${t6}|${e6})*(.*)`);var Tq=()=>null;function f1(t,e){return Tq(t,e)}var su=class{},ry=new ve("",{providedIn:"root",factory:()=>!1});var wP=new ve(""),bP=new ve(""),Jb=class{},Dg=class{};function Aq(t){let e=Error(`No component factory found for ${Xn(t)}.`);return e[Dq]=t,e}var Dq="ngComponent";var Xb=class{resolveComponentFactory(e){throw Aq(e)}},au=class{static{this.NULL=new Xb}},cu=class{},co=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>Rq()}}return t})();function Rq(){let t=ze(),e=Un(),n=Zs(e.index,t);return(qs(n)?n:t)[Ut]}var Mq=(()=>{class t{static{this.\u0275prov=ye({token:t,providedIn:"root",factory:()=>null})}}return t})();function Rg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=BR(i,a);else if(o==2){let c=a,l=e[++s];r=BR(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Mg=class extends au{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=uc(e);return new Cf(n,this.ngModule)}};function h1(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:zs.None;e?n.push({propName:s,templateName:r,isSignal:(a&zs.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function Pq(t){let e=t.toLowerCase();return e==="svg"?r5:e==="math"?i5:null}var Cf=class extends Dg{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=h1(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return h1(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=FH(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=tt(null);try{i=i||this.ngModule;let s=i instanceof Jr?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Lb(e,s):e,c=a.get(cu,null);if(c===null)throw new ge(407,!1);let l=a.get(Mq,null),f=a.get(su,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},y=c.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",I=r?L6(y,r,this.componentDef.encapsulation,a):QM(y,w,Pq(w)),L=512;this.componentDef.signals?L|=4096:this.componentDef.onPush||(L|=16);let P=null;I!==null&&(P=PE(I,a,!0));let $=UE(0,null,null,1,0,null,null,null,null,null,null),Q=ey(null,$,null,L,null,null,h,y,a,null,P);CE(Q);let ne,de,Ae=null;try{let me=this.componentDef,k,A=null;me.findHostDirectiveDefs?(k=[],A=new Map,me.findHostDirectiveDefs(me,k,A),k.push(me)):k=[me];let R=Nq(Q,I);Ae=kq(R,I,me,k,Q,h,y),de=oM($,Xr),I&&Lq(y,me,I,r),n!==void 0&&Vq(de,this.ngContentSelectors,n),ne=Fq(Ae,me,k,A,Q,[Bq]),zE($,Q,null)}catch(me){throw Ae!==null&&zb(Ae),zb(Q),me}finally{IE()}return new eE(this.componentType,ne,Yg(de,Q),Q,de)}finally{tt(o)}}},eE=class extends Jb{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new mc(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;HE(o[Ue],o,i,e,n),this.previousInputValues.set(e,n);let s=Zs(this._tNode.index,o);GE(s,1)}}get injector(){return new cc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Nq(t,e){let n=t[Ue],r=Xr;return t[r]=e,Rf(n,r,2,"#host",null)}function kq(t,e,n,r,i,o,s){let a=i[Ue];Oq(r,t,e,s);let c=null;e!==null&&(c=PE(e,i[tu]));let l=o.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let h=ey(i,cP(n),null,f,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Qb(a,t,r.length-1),ty(i,h),i[t.index]=h}function Oq(t,e,n,r){for(let i of t)e.mergedAttrs=wf(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Rg(e,e.mergedAttrs,!0),n!==null&&rP(r,n,e))}function Fq(t,e,n,r,i,o){let s=Un(),a=i[Ue],c=ei(s,i);lP(a,i,s,n,null,r);for(let f=0;f<n.length;f++){let h=s.directiveStart+f,y=ou(i,a,h,s);Ws(y,i)}uP(a,i,s),c&&Ws(c,i);let l=ou(i,a,s.directiveStart+s.componentOffset,s);if(t[Ti]=i[Ti]=l,o!==null)for(let f of o)f(l,e);return LE(a,s,i),l}function Lq(t,e,n,r){if(r)Db(t,n,["ng-version","18.2.9"]);else{let{attrs:i,classes:o}=LH(e.selectors[0]);i&&Db(t,n,i),o&&o.length>0&&nP(t,n,o.join(" "))}}function Vq(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function Bq(){let t=Un();Qg(ze()[Ue],t)}var hu=(()=>{class t{static{this.__NG_ELEMENT_ID__=Uq}}return t})();function Uq(){let t=Un();return $q(t,ze())}var jq=hu,EP=class extends jq{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Yg(this._hostTNode,this._hostLView)}get injector(){return new cc(this._hostTNode,this._hostLView)}get parentInjector(){let e=SE(this._hostTNode,this._hostLView);if(IM(e)){let n=bg(e,this._hostLView),r=wg(e),i=n[Ue].data[r+8];return new cc(i,n)}else return new cc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=p1(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Zr}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=f1(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,d1(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!XH(e),a;if(s)a=n;else{let I=n||{};a=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}let c=s?e:new Cf(uc(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let L=(s?l:this.parentInjector).get(Jr,null);L&&(o=L)}let f=uc(c.componentType??{}),h=f1(this._lContainer,f?.id??null),y=h?.firstChild??null,w=c.create(l,i,y,o);return this.insertImpl(w.hostView,a,d1(this._hostTNode,h)),w}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(o5(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[er],l=new EP(c,c[Ai],c[er]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return uq(s,i,o,r),e.attachToViewContainerRef(),F1(wb(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=p1(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Wb(this._lContainer,n);r&&(hg(wb(this._lContainer),n),JM(r[Ue],r))}detach(e){let n=this._adjustIndex(e,-1),r=Wb(this._lContainer,n);return r&&hg(wb(this._lContainer),n)!=null?new mc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function p1(t){return t[yg]}function wb(t){return t[yg]||(t[yg]=[])}function $q(t,e){let n,r=e[t.index];return Go(r)?n=r:(n=dP(r,e,null,t),e[t.index]=n,ty(e,n)),qq(n,e,t,r),new EP(n,t,e)}function Hq(t,e){let n=t[Ut],r=n.createComment(""),i=ei(e,t),o=eP(n,i);return Tg(n,o,r,S6(n,i),!1),r}var qq=Wq,zq=()=>!1;function Gq(t,e,n){return zq(t,e,n)}function Wq(t,e,n,r){if(t[dc])return;let i;n.type&8?i=io(r):i=Hq(e,n),t[dc]=i}var m1=new Set;function Mf(t){m1.has(t)||(m1.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Kq(t){return typeof t=="function"&&t[Lo]!==void 0}function pu(t,e){Mf("NgSignals");let n=pR(t),r=n[Lo];return e?.equal&&(r.equal=e.equal),n.set=i=>Ww(r,i),n.update=i=>mR(r,i),n.asReadonly=Qq.bind(n),n}function Qq(){let t=this[Lo];if(t.readonlyFn===void 0){let e=()=>this();e[Lo]=t,t.readonlyFn=e}return t.readonlyFn}function CP(t){return Kq(t)&&typeof t.set=="function"}function Yq(t){return Object.getPrototypeOf(t.prototype).constructor}function bn(t){let e=Yq(t.type),n=!0,r=[t];for(;e;){let i;if(Gs(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ge(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=rg(t.inputs),s.inputTransforms=rg(t.inputTransforms),s.declaredInputs=rg(t.declaredInputs),s.outputs=rg(t.outputs);let a=i.hostBindings;a&&t8(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&Xq(t,c),l&&e8(t,l),Zq(t,i),iH(t.outputs,i.outputs),Gs(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===bn&&(n=!1)}}e=Object.getPrototypeOf(e)}Jq(r)}function Zq(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Jq(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=wf(i.hostAttrs,n=wf(n,i.hostAttrs))}}function rg(t){return t===Jl?{}:t===Qr?[]:t}function Xq(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function e8(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function t8(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function WE(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Ks=class{},If=class{};var tE=class extends Ks{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Mg(this);let o=z1(e);this._bootstrapComponents=KM(o.bootstrap),this._r3Injector=NM(e,n,[{provide:Ks,useValue:this},{provide:au,useValue:this.componentFactoryResolver},...r],Xn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},nE=class extends If{constructor(e){super(),this.moduleType=e}create(e){return new tE(this.moduleType,e,[])}};var Pg=class extends Ks{constructor(e){super(),this.componentFactoryResolver=new Mg(this),this.instance=null;let n=new bf([...e.providers,{provide:Ks,useValue:this},{provide:au,useValue:this.componentFactoryResolver}],e.parent||vE(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function KE(t,e,n=null){return new Pg({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function IP(t){return r8(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function n8(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function r8(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Pf(t,e,n){return t[e]=n}function SP(t,e){return t[e]}function oo(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Sf(t,e,n,r){let i=oo(t,e,n);return oo(t,e+1,r)||i}function i8(t,e,n,r,i){let o=Sf(t,e,n,r);return oo(t,e+2,i)||o}function xP(t,e,n,r,i,o){let s=Sf(t,e,n,r);return Sf(t,e+2,i,o)||s}function o8(t){return(t.flags&32)===32}function s8(t,e,n,r,i,o,s,a,c){let l=e.consts,f=Rf(e,t,4,s||null,a||null);$E(e,n,f,iu(l,c)),Qg(e,f);let h=f.tView=UE(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),h.queries=e.queries.embeddedTView(f)),f}function a8(t,e,n,r,i,o,s,a,c,l){let f=n+Xr,h=e.firstCreatePass?s8(f,e,t,r,i,o,s,a,c):e.data[f];yc(h,!1);let y=c8(e,t,h,n);Wg()&&Jg(e,t,y,h),Ws(y,t);let w=dP(y,t,y,h);return t[f]=w,ty(t,w),Gq(w,h,t),$g(h)&&VE(e,t,h),c!=null&&BE(t,h,l),h}function te(t,e,n,r,i,o,s,a){let c=ze(),l=Pn(),f=iu(l.consts,o);return a8(c,l,t,e,n,r,i,f,s,a),te}var c8=l8;function l8(t,e,n,r){return Kg(!0),e[Ut].createComment("")}var yf=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(yf||{}),u8=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=ye({token:t,providedIn:"root",factory:()=>new t})}}return t})(),g1=class t{constructor(){this.ngZone=oe(pt),this.scheduler=oe(su),this.errorHandler=oe(jo,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[yf.EarlyRead,yf.Write,yf.MixedReadWrite,yf.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=ye({token:t,providedIn:"root",factory:()=>new t})}};function Nf(t,e,n,r){let i=ze(),o=zg();if(oo(i,o,e)){let s=Pn(),a=Gg();eq(a,i,t,e,n,r)}return Nf}function TP(t,e,n,r){return oo(t,zg(),n)?e+Uo(n)+r:Rr}function d8(t,e,n,r,i,o){let s=mM(),a=Sf(t,s,n,i);return EE(2),a?e+Uo(n)+r+Uo(i)+o:Rr}function f8(t,e,n,r,i,o,s,a){let c=mM(),l=i8(t,c,n,i,s);return EE(3),l?e+Uo(n)+r+Uo(i)+o+Uo(s)+a:Rr}function ig(t,e){return t<<17|e<<2}function gc(t){return t>>17&32767}function h8(t){return(t&2)==2}function p8(t,e){return t&131071|e<<17}function rE(t){return t|2}function lu(t){return(t&131068)>>2}function bb(t,e){return t&-131069|e<<2}function m8(t){return(t&1)===1}function iE(t){return t|1}function g8(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=gc(s),c=lu(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let h=n;f=h[1],(f===null||Af(h,f)>0)&&(l=!0)}else f=n;if(i)if(c!==0){let y=gc(t[a+1]);t[r+1]=ig(y,a),y!==0&&(t[y+1]=bb(t[y+1],r)),t[a+1]=p8(t[a+1],r)}else t[r+1]=ig(a,0),a!==0&&(t[a+1]=bb(t[a+1],r)),a=r;else t[r+1]=ig(c,0),a===0?a=r:t[c+1]=bb(t[c+1],r),c=r;l&&(t[r+1]=rE(t[r+1])),y1(t,f,r,!0),y1(t,f,r,!1),y8(e,f,t,r,o),s=ig(a,c),o?e.classBindings=s:e.styleBindings=s}function y8(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Af(o,e)>=0&&(n[r+1]=iE(n[r+1]))}function y1(t,e,n,r){let i=t[n+1],o=e===null,s=r?gc(i):lu(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];v8(c,e)&&(a=!0,t[s+1]=r?iE(l):rE(l)),s=r?gc(l):lu(l)}a&&(t[n+1]=r?rE(i):iE(i))}function v8(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Af(t,e)>=0:!1}function q(t,e,n){let r=ze(),i=zg();if(oo(r,i,e)){let o=Pn(),s=Gg();jE(o,s,r,t,e,r[Ut],n,!1)}return q}function v1(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";HE(t,n,o[s],s,r)}function iy(t,e){return _8(t,e,null,!0),iy}function _8(t,e,n,r){let i=ze(),o=Pn(),s=EE(2);if(o.firstUpdatePass&&b8(o,t,s,r),e!==Rr&&oo(i,s,e)){let a=o.data[Js()];x8(o,a,i,i[Ut],t,i[s+1]=T8(e,n),r,s)}}function w8(t,e){return e>=t.expandoStartIndex}function b8(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Js()],s=w8(t,n);A8(o,r)&&e===null&&!s&&(e=!1),e=E8(i,o,e,r),g8(i,o,e,n,s,r)}}function E8(t,e,n,r){let i=_5(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Eb(null,t,e,n,r),n=xf(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Eb(i,t,e,n,r),o===null){let c=C8(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Eb(null,t,e,c[1],r),c=xf(c,e.attrs,r),I8(t,e,r,c))}else o=S8(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function C8(t,e,n){let r=n?e.classBindings:e.styleBindings;if(lu(r)!==0)return t[gc(r)]}function I8(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[gc(i)]=r}function S8(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=xf(r,s,n)}return xf(r,e.attrs,n)}function Eb(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=xf(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function xf(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),IH(t,s,n?!0:e[++o]))}return t===void 0?null:t}function x8(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],f=m8(l)?_1(c,e,n,i,lu(l),s):void 0;if(!Ng(f)){Ng(o)||h8(l)&&(o=_1(c,null,n,i,a,s));let h=iM(Js(),n);P6(r,s,h,i,o)}}function _1(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),f=l?c[1]:c,h=f===null,y=n[i+1];y===Rr&&(y=h?Qr:void 0);let w=h?fb(y,r):f===r?y:void 0;if(l&&!Ng(w)&&(w=fb(c,r)),Ng(w)&&(a=w,s))return a;let I=t[i+1];i=s?gc(I):lu(I)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=fb(c,r))}return a}function Ng(t){return t!==void 0}function T8(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Xn(Df(t)))),t}function A8(t,e){return(t.flags&(e?8:16))!==0}function D8(t,e,n,r,i,o){let s=e.consts,a=iu(s,i),c=Rf(e,t,2,r,a);return $E(e,n,c,iu(s,o)),c.attrs!==null&&Rg(c,c.attrs,!1),c.mergedAttrs!==null&&Rg(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function C(t,e,n,r){let i=ze(),o=Pn(),s=Xr+t,a=i[Ut],c=o.firstCreatePass?D8(s,o,i,e,n,r):o.data[s],l=R8(o,i,c,a,e,t);i[s]=l;let f=$g(c);return yc(c,!0),rP(a,l,c),!o8(c)&&Wg()&&Jg(o,i,l,c),c5()===0&&Ws(l,i),l5(),f&&(VE(o,i,c),LE(o,c,i)),r!==null&&BE(i,c),C}function b(){let t=Un();bE()?hM():(t=t.parent,yc(t,!1));let e=t;f5(e)&&h5(),u5();let n=Pn();return n.firstCreatePass&&(Qg(n,t),_E(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&x5(e)&&v1(n,e,ze(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&T5(e)&&v1(n,e,ze(),e.stylesWithoutHost,!1),b}function re(t,e,n,r){return C(t,e,n,r),b(),re}var R8=(t,e,n,r,i,o)=>(Kg(!0),QM(r,i,E5()));function M8(t,e,n,r,i){let o=e.consts,s=iu(o,r),a=Rf(e,t,8,"ng-container",s);s!==null&&Rg(a,s,!0);let c=iu(o,i);return $E(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function kf(t,e,n){let r=ze(),i=Pn(),o=t+Xr,s=i.firstCreatePass?M8(o,i,r,e,n):i.data[o];yc(s,!0);let a=P8(i,r,s,t);return r[o]=a,Wg()&&Jg(i,r,a,s),Ws(a,r),$g(s)&&(VE(i,r,s),LE(i,s,r)),n!=null&&BE(r,s),kf}function Of(){let t=Un(),e=Pn();return bE()?hM():(t=t.parent,yc(t,!1)),e.firstCreatePass&&(Qg(e,t),_E(t)&&e.queries.elementEnd(t)),Of}var P8=(t,e,n,r)=>(Kg(!0),g6(e[Ut],""));function vt(){return ze()}var sc=void 0;function N8(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var k8=["en",[["a","p"],["AM","PM"],sc],[["AM","PM"],sc,sc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sc,"{1} 'at' {0}",sc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",N8],Cb={};function ti(t){let e=O8(t),n=w1(e);if(n)return n;let r=e.split("-")[0];if(n=w1(r),n)return n;if(r==="en")return k8;throw new ge(701,!1)}function w1(t){return t in Cb||(Cb[t]=ac.ng&&ac.ng.common&&ac.ng.common.locales&&ac.ng.common.locales[t]),Cb[t]}var jt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(jt||{});function O8(t){return t.toLowerCase().replace(/_/g,"-")}var kg="en-US";var F8=kg;function L8(t){typeof t=="string"&&(F8=t.toLowerCase().replace(/_/g,"-"))}var V8=(t,e,n)=>{};function le(t,e,n,r){let i=ze(),o=Pn(),s=Un();return AP(o,i,i[Ut],s,t,e,r),le}function B8(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[gg],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function AP(t,e,n,r,i,o,s){let a=$g(r),l=t.firstCreatePass&&oq(t),f=e[Ti],h=iq(e),y=!0;if(r.type&3||s){let L=ei(r,e),P=s?s(L):L,$=h.length,Q=s?de=>s(io(de[r.index])):r.index,ne=null;if(!s&&a&&(ne=B8(t,e,i,r.index)),ne!==null){let de=ne.__ngLastListenerFn__||ne;de.__ngNextListenerFn__=o,ne.__ngLastListenerFn__=o,y=!1}else{o=E1(r,e,f,o),V8(L,i,o);let de=n.listen(P,i,o);h.push(o,de),l&&l.push(i,Q,$,$+1)}}else o=E1(r,e,f,o);let w=r.outputs,I;if(y&&w!==null&&(I=w[i])){let L=I.length;if(L)for(let P=0;P<L;P+=2){let $=I[P],Q=I[P+1],Ae=e[$][Q].subscribe(o),me=h.length;h.push(o,Ae),l&&l.push(i,r.index,me,-(me+1))}}}function b1(t,e,n,r){let i=tt(null);try{return Xi(6,e,n),n(r)!==!1}catch(o){return hP(t,o),!1}finally{Xi(7,e,n),tt(i)}}function E1(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Zs(t.index,e):e;GE(s,5);let a=b1(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=b1(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function pe(t=1){return b5(t)}function lo(t,e,n){return DP(t,"",e,"",n),lo}function DP(t,e,n,r,i){let o=ze(),s=TP(o,e,n,r);if(s!==Rr){let a=Pn(),c=Gg();jE(a,c,o,t,s,o[Ut],i,!1)}return DP}function U8(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function D(t,e=""){let n=ze(),r=Pn(),i=t+Xr,o=r.firstCreatePass?Rf(r,i,1,e,null):r.data[i],s=j8(r,n,o,e,t);n[i]=s,Wg()&&Jg(r,n,s,o),yc(o,!1)}var j8=(t,e,n,r,i)=>(Kg(!0),p6(e[Ut],r));function nt(t){return mt("",t,""),nt}function mt(t,e,n){let r=ze(),i=TP(r,t,e,n);return i!==Rr&&qE(r,Js(),i),mt}function Ff(t,e,n,r,i){let o=ze(),s=d8(o,t,e,n,r,i);return s!==Rr&&qE(o,Js(),s),Ff}function Lf(t,e,n,r,i,o,s){let a=ze(),c=f8(a,t,e,n,r,i,o,s);return c!==Rr&&qE(a,Js(),c),Lf}function Mr(t,e,n){CP(e)&&(e=e());let r=ze(),i=zg();if(oo(r,i,e)){let o=Pn(),s=Gg();jE(o,s,r,t,e,r[Ut],n,!1)}return Mr}function ni(t,e){let n=CP(t);return n&&t.set(e),n}function Pr(t,e){let n=ze(),r=Pn(),i=Un();return AP(r,n,n[Ut],i,t,e),Pr}function $8(t,e,n){let r=Pn();if(r.firstCreatePass){let i=Gs(t);oE(n,r.data,r.blueprint,i,!0),oE(e,r.data,r.blueprint,i,!1)}}function oE(t,e,n,r,i){if(t=Jn(t),Array.isArray(t))for(let o=0;o<t.length;o++)oE(t[o],e,n,r,i);else{let o=Pn(),s=ze(),a=Un(),c=eu(t)?t:Jn(t.provide),l=Z1(t),f=a.providerIndexes&1048575,h=a.directiveStart,y=a.providerIndexes>>20;if(eu(t)||!t.multi){let w=new pc(l,i,Y),I=Sb(c,e,i?f:f+y,h);I===-1?(Bb(Cg(a,s),o,c),Ib(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(w),s.push(w)):(n[I]=w,s[I]=w)}else{let w=Sb(c,e,f+y,h),I=Sb(c,e,f,f+y),L=w>=0&&n[w],P=I>=0&&n[I];if(i&&!P||!i&&!L){Bb(Cg(a,s),o,c);let $=z8(i?q8:H8,n.length,i,r,l);!i&&P&&(n[I].providerFactory=$),Ib(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push($),s.push($)}else{let $=RP(n[i?I:w],l,!i&&r);Ib(o,t,w>-1?w:I,$)}!i&&r&&P&&n[I].componentProviders++}}}function Ib(t,e,n,r){let i=eu(e),o=zH(e);if(i||o){let c=(o?Jn(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,c]):l[f+1].push(r,c)}else l.push(n,c)}}}function RP(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Sb(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function H8(t,e,n,r){return sE(this.multi,[])}function q8(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ou(n,n[Ue],this.providerFactory.index,r);o=a.slice(0,s),sE(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],sE(i,o);return o}function sE(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function z8(t,e,n,r,i){let o=new pc(t,n,Y);return o.multi=[],o.index=e,o.componentProviders=0,RP(o,i,r&&!n),o}function Nr(t,e=[]){return n=>{n.providersResolver=(r,i)=>$8(r,i?i(t):t,e)}}var G8=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=K1(!1,n.type),i=r.length>0?KE([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ye({token:t,providedIn:"environment",factory:()=>new t(Pe(Jr))})}}return t})();function Je(t){Mf("NgStandalone"),t.getStandaloneInjector=e=>e.get(G8).getOrCreateStandaloneInjector(t)}function vc(t,e,n){let r=du()+t,i=ze();return i[r]===Rr?Pf(i,r,n?e.call(n):e()):SP(i,r)}function QE(t,e,n,r,i){return NP(ze(),du(),t,e,n,r,i)}function MP(t,e,n,r,i,o,s){return K8(ze(),du(),t,e,n,r,i,o,s)}function PP(t,e,n,r,i,o,s,a){let c=du()+t,l=ze(),f=xP(l,c,n,r,i,o);return oo(l,c+4,s)||f?Pf(l,c+5,a?e.call(a,n,r,i,o,s):e(n,r,i,o,s)):SP(l,c+5)}function YE(t,e){let n=t[e];return n===Rr?void 0:n}function W8(t,e,n,r,i,o){let s=e+n;return oo(t,s,i)?Pf(t,s+1,o?r.call(o,i):r(i)):YE(t,s+1)}function NP(t,e,n,r,i,o,s){let a=e+n;return Sf(t,a,i,o)?Pf(t,a+2,s?r.call(s,i,o):r(i,o)):YE(t,a+2)}function K8(t,e,n,r,i,o,s,a,c){let l=e+n;return xP(t,l,i,o,s,a)?Pf(t,l+4,c?r.call(c,i,o,s,a):r(i,o,s,a)):YE(t,l+4)}function ea(t,e){let n=Pn(),r,i=t+Xr;n.firstCreatePass?(r=Q8(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=lc(r.type,!0)),s,a=vr(Y);try{let c=Eg(!1),l=o();return Eg(c),U8(n,ze(),i,l),l}finally{vr(a)}}function Q8(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function mu(t,e,n){let r=t+Xr,i=ze(),o=sM(i,r);return OP(i,r)?W8(i,du(),e,o.transform,n,o):o.transform(n)}function kP(t,e,n,r){let i=t+Xr,o=ze(),s=sM(o,i);return OP(o,i)?NP(o,du(),e,s.transform,n,r,s):s.transform(n,r)}function OP(t,e){return t[Ue].data[e].pure}var Ho=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},FP=new Ho("18.2.9");var oy=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var LP=new ve("");function _c(t){return!!t&&typeof t.then=="function"}function VP(t){return!!t&&typeof t.subscribe=="function"}var BP=new ve(""),UP=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=oe(BP,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(_c(o))n.push(o);else if(VP(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ZE=new ve("");function Y8(){hR(()=>{throw new ge(600,!1)})}function Z8(t){return t.isBoundToModule}var J8=10;function X8(t,e,n){try{let r=n();return _c(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var wc=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=oe(W5),this.afterRenderManager=oe(u8),this.zonelessEnabled=oe(ry),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new wn,this.afterTick=new wn,this.componentTypes=[],this.components=[],this.isStable=oe(fu).hasPendingTasks.pipe(Oe(n=>!n)),this._injector=oe(Jr)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Dg;if(!this._injector.get(UP).done){let y=!i&&q1(n),w=!1;throw new ge(405,w)}let s;i?s=n:s=this._injector.get(au).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=Z8(s)?void 0:this._injector.get(Ks),c=r||s.selector,l=s.create(_r.NULL,[],c,a),f=l.location.nativeElement,h=l.injector.get(LP,null);return h?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),lg(this.components,l),h?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ge(101,!1);let n=tt(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,tt(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(cu,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<J8;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)ez(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Hg(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;lg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(ZE,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>lg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ge(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function lg(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ez(t,e,n,r){if(!n&&!Hg(t))return;gP(t,e,n&&!r?0:1)}var aE=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},JE=(()=>{class t{compileModuleSync(n){return new nE(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=z1(n),o=KM(i.declarations).reduce((s,a)=>{let c=uc(a);return c&&s.push(new Cf(c)),s},[]);return new aE(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var tz=(()=>{class t{constructor(){this.zone=oe(pt),this.changeDetectionScheduler=oe(su),this.applicationRef=oe(wc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),nz=new ve("",{factory:()=>!1});function jP({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new pt(z(x({},HP()),{scheduleInRootZone:n})),[{provide:pt,useFactory:t},{provide:Xl,multi:!0,useFactory:()=>{let r=oe(tz,{optional:!0});return()=>r.initialize()}},{provide:Xl,multi:!0,useFactory:()=>{let r=oe(rz);return()=>{r.initialize()}}},e===!0?{provide:wP,useValue:!0}:[],{provide:bP,useValue:n??kM}]}function $P(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=jP({ngZoneFactory:()=>{let i=HP(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Mf("NgZone_CoalesceEvent"),new pt(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return so([{provide:nz,useValue:!0},{provide:ry,useValue:!1},r])}function HP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var rz=(()=>{class t{constructor(){this.subscription=new Ot,this.initialized=!1,this.zone=oe(pt),this.pendingTasks=oe(fu)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pt.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var iz=(()=>{class t{constructor(){this.appRef=oe(wc),this.taskService=oe(fu),this.ngZone=oe(pt),this.zonelessEnabled=oe(ry),this.disableScheduling=oe(wP,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ot,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Sg):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(oe(bP,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof qb||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?n1:FM;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Sg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,n1(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function oz(){return typeof $localize<"u"&&$localize.locale||kg}var sy=new ve("",{providedIn:"root",factory:()=>oe(sy,Ve.Optional|Ve.SkipSelf)||oz()});var cE=new ve("");function og(t){return!t.moduleRef}function sz(t){let e=og(t)?t.r3Injector:t.moduleRef.injector,n=e.get(pt);return n.run(()=>{og(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(jo,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),og(t)){let o=()=>e.destroy(),s=t.platformInjector.get(cE);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(cE);s.add(o),t.moduleRef.onDestroy(()=>{lg(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return X8(r,n,()=>{let o=e.get(UP);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(sy,kg);if(L8(s||kg),og(t)){let a=e.get(wc);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return az(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function az(t,e){let n=t.injector.get(wc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new ge(-403,!1);e.push(t)}var ug=null;function cz(t=[],e){return _r.create({name:e,providers:[{provide:Bg,useValue:"platform"},{provide:cE,useValue:new Set([()=>ug=null])},...t]})}function lz(t=[]){if(ug)return ug;let e=cz(t);return ug=e,Y8(),uz(e),e}function uz(t){t.get(RE,null)?.forEach(n=>n())}var bc=(()=>{class t{static{this.__NG_ELEMENT_ID__=dz}}return t})();function dz(t){return fz(Un(),ze(),(t&16)===16)}function fz(t,e,n){if(jg(t)&&!n){let r=Zs(t.index,e);return new mc(r,r)}else if(t.type&175){let r=e[ro];return new mc(r,e)}return null}var lE=class{constructor(){}supports(e){return IP(e)}create(e){return new uE(e)}},hz=(t,e)=>e,uE=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||hz}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<C1(r,i,o)?n:r,a=C1(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,f=c-i;if(l!=f){for(let y=0;y<l;y++){let w=y<o.length?o[y]:o[y]=0,I=w+y;f<=I&&I<l&&(o[y]=w+1)}let h=s.previousIndex;o[h]=f-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!IP(e))throw new ge(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,n8(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new dE(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Og),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Og),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},dE=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},fE=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Og=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new fE,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function C1(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function I1(){return new XE([new lE])}var XE=(()=>{class t{static{this.\u0275prov=ye({token:t,providedIn:"root",factory:I1})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||I1()),deps:[[t,new O1,new nr]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new ge(901,!1)}}return t})();function qP(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=lz(r),o=[jP({}),{provide:su,useExisting:iz},...n||[]],s=new Pg({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return sz({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function ta(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function gu(t,e){Mf("NgSignals");let n=uR(t);return e?.equal&&(n[Lo].equal=e.equal),n}function uo(t){let e=tt(null);try{return t()}finally{tt(e)}}var ZP=null;function Qo(){return ZP}function JP(t){ZP??=t}var my=class{};var ii=new ve(""),XP=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:()=>oe(pz),providedIn:"platform"})}}return t})();var pz=(()=>{class t extends XP{constructor(){super(),this._doc=oe(ii),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qo().getBaseHref(this._doc)}onPopState(n){let r=Qo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Qo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function eN(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function zP(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ec(t){return t&&t[0]!=="?"?"?"+t:t}var yu=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:()=>oe(tN),providedIn:"root"})}}return t})(),mz=new ve(""),tN=(()=>{class t extends yu{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??oe(ii).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return eN(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ec(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Ec(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Ec(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(Pe(XP),Pe(mz,8))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Vf=(()=>{class t{constructor(n){this._subject=new ct,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=vz(zP(GP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ec(r))}normalize(n){return t.stripTrailingSlash(yz(this._basePath,GP(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ec(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ec(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Ec}static{this.joinWithSlash=eN}static{this.stripTrailingSlash=zP}static{this.\u0275fac=function(r){return new(r||t)(Pe(yu))}}static{this.\u0275prov=ye({token:t,factory:()=>gz(),providedIn:"root"})}}return t})();function gz(){return new Vf(Pe(yu))}function yz(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function GP(t){return t.replace(/\/index.html$/,"")}function vz(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var ir=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(ir||{}),_t=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(_t||{}),kr=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(kr||{}),na={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function _z(t){return ti(t)[jt.LocaleId]}function wz(t,e,n){let r=ti(t),i=[r[jt.DayPeriodsFormat],r[jt.DayPeriodsStandalone]],o=ri(i,e);return ri(o,n)}function bz(t,e,n){let r=ti(t),i=[r[jt.DaysFormat],r[jt.DaysStandalone]],o=ri(i,e);return ri(o,n)}function Ez(t,e,n){let r=ti(t),i=[r[jt.MonthsFormat],r[jt.MonthsStandalone]],o=ri(i,e);return ri(o,n)}function Cz(t,e){let r=ti(t)[jt.Eras];return ri(r,e)}function ay(t,e){let n=ti(t);return ri(n[jt.DateFormat],e)}function cy(t,e){let n=ti(t);return ri(n[jt.TimeFormat],e)}function ly(t,e){let r=ti(t)[jt.DateTimeFormat];return ri(r,e)}function vy(t,e){let n=ti(t),r=n[jt.NumberSymbols][e];if(typeof r>"u"){if(e===na.CurrencyDecimal)return n[jt.NumberSymbols][na.Decimal];if(e===na.CurrencyGroup)return n[jt.NumberSymbols][na.Group]}return r}function nN(t){if(!t[jt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[jt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Iz(t){let e=ti(t);return nN(e),(e[jt.ExtraData][2]||[]).map(r=>typeof r=="string"?eC(r):[eC(r[0]),eC(r[1])])}function Sz(t,e,n){let r=ti(t);nN(r);let i=[r[jt.ExtraData][0],r[jt.ExtraData][1]],o=ri(i,e)||[];return ri(o,n)||[]}function ri(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function eC(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var xz=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,uy={},Tz=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Ko=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Ko||{}),ot=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ot||{}),it=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(it||{});function Az(t,e,n,r){let i=Lz(t);e=Wo(n,e)||e;let s=[],a;for(;e;)if(a=Tz.exec(e),a){s=s.concat(a.slice(1));let f=s.pop();if(!f)break;e=f}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=iN(r,c),i=Fz(i,r,!0));let l="";return s.forEach(f=>{let h=kz(f);l+=h?h(i,n,c):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function gy(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Wo(t,e){let n=_z(t);if(uy[n]??={},uy[n][e])return uy[n][e];let r="";switch(e){case"shortDate":r=ay(t,kr.Short);break;case"mediumDate":r=ay(t,kr.Medium);break;case"longDate":r=ay(t,kr.Long);break;case"fullDate":r=ay(t,kr.Full);break;case"shortTime":r=cy(t,kr.Short);break;case"mediumTime":r=cy(t,kr.Medium);break;case"longTime":r=cy(t,kr.Long);break;case"fullTime":r=cy(t,kr.Full);break;case"short":let i=Wo(t,"shortTime"),o=Wo(t,"shortDate");r=dy(ly(t,kr.Short),[i,o]);break;case"medium":let s=Wo(t,"mediumTime"),a=Wo(t,"mediumDate");r=dy(ly(t,kr.Medium),[s,a]);break;case"long":let c=Wo(t,"longTime"),l=Wo(t,"longDate");r=dy(ly(t,kr.Long),[c,l]);break;case"full":let f=Wo(t,"fullTime"),h=Wo(t,"fullDate");r=dy(ly(t,kr.Full),[f,h]);break}return r&&(uy[n][e]=r),r}function dy(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Mi(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function Dz(t,e){return Mi(t,3).substring(0,e)}function Xt(t,e,n=0,r=!1,i=!1){return function(o,s){let a=Rz(t,o);if((n>0||a>-n)&&(a+=n),t===ot.Hours)a===0&&n===-12&&(a=12);else if(t===ot.FractionalSeconds)return Dz(a,e);let c=vy(s,na.MinusSign);return Mi(a,e,c,r,i)}}function Rz(t,e){switch(t){case ot.FullYear:return e.getFullYear();case ot.Month:return e.getMonth();case ot.Date:return e.getDate();case ot.Hours:return e.getHours();case ot.Minutes:return e.getMinutes();case ot.Seconds:return e.getSeconds();case ot.FractionalSeconds:return e.getMilliseconds();case ot.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function wt(t,e,n=ir.Format,r=!1){return function(i,o){return Mz(i,o,t,e,n,r)}}function Mz(t,e,n,r,i,o){switch(n){case it.Months:return Ez(e,i,r)[t.getMonth()];case it.Days:return bz(e,i,r)[t.getDay()];case it.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=Iz(e),f=Sz(e,i,r),h=l.findIndex(y=>{if(Array.isArray(y)){let[w,I]=y,L=s>=w.hours&&a>=w.minutes,P=s<I.hours||s===I.hours&&a<I.minutes;if(w.hours<I.hours){if(L&&P)return!0}else if(L||P)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(h!==-1)return f[h]}return wz(e,i,r)[s<12?0:1];case it.Eras:return Cz(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function fy(t){return function(e,n,r){let i=-1*r,o=vy(n,na.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Ko.Short:return(i>=0?"+":"")+Mi(s,2,o)+Mi(Math.abs(i%60),2,o);case Ko.ShortGMT:return"GMT"+(i>=0?"+":"")+Mi(s,1,o);case Ko.Long:return"GMT"+(i>=0?"+":"")+Mi(s,2,o)+":"+Mi(Math.abs(i%60),2,o);case Ko.Extended:return r===0?"Z":(i>=0?"+":"")+Mi(s,2,o)+":"+Mi(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var Pz=0,py=4;function Nz(t){let e=gy(t,Pz,1).getDay();return gy(t,0,1+(e<=py?py:py+7)-e)}function rN(t){let e=t.getDay(),n=e===0?-3:py-e;return gy(t.getFullYear(),t.getMonth(),t.getDate()+n)}function tC(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=rN(n),s=Nz(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Mi(i,t,vy(r,na.MinusSign))}}function hy(t,e=!1){return function(n,r){let o=rN(n).getFullYear();return Mi(o,t,vy(r,na.MinusSign),e)}}var nC={};function kz(t){if(nC[t])return nC[t];let e;switch(t){case"G":case"GG":case"GGG":e=wt(it.Eras,_t.Abbreviated);break;case"GGGG":e=wt(it.Eras,_t.Wide);break;case"GGGGG":e=wt(it.Eras,_t.Narrow);break;case"y":e=Xt(ot.FullYear,1,0,!1,!0);break;case"yy":e=Xt(ot.FullYear,2,0,!0,!0);break;case"yyy":e=Xt(ot.FullYear,3,0,!1,!0);break;case"yyyy":e=Xt(ot.FullYear,4,0,!1,!0);break;case"Y":e=hy(1);break;case"YY":e=hy(2,!0);break;case"YYY":e=hy(3);break;case"YYYY":e=hy(4);break;case"M":case"L":e=Xt(ot.Month,1,1);break;case"MM":case"LL":e=Xt(ot.Month,2,1);break;case"MMM":e=wt(it.Months,_t.Abbreviated);break;case"MMMM":e=wt(it.Months,_t.Wide);break;case"MMMMM":e=wt(it.Months,_t.Narrow);break;case"LLL":e=wt(it.Months,_t.Abbreviated,ir.Standalone);break;case"LLLL":e=wt(it.Months,_t.Wide,ir.Standalone);break;case"LLLLL":e=wt(it.Months,_t.Narrow,ir.Standalone);break;case"w":e=tC(1);break;case"ww":e=tC(2);break;case"W":e=tC(1,!0);break;case"d":e=Xt(ot.Date,1);break;case"dd":e=Xt(ot.Date,2);break;case"c":case"cc":e=Xt(ot.Day,1);break;case"ccc":e=wt(it.Days,_t.Abbreviated,ir.Standalone);break;case"cccc":e=wt(it.Days,_t.Wide,ir.Standalone);break;case"ccccc":e=wt(it.Days,_t.Narrow,ir.Standalone);break;case"cccccc":e=wt(it.Days,_t.Short,ir.Standalone);break;case"E":case"EE":case"EEE":e=wt(it.Days,_t.Abbreviated);break;case"EEEE":e=wt(it.Days,_t.Wide);break;case"EEEEE":e=wt(it.Days,_t.Narrow);break;case"EEEEEE":e=wt(it.Days,_t.Short);break;case"a":case"aa":case"aaa":e=wt(it.DayPeriods,_t.Abbreviated);break;case"aaaa":e=wt(it.DayPeriods,_t.Wide);break;case"aaaaa":e=wt(it.DayPeriods,_t.Narrow);break;case"b":case"bb":case"bbb":e=wt(it.DayPeriods,_t.Abbreviated,ir.Standalone,!0);break;case"bbbb":e=wt(it.DayPeriods,_t.Wide,ir.Standalone,!0);break;case"bbbbb":e=wt(it.DayPeriods,_t.Narrow,ir.Standalone,!0);break;case"B":case"BB":case"BBB":e=wt(it.DayPeriods,_t.Abbreviated,ir.Format,!0);break;case"BBBB":e=wt(it.DayPeriods,_t.Wide,ir.Format,!0);break;case"BBBBB":e=wt(it.DayPeriods,_t.Narrow,ir.Format,!0);break;case"h":e=Xt(ot.Hours,1,-12);break;case"hh":e=Xt(ot.Hours,2,-12);break;case"H":e=Xt(ot.Hours,1);break;case"HH":e=Xt(ot.Hours,2);break;case"m":e=Xt(ot.Minutes,1);break;case"mm":e=Xt(ot.Minutes,2);break;case"s":e=Xt(ot.Seconds,1);break;case"ss":e=Xt(ot.Seconds,2);break;case"S":e=Xt(ot.FractionalSeconds,1);break;case"SS":e=Xt(ot.FractionalSeconds,2);break;case"SSS":e=Xt(ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=fy(Ko.Short);break;case"ZZZZZ":e=fy(Ko.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=fy(Ko.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=fy(Ko.Long);break;default:return null}return nC[t]=e,e}function iN(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Oz(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function Fz(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=iN(e,i);return Oz(t,r*(o-i))}function Lz(t){if(WP(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return gy(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(xz))return Vz(r)}let e=new Date(t);if(!WP(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function Vz(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,l),e}function WP(t){return t instanceof Date&&!isNaN(t.valueOf())}function oN(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var rC=/\s+/,KP=[],vu=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=KP,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(rC):KP}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(rC):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(rC).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(Y(Ri),Y(co))}}static{this.\u0275dir=ft({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var iC=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},jn=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new iC(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),QP(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);QP(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Y(hu),Y(ny),Y(XE))}}static{this.\u0275dir=ft({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function QP(t,e){t.context.$implicit=e.item}var Dt=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new oC,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){YP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){YP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Y(hu),Y(ny))}}static{this.\u0275dir=ft({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),oC=class{constructor(){this.$implicit=null,this.ngIf=null}};function YP(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Xn(e)}'.`)}function sC(t,e){return new ge(2100,!1)}var Bz=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,sN=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw sC(t,n);return n.replace(Bz,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Vg({name:"titlecase",type:t,pure:!0,standalone:!0})}}return t})(),_y=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw sC(t,n);return n.toUpperCase()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Vg({name:"uppercase",type:t,pure:!0,standalone:!0})}}return t})(),Uz="mediumDate",jz=new ve(""),$z=new ve(""),aN=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??Uz,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Az(n,s,o||this.locale,a)}catch(s){throw sC(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(Y(sy,16),Y(jz,24),Y($z,24))}}static{this.\u0275pipe=Vg({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var $t=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ys({type:t})}static{this.\u0275inj=Qs({})}}return t})(),cN="browser",Hz="server";function aC(t){return t===Hz}var yy=class{};var uC=class extends my{constructor(){super(...arguments),this.supportsDOMEvents=!0}},dC=class t extends uC{static makeCurrent(){JP(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=qz();return n==null?null:zz(n)}resetBaseElement(){Bf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return oN(document.cookie,e)}},Bf=null;function qz(){return Bf=Bf||document.querySelector("base"),Bf?Bf.getAttribute("href"):null}function zz(t){return new URL(t,document.baseURI).pathname}var Gz=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac})}}return t})(),fC=new ve(""),fN=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new ge(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(Pe(fC),Pe(pt))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac})}}return t})(),wy=class{constructor(e){this._doc=e}},cC="ng-app-id",hN=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=aC(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${cC}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(cC),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(cC,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(Pe(ii),Pe(DE),Pe(ME,8),Pe(Xs))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac})}}return t})(),lC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},pC=/%COMP%/g,pN="%COMP%",Wz=`_nghost-${pN}`,Kz=`_ngcontent-${pN}`,Qz=!0,Yz=new ve("",{providedIn:"root",factory:()=>Qz});function Zz(t){return Kz.replace(pC,t)}function Jz(t){return Wz.replace(pC,t)}function mN(t,e){return e.map(n=>n.replace(pC,t))}var lN=(()=>{class t{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=aC(a),this.defaultRenderer=new Uf(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===to.ShadowDom&&(r=z(x({},r),{encapsulation:to.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof by?i.applyToHost(n):i instanceof jf&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case to.Emulated:o=new by(c,l,r,this.appId,f,s,a,h);break;case to.ShadowDom:return new hC(c,l,n,r,s,a,this.nonce,h);default:o=new jf(c,l,r,f,s,a,h);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(Pe(fN),Pe(hN),Pe(DE),Pe(Yz),Pe(ii),Pe(Xs),Pe(pt),Pe(ME))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac})}}return t})(),Uf=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(lC[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(uN(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(uN(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ge(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=lC[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=lC[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&($o.DashCase|$o.Important)?e.style.setProperty(n,r,i&$o.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&$o.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Qo().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function uN(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var hC=class extends Uf{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=mN(i.id,i.styles);for(let f of l){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},jf=class extends Uf{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?mN(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},by=class extends jf{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=Zz(l),this.hostAttr=Jz(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Xz=(()=>{class t extends wy{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(Pe(ii))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac})}}return t})(),dN=["alt","control","meta","shift"],e9={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},t9={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},n9=(()=>{class t extends wy{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qo().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),dN.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=e9[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),dN.forEach(s=>{if(s!==i){let a=t9[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(Pe(ii))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac})}}return t})();function gN(t,e){return qP(x({rootComponent:t},r9(e)))}function r9(t){return{appProviders:[...c9,...t?.providers??[]],platformProviders:a9}}function i9(){dC.makeCurrent()}function o9(){return new jo}function s9(){return HM(document),document}var a9=[{provide:Xs,useValue:cN},{provide:RE,useValue:i9,multi:!0},{provide:ii,useFactory:s9,deps:[]}];var c9=[{provide:Bg,useValue:"root"},{provide:jo,useFactory:o9,deps:[]},{provide:fC,useClass:Xz,multi:!0,deps:[ii,pt,Xs]},{provide:fC,useClass:n9,multi:!0,deps:[ii]},lN,hN,fN,{provide:cu,useExisting:lN},{provide:yy,useClass:Gz,deps:[]},[]];var yN=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(Pe(ii))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ne="primary",rh=Symbol("RouteTitle"),_C=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Iu(t){return new _C(t)}function u9(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function d9(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ho(t[n],e[n]))return!1;return!0}function ho(t,e){let n=t?wC(t):void 0,r=e?wC(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!SN(t[i],e[i]))return!1;return!0}function wC(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function SN(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function xN(t){return t.length>0?t[t.length-1]:null}function ia(t){return sb(t)?t:_c(t)?Ft(Promise.resolve(t)):Re(t)}var f9={exact:AN,subset:DN},TN={exact:h9,subset:p9,ignored:()=>!0};function vN(t,e,n){return f9[n.paths](t.root,e.root,n.matrixParams)&&TN[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function h9(t,e){return ho(t,e)}function AN(t,e,n){if(!Ic(t.segments,e.segments)||!Iy(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!AN(t.children[r],e.children[r],n))return!1;return!0}function p9(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>SN(t[n],e[n]))}function DN(t,e,n){return RN(t,e,e.segments,n)}function RN(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ic(i,n)||e.hasChildren()||!Iy(i,n,r))}else if(t.segments.length===n.length){if(!Ic(t.segments,n)||!Iy(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!DN(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Ic(t.segments,i)||!Iy(t.segments,i,r)||!t.children[Ne]?!1:RN(t.children[Ne],e,o,r)}}function Iy(t,e,n){return e.every((r,i)=>TN[n](t[i].parameters,r.parameters))}var Zo=class{constructor(e=new dt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Iu(this.queryParams),this._queryParamMap}toString(){return y9.serialize(this)}},dt=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sy(this)}},Cc=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Iu(this.parameters),this._parameterMap}toString(){return PN(this)}};function m9(t,e){return Ic(t,e)&&t.every((n,r)=>ho(n.parameters,e[r].parameters))}function Ic(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function g9(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Ne&&(n=n.concat(e(i,r)))}),n}var GC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:()=>new Kf,providedIn:"root"})}}return t})(),Kf=class{parse(e){let n=new EC(e);return new Zo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${$f(e.root,!0)}`,r=w9(e.queryParams),i=typeof e.fragment=="string"?`#${v9(e.fragment)}`:"";return`${n}${r}${i}`}},y9=new Kf;function Sy(t){return t.segments.map(e=>PN(e)).join("/")}function $f(t,e){if(!t.hasChildren())return Sy(t);if(e){let n=t.children[Ne]?$f(t.children[Ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Ne&&r.push(`${i}:${$f(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=g9(t,(r,i)=>i===Ne?[$f(t.children[Ne],!1)]:[`${i}:${$f(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Ne]!=null?`${Sy(t)}/${n[0]}`:`${Sy(t)}/(${n.join("//")})`}}function MN(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ey(t){return MN(t).replace(/%3B/gi,";")}function v9(t){return encodeURI(t)}function bC(t){return MN(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xy(t){return decodeURIComponent(t)}function _N(t){return xy(t.replace(/\+/g,"%20"))}function PN(t){return`${bC(t.path)}${_9(t.parameters)}`}function _9(t){return Object.entries(t).map(([e,n])=>`;${bC(e)}=${bC(n)}`).join("")}function w9(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ey(n)}=${Ey(i)}`).join("&"):`${Ey(n)}=${Ey(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var b9=/^[^\/()?;#]+/;function mC(t){let e=t.match(b9);return e?e[0]:""}var E9=/^[^\/()?;=#]+/;function C9(t){let e=t.match(E9);return e?e[0]:""}var I9=/^[^=?&#]+/;function S9(t){let e=t.match(I9);return e?e[0]:""}var x9=/^[^&#]+/;function T9(t){let e=t.match(x9);return e?e[0]:""}var EC=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new dt([],{}):new dt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Ne]=new dt(e,n)),r}parseSegment(){let e=mC(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ge(4009,!1);return this.capture(e),new Cc(xy(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=C9(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=mC(this.remaining);i&&(r=i,this.capture(r))}e[xy(n)]=xy(r)}parseQueryParam(e){let n=S9(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=T9(this.remaining);s&&(r=s,this.capture(r))}let i=_N(n),o=_N(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=mC(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ge(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ne);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Ne]:new dt([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ge(4011,!1)}};function NN(t){return t.segments.length>0?new dt([],{[Ne]:t}):t}function kN(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=kN(i);if(r===Ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new dt(t.segments,e);return A9(n)}function A9(t){if(t.numberOfChildren===1&&t.children[Ne]){let e=t.children[Ne];return new dt(t.segments.concat(e.segments),e.children)}return t}function Sc(t){return t instanceof Zo}function D9(t,e,n=null,r=null){let i=ON(t);return FN(i,e,n,r)}function ON(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new dt(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=NN(r);return e??i}function FN(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return gC(i,i,i,n,r);let o=R9(e);if(o.toRoot())return gC(i,i,new dt([],{}),n,r);let s=M9(o,i,t),a=s.processChildren?zf(s.segmentGroup,s.index,o.commands):VN(s.segmentGroup,s.index,o.commands);return gC(i,s.segmentGroup,a,n,r)}function Ty(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Qf(t){return typeof t=="object"&&t!=null&&t.outlets}function gC(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;t===e?s=n:s=LN(t,e,n);let a=NN(kN(s));return new Zo(a,o,i)}function LN(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=LN(o,e,n)}),new dt(t.segments,r)}var Ay=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ty(r[0]))throw new ge(4003,!1);let i=r.find(Qf);if(i&&i!==xN(r))throw new ge(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function R9(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ay(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ay(n,e,r)}var bu=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function M9(t,e,n){if(t.isAbsolute)return new bu(e,!0,0);if(!n)return new bu(e,!1,NaN);if(n.parent===null)return new bu(n,!0,0);let r=Ty(t.commands[0])?0:1,i=n.segments.length-1+r;return P9(n,i,t.numberOfDoubleDots)}function P9(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ge(4005,!1);i=r.segments.length}return new bu(r,!1,i-o)}function N9(t){return Qf(t[0])?t[0].outlets:{[Ne]:t}}function VN(t,e,n){if(t??=new dt([],{}),t.segments.length===0&&t.hasChildren())return zf(t,e,n);let r=k9(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new dt(t.segments.slice(0,r.pathIndex),{});return o.children[Ne]=new dt(t.segments.slice(r.pathIndex),t.children),zf(o,0,i)}else return r.match&&i.length===0?new dt(t.segments,{}):r.match&&!t.hasChildren()?CC(t,e,n):r.match?zf(t,0,i):CC(t,e,n)}function zf(t,e,n){if(n.length===0)return new dt(t.segments,{});{let r=N9(n),i={};if(Object.keys(r).some(o=>o!==Ne)&&t.children[Ne]&&t.numberOfChildren===1&&t.children[Ne].segments.length===0){let o=zf(t.children[Ne],e,n);return new dt(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=VN(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new dt(t.segments,i)}}function k9(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Qf(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!bN(c,l,s))return o;r+=2}else{if(!bN(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function CC(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Qf(o)){let c=O9(o.outlets);return new dt(r,c)}if(i===0&&Ty(n[0])){let c=t.segments[e];r.push(new Cc(c.path,wN(n[0]))),i++;continue}let s=Qf(o)?o.outlets[Ne]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Ty(a)?(r.push(new Cc(s,wN(a))),i+=2):(r.push(new Cc(s,{})),i++)}return new dt(r,{})}function O9(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=CC(new dt([],{}),0,r))}),e}function wN(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function bN(t,e,n){return t==n.path&&ho(e,n.parameters)}var Gf="imperative",Nn=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Nn||{}),oi=class{constructor(e,n){this.id=e,this.url=n}},Yf=class extends oi{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Nn.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ra=class extends oi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Nn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Fr=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Fr||{}),IC=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(IC||{}),Yo=class extends oi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Nn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xc=class extends oi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Nn.NavigationSkipped}},Zf=class extends oi{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Nn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Dy=class extends oi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Nn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},SC=class extends oi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Nn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xC=class extends oi{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Nn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},TC=class extends oi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Nn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},AC=class extends oi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Nn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},DC=class{constructor(e){this.route=e,this.type=Nn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},RC=class{constructor(e){this.route=e,this.type=Nn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},MC=class{constructor(e){this.snapshot=e,this.type=Nn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},PC=class{constructor(e){this.snapshot=e,this.type=Nn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},NC=class{constructor(e){this.snapshot=e,this.type=Nn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kC=class{constructor(e){this.snapshot=e,this.type=Nn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Jf=class{},Su=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function F9(t,e){return t.providers&&!t._injector&&(t._injector=KE(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Pi(t){return t.outlet||Ne}function L9(t,e){let n=t.filter(r=>Pi(r)===e);return n.push(...t.filter(r=>Pi(r)!==e)),n}function ih(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var OC=class{get injector(){return ih(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Fy(this.rootInjector),this.attachRef=null}},Fy=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new OC(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(Pe(Jr))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ry=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=FC(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=FC(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=LC(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return LC(e,this._root).map(n=>n.value)}};function FC(t,e){if(t===e.value)return e;for(let n of e.children){let r=FC(t,n);if(r)return r}return null}function LC(t,e){if(t===e.value)return[e];for(let n of e.children){let r=LC(t,n);if(r.length)return r.unshift(e),r}return[]}var Or=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function wu(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var My=class extends Ry{constructor(e,n){super(e),this.snapshot=n,WC(this,e)}toString(){return this.snapshot.toString()}};function BN(t){let e=V9(t),n=new fn([new Cc("",{})]),r=new fn({}),i=new fn({}),o=new fn({}),s=new fn(""),a=new Tc(n,r,o,s,i,Ne,t,e.root);return a.snapshot=e.root,new My(new Or(a,[]),e)}function V9(t){let e={},n={},r={},i="",o=new Eu([],e,r,i,n,Ne,t,null,{});return new Ny("",new Or(o,[]))}var Tc=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Oe(l=>l[rh]))??Re(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Oe(e=>Iu(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Oe(e=>Iu(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Py(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:x(x({},e.params),t.params),data:x(x({},e.data),t.data),resolve:x(x(x(x({},t.data),e.data),i?.data),t._resolvedData)}:r={params:x({},t.params),data:x({},t.data),resolve:x(x({},t.data),t._resolvedData??{})},i&&jN(i)&&(r.resolve[rh]=i.title),r}var Eu=class{get title(){return this.data?.[rh]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Iu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Iu(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ny=class extends Ry{constructor(e,n){super(n),this.url=e,WC(this,n)}toString(){return UN(this._root)}};function WC(t,e){e.value._routerState=t,e.children.forEach(n=>WC(t,n))}function UN(t){let e=t.children.length>0?` { ${t.children.map(UN).join(", ")} } `:"";return`${t.value}${e}`}function yC(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ho(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ho(e.params,n.params)||t.paramsSubject.next(n.params),d9(e.url,n.url)||t.urlSubject.next(n.url),ho(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function VC(t,e){let n=ho(t.params,e.params)&&m9(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||VC(t.parent,e.parent))}function jN(t){return typeof t.title=="string"||t.title===null}var KC=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ne,this.activateEvents=new ct,this.deactivateEvents=new ct,this.attachEvents=new ct,this.detachEvents=new ct,this.parentContexts=oe(Fy),this.location=oe(hu),this.changeDetector=oe(bc),this.inputBinder=oe(QC,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ge(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ge(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ge(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ge(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new BC(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ft({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ao]})}}return t})(),BC=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Tc?this.route:e===Fy?this.childContexts:this.parent.get(e,n)}},QC=new ve("");function B9(t,e,n){let r=Xf(t,e._root,n?n._root:void 0);return new My(r,e)}function Xf(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=U9(t,e,n);return new Or(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Xf(t,a)),s}}let r=j9(e.value),i=e.children.map(o=>Xf(t,o));return new Or(r,i)}}function U9(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Xf(t,r,i);return Xf(t,r)})}function j9(t){return new Tc(new fn(t.url),new fn(t.params),new fn(t.queryParams),new fn(t.fragment),new fn(t.data),t.outlet,t.component,t)}var eh=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},$N="ngNavigationCancelingError";function ky(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Sc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=HN(!1,Fr.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function HN(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[$N]=!0,n.cancellationCode=e,n}function $9(t){return qN(t)&&Sc(t.url)}function qN(t){return!!t&&t[$N]}var H9=(t,e,n,r)=>Oe(i=>(new UC(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),UC=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),yC(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=wu(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=wu(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=wu(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=wu(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new kC(o.value.snapshot))}),e.children.length&&this.forwardEvent(new PC(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(yC(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),yC(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Oy=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Cu=class{constructor(e,n){this.component=e,this.route=n}};function q9(t,e,n){let r=t._root,i=e?e._root:null;return Hf(r,i,n,[r.value])}function z9(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Tu(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!A1(t)?t:e.get(t):r}function Hf(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=wu(e);return t.children.forEach(s=>{G9(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Wf(a,n.getContext(s),i)),i}function G9(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=W9(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Oy(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Hf(t,e,a?a.children:null,r,i):Hf(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cu(a.outlet.component,s))}else s&&Wf(e,a,i),i.canActivateChecks.push(new Oy(r)),o.component?Hf(t,null,a?a.children:null,r,i):Hf(t,null,n,r,i);return i}function W9(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ic(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ic(t.url,e.url)||!ho(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!VC(t,e)||!ho(t.queryParams,e.queryParams);case"paramsChange":default:return!VC(t,e)}}function Wf(t,e,n){let r=wu(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Wf(s,e.children.getContext(o),n):Wf(s,null,n):Wf(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Cu(e.outlet.component,i)):n.canDeactivateChecks.push(new Cu(null,i)):n.canDeactivateChecks.push(new Cu(null,i))}function oh(t){return typeof t=="function"}function K9(t){return typeof t=="boolean"}function Q9(t){return t&&oh(t.canLoad)}function Y9(t){return t&&oh(t.canActivate)}function Z9(t){return t&&oh(t.canActivateChild)}function J9(t){return t&&oh(t.canDeactivate)}function X9(t){return t&&oh(t.canMatch)}function zN(t){return t instanceof Vo||t?.name==="EmptyError"}var Cy=Symbol("INITIAL_VALUE");function xu(){return Ii(t=>Ym(t.map(e=>e.pipe(Bo(1),eg(Cy)))).pipe(Oe(e=>{for(let n of e)if(n!==!0){if(n===Cy)return Cy;if(n===!1||eG(n))return n}return!0}),Kr(e=>e!==Cy),Bo(1)))}function eG(t){return Sc(t)||t instanceof eh}function tG(t,e){return hn(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Re(z(x({},n),{guardsResult:!0})):nG(s,r,i,t).pipe(hn(a=>a&&K9(a)?rG(r,o,t,e):Re(a)),Oe(a=>z(x({},n),{guardsResult:a})))})}function nG(t,e,n,r){return Ft(t).pipe(hn(i=>cG(i.component,i.route,n,e,r)),Ji(i=>i!==!0,!0))}function rG(t,e,n,r){return Ft(e).pipe(zl(i=>ql(oG(i.route.parent,r),iG(i.route,r),aG(t,i.path,n),sG(t,i.route,n))),Ji(i=>i!==!0,!0))}function iG(t,e){return t!==null&&e&&e(new NC(t)),Re(!0)}function oG(t,e){return t!==null&&e&&e(new MC(t)),Re(!0)}function sG(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Re(!0);let i=r.map(o=>Zm(()=>{let s=ih(e)??n,a=Tu(o,s),c=Y9(a)?a.canActivate(e,t):qo(s,()=>a(e,t));return ia(c).pipe(Ji())}));return Re(i).pipe(xu())}function aG(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>z9(s)).filter(s=>s!==null).map(s=>Zm(()=>{let a=s.guards.map(c=>{let l=ih(s.node)??n,f=Tu(c,l),h=Z9(f)?f.canActivateChild(r,t):qo(l,()=>f(r,t));return ia(h).pipe(Ji())});return Re(a).pipe(xu())}));return Re(o).pipe(xu())}function cG(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Re(!0);let s=o.map(a=>{let c=ih(e)??i,l=Tu(a,c),f=J9(l)?l.canDeactivate(t,e,n,r):qo(c,()=>l(t,e,n,r));return ia(f).pipe(Ji())});return Re(s).pipe(xu())}function lG(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Re(!0);let o=i.map(s=>{let a=Tu(s,t),c=Q9(a)?a.canLoad(e,n):qo(t,()=>a(e,n));return ia(c)});return Re(o).pipe(xu(),GN(r))}function GN(t){return Mm(pn(e=>{if(typeof e!="boolean")throw ky(t,e)}),Oe(e=>e===!0))}function uG(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Re(!0);let o=i.map(s=>{let a=Tu(s,t),c=X9(a)?a.canMatch(e,n):qo(t,()=>a(e,n));return ia(c)});return Re(o).pipe(xu(),GN(r))}var th=class{constructor(e){this.segmentGroup=e||null}},nh=class extends Error{constructor(e){super(),this.urlTree=e}};function _u(t){return Hl(new th(t))}function dG(t){return Hl(new ge(4e3,!1))}function fG(t){return Hl(HN(!1,Fr.GuardRejected))}var jC=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Re(r);if(i.numberOfChildren>1||!i.children[Ne])return dG(`${e.redirectTo}`);i=i.children[Ne]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:f,url:h,outlet:y,params:w,data:I,title:L}=i,P=qo(o,()=>a({params:w,data:I,queryParams:c,fragment:l,routeConfig:f,url:h,outlet:y,title:L}));if(P instanceof Zo)throw new nh(P);n=P}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new nh(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Zo(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new dt(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new ge(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},$C={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hG(t,e,n,r,i){let o=WN(t,e,n);return o.matched?(r=F9(e,r),uG(r,e,n,i).pipe(Oe(s=>s===!0?o:x({},$C)))):Re(o)}function WN(t,e,n){if(e.path==="**")return pG(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?x({},$C):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||u9)(n,t,e);if(!i)return x({},$C);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?x(x({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function pG(t){return{matched:!0,parameters:t.length>0?xN(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function EN(t,e,n,r){return n.length>0&&yG(t,n,r)?{segmentGroup:new dt(e,gG(r,new dt(n,t.children))),slicedSegments:[]}:n.length===0&&vG(t,n,r)?{segmentGroup:new dt(t.segments,mG(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new dt(t.segments,t.children),slicedSegments:n}}function mG(t,e,n,r){let i={};for(let o of n)if(Ly(t,e,o)&&!r[Pi(o)]){let s=new dt([],{});i[Pi(o)]=s}return x(x({},r),i)}function gG(t,e){let n={};n[Ne]=e;for(let r of t)if(r.path===""&&Pi(r)!==Ne){let i=new dt([],{});n[Pi(r)]=i}return n}function yG(t,e,n){return n.some(r=>Ly(t,e,r)&&Pi(r)!==Ne)}function vG(t,e,n){return n.some(r=>Ly(t,e,r))}function Ly(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function _G(t,e,n){return e.length===0&&!t.children[n]}var HC=class{};function wG(t,e,n,r,i,o,s="emptyOnly"){return new qC(t,e,n,r,i,s,o).recognize()}var bG=31,qC=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new jC(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ge(4002,`'${e.segmentGroup}'`)}recognize(){let e=EN(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Oe(({children:n,rootSnapshot:r})=>{let i=new Or(r,n),o=new Ny("",i),s=D9(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Eu([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ne,n).pipe(Oe(r=>({children:r,rootSnapshot:n})),Us(r=>{if(r instanceof nh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof th?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(Oe(s=>s instanceof Or?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ft(o).pipe(zl(s=>{let a=r.children[s],c=L9(n,s);return this.processSegmentGroup(e,c,a,s,i)}),Xm((s,a)=>(s.push(...a),s)),js(null),ub(),hn(s=>{if(s===null)return _u(r);let a=KN(s);return EG(a),Re(a)}))}processSegment(e,n,r,i,o,s,a){return Ft(n).pipe(zl(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(Us(l=>{if(l instanceof th)return Re(null);throw l}))),Ji(c=>!!c),Us(c=>{if(zN(c))return _G(r,i,o)?Re(new HC):_u(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return Pi(r)!==s&&(s===Ne||!Ly(i,o,r))?_u(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):_u(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:f,positionalParamSegments:h,remainingSegments:y}=WN(n,i,o);if(!c)return _u(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>bG&&(this.allowRedirects=!1));let w=new Eu(o,l,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,CN(i),Pi(i),i.component??i._loadedComponent??null,i,IN(i)),I=Py(w,a,this.paramsInheritanceStrategy);w.params=Object.freeze(I.params),w.data=Object.freeze(I.data);let L=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,h,w,e);return this.applyRedirects.lineralizeSegments(i,L).pipe(hn(P=>this.processSegment(e,r,n,P.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=hG(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ii(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ii(({routes:l})=>{let f=r._loadedInjector??e,{parameters:h,consumedSegments:y,remainingSegments:w}=c,I=new Eu(y,h,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,CN(r),Pi(r),r.component??r._loadedComponent??null,r,IN(r)),L=Py(I,s,this.paramsInheritanceStrategy);I.params=Object.freeze(L.params),I.data=Object.freeze(L.data);let{segmentGroup:P,slicedSegments:$}=EN(n,y,w,l);if($.length===0&&P.hasChildren())return this.processChildren(f,l,P,I).pipe(Oe(ne=>new Or(I,ne)));if(l.length===0&&$.length===0)return Re(new Or(I,[]));let Q=Pi(r)===o;return this.processSegment(f,l,P,$,Q?Ne:o,!0,I).pipe(Oe(ne=>new Or(I,ne instanceof Or?[ne]:[])))}))):_u(n)))}getChildConfig(e,n,r){return n.children?Re({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Re({routes:n._loadedRoutes,injector:n._loadedInjector}):lG(e,n,r,this.urlSerializer).pipe(hn(i=>i?this.configLoader.loadChildren(e,n).pipe(pn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):fG(n))):Re({routes:[],injector:e})}};function EG(t){t.sort((e,n)=>e.value.outlet===Ne?-1:n.value.outlet===Ne?1:e.value.outlet.localeCompare(n.value.outlet))}function CG(t){let e=t.value.routeConfig;return e&&e.path===""}function KN(t){let e=[],n=new Set;for(let r of t){if(!CG(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=KN(r.children);e.push(new Or(r.value,i))}return e.filter(r=>!n.has(r))}function CN(t){return t.data||{}}function IN(t){return t.resolve||{}}function IG(t,e,n,r,i,o){return hn(s=>wG(t,e,n,r,s.extractedUrl,i,o).pipe(Oe(({state:a,tree:c})=>z(x({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function SG(t,e){return hn(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Re(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of QN(c))s.add(l);let a=0;return Ft(s).pipe(zl(c=>o.has(c)?xG(c,r,t,e):(c.data=Py(c,c.parent,t).resolve,Re(void 0))),pn(()=>a++),Gl(1),hn(c=>a===s.size?Re(n):Dr))})}function QN(t){let e=t.children.map(n=>QN(n)).flat();return[t,...e]}function xG(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!jN(i)&&(o[rh]=i.title),TG(o,t,e,r).pipe(Oe(s=>(t._resolvedData=s,t.data=Py(t,t.parent,n).resolve,null)))}function TG(t,e,n,r){let i=wC(t);if(i.length===0)return Re({});let o={};return Ft(i).pipe(hn(s=>AG(t[s],e,n,r).pipe(Ji(),pn(a=>{if(a instanceof eh)throw ky(new Kf,a);o[s]=a}))),Gl(1),lb(o),Us(s=>zN(s)?Dr:Hl(s)))}function AG(t,e,n,r){let i=ih(e)??r,o=Tu(t,i),s=o.resolve?o.resolve(e,n):qo(i,()=>o(e,n));return ia(s)}function vC(t){return Ii(e=>{let n=t(e);return n?Ft(n).pipe(Oe(()=>e)):Re(e)})}var YN=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ne);return r}getResolvedTitleForRoute(n){return n.data[rh]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:()=>oe(DG),providedIn:"root"})}}return t})(),DG=(()=>{class t extends YN{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(Pe(yN))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),YC=new ve("",{providedIn:"root",factory:()=>({})}),RG=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ze({type:t,selectors:[["ng-component"]],standalone:!0,features:[Je],decls:1,vars:0,template:function(r,i){r&1&&re(0,"router-outlet")},dependencies:[KC],encapsulation:2})}}return t})();function ZC(t){let e=t.children&&t.children.map(ZC),n=e?z(x({},t),{children:e}):x({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ne&&(n.component=RG),n}var JC=new ve(""),MG=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=oe(JE)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Re(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ia(n.loadComponent()).pipe(Oe(ZN),pn(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),mf(()=>{this.componentLoaders.delete(n)})),i=new Ll(r,()=>new wn).pipe(Fl());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Re({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=PG(r,this.compiler,n,this.onLoadEndListener).pipe(mf(()=>{this.childrenLoaders.delete(r)})),s=new Ll(o,()=>new wn).pipe(Fl());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function PG(t,e,n,r){return ia(t.loadChildren()).pipe(Oe(ZN),hn(i=>i instanceof If||Array.isArray(i)?Re(i):Ft(e.compileModuleAsync(i))),Oe(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(JC,[],{optional:!0,self:!0}).flat()),{routes:s.map(ZC),injector:o}}))}function NG(t){return t&&typeof t=="object"&&"default"in t}function ZN(t){return NG(t)?t.default:t}var XC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:()=>oe(kG),providedIn:"root"})}}return t})(),kG=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),OG=new ve("");var FG=new ve(""),LG=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new wn,this.transitionAbortSubject=new wn,this.configLoader=oe(MG),this.environmentInjector=oe(Jr),this.urlSerializer=oe(GC),this.rootContexts=oe(Fy),this.location=oe(Vf),this.inputBindingEnabled=oe(QC,{optional:!0})!==null,this.titleStrategy=oe(YN),this.options=oe(YC,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=oe(XC),this.createViewTransition=oe(OG,{optional:!0}),this.navigationErrorHandler=oe(FG,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Re(void 0),this.rootComponentType=null;let n=i=>this.events.next(new DC(i)),r=i=>this.events.next(new RC(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(z(x(x({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new fn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Gf,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Kr(o=>o.id!==0),Oe(o=>z(x({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ii(o=>{let s=!1,a=!1;return Re(o).pipe(Ii(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Fr.SupersededByNewNavigation),Dr;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?z(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&f!=="reload"){let h="";return this.events.next(new xc(c.id,this.urlSerializer.serialize(c.rawUrl),h,IC.IgnoredSameUrlNavigation)),c.resolve(!1),Dr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Re(c).pipe(Ii(h=>{let y=this.transitions?.getValue();return this.events.next(new Yf(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),y!==this.transitions?.getValue()?Dr:Promise.resolve(h)}),IG(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),pn(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=z(x({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let y=new Dy(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:y,source:w,restoredState:I,extras:L}=c,P=new Yf(h,this.urlSerializer.serialize(y),w,I);this.events.next(P);let $=BN(this.rootComponentType).snapshot;return this.currentTransition=o=z(x({},c),{targetSnapshot:$,urlAfterRedirects:y,extras:z(x({},L),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,Re(o)}else{let h="";return this.events.next(new xc(c.id,this.urlSerializer.serialize(c.extractedUrl),h,IC.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Dr}}),pn(c=>{let l=new SC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Oe(c=>(this.currentTransition=o=z(x({},c),{guards:q9(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),tG(this.environmentInjector,c=>this.events.next(c)),pn(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw ky(this.urlSerializer,c.guardsResult);let l=new xC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Kr(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Fr.GuardRejected),!1)),vC(c=>{if(c.guards.canActivateChecks.length)return Re(c).pipe(pn(l=>{let f=new TC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),Ii(l=>{let f=!1;return Re(l).pipe(SG(this.paramsInheritanceStrategy,this.environmentInjector),pn({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",Fr.NoDataFromResolver)}}))}),pn(l=>{let f=new AC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),vC(c=>{let l=f=>{let h=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(f.routeConfig).pipe(pn(y=>{f.component=y}),Oe(()=>{})));for(let y of f.children)h.push(...l(y));return h};return Ym(l(c.targetSnapshot.root)).pipe(js(null),Bo(1))}),vC(()=>this.afterPreactivation()),Ii(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,f=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return f?Ft(f).pipe(Oe(()=>o)):Re(o)}),Oe(c=>{let l=B9(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=z(x({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),pn(()=>{this.events.next(new Jf)}),H9(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Bo(1),pn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ra(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),db(this.transitionAbortSubject.pipe(pn(c=>{throw c}))),mf(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Fr.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Us(c=>{if(a=!0,qN(c))this.events.next(new Yo(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),$9(c)?this.events.next(new Su(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Zf(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let f=qo(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(f instanceof eh){let{message:h,cancellationCode:y}=ky(this.urlSerializer,f);this.events.next(new Yo(o.id,this.urlSerializer.serialize(o.extractedUrl),h,y)),this.events.next(new Su(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(l);let h=n.errorHandler(c);o.resolve(!!h)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return Dr}))}))}cancelNavigationTransition(n,r,i){let o=new Yo(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function VG(t){return t!==Gf}var BG=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:()=>oe(UG),providedIn:"root"})}}return t})(),zC=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},UG=(()=>{class t extends zC{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Di(t)))(i||t)}})()}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),JN=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:()=>oe(jG),providedIn:"root"})}}return t})(),jG=(()=>{class t extends JN{constructor(){super(...arguments),this.location=oe(Vf),this.urlSerializer=oe(GC),this.options=oe(YC,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=oe(XC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Zo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=BN(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Yf)this.stateMemento=this.createStateMemento();else if(n instanceof xc)this.rawUrlTree=r.initialUrl;else if(n instanceof Dy){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Jf?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Yo&&(n.code===Fr.GuardRejected||n.code===Fr.NoDataFromResolver)?this.restoreHistory(r):n instanceof Zf?this.restoreHistory(r,!0):n instanceof ra&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Zo?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=x(x({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=x(x({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Di(t)))(i||t)}})()}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qf=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(qf||{});function $G(t,e){t.events.pipe(Kr(n=>n instanceof ra||n instanceof Yo||n instanceof Zf||n instanceof xc),Oe(n=>n instanceof ra||n instanceof xc?qf.COMPLETE:(n instanceof Yo?n.code===Fr.Redirect||n.code===Fr.SupersededByNewNavigation:!1)?qf.REDIRECTING:qf.FAILED),Kr(n=>n!==qf.REDIRECTING),Bo(1)).subscribe(()=>{e()})}function HG(t){throw t}var qG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},or=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=oe(oy),this.stateManager=oe(JN),this.options=oe(YC,{optional:!0})||{},this.pendingTasks=oe(fu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=oe(LG),this.urlSerializer=oe(GC),this.location=oe(Vf),this.urlHandlingStrategy=oe(XC),this._events=new wn,this.errorHandler=this.options.errorHandler||HG,this.navigated=!1,this.routeReuseStrategy=oe(BG),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=oe(JC,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!oe(QC,{optional:!0}),this.eventsSubscription=new Ot,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Yo&&r.code!==Fr.Redirect&&r.code!==Fr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ra)this.navigated=!0;else if(r instanceof Su){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=x({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||VG(i.source)},s);this.scheduleNavigation(a,Gf,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}WG(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Gf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=x({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ZC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=x(x({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let h;try{let y=i?i.snapshot:this.routerState.snapshot.root;h=ON(y)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),h=this.currentUrlTree.root}return FN(h,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Sc(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Gf,null,r)}navigate(n,r={skipLocationChange:!1}){return GG(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=x({},qG):r===!1?i=x({},zG):i=r,Sc(n))return vN(this.currentUrlTree,n,i);let o=this.parseUrl(n);return vN(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((h,y)=>{a=h,c=y});let f=this.pendingTasks.add();return $G(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function GG(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ge(4008,!1)}function WG(t){return!(t instanceof Jf)&&!(t instanceof Su)}var XN=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new wn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof ra&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Sc(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:GM(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Sc(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(Y(or),Y(Tc),xE("tabindex"),Y(co),Y(Ri),Y(yu))}}static{this.\u0275dir=ft({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&le("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Nf("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ta],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ta],replaceUrl:[2,"replaceUrl","replaceUrl",ta],routerLink:"routerLink"},standalone:!0,features:[WE,ao]})}}return t})();var KG=new ve("");function ek(t,...e){return so([{provide:JC,multi:!0,useValue:t},[],{provide:Tc,useFactory:QG,deps:[or]},{provide:ZE,multi:!0,useFactory:YG},e.map(n=>n.\u0275providers)])}function QG(t){return t.routerState.root}function YG(){let t=oe(_r);return e=>{let n=t.get(wc);if(e!==n.components[0])return;let r=t.get(or),i=t.get(ZG);t.get(JG)===1&&r.initialNavigation(),t.get(XG,null,Ve.Optional)?.setUpPreloading(),t.get(KG,null,Ve.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var ZG=new ve("",{factory:()=>new wn}),JG=new ve("",{providedIn:"root",factory:()=>1});var XG=new ve("");function e7(t,e){if(t&1&&(C(0,"div",8)(1,"div",9)(2,"div",10)(3,"h5",11),D(4),b(),C(5,"p",12),D(6),b()()()()),t&2){let n=e.$implicit;O(4),nt(n.name),O(2),nt(n.description)}}var Vy=class t{services=[{name:"Consulta M\xE9dica",description:"Atenci\xF3n m\xE9dica personalizada."},{name:"Ex\xE1menes de Laboratorio",description:"Realizamos ex\xE1menes de sangre y otros."},{name:"Radiolog\xEDa",description:"Servicios de rayos X y ultrasonido."},{name:"Vacunaci\xF3n",description:"Vacunas para todas las edades."}];static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ze({type:t,selectors:[["app-home"]],standalone:!0,features:[Je],decls:11,vars:1,consts:[[1,"container","mt-5","text-center"],["src","icon_hospital.png","alt","Icono de Hospital",1,"hospital-icon","mb-3"],[1,"welcome-title"],[1,"welcome-subtitle"],[1,"services","mt-4"],[1,"section-title"],[1,"row"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"card","mb-3","service-card"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(n,r){n&1&&(C(0,"div",0),re(1,"img",1),C(2,"h2",2),D(3,"Bienvenido a Nuestra Cl\xEDnica"),b(),C(4,"p",3),D(5,"Su salud es nuestra prioridad."),b(),C(6,"div",4)(7,"h3",5),D(8,"Servicios Ofrecidos"),b(),C(9,"div",6),te(10,e7,7,2,"div",7),b()()()),n&2&&(O(10),q("ngForOf",r.services))},dependencies:[jn],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:auto;background:#0009;border-radius:10px;padding:40px;box-shadow:0 4px 20px #0000004d}.welcome-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#f8f9fa;margin-bottom:10px}.welcome-subtitle[_ngcontent-%COMP%]{font-size:1.25rem;color:#f8f9fa;margin-bottom:20px}.section-title[_ngcontent-%COMP%]{font-size:2rem;color:#ffc107;margin-bottom:20px}.service-card[_ngcontent-%COMP%]{background:#ffffffe6;border-radius:10px;transition:transform .2s,box-shadow .2s}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0003}.contact-text[_ngcontent-%COMP%]{font-size:1rem;color:#f8f9fa}.text-warning[_ngcontent-%COMP%]{color:#ffc107;font-weight:700}.hospital-icon[_ngcontent-%COMP%]{width:80px;height:auto;margin-bottom:20px}"]})};var uk=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(Y(co),Y(Ri))}}static{this.\u0275dir=ft({type:t})}}return t})(),fh=(()=>{class t extends uk{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Di(t)))(i||t)}})()}static{this.\u0275dir=ft({type:t,features:[bn]})}}return t})(),Dc=new ve(""),t7={provide:Dc,useExisting:tr(()=>oI),multi:!0},oI=(()=>{class t extends fh{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Di(t)))(i||t)}})()}static{this.\u0275dir=ft({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&le("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Nr([t7]),bn]})}}return t})(),n7={provide:Dc,useExisting:tr(()=>$n),multi:!0};function r7(){let t=Qo()?Qo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var i7=new ve(""),$n=(()=>{class t extends uk{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!r7())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(Y(co),Y(Ri),Y(i7,8))}}static{this.\u0275dir=ft({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&le("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Nr([n7]),bn]})}}return t})();function oa(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function dk(t){return t!=null&&typeof t.length=="number"}var Rc=new ve(""),Nu=new ve(""),o7=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,_e=class{static min(e){return s7(e)}static max(e){return a7(e)}static required(e){return fk(e)}static requiredTrue(e){return c7(e)}static email(e){return l7(e)}static minLength(e){return u7(e)}static maxLength(e){return d7(e)}static pattern(e){return f7(e)}static nullValidator(e){return Uy(e)}static compose(e){return vk(e)}static composeAsync(e){return _k(e)}};function s7(t){return e=>{if(oa(e.value)||oa(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function a7(t){return e=>{if(oa(e.value)||oa(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function fk(t){return oa(t.value)?{required:!0}:null}function c7(t){return t.value===!0?null:{required:!0}}function l7(t){return oa(t.value)||o7.test(t.value)?null:{email:!0}}function u7(t){return e=>oa(e.value)||!dk(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function d7(t){return e=>dk(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function f7(t){if(!t)return Uy;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(oa(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Uy(t){return null}function hk(t){return t!=null}function pk(t){return _c(t)?Ft(t):t}function mk(t){let e={};return t.forEach(n=>{e=n!=null?x(x({},e),n):e}),Object.keys(e).length===0?null:e}function gk(t,e){return e.map(n=>n(t))}function h7(t){return!t.validate}function yk(t){return t.map(e=>h7(e)?e:n=>e.validate(n))}function vk(t){if(!t)return null;let e=t.filter(hk);return e.length==0?null:function(n){return mk(gk(n,e))}}function sI(t){return t!=null?vk(yk(t)):null}function _k(t){if(!t)return null;let e=t.filter(hk);return e.length==0?null:function(n){let r=gk(n,e).map(pk);return cb(r).pipe(Oe(mk))}}function aI(t){return t!=null?_k(yk(t)):null}function tk(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function wk(t){return t._rawValidators}function bk(t){return t._rawAsyncValidators}function eI(t){return t?Array.isArray(t)?t:[t]:[]}function jy(t,e){return Array.isArray(t)?t.includes(e):t===e}function nk(t,e){let n=eI(e);return eI(t).forEach(i=>{jy(n,i)||n.push(i)}),n}function rk(t,e){return eI(e).filter(n=>!jy(t,n))}var $y=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=aI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ar=class extends $y{get formDirective(){return null}get path(){return null}},Ac=class extends $y{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Hy=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},p7={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Rhe=z(x({},p7),{"[class.ng-submitted]":"isSubmitted"}),Hn=(()=>{class t extends Hy{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(Y(Ac,2))}}static{this.\u0275dir=ft({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&iy("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[bn]})}}return t})(),si=(()=>{class t extends Hy{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(Y(ar,10))}}static{this.\u0275dir=ft({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&iy("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[bn]})}}return t})();var sh="VALID",By="INVALID",Du="PENDING",ah="DISABLED",sa=class{},qy=class extends sa{constructor(e,n){super(),this.value=e,this.source=n}},lh=class extends sa{constructor(e,n){super(),this.pristine=e,this.source=n}},uh=class extends sa{constructor(e,n){super(),this.touched=e,this.source=n}},Ru=class extends sa{constructor(e,n){super(),this.status=e,this.source=n}},tI=class extends sa{constructor(e){super(),this.source=e}},nI=class extends sa{constructor(e){super(),this.source=e}};function cI(t){return(Ky(t)?t.validators:t)||null}function m7(t){return Array.isArray(t)?sI(t):t||null}function lI(t,e){return(Ky(e)?e.asyncValidators:t)||null}function g7(t){return Array.isArray(t)?aI(t):t||null}function Ky(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Ek(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new ge(1e3,"");if(!r[n])throw new ge(1001,"")}function Ck(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new ge(1002,"")})}var Mu=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=gu(()=>this.statusReactive()),this.statusReactive=pu(void 0),this._pristine=gu(()=>this.pristineReactive()),this.pristineReactive=pu(!0),this._touched=gu(()=>this.touchedReactive()),this.touchedReactive=pu(!1),this._events=new wn,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return uo(this.statusReactive)}set status(e){uo(()=>this.statusReactive.set(e))}get valid(){return this.status===sh}get invalid(){return this.status===By}get pending(){return this.status==Du}get disabled(){return this.status===ah}get enabled(){return this.status!==ah}get pristine(){return uo(this.pristineReactive)}set pristine(e){uo(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return uo(this.touchedReactive)}set touched(e){uo(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(nk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(nk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(rk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(rk(e,this._rawAsyncValidators))}hasValidator(e){return jy(this._rawValidators,e)}hasAsyncValidator(e){return jy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(z(x({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new uh(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new uh(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(z(x({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new lh(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new lh(!0,r))}markAsPending(e={}){this.status=Du;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ru(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(z(x({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ah,this.errors=null,this._forEachChild(i=>{i.disable(z(x({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qy(this.value,r)),this._events.next(new Ru(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(x({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=sh,this._forEachChild(r=>{r.enable(z(x({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(z(x({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sh||this.status===Du)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qy(this.value,n)),this._events.next(new Ru(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(z(x({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ah:sh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Du,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=pk(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ru(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ct,this.statusChanges=new ct}_calculateStatus(){return this._allControlsDisabled()?ah:this.errors?By:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Du)?Du:this._anyControlsHaveStatus(By)?By:sh}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new lh(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new uh(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ky(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=m7(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=g7(this._rawAsyncValidators)}},Pu=class extends Mu{constructor(e,n,r){super(cI(n),lI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Ck(this,!0,e),Object.keys(e).forEach(r=>{Ek(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var rI=class extends Pu{};var hh=new ve("CallSetDisabledState",{providedIn:"root",factory:()=>Qy}),Qy="always";function Yy(t,e){return[...e.path,t]}function zy(t,e,n=Qy){uI(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),v7(t,e),w7(t,e),_7(t,e),y7(t,e)}function ik(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Wy(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Gy(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function y7(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function uI(t,e){let n=wk(t);e.validator!==null?t.setValidators(tk(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=bk(t);e.asyncValidator!==null?t.setAsyncValidators(tk(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Gy(e._rawValidators,i),Gy(e._rawAsyncValidators,i)}function Wy(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=wk(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=bk(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Gy(e._rawValidators,r),Gy(e._rawAsyncValidators,r),n}function v7(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Ik(t,e)})}function _7(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Ik(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Ik(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function w7(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Sk(t,e){t==null,uI(t,e)}function b7(t,e){return Wy(t,e)}function xk(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function E7(t){return Object.getPrototypeOf(t.constructor)===fh}function Tk(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Ak(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===$n?n=o:E7(o)?r=o:i=o}),i||r||n||null}function C7(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var I7={provide:ar,useExisting:tr(()=>dI)},ch=Promise.resolve(),dI=(()=>{class t extends ar{get submitted(){return uo(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=gu(()=>this.submittedReactive()),this.submittedReactive=pu(!1),this._directives=new Set,this.ngSubmit=new ct,this.form=new Pu({},sI(n),aI(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ch.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),zy(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ch.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ch.then(()=>{let r=this._findContainer(n.path),i=new Pu({});Sk(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ch.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ch.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),Tk(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(Y(Rc,10),Y(Nu,10),Y(hh,8))}}static{this.\u0275dir=ft({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&le("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Nr([I7]),bn]})}}return t})();function ok(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function sk(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var dh=class extends Mu{constructor(e=null,n,r){super(cI(n),lI(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ky(n)&&(n.nonNullable||n.initialValueIsDefault)&&(sk(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ok(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ok(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){sk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var S7=t=>t instanceof dh,x7=(()=>{class t extends ar{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Yy(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Di(t)))(i||t)}})()}static{this.\u0275dir=ft({type:t,features:[bn]})}}return t})();var T7={provide:Ac,useExisting:tr(()=>Mc)},ak=Promise.resolve(),Mc=(()=>{class t extends Ac{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new dh,this._registered=!1,this.name="",this.update=new ct,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Ak(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),xk(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){zy(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){ak.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&ta(r);ak.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Yy(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(Y(ar,9),Y(Rc,10),Y(Nu,10),Y(Dc,10),Y(bc,8),Y(hh,8))}}static{this.\u0275dir=ft({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Nr([T7]),bn,ao]})}}return t})(),ai=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ft({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),A7={provide:Dc,useExisting:tr(()=>Pc),multi:!0},Pc=(()=>{class t extends fh{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Di(t)))(i||t)}})()}static{this.\u0275dir=ft({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&le("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Nr([A7]),bn]})}}return t})();var Dk=new ve("");var D7={provide:ar,useExisting:tr(()=>ci)},ci=(()=>{class t extends ar{get submitted(){return uo(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=gu(()=>this._submittedReactive()),this._submittedReactive=pu(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ct,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return zy(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){ik(n.control||null,n,!1),C7(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),Tk(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new tI(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new nI(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(ik(r||null,n),S7(i)&&(zy(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);Sk(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&b7(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){uI(this.form,this),this._oldForm&&Wy(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(Y(Rc,10),Y(Nu,10),Y(hh,8))}}static{this.\u0275dir=ft({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&le("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Nr([D7]),bn,ao]})}}return t})(),R7={provide:ar,useExisting:tr(()=>Zy)},Zy=(()=>{class t extends x7{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){Rk(this._parent)}static{this.\u0275fac=function(r){return new(r||t)(Y(ar,13),Y(Rc,10),Y(Nu,10))}}static{this.\u0275dir=ft({type:t,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[Nr([R7]),bn]})}}return t})(),M7={provide:ar,useExisting:tr(()=>Jy)},Jy=(()=>{class t extends ar{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Yy(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){Rk(this._parent)}static{this.\u0275fac=function(r){return new(r||t)(Y(ar,13),Y(Rc,10),Y(Nu,10))}}static{this.\u0275dir=ft({type:t,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[Nr([M7]),bn]})}}return t})();function Rk(t){return!(t instanceof Zy)&&!(t instanceof ci)&&!(t instanceof Jy)}var P7={provide:Ac,useExisting:tr(()=>Ni)},Ni=(()=>{class t extends Ac{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new ct,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Ak(this,o)}ngOnChanges(n){this._added||this._setUpControl(),xk(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Yy(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(Y(ar,13),Y(Rc,10),Y(Nu,10),Y(Dc,10),Y(Dk,8))}}static{this.\u0275dir=ft({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Nr([P7]),bn,ao]})}}return t})(),N7={provide:Dc,useExisting:tr(()=>aa),multi:!0};function Mk(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function k7(t){return t.split(":")[0]}var aa=(()=>{class t extends fh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=Mk(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=k7(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Di(t)))(i||t)}})()}static{this.\u0275dir=ft({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&le("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Nr([N7]),bn]})}}return t})(),ku=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(Mk(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(Y(Ri),Y(co),Y(aa,9))}}static{this.\u0275dir=ft({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),O7={provide:Dc,useExisting:tr(()=>Pk),multi:!0};function ck(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function F7(t){return t.split(":")[0]}var Pk=(()=>{class t extends fh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=F7(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Di(t)))(i||t)}})()}static{this.\u0275dir=ft({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&le("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Nr([O7]),bn]})}}return t})(),Ou=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(ck(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(ck(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(Y(Ri),Y(co),Y(Pk,9))}}static{this.\u0275dir=ft({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var L7=(()=>{class t{constructor(){this._validator=Uy}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Uy,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ft({type:t,features:[ao]})}}return t})();var V7={provide:Rc,useExisting:tr(()=>Jo),multi:!0};var Jo=(()=>{class t extends L7{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ta,this.createValidator=n=>fk}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Di(t)))(i||t)}})()}static{this.\u0275dir=ft({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Nf("required",i._enabled?"":null)},inputs:{required:"required"},features:[Nr([V7]),bn]})}}return t})();var Nk=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ys({type:t})}static{this.\u0275inj=Qs({})}}return t})(),iI=class extends Mu{constructor(e,n,r){super(cI(n),lI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Ck(this,!1,e),e.forEach((r,i)=>{Ek(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function lk(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var po=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return lk(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Pu(i,o)}record(n,r=null){let i=this._reduceControls(n);return new rI(i,r)}control(n,r,i){let o={};return this.useNonNullable?(lk(r)?o=r:(o.validators=r,o.asyncValidators=i),new dh(n,z(x({},o),{nonNullable:!0}))):new dh(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new iI(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof dh)return n;if(n instanceof Mu)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Fu=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:hh,useValue:n.callSetDisabledState??Qy}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ys({type:t})}static{this.\u0275inj=Qs({imports:[Nk]})}}return t})(),li=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Dk,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:hh,useValue:n.callSetDisabledState??Qy}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ys({type:t})}static{this.\u0275inj=Qs({imports:[Nk]})}}return t})();var Ok=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},B7=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Fk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,f=o>>2,h=(o&3)<<4|a>>4,y=(a&15)<<2|l>>6,w=l&63;c||(w=64,s||(y=64)),r.push(n[f],n[h],n[y],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ok(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):B7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||h==null)throw new hI;let y=o<<2|a>>4;if(r.push(y),l!==64){let w=a<<4&240|l>>2;if(r.push(w),h!==64){let I=l<<6&192|h;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},hI=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},U7=function(t){let e=Ok(t);return Fk.encodeByteArray(e,!0)},ph=function(t){return U7(t).replace(/\./g,"")},mI=function(t){try{return Fk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function j7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var $7=()=>j7().__FIREBASE_DEFAULTS__,H7=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&mI(t[1]);return e&&JSON.parse(e)},ev=()=>{try{return $7()||H7()||q7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gI=t=>{var e,n;return(n=(e=ev())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Lk=t=>{let e=gI(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yI=()=>{var t;return(t=ev())===null||t===void 0?void 0:t.config},vI=t=>{var e;return(e=ev())===null||e===void 0?void 0:e[`_${t}`]};var Xy=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Vk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ph(JSON.stringify(n)),ph(JSON.stringify(s)),""].join(".")}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function z7(){var t;let e=(t=ev())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Uk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jk(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $k(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hk(){let t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qk(){return!z7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _I(){try{return typeof indexedDB=="object"}catch{return!1}}function zk(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var G7="FirebaseError",Lr=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=G7,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xo.prototype.create)}},Xo=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?W7(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Lr(i,a,r)}};function W7(t,e){return t.replace(K7,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var K7=/\{\$([^}]+)}/g;function Gk(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nc(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(kk(o)&&kk(s)){if(!Nc(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function kk(t){return t!==null&&typeof t=="object"}function mh(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lu(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Vu(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Wk(t,e){let n=new pI(t,e);return n.subscribe.bind(n)}var pI=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Q7(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=fI),i.error===void 0&&(i.error=fI),i.complete===void 0&&(i.complete=fI);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Q7(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fI(){}var Nhe=4*60*60*1e3;function en(t){return t&&t._delegate?t._delegate:t}var ui=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var kc="[DEFAULT]";var wI=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Xy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z7(e))try{this.getOrInitializeService({instanceIdentifier:kc})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=kc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=kc){return this.instances.has(e)}getOptions(e=kc){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Y7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kc){return this.component?this.component.multipleInstances?e:kc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Y7(t){return t===kc?void 0:t}function Z7(t){return t.instantiationMode==="EAGER"}var tv=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new wI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var J7=[],Ge=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ge||{}),X7={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},eW=Ge.INFO,tW={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},nW=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=tW[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},la=class{constructor(e){this.name=e,this._logLevel=eW,this._logHandler=nW,this._userLogHandler=null,J7.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?X7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}};var rW=(t,e)=>e.some(n=>t instanceof n),Kk,Qk;function iW(){return Kk||(Kk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oW(){return Qk||(Qk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Yk=new WeakMap,EI=new WeakMap,Zk=new WeakMap,bI=new WeakMap,II=new WeakMap;function sW(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(mo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Yk.set(n,t)}).catch(()=>{}),II.set(e,t),e}function aW(t){if(EI.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});EI.set(t,e)}var CI={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return EI.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Zk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Jk(t){CI=t(CI)}function cW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(nv(this),e,...n);return Zk.set(r,e.sort?e.sort():[e]),mo(r)}:oW().includes(t)?function(...e){return t.apply(nv(this),e),mo(Yk.get(this))}:function(...e){return mo(t.apply(nv(this),e))}}function lW(t){return typeof t=="function"?cW(t):(t instanceof IDBTransaction&&aW(t),rW(t,iW())?new Proxy(t,CI):t)}function mo(t){if(t instanceof IDBRequest)return sW(t);if(bI.has(t))return bI.get(t);let e=lW(t);return e!==t&&(bI.set(t,e),II.set(e,t)),e}var nv=t=>II.get(t);function eO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=mo(s);return r&&s.addEventListener("upgradeneeded",c=>{r(mo(s.result),c.oldVersion,c.newVersion,mo(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var uW=["get","getKey","getAll","getAllKeys","count"],dW=["put","add","delete","clear"],SI=new Map;function Xk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(SI.get(e))return SI.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=dW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uW.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return SI.set(e,o),o}Jk(t=>z(x({},t),{get:(e,n,r)=>Xk(e,n)||t.get(e,n,r),has:(e,n)=>!!Xk(e,n)||t.has(e,n)}));var TI=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fW(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function fW(t){let e=t.getComponent();return e?.type==="VERSION"}var AI="@firebase/app",tO="0.10.13";var es=new la("@firebase/app"),hW="@firebase/app-compat",pW="@firebase/analytics-compat",mW="@firebase/analytics",gW="@firebase/app-check-compat",yW="@firebase/app-check",vW="@firebase/auth",_W="@firebase/auth-compat",wW="@firebase/database",bW="@firebase/data-connect",EW="@firebase/database-compat",CW="@firebase/functions",IW="@firebase/functions-compat",SW="@firebase/installations",xW="@firebase/installations-compat",TW="@firebase/messaging",AW="@firebase/messaging-compat",DW="@firebase/performance",RW="@firebase/performance-compat",MW="@firebase/remote-config",PW="@firebase/remote-config-compat",NW="@firebase/storage",kW="@firebase/storage-compat",OW="@firebase/firestore",FW="@firebase/vertexai-preview",LW="@firebase/firestore-compat",VW="firebase",BW="10.14.1";var DI="[DEFAULT]",UW={[AI]:"fire-core",[hW]:"fire-core-compat",[mW]:"fire-analytics",[pW]:"fire-analytics-compat",[yW]:"fire-app-check",[gW]:"fire-app-check-compat",[vW]:"fire-auth",[_W]:"fire-auth-compat",[wW]:"fire-rtdb",[bW]:"fire-data-connect",[EW]:"fire-rtdb-compat",[CW]:"fire-fn",[IW]:"fire-fn-compat",[SW]:"fire-iid",[xW]:"fire-iid-compat",[TW]:"fire-fcm",[AW]:"fire-fcm-compat",[DW]:"fire-perf",[RW]:"fire-perf-compat",[MW]:"fire-rc",[PW]:"fire-rc-compat",[NW]:"fire-gcs",[kW]:"fire-gcs-compat",[OW]:"fire-fst",[LW]:"fire-fst-compat",[FW]:"fire-vertex","fire-js":"fire-js",[VW]:"fire-js-all"};var gh=new Map,jW=new Map,RI=new Map;function nO(t,e){try{t.container.addComponent(e)}catch(n){es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function da(t){let e=t.name;if(RI.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;RI.set(e,t);for(let n of gh.values())nO(n,t);for(let n of jW.values())nO(n,t);return!0}function vh(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ki(t){return t.settings!==void 0}var $W={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ua=new Xo("app","Firebase",$W);var MI=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ua.create("app-deleted",{appName:this._name})}};var fa=BW;function kI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:DI,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ua.create("bad-app-name",{appName:String(i)});if(n||(n=yI()),!n)throw ua.create("no-options");let o=gh.get(i);if(o){if(Nc(n,o.options)&&Nc(r,o.config))return o;throw ua.create("duplicate-app",{appName:i})}let s=new tv(i);for(let c of RI.values())s.addComponent(c);let a=new MI(n,r,s);return gh.set(i,a),a}function Bu(t=DI){let e=gh.get(t);if(!e&&t===DI&&yI())return kI();if(!e)throw ua.create("no-app",{appName:t});return e}function rv(){return Array.from(gh.values())}function mn(t,e,n){var r;let i=(r=UW[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(a.join(" "));return}da(new ui(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var HW="firebase-heartbeat-database",qW=1,yh="firebase-heartbeat-store",xI=null;function sO(){return xI||(xI=eO(HW,qW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ua.create("idb-open",{originalErrorMessage:t.message})})),xI}function zW(t){return _(this,null,function*(){try{let n=(yield sO()).transaction(yh),r=yield n.objectStore(yh).get(aO(t));return yield n.done,r}catch(e){if(e instanceof Lr)es.warn(e.message);else{let n=ua.create("idb-get",{originalErrorMessage:e?.message});es.warn(n.message)}}})}function rO(t,e){return _(this,null,function*(){try{let r=(yield sO()).transaction(yh,"readwrite");yield r.objectStore(yh).put(e,aO(t)),yield r.done}catch(n){if(n instanceof Lr)es.warn(n.message);else{let r=ua.create("idb-set",{originalErrorMessage:n?.message});es.warn(r.message)}}})}function aO(t){return`${t.name}!${t.options.appId}`}var GW=1024,WW=30*24*60*60*1e3,PI=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new NI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=iO();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=WW}),this._storage.overwrite(this._heartbeatsCache))}catch(r){es.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=iO(),{heartbeatsToSend:r,unsentEntries:i}=KW(this._heartbeatsCache.heartbeats),o=ph(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return es.warn(n),""}})}};function iO(){return new Date().toISOString().substring(0,10)}function KW(t,e=GW){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),oO(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),oO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var NI=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return _I()?zk().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield zW(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function oO(t){return ph(JSON.stringify({version:2,heartbeats:t})).length}function QW(t){da(new ui("platform-logger",e=>new TI(e),"PRIVATE")),da(new ui("heartbeat",e=>new PI(e),"PRIVATE")),mn(AI,tO,t),mn(AI,tO,"esm2017"),mn("fire-js","")}QW("");var YW="firebase",ZW="10.14.1";mn(YW,ZW,"app");var Fc=new Ho("ANGULARFIRE2_VERSION");function ov(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var _h=(t,e)=>{let n=e?[e]:rv(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ju=class{constructor(){return _h(JW)}},JW="app-check";function Uu(){}var iv=class{zone;delegate;constructor(e,n=ib){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},OI=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Uu,{},Uu,Uu)),n.pipe(pn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},$u=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new iv(Zone.current)),this.insideAngular=n.run(()=>new iv(Zone.current,rb)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Pe(pt))};static \u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sv(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function XW(t){return sv().ngZone.runOutsideAngular(()=>t())}function Oc(t){return sv().ngZone.run(()=>t())}function eK(t){return tK(sv())(t)}function tK(t){return function(n){return n=n.lift(new OI(t.ngZone)),n.pipe(Bs(t.outsideAngular),Vs(t.insideAngular))}}var nK=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Oc(()=>t.apply(void 0,r))},Cn=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Oc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Uu,{},Uu,Uu))),r[o]=nK(r[o],n));let i=XW(()=>t.apply(this,r));if(!e)if(i instanceof He){let o=sv();return i.pipe(Bs(o.outsideAngular),Vs(o.insideAngular))}else return Oc(()=>i);return i instanceof He?i.pipe(eK):i instanceof Promise?Oc(()=>new Promise((o,s)=>i.then(a=>Oc(()=>o(a)),a=>Oc(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Oc(()=>i)};var ts=class{constructor(e){return e}},Lc=class{constructor(){return rv()}};function rK(t){return t&&t.length===1?t[0]:new ts(Bu())}var FI=new ve("angularfire2._apps"),iK={provide:ts,useFactory:rK,deps:[[new nr,FI]]},oK={provide:Lc,deps:[[new nr,FI]]};function sK(t){return(e,n)=>{let r=n.get(Xs);mn("angularfire",Fc.full,"core"),mn("angularfire",Fc.full,"app"),mn("angular",FP.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ts(i)}}function cO(t,...e){return so([iK,oK,{provide:FI,useFactory:sK(t),multi:!0,deps:[pt,_r,$u,...e]}])}var lO=Cn(kI,!0);function xO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var TO=xO,AO=new Xo("auth","Firebase",xO());var fv=new la("@firebase/auth");function aK(t,...e){fv.logLevel<=Ge.WARN&&fv.warn(`Auth (${fa}): ${t}`,...e)}function cv(t,...e){fv.logLevel<=Ge.ERROR&&fv.error(`Auth (${fa}): ${t}`,...e)}function yo(t,...e){throw oS(t,...e)}function Vc(t,...e){return oS(t,...e)}function DO(t,e,n){let r=Object.assign(Object.assign({},TO()),{[e]:n});return new Xo("auth","Firebase",r).create(e,{appName:t.name})}function is(t){return DO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oS(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AO.create(t,...e)}function be(t,e,...n){if(!t)throw oS(e,...n)}function ns(t){let e="INTERNAL ASSERTION FAILED: "+t;throw cv(e),new Error(e)}function pa(t,e){t||ns(e)}function UI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cK(){return uO()==="http:"||uO()==="https:"}function uO(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function lK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cK()||jk()||"connection"in navigator)?navigator.onLine:!0}function uK(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Bc=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,pa(n>e,"Short delay should be less than long delay!"),this.isMobile=Bk()||$k()}get(){return lK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function sS(t,e){pa(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var hv=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var dK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var fK=new Bc(3e4,6e4);function os(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ss(o,s,a,c){return _(this,arguments,function*(t,e,n,r,i={}){return RO(t,i,()=>_(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let h=mh(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let w=Object.assign({method:e,headers:y},l);return Uk()||(w.referrerPolicy="no-referrer"),hv.fetch()(MO(t,t.config.apiHost,n,h),w)}))})}function RO(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},dK),e);try{let i=new jI(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw av(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw av(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw av(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw av(t,"user-disabled",s);let f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw DO(t,f,l);yo(t,f)}}catch(i){if(i instanceof Lr)throw i;yo(t,"network-request-failed",{message:String(i)})}})}function Th(o,s,a,c){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield ss(t,e,n,r,i);return"mfaPendingCredential"in l&&yo(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function MO(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?sS(t.config,i):`${t.config.apiScheme}://${i}`}function hK(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var jI=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vc(this.auth,"network-request-failed")),fK.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function av(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Vc(t,e,r);return i.customData._tokenResponse=n,i}function dO(t){return t!==void 0&&t.enterprise!==void 0}var $I=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hK(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function pK(t,e){return _(this,null,function*(){return ss(t,"GET","/v2/recaptchaConfig",os(t,e))})}function mK(t,e){return _(this,null,function*(){return ss(t,"POST","/v1/accounts:delete",e)})}function PO(t,e){return _(this,null,function*(){return ss(t,"POST","/v1/accounts:lookup",e)})}function wh(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function aS(t,e=!1){return _(this,null,function*(){let n=en(t),r=yield n.getIdToken(e),i=cS(r);be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:wh(LI(i.auth_time)),issuedAtTime:wh(LI(i.iat)),expirationTime:wh(LI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function LI(t){return Number(t)*1e3}function cS(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cv("JWT malformed, contained fewer than 3 sections"),null;try{let i=mI(n);return i?JSON.parse(i):(cv("Failed to decode base64 JWT payload"),null)}catch(i){return cv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function fO(t){let e=cS(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Eh(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Lr&&gK(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function gK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var HI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ch=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wh(this.lastLoginAt),this.creationTime=wh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function pv(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Eh(t,PO(n,{idToken:r}));be(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?NO(o.providerUserInfo):[],a=yK(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,f=c?l:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ch(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,h)})}function lS(t){return _(this,null,function*(){let e=en(t);yield pv(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function yK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function NO(t){return t.map(e=>{var{providerId:n}=e,r=ob(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function vK(t,e){return _(this,null,function*(){let n=yield RO(t,{},()=>_(this,null,function*(){let r=mh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=MO(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hv.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function _K(t,e){return _(this,null,function*(){return ss(t,"POST","/v2/accounts:revokeToken",os(t,e))})}var bh=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");let n=fO(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield vK(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(be(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(be(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ns("not implemented")}};function ha(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Hu=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=ob(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ch(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield Eh(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return aS(this,e)}reload(){return lS(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield pv(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(ki(this.auth.app))return Promise.reject(is(this.auth));let e=yield this.getIdToken();return yield Eh(this,mK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,f;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,I=(s=n.photoURL)!==null&&s!==void 0?s:void 0,L=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,$=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Q=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:ne,emailVerified:de,isAnonymous:Ae,providerData:me,stsTokenManager:k}=n;be(ne&&k,e,"internal-error");let A=bh.fromJSON(this.name,k);be(typeof ne=="string",e,"internal-error"),ha(h,e.name),ha(y,e.name),be(typeof de=="boolean",e,"internal-error"),be(typeof Ae=="boolean",e,"internal-error"),ha(w,e.name),ha(I,e.name),ha(L,e.name),ha(P,e.name),ha($,e.name),ha(Q,e.name);let R=new t({uid:ne,auth:e,email:y,emailVerified:de,displayName:h,isAnonymous:Ae,photoURL:I,phoneNumber:w,tenantId:L,stsTokenManager:A,createdAt:$,lastLoginAt:Q});return me&&Array.isArray(me)&&(R.providerData=me.map(N=>Object.assign({},N))),P&&(R._redirectEventId=P),R}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new bh;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield pv(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];be(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?NO(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new bh;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ch(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var hO=new Map;function rs(t){pa(t instanceof Function,"Expected a class definition");let e=hO.get(t);return e?(pa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hO.set(t,e),e)}var wK=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),qI=wK;function lv(t,e,n){return`firebase:${t}:${e}:${n}`}var mv=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=lv(this.userKey,i.apiKey,o),this.fullPersistenceKey=lv("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Hu._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(rs(qI),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||rs(qI),s=lv(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let f=yield l._get(s);if(f){let h=Hu._fromJSON(e,f);l!==o&&(a=h),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function pO(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BO(e))return"Blackberry";if(UO(e))return"Webos";if(OO(e))return"Safari";if((e.includes("chrome/")||FO(e))&&!e.includes("edge/"))return"Chrome";if(VO(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function kO(t=En()){return/firefox\//i.test(t)}function OO(t=En()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FO(t=En()){return/crios\//i.test(t)}function LO(t=En()){return/iemobile/i.test(t)}function VO(t=En()){return/android/i.test(t)}function BO(t=En()){return/blackberry/i.test(t)}function UO(t=En()){return/webos/i.test(t)}function uS(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bK(t=En()){var e;return uS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EK(){return Hk()&&document.documentMode===10}function jO(t=En()){return uS(t)||VO(t)||UO(t)||BO(t)||/windows phone/i.test(t)||LO(t)}function $O(t,e=[]){let n;switch(t){case"Browser":n=pO(En());break;case"Worker":n=`${pO(En())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${r}`}var zI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function CK(n){return _(this,arguments,function*(t,e={}){return ss(t,"GET","/v2/passwordPolicy",os(t,e))})}var IK=6,GI=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:IK,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var WI=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gv(this),this.idTokenSubscription=new gv(this),this.beforeStateQueue=new zI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rs(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield mv.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield PO(this,{idToken:e}),r=yield Hu._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(ki(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield pv(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=uK()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(ki(this.app))return Promise.reject(is(this));let n=e?en(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return ki(this.app)?Promise.reject(is(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ki(this.app)?Promise.reject(is(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(rs(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield CK(this),n=new GI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield _K(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&rs(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=yield mv.create(this,[rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$O(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&aK(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function jc(t){return en(t)}var gv=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Wk(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Cv={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SK(t){Cv=t}function HO(t){return Cv.loadJS(t)}function xK(){return Cv.recaptchaEnterpriseScript}function TK(){return Cv.gapiScript}function qO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var AK="recaptcha-enterprise",DK="NO_RECAPTCHA",KI=class{constructor(e){this.type=AK,this.auth=jc(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(this,null,function*(){pK(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new $I(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;dO(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(DK)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&dO(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=xK();c.length!==0&&(c+=a),HO(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function mO(t,e,n,r=!1){return _(this,null,function*(){let i=new KI(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function QI(t,e,n,r){return _(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield mO(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>_(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield mO(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function dS(t,e){let n=vh(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Nc(o,e??{}))return i;yo(i,"already-initialized")}return n.initialize({options:e})}function RK(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(rs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function fS(t,e,n){let r=jc(t);be(r._canInitEmulator,r,"emulator-config-failed"),be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=zO(e),{host:s,port:a}=MK(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||PK()}function zO(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MK(t){let e=zO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:gO(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:gO(s)}}}function gO(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function PK(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ih=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,n){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}};function NK(t,e){return _(this,null,function*(){return ss(t,"POST","/v1/accounts:signUp",e)})}function kK(t,e){return _(this,null,function*(){return Th(t,"POST","/v1/accounts:signInWithPassword",os(t,e))})}function OK(t,e){return _(this,null,function*(){return ss(t,"POST","/v1/accounts:sendOobCode",os(t,e))})}function FK(t,e){return _(this,null,function*(){return OK(t,e)})}function LK(t,e){return _(this,null,function*(){return Th(t,"POST","/v1/accounts:signInWithEmailLink",os(t,e))})}function VK(t,e){return _(this,null,function*(){return Th(t,"POST","/v1/accounts:signInWithEmailLink",os(t,e))})}var Sh=class t extends Ih{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return QI(e,n,"signInWithPassword",kK);case"emailLink":return LK(e,{email:this._email,oobCode:this._password});default:yo(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return QI(e,r,"signUpPassword",NK);case"emailLink":return VK(e,{idToken:n,email:this._email,oobCode:this._password});default:yo(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function VI(t,e){return _(this,null,function*(){return Th(t,"POST","/v1/accounts:signInWithIdp",os(t,e))})}function BK(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UK(t){let e=Lu(Vu(t)).link,n=e?Lu(Vu(e)).deep_link_id:null,r=Lu(Vu(t)).deep_link_id;return(r?Lu(Vu(r)).link:null)||r||n||e||t}var yv=class t{constructor(e){var n,r,i,o,s,a;let c=Lu(Vu(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,h=BK((i=c.mode)!==null&&i!==void 0?i:null);be(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=UK(e);try{return new t(n)}catch{return null}}};var GO=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Sh._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=yv.parseLink(r);return be(i,"argument-error"),Sh._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),vv=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var YI=class extends vv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function jK(t,e){return _(this,null,function*(){return Th(t,"POST","/v1/accounts:signUp",os(t,e))})}var qu=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield Hu._fromIdTokenResponse(e,r,i),s=yO(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=yO(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function yO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ZI=class t extends Lr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function WO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ZI._fromErrorAndOperation(t,o,e,r):o})}function $K(t,e,n=!1){return _(this,null,function*(){let r=yield Eh(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return qu._forOperation(t,"link",r)})}function HK(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(ki(r.app))return Promise.reject(is(r));let i="reauthenticate";try{let o=yield Eh(t,WO(r,i,e,t),n);be(o.idToken,r,"internal-error");let s=cS(o.idToken);be(s,r,"internal-error");let{sub:a}=s;return be(t.uid===a,r,"user-mismatch"),qu._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&yo(r,"user-mismatch"),o}})}function KO(t,e,n=!1){return _(this,null,function*(){if(ki(t.app))return Promise.reject(is(t));let r="signIn",i=yield WO(t,r,e),o=yield qu._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function hS(t,e){return _(this,null,function*(){return KO(jc(t),e)})}function qK(t,e,n){var r;be(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),be(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(be(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(be(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function QO(t){return _(this,null,function*(){let e=jc(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function pS(t,e,n){return _(this,null,function*(){if(ki(t.app))return Promise.reject(is(t));let r=jc(t),s=yield QI(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jK).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&QO(t),c}),a=yield qu._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function mS(t,e,n){return ki(t.app)?Promise.reject(is(t)):hS(en(t),GO.credential(e,n)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&QO(t),r}))}function gS(t,e){return _(this,null,function*(){let n=en(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&qK(n.auth,i,e);let{email:o}=yield FK(n.auth,i);o!==t.email&&(yield t.reload())})}function yS(t,e,n,r){return en(t).onIdTokenChanged(e,n,r)}function vS(t,e,n){return en(t).beforeAuthStateChanged(e,n)}var _v="__sak";var wv=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_v,"1"),this.storage.removeItem(_v),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var zK=1e3,GK=10,WK=(()=>{class t extends wv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jO(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);EK()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,GK):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},zK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield Zi(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield Zi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield Zi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),YO=WK;var KK=(()=>{class t extends wv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),_S=KK;function QK(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var YK=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(f=>_(this,null,function*(){return f(r.origin,s)})),l=yield QK(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function ZO(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var JI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=ZO("",20);i.port1.start();let f=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){let y=h;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(y.data.response);break;default:clearTimeout(f),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function go(){return window}function ZK(t){go().location.href=t}function JO(){return typeof go().WorkerGlobalScope<"u"&&typeof go().importScripts=="function"}function JK(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function XK(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function eQ(){return JO()?self:null}var XO="firebaseLocalStorageDb",tQ=1,bv="firebaseLocalStorage",eF="fbase_key",Uc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Iv(t,e){return t.transaction([bv],e?"readwrite":"readonly").objectStore(bv)}function nQ(){let t=indexedDB.deleteDatabase(XO);return new Uc(t).toPromise()}function XI(){let t=indexedDB.open(XO,tQ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(bv,{keyPath:eF})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(bv)?e(r):(r.close(),yield nQ(),e(yield XI()))}))})}function vO(t,e,n){return _(this,null,function*(){let r=Iv(t,!0).put({[eF]:e,value:n});return new Uc(r).toPromise()})}function rQ(t,e){return _(this,null,function*(){let n=Iv(t,!1).get(e),r=yield new Uc(n).toPromise();return r===void 0?null:r.value})}function _O(t,e){let n=Iv(t,!0).delete(e);return new Uc(n).toPromise()}var iQ=800,oQ=3,sQ=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield XI(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>oQ)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return JO()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=YK._getInstance(eQ()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield JK(),!this.activeServiceWorker)return;this.sender=new JI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||XK()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield XI();return yield vO(n,_v,"1"),yield _O(n,_v),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>vO(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>rQ(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>_O(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=Iv(o,!1).getAll();return new Uc(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),iQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),tF=sQ;var xpe=qO("rcb"),Tpe=new Bc(3e4,6e4);function aQ(t,e){return e?rs(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var xh=class extends Ih{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return VI(e,this._buildIdpRequest())}_linkToIdToken(e,n){return VI(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return VI(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function cQ(t){return KO(t.auth,new xh(t),t.bypassAuthState)}function lQ(t){let{auth:e,user:n}=t;return be(n,e,"internal-error"),HK(n,new xh(t),t.bypassAuthState)}function uQ(t){return _(this,null,function*(){let{auth:e,user:n}=t;return be(n,e,"internal-error"),$K(n,new xh(t),t.bypassAuthState)})}var eS=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cQ;case"linkViaPopup":case"linkViaRedirect":return uQ;case"reauthViaPopup":case"reauthViaRedirect":return lQ;default:yo(this.auth,"internal-error")}}resolve(e){pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Ape=new Bc(2e3,1e4);var dQ="pendingRedirect",uv=new Map,tS=class t extends eS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=uv.get(this.auth._key());if(!e){try{let r=(yield fQ(this.resolver,this.auth))?yield Zi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}uv.set(this.auth._key(),e)}return this.bypassAuthState||uv.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Zi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Zi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function fQ(t,e){return _(this,null,function*(){let n=mQ(e),r=pQ(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function hQ(t,e){uv.set(t._key(),e)}function pQ(t){return rs(t._redirectPersistence)}function mQ(t){return lv(dQ,t.config.apiKey,t.name)}function gQ(t,e,n=!1){return _(this,null,function*(){if(ki(t.app))return Promise.reject(is(t));let r=jc(t),i=aQ(r,e),s=yield new tS(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var yQ=10*60*1e3,nS=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nF(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vc(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(wO(e))}saveEventToCache(e){this.cachedEventUids.add(wO(e)),this.lastProcessedEventTime=Date.now()}};function wO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nF({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function vQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nF(t);default:return!1}}function _Q(n){return _(this,arguments,function*(t,e={}){return ss(t,"GET","/v1/projects",e)})}var wQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bQ=/^https?/;function EQ(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield _Q(t);for(let n of e)try{if(CQ(n))return}catch{}yo(t,"unauthorized-domain")})}function CQ(t){let e=UI(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!bQ.test(n))return!1;if(wQ.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var IQ=new Bc(3e4,6e4);function bO(){let t=go().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function SQ(t){return new Promise((e,n)=>{var r,i,o;function s(){bO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bO(),n(Vc(t,"network-request-failed"))},timeout:IQ.get()})}if(!((i=(r=go().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=go().gapi)===null||o===void 0)&&o.load)s();else{let a=qO("iframefcb");return go()[a]=()=>{gapi.load?s():n(Vc(t,"network-request-failed"))},HO(`${TK()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw dv=null,e})}var dv=null;function xQ(t){return dv=dv||SQ(t),dv}var TQ=new Bc(5e3,15e3),AQ="__/auth/iframe",DQ="emulator/auth/iframe",RQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PQ(t){let e=t.config;be(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?sS(e,DQ):`https://${t.config.authDomain}/${AQ}`,r={apiKey:e.apiKey,appName:t.name,v:fa},i=MQ.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${mh(r).slice(1)}`}function NQ(t){return _(this,null,function*(){let e=yield xQ(t),n=go().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:PQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RQ,dontclear:!0},r=>new Promise((i,o)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Vc(t,"network-request-failed"),a=go().setTimeout(()=>{o(s)},TQ.get());function c(){go().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var kQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OQ=500,FQ=600,LQ="_blank",VQ="http://localhost",Ev=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function BQ(t,e,n,r=OQ,i=FQ){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},kQ),{width:r.toString(),height:i.toString(),top:o,left:s}),l=En().toLowerCase();n&&(a=FO(l)?LQ:n),kO(l)&&(e=e||VQ,c.scrollbars="yes");let f=Object.entries(c).reduce((y,[w,I])=>`${y}${w}=${I},`,"");if(bK(l)&&a!=="_self")return UQ(e||"",a),new Ev(null);let h=window.open(e||"",a,f);be(h,t,"popup-blocked");try{h.focus()}catch{}return new Ev(h)}function UQ(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var jQ="__/auth/handler",$Q="emulator/auth/handler",HQ=encodeURIComponent("fac");function EO(t,e,n,r,i,o){return _(this,null,function*(){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fa,eventId:i};if(e instanceof vv){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Gk(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,h]of Object.entries(o||{}))s[f]=h}if(e instanceof YI){let f=e.getScopes().filter(h=>h!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let c=yield t._getAppCheckToken(),l=c?`#${HQ}=${encodeURIComponent(c)}`:"";return`${qQ(t)}?${mh(a).slice(1)}${l}`})}function qQ({config:t}){return t.emulator?sS(t,$Q):`https://${t.authDomain}/${jQ}`}var BI="webStorageSupport",rS=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_S,this._completeRedirectFn=gQ,this._overrideRedirectResult=hQ}_openPopup(e,n,r,i){return _(this,null,function*(){var o;pa((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield EO(e,n,r,UI(),i);return BQ(e,s,ZO())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield EO(e,n,r,UI(),i);return ZK(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(pa(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield NQ(e),r=new nS(e);return n.register("authEvent",i=>(be(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(BI,{type:BI},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[BI];s!==void 0&&n(!!s),yo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jO()||OO()||uS()}},rF=rS;var CO="@firebase/auth",IO="1.7.9";var iS=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function zQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GQ(t){da(new ui("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;be(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$O(t)},l=new WI(r,i,o,c);return RK(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),da(new ui("auth-internal",e=>{let n=jc(e.getProvider("auth").getImmediate());return(r=>new iS(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mn(CO,IO,zQ(t)),mn(CO,IO,"esm2017")}var WQ=5*60,KQ=vI("authIdTokenMaxAge")||WQ,SO=null,QQ=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KQ)return;let i=n?.token;SO!==i&&(SO=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function wS(t=Bu()){let e=vh(t,"auth");if(e.isInitialized())return e.getImmediate();let n=dS(t,{popupRedirectResolver:rF,persistence:[tF,YO,_S]}),r=vI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=QQ(o.toString());vS(n,s,()=>s(n.currentUser)),yS(n,a=>s(a))}}let i=gI("auth");return i&&fS(n,`http://${i}`),n}function YQ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}SK({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Vc("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",YQ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GQ("Browser");var iF="auth",Vr=class{constructor(e){return e}},Ah=class{constructor(){return _h(iF)}};var bS=new ve("angularfire2.auth-instances");function UY(t,e){let n=ov(iF,t,e);return n&&new Vr(n)}function jY(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Vr(r)}}var $Y={provide:Ah,deps:[[new nr,bS]]},HY={provide:Vr,useFactory:UY,deps:[[new nr,bS],ts]};function oF(t,...e){return mn("angularfire",Fc.full,"auth"),so([HY,$Y,{provide:bS,useFactory:jY(t),multi:!0,deps:[pt,_r,$u,Lc,[new nr,ju],...e]}])}var zu=Cn(pS,!0);var sF=Cn(wS,!0);var Gu=Cn(gS,!0);var aF=Cn(mS,!0);var cF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lF={};var ma,ES;(function(){var t;function e(k,A){function R(){}R.prototype=A.prototype,k.D=A.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(N,F,V){for(var M=Array(arguments.length-2),gi=2;gi<arguments.length;gi++)M[gi-2]=arguments[gi];return A.prototype[F].apply(N,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,A,R){R||(R=0);var N=Array(16);if(typeof A=="string")for(var F=0;16>F;++F)N[F]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(F=0;16>F;++F)N[F]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=k.g[0],R=k.g[1],F=k.g[2];var V=k.g[3],M=A+(V^R&(F^V))+N[0]+3614090360&4294967295;A=R+(M<<7&4294967295|M>>>25),M=V+(F^A&(R^F))+N[1]+3905402710&4294967295,V=A+(M<<12&4294967295|M>>>20),M=F+(R^V&(A^R))+N[2]+606105819&4294967295,F=V+(M<<17&4294967295|M>>>15),M=R+(A^F&(V^A))+N[3]+3250441966&4294967295,R=F+(M<<22&4294967295|M>>>10),M=A+(V^R&(F^V))+N[4]+4118548399&4294967295,A=R+(M<<7&4294967295|M>>>25),M=V+(F^A&(R^F))+N[5]+1200080426&4294967295,V=A+(M<<12&4294967295|M>>>20),M=F+(R^V&(A^R))+N[6]+2821735955&4294967295,F=V+(M<<17&4294967295|M>>>15),M=R+(A^F&(V^A))+N[7]+4249261313&4294967295,R=F+(M<<22&4294967295|M>>>10),M=A+(V^R&(F^V))+N[8]+1770035416&4294967295,A=R+(M<<7&4294967295|M>>>25),M=V+(F^A&(R^F))+N[9]+2336552879&4294967295,V=A+(M<<12&4294967295|M>>>20),M=F+(R^V&(A^R))+N[10]+4294925233&4294967295,F=V+(M<<17&4294967295|M>>>15),M=R+(A^F&(V^A))+N[11]+2304563134&4294967295,R=F+(M<<22&4294967295|M>>>10),M=A+(V^R&(F^V))+N[12]+1804603682&4294967295,A=R+(M<<7&4294967295|M>>>25),M=V+(F^A&(R^F))+N[13]+4254626195&4294967295,V=A+(M<<12&4294967295|M>>>20),M=F+(R^V&(A^R))+N[14]+2792965006&4294967295,F=V+(M<<17&4294967295|M>>>15),M=R+(A^F&(V^A))+N[15]+1236535329&4294967295,R=F+(M<<22&4294967295|M>>>10),M=A+(F^V&(R^F))+N[1]+4129170786&4294967295,A=R+(M<<5&4294967295|M>>>27),M=V+(R^F&(A^R))+N[6]+3225465664&4294967295,V=A+(M<<9&4294967295|M>>>23),M=F+(A^R&(V^A))+N[11]+643717713&4294967295,F=V+(M<<14&4294967295|M>>>18),M=R+(V^A&(F^V))+N[0]+3921069994&4294967295,R=F+(M<<20&4294967295|M>>>12),M=A+(F^V&(R^F))+N[5]+3593408605&4294967295,A=R+(M<<5&4294967295|M>>>27),M=V+(R^F&(A^R))+N[10]+38016083&4294967295,V=A+(M<<9&4294967295|M>>>23),M=F+(A^R&(V^A))+N[15]+3634488961&4294967295,F=V+(M<<14&4294967295|M>>>18),M=R+(V^A&(F^V))+N[4]+3889429448&4294967295,R=F+(M<<20&4294967295|M>>>12),M=A+(F^V&(R^F))+N[9]+568446438&4294967295,A=R+(M<<5&4294967295|M>>>27),M=V+(R^F&(A^R))+N[14]+3275163606&4294967295,V=A+(M<<9&4294967295|M>>>23),M=F+(A^R&(V^A))+N[3]+4107603335&4294967295,F=V+(M<<14&4294967295|M>>>18),M=R+(V^A&(F^V))+N[8]+1163531501&4294967295,R=F+(M<<20&4294967295|M>>>12),M=A+(F^V&(R^F))+N[13]+2850285829&4294967295,A=R+(M<<5&4294967295|M>>>27),M=V+(R^F&(A^R))+N[2]+4243563512&4294967295,V=A+(M<<9&4294967295|M>>>23),M=F+(A^R&(V^A))+N[7]+1735328473&4294967295,F=V+(M<<14&4294967295|M>>>18),M=R+(V^A&(F^V))+N[12]+2368359562&4294967295,R=F+(M<<20&4294967295|M>>>12),M=A+(R^F^V)+N[5]+4294588738&4294967295,A=R+(M<<4&4294967295|M>>>28),M=V+(A^R^F)+N[8]+2272392833&4294967295,V=A+(M<<11&4294967295|M>>>21),M=F+(V^A^R)+N[11]+1839030562&4294967295,F=V+(M<<16&4294967295|M>>>16),M=R+(F^V^A)+N[14]+4259657740&4294967295,R=F+(M<<23&4294967295|M>>>9),M=A+(R^F^V)+N[1]+2763975236&4294967295,A=R+(M<<4&4294967295|M>>>28),M=V+(A^R^F)+N[4]+1272893353&4294967295,V=A+(M<<11&4294967295|M>>>21),M=F+(V^A^R)+N[7]+4139469664&4294967295,F=V+(M<<16&4294967295|M>>>16),M=R+(F^V^A)+N[10]+3200236656&4294967295,R=F+(M<<23&4294967295|M>>>9),M=A+(R^F^V)+N[13]+681279174&4294967295,A=R+(M<<4&4294967295|M>>>28),M=V+(A^R^F)+N[0]+3936430074&4294967295,V=A+(M<<11&4294967295|M>>>21),M=F+(V^A^R)+N[3]+3572445317&4294967295,F=V+(M<<16&4294967295|M>>>16),M=R+(F^V^A)+N[6]+76029189&4294967295,R=F+(M<<23&4294967295|M>>>9),M=A+(R^F^V)+N[9]+3654602809&4294967295,A=R+(M<<4&4294967295|M>>>28),M=V+(A^R^F)+N[12]+3873151461&4294967295,V=A+(M<<11&4294967295|M>>>21),M=F+(V^A^R)+N[15]+530742520&4294967295,F=V+(M<<16&4294967295|M>>>16),M=R+(F^V^A)+N[2]+3299628645&4294967295,R=F+(M<<23&4294967295|M>>>9),M=A+(F^(R|~V))+N[0]+4096336452&4294967295,A=R+(M<<6&4294967295|M>>>26),M=V+(R^(A|~F))+N[7]+1126891415&4294967295,V=A+(M<<10&4294967295|M>>>22),M=F+(A^(V|~R))+N[14]+2878612391&4294967295,F=V+(M<<15&4294967295|M>>>17),M=R+(V^(F|~A))+N[5]+4237533241&4294967295,R=F+(M<<21&4294967295|M>>>11),M=A+(F^(R|~V))+N[12]+1700485571&4294967295,A=R+(M<<6&4294967295|M>>>26),M=V+(R^(A|~F))+N[3]+2399980690&4294967295,V=A+(M<<10&4294967295|M>>>22),M=F+(A^(V|~R))+N[10]+4293915773&4294967295,F=V+(M<<15&4294967295|M>>>17),M=R+(V^(F|~A))+N[1]+2240044497&4294967295,R=F+(M<<21&4294967295|M>>>11),M=A+(F^(R|~V))+N[8]+1873313359&4294967295,A=R+(M<<6&4294967295|M>>>26),M=V+(R^(A|~F))+N[15]+4264355552&4294967295,V=A+(M<<10&4294967295|M>>>22),M=F+(A^(V|~R))+N[6]+2734768916&4294967295,F=V+(M<<15&4294967295|M>>>17),M=R+(V^(F|~A))+N[13]+1309151649&4294967295,R=F+(M<<21&4294967295|M>>>11),M=A+(F^(R|~V))+N[4]+4149444226&4294967295,A=R+(M<<6&4294967295|M>>>26),M=V+(R^(A|~F))+N[11]+3174756917&4294967295,V=A+(M<<10&4294967295|M>>>22),M=F+(A^(V|~R))+N[2]+718787259&4294967295,F=V+(M<<15&4294967295|M>>>17),M=R+(V^(F|~A))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(F+(M<<21&4294967295|M>>>11))&4294967295,k.g[2]=k.g[2]+F&4294967295,k.g[3]=k.g[3]+V&4294967295}r.prototype.u=function(k,A){A===void 0&&(A=k.length);for(var R=A-this.blockSize,N=this.B,F=this.h,V=0;V<A;){if(F==0)for(;V<=R;)i(this,k,V),V+=this.blockSize;if(typeof k=="string"){for(;V<A;)if(N[F++]=k.charCodeAt(V++),F==this.blockSize){i(this,N),F=0;break}}else for(;V<A;)if(N[F++]=k[V++],F==this.blockSize){i(this,N),F=0;break}}this.h=F,this.o+=A},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var R=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=R&255,R/=256;for(this.u(k),k=Array(16),A=R=0;4>A;++A)for(var N=0;32>N;N+=8)k[R++]=this.g[A]>>>N&255;return k};function o(k,A){var R=a;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=A(k)}function s(k,A){this.h=A;for(var R=[],N=!0,F=k.length-1;0<=F;F--){var V=k[F]|0;N&&V==A||(R[F]=V,N=!1)}this.g=R}var a={};function c(k){return-128<=k&&128>k?o(k,function(A){return new s([A|0],0>A?-1:0)}):new s([k|0],0>k?-1:0)}function l(k){if(isNaN(k)||!isFinite(k))return h;if(0>k)return P(l(-k));for(var A=[],R=1,N=0;k>=R;N++)A[N]=k/R|0,R*=4294967296;return new s(A,0)}function f(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return P(f(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=l(Math.pow(A,8)),N=h,F=0;F<k.length;F+=8){var V=Math.min(8,k.length-F),M=parseInt(k.substring(F,F+V),A);8>V?(V=l(Math.pow(A,V)),N=N.j(V).add(l(M))):(N=N.j(R),N=N.add(l(M)))}return N}var h=c(0),y=c(1),w=c(16777216);t=s.prototype,t.m=function(){if(L(this))return-P(this).m();for(var k=0,A=1,R=0;R<this.g.length;R++){var N=this.i(R);k+=(0<=N?N:4294967296+N)*A,A*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(I(this))return"0";if(L(this))return"-"+P(this).toString(k);for(var A=l(Math.pow(k,6)),R=this,N="";;){var F=de(R,A).g;R=$(R,F.j(A));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=F,I(R))return V+N;for(;6>V.length;)V="0"+V;N=V+N}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function I(k){if(k.h!=0)return!1;for(var A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function L(k){return k.h==-1}t.l=function(k){return k=$(this,k),L(k)?-1:I(k)?0:1};function P(k){for(var A=k.g.length,R=[],N=0;N<A;N++)R[N]=~k.g[N];return new s(R,~k.h).add(y)}t.abs=function(){return L(this)?P(this):this},t.add=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],N=0,F=0;F<=A;F++){var V=N+(this.i(F)&65535)+(k.i(F)&65535),M=(V>>>16)+(this.i(F)>>>16)+(k.i(F)>>>16);N=M>>>16,V&=65535,M&=65535,R[F]=M<<16|V}return new s(R,R[R.length-1]&-2147483648?-1:0)};function $(k,A){return k.add(P(A))}t.j=function(k){if(I(this)||I(k))return h;if(L(this))return L(k)?P(this).j(P(k)):P(P(this).j(k));if(L(k))return P(this.j(P(k)));if(0>this.l(w)&&0>k.l(w))return l(this.m()*k.m());for(var A=this.g.length+k.g.length,R=[],N=0;N<2*A;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var F=0;F<k.g.length;F++){var V=this.i(N)>>>16,M=this.i(N)&65535,gi=k.i(F)>>>16,vs=k.i(F)&65535;R[2*N+2*F]+=M*vs,Q(R,2*N+2*F),R[2*N+2*F+1]+=V*vs,Q(R,2*N+2*F+1),R[2*N+2*F+1]+=M*gi,Q(R,2*N+2*F+1),R[2*N+2*F+2]+=V*gi,Q(R,2*N+2*F+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new s(R,0)};function Q(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function ne(k,A){this.g=k,this.h=A}function de(k,A){if(I(A))throw Error("division by zero");if(I(k))return new ne(h,h);if(L(k))return A=de(P(k),A),new ne(P(A.g),P(A.h));if(L(A))return A=de(k,P(A)),new ne(P(A.g),A.h);if(30<k.g.length){if(L(k)||L(A))throw Error("slowDivide_ only works with positive integers.");for(var R=y,N=A;0>=N.l(k);)R=Ae(R),N=Ae(N);var F=me(R,1),V=me(N,1);for(N=me(N,2),R=me(R,2);!I(N);){var M=V.add(N);0>=M.l(k)&&(F=F.add(R),V=M),N=me(N,1),R=me(R,1)}return A=$(k,F.j(A)),new ne(F,A)}for(F=h;0<=k.l(A);){for(R=Math.max(1,Math.floor(k.m()/A.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),V=l(R),M=V.j(A);L(M)||0<M.l(k);)R-=N,V=l(R),M=V.j(A);I(V)&&(V=y),F=F.add(V),k=$(k,M)}return new ne(F,k)}t.A=function(k){return de(this,k).h},t.and=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)&k.i(N);return new s(R,this.h&k.h)},t.or=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)|k.i(N);return new s(R,this.h|k.h)},t.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)^k.i(N);return new s(R,this.h^k.h)};function Ae(k){for(var A=k.g.length+1,R=[],N=0;N<A;N++)R[N]=k.i(N)<<1|k.i(N-1)>>>31;return new s(R,k.h)}function me(k,A){var R=A>>5;A%=32;for(var N=k.g.length-R,F=[],V=0;V<N;V++)F[V]=0<A?k.i(V+R)>>>A|k.i(V+R+1)<<32-A:k.i(V+R);return new s(F,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ES=lF.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,ma=lF.Integer=s}).apply(typeof cF<"u"?cF:typeof self<"u"?self:typeof window<"u"?window:{});var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},as={};var CS,qY,Wu,IS,Dh,Tv,SS,xS,TS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,g){return u==Array.prototype||u==Object.prototype||(u[m]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xv=="object"&&xv];for(var m=0;m<u.length;++m){var g=u[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,m){if(m)e:{var g=r;u=u.split(".");for(var E=0;E<u.length-1;E++){var U=u[E];if(!(U in g))break e;g=g[U]}u=u[u.length-1],E=g[u],m=m(E),m!=E&&m!=null&&e(g,u,{configurable:!0,writable:!0,value:m})}}function o(u,m){u instanceof String&&(u+="");var g=0,E=!1,U={next:function(){if(!E&&g<u.length){var H=g++;return{value:m(H,u[H]),done:!1}}return E=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(u){return u||function(){return o(this,function(m,g){return g})}});var s=s||{},a=this||self;function c(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function l(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function f(u,m,g){return u.call.apply(u.bind,arguments)}function h(u,m,g){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,E),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function y(u,m,g){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,y.apply(null,arguments)}function w(u,m){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function I(u,m){function g(){}g.prototype=m.prototype,u.aa=m.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(E,U,H){for(var ee=Array(arguments.length-2),st=2;st<arguments.length;st++)ee[st-2]=arguments[st];return m.prototype[U].apply(E,ee)}}function L(u){let m=u.length;if(0<m){let g=Array(m);for(let E=0;E<m;E++)g[E]=u[E];return g}return[]}function P(u,m){for(let g=1;g<arguments.length;g++){let E=arguments[g];if(c(E)){let U=u.length||0,H=E.length||0;u.length=U+H;for(let ee=0;ee<H;ee++)u[U+ee]=E[ee]}else u.push(E)}}class ${constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Q(u){return/^[\s\xa0]*$/.test(u)}function ne(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function de(u){return de[" "](u),u}de[" "]=function(){};var Ae=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function me(u,m,g){for(let E in u)m.call(g,u[E],E,u)}function k(u,m){for(let g in u)m.call(void 0,u[g],g,u)}function A(u){let m={};for(let g in u)m[g]=u[g];return m}let R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let g,E;for(let U=1;U<arguments.length;U++){E=arguments[U];for(g in E)u[g]=E[g];for(let H=0;H<R.length;H++)g=R[H],Object.prototype.hasOwnProperty.call(E,g)&&(u[g]=E[g])}}function F(u){var m=1;u=u.split(":");let g=[];for(;0<m&&u.length;)g.push(u.shift()),m--;return u.length&&g.push(u.join(":")),g}function V(u){a.setTimeout(()=>{throw u},0)}function M(){var u=ws;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gi{constructor(){this.h=this.g=null}add(m,g){let E=vs.get();E.set(m,g),this.h?this.h.next=E:this.g=E,this.h=E}}var vs=new $(()=>new Ld,u=>u.reset());class Ld{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let _s,ko=!1,ws=new gi,Ir=()=>{let u=a.Promise.resolve(void 0);_s=()=>{u.then(bs)}};var bs=()=>{for(var u;u=M();){try{u.h.call(u.g)}catch(g){V(g)}var m=vs;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ko=!1};function Vn(){this.s=this.s,this.C=this.C}Vn.prototype.s=!1,Vn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Vn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function yn(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}yn.prototype.h=function(){this.defaultPrevented=!0};var Es=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let g=()=>{};a.addEventListener("test",g,m),a.removeEventListener("test",g,m)}catch{}return u}();function yi(u,m){if(yn.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Ae){e:{try{de(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else g=="mouseover"?m=u.fromElement:g=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ap[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&yi.aa.h.call(this)}}I(yi,yn);var Ap={2:"touch",3:"pen",4:"mouse"};yi.prototype.h=function(){yi.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var $i="closure_listenable_"+(1e6*Math.random()|0),Vd=0;function _w(u,m,g,E,U){this.listener=u,this.proxy=null,this.src=m,this.type=g,this.capture=!!E,this.ha=U,this.key=++Vd,this.da=this.fa=!1}function Cs(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Is(u){this.src=u,this.g={},this.h=0}Is.prototype.add=function(u,m,g,E,U){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var ee=Bd(u,m,E,U);return-1<ee?(m=u[ee],g||(m.fa=!1)):(m=new _w(m,this.src,H,!!E,U),m.fa=g,u.push(m)),m};function Ss(u,m){var g=m.type;if(g in u.g){var E=u.g[g],U=Array.prototype.indexOf.call(E,m,void 0),H;(H=0<=U)&&Array.prototype.splice.call(E,U,1),H&&(Cs(m),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Bd(u,m,g,E){for(var U=0;U<u.length;++U){var H=u[U];if(!H.da&&H.listener==m&&H.capture==!!g&&H.ha==E)return U}return-1}var Rn="closure_lm_"+(1e6*Math.random()|0),Sr={};function Dp(u,m,g,E,U){if(E&&E.once)return Ud(u,m,g,E,U);if(Array.isArray(m)){for(var H=0;H<m.length;H++)Dp(u,m[H],g,E,U);return null}return g=Kt(g),u&&u[$i]?u.K(m,g,l(E)?!!E.capture:!!E,U):Bn(u,m,g,!1,E,U)}function Bn(u,m,g,E,U,H){if(!m)throw Error("Invalid event type");var ee=l(U)?!!U.capture:!!U,st=vi(u);if(st||(u[Rn]=st=new Is(u)),g=st.add(m,g,E,ee,H),g.proxy)return g;if(E=yl(),g.proxy=E,E.src=u,E.listener=g,u.addEventListener)Es||(U=ee),U===void 0&&(U=!1),u.addEventListener(m.toString(),E,U);else if(u.attachEvent)u.attachEvent(xr(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function yl(){function u(g){return m.call(u.src,u.listener,g)}let m=Hi;return u}function Ud(u,m,g,E,U){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Ud(u,m[H],g,E,U);return null}return g=Kt(g),u&&u[$i]?u.L(m,g,l(E)?!!E.capture:!!E,U):Bn(u,m,g,!0,E,U)}function jd(u,m,g,E,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)jd(u,m[H],g,E,U);else E=l(E)?!!E.capture:!!E,g=Kt(g),u&&u[$i]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],g=Bd(H,g,E,U),-1<g&&(Cs(H[g]),Array.prototype.splice.call(H,g,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=vi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Bd(m,g,E,U)),(g=-1<u?m[u]:null)&&$e(g))}function $e(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[$i])Ss(m.i,u);else{var g=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(g,E,u.capture):m.detachEvent?m.detachEvent(xr(g),E):m.addListener&&m.removeListener&&m.removeListener(E),(g=vi(m))?(Ss(g,u),g.h==0&&(g.src=null,m[Rn]=null)):Cs(u)}}}function xr(u){return u in Sr?Sr[u]:Sr[u]="on"+u}function Hi(u,m){if(u.da)u=!0;else{m=new yi(m,this);var g=u.listener,E=u.ha||u.src;u.fa&&$e(u),u=g.call(E,m)}return u}function vi(u){return u=u[Rn],u instanceof Is?u:null}var kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kt(u){return typeof u=="function"?u:(u[kt]||(u[kt]=function(m){return u.handleEvent(m)}),u[kt])}function Qt(){Vn.call(this),this.i=new Is(this),this.M=this,this.F=null}I(Qt,Vn),Qt.prototype[$i]=!0,Qt.prototype.removeEventListener=function(u,m,g,E){jd(this,u,m,g,E)};function vn(u,m){var g,E=u.F;if(E)for(g=[];E;E=E.F)g.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new yn(m,u);else if(m instanceof yn)m.target=m.target||u;else{var U=m;m=new yn(E,u),N(m,U)}if(U=!0,g)for(var H=g.length-1;0<=H;H--){var ee=m.g=g[H];U=qi(ee,E,!0,m)&&U}if(ee=m.g=u,U=qi(ee,E,!0,m)&&U,U=qi(ee,E,!1,m)&&U,g)for(H=0;H<g.length;H++)ee=m.g=g[H],U=qi(ee,E,!1,m)&&U}Qt.prototype.N=function(){if(Qt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var g=u.g[m],E=0;E<g.length;E++)Cs(g[E]);delete u.g[m],u.h--}}this.F=null},Qt.prototype.K=function(u,m,g,E){return this.i.add(String(u),m,!1,g,E)},Qt.prototype.L=function(u,m,g,E){return this.i.add(String(u),m,!0,g,E)};function qi(u,m,g,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,H=0;H<m.length;++H){var ee=m[H];if(ee&&!ee.da&&ee.capture==g){var st=ee.listener,ln=ee.ha||ee.src;ee.fa&&Ss(u.i,ee),U=st.call(ln,E)!==!1&&U}}return U&&!E.defaultPrevented}function Mn(u,m,g){if(typeof u=="function")g&&(u=y(u,g));else if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function Rp(u){u.g=Mn(()=>{u.g=null,u.i&&(u.i=!1,Rp(u))},u.l);let m=u.h;u.h=null,u.m.apply(null,m)}class Mp extends Vn{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Rp(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(u){Vn.call(this),this.h=u,this.g={}}I(xs,Vn);var vl=[];function Pp(u){me(u.g,function(m,g){this.g.hasOwnProperty(g)&&$e(m)},u),u.g={}}xs.prototype.N=function(){xs.aa.N.call(this),Pp(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $d=a.JSON.stringify,ww=a.JSON.parse,bw=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function _i(){}_i.prototype.h=null;function Np(u){return u.h||(u.h=u.i())}function kp(){}var Va={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hd(){yn.call(this,"d")}I(Hd,yn);function qd(){yn.call(this,"c")}I(qd,yn);var wi={},Op=null;function _l(){return Op=Op||new Qt}wi.La="serverreachability";function Fp(u){yn.call(this,wi.La,u)}I(Fp,yn);function Ba(u){let m=_l();vn(m,new Fp(m))}wi.STAT_EVENT="statevent";function Lp(u,m){yn.call(this,wi.STAT_EVENT,u),this.stat=m}I(Lp,yn);function cn(u){let m=_l();vn(m,new Lp(m,u))}wi.Ma="timingevent";function Vp(u,m){yn.call(this,wi.Ma,u),this.size=m}I(Vp,yn);function Ua(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function ja(){this.g=!0}ja.prototype.xa=function(){this.g=!1};function Ew(u,m,g,E,U,H){u.info(function(){if(u.g)if(H)for(var ee="",st=H.split("&"),ln=0;ln<st.length;ln++){var Qe=st[ln].split("=");if(1<Qe.length){var _n=Qe[0];Qe=Qe[1];var un=_n.split("_");ee=2<=un.length&&un[1]=="type"?ee+(_n+"="+Qe+"&"):ee+(_n+"=redacted&")}}else ee=null;else ee=H;return"XMLHTTP REQ ("+E+") [attempt "+U+"]: "+m+`
`+g+`
`+ee})}function Cw(u,m,g,E,U,H,ee){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+U+"]: "+m+`
`+g+`
`+H+" "+ee})}function et(u,m,g,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sw(u,g)+(E?" "+E:"")})}function Iw(u,m){u.info(function(){return"TIMEOUT: "+m})}ja.prototype.info=function(){};function Sw(u,m){if(!u.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var E=g[u];if(!(2>E.length)){var U=E[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ee=1;ee<U.length;ee++)U[ee]=""}}}}return $d(g)}catch{return m}}var wl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zd;function bl(){}I(bl,_i),bl.prototype.g=function(){return new XMLHttpRequest},bl.prototype.i=function(){return{}},zd=new bl;function Gr(u,m,g,E){this.j=u,this.i=m,this.l=g,this.R=E||1,this.U=new xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ts}function Ts(){this.i=null,this.g="",this.h=!1}var Gd={},As={};function It(u,m,g){u.L=1,u.v=Cl(Wr(m)),u.m=g,u.P=!0,Up(u,null)}function Up(u,m){u.F=Date.now(),$a(u),u.A=Wr(u.v);var g=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),nm(g.i,"t",E),u.C=0,g=u.j.J,u.h=new Ts,u.g=cf(u.j,g?m:null,!u.m),0<u.O&&(u.M=new Mp(y(u.Y,u,u.g),u.O)),m=u.U,g=u.g,E=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(vl[0]=U.toString()),U=vl);for(var H=0;H<U.length;H++){var ee=Dp(g,U[H],E||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ba(),Ew(u.i,u.u,u.A,u.l,u.R,u.m)}Gr.prototype.ca=function(u){u=u.target;let m=this.M;m&&Ei(u)==3?m.j():this.Y(u)},Gr.prototype.Y=function(u){try{if(u==this.g)e:{let un=Ei(this.g);var m=this.g.Ba();let Qi=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||lm(this.g)))){this.J||un!=4||m==7||(m==8||0>=Qi?Ba(3):Ba(2)),Wd(this);var g=this.g.Z();this.X=g;t:if(jp(this)){var E=lm(this.g);u="";var U=E.length,H=Ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zi(this),Ha(this);var ee="";break t}this.h.i=new a.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(H&&m==U-1)});E.length=0,this.h.g+=u,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=g==200,Cw(this.i,this.u,this.A,this.l,this.R,un,g),this.o){if(this.T&&!this.K){t:{if(this.g){var st,ln=this.g;if((st=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(st)){var Qe=st;break t}}Qe=null}if(g=Qe)et(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kd(this,g);else{this.o=!1,this.s=3,cn(12),zi(this),Ha(this);break e}}if(this.P){g=!0;let Tr;for(;!this.J&&this.C<ee.length;)if(Tr=xw(this,ee),Tr==As){un==4&&(this.s=4,cn(14),g=!1),et(this.i,this.l,null,"[Incomplete Response]");break}else if(Tr==Gd){this.s=4,cn(15),et(this.i,this.l,ee,"[Invalid Chunk]"),g=!1;break}else et(this.i,this.l,Tr,null),Kd(this,Tr);if(jp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||ee.length!=0||this.h.h||(this.s=1,cn(16),g=!1),this.o=this.o&&g,!g)et(this.i,this.l,ee,"[Invalid Chunked Response]"),zi(this),Ha(this);else if(0<ee.length&&!this.W){this.W=!0;var _n=this.j;_n.g==this&&_n.ba&&!_n.M&&(_n.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),ks(_n),_n.M=!0,cn(11))}}else et(this.i,this.l,ee,null),Kd(this,ee);un==4&&zi(this),this.o&&!this.J&&(un==4?rf(this.j,this):(this.o=!1,$a(this)))}else Ow(this.g),g==400&&0<ee.indexOf("Unknown SID")?(this.s=3,cn(12)):(this.s=0,cn(13)),zi(this),Ha(this)}}}catch{}finally{}};function jp(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function xw(u,m){var g=u.C,E=m.indexOf(`
`,g);return E==-1?As:(g=Number(m.substring(g,E)),isNaN(g)?Gd:(E+=1,E+g>m.length?As:(m=m.slice(E,E+g),u.C=E+g,m)))}Gr.prototype.cancel=function(){this.J=!0,zi(this)};function $a(u){u.S=Date.now()+u.I,$p(u,u.I)}function $p(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ua(y(u.ba,u),m)}function Wd(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Gr.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(Iw(this.i,this.A),this.L!=2&&(Ba(),cn(17)),zi(this),this.s=2,Ha(this)):$p(this,this.S-u)};function Ha(u){u.j.G==0||u.J||rf(u.j,u)}function zi(u){Wd(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Pp(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Kd(u,m){try{var g=u.j;if(g.G!=0&&(g.g==u||Qd(g.h,u))){if(!u.K&&Qd(g.h,u)&&g.G==3){try{var E=g.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var U=E;if(U[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Za(g),Tl(g);else break e;Ya(g),cn(18)}}else g.za=U[1],0<g.za-g.T&&37500>U[2]&&g.F&&g.v==0&&!g.C&&(g.C=Ua(y(g.Za,g),6e3));if(1>=Gp(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ki(g,11)}else if((u.K||g.g==u)&&Za(g),!Q(m))for(U=g.Da.g.parse(m),m=0;m<U.length;m++){let Qe=U[m];if(g.T=Qe[0],Qe=Qe[1],g.G==2)if(Qe[0]=="c"){g.K=Qe[1],g.ia=Qe[2];let _n=Qe[3];_n!=null&&(g.la=_n,g.j.info("VER="+g.la));let un=Qe[4];un!=null&&(g.Aa=un,g.j.info("SVER="+g.Aa));let Qi=Qe[5];Qi!=null&&typeof Qi=="number"&&0<Qi&&(E=1.5*Qi,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;let Tr=u.g;if(Tr){let Dl=Tr.g?Tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dl){var H=E.h;H.g||Dl.indexOf("spdy")==-1&&Dl.indexOf("quic")==-1&&Dl.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Yd(H,H.h),H.h=null))}if(E.D){let uf=Tr.g?Tr.g.getResponseHeader("X-HTTP-Session-Id"):null;uf&&(E.ya=uf,gt(E.I,E.D,uf))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var ee=u;if(E.qa=af(E,E.J?E.ia:null,E.W),ee.K){Wp(E.h,ee);var st=ee,ln=E.L;ln&&(st.I=ln),st.B&&(Wd(st),$a(st)),E.g=ee}else nf(E);0<g.i.length&&Al(g)}else Qe[0]!="stop"&&Qe[0]!="close"||Ki(g,7);else g.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Ki(g,7):xl(g):Qe[0]!="noop"&&g.l&&g.l.ta(Qe),g.v=0)}}Ba(4)}catch{}}var Hp=class{constructor(u,m){this.g=u,this.map=m}};function qp(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zp(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Gp(u){return u.h?1:u.g?u.g.size:0}function Qd(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Yd(u,m){u.g?u.g.add(m):u.h=m}function Wp(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}qp.prototype.cancel=function(){if(this.i=Kp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function Kp(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(let g of u.g.values())m=m.concat(g.D);return m}return L(u.i)}function Qp(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var m=[],g=u.length,E=0;E<g;E++)m.push(u[E]);return m}m=[],g=0;for(E in u)m[g++]=u[E];return m}function Tw(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var m=[];u=u.length;for(var g=0;g<u;g++)m.push(g);return m}m=[],g=0;for(let E in u)m[g++]=E;return m}}}function Zd(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var g=Tw(u),E=Qp(u),U=E.length,H=0;H<U;H++)m.call(void 0,E[H],g&&g[H],u)}var Yp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aw(u,m){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var E=u[g].indexOf("="),U=null;if(0<=E){var H=u[g].substring(0,E);U=u[g].substring(E+1)}else H=u[g];m(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function hr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof hr){this.h=u.h,El(this,u.j),this.o=u.o,this.g=u.g,Ds(this,u.s),this.l=u.l;var m=u.i,g=new Ga;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),Jd(this,g),this.m=u.m}else u&&(m=String(u).match(Yp))?(this.h=!1,El(this,m[1]||"",!0),this.o=qa(m[2]||""),this.g=qa(m[3]||"",!0),Ds(this,m[4]),this.l=qa(m[5]||"",!0),Jd(this,m[6]||"",!0),this.m=qa(m[7]||"")):(this.h=!1,this.i=new Ga(null,this.h))}hr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(za(m,Zp,!0),":");var g=this.g;return(g||m=="file")&&(u.push("//"),(m=this.o)&&u.push(za(m,Zp,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(za(g,g.charAt(0)=="/"?Rw:Rs,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",za(g,Xp)),u.join("")};function Wr(u){return new hr(u)}function El(u,m,g){u.j=g?qa(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ds(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Jd(u,m,g){m instanceof Ga?(u.i=m,Mw(u.i,u.h)):(g||(m=za(m,Jp)),u.i=new Ga(m,u.h))}function gt(u,m,g){u.i.set(m,g)}function Cl(u){return gt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function qa(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function za(u,m,g){return typeof u=="string"?(u=encodeURI(u).replace(m,Dw),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Dw(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zp=/[#\/\?@]/g,Rs=/[#\?:]/g,Rw=/[#\?]/g,Jp=/[#\?@]/g,Xp=/#/g;function Ga(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Gi(u){u.g||(u.g=new Map,u.h=0,u.i&&Aw(u.i,function(m,g){u.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=Ga.prototype,t.add=function(u,m){Gi(this),this.i=null,u=Ms(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(m),this.h+=1,this};function em(u,m){Gi(u),m=Ms(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function tm(u,m){return Gi(u),m=Ms(u,m),u.g.has(m)}t.forEach=function(u,m){Gi(this),this.g.forEach(function(g,E){g.forEach(function(U){u.call(m,U,E,this)},this)},this)},t.na=function(){Gi(this);let u=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let E=0;E<m.length;E++){let U=u[E];for(let H=0;H<U.length;H++)g.push(m[E])}return g},t.V=function(u){Gi(this);let m=[];if(typeof u=="string")tm(this,u)&&(m=m.concat(this.g.get(Ms(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)m=m.concat(u[g])}return m},t.set=function(u,m){return Gi(this),this.i=null,u=Ms(this,u),tm(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function nm(u,m,g){em(u,m),0<g.length&&(u.i=null,u.g.set(Ms(u,m),L(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var E=m[g];let H=encodeURIComponent(String(E)),ee=this.V(E);for(E=0;E<ee.length;E++){var U=H;ee[E]!==""&&(U+="="+encodeURIComponent(String(ee[E]))),u.push(U)}}return this.i=u.join("&")};function Ms(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Mw(u,m){m&&!u.j&&(Gi(u),u.i=null,u.g.forEach(function(g,E){var U=E.toLowerCase();E!=U&&(em(this,E),nm(this,U,g))},u)),u.j=m}function Ps(u,m){let g=new ja;if(a.Image){let E=new Image;E.onload=w(Wi,g,"TestLoadImage: loaded",!0,m,E),E.onerror=w(Wi,g,"TestLoadImage: error",!1,m,E),E.onabort=w(Wi,g,"TestLoadImage: abort",!1,m,E),E.ontimeout=w(Wi,g,"TestLoadImage: timeout",!1,m,E),a.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function Pw(u,m){let g=new ja,E=new AbortController,U=setTimeout(()=>{E.abort(),Wi(g,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(H=>{clearTimeout(U),H.ok?Wi(g,"TestPingServer: ok",!0,m):Wi(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Wi(g,"TestPingServer: error",!1,m)})}function Wi(u,m,g,E,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),E(g)}catch{}}function rm(){this.g=new bw}function Nw(u,m,g){let E=g||"";try{Zd(u,function(U,H){let ee=U;l(U)&&(ee=$d(U)),m.push(E+H+"="+encodeURIComponent(ee))})}catch(U){throw m.push(E+"type="+encodeURIComponent("_badmap")),U}}function pr(u){this.l=u.Ub||null,this.j=u.eb||!1}I(pr,_i),pr.prototype.g=function(){return new Il(this.l,this.j)},pr.prototype.i=function(u){return function(){return u}}({});function Il(u,m){Qt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Il,Qt),t=Il.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Wa(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bi(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wa(this)),this.g&&(this.readyState=3,Wa(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xd(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xd(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?bi(this):Wa(this),this.readyState==3&&Xd(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,bi(this))},t.Qa=function(u){this.g&&(this.response=u,bi(this))},t.ga=function(){this.g&&bi(this)};function bi(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Wa(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=m.next();return u.join(`\r
`)};function Wa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Il.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function im(u){let m="";return me(u,function(g,E){m+=E,m+=":",m+=g,m+=`\r
`}),m}function ef(u,m,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=im(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):gt(u,m,g))}function St(u){Qt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(St,Qt);var Ns=/^https?$/i,kw=["POST","PUT"];t=St.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zd.g(),this.v=this.o?Np(this.o):Np(zd),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){om(this,H);return}if(u=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var U in E)g.set(U,E[U]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(let H of E.keys())g.set(H,E.get(H));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(H=>H.toLowerCase()=="content-type"),U=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kw,m,void 0))||E||U||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[H,ee]of g)this.g.setRequestHeader(H,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cm(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){om(this,H)}};function om(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,sm(u),Sl(u)}function sm(u){u.A||(u.A=!0,vn(u,"complete"),vn(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,vn(this,"complete"),vn(this,"abort"),Sl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sl(this,!0)),St.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?am(this):this.bb())},t.bb=function(){am(this)};function am(u){if(u.h&&typeof s<"u"&&(!u.v[1]||Ei(u)!=4||u.Z()!=2)){if(u.u&&Ei(u)==4)Mn(u.Ea,0,u);else if(vn(u,"readystatechange"),Ei(u)==4){u.h=!1;try{let ee=u.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var E;if(E=ee===0){var U=String(u.D).match(Yp)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),E=!Ns.test(U?U.toLowerCase():"")}g=E}if(g)vn(u,"complete"),vn(u,"success");else{u.m=6;try{var H=2<Ei(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",sm(u)}}finally{Sl(u)}}}}function Sl(u,m){if(u.g){cm(u);let g=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||vn(u,"ready");try{g.onreadystatechange=E}catch{}}}function cm(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Ei(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Ei(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ww(m)}};function lm(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ow(u){let m={};u=(u.g&&2<=Ei(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(Q(u[E]))continue;var g=F(u[E]);let U=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let H=m[U]||[];m[U]=H,H.push(g)}k(m,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ka(u,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||m}function Qa(u){this.Aa=0,this.i=[],this.j=new ja,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ka("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ka("baseRetryDelayMs",5e3,u),this.cb=Ka("retryDelaySeedMs",1e4,u),this.Wa=Ka("forwardChannelMaxRetries",2,u),this.wa=Ka("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new qp(u&&u.concurrentRequestLimit),this.Da=new rm,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qa.prototype,t.la=8,t.G=1,t.connect=function(u,m,g,E){cn(0),this.W=u,this.H=m||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=af(this,null,this.W),Al(this)};function xl(u){if(um(u),u.G==3){var m=u.U++,g=Wr(u.I);if(gt(g,"SID",u.K),gt(g,"RID",m),gt(g,"TYPE","terminate"),Oo(u,g),m=new Gr(u,u.j,m),m.L=2,m.v=Cl(Wr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=m.v,g=!0),g||(m.g=cf(m.j,null),m.g.ea(m.v)),m.F=Date.now(),$a(m)}sf(u)}function Tl(u){u.g&&(ks(u),u.g.cancel(),u.g=null)}function um(u){Tl(u),u.u&&(a.clearTimeout(u.u),u.u=null),Za(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Al(u){if(!zp(u.h)&&!u.s){u.s=!0;var m=u.Ga;_s||Ir(),ko||(_s(),ko=!0),ws.add(m,u),u.B=0}}function dm(u,m){return Gp(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ua(y(u.Ga,u,m),of(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let U=new Gr(this,this.j,u),H=this.o;if(this.S&&(H?(H=A(H),N(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=tf(this,U,m),g=Wr(this.I),gt(g,"RID",u),gt(g,"CVER",22),this.D&&gt(g,"X-HTTP-Session-Id",this.D),Oo(this,g),H&&(this.O?m="headers="+encodeURIComponent(String(im(H)))+"&"+m:this.m&&ef(g,this.m,H)),Yd(this.h,U),this.Ua&&gt(g,"TYPE","init"),this.P?(gt(g,"$req",m),gt(g,"SID","null"),U.T=!0,It(U,g,null)):It(U,g,m),this.G=2}}else this.G==3&&(u?fm(this,u):this.i.length==0||zp(this.h)||fm(this))};function fm(u,m){var g;m?g=m.l:g=u.U++;let E=Wr(u.I);gt(E,"SID",u.K),gt(E,"RID",g),gt(E,"AID",u.T),Oo(u,E),u.m&&u.o&&ef(E,u.m,u.o),g=new Gr(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),m&&(u.i=m.D.concat(u.i)),m=tf(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Yd(u.h,g),It(g,E,m)}function Oo(u,m){u.H&&me(u.H,function(g,E){gt(m,E,g)}),u.l&&Zd({},function(g,E){gt(m,E,g)})}function tf(u,m,g){g=Math.min(u.i.length,g);var E=u.l?y(u.l.Na,u.l,u):null;e:{var U=u.i;let H=-1;for(;;){let ee=["count="+g];H==-1?0<g?(H=U[0].g,ee.push("ofs="+H)):H=0:ee.push("ofs="+H);let st=!0;for(let ln=0;ln<g;ln++){let Qe=U[ln].g,_n=U[ln].map;if(Qe-=H,0>Qe)H=Math.max(0,U[ln].g-100),st=!1;else try{Nw(_n,ee,"req"+Qe+"_")}catch{E&&E(_n)}}if(st){E=ee.join("&");break e}}}return u=u.i.splice(0,g),m.D=u,E}function nf(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;_s||Ir(),ko||(_s(),ko=!0),ws.add(m,u),u.v=0}}function Ya(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ua(y(u.Fa,u),of(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,hm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ua(y(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,cn(10),Tl(this),hm(this))};function ks(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function hm(u){u.g=new Gr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Wr(u.qa);gt(m,"RID","rpc"),gt(m,"SID",u.K),gt(m,"AID",u.T),gt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&gt(m,"TO",u.ja),gt(m,"TYPE","xmlhttp"),Oo(u,m),u.m&&u.o&&ef(m,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Cl(Wr(m)),g.m=null,g.P=!0,Up(g,u)}t.Za=function(){this.C!=null&&(this.C=null,Tl(this),Ya(this),cn(19))};function Za(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function rf(u,m){var g=null;if(u.g==m){Za(u),ks(u),u.g=null;var E=2}else if(Qd(u.h,m))g=m.D,Wp(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;E=_l(),vn(E,new Vp(E,g)),Al(u)}else nf(u);else if(U=m.s,U==3||U==0&&0<m.X||!(E==1&&dm(u,m)||E==2&&Ya(u)))switch(g&&0<g.length&&(m=u.h,m.i=m.i.concat(g)),U){case 1:Ki(u,5);break;case 4:Ki(u,10);break;case 3:Ki(u,6);break;default:Ki(u,2)}}}function of(u,m){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*m}function Ki(u,m){if(u.j.info("Error code "+m),m==2){var g=y(u.fb,u),E=u.Xa;let U=!E;E=new hr(E||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||El(E,"https"),Cl(E),U?Ps(E.toString(),g):Pw(E.toString(),g)}else cn(2);u.G=0,u.l&&u.l.sa(m),sf(u),um(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))};function sf(u){if(u.G=0,u.ka=[],u.l){let m=Kp(u.h);(m.length!=0||u.i.length!=0)&&(P(u.ka,m),P(u.ka,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.ra()}}function af(u,m,g){var E=g instanceof hr?Wr(g):new hr(g);if(E.g!="")m&&(E.g=m+"."+E.g),Ds(E,E.s);else{var U=a.location;E=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var H=new hr(null);E&&El(H,E),m&&(H.g=m),U&&Ds(H,U),g&&(H.l=g),E=H}return g=u.D,m=u.ya,g&&m&&gt(E,g,m),gt(E,"VER",u.la),Oo(u,E),E}function cf(u,m,g){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new St(new pr({eb:g})):new St(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lf(){}t=lf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ja(){}Ja.prototype.g=function(u,m){return new Yt(u,m)};function Yt(u,m){Qt.call(this),this.g=new Qa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Q(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Q(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Os(this)}I(Yt,Qt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){xl(this.g)},Yt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=$d(u),u=g);m.i.push(new Hp(m.Ya++,u)),m.G==3&&Al(m)},Yt.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,Yt.aa.N.call(this)};function pm(u){Hd.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(let g in m){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}I(pm,Hd);function mm(){qd.call(this),this.status=1}I(mm,qd);function Os(u){this.g=u}I(Os,lf),Os.prototype.ua=function(){vn(this.g,"a")},Os.prototype.ta=function(u){vn(this.g,new pm(u))},Os.prototype.sa=function(u){vn(this.g,new mm)},Os.prototype.ra=function(){vn(this.g,"b")},Ja.prototype.createWebChannel=Ja.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,TS=as.createWebChannelTransport=function(){return new Ja},xS=as.getStatEventTarget=function(){return _l()},SS=as.Event=wi,Tv=as.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wl.NO_ERROR=0,wl.TIMEOUT=8,wl.HTTP_ERROR=6,Dh=as.ErrorCode=wl,Bp.COMPLETE="complete",IS=as.EventType=Bp,kp.EventType=Va,Va.OPEN="a",Va.CLOSE="b",Va.ERROR="c",Va.MESSAGE="d",Qt.prototype.listen=Qt.prototype.K,Wu=as.WebChannel=kp,qY=as.FetchXmlHttpFactory=pr,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,CS=as.XhrIo=St}).apply(typeof xv<"u"?xv:typeof self<"u"?self:typeof window<"u"?window:{});var uF="@firebase/firestore";var In=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");var fd="10.14.0";var zc=new la("@firebase/firestore");function Rh(){return zc.logLevel}function he(t,...e){if(zc.logLevel<=Ge.DEBUG){let n=e.map(uT);zc.debug(`Firestore (${fd}): ${t}`,...n)}}function ls(t,...e){if(zc.logLevel<=Ge.ERROR){let n=e.map(uT);zc.error(`Firestore (${fd}): ${t}`,...n)}}function ed(t,...e){if(zc.logLevel<=Ge.WARN){let n=e.map(uT);zc.warn(`Firestore (${fd}): ${t}`,...n)}}function uT(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Ie(t="Unexpected state"){let e=`FIRESTORE (${fd}) INTERNAL ASSERTION FAILED: `+t;throw ls(e),new Error(e)}function ht(t,e){t||Ie()}function xe(t,e){return t}var K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ue=class extends Lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var _o=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Pv=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},PS=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(In.UNAUTHENTICATED))}shutdown(){}},NS=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},kS=class{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new _o;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _o,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>_(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _o)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string"),new Pv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string"),new In(e)}},OS=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},FS=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new OS(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}},LS=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},VS=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ht(this.o===void 0);let r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,he("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ht(typeof n.token=="string"),this.R=n.token,new LS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function zY(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Nv=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=zY(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function rt(t,e){return t<e?-1:t>e?1:0}function td(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Nt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Me=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Nt(0,0))}static max(){return new t(new Nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var kv=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(),r===void 0?r=e.length-n:r>e.length-n&&Ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Pt=class t extends kv{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new ue(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},GY=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ur=class t extends kv{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return GY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new ue(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new ue(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ue(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ue(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var we=class t{constructor(e){this.path=e}static fromPath(e){return new t(Pt.fromString(e))}static fromName(e){return new t(Pt.fromString(e).popFirst(5))}static empty(){return new t(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Pt(e.slice()))}};var BS=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};BS.UNKNOWN_ID=-1;function WY(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(r===1e9?new Nt(n+1,0):new Nt(n,r));return new Gc(i,we.empty(),e)}function KY(t){return new Gc(t.readTime,t.key,-1)}var Gc=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Me.min(),we.empty(),-1)}static max(){return new t(Me.max(),we.empty(),-1)}};function QY(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:rt(t.largestBatchId,e.largestBatchId))}var YY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",US=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Qh(t){return _(this,null,function*(){if(t.code!==K.FAILED_PRECONDITION||t.message!==YY)throw t;he("LocalStore","Unexpectedly lost primary lease")})}var X=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(f=>{s[l]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function ZY(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yh(t){return t.name==="IndexedDbTransactionError"}var zF=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function h_(t){return t==null}function Fh(t){return t===0&&1/t==-1/0}function JY(t){return typeof t=="number"&&Number.isInteger(t)&&!Fh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var XY=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Cme=[...XY,"documentOverlays"],eZ=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],tZ=eZ,nZ=[...tZ,"indexConfiguration","indexState","indexEntries"];var Ime=[...nZ,"globals"];function dF(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GF(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Lt=class t{constructor(e,n){this.comparator=e,this.root=n||wo.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wo.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}},Zu=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},wo=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();let e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}};wo.EMPTY=null,wo.RED=!0,wo.BLACK=!1;wo.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,n,r,i,o){return this}insert(e,n,r){return new wo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var zn=class t{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ov(this.data.getIterator())}getIteratorFrom(e){return new Ov(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ov=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var di=class t{constructor(e){this.fields=e,e.sort(Ur.comparator)}static empty(){return new t([])}unionWith(e){let n=new zn(Ur.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return td(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Fv=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Gn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Fv("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Gn.EMPTY_BYTE_STRING=new Gn("");var rZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(t){if(ht(!!t),typeof t=="string"){let e=0,n=rZ.exec(t);if(ht(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function va(t){return typeof t=="string"?Gn.fromBase64String(t):Gn.fromUint8Array(t)}function dT(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fT(t){let e=t.mapValue.fields.__previous_value__;return dT(e)?fT(e):e}function Lh(t){let e=us(t.mapValue.fields.__local_write_time__.timestampValue);return new Nt(e.seconds,e.nanos)}var jS=class{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Lv=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Av={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dT(t)?4:KF(t)?9007199254740991:WF(t)?10:11:Ie()}function Co(t,e){if(t===e)return!0;let n=Wc(t);if(n!==Wc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lh(t).isEqual(Lh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=us(i.timestampValue),a=us(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return va(i.bytesValue).isEqual(va(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Rt(i.geoPointValue.latitude)===Rt(o.geoPointValue.latitude)&&Rt(i.geoPointValue.longitude)===Rt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Rt(i.integerValue)===Rt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Rt(i.doubleValue),a=Rt(o.doubleValue);return s===a?Fh(s)===Fh(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return td(t.arrayValue.values||[],e.arrayValue.values||[],Co);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(dF(s)!==dF(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Co(s[c],a[c])))return!1;return!0}(t,e);default:return Ie()}}function Vh(t,e){return(t.values||[]).find(n=>Co(n,e))!==void 0}function nd(t,e){if(t===e)return 0;let n=Wc(t),r=Wc(e);if(n!==r)return rt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Rt(o.integerValue||o.doubleValue),c=Rt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return fF(t.timestampValue,e.timestampValue);case 4:return fF(Lh(t),Lh(e));case 5:return rt(t.stringValue,e.stringValue);case 6:return function(o,s){let a=va(o),c=va(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let f=rt(a[l],c[l]);if(f!==0)return f}return rt(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=rt(Rt(o.latitude),Rt(s.latitude));return a!==0?a:rt(Rt(o.longitude),Rt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return hF(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,l,f;let h=o.fields||{},y=s.fields||{},w=(a=h.value)===null||a===void 0?void 0:a.arrayValue,I=(c=y.value)===null||c===void 0?void 0:c.arrayValue,L=rt(((l=w?.values)===null||l===void 0?void 0:l.length)||0,((f=I?.values)===null||f===void 0?void 0:f.length)||0);return L!==0?L:hF(w,I)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Av.mapValue&&s===Av.mapValue)return 0;if(o===Av.mapValue)return 1;if(s===Av.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},f=Object.keys(l);c.sort(),f.sort();for(let h=0;h<c.length&&h<f.length;++h){let y=rt(c[h],f[h]);if(y!==0)return y;let w=nd(a[c[h]],l[f[h]]);if(w!==0)return w}return rt(c.length,f.length)}(t.mapValue,e.mapValue);default:throw Ie()}}function fF(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rt(t,e);let n=us(t),r=us(e),i=rt(n.seconds,r.seconds);return i!==0?i:rt(n.nanos,r.nanos)}function hF(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=nd(n[i],r[i]);if(o)return o}return rt(n.length,r.length)}function rd(t){return $S(t)}function $S(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=us(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return va(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return we.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=$S(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${$S(n.fields[s])}`;return i+"}"}(t.mapValue):Ie()}function pF(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function HS(t){return!!t&&"integerValue"in t}function hT(t){return!!t&&"arrayValue"in t}function mF(t){return!!t&&"nullValue"in t}function gF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rv(t){return!!t&&"mapValue"in t}function WF(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ph(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Jc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ph(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ph(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Br=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ph(n)}setAll(e){let n=Ur.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ph(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Rv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Co(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Jc(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Ph(this.value))}};function QF(t){let e=[];return Jc(t.fields,(n,r)=>{let i=new Ur([n]);if(Rv(r)){let o=QF(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new di(e)}var Oi=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Me.min(),Me.min(),Me.min(),Br.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Me.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Me.min(),Me.min(),Br.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Me.min(),Me.min(),Br.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var id=class{constructor(e,n){this.position=e,this.inclusive=n}};function yF(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=we.comparator(we.fromName(s.referenceValue),n.key):r=nd(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function vF(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Co(t.position[n],e.position[n]))return!1;return!0}var Kc=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function iZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Vv=class{},rn=class t extends Vv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zS(e,n,r):n==="array-contains"?new KS(e,r):n==="in"?new QS(e,r):n==="not-in"?new YS(e,r):n==="array-contains-any"?new ZS(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GS(e,r):new WS(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(nd(n,this.value)):n!==null&&Wc(this.value)===Wc(n)&&this.matchesComparison(nd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Fi=class t extends Vv{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return YF(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function YF(t){return t.op==="and"}function ZF(t){return oZ(t)&&YF(t)}function oZ(t){for(let e of t.filters)if(e instanceof Fi)return!1;return!0}function qS(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+rd(t.value);if(ZF(t))return t.filters.map(e=>qS(e)).join(",");{let e=t.filters.map(n=>qS(n)).join(",");return`${t.op}(${e})`}}function JF(t,e){return t instanceof rn?function(r,i){return i instanceof rn&&r.op===i.op&&r.field.isEqual(i.field)&&Co(r.value,i.value)}(t,e):t instanceof Fi?function(r,i){return i instanceof Fi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&JF(s,i.filters[a]),!0):!1}(t,e):void Ie()}function XF(t){return t instanceof rn?function(n){return`${n.field.canonicalString()} ${n.op} ${rd(n.value)}`}(t):t instanceof Fi?function(n){return n.op.toString()+" {"+n.getFilters().map(XF).join(" ,")+"}"}(t):"Filter"}var zS=class extends rn{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){let n=we.comparator(e.key,this.key);return this.matchesComparison(n)}},GS=class extends rn{constructor(e,n){super(e,"in",n),this.keys=e2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},WS=class extends rn{constructor(e,n){super(e,"not-in",n),this.keys=e2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function e2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>we.fromName(r.referenceValue))}var KS=class extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return hT(n)&&Vh(n.arrayValue,this.value)}},QS=class extends rn{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Vh(this.value.arrayValue,n)}},YS=class extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Vh(this.value.arrayValue,n)}},ZS=class extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!hT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vh(this.value.arrayValue,r))}};var JS=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function _F(t,e=null,n=[],r=[],i=null,o=null,s=null){return new JS(t,e,n,r,i,o,s)}function pT(t){let e=xe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),h_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rd(r)).join(",")),e.ue=n}return e.ue}function mT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iZ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vF(t.startAt,e.startAt)&&vF(t.endAt,e.endAt)}function XS(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var _a=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function sZ(t,e,n,r,i,o,s,a){return new _a(t,e,n,r,i,o,s,a)}function gT(t){return new _a(t)}function wF(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function t2(t){return t.collectionGroup!==null}function Nh(t){let e=xe(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new zn(Ur.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Kc(o,r))}),n.has(Ur.keyField().canonicalString())||e.ce.push(new Kc(Ur.keyField(),r))}return e.ce}function bo(t){let e=xe(t);return e.le||(e.le=aZ(e,Nh(t))),e.le}function aZ(t,e){if(t.limitType==="F")return _F(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Kc(i.field,o)});let n=t.endAt?new id(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new id(t.startAt.position,t.startAt.inclusive):null;return _F(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ex(t,e){let n=t.filters.concat([e]);return new _a(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tx(t,e,n){return new _a(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function p_(t,e){return mT(bo(t),bo(e))&&t.limitType===e.limitType}function n2(t){return`${pT(bo(t))}|lt:${t.limitType}`}function Ku(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>XF(i)).join(", ")}]`),h_(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>rd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>rd(i)).join(",")),`Target(${r})`}(bo(t))}; limitType=${t.limitType})`}function m_(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):we.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Nh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=yF(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,Nh(r),i)||r.endAt&&!function(s,a,c){let l=yF(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,Nh(r),i))}(t,e)}function cZ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function r2(t){return(e,n)=>{let r=!1;for(let i of Nh(t)){let o=lZ(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function lZ(t,e,n){let r=t.field.isKeyField()?we.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?nd(c,l):Ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie()}}var wa=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Jc(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return GF(this.inner)}size(){return this.innerSize}};var uZ=new Lt(we.comparator);function ds(){return uZ}var i2=new Lt(we.comparator);function Mh(...t){let e=i2;for(let n of t)e=e.insert(n.key,n);return e}function o2(t){let e=i2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $c(){return kh()}function s2(){return kh()}function kh(){return new wa(t=>t.toString(),(t,e)=>t.isEqual(e))}var dZ=new Lt(we.comparator),fZ=new zn(we.comparator);function We(...t){let e=fZ;for(let n of t)e=e.add(n);return e}var hZ=new zn(rt);function pZ(){return hZ}function yT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(e)?"-0":e}}function a2(t){return{integerValue:""+t}}function mZ(t,e){return JY(e)?a2(e):yT(t,e)}var od=class{constructor(){this._=void 0}};function gZ(t,e,n){return t instanceof sd?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&dT(o)&&(o=fT(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Qc?l2(t,e):t instanceof Yc?u2(t,e):function(i,o){let s=c2(i,o),a=bF(s)+bF(i.Pe);return HS(s)&&HS(i.Pe)?a2(a):yT(i.serializer,a)}(t,e)}function yZ(t,e,n){return t instanceof Qc?l2(t,e):t instanceof Yc?u2(t,e):n}function c2(t,e){return t instanceof ad?function(r){return HS(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var sd=class extends od{},Qc=class extends od{constructor(e){super(),this.elements=e}};function l2(t,e){let n=d2(e);for(let r of t.elements)n.some(i=>Co(i,r))||n.push(r);return{arrayValue:{values:n}}}var Yc=class extends od{constructor(e){super(),this.elements=e}};function u2(t,e){let n=d2(e);for(let r of t.elements)n=n.filter(i=>!Co(i,r));return{arrayValue:{values:n}}}var ad=class extends od{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function bF(t){return Rt(t.integerValue||t.doubleValue)}function d2(t){return hT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function vZ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qc&&i instanceof Qc||r instanceof Yc&&i instanceof Yc?td(r.elements,i.elements,Co):r instanceof ad&&i instanceof ad?Co(r.Pe,i.Pe):r instanceof sd&&i instanceof sd}(t.transform,e.transform)}var nx=class{constructor(e,n){this.version=e,this.transformResults=n}},ga=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Mv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var cd=class{};function f2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bv(t.key,ga.none()):new Zc(t.key,t.data,ga.none());{let n=t.data,r=Br.empty(),i=new zn(Ur.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Io(t.key,r,new di(i.toArray()),ga.none())}}function _Z(t,e,n){t instanceof Zc?function(i,o,s){let a=i.value.clone(),c=CF(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Io?function(i,o,s){if(!Mv(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=CF(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(h2(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Oh(t,e,n,r){return t instanceof Zc?function(o,s,a,c){if(!Mv(o.precondition,s))return a;let l=o.value.clone(),f=IF(o.fieldTransforms,c,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Io?function(o,s,a,c){if(!Mv(o.precondition,s))return a;let l=IF(o.fieldTransforms,c,s),f=s.data;return f.setAll(h2(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return Mv(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function wZ(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=c2(r.transform,i||null);o!=null&&(n===null&&(n=Br.empty()),n.set(r.field,o))}return n||null}function EF(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&td(r,i,(o,s)=>vZ(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Zc=class extends cd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Io=class extends cd{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function h2(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function CF(t,e,n){let r=new Map;ht(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,yZ(s,a,n[i]))}return r}function IF(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,gZ(o,s,e))}return r}var Bv=class extends cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},rx=class extends cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ix=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&_Z(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Oh(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Oh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=s2();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=f2(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),We())}isEqual(e){return this.batchId===e.batchId&&td(this.mutations,e.mutations,(n,r)=>EF(n,r))&&td(this.baseMutations,e.baseMutations,(n,r)=>EF(n,r))}},ox=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ht(e.mutations.length===r.length);let i=function(){return dZ}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var sx=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ax=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var tn,Xe;function bZ(t){switch(t){default:return Ie();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function p2(t){if(t===void 0)return ls("GRPC error has no .code"),K.UNKNOWN;switch(t){case tn.OK:return K.OK;case tn.CANCELLED:return K.CANCELLED;case tn.UNKNOWN:return K.UNKNOWN;case tn.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case tn.INTERNAL:return K.INTERNAL;case tn.UNAVAILABLE:return K.UNAVAILABLE;case tn.UNAUTHENTICATED:return K.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case tn.NOT_FOUND:return K.NOT_FOUND;case tn.ALREADY_EXISTS:return K.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return K.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case tn.ABORTED:return K.ABORTED;case tn.OUT_OF_RANGE:return K.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return K.UNIMPLEMENTED;case tn.DATA_LOSS:return K.DATA_LOSS;default:return Ie()}}(Xe=tn||(tn={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";var SF=null;function EZ(){return new TextEncoder}var CZ=new ma([4294967295,4294967295],0);function xF(t){let e=EZ().encode(t),n=new ES;return n.update(e),new Uint8Array(n.digest())}function TF(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ma([n,r],0),new ma([i,o],0)]}var cx=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hc(`Invalid padding: ${n}`);if(r<0)throw new Hc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ma.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ma.fromNumber(r)));return i.compare(CZ)===1&&(i=new ma([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=xF(e),[r,i]=TF(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=xF(e),[r,i]=TF(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Hc=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Uv=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Bh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Me.min(),i,new Lt(rt),ds(),We())}},Bh=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,We(),We(),We())}};var Ju=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},jv=class{constructor(e,n){this.targetId=e,this.me=n}},$v=class{constructor(e,n,r=Gn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Hv=class{constructor(){this.fe=0,this.ge=DF(),this.pe=Gn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=We(),n=We(),r=We();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ie()}}),new Bh(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=DF()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ht(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},lx=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=ds(),this.qe=AF(),this.Qe=new Lt(rt)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(XS(o))if(r===0){let s=new we(o.path);this.Ue(n,s,Oi.newNoDocument(s,Me.min()))}else ht(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}SF?.et(function(f,h,y,w,I){var L,P,$,Q,ne,de;let Ae={localCacheCount:f,existenceFilterCount:h.count,databaseId:y.database,projectId:y.projectId},me=h.unchangedNames;return me&&(Ae.bloomFilter={applied:I===0,hashCount:(L=me?.hashCount)!==null&&L!==void 0?L:0,bitmapLength:(Q=($=(P=me?.bits)===null||P===void 0?void 0:P.bitmap)===null||$===void 0?void 0:$.length)!==null&&Q!==void 0?Q:0,padding:(de=(ne=me?.bits)===null||ne===void 0?void 0:ne.padding)!==null&&de!==void 0?de:0,mightContain:k=>{var A;return(A=w?.mightContain(k))!==null&&A!==void 0&&A}}),Ae}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=va(r).toUint8Array()}catch(c){if(c instanceof Fv)return ed("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new cx(s,i,o)}catch(c){return ed(c instanceof Hc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&XS(a.target)){let c=new we(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Oi.newNoDocument(c,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=We();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Uv(e,n,this.Qe,this.ke,r);return this.ke=ds(),this.qe=AF(),this.Qe=new Lt(rt),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Hv,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new zn(rt),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Hv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function AF(){return new Lt(we.comparator)}function DF(){return new Lt(we.comparator)}var IZ={asc:"ASCENDING",desc:"DESCENDING"},SZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xZ={and:"AND",or:"OR"},ux=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function dx(t,e){return t.useProto3Json||h_(e)?e:{value:e}}function qv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TZ(t,e){return qv(t,e.toTimestamp())}function Eo(t){return ht(!!t),Me.fromTimestamp(function(n){let r=us(n);return new Nt(r.seconds,r.nanos)}(t))}function vT(t,e){return fx(t,e).canonicalString()}function fx(t,e){let n=function(i){return new Pt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function g2(t){let e=Pt.fromString(t);return ht(b2(e)),e}function hx(t,e){return vT(t.databaseId,e.path)}function AS(t,e){let n=g2(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(v2(n))}function y2(t,e){return vT(t.databaseId,e)}function AZ(t){let e=g2(t);return e.length===4?Pt.emptyPath():v2(e)}function px(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function v2(t){return ht(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function RF(t,e,n){return{name:hx(t,e),fields:n.value.mapValue.fields}}function DZ(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(ht(f===void 0||typeof f=="string"),Gn.fromBase64String(f||"")):(ht(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Gn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let f=l.code===void 0?K.UNKNOWN:p2(l.code);return new ue(f,l.message||"")}(s);n=new $v(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=AS(t,r.document.name),o=Eo(r.document.updateTime),s=r.document.createTime?Eo(r.document.createTime):Me.min(),a=new Br({mapValue:{fields:r.document.fields}}),c=Oi.newFoundDocument(i,o,s,a),l=r.targetIds||[],f=r.removedTargetIds||[];n=new Ju(l,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=AS(t,r.document),o=r.readTime?Eo(r.readTime):Me.min(),s=Oi.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ju([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=AS(t,r.document),o=r.removedTargetIds||[];n=new Ju([],o,i,null)}else{if(!("filter"in e))return Ie();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new ax(i,o),a=r.targetId;n=new jv(a,s)}}return n}function RZ(t,e){let n;if(e instanceof Zc)n={update:RF(t,e.key,e.value)};else if(e instanceof Bv)n={delete:hx(t,e.key)};else if(e instanceof Io)n={update:RF(t,e.key,e.data),updateMask:BZ(e.fieldMask)};else{if(!(e instanceof rx))return Ie();n={verify:hx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof sd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ad)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:TZ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ie()}(t,e.precondition)),n}function MZ(t,e){return t&&t.length>0?(ht(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Eo(i.updateTime):Eo(o);return s.isEqual(Me.min())&&(s=Eo(o)),new nx(s,i.transformResults||[])}(n,e))):[]}function PZ(t,e){return{documents:[y2(t,e.path)]}}function NZ(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=y2(t,i);let o=function(l){if(l.length!==0)return w2(Fi.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(f=>function(y){return{field:Qu(y.field),direction:FZ(y.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=dx(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function kZ(t){let e=AZ(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ht(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(h){let y=_2(h);return y instanceof Fi&&ZF(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(y=>function(I){return new Kc(Yu(I.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(h){let y;return y=typeof h=="object"?h.value:h,h_(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(h){let y=!!h.before,w=h.values||[];return new id(w,y)}(n.startAt));let l=null;return n.endAt&&(l=function(h){let y=!h.before,w=h.values||[];return new id(w,y)}(n.endAt)),sZ(e,i,s,o,a,"F",c,l)}function OZ(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Yu(n.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Yu(n.unaryFilter.field);return rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Yu(n.unaryFilter.field);return rn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Yu(n.unaryFilter.field);return rn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(t):t.fieldFilter!==void 0?function(n){return rn.create(Yu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fi.create(n.compositeFilter.filters.map(r=>_2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie()}}(n.compositeFilter.op))}(t):Ie()}function FZ(t){return IZ[t]}function LZ(t){return SZ[t]}function VZ(t){return xZ[t]}function Qu(t){return{fieldPath:t.canonicalString()}}function Yu(t){return Ur.fromServerFormat(t.fieldPath)}function w2(t){return t instanceof rn?function(n){if(n.op==="=="){if(gF(n.value))return{unaryFilter:{field:Qu(n.field),op:"IS_NAN"}};if(mF(n.value))return{unaryFilter:{field:Qu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gF(n.value))return{unaryFilter:{field:Qu(n.field),op:"IS_NOT_NAN"}};if(mF(n.value))return{unaryFilter:{field:Qu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qu(n.field),op:LZ(n.op),value:n.value}}}(t):t instanceof Fi?function(n){let r=n.getFilters().map(i=>w2(i));return r.length===1?r[0]:{compositeFilter:{op:VZ(n.op),filters:r}}}(t):Ie()}function BZ(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function b2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Uh=class t{constructor(e,n,r,i,o=Me.min(),s=Me.min(),a=Gn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var mx=class{constructor(e){this.ct=e}};function UZ(t){let e=kZ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tx(e,e.limit,"L"):e}var zv=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Rt(e.integerValue));else if("doubleValue"in e){let r=Rt(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Fh(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=us(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(va(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?KF(e)?this.dt(n,Number.MAX_SAFE_INTEGER):WF(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Ie()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Rt(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),we.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};zv.vt=new zv;var gx=class{constructor(){this.un=new yx}addToCollectionParentIndex(e,n){return this.un.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(Gc.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(Gc.min())}updateCollectionGroup(e,n,r){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}},yx=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new zn(Pt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new zn(Pt.comparator)).toArray()}};var xme=new Uint8Array(0);var vo=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};vo.DEFAULT_COLLECTION_PERCENTILE=10,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vo.DEFAULT=new vo(41943040,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vo.DISABLED=new vo(-1,0,0);var jh=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var vx=class{constructor(){this.changes=new wa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Oi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var _x=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var wx=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Oh(r.mutation,i,di.empty(),Nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,n,r=We()){let i=$c();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Mh();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=$c();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,We()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ds(),s=kh(),a=function(){return kh()}();return n.forEach((c,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Io)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),Oh(f.mutation,l,f.mutation.getFieldMask(),Nt.now())):s.set(l.key,di.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var h;return a.set(l,new _x(f,(h=s.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){let r=kh(),i=new Lt((s,a)=>s-a),o=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let f=r.get(c)||di.empty();f=a.applyToLocalView(l,f),r.set(c,f);let h=(i.get(a.batchId)||We()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,f=c.value,h=s2();f.forEach(y=>{if(!o.has(y)){let w=f2(n.get(y),r.get(y));w!==null&&h.set(y,w),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,h))}return X.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return we.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):t2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):X.resolve($c()),a=-1,c=o;return s.next(l=>X.forEach(l,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(f)?X.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{c=c.insert(f,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,We())).next(f=>({batchId:a,changes:o2(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(r=>{let i=Mh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Mh();return this.indexManager.getCollectionParents(e,o).next(a=>X.forEach(a,c=>{let l=function(h,y){return new _a(y,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((h,y)=>{s=s.insert(h,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,Oi.newInvalidDocument(f)))});let a=Mh();return s.forEach((c,l)=>{let f=o.get(c);f!==void 0&&Oh(f.mutation,l,di.empty(),Nt.now()),m_(n,l)&&(a=a.insert(c,l))}),a})}};var bx=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return X.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Eo(i.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:UZ(i.bundledQuery),readTime:Eo(i.readTime)}}(n)),X.resolve()}};var Ex=class{constructor(){this.overlays=new Lt(we.comparator),this.Ir=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){let r=$c();return X.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),X.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),X.resolve()}getOverlaysForCollection(e,n,r){let i=$c(),o=n.length+1,s=new we(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return X.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Lt((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=$c(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=$c(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return X.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new sx(n,r));let o=this.Ir.get(n);o===void 0&&(o=We(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Cx=class{constructor(){this.sessionToken=Gn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}};var $h=class{constructor(){this.Tr=new zn(nn.Er),this.dr=new zn(nn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new nn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new nn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new we(new Pt([])),r=new nn(n,e),i=new nn(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new we(new Pt([])),r=new nn(n,e),i=new nn(n,e+1),o=We();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new nn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},nn=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return we.comparator(e.key,n.key)||rt(e.wr,n.wr)}static Ar(e,n){return rt(e.wr,n.wr)||we.comparator(e.key,n.key)}};var Ix=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new zn(nn.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new ix(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new nn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return X.resolve(s)}lookupMutationBatch(e,n){return X.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new nn(n,0),i=new nn(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zn(rt);return n.forEach(i=>{let o=new nn(i,0),s=new nn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),X.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;we.isDocumentKey(o)||(o=o.child(""));let s=new nn(new we(o),0),a=new zn(rt);return this.br.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.wr)),!0)},s),X.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ht(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return X.forEach(n.mutations,i=>{let o=new nn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new nn(n,0),i=this.br.firstAfterOrEqual(r);return X.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Sx=class{constructor(e){this.Mr=e,this.docs=function(){return new Lt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():Oi.newInvalidDocument(n))}getEntries(e,n){let r=ds();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Oi.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ds(),s=n.path,a=new we(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:f}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||QY(KY(f),r)<=0||(i.has(f.key)||m_(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ie()}Or(e,n){return X.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xx(this)}getSize(e){return X.resolve(this.size)}},xx=class extends vx{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),X.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Tx=class{constructor(e){this.persistence=e,this.Nr=new wa(n=>pT(n),mT),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $h,this.targetCount=0,this.kr=jh.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),X.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new jh(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Kn(n),X.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),X.waitFor(o).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return X.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),X.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),X.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return X.resolve(r)}containsKey(e,n){return X.resolve(this.Br.containsKey(n))}};var Ax=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new zF(0),this.Kr=!1,this.Kr=!0,this.$r=new Cx,this.referenceDelegate=e(this),this.Ur=new Tx(this),this.indexManager=new gx,this.remoteDocumentCache=function(i){return new Sx(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new mx(n),this.Gr=new bx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ex,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Ix(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);let i=new Dx(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return X.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Dx=class extends US{constructor(e){super(),this.currentSequenceNumber=e}},Rx=class t{constructor(e){this.persistence=e,this.Jr=new $h,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Ie()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),X.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),X.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,r=>{let i=we.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return X.or([()=>X.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Mx=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=We(),i=We();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Px=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Nx=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return qk()?8:ZY(En())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Px;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Rh()<=Ge.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ku(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(Rh()<=Ge.DEBUG&&he("QueryEngine","Query:",Ku(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Rh()<=Ge.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ku(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bo(n))):X.resolve())}Yi(e,n){if(wF(n))return X.resolve(null);let r=bo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tx(n,null,"F"),r=bo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=We(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.ts(n,a);return this.ns(n,l,s,c.readTime)?this.Yi(e,tx(n,null,"F")):this.rs(e,l,n,c)}))})))}Zi(e,n,r,i){return wF(n)||i.isEqual(Me.min())?X.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?X.resolve(null):(Rh()<=Ge.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ku(n)),this.rs(e,s,n,WY(i,-1)).next(a=>a))})}ts(e,n){let r=new zn(r2(e));return n.forEach((i,o)=>{m_(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Rh()<=Ge.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ku(n)),this.Ji.getDocumentsMatchingQuery(e,n,Gc.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var kx=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Lt(rt),this._s=new wa(o=>pT(o),mT),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wx(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function jZ(t,e,n,r){return new kx(t,e,n,r)}function E2(t,e){return _(this,null,function*(){let n=xe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=We();for(let l of i){s.push(l.batchId);for(let f of l.mutations)c=c.add(f.key)}for(let l of o){a.push(l.batchId);for(let f of l.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function $Z(t,e){let n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,f){let h=l.batch,y=h.keys(),w=X.resolve();return y.forEach(I=>{w=w.next(()=>f.getEntry(c,I)).next(L=>{let P=l.docVersions.get(I);ht(P!==null),L.version.compareTo(P)<0&&(h.applyToRemoteDocument(L,l),L.isValidDocument()&&(L.setReadTime(l.commitVersion),f.addEntry(L)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=We();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function C2(t){let e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function HZ(t,e){let n=xe(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((f,h)=>{let y=i.get(h);if(!y)return;a.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,h)));let w=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?w=w.withResumeToken(Gn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,r)),i=i.insert(h,w),function(L,P,$){return L.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(y,w,f)&&a.push(n.Ur.updateTargetData(o,w))});let c=ds(),l=We();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(qZ(o,s,e.documentUpdates).next(f=>{c=f.Ps,l=f.Is})),!r.isEqual(Me.min())){let f=n.Ur.getLastRemoteSnapshotVersion(o).next(h=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return X.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.os=i,o))}function qZ(t,e,n){let r=We(),i=We();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ds();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Me.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):he("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function zZ(t,e){let n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function GZ(t,e){let n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,X.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Uh(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Ox(t,e,n){return _(this,null,function*(){let r=xe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Yh(s))throw s;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function MF(t,e,n){let r=xe(t),i=Me.min(),o=We();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,f){let h=xe(c),y=h._s.get(f);return y!==void 0?X.resolve(h.os.get(y)):h.Ur.getTargetData(l,f)}(r,s,bo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Me.min(),n?o:We())).next(a=>(WZ(r,cZ(e),a),{documents:a,Ts:o})))}function WZ(t,e,n){let r=t.us.get(e)||Me.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Gv=class{constructor(){this.activeTargetIds=pZ()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Fx=class{constructor(){this.so=new Gv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Gv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Lx=class{_o(e){}shutdown(){}};var Wv=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Dv=null;function DS(){return Dv===null?Dv=function(){return 268435456+Math.round(2147483648*Math.random())}():Dv++,"0x"+Dv.toString(16)}var KZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Vx=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var qn="WebChannelConnection",Bx=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=DS(),c=this.xo(n,r.toUriEncodedString());he("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,c,l,i).then(f=>(he("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw ed("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",c,"request:",i),f})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fd}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=KZ[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=DS();return new Promise((s,a)=>{let c=new CS;c.setWithCredentials(!0),c.listenOnce(IS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Dh.NO_ERROR:let f=c.getResponseJson();he(qn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Dh.TIMEOUT:he(qn,`RPC '${e}' ${o} timed out`),a(new ue(K.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:let h=c.getStatus();if(he(qn,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);let w=y?.error;if(w&&w.status&&w.message){let I=function(P){let $=P.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf($)>=0?$:K.UNKNOWN}(w.status);a(new ue(I,w.message))}else a(new ue(K.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ue(K.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{he(qn,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);he(qn,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=DS(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=TS(),a=xS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let f=o.join("");he(qn,`Creating RPC '${e}' stream ${i}: ${f}`,c);let h=s.createWebChannel(f,c),y=!1,w=!1,I=new Vx({Io:P=>{w?he(qn,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(y||(he(qn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),y=!0),he(qn,`RPC '${e}' stream ${i} sending:`,P),h.send(P))},To:()=>h.close()}),L=(P,$,Q)=>{P.listen($,ne=>{try{Q(ne)}catch(de){setTimeout(()=>{throw de},0)}})};return L(h,Wu.EventType.OPEN,()=>{w||(he(qn,`RPC '${e}' stream ${i} transport opened.`),I.yo())}),L(h,Wu.EventType.CLOSE,()=>{w||(w=!0,he(qn,`RPC '${e}' stream ${i} transport closed`),I.So())}),L(h,Wu.EventType.ERROR,P=>{w||(w=!0,ed(qn,`RPC '${e}' stream ${i} transport errored:`,P),I.So(new ue(K.UNAVAILABLE,"The operation could not be completed")))}),L(h,Wu.EventType.MESSAGE,P=>{var $;if(!w){let Q=P.data[0];ht(!!Q);let ne=Q,de=ne.error||(($=ne[0])===null||$===void 0?void 0:$.error);if(de){he(qn,`RPC '${e}' stream ${i} received error:`,de);let Ae=de.status,me=function(R){let N=tn[R];if(N!==void 0)return p2(N)}(Ae),k=de.message;me===void 0&&(me=K.INTERNAL,k="Unknown error status: "+Ae+" with message "+de.message),w=!0,I.So(new ue(me,k)),h.close()}else he(qn,`RPC '${e}' stream ${i} received:`,Q),I.bo(Q)}}),L(a,SS.STAT_EVENT,P=>{P.stat===Tv.PROXY?he(qn,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Tv.NOPROXY&&he(qn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.wo()},0),I}};function RS(){return typeof document<"u"?document:null}function g_(t){return new ux(t,!0)}var Kv=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Qv=class{constructor(e,n,r,i,o,s,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Kv(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return _(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return _(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return _(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(ls(n.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new ue(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>_(this,null,function*(){this.state=0,this.start()}))}I_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Ux=class extends Qv{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=DZ(this.serializer,e),r=function(o){if(!("targetChange"in o))return Me.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Me.min():s.readTime?Eo(s.readTime):Me.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=px(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=XS(c)?{documents:PZ(o,c)}:{query:NZ(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=m2(o,s.resumeToken);let l=dx(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Me.min())>0){a.readTime=qv(o,s.snapshotVersion.toTimestamp());let l=dx(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=OZ(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=px(this.serializer),n.removeTarget=e,this.a_(n)}},jx=class extends Qv{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ht(!!e.streamToken),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=MZ(e.writeResults,e.commitTime),r=Eo(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=px(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>RZ(this.serializer,r))};this.a_(n)}};var $x=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ue(K.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,fx(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(K.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,fx(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ue(K.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Hx=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ls(n),this.D_=!1):he("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var qx=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Xc(this)&&(he("RemoteStore","Restarting streams for network reachability change."),yield function(c){return _(this,null,function*(){let l=xe(c);l.L_.add(4),yield Zh(l),l.q_.set("Unknown"),l.L_.delete(4),yield y_(l)})}(this))}))}),this.q_=new Hx(r,i)}};function y_(t){return _(this,null,function*(){if(Xc(t))for(let e of t.B_)yield e(!0)})}function Zh(t){return _(this,null,function*(){for(let e of t.B_)yield e(!1)})}function I2(t,e){let n=xe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ET(n)?bT(n):hd(n).r_()&&wT(n,e))}function _T(t,e){let n=xe(t),r=hd(n);n.N_.delete(e),r.r_()&&S2(n,e),n.N_.size===0&&(r.r_()?r.o_():Xc(n)&&n.q_.set("Unknown"))}function wT(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hd(t).A_(e)}function S2(t,e){t.Q_.xe(e),hd(t).R_(e)}function bT(t){t.Q_=new lx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),hd(t).start(),t.q_.v_()}function ET(t){return Xc(t)&&!hd(t).n_()&&t.N_.size>0}function Xc(t){return xe(t).L_.size===0}function x2(t){t.Q_=void 0}function QZ(t){return _(this,null,function*(){t.q_.set("Online")})}function YZ(t){return _(this,null,function*(){t.N_.forEach((e,n)=>{wT(t,e)})})}function ZZ(t,e){return _(this,null,function*(){x2(t),ET(t)?(t.q_.M_(e),bT(t)):t.q_.set("Unknown")})}function JZ(t,e,n){return _(this,null,function*(){if(t.q_.set("Online"),e instanceof $v&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Yv(t,r)}else if(e instanceof Ju?t.Q_.Ke(e):e instanceof jv?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Me.min()))try{let r=yield C2(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let f=o.N_.get(l);f&&o.N_.set(l,f.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let f=o.N_.get(c);if(!f)return;o.N_.set(c,f.withResumeToken(Gn.EMPTY_BYTE_STRING,f.snapshotVersion)),S2(o,c);let h=new Uh(f.target,c,l,f.sequenceNumber);wT(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){he("RemoteStore","Failed to raise snapshot:",r),yield Yv(t,r)}})}function Yv(t,e,n){return _(this,null,function*(){if(!Yh(e))throw e;t.L_.add(1),yield Zh(t),t.q_.set("Offline"),n||(n=()=>C2(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){he("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield y_(t)}))})}function T2(t,e){return e().catch(n=>Yv(t,n,e))}function v_(t){return _(this,null,function*(){let e=xe(t),n=ba(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;XZ(e);)try{let i=yield zZ(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,eJ(e,i)}catch(i){yield Yv(e,i)}A2(e)&&D2(e)})}function XZ(t){return Xc(t)&&t.O_.length<10}function eJ(t,e){t.O_.push(e);let n=ba(t);n.r_()&&n.V_&&n.m_(e.mutations)}function A2(t){return Xc(t)&&!ba(t).n_()&&t.O_.length>0}function D2(t){ba(t).start()}function tJ(t){return _(this,null,function*(){ba(t).p_()})}function nJ(t){return _(this,null,function*(){let e=ba(t);for(let n of t.O_)e.m_(n.mutations)})}function rJ(t,e,n){return _(this,null,function*(){let r=t.O_.shift(),i=ox.from(r,e,n);yield T2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield v_(t)})}function iJ(t,e){return _(this,null,function*(){e&&ba(t).V_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return bZ(s)&&s!==K.ABORTED}(i.code)){let o=r.O_.shift();ba(r).s_(),yield T2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield v_(r)}})}(t,e)),A2(t)&&D2(t)})}function PF(t,e){return _(this,null,function*(){let n=xe(t);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");let r=Xc(n);n.L_.add(3),yield Zh(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield y_(n)})}function oJ(t,e){return _(this,null,function*(){let n=xe(t);e?(n.L_.delete(2),yield y_(n)):e||(n.L_.add(2),yield Zh(n),n.q_.set("Unknown"))})}function hd(t){return t.K_||(t.K_=function(n,r,i){let o=xe(n);return o.w_(),new Ux(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:QZ.bind(null,t),Ro:YZ.bind(null,t),mo:ZZ.bind(null,t),d_:JZ.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.K_.s_(),ET(t)?bT(t):t.q_.set("Unknown")):(yield t.K_.stop(),x2(t))}))),t.K_}function ba(t){return t.U_||(t.U_=function(n,r,i){let o=xe(n);return o.w_(),new jx(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:tJ.bind(null,t),mo:iJ.bind(null,t),f_:nJ.bind(null,t),g_:rJ.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.U_.s_(),yield v_(t)):(yield t.U_.stop(),t.O_.length>0&&(he("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var zx=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new _o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function CT(t,e){if(ls("AsyncQueue",`${e}: ${t}`),Yh(t))return new ue(K.UNAVAILABLE,`${e}: ${t}`);throw t}var Zv=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=Mh(),this.sortedSet=new Lt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Jv=class{constructor(){this.W_=new Lt(we.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ie():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},ld=class t{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Zv.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&p_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Gx=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Wx=class{constructor(){this.queries=NF(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=xe(n),o=i.queries;i.queries=NF(),o.forEach((s,a)=>{for(let c of a.j_)c.onError(r)})})(this,new ue(K.ABORTED,"Firestore shutting down"))}};function NF(){return new wa(t=>n2(t),p_)}function R2(t,e){return _(this,null,function*(){let n=xe(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Gx,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=CT(s,`Initialization of query '${Ku(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&IT(n)})}function M2(t,e){return _(this,null,function*(){let n=xe(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function sJ(t,e){let n=xe(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&IT(n)}function aJ(t,e,n){let r=xe(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function IT(t){t.Y_.forEach(e=>{e.next()})}var Kx,kF;(kF=Kx||(Kx={})).ea="default",kF.Cache="cache";var Xv=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ld(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ld.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Kx.Cache}};var e_=class{constructor(e){this.key=e}},t_=class{constructor(e){this.key=e}},Qx=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=We(),this.mutatedKeys=We(),this.Aa=r2(e),this.Ra=new Zv(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Jv,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{let y=i.get(f),w=m_(this.query,h)?h:null,I=!!y&&this.mutatedKeys.has(y.key),L=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations),P=!1;y&&w?y.data.isEqual(w.data)?I!==L&&(r.track({type:3,doc:w}),P=!0):this.ga(y,w)||(r.track({type:2,doc:w}),P=!0,(c&&this.Aa(w,c)>0||l&&this.Aa(w,l)<0)&&(a=!0)):!y&&w?(r.track({type:0,doc:w}),P=!0):y&&!w&&(r.track({type:1,doc:y}),P=!0,(c||l)&&(a=!0)),P&&(w?(s=s.add(w),o=L?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((f,h)=>function(w,I){let L=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return L(w)-L(I)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,l=c!==this.Ea;return this.Ea=c,s.length!==0||l?{snapshot:new ld(this.query,e.Ra,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Jv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=We(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new t_(r))}),this.da.forEach(r=>{e.has(r)||n.push(new e_(r))}),n}ba(e){this.Ta=e.Ts,this.da=We();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ld.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Yx=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Zx=class{constructor(e){this.key=e,this.va=!1}},Jx=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new wa(a=>n2(a),p_),this.Ma=new Map,this.xa=new Set,this.Oa=new Lt(we.comparator),this.Na=new Map,this.La=new $h,this.Ba={},this.ka=new Map,this.qa=jh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function cJ(t,e,n=!0){return _(this,null,function*(){let r=L2(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield P2(r,e,n,!0),i})}function lJ(t,e){return _(this,null,function*(){let n=L2(t);yield P2(n,e,!0,!1)})}function P2(t,e,n,r){return _(this,null,function*(){let i=yield GZ(t.localStore,bo(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield uJ(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&I2(t.remoteStore,i),a})}function uJ(t,e,n,r,i){return _(this,null,function*(){t.Ka=(h,y,w)=>function(L,P,$,Q){return _(this,null,function*(){let ne=P.view.ma($);ne.ns&&(ne=yield MF(L.localStore,P.query,!1).then(({documents:k})=>P.view.ma(k,ne)));let de=Q&&Q.targetChanges.get(P.targetId),Ae=Q&&Q.targetMismatches.get(P.targetId)!=null,me=P.view.applyChanges(ne,L.isPrimaryClient,de,Ae);return FF(L,P.targetId,me.wa),me.snapshot})}(t,h,y,w);let o=yield MF(t.localStore,e,!0),s=new Qx(e,o.Ts),a=s.ma(o.documents),c=Bh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,c);FF(t,n,l.wa);let f=new Yx(e,n,s);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function dJ(t,e,n){return _(this,null,function*(){let r=xe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!p_(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ox(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_T(r.remoteStore,i.targetId),Xx(r,i.targetId)}).catch(Qh))):(Xx(r,i.targetId),yield Ox(r.localStore,i.targetId,!0))})}function fJ(t,e){return _(this,null,function*(){let n=xe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_T(n.remoteStore,r.targetId))})}function hJ(t,e,n){return _(this,null,function*(){let r=wJ(t);try{let i=yield function(s,a){let c=xe(s),l=Nt.now(),f=a.reduce((w,I)=>w.add(I.key),We()),h,y;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let I=ds(),L=We();return c.cs.getEntries(w,f).next(P=>{I=P,I.forEach(($,Q)=>{Q.isValidDocument()||(L=L.add($))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,I)).next(P=>{h=P;let $=[];for(let Q of a){let ne=wZ(Q,h.get(Q.key).overlayedDocument);ne!=null&&$.push(new Io(Q.key,ne,QF(ne.value.mapValue),ga.exists(!0)))}return c.mutationQueue.addMutationBatch(w,l,$,a)}).next(P=>{y=P;let $=P.applyToLocalDocumentSet(h,L);return c.documentOverlayCache.saveOverlays(w,P.batchId,$)})}).then(()=>({batchId:y.batchId,changes:o2(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Ba[s.currentUser.toKey()];l||(l=new Lt(rt)),l=l.insert(a,c),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Jh(r,i.changes),yield v_(r.remoteStore)}catch(i){let o=CT(i,"Failed to persist write");n.reject(o)}})}function N2(t,e){return _(this,null,function*(){let n=xe(t);try{let r=yield HZ(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ht(s.va):i.removedDocuments.size>0&&(ht(s.va),s.va=!1))}),yield Jh(n,r,e)}catch(r){yield Qh(r)}})}function OF(t,e,n){let r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=xe(s);c.onlineState=a;let l=!1;c.queries.forEach((f,h)=>{for(let y of h.j_)y.Z_(a)&&(l=!0)}),l&&IT(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function pJ(t,e,n){return _(this,null,function*(){let r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Lt(we.comparator);s=s.insert(o,Oi.newNoDocument(o,Me.min()));let a=We().add(o),c=new Uv(Me.min(),new Map,new Lt(rt),s,a);yield N2(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),ST(r)}else yield Ox(r.localStore,e,!1).then(()=>Xx(r,e,n)).catch(Qh)})}function mJ(t,e){return _(this,null,function*(){let n=xe(t),r=e.batch.batchId;try{let i=yield $Z(n.localStore,e);O2(n,r,null),k2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Jh(n,i)}catch(i){yield Qh(i)}})}function gJ(t,e,n){return _(this,null,function*(){let r=xe(t);try{let i=yield function(s,a){let c=xe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(ht(h!==null),f=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>c.localDocuments.getDocuments(l,f))})}(r.localStore,e);O2(r,e,n),k2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Jh(r,i)}catch(i){yield Qh(i)}})}function k2(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function O2(t,e,n){let r=xe(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Xx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||F2(t,r)})}function F2(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(_T(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),ST(t))}function FF(t,e,n){for(let r of n)r instanceof e_?(t.La.addReference(r.key,e),yJ(t,r)):r instanceof t_?(he("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||F2(t,r.key)):Ie()}function yJ(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(he("SyncEngine","New document in limbo: "+n),t.xa.add(r),ST(t))}function ST(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new we(Pt.fromString(e)),r=t.qa.next();t.Na.set(r,new Zx(n)),t.Oa=t.Oa.insert(n,r),I2(t.remoteStore,new Uh(bo(gT(n.path)),r,"TargetPurposeLimboResolution",zF.oe))}}function Jh(t,e,n){return _(this,null,function*(){let r=xe(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{s.push(r.Ka(c,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let h=l?!l.fromCache:(f=n?.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(l){i.push(l);let h=Mx.Wi(c.targetId,l);o.push(h)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(c,l){return _(this,null,function*(){let f=xe(c);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>X.forEach(l,y=>X.forEach(y.$i,w=>f.persistence.referenceDelegate.addReference(h,y.targetId,w)).next(()=>X.forEach(y.Ui,w=>f.persistence.referenceDelegate.removeReference(h,y.targetId,w)))))}catch(h){if(!Yh(h))throw h;he("LocalStore","Failed to update sequence numbers: "+h)}for(let h of l){let y=h.targetId;if(!h.fromCache){let w=f.os.get(y),I=w.snapshotVersion,L=w.withLastLimboFreeSnapshotVersion(I);f.os=f.os.insert(y,L)}}})}(r.localStore,o))})}function vJ(t,e){return _(this,null,function*(){let n=xe(t);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());let r=yield E2(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new ue(K.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Jh(n,r.hs)}})}function _J(t,e){let n=xe(t),r=n.Na.get(e);if(r&&r.va)return We().add(r.key);{let i=We(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function L2(t){let e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=N2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_J.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pJ.bind(null,e),e.Ca.d_=sJ.bind(null,e.eventManager),e.Ca.$a=aJ.bind(null,e.eventManager),e}function wJ(t){let e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gJ.bind(null,e),e}var LF=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=g_(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return jZ(this.persistence,new Nx,n.initialUser,this.serializer)}Ga(n){return new Ax(Rx.Zr,this.serializer)}Wa(n){return new Fx}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var bJ=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>OF(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vJ.bind(null,this.syncEngine),yield oJ(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Wx}()}createDatastore(n){let r=g_(n.databaseInfo.databaseId),i=function(s){return new Bx(s)}(n.databaseInfo);return function(s,a,c,l){return new $x(s,a,c,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,c){return new qx(i,o,s,a,c)}(this.localStore,this.datastore,n.asyncQueue,r=>OF(this.syncEngine,r,0),function(){return Wv.D()?new Wv:new Lx}())}createSyncEngine(n,r){return function(o,s,a,c,l,f,h){let y=new Jx(o,s,a,c,l,f);return h&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(o){return _(this,null,function*(){let s=xe(o);he("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Zh(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var n_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var eT=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=In.UNAUTHENTICATED,this.clientId=Nv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){he("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(he("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new _o;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=CT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function MS(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield E2(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function VF(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield EJ(t);he("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>PF(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>PF(e.remoteStore,i)),t._onlineComponents=e})}function EJ(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{yield MS(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===K.FAILED_PRECONDITION||i.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ed("Error using user provided cache. Falling back to memory cache: "+n),yield MS(t,new LF)}}else he("FirestoreClient","Using default OfflineComponentProvider"),yield MS(t,new LF);return t._offlineComponents})}function V2(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),yield VF(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),yield VF(t,new bJ))),t._onlineComponents})}function CJ(t){return V2(t).then(e=>e.syncEngine)}function tT(t){return _(this,null,function*(){let e=yield V2(t),n=e.eventManager;return n.onListen=cJ.bind(null,e.syncEngine),n.onUnlisten=dJ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lJ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fJ.bind(null,e.syncEngine),n})}function IJ(t,e,n={}){let r=new _o;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(o,s,a,c,l){let f=new n_({next:y=>{f.Za(),s.enqueueAndForget(()=>M2(o,h)),y.fromCache&&c.source==="server"?l.reject(new ue(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),h=new Xv(a,f,{includeMetadataChanges:!0,_a:!0});return R2(o,h)}(yield tT(t),t.asyncQueue,e,n,r)})),r.promise}function B2(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var BF=new Map;function U2(t,e,n){if(!n)throw new ue(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function SJ(t,e,n,r){if(e===!0&&r===!0)throw new ue(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function UF(t){if(!we.isDocumentKey(t))throw new ue(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jF(t){if(we.isDocumentKey(t))throw new ue(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function __(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie()}function cs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=__(t);throw new ue(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var r_=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ue(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ue(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ue(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ud=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PS;switch(r.type){case"firstParty":return new FS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=BF.get(n);r&&(he("ComponentProvider","Removing Datastore"),BF.delete(n),r.terminate())}(this),Promise.resolve()}};function j2(t,e,n,r={}){var i;let o=(t=cs(t,ud))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ed("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=In.MOCK_USER;else{a=Vk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ue(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new In(l)}t._authCredentials=new NS(new Pv(a,c))}}var Ea=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},wr=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ya=class t extends Ea{constructor(e,n,r){super(e,n,gT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new wr(this.firestore,null,new we(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function $2(t,e,...n){if(t=en(t),U2("collection","path",e),t instanceof ud){let r=Pt.fromString(e,...n);return jF(r),new ya(t,null,r)}{if(!(t instanceof wr||t instanceof ya))throw new ue(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pt.fromString(e,...n));return jF(r),new ya(t.firestore,null,r)}}function xT(t,e,...n){if(t=en(t),arguments.length===1&&(e=Nv.newId()),U2("doc","path",e),t instanceof ud){let r=Pt.fromString(e,...n);return UF(r),new wr(t,null,new we(r))}{if(!(t instanceof wr||t instanceof ya))throw new ue(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pt.fromString(e,...n));return UF(r),new wr(t.firestore,t instanceof ya?t.converter:null,new we(r))}}var i_=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Kv(this,"async_queue_retry"),this.Vu=()=>{let r=RS();r&&he("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=RS();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=RS();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new _o;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return _(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Yh(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ls("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=zx.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Ie()}verifyOperationInProgress(){}wu(){return _(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function $F(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Ca=class extends ud{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new i_,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new i_(e),this._firestoreClient=void 0,yield e}})}};function H2(t,e){let n=typeof t=="object"?t:Bu(),r=typeof t=="string"?t:e||"(default)",i=vh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Lk("firestore");o&&j2(i,...o)}return i}function TT(t){if(t._terminated)throw new ue(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xJ(t),t._firestoreClient}function xJ(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,f){return new jS(a,c,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,B2(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new eT(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(t._componentsProvider))}var Hh=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Gn.fromBase64String(e))}catch(n){throw new ue(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var dd=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var qh=class{constructor(e){this._methodName=e}};var zh=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}};var Gh=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var TJ=/^__.*__$/,nT=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Io(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zc(e,this.data,n,this.fieldTransforms)}},o_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Io(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function q2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}var rT=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return a_(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(q2(this.Cu)&&TJ.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},iT=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||g_(e)}Qu(e,n,r,i=!1){return new rT({Cu:e,methodName:n,qu:r,path:Ur.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function AT(t){let e=t._freezeSettings(),n=g_(t._databaseId);return new iT(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AJ(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);DT("Data must be an object, but it was:",s,r);let a=z2(r,s),c,l;if(o.merge)c=new di(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let h of o.mergeFields){let y=oT(e,h,n);if(!s.contains(y))throw new ue(K.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);W2(f,y)||f.push(y)}c=new di(f),l=s.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=s.fieldTransforms;return new nT(new Br(a),c,l)}var s_=class t extends qh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function DJ(t,e,n,r){let i=t.Qu(1,e,n);DT("Data must be an object, but it was:",i,r);let o=[],s=Br.empty();Jc(r,(c,l)=>{let f=RT(e,c,n);l=en(l);let h=i.Nu(f);if(l instanceof s_)o.push(f);else{let y=Xh(l,h);y!=null&&(o.push(f),s.set(f,y))}});let a=new di(o);return new o_(s,a,i.fieldTransforms)}function RJ(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[oT(e,r,n)],c=[i];if(o.length%2!=0)throw new ue(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push(oT(e,o[y])),c.push(o[y+1]);let l=[],f=Br.empty();for(let y=a.length-1;y>=0;--y)if(!W2(l,a[y])){let w=a[y],I=c[y];I=en(I);let L=s.Nu(w);if(I instanceof s_)l.push(w);else{let P=Xh(I,L);P!=null&&(l.push(w),f.set(w,P))}}let h=new di(l);return new o_(f,h,s.fieldTransforms)}function MJ(t,e,n,r=!1){return Xh(n,t.Qu(r?4:3,e))}function Xh(t,e){if(G2(t=en(t)))return DT("Unsupported field value:",e,t),z2(t,e);if(t instanceof qh)return function(r,i){if(!q2(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=Xh(a,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mZ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Nt.fromDate(r);return{timestampValue:qv(i.serializer,o)}}if(r instanceof Nt){let o=new Nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qv(i.serializer,o)}}if(r instanceof zh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hh)return{bytesValue:m2(i.serializer,r._byteString)};if(r instanceof wr){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:vT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Gh)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return yT(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${__(r)}`)}(t,e)}function z2(t,e){let n={};return GF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jc(t,(r,i)=>{let o=Xh(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function G2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nt||t instanceof zh||t instanceof Hh||t instanceof wr||t instanceof qh||t instanceof Gh)}function DT(t,e,n){if(!G2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=__(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function oT(t,e,n){if((e=en(e))instanceof dd)return e._internalPath;if(typeof e=="string")return RT(t,e);throw a_("Field path arguments must be of type string or ",t,!1,void 0,n)}var PJ=new RegExp("[~\\*/\\[\\]]");function RT(t,e,n){if(e.search(PJ)>=0)throw a_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dd(...e.split("."))._internalPath}catch{throw a_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function a_(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new ue(K.INVALID_ARGUMENT,a+t+c)}function W2(t,e){return t.some(n=>n.isEqual(e))}var c_=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new sT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(w_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},sT=class extends c_{data(){return super.data()}};function w_(t,e){return typeof e=="string"?RT(t,e):e instanceof dd?e._internalPath:e._delegate._internalPath}function K2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wh=class{},l_=class extends Wh{};function Q2(t,e,...n){let r=[];e instanceof Wh&&r.push(e),r=r.concat(n),function(o){let s=o.filter(c=>c instanceof aT).length,a=o.filter(c=>c instanceof u_).length;if(s>1||s>0&&a>0)throw new ue(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var u_=class t extends l_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return J2(e._query,n),new Ea(e.firestore,e.converter,ex(e._query,n))}_parse(e){let n=AT(e.firestore);return function(o,s,a,c,l,f,h){let y;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ue(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){qF(h,f);let w=[];for(let I of h)w.push(HF(c,o,I));y={arrayValue:{values:w}}}else y=HF(c,o,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||qF(h,f),y=MJ(a,s,h,f==="in"||f==="not-in");return rn.create(l,f,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function Y2(t,e,n){let r=e,i=w_("where",t);return u_._create(i,r,n)}var aT=class t extends Wh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fi.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)J2(s,c),s=ex(s,c)}(e._query,n),new Ea(e.firestore,e.converter,ex(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var cT=class t extends l_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new ue(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ue(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kc(o,s)}(e._query,this._field,this._direction);return new Ea(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new _a(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function Z2(t,e="asc"){let n=e,r=w_("orderBy",t);return cT._create(r,n)}function HF(t,e,n){if(typeof(n=en(n))=="string"){if(n==="")throw new ue(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t2(e)&&n.indexOf("/")!==-1)throw new ue(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Pt.fromString(n));if(!we.isDocumentKey(r))throw new ue(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pF(t,new we(r))}if(n instanceof wr)return pF(t,n._key);throw new ue(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__(n)}.`)}function qF(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function J2(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var lT=class{convertValue(e,n="none"){switch(Wc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Jc(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Rt(s.doubleValue));return new Gh(o)}convertGeoPoint(e){return new zh(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=fT(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lh(e));default:return null}}convertTimestamp(e){let n=us(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Pt.fromString(e);ht(b2(r));let i=new Lv(r.get(1),r.get(3)),o=new we(r.popFirst(5));return i.isEqual(n)||ls(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function NJ(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var qc=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},d_=class extends c_{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(w_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Xu=class extends d_{data(e={}){return super.data(e)}},f_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xu(this._firestore,this._userDataWriter,r.key,r,new qc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new Xu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Xu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:kJ(a.type),doc:c,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function kJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}var Kh=class extends lT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hh(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new wr(this.firestore,null,n)}};function X2(t){t=cs(t,Ea);let e=cs(t.firestore,Ca),n=TT(e),r=new Kh(e);return K2(t._query),IJ(n,t._query).then(i=>new f_(e,r,t,i))}function eL(t,e,n,...r){t=cs(t,wr);let i=cs(t.firestore,Ca),o=AT(i),s;return s=typeof(e=en(e))=="string"||e instanceof dd?RJ(o,"updateDoc",t._key,e,n,r):DJ(o,"updateDoc",t._key,e),nL(i,[s.toMutation(t._key,ga.exists(!0))])}function tL(t,e){let n=cs(t.firestore,Ca),r=xT(t),i=NJ(t.converter,e);return nL(n,[AJ(AT(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ga.exists(!1))]).then(()=>r)}function MT(t,...e){var n,r,i;t=en(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||$F(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if($F(e[s])){let h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let c,l,f;if(t instanceof wr)l=cs(t.firestore,Ca),f=gT(t._key.path),c={next:h=>{e[s]&&e[s](OJ(l,t,h))},error:e[s+1],complete:e[s+2]};else{let h=cs(t,Ea);l=cs(h.firestore,Ca),f=h._query;let y=new Kh(l);c={next:w=>{e[s]&&e[s](new f_(l,y,h,w))},error:e[s+1],complete:e[s+2]},K2(t._query)}return function(y,w,I,L){let P=new n_(L),$=new Xv(w,P,I);return y.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return R2(yield tT(y),$)})),()=>{P.Za(),y.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return M2(yield tT(y),$)}))}}(TT(l),f,a,c)}function nL(t,e){return function(r,i){let o=new _o;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return hJ(yield CJ(r),i,o)})),o.promise}(TT(t),e)}function OJ(t,e,n){let r=n.docs.get(e._key),i=new Kh(t);return new d_(t,i,e._key,r,new qc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){fd=i})(fa),da(new ui("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ca(new kS(r.getProvider("auth-internal")),new VS(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ue(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lv(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),mn(uF,"4.7.3",e),mn(uF,"4.7.3","esm2017")})();var b_=function(){return b_=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},b_.apply(this,arguments)};var VJ={includeMetadataChanges:!1};function rL(t,e){return e===void 0&&(e=VJ),new He(function(n){var r=MT(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function iL(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:b_(b_({},r),(n={},n[e.idField]=t.id,n))}function oL(t){return rL(t,{includeMetadataChanges:!0}).pipe(Oe(function(e){return e.docs}))}function sL(t,e){return e===void 0&&(e={}),oL(t).pipe(Oe(function(n){return n.map(function(r){return iL(r,e)})}))}var Ht=class{constructor(e){return e}},aL="firestore",PT=class{constructor(){return _h(aL)}};var NT=new ve("angularfire2.firestore-instances");function BJ(t,e){let n=ov(aL,t,e);return n&&new Ht(n)}function UJ(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ht(r)}}var jJ={provide:PT,deps:[[new nr,NT]]},$J={provide:Ht,useFactory:BJ,deps:[[new nr,NT],ts]};function cL(t,...e){return mn("angularfire",Fc.full,"fst"),so([$J,jJ,{provide:NT,useFactory:UJ(t),multi:!0,deps:[pt,_r,$u,Lc,[new nr,Ah],[new nr,ju],...e]}])}var el=Cn(sL,!0);var Ia=Cn(tL,!0);var qt=Cn($2,!0);var ep=Cn(xT,!0);var pd=Cn(X2,!0);var lL=Cn(H2,!0);var E_=Cn(Z2,!0);var jr=Cn(Q2,!0);var tl=Cn(eL,!0);var So=Cn(Y2,!0);var HD=tc(tp());var uL=t=>{let e=t.httpHandler;return{setHttpHandler(n){e=n},httpHandler(){return e},updateHttpClientConfig(n,r){e.updateHttpClientConfig(n,r)},httpHandlerConfigs(){return e.httpHandlerConfigs()}}},dL=t=>({httpHandler:t.httpHandler()});var np=function(t){return t.HTTP="http",t.HTTPS="https",t}(np||{});var rp=function(t){return t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256",t}(rp||{});var md="__smithy_context";var Fe=class t{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let n=new t(z(x({},e),{headers:x({},e.headers)}));return n.query&&(n.query=HJ(n.query)),n}static isInstance(e){if(!e)return!1;let n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){return t.clone(this)}};function HJ(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return z(x({},e),{[n]:Array.isArray(r)?[...r]:r})},{})}var br=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let n=e;return typeof n.statusCode=="number"&&typeof n.headers=="object"}};function qJ(t){return e=>n=>_(this,null,function*(){let{request:r}=n;return Fe.isInstance(r)&&r.body&&t.runtime==="node"&&t.requestHandler?.constructor?.name!=="FetchHttpHandler"&&(r.headers=z(x({},r.headers),{Expect:"100-continue"})),e(z(x({},n),{request:r}))})}var zJ={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},fL=t=>({applyToStack:e=>{e.add(qJ(t),zJ)}});var OT={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},FT=OT.WHEN_SUPPORTED;var LT=OT.WHEN_SUPPORTED,Tt=function(t){return t.MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.SHA1="SHA1",t.SHA256="SHA256",t}(Tt||{});var hL=Tt.MD5,pL=Tt.CRC32;function mL(t,e,n){return t.$source||(t.$source={}),t.$source[e]=n,t}function Sn(t,e,n){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=n}var VT=t=>br.isInstance(t)?t.headers?.date??t.headers?.Date:void 0;var gd=t=>new Date(Date.now()+t);var gL=(t,e)=>Math.abs(gd(e).getTime()-t)>=3e5;var BT=(t,e)=>{let n=Date.parse(t);return gL(n,e)?n-Date.now():e};var ip=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},C_=t=>_(void 0,null,function*(){let e=ip("context",t.context),n=ip("config",t.config),r=e.endpointV2?.properties?.authSchemes?.[0],o=yield ip("signer",n.signer)(r),s=t?.signingRegion,a=t?.signingRegionSet,c=t?.signingName;return{config:n,signer:o,signingRegion:s,signingRegionSet:a,signingName:c}}),nl=class{sign(e,n,r){return _(this,null,function*(){if(!Fe.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let i=yield C_(r),{config:o,signer:s}=i,{signingRegion:a,signingName:c}=i,l=r.context;if(l?.authSchemes?.length??!1){let[h,y]=l.authSchemes;h?.name==="sigv4a"&&y?.name==="sigv4"&&(a=y?.signingRegion??a,c=y?.signingName??c)}return yield s.sign(e,{signingDate:gd(o.systemClockOffset),signingRegion:a,signingService:c})})}errorHandler(e){return n=>{let r=n.ServerTime??VT(n.$response);if(r){let i=ip("config",e.config),o=i.systemClockOffset;i.systemClockOffset=BT(r,i.systemClockOffset),i.systemClockOffset!==o&&n.$metadata&&(n.$metadata.clockSkewCorrected=!0)}throw n}}successHandler(e,n){let r=VT(e);if(r){let i=ip("config",n.config);i.systemClockOffset=BT(r,i.systemClockOffset)}}};var op=class extends nl{sign(e,n,r){return _(this,null,function*(){if(!Fe.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:i,signer:o,signingRegion:s,signingRegionSet:a,signingName:c}=yield C_(r),f=((yield i.sigv4aSigningRegionSet?.())??a??[s]).join(",");return yield o.sign(e,{signingDate:gd(i.systemClockOffset),signingRegion:f,signingService:c})})}};var Li=t=>t[md]||(t[md]={});var kn=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};function KJ(t){let e=new Map;for(let n of t)e.set(n.schemeId,n);return e}var UT=(t,e)=>(n,r)=>i=>_(void 0,null,function*(){let o=t.httpAuthSchemeProvider(yield e.httpAuthSchemeParametersProvider(t,r,i.input)),s=KJ(t.httpAuthSchemes),a=Li(r),c=[];for(let l of o){let f=s.get(l.schemeId);if(!f){c.push(`HttpAuthScheme \`${l.schemeId}\` was not enabled for this service.`);continue}let h=f.identityProvider(yield e.identityProviderConfigProvider(t));if(!h){c.push(`HttpAuthScheme \`${l.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:y={},signingProperties:w={}}=l.propertiesExtractor?.(t,r)||{};l.identityProperties=Object.assign(l.identityProperties||{},y),l.signingProperties=Object.assign(l.signingProperties||{},w),a.selectedHttpAuthScheme={httpAuthOption:l,identity:yield h(l.identityProperties),signer:f.signer};break}if(!a.selectedHttpAuthScheme)throw new Error(c.join(`
`));return n(i)});var QJ={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},yL=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n})=>({applyToStack:r=>{r.addRelativeTo(UT(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n}),QJ)}});var vL=(t,e)=>n=>r=>_(void 0,null,function*(){let{response:i}=yield n(r);try{let o=yield e(i,t);return{response:i,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:i}),!("$metadata"in o)){let s="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";o.message+=`
  `+s,typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText)}throw o}});var _L=(t,e)=>(n,r)=>i=>_(void 0,null,function*(){let o=r.endpointV2?.url&&t.urlParser?()=>_(void 0,null,function*(){return t.urlParser(r.endpointV2.url)}):t.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let s=yield e(i.input,z(x({},t),{endpoint:o}));return n(z(x({},i),{request:s}))});var YJ={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},sp={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function I_(t,e,n){return{applyToStack:r=>{r.add(vL(t,n),YJ),r.add(_L(t,e),sp)}}}var G_e={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:sp.name};var ZJ=t=>e=>{throw e},JJ=(t,e)=>{},wL=t=>(e,n)=>r=>_(void 0,null,function*(){if(!Fe.isInstance(r.request))return e(r);let o=Li(n).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:s={}},identity:a,signer:c}=o,l=yield e(z(x({},r),{request:yield c.sign(r.request,a,s)})).catch((c.errorHandler||ZJ)(s));return(c.successHandler||JJ)(l.response,s),l});var jT={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},bL=t=>({applyToStack:e=>{e.addRelativeTo(wL(t),jT)}});var fs=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};var hs={},rl=new Array(64);for(let t=0,e=65,n=90;t+e<=n;t++){let r=String.fromCharCode(t+e);hs[r]=t,rl[t]=r}for(let t=0,e=97,n=122;t+e<=n;t++){let r=String.fromCharCode(t+e),i=t+26;hs[r]=i,rl[i]=r}for(let t=0;t<10;t++){hs[t.toString(10)]=t+52;let e=t.toString(10),n=t+52;hs[e]=n,rl[n]=e}hs["+"]=62;rl[62]="+";hs["/"]=63;rl[63]="/";var xa=6,il=8,EL=63;var yd=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;let n=new ArrayBuffer(e),r=new DataView(n);for(let i=0;i<t.length;i+=4){let o=0,s=0;for(let l=i,f=i+3;l<=f;l++)if(t[l]!=="="){if(!(t[l]in hs))throw new TypeError(`Invalid character ${t[l]} in base64 string.`);o|=hs[t[l]]<<(f-l)*xa,s+=xa}else o>>=xa;let a=i/4*3;o>>=s%il;let c=Math.floor(s/il);for(let l=0;l<c;l++){let f=(c-l-1)*il;r.setUint8(a+l,(o&255<<f)>>f)}}return new Uint8Array(n)};var $r=t=>new TextEncoder().encode(t);var To=t=>typeof t=="string"?$r(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t);var vd=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)};function ol(t){let e;typeof t=="string"?e=$r(t):e=t;let n=typeof e=="object"&&typeof e.length=="number",r=typeof e=="object"&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let o=0;o<e.length;o+=3){let s=0,a=0;for(let l=o,f=Math.min(o+3,e.length);l<f;l++)s|=e[l]<<(f-l-1)*il,a+=il;let c=Math.ceil(a/xa);s<<=c*xa-a;for(let l=1;l<=c;l++){let f=(c-l)*xa;i+=rl[(s&EL<<f)>>f]}i+="==".slice(0,4-c)}return i}function CL(t,e="utf-8"){return e==="base64"?ol(t):vd(t)}function IL(t,e){return e==="base64"?ps.mutate(yd(t)):ps.mutate($r(t))}var ps=class t extends Uint8Array{static fromString(e,n="utf-8"){switch(typeof e){case"string":return IL(e,n);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,t.prototype),e}transformToString(e="utf-8"){return CL(this,e)}};var SL=(t,e)=>{let{base64Encoder:n,bodyLengthChecker:r,checksumAlgorithmFn:i,checksumLocationName:o,streamHasher:s}=e,a=n!==void 0&&r!==void 0&&i!==void 0&&o!==void 0&&s!==void 0,c=a?s(i,t):void 0,l=t.getReader();return new ReadableStream({pull(h){return _(this,null,function*(){let{value:y,done:w}=yield l.read();if(w){if(h.enqueue(`0\r
`),a){let I=n(yield c);h.enqueue(`${o}:${I}\r
`),h.enqueue(`\r
`)}h.close()}else h.enqueue(`${(r(y)||0).toString(16)}\r
${y}\r
`)})}})};var Vi=t=>encodeURIComponent(t).replace(/[!'()*]/g,XJ),XJ=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function $T(t){let e=[];for(let n of Object.keys(t).sort()){let r=t[n];if(n=Vi(n),Array.isArray(r))for(let i=0,o=r.length;i<o;i++)e.push(`${n}=${Vi(r[i])}`);else{let i=n;(r||typeof r=="string")&&(i+=`=${Vi(r)}`),e.push(i)}}return e.join("&")}var xL=t=>_(void 0,null,function*(){return typeof Blob=="function"&&t instanceof Blob?new Uint8Array(yield t.arrayBuffer()):eX(t)});function eX(t){return _(this,null,function*(){let e=[],n=t.getReader(),r=!1,i=0;for(;!r;){let{done:a,value:c}=yield n.read();c&&(e.push(c),i+=c.length),r=a}let o=new Uint8Array(i),s=0;for(let a of e)o.set(a,s),s+=a.length;return o})}var TL={},HT={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),TL[t]=e,HT[e]=t}function S_(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){let r=t.slice(n,n+2).toLowerCase();if(r in HT)e[n/2]=HT[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return e}function zt(t){let e="";for(let n=0;n<t.byteLength;n++)e+=TL[t[n]];return e}var x_=t=>typeof ReadableStream=="function"&&(t?.constructor?.name===ReadableStream.name||t instanceof ReadableStream);var AL="The stream has already been transformed.",RL=t=>{if(!DL(t)&&!x_(t)){let i=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let e=!1,n=()=>_(void 0,null,function*(){if(e)throw new Error(AL);return e=!0,yield xL(t)}),r=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(t,{transformToByteArray:n,transformToString:i=>_(void 0,null,function*(){let o=yield n();if(i==="base64")return ol(o);if(i==="hex")return zt(o);if(i===void 0||i==="utf8"||i==="utf-8")return vd(o);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")}),transformToWebStream:()=>{if(e)throw new Error(AL);if(e=!0,DL(t))return r(t);if(x_(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},DL=t=>typeof Blob=="function"&&t instanceof Blob;function ML(t){return _(this,null,function*(){return typeof t.stream=="function"&&(t=t.stream()),t.tee()})}function PL(t,e){return _(this,null,function*(){let n=0,r=[],i=t.getReader(),o=!1;for(;!o;){let{done:c,value:l}=yield i.read();if(l&&(r.push(l),n+=l?.byteLength??0),n>=e)break;o=c}i.releaseLock();let s=new Uint8Array(Math.min(e,n)),a=0;for(let c of r){if(c.byteLength>s.byteLength-a){s.set(c.subarray(0,s.byteLength-a),a);break}else s.set(c,a);a+=c.length}return s})}var ap=(...n)=>_(void 0,[...n],function*(t=new Uint8Array,e){if(t instanceof Uint8Array)return ps.mutate(t);if(!t)return ps.mutate(new Uint8Array);let r=e.streamCollector(t);return ps.mutate(yield r)});function T_(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function A_(t,e){return new qT(t,e)}var qT=class{constructor(e,n){this.input=e,this.context=n,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}build(){return _(this,null,function*(){let{hostname:e,protocol:n="https",port:r,path:i}=yield this.context.endpoint();this.path=i;for(let o of this.resolvePathStack)o(this.path);return new Fe({protocol:n,hostname:this.hostname||e,port:r,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(n=>{this.path=`${n?.endsWith("/")?n.slice(0,-1):n||""}`+e}),this}p(e,n,r,i){return this.resolvePathStack.push(o=>{this.path=zT(o,this.input,e,n,r,i)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}};var zT=(t,e,n,r,i,o)=>{if(e!=null&&e[n]!==void 0){let s=r();if(s.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");t=t.replace(i,o?s.split("/").map(a=>T_(a)).join("/"):T_(s))}else throw new Error("No value provided for input HTTP label: "+n+".");return t};function NL(t,e,n){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=n}var D_=class{constructor(e){this.authSchemes=new Map;for(let[n,r]of Object.entries(e))r!==void 0&&this.authSchemes.set(n,r)}getIdentityProvider(e){return this.authSchemes.get(e)}};var tX=t=>e=>GT(e)&&e.expiration.getTime()-Date.now()<t;var kL=tX(3e5),GT=t=>t.expiration!==void 0,OL=(t,e,n)=>{if(t===void 0)return;let r=typeof t!="function"?()=>_(void 0,null,function*(){return Promise.resolve(t)}):t,i,o,s,a=!1,c=l=>_(void 0,null,function*(){o||(o=r(l));try{i=yield o,s=!0,a=!1}finally{o=void 0}return i});return e===void 0?l=>_(void 0,null,function*(){return(!s||l?.forceRefresh)&&(i=yield c(l)),i}):l=>_(void 0,null,function*(){return(!s||l?.forceRefresh)&&(i=yield c(l)),a?i:n(i)?(e(i)&&(yield c(l)),i):(a=!0,i)})};var FL=(t,e,n)=>{let r,i,o,s=!1,a=()=>_(void 0,null,function*(){i||(i=t());try{r=yield i,o=!0,s=!1}finally{i=void 0}return r});return e===void 0?c=>_(void 0,null,function*(){return(!o||c?.forceRefresh)&&(r=yield a()),r}):c=>_(void 0,null,function*(){return(!o||c?.forceRefresh)&&(r=yield a()),s?r:n&&!n(r)?(s=!0,r):(e(r)&&(yield a()),r)})};var LL=t=>(t.sigv4aSigningRegionSet=fs(t.sigv4aSigningRegionSet),t);var VL="X-Amz-Algorithm",BL="X-Amz-Credential",KT="X-Amz-Date",UL="X-Amz-SignedHeaders",jL="X-Amz-Expires",QT="X-Amz-Signature",YT="X-Amz-Security-Token";var ZT="authorization",JT=KT.toLowerCase(),nX="date",$L=[ZT,JT,nX],HL=QT.toLowerCase(),cp="x-amz-content-sha256",qL=YT.toLowerCase();var zL={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},GL=/^proxy-/,WL=/^sec-/;var R_="AWS4-HMAC-SHA256";var KL="AWS4-HMAC-SHA256-PAYLOAD",QL="UNSIGNED-PAYLOAD",YL=50,XT="aws4_request",ZL=60*60*24*7;var M_={},eA=[],P_=(t,e,n)=>`${t}/${e}/${n}/${XT}`,XL=(t,e,n,r,i)=>_(void 0,null,function*(){let o=yield JL(t,e.secretAccessKey,e.accessKeyId),s=`${n}:${r}:${i}:${zt(o)}:${e.sessionToken}`;if(s in M_)return M_[s];for(eA.push(s);eA.length>YL;)delete M_[eA.shift()];let a=`AWS4${e.secretAccessKey}`;for(let c of[n,r,i,XT])a=yield JL(t,a,c);return M_[s]=a});var JL=(t,e,n)=>{let r=new t(e);return r.update(To(n)),r.digest()};var N_=({headers:t},e,n)=>{let r={};for(let i of Object.keys(t).sort()){if(t[i]==null)continue;let o=i.toLowerCase();(o in zL||e?.has(o)||GL.test(o)||WL.test(o))&&(!n||n&&!n.has(o))||(r[o]=t[i].trim().replace(/\s+/g," "))}return r};var tA=({query:t={}})=>{let e=[],n={};for(let r of Object.keys(t)){if(r.toLowerCase()===HL)continue;let i=Vi(r);e.push(i);let o=t[r];typeof o=="string"?n[i]=`${i}=${Vi(o)}`:Array.isArray(o)&&(n[i]=o.slice(0).reduce((s,a)=>s.concat([`${i}=${Vi(a)}`]),[]).sort().join("&"))}return e.sort().map(r=>n[r]).filter(r=>r).join("&")};var k_=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]";var lp=(r,i)=>_(void 0,[r,i],function*({headers:t,body:e},n){for(let o of Object.keys(t))if(o.toLowerCase()===cp)return t[o];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||k_(e)){let o=new n;return o.update(To(e)),zt(yield o.digest())}return QL});var O_=class{format(e){let n=[];for(let o of Object.keys(e)){let s=$r(o);n.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let r=new Uint8Array(n.reduce((o,s)=>o+s.byteLength,0)),i=0;for(let o of n)r.set(o,i),i+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let a=$r(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(nA.fromNumber(e.value.valueOf()).bytes,1),f;case"uuid":if(!rX.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let h=new Uint8Array(17);return h[0]=9,h.set(S_(e.value.replace(/\-/g,"")),1),h}}};var rX=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,nA=class t{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let n=new Uint8Array(8);for(let r=7,i=Math.abs(Math.round(e));r>-1&&i>0;r--,i/=256)n[r]=i;return e<0&&eV(n),new t(n)}valueOf(){let e=this.bytes.slice(0),n=e[0]&128;return n&&eV(e),parseInt(zt(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function eV(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var tV=(t,e)=>{t=t.toLowerCase();for(let n of Object.keys(e))if(t===n.toLowerCase())return!0;return!1};var rA=(t,e={})=>{let{headers:n,query:r={}}=Fe.clone(t);for(let i of Object.keys(n)){let o=i.toLowerCase();(o.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(o)||e.hoistableHeaders?.has(o))&&(r[i]=n[i],delete n[i])}return z(x({},t),{headers:n,query:r})};var F_=t=>{t=Fe.clone(t);for(let e of Object.keys(t.headers))$L.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t};var nV=t=>iX(t).toISOString().replace(/\.\d{3}Z$/,"Z"),iX=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;var sl=class{constructor({applyChecksum:e,credentials:n,region:r,service:i,sha256:o,uriEscapePath:s=!0}){this.headerFormatter=new O_,this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=kn(r),this.credentialProvider=kn(n)}presign(r){return _(this,arguments,function*(e,n={}){let{signingDate:i=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:a,signableHeaders:c,hoistableHeaders:l,signingRegion:f,signingService:h}=n,y=yield this.credentialProvider();this.validateResolvedCredentials(y);let w=f??(yield this.regionProvider()),{longDate:I,shortDate:L}=L_(i);if(o>ZL)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let P=P_(L,w,h??this.service),$=rA(F_(e),{unhoistableHeaders:a,hoistableHeaders:l});y.sessionToken&&($.query[YT]=y.sessionToken),$.query[VL]=R_,$.query[BL]=`${y.accessKeyId}/${P}`,$.query[KT]=I,$.query[jL]=o.toString(10);let Q=N_($,s,c);return $.query[UL]=rV(Q),$.query[QT]=yield this.getSignature(I,P,this.getSigningKey(y,w,L,h),this.createCanonicalRequest($,Q,yield lp(e,this.sha256))),$})}sign(e,n){return _(this,null,function*(){return typeof e=="string"?this.signString(e,n):e.headers&&e.payload?this.signEvent(e,n):e.message?this.signMessage(e,n):this.signRequest(e,n)})}signEvent(a,c){return _(this,arguments,function*({headers:e,payload:n},{signingDate:r=new Date,priorSignature:i,signingRegion:o,signingService:s}){let l=o??(yield this.regionProvider()),{shortDate:f,longDate:h}=L_(r),y=P_(f,l,s??this.service),w=yield lp({headers:{},body:n},this.sha256),I=new this.sha256;I.update(e);let L=zt(yield I.digest()),P=[KL,h,y,i,L,w].join(`
`);return this.signString(P,{signingDate:r,signingRegion:l,signingService:s})})}signMessage(o,s){return _(this,arguments,function*(e,{signingDate:n=new Date,signingRegion:r,signingService:i}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:n,signingRegion:r,signingService:i,priorSignature:e.priorSignature}).then(c=>({message:e.message,signature:c}))})}signString(o){return _(this,arguments,function*(e,{signingDate:n=new Date,signingRegion:r,signingService:i}={}){let s=yield this.credentialProvider();this.validateResolvedCredentials(s);let a=r??(yield this.regionProvider()),{shortDate:c}=L_(n),l=new this.sha256(yield this.getSigningKey(s,a,c,i));return l.update(To(e)),zt(yield l.digest())})}signRequest(a){return _(this,arguments,function*(e,{signingDate:n=new Date,signableHeaders:r,unsignableHeaders:i,signingRegion:o,signingService:s}={}){let c=yield this.credentialProvider();this.validateResolvedCredentials(c);let l=o??(yield this.regionProvider()),f=F_(e),{longDate:h,shortDate:y}=L_(n),w=P_(y,l,s??this.service);f.headers[JT]=h,c.sessionToken&&(f.headers[qL]=c.sessionToken);let I=yield lp(f,this.sha256);!tV(cp,f.headers)&&this.applyChecksum&&(f.headers[cp]=I);let L=N_(f,i,r),P=yield this.getSignature(h,w,this.getSigningKey(c,l,y,s),this.createCanonicalRequest(f,L,I));return f.headers[ZT]=`${R_} Credential=${c.accessKeyId}/${w}, SignedHeaders=${rV(L)}, Signature=${P}`,f})}createCanonicalRequest(e,n,r){let i=Object.keys(n).sort();return`${e.method}
${this.getCanonicalPath(e)}
${tA(e)}
${i.map(o=>`${o}:${n[o]}`).join(`
`)}

${i.join(";")}
${r}`}createStringToSign(e,n,r){return _(this,null,function*(){let i=new this.sha256;i.update(To(r));let o=yield i.digest();return`${R_}
${e}
${n}
${zt(o)}`})}getCanonicalPath({path:e}){if(this.uriEscapePath){let n=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?n.pop():n.push(o));let r=`${e?.startsWith("/")?"/":""}${n.join("/")}${n.length>0&&e?.endsWith("/")?"/":""}`;return Vi(r).replace(/%2F/g,"/")}return e}getSignature(e,n,r,i){return _(this,null,function*(){let o=yield this.createStringToSign(e,n,i),s=new this.sha256(yield r);return s.update(To(o)),zt(yield s.digest())})}getSigningKey(e,n,r,i){return XL(this.sha256,e,r,n,i||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},L_=t=>{let e=nV(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},rV=t=>Object.keys(t).sort().join(";");var iV=t=>{let e=!1,n;t.credentials&&(e=!0,n=OL(t.credentials,kL,GT)),n||(t.credentialDefaultProvider?n=fs(t.credentialDefaultProvider(Object.assign({},t,{parentClientConfig:t}))):n=()=>_(void 0,null,function*(){throw new Error("`credentials` is missing")}));let{signingEscapePath:r=!0,systemClockOffset:i=t.systemClockOffset||0,sha256:o}=t,s;return t.signer?s=fs(t.signer):t.regionInfoProvider?s=()=>fs(t.region)().then(a=>_(void 0,null,function*(){return[(yield t.regionInfoProvider(a,{useFipsEndpoint:yield t.useFipsEndpoint(),useDualstackEndpoint:yield t.useDualstackEndpoint()}))||{},a]})).then(([a,c])=>{let{signingRegion:l,signingService:f}=a;t.signingRegion=t.signingRegion||l||c,t.signingName=t.signingName||f||t.serviceId;let h=z(x({},t),{credentials:n,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:r}),y=t.signerConstructor||sl;return new y(h)}):s=a=>_(void 0,null,function*(){a=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:yield fs(t.region)(),properties:{}},a);let c=a.signingRegion,l=a.signingName;t.signingRegion=t.signingRegion||c,t.signingName=t.signingName||l||t.serviceId;let f=z(x({},t),{credentials:n,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:r}),h=t.signerConstructor||sl;return new h(f)}),z(x({},t),{systemClockOffset:i,signingEscapePath:r,credentials:e?()=>_(void 0,null,function*(){return n().then(a=>mL(a,"CREDENTIALS_CODE","e"))}):n,signer:s})};var al=(t,e)=>{let n=[];if(t&&n.push(t),e)for(let r of e)n.push(r);return n},Ta=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,_d=()=>{let t=[],e=[],n=!1,r=new Set,i=h=>h.sort((y,w)=>oV[w.step]-oV[y.step]||sV[w.priority||"normal"]-sV[y.priority||"normal"]),o=h=>{let y=!1,w=I=>{let L=al(I.name,I.aliases);if(L.includes(h)){y=!0;for(let P of L)r.delete(P);return!1}return!0};return t=t.filter(w),e=e.filter(w),y},s=h=>{let y=!1,w=I=>{if(I.middleware===h){y=!0;for(let L of al(I.name,I.aliases))r.delete(L);return!1}return!0};return t=t.filter(w),e=e.filter(w),y},a=h=>(t.forEach(y=>{h.add(y.middleware,x({},y))}),e.forEach(y=>{h.addRelativeTo(y.middleware,x({},y))}),h.identifyOnResolve?.(f.identifyOnResolve()),h),c=h=>{let y=[];return h.before.forEach(w=>{w.before.length===0&&w.after.length===0?y.push(w):y.push(...c(w))}),y.push(h),h.after.reverse().forEach(w=>{w.before.length===0&&w.after.length===0?y.push(w):y.push(...c(w))}),y},l=(h=!1)=>{let y=[],w=[],I={};return t.forEach(P=>{let $=z(x({},P),{before:[],after:[]});for(let Q of al($.name,$.aliases))I[Q]=$;y.push($)}),e.forEach(P=>{let $=z(x({},P),{before:[],after:[]});for(let Q of al($.name,$.aliases))I[Q]=$;w.push($)}),w.forEach(P=>{if(P.toMiddleware){let $=I[P.toMiddleware];if($===void 0){if(h)return;throw new Error(`${P.toMiddleware} is not found when adding ${Ta(P.name,P.aliases)} middleware ${P.relation} ${P.toMiddleware}`)}P.relation==="after"&&$.after.push(P),P.relation==="before"&&$.before.push(P)}}),i(y).map(c).reduce((P,$)=>(P.push(...$),P),[])},f={add:(h,y={})=>{let{name:w,override:I,aliases:L}=y,P=x({step:"initialize",priority:"normal",middleware:h},y),$=al(w,L);if($.length>0){if($.some(Q=>r.has(Q))){if(!I)throw new Error(`Duplicate middleware name '${Ta(w,L)}'`);for(let Q of $){let ne=t.findIndex(Ae=>Ae.name===Q||Ae.aliases?.some(me=>me===Q));if(ne===-1)continue;let de=t[ne];if(de.step!==P.step||P.priority!==de.priority)throw new Error(`"${Ta(de.name,de.aliases)}" middleware with ${de.priority} priority in ${de.step} step cannot be overridden by "${Ta(w,L)}" middleware with ${P.priority} priority in ${P.step} step.`);t.splice(ne,1)}}for(let Q of $)r.add(Q)}t.push(P)},addRelativeTo:(h,y)=>{let{name:w,override:I,aliases:L}=y,P=x({middleware:h},y),$=al(w,L);if($.length>0){if($.some(Q=>r.has(Q))){if(!I)throw new Error(`Duplicate middleware name '${Ta(w,L)}'`);for(let Q of $){let ne=e.findIndex(Ae=>Ae.name===Q||Ae.aliases?.some(me=>me===Q));if(ne===-1)continue;let de=e[ne];if(de.toMiddleware!==P.toMiddleware||de.relation!==P.relation)throw new Error(`"${Ta(de.name,de.aliases)}" middleware ${de.relation} "${de.toMiddleware}" middleware cannot be overridden by "${Ta(w,L)}" middleware ${P.relation} "${P.toMiddleware}" middleware.`);e.splice(ne,1)}}for(let Q of $)r.add(Q)}e.push(P)},clone:()=>a(_d()),use:h=>{h.applyToStack(f)},remove:h=>typeof h=="string"?o(h):s(h),removeByTag:h=>{let y=!1,w=I=>{let{tags:L,name:P,aliases:$}=I;if(L&&L.includes(h)){let Q=al(P,$);for(let ne of Q)r.delete(ne);return y=!0,!1}return!0};return t=t.filter(w),e=e.filter(w),y},concat:h=>{let y=a(_d());return y.use(h),y.identifyOnResolve(n||y.identifyOnResolve()||(h.identifyOnResolve?.()??!1)),y},applyToStack:a,identify:()=>l(!0).map(h=>{let y=h.step??h.relation+" "+h.toMiddleware;return Ta(h.name,h.aliases)+" - "+y}),identifyOnResolve(h){return typeof h=="boolean"&&(n=h),n},resolve:(h,y)=>{for(let w of l().map(I=>I.middleware).reverse())h=w(h,y);return n&&console.log(f.identify()),h}};return f},oV={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},sV={high:3,normal:2,low:1};var V_=class{constructor(e){this.config=e,this.middlewareStack=_d()}send(e,n,r){let i=typeof n!="function"?n:void 0,o=typeof n=="function"?n:r,s=i===void 0&&this.config.cacheMiddleware===!0,a;if(s){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(e.constructor)?a=c.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,i),c.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,i);if(o)a(e).then(c=>o(null,c.output),c=>o(c)).catch(()=>{});else return a(e).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}};var cl=class{constructor(){this.middlewareStack=_d()}static classBuilder(){return new iA}resolveMiddlewareWithContext(e,n,r,{middlewareFn:i,clientName:o,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:f,CommandCtor:h}){for(let P of i.bind(this)(h,e,n,r))this.middlewareStack.use(P);let y=e.concat(this.middlewareStack),{logger:w}=n,I=x({logger:w,clientName:o,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[md]:x({commandInstance:this},l)},f),{requestHandler:L}=n;return y.resolve(P=>L.handle(P.request,r||{}),I)}},iA=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,n,r={}){return this._smithyContext=x({service:e,operation:n},r),this}c(e={}){return this._additionalContext=e,this}n(e,n){return this._clientName=e,this._commandName=n,this}f(e=r=>r,n=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=n,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){let e=this,n;return n=class extends cl{static getEndpointParameterInstructions(){return e._ep}constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this)}resolveMiddleware(r,i,o){return this.resolveMiddlewareWithContext(r,i,o,{CommandCtor:n,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}};var Hr="***SensitiveInformation***";var oA=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}};var oX=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&gV.warn(mV(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},sX=Math.ceil(34028234663852886e22),aV=t=>{let e=oX(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>sX)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},aX=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}};var cV=t=>uV(t,16),lV=t=>uV(t,8),uV=(t,e)=>{let n=aX(t);if(n!==void 0&&cX(n,e)!==n)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return n},cX=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},sA=(t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t},dV=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;let e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},wd=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return gV.warn(mV(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}};var fV=t=>aV(typeof t=="string"?aA(t):t),lX=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,aA=t=>{let e=t.match(lX);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)};var hV=t=>cV(typeof t=="string"?aA(t):t),pV=t=>lV(typeof t=="string"?aA(t):t),mV=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),gV={warn:console.warn};var uX=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],yV=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function vV(t){let e=t.getUTCFullYear(),n=t.getUTCMonth(),r=t.getUTCDay(),i=t.getUTCDate(),o=t.getUTCHours(),s=t.getUTCMinutes(),a=t.getUTCSeconds(),c=i<10?`0${i}`:`${i}`,l=o<10?`0${o}`:`${o}`,f=s<10?`0${s}`:`${s}`,h=a<10?`0${a}`:`${a}`;return`${uX[r]}, ${c} ${yV[n]} ${e} ${l}:${f}:${h} GMT`}var CCe=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var dX=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),_V=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=dX.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[n,r,i,o,s,a,c,l,f]=e,h=hV(wV(r)),y=up(i,"month",1,12),w=up(o,"day",1,31),I=fX(h,y,w,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l});return f.toUpperCase()!="Z"&&I.setTime(I.getTime()-yX(f)),I},ICe=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),SCe=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),xCe=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/);var fX=(t,e,n,r)=>{let i=e-1;return pX(t,i,n),new Date(Date.UTC(t,i,n,up(r.hours,"hour",0,23),up(r.minutes,"minute",0,59),up(r.seconds,"seconds",0,60),gX(r.fractionalMilliseconds)))};var TCe=50*365*24*60*60*1e3;var hX=[31,28,31,30,31,30,31,31,30,31,30,31],pX=(t,e,n)=>{let r=hX[e];if(e===1&&mX(t)&&(r=29),n>r)throw new TypeError(`Invalid day for ${yV[e]} in ${t}: ${n}`)},mX=t=>t%4===0&&(t%100!==0||t%400===0),up=(t,e,n,r)=>{let i=pV(wV(t));if(i<n||i>r)throw new TypeError(`${e} must be between ${n} and ${r}, inclusive`);return i},gX=t=>t==null?0:fV("0."+t)*1e3,yX=t=>{let e=t[0],n=1;if(e=="+")n=1;else if(e=="-")n=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let r=Number(t.substring(1,3)),i=Number(t.substring(4,6));return n*(r*60+i)*60*1e3},wV=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)};var B_=class t extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,t.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}},fi=(t,e={})=>{Object.entries(e).filter(([,r])=>r!==void 0).forEach(([r,i])=>{(t[r]==null||t[r]==="")&&(t[r]=i)});let n=t.message||t.Message||"UnknownError";return t.message=n,delete t.Message,t};var vX=({output:t,parsedBody:e,exceptionCtor:n,errorCode:r})=>{let i=_X(t),o=i.httpStatusCode?i.httpStatusCode+"":void 0,s=new n({name:e?.code||e?.Code||r||o||"UnknownError",$fault:"client",$metadata:i});throw fi(s,e)},bV=t=>({output:e,parsedBody:n,errorCode:r})=>{vX({output:e,parsedBody:n,exceptionCtor:t,errorCode:r})},_X=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]});var EV=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};var CV=t=>{let e=[];for(let n in rp){let r=rp[n];t[r]!==void 0&&e.push({algorithmId:()=>r,checksumConstructor:()=>t[r]})}return{_checksumAlgorithms:e,addChecksumAlgorithm(n){this._checksumAlgorithms.push(n)},checksumAlgorithms(){return this._checksumAlgorithms}}},IV=t=>{let e={};return t.checksumAlgorithms().forEach(n=>{e[n.algorithmId()]=n.checksumConstructor()}),e};var SV=t=>{let e=t.retryStrategy;return{setRetryStrategy(n){e=n},retryStrategy(){return e}}},xV=t=>{let e={};return e.retryStrategy=t.retryStrategy(),e};var TV=t=>x(x({},CV(t)),SV(t));var AV=t=>x(x({},IV(t)),xV(t));var cA=t=>{let e="#text";for(let n in t)t.hasOwnProperty(n)&&t[n][e]!==void 0?t[n]=t[n][e]:typeof t[n]=="object"&&t[n]!==null&&(t[n]=cA(t[n]));return t};var Aa=t=>t!=null;var lA=function(){let t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),n=new e;return Object.setPrototypeOf(n,t.prototype),n};lA.prototype=Object.create(String.prototype,{constructor:{value:lA,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(lA,String);var Da=class{trace(){}debug(){}info(){}warn(){}error(){}};function On(t,e,n){let r,i,o;if(typeof e>"u"&&typeof n>"u")r={},o=t;else{if(r=t,typeof e=="function")return i=e,o=n,wX(r,i,o);o=e}for(let s of Object.keys(o)){if(!Array.isArray(o[s])){r[s]=o[s];continue}bX(r,null,o,s)}return r}var wX=(t,e,n)=>On(t,Object.entries(n).reduce((r,[i,o])=>(Array.isArray(o)?r[i]=o:typeof o=="function"?r[i]=[e,o()]:r[i]=[e,o],r),{})),bX=(t,e,n,r)=>{if(e!==null){let s=n[r];typeof s=="function"&&(s=[,s]);let[a=EX,c=CX,l=r]=s;(typeof a=="function"&&a(e[l])||typeof a!="function"&&a)&&(t[r]=c(e[l]));return}let[i,o]=n[r];if(typeof o=="function"){let s,a=i===void 0&&(s=o())!=null,c=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;a?t[r]=s:c&&(t[r]=o())}else{let s=i===void 0&&o!=null,a=typeof i=="function"&&!!i(o)||typeof i!="function"&&!!i;(s||a)&&(t[r]=o)}},EX=t=>t!=null,CX=t=>t;var DV=t=>t.toISOString().replace(".000Z","Z");var RV=(t,e)=>ap(t,e).then(n=>e.utf8Encoder(n));var lB=tc(cB());var vA=(t,e)=>RV(t,e).then(n=>{if(n.length){let r=new lB.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let i;try{i=r.parse(n,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:n}),c}let o="#text",s=Object.keys(i)[0],a=i[s];return a[o]&&(a[s]=a[o],delete a[o]),cA(a)}return{}}),uB=(t,e)=>_(void 0,null,function*(){let n=yield vA(t,e);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n}),dB=(t,e)=>{if(e?.Error?.Code!==void 0)return e.Error.Code;if(e?.Code!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"};var hp=[Tt.CRC32,Tt.CRC32C,Tt.SHA1,Tt.SHA256],fB=[Tt.SHA256,Tt.SHA1,Tt.CRC32,Tt.CRC32C];var hB=(t,{requestChecksumRequired:e,requestAlgorithmMember:n},r)=>{let i=r?pL:hL;if(!n||!t[n])return e?i:void 0;let o=t[n];if(!hp.includes(o))throw new Error(`The checksum algorithm "${o}" is not supported by the client. Select one of ${hp}.`);return o};var bd=t=>t===Tt.MD5?"content-md5":`x-amz-checksum-${t.toLowerCase()}`;var pB=(t,e)=>{let n=t.toLowerCase();for(let r of Object.keys(e))if(n===r.toLowerCase())return!0;return!1};var Ed=t=>t!==void 0&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!k_(t);var _A=t=>new TextEncoder().encode(t);var Pee=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:_A;function lr(t){return t instanceof Uint8Array?t:typeof t=="string"?Pee(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function Ao(t){return typeof t=="string"?t.length===0:t.byteLength===0}function pp(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}function mp(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),n=0;n<t.length;)e[n]=t[n],n+=1;return e}return Uint32Array.from(t)}var wA=function(){function t(){this.crc32=new ul}return t.prototype.update=function(e){Ao(e)||this.crc32.update(lr(e))},t.prototype.digest=function(){return Ls(this,void 0,void 0,function(){return $l(this,function(e){return[2,pp(this.crc32.digest())]})})},t.prototype.reset=function(){this.crc32=new ul},t}();var ul=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var n,r;try{for(var i=jl(e),o=i.next();!o.done;o=i.next()){var s=o.value;this.checksum=this.checksum>>>8^kee[(this.checksum^s)&255]}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();var Nee=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],kee=mp(Nee);var EA=function(){function t(){this.crc32c=new bA}return t.prototype.update=function(e){Ao(e)||this.crc32c.update(lr(e))},t.prototype.digest=function(){return Ls(this,void 0,void 0,function(){return $l(this,function(e){return[2,pp(this.crc32c.digest())]})})},t.prototype.reset=function(){this.crc32c=new bA},t}();var bA=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var n,r;try{for(var i=jl(e),o=i.next();!o.done;o=i.next()){var s=o.value;this.checksum=this.checksum>>>8^Fee[(this.checksum^s)&255]}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();var Oee=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],Fee=mp(Oee);var j_=(t,e)=>({[Tt.MD5]:e.md5,[Tt.CRC32]:wA,[Tt.CRC32C]:EA,[Tt.SHA1]:e.sha1,[Tt.SHA256]:e.sha256})[t];var $_=(t,e)=>{let n=new t;return n.update(To(e||"")),n.digest()};var mB={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},gB=(t,e)=>(n,r)=>i=>_(void 0,null,function*(){if(!Fe.isInstance(i.request))return n(i);let{request:o}=i,{body:s,headers:a}=o,{base64Encoder:c,streamHasher:l}=t,{input:f,requestChecksumRequired:h,requestAlgorithmMember:y}=e,w=hB(f,{requestChecksumRequired:h,requestAlgorithmMember:y},!!r.isS3ExpressBucket),I=s,L=a;if(w){switch(w){case Tt.CRC32:Sn(r,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case Tt.CRC32C:Sn(r,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case Tt.SHA1:Sn(r,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case Tt.SHA256:Sn(r,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}let $=bd(w),Q=j_(w,t);if(Ed(s)){let{getAwsChunkedEncodingStream:ne,bodyLengthChecker:de}=t;I=ne(s,{base64Encoder:c,bodyLengthChecker:de,checksumLocationName:$,checksumAlgorithmFn:Q,streamHasher:l}),L=z(x({},a),{"content-encoding":a["content-encoding"]?`${a["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":a["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":$}),delete L["content-length"]}else if(!pB($,a)){let ne=yield $_(Q,s);L=z(x({},a),{[$]:c(ne)})}}return yield n(z(x({},i),{request:z(x({},o),{headers:L,body:I})}))});var H_=(t=[])=>{let e=[];for(let n of fB)!t.includes(n)||!hp.includes(n)||e.push(n);return e};var yB=t=>{let e=t.lastIndexOf("-");if(e!==-1){let n=t.slice(e+1);if(!n.startsWith("0")){let r=parseInt(n,10);if(!isNaN(r)&&r>=1&&r<=1e4)return!0}}return!1};function CA(t){return new Blob([t]).stream()}var vB=(i,o)=>_(void 0,[i,o],function*(t,{streamHasher:e,checksumAlgorithmFn:n,base64Encoder:r}){let s=Ed(t)?e(n,t):$_(n,t);return r(yield s)});var _B=(r,i)=>_(void 0,[r,i],function*(t,{config:e,responseAlgorithms:n}){let o=H_(n),{body:s,headers:a}=t;for(let c of o){let l=bd(c),f=a[l];if(f){let h=j_(c,e),{streamHasher:y,base64Encoder:w}=e,I=yield vB(s,{streamHasher:y,checksumAlgorithmFn:h,base64Encoder:w});if(I===f)break;throw new Error(`Checksum mismatch: expected "${I}" but received "${f}" in response header "${l}".`)}}});var wB={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},bB=(t,e)=>(n,r)=>i=>_(void 0,null,function*(){if(!Fe.isInstance(i.request))return n(i);let o=i.input,s=yield n(i),a=s.response,c,{requestValidationModeMember:l,responseAlgorithms:f}=e;if(l&&o[l]==="ENABLED"){let{clientName:h,commandName:y}=r;if(h==="S3Client"&&y==="GetObjectCommand"&&H_(f).every(L=>{let P=bd(L),$=a.headers[P];return!$||yB($)}))return s;let I=Ed(a.body);I&&(c=yield t.streamCollector(a.body),a.body=CA(c)),yield _B(s.response,{config:t,responseAlgorithms:f}),I&&c&&(a.body=CA(c))}return s});var EB=(t,e)=>({applyToStack:n=>{n.add(gB(t,e),mB),n.addRelativeTo(bB(t,e),wB)}});var CB=t=>z(x({},t),{requestChecksumCalculation:kn(t.requestChecksumCalculation??FT),responseChecksumValidation:kn(t.responseChecksumValidation??LT)});var Lee=t=>e=>n=>_(void 0,null,function*(){if(!Fe.isInstance(n.request))return e(n);let{request:r}=n,{handlerProtocol:i=""}=t.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let o=r.hostname;r.port!=null&&(o+=`:${r.port}`),r.headers.host=o}return e(n)}),Vee={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},IB=t=>({applyToStack:e=>{e.add(Lee(t),Vee)}});var Bee=()=>(t,e)=>n=>_(void 0,null,function*(){try{let i=yield t(n),{clientName:o,commandName:s,logger:a,dynamoDbDocumentClientOptions:c={}}=e,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:f}=c,h=l??e.inputFilterSensitiveLog,y=f??e.outputFilterSensitiveLog,r=i.output,{$metadata:w}=r,I=ec(r,["$metadata"]);return a?.info?.({clientName:o,commandName:s,input:h(n.input),output:y(I),metadata:w}),i}catch(i){let{clientName:o,commandName:s,logger:a,dynamoDbDocumentClientOptions:c={}}=e,{overrideInputFilterSensitiveLog:l}=c,f=l??e.inputFilterSensitiveLog;throw a?.error?.({clientName:o,commandName:s,input:f(n.input),error:i,metadata:i.$metadata}),i}}),Uee={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},SB=t=>({applyToStack:e=>{e.add(Bee(),Uee)}});var xB="X-Amzn-Trace-Id",jee="AWS_LAMBDA_FUNCTION_NAME",$ee="_X_AMZN_TRACE_ID",Hee=t=>e=>n=>_(void 0,null,function*(){let{request:r}=n;if(!Fe.isInstance(r)||t.runtime!=="node"||r.headers.hasOwnProperty(xB))return e(n);let i=process.env[jee],o=process.env[$ee],s=a=>typeof a=="string"&&a.length>0;return s(i)&&s(o)&&(r.headers[xB]=o),e(z(x({},n),{request:r}))}),qee={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},TB=t=>({applyToStack:e=>{e.add(Hee(t),qee)}});var zee="content-length";function Gee(){return(t,e)=>n=>_(this,null,function*(){let{request:r}=n;if(Fe.isInstance(r)&&!(zee in r.headers)){let i="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof e?.logger?.warn=="function"&&!(e.logger instanceof Da)?e.logger.warn(i):console.warn(i)}return t(x({},n))})}var Wee={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},AB=t=>({applyToStack:e=>{e.add(Gee(),Wee)}});var DB=t=>(e,n)=>r=>_(void 0,null,function*(){let i=yield t.region(),o=t.region,s=()=>{};n.__s3RegionRedirect&&(Object.defineProperty(t,"region",{writable:!1,value:()=>_(void 0,null,function*(){return n.__s3RegionRedirect})}),s=()=>Object.defineProperty(t,"region",{writable:!0,value:o}));try{let a=yield e(r);if(n.__s3RegionRedirect){s();let c=yield t.region();if(i!==c)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw s(),a}}),RB={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function Kee(t){return(e,n)=>r=>_(this,null,function*(){try{return yield e(r)}catch(i){if(t.followRegionRedirects&&(i?.$metadata?.httpStatusCode===301||i?.$metadata?.httpStatusCode===400&&i?.name==="IllegalLocationConstraintException")){try{let o=i.$response.headers["x-amz-bucket-region"];n.logger?.debug(`Redirecting from ${yield t.region()} to ${o}`),n.__s3RegionRedirect=o}catch(o){throw new Error("Region redirect failed: "+o)}return e(r)}throw i}})}var Qee={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},MB=t=>({applyToStack:e=>{e.add(Kee(t),Qee),e.addRelativeTo(DB(t),RB)}});var IA=(()=>{class t{constructor(n={}){this.data=n,this.lastPurgeTime=Date.now()}get(n){let r=this.data[n];if(r)return r}set(n,r){return this.data[n]=r,r}delete(n){delete this.data[n]}purgeExpired(){return _(this,null,function*(){let n=Date.now();if(!(this.lastPurgeTime+t.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>n))for(let r in this.data){let i=this.data[r];if(!i.isRefreshing){let o=yield i.identity;o.expiration&&o.expiration.getTime()<n&&delete this.data[r]}}})}}return t.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4,t})();var dl=class{constructor(e,n=!1,r=Date.now()){this._identity=e,this.isRefreshing=n,this.accessed=r}get identity(){return this.accessed=Date.now(),this._identity}};var SA=(()=>{class t{constructor(n,r=new IA){this.createSessionFn=n,this.cache=r}getS3ExpressIdentity(n,r){return _(this,null,function*(){let i=r.Bucket,{cache:o}=this,s=o.get(i);return s?s.identity.then(a=>(a.expiration?.getTime()??0)<Date.now()?o.set(i,new dl(this.getIdentity(i))).identity:((a.expiration?.getTime()??0)<Date.now()+t.REFRESH_WINDOW_MS&&!s.isRefreshing&&(s.isRefreshing=!0,this.getIdentity(i).then(f=>{o.set(i,new dl(Promise.resolve(f)))})),a)):o.set(i,new dl(this.getIdentity(i))).identity})}getIdentity(n){return _(this,null,function*(){yield this.cache.purgeExpired().catch(o=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+o)});let r=yield this.createSessionFn(n);if(!r.Credentials?.AccessKeyId||!r.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}})}}return t.REFRESH_WINDOW_MS=6e4,t})();var kB="Directory",OB="S3Express",FB="sigv4-s3express",q_="X-Amz-S3session-Token",gp=q_.toLowerCase();var yp=class extends sl{signWithCredentials(e,n,r){return _(this,null,function*(){let i=LB(n);e.headers[gp]=n.sessionToken;let o=this;return VB(o,i),o.signRequest(e,r??{})})}presignWithCredentials(e,n,r){return _(this,null,function*(){let i=LB(n);return delete e.headers[gp],e.headers[q_]=n.sessionToken,e.query=e.query??{},e.query[q_]=n.sessionToken,VB(this,i),this.presign(e,r)})}};function LB(t){return{accessKeyId:t.accessKeyId,secretAccessKey:t.secretAccessKey,expiration:t.expiration}}function VB(t,e){let n=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),r=t.credentialProvider,i=()=>(clearTimeout(n),t.credentialProvider=r,Promise.resolve(e));t.credentialProvider=i}var BB=t=>(e,n)=>r=>_(void 0,null,function*(){if(n.endpointV2){let i=n.endpointV2,o=i.properties?.authSchemes?.[0]?.name===FB;if((i.properties?.backend===OB||i.properties?.bucketType===kB)&&(Sn(n,"S3_EXPRESS_BUCKET","J"),n.isS3ExpressBucket=!0),o){let a=r.input.Bucket;if(a){let c=yield t.s3ExpressIdentityProvider.getS3ExpressIdentity(yield t.credentials(),{Bucket:a});n.s3ExpressIdentity=c,Fe.isInstance(r.request)&&c.sessionToken&&(r.request.headers[gp]=c.sessionToken)}}}return e(r)}),UB={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},xA=t=>({applyToStack:e=>{e.add(BB(t),UB)}});var jB=(t,e,n,r)=>_(void 0,null,function*(){let i=yield r.signWithCredentials(n,t,{});if(i.headers["X-Amz-Security-Token"]||i.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return i});var Zee=t=>e=>{throw e},Jee=(t,e)=>{};var $B=t=>(e,n)=>r=>_(void 0,null,function*(){if(!Fe.isInstance(r.request))return e(r);let o=Li(n).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:s={}},identity:a,signer:c}=o,l;n.s3ExpressIdentity?l=yield jB(n.s3ExpressIdentity,s,r.request,yield t.signer()):l=yield c.sign(r.request,a,s);let f=yield e(z(x({},r),{request:l})).catch((c.errorHandler||Zee)(s));return(c.successHandler||Jee)(f.response,s),f}),TA=t=>({applyToStack:e=>{e.addRelativeTo($B(t),jT)}});var HB=(t,{session:e})=>{let[n,r]=e;return z(x({},t),{forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,followRegionRedirects:t.followRegionRedirects??!1,s3ExpressIdentityProvider:t.s3ExpressIdentityProvider??new SA(i=>_(void 0,null,function*(){return n().send(new r({Bucket:i,SessionMode:"ReadWrite"}))})),bucketEndpoint:t.bucketEndpoint??!1})};var Xee={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},ete=3e3,tte=t=>(e,n)=>r=>_(void 0,null,function*(){let i=yield e(r),{response:o}=i;if(!br.isInstance(o))return i;let{statusCode:s,body:a}=o;if(s<200||s>=300||!(typeof a?.stream=="function"||typeof a?.pipe=="function"||typeof a?.tee=="function"))return i;let l=a,f=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([l,f]=yield ML(a)),o.body=f;let h=yield nte(l,{streamCollector:w=>_(void 0,null,function*(){return PL(w,ete)})});typeof l?.destroy=="function"&&l.destroy();let y=t.utf8Encoder(h.subarray(h.length-16));if(h.length===0&&Xee[n.commandName]){let w=new Error("S3 aborted request");throw w.name="InternalError",w}return y&&y.endsWith("</Error>")&&(o.statusCode=400),i}),nte=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),rte={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},z_=t=>({applyToStack:e=>{e.addRelativeTo(tte(t),rte)}});var qB=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6;function zB(t){return(e,n)=>r=>_(this,null,function*(){if(t.bucketEndpoint){let i=n.endpointV2;if(i){let o=r.input.Bucket;if(typeof o=="string")try{let s=new URL(o);n.endpointV2=z(x({},i),{url:s})}catch(s){let a=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${o} could not be parsed as URL.`;throw n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a),s}}}return e(r)})}var GB={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function ite({bucketEndpoint:t}){return e=>n=>_(this,null,function*(){let{input:{Bucket:r}}=n;if(!t&&typeof r=="string"&&!qB(r)&&r.indexOf("/")>=0){let i=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw i.name="InvalidBucketName",i}return e(x({},n))})}var ote={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},WB=t=>({applyToStack:e=>{e.add(ite(t),ote),e.addRelativeTo(zB(t),GB)}});var ste=void 0;function ate(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function KB(t){let e=fs(t.userAgentAppId??ste);return z(x({},t),{customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent,userAgentAppId:()=>_(this,null,function*(){let n=yield e();if(!ate(n)){let r=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console:t.logger;typeof n!="string"?r?.warn("userAgentAppId must be a string or undefined."):n.length>50&&r?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n})})}var G_=class{constructor({size:e,params:n}){this.data=new Map,this.parameters=[],this.capacity=e??50,n&&(this.parameters=n)}get(e,n){let r=this.hash(e);if(r===!1)return n();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let i=this.data.keys(),o=0;for(;;){let{value:s,done:a}=i.next();if(this.data.delete(s),a||++o>10)break}}this.data.set(r,n())}return this.data.get(r)}size(){return this.data.size}hash(e){let n="",{parameters:r}=this;if(r.length===0)return!1;for(let i of r){let o=String(e[i]??"");if(o.includes("|;"))return!1;n+=o+"|;"}return n}};var cte=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),vp=t=>cte.test(t)||t.startsWith("[")&&t.endsWith("]");var lte=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),_p=(t,e=!1)=>{if(!e)return lte.test(t);let n=t.split(".");for(let r of n)if(!_p(r))return!1;return!0};var fl={};var gs="endpoints";function hi(t){return typeof t!="object"||t==null?t:"ref"in t?`$${hi(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(hi).join(", ")})`:JSON.stringify(t,null,2)}var bt=class extends Error{constructor(e){super(e),this.name="EndpointError"}};var QB=(t,e)=>t===e;var YB=t=>{let e=t.split("."),n=[];for(let r of e){let i=r.indexOf("[");if(i!==-1){if(r.indexOf("]")!==r.length-1)throw new bt(`Path: '${t}' does not end with ']'`);let o=r.slice(i+1,-1);if(Number.isNaN(parseInt(o)))throw new bt(`Invalid array index: '${o}' in path: '${t}'`);i!==0&&n.push(r.slice(0,i)),n.push(o)}else n.push(r)}return n};var W_=(t,e)=>YB(e).reduce((n,r)=>{if(typeof n!="object")throw new bt(`Index '${r}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]},t);var ZB=t=>t!=null;var JB=t=>!t;var AA={[np.HTTP]:80,[np.HTTPS]:443},XB=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:y,port:w,protocol:I="",path:L="",query:P={}}=t,$=new URL(`${I}//${y}${w?`:${w}`:""}${L}`);return $.search=Object.entries(P).map(([Q,ne])=>`${Q}=${ne}`).join("&"),$}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let n=e.href,{host:r,hostname:i,pathname:o,protocol:s,search:a}=e;if(a)return null;let c=s.slice(0,-1);if(!Object.values(np).includes(c))return null;let l=vp(i),f=n.includes(`${r}:${AA[c]}`)||typeof t=="string"&&t.includes(`${r}:${AA[c]}`),h=`${r}${f?`:${AA[c]}`:""}`;return{scheme:c,authority:h,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:l}};var eU=(t,e)=>t===e;var tU=(t,e,n,r)=>e>=n||t.length<n?null:r?t.substring(t.length-n,t.length-e):t.substring(e,n);var nU=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`);var rU={booleanEquals:QB,getAttr:W_,isSet:ZB,isValidHostLabel:_p,not:JB,parseURL:XB,stringEquals:eU,substring:tU,uriEncode:nU};var K_=(t,e)=>{let n=[],r=x(x({},e.endpointParams),e.referenceRecord),i=0;for(;i<t.length;){let o=t.indexOf("{",i);if(o===-1){n.push(t.slice(i));break}n.push(t.slice(i,o));let s=t.indexOf("}",o);if(s===-1){n.push(t.slice(o));break}t[o+1]==="{"&&t[s+1]==="}"&&(n.push(t.slice(o+1,s)),i=s+2);let a=t.substring(o+1,s);if(a.includes("#")){let[c,l]=a.split("#");n.push(W_(r[c],l))}else n.push(r[a]);i=s+1}return n.join("")};var iU=({ref:t},e)=>x(x({},e.endpointParams),e.referenceRecord)[t];var Ma=(t,e,n)=>{if(typeof t=="string")return K_(t,n);if(t.fn)return Q_(t,n);if(t.ref)return iU(t,n);throw new bt(`'${e}': ${String(t)} is not a string, function or reference.`)};var Q_=({fn:t,argv:e},n)=>{let r=e.map(o=>["boolean","number"].includes(typeof o)?o:Ma(o,"arg",n)),i=t.split(".");return i[0]in fl&&i[1]!=null?fl[i[0]][i[1]](...r):rU[t](...r)};var oU=(r,n)=>{var i=r,{assign:t}=i,e=ec(i,["assign"]);if(t&&t in n.referenceRecord)throw new bt(`'${t}' is already defined in Reference Record.`);let o=Q_(e,n);return n.logger?.debug?.(`${gs} evaluateCondition: ${hi(e)} = ${hi(o)}`),x({result:o===""?!0:!!o},t!=null&&{toAssign:{name:t,value:o}})};var Cd=(t=[],e)=>{let n={};for(let r of t){let{result:i,toAssign:o}=oU(r,z(x({},e),{referenceRecord:x(x({},e.referenceRecord),n)}));if(!i)return{result:i};o&&(n[o.name]=o.value,e.logger?.debug?.(`${gs} assign: ${o.name} := ${hi(o.value)}`))}return{result:!0,referenceRecord:n}};var sU=(t,e)=>Object.entries(t).reduce((n,[r,i])=>z(x({},n),{[r]:i.map(o=>{let s=Ma(o,"Header value entry",e);if(typeof s!="string")throw new bt(`Header '${r}' value '${s}' is not a string`);return s})}),{});var DA=(t,e)=>{if(Array.isArray(t))return t.map(n=>DA(n,e));switch(typeof t){case"string":return K_(t,e);case"object":if(t===null)throw new bt(`Unexpected endpoint property: ${t}`);return Y_(t,e);case"boolean":return t;default:throw new bt(`Unexpected endpoint property type: ${typeof t}`)}};var Y_=(t,e)=>Object.entries(t).reduce((n,[r,i])=>z(x({},n),{[r]:DA(i,e)}),{});var aU=(t,e)=>{let n=Ma(t,"Endpoint URL",e);if(typeof n=="string")try{return new URL(n)}catch(r){throw console.error(`Failed to construct URL with ${n}`,r),r}throw new bt(`Endpoint URL must be a string, got ${typeof n}`)};var cU=(t,e)=>{let{conditions:n,endpoint:r}=t,{result:i,referenceRecord:o}=Cd(n,e);if(!i)return;let s=z(x({},e),{referenceRecord:x(x({},e.referenceRecord),o)}),{url:a,properties:c,headers:l}=r;return e.logger?.debug?.(`${gs} Resolving endpoint from template: ${hi(r)}`),z(x(x({},l!=null&&{headers:sU(l,s)}),c!=null&&{properties:Y_(c,s)}),{url:aU(a,s)})};var lU=(t,e)=>{let{conditions:n,error:r}=t,{result:i,referenceRecord:o}=Cd(n,e);if(i)throw new bt(Ma(r,"Error",z(x({},e),{referenceRecord:x(x({},e.referenceRecord),o)})))};var uU=(t,e)=>{let{conditions:n,rules:r}=t,{result:i,referenceRecord:o}=Cd(n,e);if(i)return Z_(r,z(x({},e),{referenceRecord:x(x({},e.referenceRecord),o)}))};var Z_=(t,e)=>{for(let n of t)if(n.type==="endpoint"){let r=cU(n,e);if(r)return r}else if(n.type==="error")lU(n,e);else if(n.type==="tree"){let r=uU(n,e);if(r)return r}else throw new bt(`Unknown endpoint rule: ${n}`);throw new bt("Rules evaluation failed")};var RA=(t,e)=>{let{endpointParams:n,logger:r}=e,{parameters:i,rules:o}=t;e.logger?.debug?.(`${gs} Initial EndpointParams: ${hi(n)}`);let s=Object.entries(i).filter(([,l])=>l.default!=null).map(([l,f])=>[l,f.default]);if(s.length>0)for(let[l,f]of s)n[l]=n[l]??f;let a=Object.entries(i).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(n[l]==null)throw new bt(`Missing required parameter: '${l}'`);let c=Z_(o,{endpointParams:n,logger:r,referenceRecord:{}});return e.logger?.debug?.(`${gs} Resolved endpoint: ${hi(c)}`),c};var MA=(t,e=!1)=>{if(e){for(let n of t.split("."))if(!MA(n))return!1;return!0}return!(!_p(t)||t.length<3||t.length>63||t!==t.toLowerCase()||vp(t))};var dU=":",ute="/",fU=t=>{let e=t.split(dU);if(e.length<6)return null;let[n,r,i,o,s,...a]=e;if(n!=="arn"||r===""||i===""||a.join(dU)==="")return null;let c=a.map(l=>l.split(ute)).flat();return{partition:r,service:i,region:o,accountId:s,resourceId:c}};var hU={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"};var fte=hU,hte="",pU=t=>{let{partitions:e}=fte;for(let r of e){let{regions:i,outputs:o}=r;for(let[s,a]of Object.entries(i))if(s===t)return x(x({},o),a)}for(let r of e){let{regionRegex:i,outputs:o}=r;if(new RegExp(i).test(t))return x({},o)}let n=e.find(r=>r.id==="aws");if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return x({},n.outputs)};var mU=()=>hte;var PA={isVirtualHostableS3Bucket:MA,parseArn:fU,partition:pU};fl.aws=PA;var pte=/\d{12}\.ddb/;function gU(t,e,n){return _(this,null,function*(){if(n.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Sn(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){let o=yield e.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?Sn(t,"RETRY_MODE_ADAPTIVE","F"):Sn(t,"RETRY_MODE_STANDARD","E"):Sn(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){let o=t.endpointV2;switch(String(o?.url?.hostname).match(pte)&&Sn(t,"ACCOUNT_ID_ENDPOINT","O"),yield e.accountIdEndpointMode?.()){case"disabled":Sn(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Sn(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Sn(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let i=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(i?.$source){let o=i;o.accountId&&Sn(t,"RESOLVED_ACCOUNT_ID","T");for(let[s,a]of Object.entries(o.$source??{}))Sn(t,s,a)}})}var NA="user-agent",J_="x-amz-user-agent",kA=" ",X_="/",yU=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,vU=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,OA="-";function _U(t){let e="";for(let n in t){let r=t[n];if(e.length+r.length+1<=1024){e.length?e+=","+r:e+=r;continue}break}return e}var mte=t=>(e,n)=>r=>_(void 0,null,function*(){let{request:i}=r;if(!Fe.isInstance(i))return e(r);let{headers:o}=i,s=n?.userAgent?.map(e0)||[],a=(yield t.defaultUserAgentProvider()).map(e0);yield gU(n,t,r);let c=n;a.push(`m/${_U(Object.assign({},n.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=t?.customUserAgent?.map(e0)||[],f=yield t.userAgentAppId();f&&a.push(e0([`app/${f}`]));let h=mU(),y=(h?[h]:[]).concat([...a,...s,...l]).join(kA),w=[...a.filter(I=>I.startsWith("aws-sdk-")),...l].join(kA);return t.runtime!=="browser"?(w&&(o[J_]=o[J_]?`${o[NA]} ${w}`:w),o[NA]=y):o[J_]=y,e(z(x({},r),{request:i}))}),e0=t=>{let e=t[0].split(X_).map(s=>s.replace(yU,OA)).join(X_),n=t[1]?.replace(vU,OA),r=e.indexOf(X_),i=e.substring(0,r),o=e.substring(r+1);return i==="api"&&(o=o.toLowerCase()),[i,o,n].filter(s=>s&&s.length>0).reduce((s,a,c)=>{switch(c){case 0:return a;case 1:return`${s}/${a}`;default:return`${s}#${a}`}},"")},gte={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},wU=t=>({applyToStack:e=>{e.add(mte(t),gte)}});var bU=!1;var EU=!1;var t0=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"));var FA=t=>t0(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t;var CU=t=>{let{region:e,useFipsEndpoint:n}=t;if(!e)throw new Error("Region is missing");return z(x({},t),{region:()=>_(void 0,null,function*(){if(typeof e=="string")return FA(e);let r=yield e();return FA(r)}),useFipsEndpoint:()=>_(void 0,null,function*(){let r=typeof e=="string"?e:yield e();return t0(r)?!0:typeof n!="function"?Promise.resolve(!!n):n()})})};var IU=t=>z(x({},t),{eventStreamMarshaller:t.eventStreamSerdeProvider(t)});var SU="content-length";function yte(t){return e=>n=>_(this,null,function*(){let r=n.request;if(Fe.isInstance(r)){let{body:i,headers:o}=r;if(i&&Object.keys(o).map(s=>s.toLowerCase()).indexOf(SU)===-1)try{let s=t(i);r.headers=z(x({},r.headers),{[SU]:String(s)})}catch{}}return e(z(x({},n),{request:r}))})}var vte={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},xU=t=>({applyToStack:e=>{e.add(yte(t.bodyLengthChecker),vte)}});var TU=t=>_(void 0,null,function*(){let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Cte(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Ete(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t}),_te=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,wte=/(\d+\.){3}\d+/,bte=/\.\./;var Ete=t=>_te.test(t)&&!wte.test(t)&&!bte.test(t),Cte=t=>{let[e,n,r,,,i]=t.split(":"),o=e==="arn"&&t.split(":").length>=6,s=!!(o&&n&&r&&i);if(o&&!s)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return s};var AU=(t,e,n)=>{let r=()=>_(void 0,null,function*(){let i=n[t]??n[e];return typeof i=="function"?i():i});return t==="credentialScope"||e==="CredentialScope"?()=>_(void 0,null,function*(){let i=typeof n.credentials=="function"?yield n.credentials():n.credentials;return i?.credentialScope??i?.CredentialScope}):t==="accountId"||e==="AccountId"?()=>_(void 0,null,function*(){let i=typeof n.credentials=="function"?yield n.credentials():n.credentials;return i?.accountId??i?.AccountId}):t==="endpoint"||e==="endpoint"?()=>_(void 0,null,function*(){let i=yield r();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){let{protocol:o,hostname:s,port:a,path:c}=i;return`${o}//${s}${a?":"+a:""}${c}`}}return i}):r};var n0=t=>_(void 0,null,function*(){});function DU(t){let e={};if(t=t.replace(/^\?/,""),t)for(let n of t.split("&")){let[r,i=null]=n.split("=");r=decodeURIComponent(r),i&&(i=decodeURIComponent(i)),r in e?Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i}return e}var Id=t=>{if(typeof t=="string")return Id(new URL(t));let{hostname:e,pathname:n,port:r,protocol:i,search:o}=t,s;return o&&(s=DU(o)),{hostname:e,port:r?parseInt(r):void 0,protocol:i,path:n,query:s}};var r0=t=>typeof t=="object"?"url"in t?Id(t.url):t:Id(t);var RU=(t,e,n,r)=>_(void 0,null,function*(){if(!n.endpoint){let s;n.serviceConfiguredEndpoint?s=yield n.serviceConfiguredEndpoint():s=yield n0(n.serviceId),s&&(n.endpoint=()=>Promise.resolve(r0(s)))}let i=yield LA(t,e,n);if(typeof n.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return n.endpointProvider(i,r)}),LA=(t,e,n)=>_(void 0,null,function*(){let r={},i=e?.getEndpointParameterInstructions?.()||{};for(let[o,s]of Object.entries(i))switch(s.type){case"staticContextParams":r[o]=s.value;break;case"contextParams":r[o]=t[s.name];break;case"clientContextParams":case"builtInParams":r[o]=yield AU(s.name,o,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(s))}return Object.keys(i).length===0&&Object.assign(r,n),String(n.serviceId).toLowerCase()==="s3"&&(yield TU(r)),r});var MU=({config:t,instructions:e})=>(n,r)=>i=>_(void 0,null,function*(){t.endpoint&&NL(r,"ENDPOINT_OVERRIDE","N");let o=yield RU(i.input,{getEndpointParameterInstructions(){return e}},x({},t),r);r.endpointV2=o,r.authSchemes=o.properties?.authSchemes;let s=r.authSchemes?.[0];if(s){r.signing_region=s.signingRegion,r.signing_service=s.signingName;let c=Li(r)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:s.signingRegion,signingRegion:s.signingRegion,signing_service:s.signingName,signingName:s.signingName,signingRegionSet:s.signingRegionSet},s.properties))}return n(x({},i))});var Ite={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:sp.name},i0=(t,e)=>({applyToStack:n=>{n.addRelativeTo(MU({config:t,instructions:e}),Ite)}});var PU=t=>{let e=t.tls??!0,{endpoint:n}=t,r=n!=null?()=>_(void 0,null,function*(){return r0(yield kn(n)())}):void 0,i=!!n,o=z(x({},t),{endpoint:r,tls:e,isCustomEndpoint:i,useDualstackEndpoint:kn(t.useDualstackEndpoint??!1),useFipsEndpoint:kn(t.useFipsEndpoint??!1)}),s;return o.serviceConfiguredEndpoint=()=>_(void 0,null,function*(){return t.serviceId&&!s&&(s=n0(t.serviceId)),s}),o};var Do=function(t){return t.STANDARD="standard",t.ADAPTIVE="adaptive",t}(Do||{}),Pa=3,VA=Do.STANDARD;var NU=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],kU=["TimeoutError","RequestTimeout","RequestTimeoutException"],OU=[500,502,503,504],FU=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"];var Ste=t=>t.$metadata?.clockSkewCorrected,Sd=t=>t.$metadata?.httpStatusCode===429||NU.includes(t.name)||t.$retryable?.throttling==!0,o0=t=>Ste(t)||kU.includes(t.name)||FU.includes(t?.code||"")||OU.includes(t.$metadata?.httpStatusCode||0),LU=t=>{if(t.$metadata?.httpStatusCode!==void 0){let e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!o0(t)}return!1};var wp=class{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let n=this.getCurrentTimeInSeconds();this.lastThrottleTime=n,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}getSendToken(){return _(this,null,function*(){return this.acquireTokenBucket(1)})}acquireTokenBucket(e){return _(this,null,function*(){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let n=(e-this.currentCapacity)/this.fillRate*1e3;yield new Promise(r=>setTimeout(r,n))}this.currentCapacity=this.currentCapacity-e}})}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let n=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+n),this.lastTimestamp=e}updateClientSendingRate(e){let n;if(this.updateMeasuredRate(),Sd(e)){let i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),n=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),n=this.cubicSuccess(this.getCurrentTimeInSeconds());let r=Math.min(n,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),n=Math.floor(e*2)/2;if(this.requestCount++,n>this.lastTxRateBucket){let r=this.requestCount/(n-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=n}}getPrecise(e){return parseFloat(e.toFixed(8))}};var s0="amz-sdk-invocation-id",a0="amz-sdk-request";var VU=()=>{let t=100;return{computeNextBackoffDelay:r=>Math.floor(Math.min(2e4,Math.random()*2**r*t)),setDelayBase:r=>{t=r}}};var BA=({retryDelay:t,retryCount:e,retryCost:n})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(2e4,t),getRetryCost:()=>n});var hl=class{constructor(e){this.maxAttempts=e,this.mode=Do.STANDARD,this.capacity=500,this.retryBackoffStrategy=VU(),this.maxAttemptsProvider=typeof e=="function"?e:()=>_(this,null,function*(){return e})}acquireInitialRetryToken(e){return _(this,null,function*(){return BA({retryDelay:100,retryCount:0})})}refreshRetryTokenForRetry(e,n){return _(this,null,function*(){let r=yield this.getMaxAttempts();if(this.shouldRetry(e,n,r)){let i=n.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?500:100);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=n.retryAfterHint?Math.max(n.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(i);return this.capacity-=a,BA({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")})}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}getMaxAttempts(){return _(this,null,function*(){try{return yield this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Pa}`),Pa}})}shouldRetry(e,n,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(n.errorType)&&this.isRetryableError(n.errorType)}getCapacityCost(e){return e==="TRANSIENT"?10:5}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}};var l0=class{constructor(e,n){this.maxAttemptsProvider=e,this.mode=Do.ADAPTIVE;let{rateLimiter:r}=n??{};this.rateLimiter=r??new wp,this.standardRetryStrategy=new hl(e)}acquireInitialRetryToken(e){return _(this,null,function*(){return yield this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)})}refreshRetryTokenForRetry(e,n){return _(this,null,function*(){return this.rateLimiter.updateClientSendingRate(n),this.standardRetryStrategy.refreshRetryTokenForRetry(e,n)})}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}};var u0,xte=new Uint8Array(16);function jA(){if(!u0&&(u0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!u0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u0(xte)}var Fn=[];for(let t=0;t<256;++t)Fn.push((t+256).toString(16).slice(1));function HU(t,e=0){return Fn[t[e+0]]+Fn[t[e+1]]+Fn[t[e+2]]+Fn[t[e+3]]+"-"+Fn[t[e+4]]+Fn[t[e+5]]+"-"+Fn[t[e+6]]+Fn[t[e+7]]+"-"+Fn[t[e+8]]+Fn[t[e+9]]+"-"+Fn[t[e+10]]+Fn[t[e+11]]+Fn[t[e+12]]+Fn[t[e+13]]+Fn[t[e+14]]+Fn[t[e+15]]}var Tte=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$A={randomUUID:Tte};function Ate(t,e,n){if($A.randomUUID&&!e&&!t)return $A.randomUUID();t=t||{};let r=t.random||(t.rng||jA)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return HU(r)}var HA=Ate;var qA=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`);var qU=t=>{let{retryStrategy:e}=t,n=kn(t.maxAttempts??Pa);return z(x({},t),{maxAttempts:n,retryStrategy:()=>_(void 0,null,function*(){return e||((yield kn(t.retryMode)())===Do.ADAPTIVE?new l0(n):new hl(n))})})};var zU=t=>t?.body instanceof ReadableStream;var Dte=t=>(e,n)=>r=>_(void 0,null,function*(){let i=yield t.retryStrategy(),o=yield t.maxAttempts();if(Rte(i)){i=i;let s=yield i.acquireInitialRetryToken(n.partition_id),a=new Error,c=0,l=0,{request:f}=r,h=Fe.isInstance(f);for(h&&(f.headers[s0]=HA());;)try{h&&(f.headers[a0]=`attempt=${c+1}; max=${o}`);let{response:y,output:w}=yield e(r);return i.recordSuccess(s),w.$metadata.attempts=c+1,w.$metadata.totalRetryDelay=l,{response:y,output:w}}catch(y){let w=Mte(y);if(a=qA(y),h&&zU(f))throw(n.logger instanceof Da?console:n.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{s=yield i.refreshRetryTokenForRetry(s,w)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=s.getRetryCount();let I=s.getRetryDelay();l+=I,yield new Promise(L=>setTimeout(L,I))}}else return i=i,i?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(e,r)}),Rte=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",Mte=t=>{let e={error:t,errorType:Pte(t)},n=kte(t.$response);return n&&(e.retryAfterHint=n),e},Pte=t=>Sd(t)?"THROTTLING":o0(t)?"TRANSIENT":LU(t)?"SERVER_ERROR":"CLIENT_ERROR",Nte={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},GU=t=>({applyToStack:e=>{e.add(Dte(t),Nte)}}),kte=t=>{if(!br.isInstance(t))return;let e=Object.keys(t.headers).find(o=>o.toLowerCase()==="retry-after");if(!e)return;let n=t.headers[e],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(r*1e3)};var d0={CrtSignerV4:null};var f0=class{constructor(e){this.sigv4Signer=new yp(e),this.signerOptions=e}sign(r){return _(this,arguments,function*(e,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(e,n)}return this.sigv4Signer.sign(e,n)})}signWithCredentials(i,o){return _(this,arguments,function*(e,n,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().signWithCredentials(e,n,r)}return this.sigv4Signer.signWithCredentials(e,n,r)})}presign(r){return _(this,arguments,function*(e,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(e,n)}return this.sigv4Signer.presign(e,n)})}presignWithCredentials(i,o){return _(this,arguments,function*(e,n,r={}){if(r.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(e,n,r)})}getSigv4aSigner(){if(!this.sigv4aSigner){let e=null;try{if(e=d0.CrtSignerV4,typeof e!="function")throw new Error}catch(n){throw n.message=`${n.message}
Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,n}this.sigv4aSigner=new e(z(x({},this.signerOptions),{signingAlgorithm:1}))}return this.sigv4aSigner}};var gD="required",T="type",B="conditions",G="fn",W="argv",Ee="ref",Vt="assign",se="url",ae="properties",W3="backend",Ui="authSchemes",qr="disableDoubleEncoding",zr="signingName",Po="signingRegion",ce="headers",yD="signingRegionSet";var pi="isSet",Dn="booleanEquals",fe="error",_0="aws.partition",At="stringEquals",Wt="getAttr",Wn="name",Ro="substring",WU="bucketSuffix",K3="parseURL",KU="{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",J="endpoint",Z="tree",Q3="aws.isVirtualHostableS3Bucket",g0="{url#scheme}://{Bucket}.{url#authority}{url#path}",Mo="not",y0="{url#scheme}://{url#authority}{url#path}",Y3="hardwareType",Z3="regionPrefix",QU="bucketAliasSuffix",pD="outpostId",ml="isValidHostLabel",vD="sigv4a",Cp="s3-outposts",Rd="s3",J3="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",X3="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",YU="https://{Bucket}.s3.{partitionResult#dnsSuffix}",ej="aws.parseArn",tj="bucketArn",nj="arnType",w0="",_D="s3-object-lambda",rj="accesspoint",wD="accessPointName",ZU="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",JU="mrapPartition",XU="outpostType",e3="arnPrefix",ij="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",t3="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",n3="https://s3.{partitionResult#dnsSuffix}",Td={[gD]:!1,[T]:"String"},Ad={[gD]:!0,default:!1,[T]:"Boolean"},bp={[gD]:!1,[T]:"Boolean"},Bi={[G]:Dn,[W]:[{[Ee]:"Accelerate"},!0]},Ct={[G]:Dn,[W]:[{[Ee]:"UseFIPS"},!0]},Et={[G]:Dn,[W]:[{[Ee]:"UseDualStack"},!0]},sn={[G]:pi,[W]:[{[Ee]:"Endpoint"}]},oj={[G]:_0,[W]:[{[Ee]:"Region"}],[Vt]:"partitionResult"},r3={[G]:At,[W]:[{[G]:Wt,[W]:[{[Ee]:"partitionResult"},Wn]},"aws-cn"]},b0={[G]:pi,[W]:[{[Ee]:"Bucket"}]},dr={[Ee]:"Bucket"},ur={[G]:K3,[W]:[{[Ee]:"Endpoint"}],[Vt]:"url"},v0={[G]:Dn,[W]:[{[G]:Wt,[W]:[{[Ee]:"url"},"isIp"]},!0]},sj={[Ee]:"url"},aj={[G]:"uriEncode",[W]:[dr],[Vt]:"uri_encoded_bucket"},ys={[W3]:"S3Express",[Ui]:[{[qr]:!0,[Wn]:"sigv4",[zr]:"s3express",[Po]:"{Region}"}]},Ce={},cj={[G]:Q3,[W]:[dr,!1]},zA={[fe]:"S3Express bucket name is not a valid virtual hostable name.",[T]:fe},E0={[W3]:"S3Express",[Ui]:[{[qr]:!0,[Wn]:"sigv4-s3express",[zr]:"s3express",[Po]:"{Region}"}]},i3={[G]:pi,[W]:[{[Ee]:"UseS3ExpressControlEndpoint"}]},o3={[G]:Dn,[W]:[{[Ee]:"UseS3ExpressControlEndpoint"},!0]},Te={[G]:Mo,[W]:[sn]},s3={[fe]:"Unrecognized S3Express bucket name format.",[T]:fe},a3={[G]:Mo,[W]:[b0]},c3={[Ee]:Y3},l3={[B]:[Te],[fe]:"Expected a endpoint to be specified but no endpoint was found",[T]:fe},h0={[Ui]:[{[qr]:!0,[Wn]:vD,[zr]:Cp,[yD]:["*"]},{[qr]:!0,[Wn]:"sigv4",[zr]:Cp,[Po]:"{Region}"}]},GA={[G]:Dn,[W]:[{[Ee]:"ForcePathStyle"},!1]},Ote={[Ee]:"ForcePathStyle"},on={[G]:Dn,[W]:[{[Ee]:"Accelerate"},!1]},gn={[G]:At,[W]:[{[Ee]:"Region"},"aws-global"]},xn={[Ui]:[{[qr]:!0,[Wn]:"sigv4",[zr]:Rd,[Po]:"us-east-1"}]},Ke={[G]:Mo,[W]:[gn]},Tn={[G]:Dn,[W]:[{[Ee]:"UseGlobalEndpoint"},!0]},u3={[se]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[ae]:{[Ui]:[{[qr]:!0,[Wn]:"sigv4",[zr]:Rd,[Po]:"{Region}"}]},[ce]:{}},an={[Ui]:[{[qr]:!0,[Wn]:"sigv4",[zr]:Rd,[Po]:"{Region}"}]},An={[G]:Dn,[W]:[{[Ee]:"UseGlobalEndpoint"},!1]},je={[G]:Dn,[W]:[{[Ee]:"UseDualStack"},!1]},d3={[se]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[ae]:an,[ce]:{}},Le={[G]:Dn,[W]:[{[Ee]:"UseFIPS"},!1]},f3={[se]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[ae]:an,[ce]:{}},h3={[se]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[ae]:an,[ce]:{}},WA={[G]:Dn,[W]:[{[G]:Wt,[W]:[sj,"isIp"]},!1]},KA={[se]:J3,[ae]:an,[ce]:{}},mD={[se]:g0,[ae]:an,[ce]:{}},p3={[J]:mD,[T]:J},QA={[se]:X3,[ae]:an,[ce]:{}},m3={[se]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[ae]:an,[ce]:{}},p0={[fe]:"Invalid region: region was not a valid DNS name.",[T]:fe},Er={[Ee]:tj},lj={[Ee]:nj},YA={[G]:Wt,[W]:[Er,"service"]},bD={[Ee]:wD},g3={[B]:[Et],[fe]:"S3 Object Lambda does not support Dual-stack",[T]:fe},y3={[B]:[Bi],[fe]:"S3 Object Lambda does not support S3 Accelerate",[T]:fe},v3={[B]:[{[G]:pi,[W]:[{[Ee]:"DisableAccessPoints"}]},{[G]:Dn,[W]:[{[Ee]:"DisableAccessPoints"},!0]}],[fe]:"Access points are not supported for this operation",[T]:fe},ZA={[B]:[{[G]:pi,[W]:[{[Ee]:"UseArnRegion"}]},{[G]:Dn,[W]:[{[Ee]:"UseArnRegion"},!1]},{[G]:Mo,[W]:[{[G]:At,[W]:[{[G]:Wt,[W]:[Er,"region"]},"{Region}"]}]}],[fe]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[T]:fe},uj={[G]:Wt,[W]:[{[Ee]:"bucketPartition"},Wn]},dj={[G]:Wt,[W]:[Er,"accountId"]},JA={[Ui]:[{[qr]:!0,[Wn]:"sigv4",[zr]:_D,[Po]:"{bucketArn#region}"}]},_3={[fe]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[T]:fe},XA={[fe]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[T]:fe},eD={[fe]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[T]:fe},tD={[fe]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[T]:fe},w3={[fe]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[T]:fe},b3={[fe]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[T]:fe},Ep={[Ui]:[{[qr]:!0,[Wn]:"sigv4",[zr]:Rd,[Po]:"{bucketArn#region}"}]},E3={[Ui]:[{[qr]:!0,[Wn]:vD,[zr]:Cp,[yD]:["*"]},{[qr]:!0,[Wn]:"sigv4",[zr]:Cp,[Po]:"{bucketArn#region}"}]},C3={[G]:ej,[W]:[dr]},I3={[se]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ae]:an,[ce]:{}},S3={[se]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ae]:an,[ce]:{}},x3={[se]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ae]:an,[ce]:{}},nD={[se]:ij,[ae]:an,[ce]:{}},T3={[se]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ae]:an,[ce]:{}},A3={[Ee]:"UseObjectLambdaEndpoint"},rD={[Ui]:[{[qr]:!0,[Wn]:"sigv4",[zr]:_D,[Po]:"{Region}"}]},D3={[se]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[ae]:an,[ce]:{}},R3={[se]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[ae]:an,[ce]:{}},M3={[se]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[ae]:an,[ce]:{}},iD={[se]:y0,[ae]:an,[ce]:{}},P3={[se]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[ae]:an,[ce]:{}},oD=[{[Ee]:"Region"}],Fte=[{[Ee]:"Endpoint"}],Lte=[dr],sD=[Et],m0=[Bi],pl=[sn,ur],N3=[{[G]:pi,[W]:[{[Ee]:"DisableS3ExpressSessionAuth"}]},{[G]:Dn,[W]:[{[Ee]:"DisableS3ExpressSessionAuth"},!0]}],k3=[v0],aD=[aj],cD=[cj],Dd=[Ct],O3=[{[G]:Ro,[W]:[dr,6,14,!0],[Vt]:"s3expressAvailabilityZoneId"},{[G]:Ro,[W]:[dr,14,16,!0],[Vt]:"s3expressAvailabilityZoneDelim"},{[G]:At,[W]:[{[Ee]:"s3expressAvailabilityZoneDelim"},"--"]}],F3=[{[B]:[Ct],[J]:{[se]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[ae]:ys,[ce]:{}},[T]:J},{[J]:{[se]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[ae]:ys,[ce]:{}},[T]:J}],L3=[{[G]:Ro,[W]:[dr,6,15,!0],[Vt]:"s3expressAvailabilityZoneId"},{[G]:Ro,[W]:[dr,15,17,!0],[Vt]:"s3expressAvailabilityZoneDelim"},{[G]:At,[W]:[{[Ee]:"s3expressAvailabilityZoneDelim"},"--"]}],V3=[{[B]:[Ct],[J]:{[se]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[ae]:E0,[ce]:{}},[T]:J},{[J]:{[se]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[ae]:E0,[ce]:{}},[T]:J}],Vte=[b0],B3=[{[G]:ml,[W]:[{[Ee]:pD},!1]}],U3=[{[G]:At,[W]:[{[Ee]:Z3},"beta"]}],Bte=["*"],Na=[oj],j3=[{[G]:ml,[W]:[{[Ee]:"Region"},!1]}],ka=[{[G]:At,[W]:[{[Ee]:"Region"},"us-east-1"]}],lD=[{[G]:At,[W]:[lj,rj]}],$3=[{[G]:Wt,[W]:[Er,"resourceId[1]"],[Vt]:wD},{[G]:Mo,[W]:[{[G]:At,[W]:[bD,w0]}]}],Ute=[Er,"resourceId[1]"],uD=[{[G]:Mo,[W]:[{[G]:At,[W]:[{[G]:Wt,[W]:[Er,"region"]},w0]}]}],H3=[{[G]:Mo,[W]:[{[G]:pi,[W]:[{[G]:Wt,[W]:[Er,"resourceId[2]"]}]}]}],jte=[Er,"resourceId[2]"],dD=[{[G]:_0,[W]:[{[G]:Wt,[W]:[Er,"region"]}],[Vt]:"bucketPartition"}],q3=[{[G]:At,[W]:[uj,{[G]:Wt,[W]:[{[Ee]:"partitionResult"},Wn]}]}],fD=[{[G]:ml,[W]:[{[G]:Wt,[W]:[Er,"region"]},!0]}],hD=[{[G]:ml,[W]:[dj,!1]}],z3=[{[G]:ml,[W]:[bD,!1]}],G3=[{[G]:ml,[W]:[{[Ee]:"Region"},!0]}],$te={version:"1.0",parameters:{Bucket:Td,Region:Td,UseFIPS:Ad,UseDualStack:Ad,Endpoint:Td,ForcePathStyle:Ad,Accelerate:Ad,UseGlobalEndpoint:Ad,UseObjectLambdaEndpoint:bp,Key:Td,Prefix:Td,CopySource:Td,DisableAccessPoints:bp,DisableMultiRegionAccessPoints:Ad,UseArnRegion:bp,UseS3ExpressControlEndpoint:bp,DisableS3ExpressSessionAuth:bp},rules:[{[B]:[{[G]:pi,[W]:oD}],rules:[{[B]:[Bi,Ct],error:"Accelerate cannot be used with FIPS",[T]:fe},{[B]:[Et,sn],error:"Cannot set dual-stack in combination with a custom endpoint.",[T]:fe},{[B]:[sn,Ct],error:"A custom endpoint cannot be combined with FIPS",[T]:fe},{[B]:[sn,Bi],error:"A custom endpoint cannot be combined with S3 Accelerate",[T]:fe},{[B]:[Ct,oj,r3],error:"Partition does not support FIPS",[T]:fe},{[B]:[b0,{[G]:Ro,[W]:[dr,0,6,!0],[Vt]:WU},{[G]:At,[W]:[{[Ee]:WU},"--x-s3"]}],rules:[{[B]:sD,error:"S3Express does not support Dual-stack.",[T]:fe},{[B]:m0,error:"S3Express does not support S3 Accelerate.",[T]:fe},{[B]:pl,rules:[{[B]:N3,rules:[{[B]:k3,rules:[{[B]:aD,rules:[{endpoint:{[se]:KU,[ae]:ys,[ce]:Ce},[T]:J}],[T]:Z}],[T]:Z},{[B]:cD,rules:[{endpoint:{[se]:g0,[ae]:ys,[ce]:Ce},[T]:J}],[T]:Z},zA],[T]:Z},{[B]:k3,rules:[{[B]:aD,rules:[{endpoint:{[se]:KU,[ae]:E0,[ce]:Ce},[T]:J}],[T]:Z}],[T]:Z},{[B]:cD,rules:[{endpoint:{[se]:g0,[ae]:E0,[ce]:Ce},[T]:J}],[T]:Z},zA],[T]:Z},{[B]:[i3,o3],rules:[{[B]:[aj,Te],rules:[{[B]:Dd,endpoint:{[se]:"https://s3express-control-fips.{Region}.amazonaws.com/{uri_encoded_bucket}",[ae]:ys,[ce]:Ce},[T]:J},{endpoint:{[se]:"https://s3express-control.{Region}.amazonaws.com/{uri_encoded_bucket}",[ae]:ys,[ce]:Ce},[T]:J}],[T]:Z}],[T]:Z},{[B]:cD,rules:[{[B]:N3,rules:[{[B]:O3,rules:F3,[T]:Z},{[B]:L3,rules:F3,[T]:Z},s3],[T]:Z},{[B]:O3,rules:V3,[T]:Z},{[B]:L3,rules:V3,[T]:Z},s3],[T]:Z},zA],[T]:Z},{[B]:[a3,i3,o3],rules:[{[B]:pl,endpoint:{[se]:y0,[ae]:ys,[ce]:Ce},[T]:J},{[B]:Dd,endpoint:{[se]:"https://s3express-control-fips.{Region}.amazonaws.com",[ae]:ys,[ce]:Ce},[T]:J},{endpoint:{[se]:"https://s3express-control.{Region}.amazonaws.com",[ae]:ys,[ce]:Ce},[T]:J}],[T]:Z},{[B]:[b0,{[G]:Ro,[W]:[dr,49,50,!0],[Vt]:Y3},{[G]:Ro,[W]:[dr,8,12,!0],[Vt]:Z3},{[G]:Ro,[W]:[dr,0,7,!0],[Vt]:QU},{[G]:Ro,[W]:[dr,32,49,!0],[Vt]:pD},{[G]:_0,[W]:oD,[Vt]:"regionPartition"},{[G]:At,[W]:[{[Ee]:QU},"--op-s3"]}],rules:[{[B]:B3,rules:[{[B]:[{[G]:At,[W]:[c3,"e"]}],rules:[{[B]:U3,rules:[l3,{[B]:pl,endpoint:{[se]:"https://{Bucket}.ec2.{url#authority}",[ae]:h0,[ce]:Ce},[T]:J}],[T]:Z},{endpoint:{[se]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[ae]:h0,[ce]:Ce},[T]:J}],[T]:Z},{[B]:[{[G]:At,[W]:[c3,"o"]}],rules:[{[B]:U3,rules:[l3,{[B]:pl,endpoint:{[se]:"https://{Bucket}.op-{outpostId}.{url#authority}",[ae]:h0,[ce]:Ce},[T]:J}],[T]:Z},{endpoint:{[se]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[ae]:h0,[ce]:Ce},[T]:J}],[T]:Z},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[T]:fe}],[T]:Z},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[T]:fe}],[T]:Z},{[B]:Vte,rules:[{[B]:[sn,{[G]:Mo,[W]:[{[G]:pi,[W]:[{[G]:K3,[W]:Fte}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[T]:fe},{[B]:[GA,cj],rules:[{[B]:Na,rules:[{[B]:j3,rules:[{[B]:[Bi,r3],error:"S3 Accelerate cannot be used in this region",[T]:fe},{[B]:[Et,Ct,on,Te,gn],endpoint:{[se]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ae]:xn,[ce]:Ce},[T]:J},{[B]:[Et,Ct,on,Te,Ke,Tn],rules:[{endpoint:u3,[T]:J}],[T]:Z},{[B]:[Et,Ct,on,Te,Ke,An],endpoint:u3,[T]:J},{[B]:[je,Ct,on,Te,gn],endpoint:{[se]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[ae]:xn,[ce]:Ce},[T]:J},{[B]:[je,Ct,on,Te,Ke,Tn],rules:[{endpoint:d3,[T]:J}],[T]:Z},{[B]:[je,Ct,on,Te,Ke,An],endpoint:d3,[T]:J},{[B]:[Et,Le,Bi,Te,gn],endpoint:{[se]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ae]:xn,[ce]:Ce},[T]:J},{[B]:[Et,Le,Bi,Te,Ke,Tn],rules:[{endpoint:f3,[T]:J}],[T]:Z},{[B]:[Et,Le,Bi,Te,Ke,An],endpoint:f3,[T]:J},{[B]:[Et,Le,on,Te,gn],endpoint:{[se]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ae]:xn,[ce]:Ce},[T]:J},{[B]:[Et,Le,on,Te,Ke,Tn],rules:[{endpoint:h3,[T]:J}],[T]:Z},{[B]:[Et,Le,on,Te,Ke,An],endpoint:h3,[T]:J},{[B]:[je,Le,on,sn,ur,v0,gn],endpoint:{[se]:J3,[ae]:xn,[ce]:Ce},[T]:J},{[B]:[je,Le,on,sn,ur,WA,gn],endpoint:{[se]:g0,[ae]:xn,[ce]:Ce},[T]:J},{[B]:[je,Le,on,sn,ur,v0,Ke,Tn],rules:[{[B]:ka,endpoint:KA,[T]:J},{endpoint:KA,[T]:J}],[T]:Z},{[B]:[je,Le,on,sn,ur,WA,Ke,Tn],rules:[{[B]:ka,endpoint:mD,[T]:J},p3],[T]:Z},{[B]:[je,Le,on,sn,ur,v0,Ke,An],endpoint:KA,[T]:J},{[B]:[je,Le,on,sn,ur,WA,Ke,An],endpoint:mD,[T]:J},{[B]:[je,Le,Bi,Te,gn],endpoint:{[se]:X3,[ae]:xn,[ce]:Ce},[T]:J},{[B]:[je,Le,Bi,Te,Ke,Tn],rules:[{[B]:ka,endpoint:QA,[T]:J},{endpoint:QA,[T]:J}],[T]:Z},{[B]:[je,Le,Bi,Te,Ke,An],endpoint:QA,[T]:J},{[B]:[je,Le,on,Te,gn],endpoint:{[se]:YU,[ae]:xn,[ce]:Ce},[T]:J},{[B]:[je,Le,on,Te,Ke,Tn],rules:[{[B]:ka,endpoint:{[se]:YU,[ae]:an,[ce]:Ce},[T]:J},{endpoint:m3,[T]:J}],[T]:Z},{[B]:[je,Le,on,Te,Ke,An],endpoint:m3,[T]:J}],[T]:Z},p0],[T]:Z}],[T]:Z},{[B]:[sn,ur,{[G]:At,[W]:[{[G]:Wt,[W]:[sj,"scheme"]},"http"]},{[G]:Q3,[W]:[dr,!0]},GA,Le,je,on],rules:[{[B]:Na,rules:[{[B]:j3,rules:[p3],[T]:Z},p0],[T]:Z}],[T]:Z},{[B]:[GA,{[G]:ej,[W]:Lte,[Vt]:tj}],rules:[{[B]:[{[G]:Wt,[W]:[Er,"resourceId[0]"],[Vt]:nj},{[G]:Mo,[W]:[{[G]:At,[W]:[lj,w0]}]}],rules:[{[B]:[{[G]:At,[W]:[YA,_D]}],rules:[{[B]:lD,rules:[{[B]:$3,rules:[g3,y3,{[B]:uD,rules:[v3,{[B]:H3,rules:[ZA,{[B]:dD,rules:[{[B]:Na,rules:[{[B]:q3,rules:[{[B]:fD,rules:[{[B]:[{[G]:At,[W]:[dj,w0]}],error:"Invalid ARN: Missing account id",[T]:fe},{[B]:hD,rules:[{[B]:z3,rules:[{[B]:pl,endpoint:{[se]:ZU,[ae]:JA,[ce]:Ce},[T]:J},{[B]:Dd,endpoint:{[se]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ae]:JA,[ce]:Ce},[T]:J},{endpoint:{[se]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ae]:JA,[ce]:Ce},[T]:J}],[T]:Z},_3],[T]:Z},XA],[T]:Z},eD],[T]:Z},tD],[T]:Z}],[T]:Z}],[T]:Z},w3],[T]:Z},{error:"Invalid ARN: bucket ARN is missing a region",[T]:fe}],[T]:Z},b3],[T]:Z},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[T]:fe}],[T]:Z},{[B]:lD,rules:[{[B]:$3,rules:[{[B]:uD,rules:[{[B]:lD,rules:[{[B]:uD,rules:[v3,{[B]:H3,rules:[ZA,{[B]:dD,rules:[{[B]:Na,rules:[{[B]:[{[G]:At,[W]:[uj,"{partitionResult#name}"]}],rules:[{[B]:fD,rules:[{[B]:[{[G]:At,[W]:[YA,Rd]}],rules:[{[B]:hD,rules:[{[B]:z3,rules:[{[B]:m0,error:"Access Points do not support S3 Accelerate",[T]:fe},{[B]:[Ct,Et],endpoint:{[se]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ae]:Ep,[ce]:Ce},[T]:J},{[B]:[Ct,je],endpoint:{[se]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ae]:Ep,[ce]:Ce},[T]:J},{[B]:[Le,Et],endpoint:{[se]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ae]:Ep,[ce]:Ce},[T]:J},{[B]:[Le,je,sn,ur],endpoint:{[se]:ZU,[ae]:Ep,[ce]:Ce},[T]:J},{[B]:[Le,je],endpoint:{[se]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ae]:Ep,[ce]:Ce},[T]:J}],[T]:Z},_3],[T]:Z},XA],[T]:Z},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[T]:fe}],[T]:Z},eD],[T]:Z},tD],[T]:Z}],[T]:Z}],[T]:Z},w3],[T]:Z}],[T]:Z}],[T]:Z},{[B]:[{[G]:ml,[W]:[bD,!0]}],rules:[{[B]:sD,error:"S3 MRAP does not support dual-stack",[T]:fe},{[B]:Dd,error:"S3 MRAP does not support FIPS",[T]:fe},{[B]:m0,error:"S3 MRAP does not support S3 Accelerate",[T]:fe},{[B]:[{[G]:Dn,[W]:[{[Ee]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[T]:fe},{[B]:[{[G]:_0,[W]:oD,[Vt]:JU}],rules:[{[B]:[{[G]:At,[W]:[{[G]:Wt,[W]:[{[Ee]:JU},Wn]},{[G]:Wt,[W]:[Er,"partition"]}]}],rules:[{endpoint:{[se]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[ae]:{[Ui]:[{[qr]:!0,name:vD,[zr]:Rd,[yD]:Bte}]},[ce]:Ce},[T]:J}],[T]:Z},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[T]:fe}],[T]:Z}],[T]:Z},{error:"Invalid Access Point Name",[T]:fe}],[T]:Z},b3],[T]:Z},{[B]:[{[G]:At,[W]:[YA,Cp]}],rules:[{[B]:sD,error:"S3 Outposts does not support Dual-stack",[T]:fe},{[B]:Dd,error:"S3 Outposts does not support FIPS",[T]:fe},{[B]:m0,error:"S3 Outposts does not support S3 Accelerate",[T]:fe},{[B]:[{[G]:pi,[W]:[{[G]:Wt,[W]:[Er,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[T]:fe},{[B]:[{[G]:Wt,[W]:Ute,[Vt]:pD}],rules:[{[B]:B3,rules:[ZA,{[B]:dD,rules:[{[B]:Na,rules:[{[B]:q3,rules:[{[B]:fD,rules:[{[B]:hD,rules:[{[B]:[{[G]:Wt,[W]:jte,[Vt]:XU}],rules:[{[B]:[{[G]:Wt,[W]:[Er,"resourceId[3]"],[Vt]:wD}],rules:[{[B]:[{[G]:At,[W]:[{[Ee]:XU},rj]}],rules:[{[B]:pl,endpoint:{[se]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[ae]:E3,[ce]:Ce},[T]:J},{endpoint:{[se]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ae]:E3,[ce]:Ce},[T]:J}],[T]:Z},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[T]:fe}],[T]:Z},{error:"Invalid ARN: expected an access point name",[T]:fe}],[T]:Z},{error:"Invalid ARN: Expected a 4-component resource",[T]:fe}],[T]:Z},XA],[T]:Z},eD],[T]:Z},tD],[T]:Z}],[T]:Z}],[T]:Z},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[T]:fe}],[T]:Z},{error:"Invalid ARN: The Outpost Id was not set",[T]:fe}],[T]:Z},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[T]:fe}],[T]:Z},{error:"Invalid ARN: No ARN type specified",[T]:fe}],[T]:Z},{[B]:[{[G]:Ro,[W]:[dr,0,4,!1],[Vt]:e3},{[G]:At,[W]:[{[Ee]:e3},"arn:"]},{[G]:Mo,[W]:[{[G]:pi,[W]:[C3]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[T]:fe},{[B]:[{[G]:Dn,[W]:[Ote,!0]},C3],error:"Path-style addressing cannot be used with ARN buckets",[T]:fe},{[B]:aD,rules:[{[B]:Na,rules:[{[B]:[on],rules:[{[B]:[Et,Te,Ct,gn],endpoint:{[se]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ae]:xn,[ce]:Ce},[T]:J},{[B]:[Et,Te,Ct,Ke,Tn],rules:[{endpoint:I3,[T]:J}],[T]:Z},{[B]:[Et,Te,Ct,Ke,An],endpoint:I3,[T]:J},{[B]:[je,Te,Ct,gn],endpoint:{[se]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ae]:xn,[ce]:Ce},[T]:J},{[B]:[je,Te,Ct,Ke,Tn],rules:[{endpoint:S3,[T]:J}],[T]:Z},{[B]:[je,Te,Ct,Ke,An],endpoint:S3,[T]:J},{[B]:[Et,Te,Le,gn],endpoint:{[se]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ae]:xn,[ce]:Ce},[T]:J},{[B]:[Et,Te,Le,Ke,Tn],rules:[{endpoint:x3,[T]:J}],[T]:Z},{[B]:[Et,Te,Le,Ke,An],endpoint:x3,[T]:J},{[B]:[je,sn,ur,Le,gn],endpoint:{[se]:ij,[ae]:xn,[ce]:Ce},[T]:J},{[B]:[je,sn,ur,Le,Ke,Tn],rules:[{[B]:ka,endpoint:nD,[T]:J},{endpoint:nD,[T]:J}],[T]:Z},{[B]:[je,sn,ur,Le,Ke,An],endpoint:nD,[T]:J},{[B]:[je,Te,Le,gn],endpoint:{[se]:t3,[ae]:xn,[ce]:Ce},[T]:J},{[B]:[je,Te,Le,Ke,Tn],rules:[{[B]:ka,endpoint:{[se]:t3,[ae]:an,[ce]:Ce},[T]:J},{endpoint:T3,[T]:J}],[T]:Z},{[B]:[je,Te,Le,Ke,An],endpoint:T3,[T]:J}],[T]:Z},{error:"Path-style addressing cannot be used with S3 Accelerate",[T]:fe}],[T]:Z}],[T]:Z}],[T]:Z},{[B]:[{[G]:pi,[W]:[A3]},{[G]:Dn,[W]:[A3,!0]}],rules:[{[B]:Na,rules:[{[B]:G3,rules:[g3,y3,{[B]:pl,endpoint:{[se]:y0,[ae]:rD,[ce]:Ce},[T]:J},{[B]:Dd,endpoint:{[se]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[ae]:rD,[ce]:Ce},[T]:J},{endpoint:{[se]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[ae]:rD,[ce]:Ce},[T]:J}],[T]:Z},p0],[T]:Z}],[T]:Z},{[B]:[a3],rules:[{[B]:Na,rules:[{[B]:G3,rules:[{[B]:[Ct,Et,Te,gn],endpoint:{[se]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ae]:xn,[ce]:Ce},[T]:J},{[B]:[Ct,Et,Te,Ke,Tn],rules:[{endpoint:D3,[T]:J}],[T]:Z},{[B]:[Ct,Et,Te,Ke,An],endpoint:D3,[T]:J},{[B]:[Ct,je,Te,gn],endpoint:{[se]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[ae]:xn,[ce]:Ce},[T]:J},{[B]:[Ct,je,Te,Ke,Tn],rules:[{endpoint:R3,[T]:J}],[T]:Z},{[B]:[Ct,je,Te,Ke,An],endpoint:R3,[T]:J},{[B]:[Le,Et,Te,gn],endpoint:{[se]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ae]:xn,[ce]:Ce},[T]:J},{[B]:[Le,Et,Te,Ke,Tn],rules:[{endpoint:M3,[T]:J}],[T]:Z},{[B]:[Le,Et,Te,Ke,An],endpoint:M3,[T]:J},{[B]:[Le,je,sn,ur,gn],endpoint:{[se]:y0,[ae]:xn,[ce]:Ce},[T]:J},{[B]:[Le,je,sn,ur,Ke,Tn],rules:[{[B]:ka,endpoint:iD,[T]:J},{endpoint:iD,[T]:J}],[T]:Z},{[B]:[Le,je,sn,ur,Ke,An],endpoint:iD,[T]:J},{[B]:[Le,je,Te,gn],endpoint:{[se]:n3,[ae]:xn,[ce]:Ce},[T]:J},{[B]:[Le,je,Te,Ke,Tn],rules:[{[B]:ka,endpoint:{[se]:n3,[ae]:an,[ce]:Ce},[T]:J},{endpoint:P3,[T]:J}],[T]:Z},{[B]:[Le,je,Te,Ke,An],endpoint:P3,[T]:J}],[T]:Z},p0],[T]:Z}],[T]:Z}],[T]:Z},{error:"A region must be set when sending requests to S3.",[T]:fe}]},fj=$te;var Hte=new G_({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),C0=(t,e={})=>Hte.get(t,()=>RA(fj,{endpointParams:t,logger:e.logger}));fl.aws=PA;var qte=t=>(e,n,r)=>_(void 0,null,function*(){if(!r)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let i=yield t(e,n,r),o=Li(n)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!o)throw new Error(`getEndpointParameterInstructions() is not defined on \`${n.commandName}\``);let s=yield LA(r,{getEndpointParameterInstructions:o},e);return Object.assign(i,s)}),zte=(t,e,n)=>_(void 0,null,function*(){return{operation:Li(e).operation,region:(yield kn(t.region)())||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}}),hj=qte(zte);function pj(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}function mj(t){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}var Gte=(t,e,n)=>i=>{let s=t(i).properties?.authSchemes;if(!s)return e(i);let a=[];for(let l of s){let c=l,{name:f,properties:h={}}=c,y=ec(c,["name","properties"]),w=f.toLowerCase();f!==w&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${f}\` to \`${w}\``);let I;if(w==="sigv4a"){I="aws.auth#sigv4a";let $=s.find(Q=>{let ne=Q.name.toLowerCase();return ne!=="sigv4a"&&ne.startsWith("sigv4")});if(!d0.CrtSignerV4&&$)continue}else if(w.startsWith("sigv4"))I="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${w}\``);let L=n[I];if(!L)throw new Error(`Could not find HttpAuthOption create function for \`${I}\``);let P=L(i);P.schemeId=I,P.signingProperties=x(x(x({},P.signingProperties||{}),y),h),a.push(P)}return a},Wte=t=>{let e=[];switch(t.operation){default:e.push(pj(t)),e.push(mj(t))}return e},gj=Gte(C0,Wte,{"aws.auth#sigv4":pj,"aws.auth#sigv4a":mj}),yj=t=>{let e=iV(t),n=LL(e);return x({},n)};var vj=t=>z(x({},t),{useFipsEndpoint:t.useFipsEndpoint??!1,useDualstackEndpoint:t.useDualstackEndpoint??!1,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),I0={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var fr=class t extends B_{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};var S0=class t extends fr{constructor(e){super(x({name:"NoSuchUpload",$fault:"client"},e)),this.name="NoSuchUpload",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var x0=class t extends fr{constructor(e){super(x({name:"ObjectNotInActiveTierError",$fault:"client"},e)),this.name="ObjectNotInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}},T0=class t extends fr{constructor(e){super(x({name:"BucketAlreadyExists",$fault:"client"},e)),this.name="BucketAlreadyExists",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}},A0=class t extends fr{constructor(e){super(x({name:"BucketAlreadyOwnedByYou",$fault:"client"},e)),this.name="BucketAlreadyOwnedByYou",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var D0=class t extends fr{constructor(e){super(x({name:"NoSuchBucket",$fault:"client"},e)),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var R0=class t extends fr{constructor(e){super(x({name:"InvalidObjectState",$fault:"client"},e)),this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,t.prototype),this.StorageClass=e.StorageClass,this.AccessTier=e.AccessTier}},M0=class t extends fr{constructor(e){super(x({name:"NoSuchKey",$fault:"client"},e)),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var P0=class t extends fr{constructor(e){super(x({name:"NotFound",$fault:"client"},e)),this.name="NotFound",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var Kte=t=>x(x(x({},t),t.SecretAccessKey&&{SecretAccessKey:Hr}),t.SessionToken&&{SessionToken:Hr}),_j=t=>x(x(x(x({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Hr}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Hr}),t.Credentials&&{Credentials:Kte(t.Credentials)}),wj=t=>x(x(x({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Hr}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Hr});var N0=class t extends fr{constructor(e){super(x({name:"ObjectAlreadyInActiveTierError",$fault:"client"},e)),this.name="ObjectAlreadyInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};var bj=t=>x(x(x({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Hr}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Hr}),Ej=t=>x(x(x(x({},t),t.SSECustomerKey&&{SSECustomerKey:Hr}),t.SSEKMSKeyId&&{SSEKMSKeyId:Hr}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Hr});var xj=(t,e)=>_(void 0,null,function*(){let n=A_(t,e),r=On({},Aa,{[Hne]:t[xne],[B0]:t[F0],[U0]:t[V0],[j0]:t[L0],[Pd]:[()=>Aa(t[Md]),()=>t[Md].toString()]});n.bp("/"),n.p("Bucket",()=>t.Bucket,"{Bucket}",!1);let i=On({[jne]:[,""]});return n.m("GET").h(r).q(i).b(void 0),n.build()});var Tj=(t,e)=>_(void 0,null,function*(){let n=A_(t,e),r=On({},Aa,x({[Lne]:t[pne]||"application/octet-stream",[$ne]:t[ane],[Mne]:t[lne],[Pne]:t[une],[Nne]:t[dne],[kne]:t[fne],[One]:[()=>Aa(t[Cj]),()=>t[Cj].toString()],[Fne]:t[hne],[nre]:t[cne],[Lj]:t[Mj],[Vj]:t[Pj],[Bj]:t[Nj],[Uj]:t[kj],[Vne]:[()=>Aa(t[Ij]),()=>vV(t[Ij]).toString()],[Une]:t[bne],[Gne]:t[yne],[Wne]:t[vne],[Kne]:t[_ne],[Qne]:t[wne],[B0]:t[F0],[tre]:t[O0],[sre]:t[Rne],[jj]:t[Oj],[rre]:t[Tne],[$j]:t[Fj],[U0]:t[V0],[j0]:t[L0],[Pd]:[()=>Aa(t[Md]),()=>t[Md].toString()],[ere]:t[Sne],[ire]:t[Ane],[Zne]:t[Cne],[Jne]:[()=>Aa(t[Sj]),()=>DV(t[Sj]).toString()],[Yne]:t[Ene],[zne]:t[mne]},t.Metadata!==void 0&&Object.keys(t.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=t.Metadata[c],a),{})));n.bp("/{Key+}"),n.p("Bucket",()=>t.Bucket,"{Bucket}",!1),n.p("Key",()=>t.Key,"{Key+}",!0);let i=On({[are]:[,"PutObject"]}),o,s;return t.Body!==void 0&&(s=t.Body,o=s),n.m("PUT").h(r).q(i).b(o),n.build()});var Aj=(t,e)=>_(void 0,null,function*(){if(t.statusCode!==200&&t.statusCode>=300)return Rj(t,e);let n=On({$metadata:ji(t),[F0]:[,t.headers[B0]],[V0]:[,t.headers[U0]],[L0]:[,t.headers[j0]],[Md]:[()=>t.headers[Pd]!==void 0,()=>oA(t.headers[Pd])]}),r=sA(dV(yield vA(t.body,e)),"body");return r[ID]!=null&&(n[ID]=sne(r[ID],e)),n});var Dj=(t,e)=>_(void 0,null,function*(){if(t.statusCode!==200&&t.statusCode>=300)return Rj(t,e);let n=On({$metadata:ji(t),[k0]:[,t.headers[qne]],[gne]:[,t.headers[Bne]],[Mj]:[,t.headers[Lj]],[Pj]:[,t.headers[Vj]],[Nj]:[,t.headers[Bj]],[kj]:[,t.headers[Uj]],[F0]:[,t.headers[B0]],[Dne]:[,t.headers[ore]],[Oj]:[,t.headers[jj]],[Fj]:[,t.headers[$j]],[V0]:[,t.headers[U0]],[L0]:[,t.headers[j0]],[Md]:[()=>t.headers[Pd]!==void 0,()=>oA(t.headers[Pd])],[Ine]:[,t.headers[Xne]]});return yield ap(t.body,e),n});var Rj=(t,e)=>_(void 0,null,function*(){let n=z(x({},t),{body:yield uB(t.body,e)}),r=dB(t,n.body);switch(r){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw yield nne(n,e);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw yield one(n,e);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw yield Zte(n,e);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw yield Jte(n,e);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw yield ene(n,e);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw yield Xte(n,e);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw yield tne(n,e);case"NotFound":case"com.amazonaws.s3#NotFound":throw yield rne(n,e);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw yield ine(n,e);default:let i=n.body;return Yte({output:t,parsedBody:i,errorCode:r})}}),Yte=bV(fr),Zte=(t,e)=>_(void 0,null,function*(){let n=On({}),r=t.body,i=new T0(x({$metadata:ji(t)},n));return fi(i,t.body)}),Jte=(t,e)=>_(void 0,null,function*(){let n=On({}),r=t.body,i=new A0(x({$metadata:ji(t)},n));return fi(i,t.body)}),Xte=(t,e)=>_(void 0,null,function*(){let n=On({}),r=t.body;r[CD]!=null&&(n[CD]=wd(r[CD])),r[O0]!=null&&(n[O0]=wd(r[O0]));let i=new R0(x({$metadata:ji(t)},n));return fi(i,t.body)}),ene=(t,e)=>_(void 0,null,function*(){let n=On({}),r=t.body,i=new D0(x({$metadata:ji(t)},n));return fi(i,t.body)}),tne=(t,e)=>_(void 0,null,function*(){let n=On({}),r=t.body,i=new M0(x({$metadata:ji(t)},n));return fi(i,t.body)}),nne=(t,e)=>_(void 0,null,function*(){let n=On({}),r=t.body,i=new S0(x({$metadata:ji(t)},n));return fi(i,t.body)}),rne=(t,e)=>_(void 0,null,function*(){let n=On({}),r=t.body,i=new P0(x({$metadata:ji(t)},n));return fi(i,t.body)}),ine=(t,e)=>_(void 0,null,function*(){let n=On({}),r=t.body,i=new N0(x({$metadata:ji(t)},n));return fi(i,t.body)}),one=(t,e)=>_(void 0,null,function*(){let n=On({}),r=t.body,i=new x0(x({$metadata:ji(t)},n));return fi(i,t.body)});var sne=(t,e)=>{let n={};return t[ED]!=null&&(n[ED]=wd(t[ED])),t[SD]!=null&&(n[SD]=wd(t[SD])),t[xD]!=null&&(n[xD]=wd(t[xD])),t[k0]!=null&&(n[k0]=sA(_V(t[k0]))),n};var ji=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]});var ane="ACL";var ED="AccessKeyId";var CD="AccessTier";var Md="BucketKeyEnabled";var ID="Credentials",cne="ChecksumAlgorithm";var lne="CacheControl",Mj="ChecksumCRC32",Pj="ChecksumCRC32C",une="ContentDisposition";var dne="ContentEncoding";var fne="ContentLanguage",Cj="ContentLength";var hne="ContentMD5";var Nj="ChecksumSHA1",kj="ChecksumSHA256";var pne="ContentType";var Ij="Expires";var mne="ExpectedBucketOwner";var gne="ETag";var k0="Expiration";var yne="GrantFullControl";var vne="GrantRead",_ne="GrantReadACP";var wne="GrantWriteACP";var bne="IfNoneMatch";var Ene="ObjectLockLegalHoldStatus",Cne="ObjectLockMode";var Sj="ObjectLockRetainUntilDate";var Ine="RequestCharged";var Sne="RequestPayer";var SD="SecretAccessKey";var O0="StorageClass";var xne="SessionMode";var F0="ServerSideEncryption";var Oj="SSECustomerAlgorithm",Tne="SSECustomerKey",Fj="SSECustomerKeyMD5";var L0="SSEKMSEncryptionContext",V0="SSEKMSKeyId";var xD="SessionToken";var Ane="Tagging";var Dne="VersionId";var Rne="WebsiteRedirectLocation";var Mne="cache-control",Pne="content-disposition",Nne="content-encoding",kne="content-language",One="content-length",Fne="content-md5";var Lne="content-type";var Vne="expires";var Bne="etag";var Une="if-none-match";var jne="session";var $ne="x-amz-acl";var Lj="x-amz-checksum-crc32",Vj="x-amz-checksum-crc32c";var Bj="x-amz-checksum-sha1",Uj="x-amz-checksum-sha256";var Hne="x-amz-create-session-mode";var qne="x-amz-expiration",zne="x-amz-expected-bucket-owner";var Gne="x-amz-grant-full-control",Wne="x-amz-grant-read",Kne="x-amz-grant-read-acp";var Qne="x-amz-grant-write-acp";var Yne="x-amz-object-lock-legal-hold",Zne="x-amz-object-lock-mode",Jne="x-amz-object-lock-retain-until-date";var Xne="x-amz-request-charged";var ere="x-amz-request-payer";var tre="x-amz-storage-class",nre="x-amz-sdk-checksum-algorithm";var B0="x-amz-server-side-encryption",U0="x-amz-server-side-encryption-aws-kms-key-id",Pd="x-amz-server-side-encryption-bucket-key-enabled",j0="x-amz-server-side-encryption-context",jj="x-amz-server-side-encryption-customer-algorithm",rre="x-amz-server-side-encryption-customer-key",$j="x-amz-server-side-encryption-customer-key-md5",ire="x-amz-tagging";var ore="x-amz-version-id",sre="x-amz-website-redirect-location",are="x-id";var $0=class extends cl.classBuilder().ep(z(x({},I0),{DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}})).m(function(e,n,r,i){return[I_(r,this.serialize,this.deserialize),i0(r,e.getEndpointParameterInstructions()),z_(r)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(wj,_j).ser(xj).de(Aj).build(){};var Hj={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.679.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"vitest run","test:watch":"vitest watch","test:e2e":"vitest run -c vitest.config.e2e.ts && yarn test:browser","test:e2e:watch":"vitest watch -c vitest.config.e2e.ts","test:browser":"node ./test/browser-build/esbuild && vitest run -c vitest.config.browser.ts","test:browser:watch":"node ./test/browser-build/esbuild && vitest watch -c vitest.config.browser.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.679.0","@aws-sdk/client-sts":"3.679.0","@aws-sdk/core":"3.679.0","@aws-sdk/credential-provider-node":"3.679.0","@aws-sdk/middleware-bucket-endpoint":"3.679.0","@aws-sdk/middleware-expect-continue":"3.679.0","@aws-sdk/middleware-flexible-checksums":"3.679.0","@aws-sdk/middleware-host-header":"3.679.0","@aws-sdk/middleware-location-constraint":"3.679.0","@aws-sdk/middleware-logger":"3.679.0","@aws-sdk/middleware-recursion-detection":"3.679.0","@aws-sdk/middleware-sdk-s3":"3.679.0","@aws-sdk/middleware-ssec":"3.679.0","@aws-sdk/middleware-user-agent":"3.679.0","@aws-sdk/region-config-resolver":"3.679.0","@aws-sdk/signature-v4-multi-region":"3.679.0","@aws-sdk/types":"3.679.0","@aws-sdk/util-endpoints":"3.679.0","@aws-sdk/util-user-agent-browser":"3.679.0","@aws-sdk/util-user-agent-node":"3.679.0","@aws-sdk/xml-builder":"3.679.0","@smithy/config-resolver":"^3.0.9","@smithy/core":"^2.4.8","@smithy/eventstream-serde-browser":"^3.0.10","@smithy/eventstream-serde-config-resolver":"^3.0.7","@smithy/eventstream-serde-node":"^3.0.9","@smithy/fetch-http-handler":"^3.2.9","@smithy/hash-blob-browser":"^3.1.6","@smithy/hash-node":"^3.0.7","@smithy/hash-stream-node":"^3.1.6","@smithy/invalid-dependency":"^3.0.7","@smithy/md5-js":"^3.0.7","@smithy/middleware-content-length":"^3.0.9","@smithy/middleware-endpoint":"^3.1.4","@smithy/middleware-retry":"^3.0.23","@smithy/middleware-serde":"^3.0.7","@smithy/middleware-stack":"^3.0.7","@smithy/node-config-provider":"^3.1.8","@smithy/node-http-handler":"^3.2.4","@smithy/protocol-http":"^4.1.4","@smithy/smithy-client":"^3.4.0","@smithy/types":"^3.5.0","@smithy/url-parser":"^3.0.7","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.23","@smithy/util-defaults-mode-node":"^3.0.23","@smithy/util-endpoints":"^2.1.3","@smithy/util-middleware":"^3.0.7","@smithy/util-retry":"^3.0.7","@smithy/util-stream":"^3.1.9","@smithy/util-utf8":"^3.0.0","@smithy/util-waiter":"^3.1.6",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/signature-v4-crt":"3.679.0","@tsconfig/node16":"16.1.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};var TD=t=>new TextEncoder().encode(t);function AD(t){return typeof t=="string"?t.length===0:t.byteLength===0}var DD={name:"SHA-1"},RD={name:"HMAC",hash:DD},qj=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);var lre={};function mi(){return typeof window<"u"?window:typeof self<"u"?self:lre}var MD=function(){function t(e){this.toHash=new Uint8Array(0),e!==void 0&&(this.key=new Promise(function(n,r){mi().crypto.subtle.importKey("raw",zj(e),RD,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))}return t.prototype.update=function(e){if(!AD(e)){var n=zj(e),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(n){return mi().crypto.subtle.sign(RD,n,e.toHash).then(function(r){return new Uint8Array(r)})}):AD(this.toHash)?Promise.resolve(qj):Promise.resolve().then(function(){return mi().crypto.subtle.digest(DD,e.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},t.prototype.reset=function(){this.toHash=new Uint8Array(0)},t}();function zj(t){return typeof t=="string"?TD(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var ure=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function H0(t){if(dre(t)&&typeof t.crypto.subtle=="object"){var e=t.crypto.subtle;return fre(e)}return!1}function dre(t){if(typeof t=="object"&&typeof t.crypto=="object"){var e=t.crypto.getRandomValues;return typeof e=="function"}return!1}function fre(t){return t&&ure.every(function(e){return typeof t[e]=="function"})}var Gj=function(){function t(e){if(H0(mi()))this.hash=new MD(e);else throw new Error("SHA1 not supported")}return t.prototype.update=function(e,n){this.hash.update(lr(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();var PD={name:"SHA-256"},ND={name:"HMAC",hash:PD},Wj=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);var kD=function(){function t(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return t.prototype.update=function(e){if(!Ao(e)){var n=lr(e),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(n){return mi().crypto.subtle.sign(ND,n,e.toHash).then(function(r){return new Uint8Array(r)})}):Ao(this.toHash)?Promise.resolve(Wj):Promise.resolve().then(function(){return mi().crypto.subtle.digest(PD,e.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},t.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(n,r){mi().crypto.subtle.importKey("raw",lr(e.secret),ND,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))},t}();var Cr=64,Kj=32,Qj=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Yj=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Zj=Math.pow(2,53)-1;var Ip=function(){function t(){this.state=Int32Array.from(Yj),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,r=e.byteLength;if(this.bytesHashed+=r,this.bytesHashed*8>Zj)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=e[n++],r--,this.bufferLength===Cr&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(n.setUint8(this.bufferLength++,128),r%Cr>=Cr-8){for(var i=this.bufferLength;i<Cr;i++)n.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<Cr-8;i++)n.setUint8(i,0);n.setUint32(Cr-8,Math.floor(e/4294967296),!0),n.setUint32(Cr-4,e),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(Kj),i=0;i<8;i++)o[i*4]=this.state[i]>>>24&255,o[i*4+1]=this.state[i]>>>16&255,o[i*4+2]=this.state[i]>>>8&255,o[i*4+3]=this.state[i]>>>0&255;return o},t.prototype.hashBuffer=function(){for(var e=this,n=e.buffer,r=e.state,i=r[0],o=r[1],s=r[2],a=r[3],c=r[4],l=r[5],f=r[6],h=r[7],y=0;y<Cr;y++){if(y<16)this.temp[y]=(n[y*4]&255)<<24|(n[y*4+1]&255)<<16|(n[y*4+2]&255)<<8|n[y*4+3]&255;else{var w=this.temp[y-2],I=(w>>>17|w<<15)^(w>>>19|w<<13)^w>>>10;w=this.temp[y-15];var L=(w>>>7|w<<25)^(w>>>18|w<<14)^w>>>3;this.temp[y]=(I+this.temp[y-7]|0)+(L+this.temp[y-16]|0)}var P=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&l^~c&f)|0)+(h+(Qj[y]+this.temp[y]|0)|0)|0,$=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&o^i&s^o&s)|0;h=f,f=l,l=c,c=a+P|0,a=s,s=o,o=i,i=P+$|0}r[0]+=i,r[1]+=o,r[2]+=s,r[3]+=a,r[4]+=c,r[5]+=l,r[6]+=f,r[7]+=h},t}();var Jj=function(){function t(e){this.secret=e,this.hash=new Ip,this.reset()}return t.prototype.update=function(e){if(!(Ao(e)||this.error))try{this.hash.update(lr(e))}catch(n){this.error=n}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return Ls(this,void 0,void 0,function(){return $l(this,function(e){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new Ip,this.secret){this.outer=new Ip;var e=hre(this.secret),n=new Uint8Array(Cr);n.set(e);for(var r=0;r<Cr;r++)e[r]^=54,n[r]^=92;this.hash.update(e),this.outer.update(n);for(var r=0;r<e.byteLength;r++)e[r]=0}},t}();function hre(t){var e=lr(t);if(e.byteLength>Cr){var n=new Ip;n.update(e),e=n.digest()}var r=new Uint8Array(Cr);return r.set(e),r}var Xj=function(){function t(e){H0(mi())?this.hash=new kD(e):this.hash=new Jj(e)}return t.prototype.update=function(e,n){this.hash.update(lr(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();var e$=tc(FD());var t$=({serviceId:t,clientVersion:e})=>n=>_(void 0,null,function*(){let r=typeof window<"u"&&window?.navigator?.userAgent?e$.default.parse(window.navigator.userAgent):void 0,i=[["aws-sdk-js",e],["ua","2.1"],[`os/${r?.os?.name||"other"}`,r?.os?.version],["lang/js"],["md/browser",`${r?.browser?.name??"unknown"}_${r?.browser?.version??"unknown"}`]];t&&i.push([`api/${t}`,e]);let o=yield n?.userAgentAppId?.();return o&&i.push([`app/${o}`]),i});var Nd=class t{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let n=new Uint8Array(8);for(let r=7,i=Math.abs(Math.round(e));r>-1&&i>0;r--,i/=256)n[r]=i;return e<0&&n$(n),new t(n)}valueOf(){let e=this.bytes.slice(0),n=e[0]&128;return n&&n$(e),parseInt(zt(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function n$(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var q0=class{constructor(e,n){this.toUtf8=e,this.fromUtf8=n}format(e){let n=[];for(let o of Object.keys(e)){let s=this.fromUtf8(o);n.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let r=new Uint8Array(n.reduce((o,s)=>o+s.byteLength,0)),i=0;for(let o of n)r.set(o,i),i+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let a=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(Nd.fromNumber(e.value.valueOf()).bytes,1),f;case"uuid":if(!Ere.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let h=new Uint8Array(17);return h[0]=9,h.set(S_(e.value.replace(/\-/g,"")),1),h}}parse(e){let n={},r=0;for(;r<e.byteLength;){let i=e.getUint8(r++),o=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,i));switch(r+=i,e.getUint8(r++)){case 0:n[o]={type:r$,value:!0};break;case 1:n[o]={type:r$,value:!1};break;case 2:n[o]={type:pre,value:e.getInt8(r++)};break;case 3:n[o]={type:mre,value:e.getInt16(r,!1)},r+=2;break;case 4:n[o]={type:gre,value:e.getInt32(r,!1)},r+=4;break;case 5:n[o]={type:yre,value:new Nd(new Uint8Array(e.buffer,e.byteOffset+r,8))},r+=8;break;case 6:let s=e.getUint16(r,!1);r+=2,n[o]={type:vre,value:new Uint8Array(e.buffer,e.byteOffset+r,s)},r+=s;break;case 7:let a=e.getUint16(r,!1);r+=2,n[o]={type:_re,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,a))},r+=a;break;case 8:n[o]={type:wre,value:new Date(new Nd(new Uint8Array(e.buffer,e.byteOffset+r,8)).valueOf())},r+=8;break;case 9:let c=new Uint8Array(e.buffer,e.byteOffset+r,16);r+=16,n[o]={type:bre,value:`${zt(c.subarray(0,4))}-${zt(c.subarray(4,6))}-${zt(c.subarray(6,8))}-${zt(c.subarray(8,10))}-${zt(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return n}};var r$="boolean",pre="byte",mre="short",gre="integer",yre="long",vre="binary",_re="string",wre="timestamp",bre="uuid",Ere=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var i$=4,Oa=i$*2,gl=4,Cre=Oa+gl*2;function o$({byteLength:t,byteOffset:e,buffer:n}){if(t<Cre)throw new Error("Provided message too short to accommodate event stream message overhead");let r=new DataView(n,e,t),i=r.getUint32(0,!1);if(t!==i)throw new Error("Reported message length does not match received message length");let o=r.getUint32(i$,!1),s=r.getUint32(Oa,!1),a=r.getUint32(t-gl,!1),c=new ul().update(new Uint8Array(n,e,Oa));if(s!==c.digest())throw new Error(`The prelude checksum specified in the message (${s}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(n,e+Oa,t-(Oa+gl))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(n,e+Oa+gl,o),body:new Uint8Array(n,e+Oa+gl+o,i-o-(Oa+gl+gl))}}var z0=class{constructor(e,n){this.headerMarshaller=new q0(e,n),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){let e=this.messageBuffer.pop(),n=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return n}}}getAvailableMessages(){let e=this.messageBuffer;this.messageBuffer=[];let n=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return n}}}encode({headers:e,body:n}){let r=this.headerMarshaller.format(e),i=r.byteLength+n.byteLength+16,o=new Uint8Array(i),s=new DataView(o.buffer,o.byteOffset,o.byteLength),a=new ul;return s.setUint32(0,i,!1),s.setUint32(4,r.byteLength,!1),s.setUint32(8,a.update(o.subarray(0,8)).digest(),!1),o.set(r,12),o.set(n,r.byteLength+12),s.setUint32(i-4,a.update(o.subarray(8,i-4)).digest(),!1),o}decode(e){let{headers:n,body:r}=o$(e);return{headers:this.headerMarshaller.parse(n),body:r}}formatHeaders(e){return this.headerMarshaller.format(e)}};var G0=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return gr(this,null,function*(){try{for(var e=Fo(this.options.inputStream),n,r,i;n=!(r=yield new Zt(e.next())).done;n=!1){let o=r.value;yield this.options.decoder.decode(o)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new Zt(r.call(e)))}finally{if(i)throw i[0]}}})}};var W0=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return gr(this,null,function*(){try{for(var e=Fo(this.options.messageStream),n,r,i;n=!(r=yield new Zt(e.next())).done;n=!1){let o=r.value;yield this.options.encoder.encode(o)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new Zt(r.call(e)))}finally{if(i)throw i[0]}}this.options.includeEndFrame&&(yield new Uint8Array(0))})}};var K0=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return gr(this,null,function*(){try{for(var e=Fo(this.options.messageStream),n,r,i;n=!(r=yield new Zt(e.next())).done;n=!1){let o=r.value;let s=yield new Zt(this.options.deserializer(o));s!==void 0&&(yield s)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new Zt(r.call(e)))}finally{if(i)throw i[0]}}})}};var Q0=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){return gr(this,null,function*(){try{for(var e=Fo(this.options.inputStream),n,r,i;n=!(r=yield new Zt(e.next())).done;n=!1){let o=r.value;yield this.options.serializer(o)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new Zt(r.call(e)))}finally{if(i)throw i[0]}}})}};function s$(t){let e=0,n=0,r=null,i=null,o=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);e=a,n=4,r=new Uint8Array(a),new DataView(r.buffer).setUint32(0,a,!1)},s=function(){return gr(this,null,function*(){let a=t[Symbol.asyncIterator]();for(;;){let{value:c,done:l}=yield new Zt(a.next());if(l){if(e)if(e===n)yield r;else throw new Error("Truncated event message received.");else return;return}let f=c.length,h=0;for(;h<f;){if(!r){let w=f-h;i||(i=new Uint8Array(4));let I=Math.min(4-n,w);if(i.set(c.slice(h,h+I),n),n+=I,h+=I,n<4)break;o(new DataView(i.buffer).getUint32(0,!1)),i=null}let y=Math.min(e-n,f-h);r.set(c.slice(h,h+y),n),n+=y,h+=y,e&&e===n&&(yield r,r=null,e=0,n=0)}}})};return{[Symbol.asyncIterator]:s}}function a$(t,e){return function(n){return _(this,null,function*(){let{value:r}=n.headers[":message-type"];if(r==="error"){let i=new Error(n.headers[":error-message"].value||"UnknownError");throw i.name=n.headers[":error-code"].value,i}else if(r==="exception"){let i=n.headers[":exception-type"].value,o={[i]:n},s=yield t(o);if(s.$unknown){let a=new Error(e(n.body));throw a.name=i,a}throw s[i]}else if(r==="event"){let i={[n.headers[":event-type"].value]:n},o=yield t(i);return o.$unknown?void 0:o}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)})}}var xp=class{constructor({utf8Encoder:e,utf8Decoder:n}){this.eventStreamCodec=new z0(e,n),this.utfEncoder=e}deserialize(e,n){let r=s$(e);return new K0({messageStream:new G0({inputStream:r,decoder:this.eventStreamCodec}),deserializer:a$(n,this.utfEncoder)})}serialize(e,n){return new W0({messageStream:new Q0({inputStream:e,serializer:n}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};var c$=t=>({[Symbol.asyncIterator]:function(){return gr(this,null,function*(){let e=t.getReader();try{for(;;){let{done:n,value:r}=yield new Zt(e.read());if(n)return;yield r}}finally{e.releaseLock()}})}}),l$=t=>{let e=t[Symbol.asyncIterator]();return new ReadableStream({pull(r){return _(this,null,function*(){let{done:i,value:o}=yield e.next();if(i)return r.close();r.enqueue(o)})}})};var Y0=class{constructor({utf8Encoder:e,utf8Decoder:n}){this.universalMarshaller=new xp({utf8Decoder:n,utf8Encoder:e})}deserialize(e,n){let r=Ire(e)?c$(e):e;return this.universalMarshaller.deserialize(r,n)}serialize(e,n){let r=this.universalMarshaller.serialize(e,n);return typeof ReadableStream=="function"?l$(r):r}},Ire=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream;var u$=t=>new Y0(t);function d$(t=0){return new Promise((e,n)=>{t&&setTimeout(()=>{let r=new Error(`Request did not complete within ${t} ms`);r.name="TimeoutError",n(r)},t)})}var LD={supported:void 0},Z0=class t{static create(e){return typeof e?.handle=="function"?e:new t(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(n=>n||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),LD.supported===void 0&&(LD.supported=typeof Request<"u"&&"keepalive"in new Request("https://[::1]"))}destroy(){}handle(r){return _(this,arguments,function*(e,{abortSignal:n}={}){this.config||(this.config=yield this.configProvider);let i=this.config.requestTimeout,o=this.config.keepAlive===!0,s=this.config.credentials;if(n?.aborted){let Q=new Error("Request aborted");return Q.name="AbortError",Promise.reject(Q)}let a=e.path,c=$T(e.query||{});c&&(a+=`?${c}`),e.fragment&&(a+=`#${e.fragment}`);let l="";if(e.username!=null||e.password!=null){let Q=e.username??"",ne=e.password??"";l=`${Q}:${ne}@`}let{port:f,method:h}=e,y=`${e.protocol}//${l}${e.hostname}${f?`:${f}`:""}${a}`,w=h==="GET"||h==="HEAD"?void 0:e.body,I={body:w,headers:new Headers(e.headers),method:h,credentials:s};this.config?.cache&&(I.cache=this.config.cache),w&&(I.duplex="half"),typeof AbortController<"u"&&(I.signal=n),LD.supported&&(I.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(I,this.config.requestInit(e));let L=()=>{},P=new Request(y,I),$=[fetch(P).then(Q=>{let ne=Q.headers,de={};for(let me of ne.entries())de[me[0]]=me[1];return Q.body!=null?{response:new br({headers:de,reason:Q.statusText,statusCode:Q.status,body:Q.body})}:Q.blob().then(me=>({response:new br({headers:de,reason:Q.statusText,statusCode:Q.status,body:me})}))}),d$(i)];return n&&$.push(new Promise((Q,ne)=>{let de=()=>{let Ae=new Error("Request aborted");Ae.name="AbortError",ne(Ae)};if(typeof n.addEventListener=="function"){let Ae=n;Ae.addEventListener("abort",de,{once:!0}),L=()=>Ae.removeEventListener("abort",de)}else n.onabort=de})),Promise.race($).finally(L)})}updateHttpClientConfig(e,n){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[e]=n,r))}httpHandlerConfigs(){return this.config??{}}};var f$=t=>typeof Blob=="function"&&t instanceof Blob?Sre(t):xre(t);function Sre(t){return _(this,null,function*(){let e=yield Tre(t),n=yd(e);return new Uint8Array(n)})}function xre(t){return _(this,null,function*(){let e=[],n=t.getReader(),r=!1,i=0;for(;!r;){let{done:a,value:c}=yield n.read();c&&(e.push(c),i+=c.length),r=a}let o=new Uint8Array(i),s=0;for(let a of e)o.set(a,s),s+=a.length;return o})}function Tre(t){return new Promise((e,n)=>{let r=new FileReader;r.onloadend=()=>{if(r.readyState!==2)return n(new Error("Reader aborted too early"));let i=r.result??"",o=i.indexOf(","),s=o>-1?o+1:i.length;e(i.substring(s))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(t)})}function h$(r,i){return _(this,arguments,function*(t,e,n=1024*1024){let o=t.size,s=0;for(;s<o;){let a=t.slice(s,Math.min(o,s+n));e(new Uint8Array(yield a.arrayBuffer())),s+=a.size}})}var p$=function(e,n){return _(this,null,function*(){let r=new e;return yield h$(n,i=>{r.update(i)}),r.digest()})};var m$=t=>()=>Promise.reject(t);var g$=[1732584193,4023233417,2562383102,271733878];var J0=class{constructor(){this.reset()}update(e){if(Dre(e))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");let n=Rre(e),r=0,{byteLength:i}=n;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,n[r++]),i--,this.bufferLength===64&&(this.hashBuffer(),this.bufferLength=0)}digest(){return _(this,null,function*(){if(!this.finished){let{buffer:n,bufferLength:r,bytesHashed:i}=this,o=i*8;if(n.setUint8(this.bufferLength++,128),r%64>=56){for(let s=this.bufferLength;s<64;s++)n.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(let s=this.bufferLength;s<56;s++)n.setUint8(s,0);n.setUint32(56,o>>>0,!0),n.setUint32(60,Math.floor(o/4294967296),!0),this.hashBuffer(),this.finished=!0}let e=new DataView(new ArrayBuffer(16));for(let n=0;n<4;n++)e.setUint32(n*4,this.state[n],!0);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)})}hashBuffer(){let{buffer:e,state:n}=this,r=n[0],i=n[1],o=n[2],s=n[3];r=Kn(r,i,o,s,e.getUint32(0,!0),7,3614090360),s=Kn(s,r,i,o,e.getUint32(4,!0),12,3905402710),o=Kn(o,s,r,i,e.getUint32(8,!0),17,606105819),i=Kn(i,o,s,r,e.getUint32(12,!0),22,3250441966),r=Kn(r,i,o,s,e.getUint32(16,!0),7,4118548399),s=Kn(s,r,i,o,e.getUint32(20,!0),12,1200080426),o=Kn(o,s,r,i,e.getUint32(24,!0),17,2821735955),i=Kn(i,o,s,r,e.getUint32(28,!0),22,4249261313),r=Kn(r,i,o,s,e.getUint32(32,!0),7,1770035416),s=Kn(s,r,i,o,e.getUint32(36,!0),12,2336552879),o=Kn(o,s,r,i,e.getUint32(40,!0),17,4294925233),i=Kn(i,o,s,r,e.getUint32(44,!0),22,2304563134),r=Kn(r,i,o,s,e.getUint32(48,!0),7,1804603682),s=Kn(s,r,i,o,e.getUint32(52,!0),12,4254626195),o=Kn(o,s,r,i,e.getUint32(56,!0),17,2792965006),i=Kn(i,o,s,r,e.getUint32(60,!0),22,1236535329),r=Qn(r,i,o,s,e.getUint32(4,!0),5,4129170786),s=Qn(s,r,i,o,e.getUint32(24,!0),9,3225465664),o=Qn(o,s,r,i,e.getUint32(44,!0),14,643717713),i=Qn(i,o,s,r,e.getUint32(0,!0),20,3921069994),r=Qn(r,i,o,s,e.getUint32(20,!0),5,3593408605),s=Qn(s,r,i,o,e.getUint32(40,!0),9,38016083),o=Qn(o,s,r,i,e.getUint32(60,!0),14,3634488961),i=Qn(i,o,s,r,e.getUint32(16,!0),20,3889429448),r=Qn(r,i,o,s,e.getUint32(36,!0),5,568446438),s=Qn(s,r,i,o,e.getUint32(56,!0),9,3275163606),o=Qn(o,s,r,i,e.getUint32(12,!0),14,4107603335),i=Qn(i,o,s,r,e.getUint32(32,!0),20,1163531501),r=Qn(r,i,o,s,e.getUint32(52,!0),5,2850285829),s=Qn(s,r,i,o,e.getUint32(8,!0),9,4243563512),o=Qn(o,s,r,i,e.getUint32(28,!0),14,1735328473),i=Qn(i,o,s,r,e.getUint32(48,!0),20,2368359562),r=Yn(r,i,o,s,e.getUint32(20,!0),4,4294588738),s=Yn(s,r,i,o,e.getUint32(32,!0),11,2272392833),o=Yn(o,s,r,i,e.getUint32(44,!0),16,1839030562),i=Yn(i,o,s,r,e.getUint32(56,!0),23,4259657740),r=Yn(r,i,o,s,e.getUint32(4,!0),4,2763975236),s=Yn(s,r,i,o,e.getUint32(16,!0),11,1272893353),o=Yn(o,s,r,i,e.getUint32(28,!0),16,4139469664),i=Yn(i,o,s,r,e.getUint32(40,!0),23,3200236656),r=Yn(r,i,o,s,e.getUint32(52,!0),4,681279174),s=Yn(s,r,i,o,e.getUint32(0,!0),11,3936430074),o=Yn(o,s,r,i,e.getUint32(12,!0),16,3572445317),i=Yn(i,o,s,r,e.getUint32(24,!0),23,76029189),r=Yn(r,i,o,s,e.getUint32(36,!0),4,3654602809),s=Yn(s,r,i,o,e.getUint32(48,!0),11,3873151461),o=Yn(o,s,r,i,e.getUint32(60,!0),16,530742520),i=Yn(i,o,s,r,e.getUint32(8,!0),23,3299628645),r=Zn(r,i,o,s,e.getUint32(0,!0),6,4096336452),s=Zn(s,r,i,o,e.getUint32(28,!0),10,1126891415),o=Zn(o,s,r,i,e.getUint32(56,!0),15,2878612391),i=Zn(i,o,s,r,e.getUint32(20,!0),21,4237533241),r=Zn(r,i,o,s,e.getUint32(48,!0),6,1700485571),s=Zn(s,r,i,o,e.getUint32(12,!0),10,2399980690),o=Zn(o,s,r,i,e.getUint32(40,!0),15,4293915773),i=Zn(i,o,s,r,e.getUint32(4,!0),21,2240044497),r=Zn(r,i,o,s,e.getUint32(32,!0),6,1873313359),s=Zn(s,r,i,o,e.getUint32(60,!0),10,4264355552),o=Zn(o,s,r,i,e.getUint32(24,!0),15,2734768916),i=Zn(i,o,s,r,e.getUint32(52,!0),21,1309151649),r=Zn(r,i,o,s,e.getUint32(16,!0),6,4149444226),s=Zn(s,r,i,o,e.getUint32(44,!0),10,3174756917),o=Zn(o,s,r,i,e.getUint32(8,!0),15,718787259),i=Zn(i,o,s,r,e.getUint32(36,!0),21,3951481745),n[0]=r+n[0]&4294967295,n[1]=i+n[1]&4294967295,n[2]=o+n[2]&4294967295,n[3]=s+n[3]&4294967295}reset(){this.state=Uint32Array.from(g$),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}};function X0(t,e,n,r,i,o){return e=(e+t&4294967295)+(r+o&4294967295)&4294967295,(e<<i|e>>>32-i)+n&4294967295}function Kn(t,e,n,r,i,o,s){return X0(e&n|~e&r,t,e,i,o,s)}function Qn(t,e,n,r,i,o,s){return X0(e&r|n&~r,t,e,i,o,s)}function Yn(t,e,n,r,i,o,s){return X0(e^n^r,t,e,i,o,s)}function Zn(t,e,n,r,i,o,s){return X0(n^(e|~r),t,e,i,o,s)}function Dre(t){return typeof t=="string"?t.length===0:t.byteLength===0}function Rre(t){return typeof t=="string"?$r(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var y$=typeof TextEncoder=="function"?new TextEncoder:null,v$=t=>{if(typeof t=="string"){if(y$)return y$.encode(t).byteLength;let e=t.length;for(let n=e-1;n>=0;n--){let r=t.charCodeAt(n);r>127&&r<=2047?e++:r>2047&&r<=65535&&(e+=2),r>=56320&&r<=57343&&n--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)};var _$=t=>({apiVersion:"2006-03-01",base64Decoder:t?.base64Decoder??yd,base64Encoder:t?.base64Encoder??ol,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??C0,extensions:t?.extensions??[],getAwsChunkedEncodingStream:t?.getAwsChunkedEncodingStream??SL,httpAuthSchemeProvider:t?.httpAuthSchemeProvider??gj,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new nl},{schemeId:"aws.auth#sigv4a",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4a"),signer:new op}],logger:t?.logger??new Da,sdkStreamMixin:t?.sdkStreamMixin??RL,serviceId:t?.serviceId??"S3",signerConstructor:t?.signerConstructor??f0,signingEscapePath:t?.signingEscapePath??!1,urlParser:t?.urlParser??Id,useArnRegion:t?.useArnRegion??!1,utf8Decoder:t?.utf8Decoder??$r,utf8Encoder:t?.utf8Encoder??vd});var b$=tc(FD());var w$=["in-region","cross-region","mobile","standard","legacy"];var E$=({defaultsMode:t}={})=>FL(()=>_(void 0,null,function*(){let e=typeof t=="function"?yield t():t;switch(e?.toLowerCase()){case"auto":return Promise.resolve(Mre()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${w$.join(", ")}, got ${e}`)}})),Mre=()=>{let e=(typeof window<"u"&&window?.navigator?.userAgent?b$.default.parse(window.navigator.userAgent):void 0)?.platform?.type;return e==="tablet"||e==="mobile"};var C$=t=>{let e=E$(t),n=()=>e().then(EV),r=_$(t);return z(x(x({},r),t),{runtime:"browser",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??v$,credentialDefaultProvider:t?.credentialDefaultProvider??(i=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:t?.defaultUserAgentProvider??t$({serviceId:r.serviceId,clientVersion:Hj.version}),eventStreamSerdeProvider:t?.eventStreamSerdeProvider??u$,maxAttempts:t?.maxAttempts??Pa,md5:t?.md5??J0,region:t?.region??m$("Region is missing"),requestHandler:Z0.create(t?.requestHandler??n),retryMode:t?.retryMode??(()=>_(void 0,null,function*(){return(yield n()).retryMode||VA})),sha1:t?.sha1??Gj,sha256:t?.sha256??Xj,streamCollector:t?.streamCollector??f$,streamHasher:t?.streamHasher??p$,useDualstackEndpoint:t?.useDualstackEndpoint??(()=>Promise.resolve(bU)),useFipsEndpoint:t?.useFipsEndpoint??(()=>Promise.resolve(EU))})};var I$=t=>{let e=()=>_(void 0,null,function*(){if(t.region===void 0)throw new Error("Region is missing from runtimeConfig");let n=t.region;return typeof n=="string"?n:n()});return{setRegion(n){e=n},region(){return e}}},S$=t=>({region:t.region()});var x$=t=>{let e=t.httpAuthSchemes,n=t.httpAuthSchemeProvider,r=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){n=i},httpAuthSchemeProvider(){return n},setCredentials(i){r=i},credentials(){return r}}},T$=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()});var ew=t=>t,A$=(t,e)=>{let n=x(x(x(x({},ew(I$(t))),ew(TV(t))),ew(uL(t))),ew(x$(t)));return e.forEach(r=>r.configure(n)),x(x(x(x(x({},t),S$(n)),AV(n)),dL(n)),T$(n))};var tw=class extends V_{constructor(...[e]){let n=C$(e||{}),r=vj(n),i=KB(r),o=CB(i),s=qU(o),a=CU(s),c=a,l=PU(c),f=IU(l),h=yj(f),y=HB(h,{session:[()=>this,$0]}),w=A$(y,e?.extensions||[]);super(w),this.config=w,this.middlewareStack.use(wU(this.config)),this.middlewareStack.use(GU(this.config)),this.middlewareStack.use(xU(this.config)),this.middlewareStack.use(IB(this.config)),this.middlewareStack.use(SB(this.config)),this.middlewareStack.use(TB(this.config)),this.middlewareStack.use(yL(this.config,{httpAuthSchemeParametersProvider:hj,identityProviderConfigProvider:I=>_(this,null,function*(){return new D_({"aws.auth#sigv4":I.credentials,"aws.auth#sigv4a":I.credentials})})})),this.middlewareStack.use(bL(this.config)),this.middlewareStack.use(WB(this.config)),this.middlewareStack.use(fL(this.config)),this.middlewareStack.use(MB(this.config)),this.middlewareStack.use(xA(this.config)),this.middlewareStack.use(TA(this.config))}destroy(){super.destroy()}};function Nre(t){return e=>n=>_(this,null,function*(){let r=x({},n.input),i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let o of i){let s=r[o.target];if(s){let a;typeof s=="string"?Ore(s,t)?a=t.base64Decoder(s):(a=t.utf8Decoder(s),r[o.target]=t.base64Encoder(a)):(a=ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s),r[o.target]=t.base64Encoder(a));let c=new t.md5;c.update(a),r[o.hash]=t.base64Encoder(yield c.digest())}}return e(z(x({},n),{input:r}))})}var kre={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},D$=t=>({applyToStack:e=>{e.add(Nre(t),kre)}});function Ore(t,e){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t))return!1;try{return e.base64Decoder(t).length===32}catch{return!1}}var nw=class extends cl.classBuilder().ep(z(x({},I0),{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}})).m(function(e,n,r,i){return[I_(r,this.serialize,this.deserialize),i0(r,e.getEndpointParameterInstructions()),EB(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}),AB(r),z_(r),D$(r)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(Ej,bj).ser(Tj).de(Dj).build(){};var Tp={bucketName:"clinic-profile-images",region:"nyc3",accessKeyId:"DO00U2C2Q94HAEM78V2Q",secretAccessKey:"Vj8Gg8mgZ0p78/cy6TadY3a/dJ1Al1Z6DfcDKhkHENA"};var Ln=[];for(let t=0;t<256;++t)Ln.push((t+256).toString(16).slice(1));function R$(t,e=0){return(Ln[t[e+0]]+Ln[t[e+1]]+Ln[t[e+2]]+Ln[t[e+3]]+"-"+Ln[t[e+4]]+Ln[t[e+5]]+"-"+Ln[t[e+6]]+Ln[t[e+7]]+"-"+Ln[t[e+8]]+Ln[t[e+9]]+"-"+Ln[t[e+10]]+Ln[t[e+11]]+Ln[t[e+12]]+Ln[t[e+13]]+Ln[t[e+14]]+Ln[t[e+15]]).toLowerCase()}var VD,Fre=new Uint8Array(16);function BD(){if(!VD){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");VD=crypto.getRandomValues.bind(crypto)}return VD(Fre)}var Lre=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),UD={randomUUID:Lre};function Vre(t,e,n){if(UD.randomUUID&&!e&&!t)return UD.randomUUID();t=t||{};let r=t.random||(t.rng||BD)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return R$(r)}var jD=Vre;var La=class t{s3Client;bucketName=Tp.bucketName;region=Tp.region;constructor(){this.s3Client=new tw({region:this.region,endpoint:"https://nyc3.digitaloceanspaces.com",credentials:{accessKeyId:Tp.accessKeyId,secretAccessKey:Tp.secretAccessKey}})}uploadImage(e){return _(this,null,function*(){if(!["image/jpeg","image/png","image/gif"].includes(e.type))throw new Error("Tipo de archivo no soportado.");let r=e.name.split(".").pop(),i=`${jD()}.${r}`,o=new nw({Bucket:this.bucketName,Key:i,Body:e,ACL:"public-read"});try{return yield this.s3Client.send(o),`https://${this.bucketName}.nyc3.digitaloceanspaces.com/${i}`}catch(s){console.error("Error al subir la imagen",s);let a=s;throw new Error(`Error al subir la imagen: ${a.message}`)}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})};function Bre(t,e){t&1&&(C(0,"div",23),D(1," El nombre es requerido y solo puede contener letras. "),b())}function Ure(t,e){t&1&&(C(0,"div",23),D(1," El apellido es requerido y solo puede contener letras. "),b())}function jre(t,e){t&1&&(C(0,"div",23),D(1," La edad es requerida y debe ser un n\xFAmero positivo. "),b())}function $re(t,e){t&1&&(C(0,"div",23),D(1," El DNI es requerido y debe tener 10 d\xEDgitos. "),b())}function Hre(t,e){t&1&&(C(0,"div",23),D(1," La obra social es requerida. "),b())}function qre(t,e){t&1&&(C(0,"div",23),D(1," Por favor, ingresa un correo v\xE1lido. "),b())}function zre(t,e){t&1&&(C(0,"div",23),D(1," La contrase\xF1a es requerida y debe tener al menos 6 caracteres. "),b())}function Gre(t,e){t&1&&(C(0,"div"),D(1," Debes cargar ambas im\xE1genes de perfil. "),b())}function Wre(t,e){t&1&&(C(0,"div",28)(1,"div",29)(2,"span",30),D(3,"Cargando..."),b()()())}function Kre(t,e){if(t&1&&(C(0,"div",31),D(1),b()),t&2){let n=pe();O(),mt(" ",n.errorMessage," ")}}var kd=class t{constructor(e,n,r,i,o){this.fb=e;this.auth=n;this.firestore=r;this.router=i;this.imagesService=o;this.registerForm=this.fb.group({nombre:["",[_e.required,_e.pattern(/^[a-zA-Z\s]*$/)]],apellido:["",[_e.required,_e.pattern(/^[a-zA-Z\s]*$/)]],edad:["",[_e.required,_e.min(0)]],dni:["",[_e.required,_e.pattern(/^\d{8}$/)]],obraSocial:["",[_e.required,_e.pattern(/^[a-zA-Z\s]*$/)]],email:["",[_e.required,_e.email]],password:["",[_e.required,_e.minLength(6)]],perfil1:[null],perfil2:[null]})}redirectToLogin=!0;registrationSuccess=new ct;registerForm;perfil1Loaded=!1;perfil2Loaded=!1;errorMessage="";loading=!1;ngOnDestroy(){console.log("Limpiando imagen")}onFileChange(e,n){let r=e.target.files[0];r?["image/jpeg","image/png","image/gif"].includes(r.type)?(this.registerForm.patchValue({[n]:r}),n==="perfil1"?this.perfil1Loaded=!0:n==="perfil2"&&(this.perfil2Loaded=!0),this.errorMessage=""):(this.errorMessage="Por favor, sube una imagen v\xE1lida (JPEG, PNG o GIF).",n==="perfil1"?this.perfil1Loaded=!1:n==="perfil2"&&(this.perfil2Loaded=!1)):(n==="perfil1"?this.perfil1Loaded=!1:n==="perfil2"&&(this.perfil2Loaded=!1),this.errorMessage="La imagen de perfil es requerida.")}onSubmit(){return _(this,null,function*(){this.registerForm.valid?(this.loading=!0,zu(this.auth,this.registerForm.value.email,this.registerForm.value.password).then(e=>_(this,null,function*(){let n=e.user;console.log("Usuario creado",n);try{yield Gu(n),console.log("Correo de verificaci\xF3n enviado")}catch(o){console.error("Error al enviar el correo de verificaci\xF3n",o)}let r=yield this.imagesService.uploadImage(this.registerForm.value.perfil1),i=yield this.imagesService.uploadImage(this.registerForm.value.perfil2);try{yield this.logUser(r,i),HD.default.fire({title:"\xA1Registro exitoso!",text:"Por favor, verifica tu correo electr\xF3nico para continuar.",icon:"success",confirmButtonText:"Ok"}).then(()=>{this.redirectToLogin?this.router.navigate(["/login"]):(console.log("Usuario registrado desde el panel de administrador"),this.registerForm.reset(),this.registerForm.patchValue({perfil1:null}),this.registerForm.patchValue({perfil2:null}),this.registrationSuccess.emit())})}catch(o){console.error("Error al registrar el usuario",o),HD.default.fire({title:"Error",text:"Hubo un error al registrar el usuario. Por favor, intenta nuevamente.",icon:"error",confirmButtonText:"Ok"})}})).catch(e=>{switch(e.code){case"auth/email-already-in-use":this.errorMessage="El email ya est\xE1 en uso";break;case"auth/invalid-email":this.errorMessage="El email no es v\xE1lido";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a tiene que tener al menos 6 caracteres";break;default:this.errorMessage="Error al registrar el usuario";break}this.loading=!1}).finally(()=>{this.loading=!1})):this.errorMessage="Por favor, completa todos los campos correctamente."})}logUser(e,n){return _(this,null,function*(){let r=qt(this.firestore,"pacientes"),i={nombre:this.registerForm.value.nombre.toLowerCase(),apellido:this.registerForm.value.apellido.toLowerCase(),edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,obraSocial:this.registerForm.value.obraSocial,email:this.registerForm.value.email,perfil1:e,perfil2:n,fechaRegistro:Nt.fromDate(new Date)};try{yield Ia(r,i),console.log("Usuario registrado correctamente")}catch(o){console.error("Error al registrar el usuario",o)}})}static \u0275fac=function(n){return new(n||t)(Y(po),Y(Vr),Y(Ht),Y(or),Y(La))};static \u0275cmp=Ze({type:t,selectors:[["app-pacient-form"]],inputs:{redirectToLogin:"redirectToLogin"},outputs:{registrationSuccess:"registrationSuccess"},standalone:!0,features:[Je],decls:53,vars:12,consts:[[1,"container","mt-5"],[1,"text-center"],[1,"container-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","required","",1,"form-control"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","required","",1,"form-control"],["for","obraSocial",1,"form-label"],["type","text","id","obraSocial","formControlName","obraSocial","required","",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["for","perfil1",1,"form-label"],["type","file","id","perfil1","accept","image/*","required","",1,"form-control",3,"change"],["for","perfil2",1,"form-label"],["type","file","id","perfil2","accept","image/*","required","",1,"form-control",3,"change"],[1,"text-danger"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(n,r){if(n&1&&(C(0,"div",0)(1,"h2",1),D(2," Registro paciente"),b(),C(3,"form",2),le("ngSubmit",function(){return r.onSubmit()}),C(4,"div",3)(5,"label",4),D(6,"Nombre"),b(),re(7,"input",5),te(8,Bre,2,0,"div",6),b(),C(9,"div",3)(10,"label",7),D(11,"Apellido"),b(),re(12,"input",8),te(13,Ure,2,0,"div",6),b(),C(14,"div",3)(15,"label",9),D(16,"Edad"),b(),re(17,"input",10),te(18,jre,2,0,"div",6),b(),C(19,"div",3)(20,"label",11),D(21,"DNI"),b(),re(22,"input",12),te(23,$re,2,0,"div",6),b(),C(24,"div",3)(25,"label",13),D(26,"Obra Social"),b(),re(27,"input",14),te(28,Hre,2,0,"div",6),b(),C(29,"div",3)(30,"label",15),D(31,"Email"),b(),re(32,"input",16),te(33,qre,2,0,"div",6),b(),C(34,"div",3)(35,"label",17),D(36,"Contrase\xF1a"),b(),re(37,"input",18),te(38,zre,2,0,"div",6),b(),C(39,"div",3)(40,"label",19),D(41,"Imagen de Perfil 1"),b(),C(42,"input",20),le("change",function(o){return r.onFileChange(o,"perfil1")}),b()(),C(43,"div",3)(44,"label",21),D(45,"Imagen de Perfil 2"),b(),C(46,"input",22),le("change",function(o){return r.onFileChange(o,"perfil2")}),b()(),C(47,"div",23),te(48,Gre,2,0,"div",24),b(),C(49,"button",25),D(50," Registrarse "),b(),te(51,Wre,4,0,"div",26)(52,Kre,2,1,"div",27),b()()),n&2){let i,o,s,a,c,l,f;O(3),q("formGroup",r.registerForm),O(5),q("ngIf",((i=r.registerForm.get("nombre"))==null?null:i.invalid)&&((i=r.registerForm.get("nombre"))==null?null:i.touched)),O(5),q("ngIf",((o=r.registerForm.get("apellido"))==null?null:o.invalid)&&((o=r.registerForm.get("apellido"))==null?null:o.touched)),O(5),q("ngIf",((s=r.registerForm.get("edad"))==null?null:s.invalid)&&((s=r.registerForm.get("edad"))==null?null:s.touched)),O(5),q("ngIf",((a=r.registerForm.get("dni"))==null?null:a.invalid)&&((a=r.registerForm.get("dni"))==null?null:a.touched)),O(5),q("ngIf",((c=r.registerForm.get("obraSocial"))==null?null:c.invalid)&&((c=r.registerForm.get("obraSocial"))==null?null:c.touched)),O(5),q("ngIf",((l=r.registerForm.get("email"))==null?null:l.invalid)&&((l=r.registerForm.get("email"))==null?null:l.touched)),O(5),q("ngIf",((f=r.registerForm.get("password"))==null?null:f.invalid)&&((f=r.registerForm.get("password"))==null?null:f.touched)),O(10),q("ngIf",!r.perfil1Loaded||!r.perfil2Loaded),O(),q("disabled",r.registerForm.invalid||r.loading||!r.perfil1Loaded||!r.perfil2Loaded),O(2),q("ngIf",r.loading),O(),q("ngIf",r.errorMessage)}},dependencies:[li,ai,$n,Pc,Hn,si,Jo,ci,Ni,$t,Dt],styles:[".container-form[_ngcontent-%COMP%]{background-color:#fff;padding:30px;margin-bottom:20px;border-radius:10px;box-shadow:0 4px 8px #0000001a}"]})};var qD=tc(tp());function Qre(t,e){t&1&&(C(0,"div",30),D(1," El nombre es requerido y solo puede contener letras. "),b())}function Yre(t,e){t&1&&(C(0,"div",30),D(1," El apellido es requerido y solo puede contener letras. "),b())}function Zre(t,e){t&1&&(C(0,"div",30),D(1," La edad es requerida y debe ser mayor de edad. "),b())}function Jre(t,e){t&1&&(C(0,"div",30),D(1," El DNI es requerido y debe tener 8 d\xEDgitos. "),b())}function Xre(t,e){t&1&&(C(0,"div",30),D(1," La especialidad es requerida. "),b())}function eie(t,e){t&1&&(C(0,"div",30),D(1," La especialidad extra es requerida. "),b())}function tie(t,e){if(t&1&&(C(0,"div",35)(1,"div",36)(2,"label",37),D(3,"Especialidad Extra"),b(),re(4,"input",38),te(5,eie,2,0,"div",6),b()()),t&2){let n=e.$implicit,r=e.index;O(),q("formGroupName",r),O(4),q("ngIf",n.invalid&&n.touched)}}function nie(t,e){t&1&&(C(0,"div",30),D(1," Por favor, ingresa un correo v\xE1lido. "),b())}function rie(t,e){t&1&&(C(0,"div",30),D(1," La contrase\xF1a es requerida y debe tener al menos 6 caracteres. "),b())}function iie(t,e){t&1&&(C(0,"div",39),D(1," Imagen cargada correctamente. "),b())}function oie(t,e){t&1&&(C(0,"div"),D(1," La imagen de perfil es requerida. "),b())}function sie(t,e){t&1&&(C(0,"div",40)(1,"div",41)(2,"span",42),D(3,"Cargando..."),b()()())}function aie(t,e){if(t&1&&(C(0,"div",43),D(1),b()),t&2){let n=pe();O(),mt(" ",n.errorMessage," ")}}var Od=class t{constructor(e,n,r,i,o){this.fb=e;this.auth=n;this.firestore=r;this.router=i;this.imagesService=o;this.registerForm=this.fb.group({nombre:["",[_e.required,_e.pattern(/^[a-zA-Z\s]*$/)]],apellido:["",[_e.required,_e.pattern(/^[a-zA-Z\s]*$/)]],edad:["",[_e.required,_e.min(18)]],dni:["",[_e.required,_e.pattern(/^\d{8}$/)]],especialidad:["",[_e.required,_e.pattern(/^[a-zA-Z\s]*$/)]],email:["",[_e.required,_e.email]],password:["",[_e.required,_e.minLength(6)]],perfil1:[null],especialidadesExtras:this.fb.array([])})}redirectToLogin=!0;registrationSuccess=new ct;registerForm;perfil1Loaded=!1;errorMessage="";loading=!1;get extraSpecialties(){return this.registerForm.get("especialidadesExtras")}addExtraSpecialty(){let e=this.fb.group({nombre:["",_e.required]});this.extraSpecialties.push(e)}ngOnDestroy(){console.log("Limpiando imagen")}onFileChange(e,n){let r=e.target.files[0];r?["image/jpeg","image/png","image/gif"].includes(r.type)?(this.registerForm.patchValue({[n]:r}),this.perfil1Loaded=!0):(this.perfil1Loaded=!1,this.errorMessage="Por favor, sube una imagen v\xE1lida (JPEG, PNG o GIF)."):(this.perfil1Loaded=!1,this.errorMessage="La imagen de perfil es requerida.")}onSubmit(){return _(this,null,function*(){this.registerForm.valid&&(console.log(this.registerForm.value),this.loading=!0,zu(this.auth,this.registerForm.value.email,this.registerForm.value.password).then(e=>_(this,null,function*(){let n=e.user;console.log("Usuario creado:",n);try{yield Gu(n),console.log("Correo de verificaci\xF3n enviado")}catch(i){console.error("Error al enviar el correo de verificaci\xF3n:",i)}let r=yield this.imagesService.uploadImage(this.registerForm.value.perfil1);try{yield this.logUser(r),console.log("Correo de verificaci\xF3n enviado"),qD.default.fire({icon:"success",title:"\xA1Registro exitoso!",text:"Por favor, verifica tu correo electr\xF3nico para continuar."}).then(()=>{this.redirectToLogin?this.router.navigate(["/login"]):(console.log("Usuario registrado desde el panel de administrador"),this.registerForm.reset(),this.registerForm.patchValue({perfil1:null}),this.registrationSuccess.emit())})}catch(i){console.error("Error al crear el usuario",i),qD.default.fire({icon:"error",title:"Error al crear el usuario",text:"Por favor, intenta de nuevo."})}})).catch(e=>{switch(e.code){case"auth/email-already-in-use":this.errorMessage="El email ya est\xE1 en uso";break;case"auth/invalid-email":this.errorMessage="El email no es v\xE1lido";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres";break;default:this.errorMessage="Error al registrar el usuario";break}this.loading=!1}).finally(()=>{this.loading=!1}))})}logUser(e){return _(this,null,function*(){let n=[];n.push(this.registerForm.value.especialidad),this.registerForm.value.especialidadesExtras.forEach(o=>{n.push(o.nombre.toLowerCase())});let r=qt(this.firestore,"especialistas"),i={nombre:this.registerForm.value.nombre.toLowerCase(),apellido:this.registerForm.value.apellido.toLowerCase(),edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,especialidades:n,email:this.registerForm.value.email,perfil1:e,profileValidatedByAdmin:!1,fechaRegistro:Nt.now()};try{yield Ia(r,i)}catch(o){console.error("Error al crear el usuario:",o)}})}static \u0275fac=function(n){return new(n||t)(Y(po),Y(Vr),Y(Ht),Y(or),Y(La))};static \u0275cmp=Ze({type:t,selectors:[["app-specialist-form"]],inputs:{redirectToLogin:"redirectToLogin"},outputs:{registrationSuccess:"registrationSuccess"},standalone:!0,features:[Je],decls:63,vars:14,consts:[[1,"container","mt-5"],[1,"text-center"],[1,"container-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","required","",1,"form-control"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","required","",1,"form-control"],["for","especialidad",1,"form-label"],["id","especialidad","formControlName","especialidad","required","",1,"form-select"],["value",""],["value","cardiologia"],["value","odontologia"],["value","psicologia"],["formArrayName","especialidadesExtras",4,"ngFor","ngForOf"],[1,"text-end","mb-3"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-plus"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["for","perfil1",1,"form-label"],["type","file","id","perfil1","accept","image/*",1,"form-control",3,"change"],["class","text-success",4,"ngIf"],[1,"text-danger"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["formArrayName","especialidadesExtras"],[1,"mb-3",3,"formGroupName"],["for","especialidadExtra",1,"form-label"],["type","text","formControlName","nombre","required","",1,"form-control"],[1,"text-success"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(n,r){if(n&1&&(C(0,"div",0)(1,"h2",1),D(2,"Registro Especialista"),b(),C(3,"form",2),le("ngSubmit",function(){return r.onSubmit()}),C(4,"div",3)(5,"label",4),D(6,"Nombre"),b(),re(7,"input",5),te(8,Qre,2,0,"div",6),b(),C(9,"div",3)(10,"label",7),D(11,"Apellido"),b(),re(12,"input",8),te(13,Yre,2,0,"div",6),b(),C(14,"div",3)(15,"label",9),D(16,"Edad"),b(),re(17,"input",10),te(18,Zre,2,0,"div",6),b(),C(19,"div",3)(20,"label",11),D(21,"DNI"),b(),re(22,"input",12),te(23,Jre,2,0,"div",6),b(),C(24,"div",3)(25,"label",13),D(26,"Especialidad"),b(),C(27,"select",14)(28,"option",15),D(29,"Selecciona una especialidad"),b(),C(30,"option",16),D(31,"Medicina"),b(),C(32,"option",17),D(33,"Odontolog\xEDa"),b(),C(34,"option",18),D(35,"Psicolog\xEDa"),b()(),te(36,Xre,2,0,"div",6),b(),te(37,tie,6,2,"div",19),C(38,"div",20)(39,"button",21),le("click",function(){return r.addExtraSpecialty()}),re(40,"i",22),D(41," Agregar Especialidad Extra "),b()(),C(42,"div",3)(43,"label",23),D(44,"Email"),b(),re(45,"input",24),te(46,nie,2,0,"div",6),b(),C(47,"div",3)(48,"label",25),D(49,"Contrase\xF1a"),b(),re(50,"input",26),te(51,rie,2,0,"div",6),b(),C(52,"div",3)(53,"label",27),D(54,"Imagen de Perfil"),b(),C(55,"input",28),le("change",function(o){return r.onFileChange(o,"perfil1")}),b(),te(56,iie,2,0,"div",29),b(),C(57,"div",30),te(58,oie,2,0,"div",31),b(),C(59,"button",32),D(60," Registrarse "),b(),te(61,sie,4,0,"div",33)(62,aie,2,1,"div",34),b()()),n&2){let i,o,s,a,c,l,f;O(3),q("formGroup",r.registerForm),O(5),q("ngIf",((i=r.registerForm.get("nombre"))==null?null:i.invalid)&&((i=r.registerForm.get("nombre"))==null?null:i.touched)),O(5),q("ngIf",((o=r.registerForm.get("apellido"))==null?null:o.invalid)&&((o=r.registerForm.get("apellido"))==null?null:o.touched)),O(5),q("ngIf",((s=r.registerForm.get("edad"))==null?null:s.invalid)&&((s=r.registerForm.get("edad"))==null?null:s.touched)),O(5),q("ngIf",((a=r.registerForm.get("dni"))==null?null:a.invalid)&&((a=r.registerForm.get("dni"))==null?null:a.touched)),O(13),q("ngIf",((c=r.registerForm.get("especialidad"))==null?null:c.invalid)&&((c=r.registerForm.get("especialidad"))==null?null:c.touched)),O(),q("ngForOf",r.extraSpecialties.controls),O(9),q("ngIf",((l=r.registerForm.get("email"))==null?null:l.invalid)&&((l=r.registerForm.get("email"))==null?null:l.touched)),O(5),q("ngIf",((f=r.registerForm.get("password"))==null?null:f.invalid)&&((f=r.registerForm.get("password"))==null?null:f.touched)),O(5),q("ngIf",r.perfil1Loaded),O(2),q("ngIf",!r.perfil1Loaded),O(),q("disabled",!r.registerForm.valid||!r.perfil1Loaded),O(2),q("ngIf",r.loading),O(),q("ngIf",r.errorMessage)}},dependencies:[li,ai,ku,Ou,$n,Pc,aa,Hn,si,Jo,ci,Ni,Zy,Jy,$t,jn,Dt],styles:[".container-form[_ngcontent-%COMP%]{background-color:#fff;padding:30px;margin-bottom:20px;border-radius:10px;box-shadow:0 4px 8px #0000001a}"]})};function cie(t,e){if(t&1){let n=vt();C(0,"div",4)(1,"div",5)(2,"button",6),le("click",function(){lt(n);let i=pe();return ut(i.showPacienteForm())}),re(3,"img",7),C(4,"span",8),D(5,"Paciente"),b()()(),C(6,"div",5)(7,"button",6),le("click",function(){lt(n);let i=pe();return ut(i.showSpecialistForm())}),re(8,"img",9),C(9,"span",8),D(10,"Especialista"),b()()()()}}function lie(t,e){t&1&&re(0,"app-pacient-form")}function uie(t,e){t&1&&re(0,"app-specialist-form")}function die(t,e){if(t&1&&(C(0,"div",10),te(1,lie,1,0,"app-pacient-form",11)(2,uie,1,0,"app-specialist-form",11),b()),t&2){let n=pe();O(),q("ngIf",n.isPacienteFormVisible),O(),q("ngIf",!n.isPacienteFormVisible)}}var rw=class t{showForm=!1;isPacienteFormVisible=!1;constructor(){}showPacienteForm(){this.isPacienteFormVisible=!0,this.showForm=!0}showSpecialistForm(){this.isPacienteFormVisible=!1,this.showForm=!0}ngOnInit(){}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ze({type:t,selectors:[["app-register"]],standalone:!0,features:[Je],decls:5,vars:2,consts:[[1,"container","text-center","mt-5"],[1,"mb-4"],["class","row justify-content-center mt-4",4,"ngIf"],["class","text-start mt-4",4,"ngIf"],[1,"row","justify-content-center","mt-4"],[1,"col-md-4"],[1,"btn","btn-light","option-button",3,"click"],["src","media/paciente.png","alt","Paciente",1,"option-image"],[1,"option-text"],["src","media/doctor.png","alt","Especialista",1,"option-image"],[1,"text-start","mt-4"],[4,"ngIf"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"h1",1),D(2,"Selecciona tu tipo de usuario"),b(),te(3,cie,11,0,"div",2)(4,die,3,2,"div",3),b()),n&2&&(O(3),q("ngIf",!r.showForm),O(),q("ngIf",r.showForm))},dependencies:[li,Dt,$t,kd,Od],styles:[".option-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;border-radius:8px;transition:background-color .3s,transform .3s;width:100%;height:500px;border:1px solid #dee2e6;box-shadow:0 4px 8px #0000001a}.option-button[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;transform:scale(1.05)}.option-image[_ngcontent-%COMP%]{width:220px;height:220px;margin-bottom:10px;object-fit:cover}.option-text[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:#007bff;margin-top:10px}h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0056b3;text-shadow:1px 1px 2px rgba(0,0,0,.1);margin-bottom:20px;letter-spacing:1px}.container[_ngcontent-%COMP%]{margin-top:40px;background-color:#f8f9fa;padding:30px;border-radius:8px;box-shadow:0 2px 4px #0000001a}"]})};var P$=tc(tp());var Fd=class t{userSubject=new fn(this.isLoggedIn());user$=this.userSubject.asObservable();isLoggedIn(){return!!localStorage.getItem("user")}login(){this.userSubject.next(!0)}logout(){localStorage.removeItem("user"),this.userSubject.next(!1)}getUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null}isThereAnAdmin(){let e=this.getUser();return e&&e.isAdmin}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})};function fie(t,e){t&1&&(C(0,"div",21),D(1," Por favor, ingresa un correo v\xE1lido. "),b())}function hie(t,e){t&1&&(C(0,"div",21),D(1," La contrase\xF1a es requerida. "),b())}function pie(t,e){if(t&1&&(C(0,"div",22),D(1),b()),t&2){let n=pe();O(),mt(" ",n.errorMessage," ")}}function mie(t,e){t&1&&(C(0,"div",23)(1,"div",24)(2,"span",25),D(3,"Cargando..."),b()()())}var iw=class t{constructor(e,n,r,i,o){this.fb=e;this.firestore=n;this.auth=r;this.router=i;this.authService=o;this.loginForm=this.fb.group({email:["",[_e.required,_e.email]],password:["",[_e.required,_e.minLength(1)]]})}loginForm;errorMessage=null;loading=!1;sub;isDoctor=null;urlPaciente="https://clinic-profile-images.nyc3.digitaloceanspaces.com/7805c816-51e7-495e-a433-4fa93f9dec07.png";urlEspecialista="https://clinic-profile-images.nyc3.digitaloceanspaces.com/b60aba11-355f-45a6-981b-00bb78321cd8.jpg";urlAdmin="https://clinic-profile-images.nyc3.digitaloceanspaces.com/ebcc95df-f57b-4a55-9112-345ed0d1b5d4.png";onSubmit(){return _(this,null,function*(){if(this.loginForm.valid){this.loading=!0;let{email:e,password:n}=this.loginForm.value;try{let r=e.toLowerCase(),o=(yield aF(this.auth,r,n)).user;if(!o.emailVerified){this.errorMessage="Por favor, verifica tu correo electr\xF3nico antes de iniciar sesi\xF3n.";return}let s=yield this.getUser(e);if(this.isDoctor==!1){this.errorMessage="El usuario no ha sido validado por el administrador.";return}else P$.default.fire({title:"Inicio de sesi\xF3n exitoso",icon:"success",timer:2e3,showConfirmButton:!1}),console.log("Inicio de sesi\xF3n exitoso",o),this.errorMessage=null,this.authService.login(),this.router.navigate(["/home"])}catch(r){console.error("Error al iniciar sesi\xF3n",r),this.errorMessage="Email y/o contrase\xF1a incorrecto."}finally{this.loading=!1}}})}getUser(e){return _(this,null,function*(){let n=yield this.checkUser(e);return n||(this.errorMessage="Usuario no encontrado.",!1)})}checkUser(e){return _(this,null,function*(){return(yield this.findPaciente(e))?"paciente":(yield this.findDoctor(e))?"doctor":(yield this.findAdmin(e))?"admin":null})}findPaciente(e){return _(this,null,function*(){let n=qt(this.firestore,"pacientes"),r=jr(n,So("email","==",e)),i=yield pd(r);if(!i.empty){let o=i.docs[0].data();return console.log("Usuario encontrado:",o),localStorage.setItem("user",JSON.stringify(o)),!0}return!1})}findDoctor(e){return _(this,null,function*(){let n=qt(this.firestore,"especialistas"),r=jr(n,So("email","==",e)),i=yield pd(r);if(!i.empty){let o=i.docs[0].data();return console.log("Usuario encontrado:",o),o.profileValidatedByAdmin===!1?(this.isDoctor=!1,!0):(this.isDoctor=!0,console.log("Usuario doctor"),localStorage.setItem("user",JSON.stringify(o)),!0)}return!1})}findAdmin(e){return _(this,null,function*(){let n=qt(this.firestore,"admins"),r=jr(n,So("email","==",e)),i=yield pd(r);if(!i.empty){let o=i.docs[0].data();return console.log("Usuario encontrado:",o),localStorage.setItem("user",JSON.stringify(o)),!0}return!1})}getPacientes(e){e==1?this.loginForm.get("email")?.setValue("j9hpx2l0@cj.MintEmail.com"):e==2?this.loginForm.get("email")?.setValue("18duu2j9@cj.MintEmail.com"):e==3&&this.loginForm.get("email")?.setValue("a5yfl81p@cj.MintEmail.com"),this.loginForm.get("password")?.setValue("123456")}getEspecialistas(e){e==1?this.loginForm.get("email")?.setValue("c7hup2p3@cj.MintEmail.com"):e==2&&this.loginForm.get("email")?.setValue("q796si4b@cj.MintEmail.com"),this.loginForm.get("password")?.setValue("123456")}getAdmins(e){e==1&&this.loginForm.get("email")?.setValue("r6q00n9h@cj.MintEmail.com"),this.loginForm.get("password")?.setValue("123456")}static \u0275fac=function(n){return new(n||t)(Y(po),Y(Ht),Y(Vr),Y(or),Y(Fd))};static \u0275cmp=Ze({type:t,selectors:[["app-login"]],standalone:!0,features:[Je],decls:49,vars:12,consts:[[1,"container","mt-5"],[1,"text-center","mb-4"],[1,"row","justify-content-center","mb-4"],[1,"col-6","col-md-2",3,"click"],[1,"btn","access-button"],["alt","Paciente 1",1,"access-image",3,"src"],["alt","Paciente 2",1,"access-image",3,"src"],["alt","Paciente 3",1,"access-image",3,"src"],["alt","Especialista 1",1,"access-image",3,"src"],["alt","Especialista 2",1,"access-image",3,"src"],["alt","Administrador",1,"access-image",3,"src"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","autocomplete","email","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","autocomplete","current-password","required","",1,"form-control"],["class","text-danger mb-3",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],[1,"text-danger"],[1,"text-danger","mb-3"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(n,r){if(n&1&&(C(0,"div",0)(1,"h2",1),D(2,"Iniciar Sesi\xF3n"),b(),C(3,"div",2)(4,"div",3),le("click",function(){return r.getPacientes(1)}),C(5,"button",4),re(6,"img",5),C(7,"span"),D(8,"Paciente 1"),b()()(),C(9,"div",3),le("click",function(){return r.getPacientes(2)}),C(10,"button",4),re(11,"img",6),C(12,"span"),D(13,"Paciente 2"),b()()(),C(14,"div",3),le("click",function(){return r.getPacientes(3)}),C(15,"button",4),re(16,"img",7),C(17,"span"),D(18,"Paciente 3"),b()()(),C(19,"div",3),le("click",function(){return r.getEspecialistas(1)}),C(20,"button",4),re(21,"img",8),C(22,"span"),D(23,"Especialista 1"),b()()(),C(24,"div",3),le("click",function(){return r.getEspecialistas(2)}),C(25,"button",4),re(26,"img",9),C(27,"span"),D(28,"Especialista 2"),b()()(),C(29,"div",3),le("click",function(){return r.getAdmins(1)}),C(30,"button",4),re(31,"img",10),C(32,"span"),D(33,"Administrador"),b()()()(),C(34,"form",11),le("ngSubmit",function(){return r.onSubmit()}),C(35,"div",12)(36,"label",13),D(37,"Correo Electr\xF3nico"),b(),re(38,"input",14),te(39,fie,2,0,"div",15),b(),C(40,"div",12)(41,"label",16),D(42,"Contrase\xF1a"),b(),re(43,"input",17),te(44,hie,2,0,"div",15),b(),te(45,pie,2,1,"div",18),C(46,"button",19),D(47," Iniciar Sesi\xF3n "),b()(),te(48,mie,4,0,"div",20),b()),n&2){let i,o;O(6),lo("src",r.urlPaciente,rr),O(5),lo("src",r.urlPaciente,rr),O(5),q("src",r.urlPaciente,rr),O(5),lo("src",r.urlEspecialista,rr),O(5),lo("src",r.urlEspecialista,rr),O(5),lo("src",r.urlAdmin,rr),O(3),q("formGroup",r.loginForm),O(5),q("ngIf",((i=r.loginForm.get("email"))==null?null:i.invalid)&&((i=r.loginForm.get("email"))==null?null:i.touched)),O(5),q("ngIf",((o=r.loginForm.get("password"))==null?null:o.invalid)&&((o=r.loginForm.get("password"))==null?null:o.touched)),O(),q("ngIf",r.errorMessage),O(),q("disabled",r.loginForm.invalid||r.loading),O(2),q("ngIf",r.loading)}},dependencies:[li,ai,$n,Hn,si,Jo,ci,Ni,Dt],styles:[".access-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:10px;border:1px solid #007bff;border-radius:8px;transition:background-color .3s,transform .3s;background-color:#fff;text-align:center;width:100%}.access-button[_ngcontent-%COMP%]:hover{background-color:#e9ecef;transform:scale(1.05)}.access-image[_ngcontent-%COMP%]{width:80px;height:80px;margin-bottom:5px;border-radius:50%;object-fit:cover}.container[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;padding:40px}@media (max-width: 768px){.access-button[_ngcontent-%COMP%]{margin-bottom:15px}.container[_ngcontent-%COMP%]{padding:20px}.access-image[_ngcontent-%COMP%]{width:60px;height:60px}}@media (max-width: 576px){.access-button[_ngcontent-%COMP%]{padding:15px}.access-image[_ngcontent-%COMP%]{width:50px;height:50px}}"]})};var gie=()=>["lunes","martes","miercoles","jueves","viernes"];function yie(t,e){if(t&1&&(C(0,"option",13),D(1),b()),t&2){let n=e.$implicit;q("value",n),O(),nt(n)}}function vie(t,e){if(t&1&&(C(0,"div",14),re(1,"input",15),C(2,"label",16),D(3),ea(4,"titlecase"),b()()),t&2){let n=e.$implicit;O(),lo("id",n),q("formControlName",n),O(),lo("for",n),O(),nt(mu(4,4,n))}}var ow=class t{constructor(e,n){this.fb=e;this.firestore=n}especialidades=[];user;submit=new ct;disponibilidadForm;ngOnInit(){this.initializeForm()}initializeForm(){this.disponibilidadForm=this.fb.group({especialidad:[this.especialidades[0],_e.required],lunes:[!1],martes:[!1],miercoles:[!1],jueves:[!1],viernes:[!1],horaInicio:["",_e.required],horaFin:["",_e.required]})}onSubmit(){if(this.disponibilidadForm.valid){let e=this.disponibilidadForm.value;console.log(e),this.updateEspecialista(e),this.submit.emit(!0);let n=this.disponibilidadForm.get("especialidad")?.value;this.disponibilidadForm.reset(),this.initializeForm(),this.disponibilidadForm.get("especialidad")?.setValue(n)}else console.log("Formulario inv\xE1lido")}updateEspecialista(e){return _(this,null,function*(){let n=qt(this.firestore,"especialistas"),r=jr(n,So("email","==",this.user.email));try{let i=yield pd(r);if(i.empty){console.log("No se encontr\xF3 un especialista con ese email.");return}let o=i.docs[0],s=o.ref,a=o.data().disponibilidades,c=!1,l={especialidad:e.especialidad,diasDisponibles:{lunes:e.lunes,martes:e.martes,miercoles:e.miercoles,jueves:e.jueves,viernes:e.viernes},horaInicio:e.horaInicio,horaFin:e.horaFin};console.log("Disponibilidad a enviar a Firestore:",l);let f=[];if(!a)f.push(l);else{for(let h=0;h<a.length;h++)if(a[h].especialidad===l.especialidad){a[h]=l,c=!0;break}c||a.push(l)}yield tl(s,{disponibilidades:a||f}),console.log("Disponibilidad actualizada correctamente")}catch(i){console.error("Error al actualizar las disponibilidades: ",i)}})}static \u0275fac=function(n){return new(n||t)(Y(po),Y(Ht))};static \u0275cmp=Ze({type:t,selectors:[["app-disponibilidad-form"]],inputs:{especialidades:"especialidades",user:"user"},outputs:{submit:"submit"},standalone:!0,features:[Je],decls:19,vars:5,consts:[[3,"ngSubmit","formGroup"],[1,"form-group","mb-4"],["for","especialidad",1,"h6"],["id","especialidad","formControlName","especialidad",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"h6"],[1,"d-flex","flex-wrap"],["class","form-check form-check-inline mr-4",4,"ngFor","ngForOf"],["for","horas",1,"h6"],[1,"d-flex"],["type","time","formControlName","horaInicio","placeholder","Hora de Inicio",1,"form-control"],["type","time","formControlName","horaFin","placeholder","Hora de Fin",1,"form-control","ml-2"],["type","submit",1,"btn","btn-primary","btn-block","mt-4",3,"disabled"],[3,"value"],[1,"form-check","form-check-inline","mr-4"],["type","checkbox",1,"form-check-input",3,"formControlName","id"],[1,"form-check-label",3,"for"]],template:function(n,r){n&1&&(C(0,"form",0),le("ngSubmit",function(){return r.onSubmit()}),C(1,"div",1)(2,"label",2),D(3,"Especialidad"),b(),C(4,"select",3),te(5,yie,2,2,"option",4),b()(),C(6,"div",1)(7,"label",5),D(8,"D\xEDas Disponibles"),b(),C(9,"div",6),te(10,vie,5,6,"div",7),b()(),C(11,"div",1)(12,"label",8),D(13,"Horario"),b(),C(14,"div",9),re(15,"input",10)(16,"input",11),b()(),C(17,"button",12),D(18," Guardar Disponibilidad "),b()()),n&2&&(q("formGroup",r.disponibilidadForm),O(5),q("ngForOf",r.especialidades),O(5),q("ngForOf",vc(4,gie)),O(7),q("disabled",r.disponibilidadForm.invalid))},dependencies:[li,ai,ku,Ou,$n,oI,aa,Hn,si,ci,Ni,$t,jn,sN]})};function _ie(t,e){if(t&1&&(C(0,"div",16),re(1,"img",19),b()),t&2){let n=pe(2);O(),q("src",n.user.perfil1,rr)}}function wie(t,e){if(t&1&&(C(0,"div",16)(1,"strong"),D(2,"Obra social: "),b(),C(3,"span",17),D(4),b()()),t&2){let n=pe(2);O(4),nt(n.user.obraSocial)}}function bie(t,e){if(t&1&&(C(0,"span",17),D(1),b()),t&2){let n=e.$implicit;O(),mt("",n," ")}}function Eie(t,e){if(t&1&&(C(0,"div",16)(1,"strong"),D(2,"Especialidades: "),b(),te(3,bie,2,1,"span",20),b()),t&2){let n=pe(2);O(3),q("ngForOf",n.user.especialidades)}}function Cie(t,e){if(t&1&&(C(0,"div",16),re(1,"img",21),b()),t&2){let n=pe(2);O(),q("src",n.user.perfil2,rr)}}function Iie(t,e){if(t&1){let n=vt();C(0,"button",22),le("click",function(){lt(n);let i=pe(2);return ut(i.openModal())}),D(1,"Agregar/Modificar Disponibilidad Horaria"),b()}}function Sie(t,e){if(t&1&&(C(0,"div",11)(1,"div",12)(2,"div",13),te(3,_ie,2,1,"div",14),b(),C(4,"div",15)(5,"div",16)(6,"strong"),D(7,"Nombre: "),b(),C(8,"span",17),D(9),b()(),C(10,"div",16)(11,"strong"),D(12,"Apellido: "),b(),C(13,"span",17),D(14),b()(),C(15,"div",16)(16,"strong"),D(17,"Edad: "),b(),C(18,"span",17),D(19),b()(),C(20,"div",16)(21,"strong"),D(22,"DNI: "),b(),C(23,"span",17),D(24),b()(),C(25,"div",16)(26,"strong"),D(27,"Email: "),b(),C(28,"span",17),D(29),b()(),te(30,wie,5,1,"div",14)(31,Eie,4,1,"div",14),b(),C(32,"div",13),te(33,Cie,2,1,"div",14),b()(),te(34,Iie,2,0,"button",18),b()),t&2){let n=pe();O(3),q("ngIf",n.user.perfil1),O(6),nt(n.user.nombre),O(5),nt(n.user.apellido),O(5),nt(n.user.edad),O(5),nt(n.user.dni),O(5),nt(n.user.email),O(),q("ngIf",n.user.obraSocial),O(),q("ngIf",n.user.especialidades),O(2),q("ngIf",n.user.perfil2),O(),q("ngIf",n.user.especialidades)}}function xie(t,e){if(t&1){let n=vt();C(0,"app-disponibilidad-form",23),le("submit",function(i){lt(n);let o=pe();return ut(o.handleDisponibilidadSubmit(i))}),b()}if(t&2){let n=pe();q("especialidades",n.user.especialidades)("user",n.user)}}var sw=class t{modal;user;constructor(){}ngOnInit(){this.loadUser(),this.user&&this.user.especialidades&&(this.modal=new window.bootstrap.Modal(document.getElementById("disponibilidadModal")))}loadUser(){let e=localStorage.getItem("user");e&&(this.user=JSON.parse(e))}handleDisponibilidadSubmit(e){console.log(e),this.closeModal()}openModal(){this.modal.show()}closeModal(){this.modal.hide()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ze({type:t,selectors:[["app-perfil"]],standalone:!0,features:[Je],decls:13,vars:2,consts:[[1,"container","mt-5"],[1,"text-center","text-dark"],["class","profile-card bg-light p-4 rounded shadow",4,"ngIf"],["id","disponibilidadModal","tabindex","-1","aria-labelledby","disponibilidadModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","disponibilidadModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"especialidades","user","submit",4,"ngIf"],[1,"profile-card","bg-light","p-4","rounded","shadow"],[1,"row"],[1,"col-md-4","text-center"],["class","mb-3",4,"ngIf"],[1,"col-md-4"],[1,"mb-3"],[1,"text-muted"],["class","btn btn-primary",3,"click",4,"ngIf"],["alt","Perfil 1",1,"img-thumbnail","profile-img",3,"src"],["class","text-muted",4,"ngFor","ngForOf"],["alt","Perfil 2",1,"img-thumbnail","profile-img",3,"src"],[1,"btn","btn-primary",3,"click"],[3,"submit","especialidades","user"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"h2",1),D(2,"Perfil del Usuario"),b(),te(3,Sie,35,10,"div",2),C(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"h5",7),D(9,"Agregar/Modificar Disponibilidad Horaria"),b(),re(10,"button",8),b(),C(11,"div",9),te(12,xie,1,2,"app-disponibilidad-form",10),b()()()()()),n&2&&(O(3),q("ngIf",r.user),O(9),q("ngIf",r.user.especialidades))},dependencies:[$t,jn,Dt,ow],styles:[".container[_ngcontent-%COMP%]{max-width:1000px;margin:auto;background:#fffffff2;border-radius:10px;padding:40px;box-shadow:0 4px 20px #0000001a}h2[_ngcontent-%COMP%]{margin-bottom:30px;color:#0056b3}strong[_ngcontent-%COMP%]{color:#0056b3}.text-muted[_ngcontent-%COMP%]{color:#495057}.profile-img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:5px;border:2px solid #007bff}.profile-card[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;border-radius:10px;box-shadow:0 2px 10px #00000026}"]})};var zD=tc(tp());function Tie(t,e){t&1&&(C(0,"div",20),D(1," El nombre es requerido y solo puede contener letras. "),b())}function Aie(t,e){t&1&&(C(0,"div",20),D(1," El apellido es requerido y solo puede contener letras. "),b())}function Die(t,e){t&1&&(C(0,"div",20),D(1," La edad es requerida y debe ser mayor de edad. "),b())}function Rie(t,e){t&1&&(C(0,"div",20),D(1," El DNI es requerido y debe tener 8 d\xEDgitos. "),b())}function Mie(t,e){t&1&&(C(0,"div",20),D(1," Por favor, ingresa un correo v\xE1lido. "),b())}function Pie(t,e){t&1&&(C(0,"div",20),D(1," La contrase\xF1a es requerida y debe tener al menos 6 caracteres. "),b())}function Nie(t,e){t&1&&(C(0,"div",25),D(1," Imagen cargada correctamente. "),b())}function kie(t,e){t&1&&(C(0,"div"),D(1," La imagen de perfil es requerida. "),b())}function Oie(t,e){t&1&&(C(0,"div",26)(1,"div",27)(2,"span",28),D(3,"Cargando..."),b()()())}function Fie(t,e){if(t&1&&(C(0,"div",29),D(1),b()),t&2){let n=pe();O(),mt(" ",n.errorMessage," ")}}var aw=class t{constructor(e,n,r,i,o){this.fb=e;this.auth=n;this.firestore=r;this.router=i;this.imagesService=o;this.registerForm=this.fb.group({nombre:["",[_e.required,_e.pattern(/^[a-zA-Z\s]*$/)]],apellido:["",[_e.required,_e.pattern(/^[a-zA-Z\s]*$/)]],edad:["",[_e.required,_e.min(18)]],dni:["",[_e.required,_e.pattern(/^\d{8}$/)]],email:["",[_e.required,_e.email]],password:["",[_e.required,_e.minLength(6)]],perfil1:[null]})}redirectToLogin=!0;registrationSuccess=new ct;registerForm;perfil1Loaded=!1;errorMessage="";loading=!1;ngOnDestroy(){console.log("Limpiando imagen")}onFileChange(e,n){let r=e.target.files[0];r?["image/jpeg","image/png","image/gif"].includes(r.type)?(this.registerForm.patchValue({[n]:r}),this.perfil1Loaded=!0):(this.perfil1Loaded=!1,this.errorMessage="Por favor, sube una imagen v\xE1lida (JPEG, PNG o GIF)."):(this.perfil1Loaded=!1,this.errorMessage="La imagen de perfil es requerida.")}onSubmit(){return _(this,null,function*(){this.registerForm.valid&&(console.log(this.registerForm.value),this.loading=!0,zu(this.auth,this.registerForm.value.email,this.registerForm.value.password).then(e=>_(this,null,function*(){let n=e.user;console.log("Usuario creado:",n);try{yield Gu(n),console.log("Correo de verificaci\xF3n enviado")}catch(i){console.error("Error al enviar el correo de verificaci\xF3n:",i)}let r=yield this.imagesService.uploadImage(this.registerForm.value.perfil1);try{yield this.logUser(r),console.log("Correo de verificaci\xF3n enviado"),zD.default.fire({icon:"success",title:"\xA1Registro exitoso!",text:"Por favor, verifica tu correo electr\xF3nico para continuar."}).then(()=>{this.redirectToLogin?this.router.navigate(["/login"]):(console.log("Usuario registrado desde el panel de administrador"),this.registerForm.reset(),this.registerForm.patchValue({perfil1:null}),this.registrationSuccess.emit())})}catch(i){console.error("Error al crear el usuario",i),zD.default.fire({icon:"error",title:"Error al crear el usuario",text:"Por favor, intenta de nuevo."})}})).catch(e=>{switch(e.code){case"auth/email-already-in-use":this.errorMessage="El email ya est\xE1 en uso";break;case"auth/invalid-email":this.errorMessage="El email no es v\xE1lido";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres";break;default:this.errorMessage="Error al registrar el usuario";break}this.loading=!1}).finally(()=>{this.loading=!1}))})}logUser(e){return _(this,null,function*(){let n=qt(this.firestore,"admins"),r={nombre:this.registerForm.value.nombre.toLowerCase(),apellido:this.registerForm.value.apellido.toLowerCase(),edad:this.registerForm.value.edad,dni:this.registerForm.value.dni,email:this.registerForm.value.email,perfil1:e,fechaRegistro:Nt.now(),isAdmin:!0};try{yield Ia(n,r)}catch(i){console.error("Error al crear el usuario:",i)}})}static \u0275fac=function(n){return new(n||t)(Y(po),Y(Vr),Y(Ht),Y(or),Y(La))};static \u0275cmp=Ze({type:t,selectors:[["app-admin-form"]],inputs:{redirectToLogin:"redirectToLogin"},outputs:{registrationSuccess:"registrationSuccess"},standalone:!0,features:[Je],decls:45,vars:12,consts:[[1,"container","mt-5"],[1,"text-center"],[1,"container-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","required","",1,"form-control"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","required","",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["for","perfil1",1,"form-label"],["type","file","id","perfil1","accept","image/*",1,"form-control",3,"change"],["class","text-success",4,"ngIf"],[1,"text-danger"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","text-center mt-3",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],[1,"text-success"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(n,r){if(n&1&&(C(0,"div",0)(1,"h2",1),D(2,"Registro Administrador"),b(),C(3,"form",2),le("ngSubmit",function(){return r.onSubmit()}),C(4,"div",3)(5,"label",4),D(6,"Nombre"),b(),re(7,"input",5),te(8,Tie,2,0,"div",6),b(),C(9,"div",3)(10,"label",7),D(11,"Apellido"),b(),re(12,"input",8),te(13,Aie,2,0,"div",6),b(),C(14,"div",3)(15,"label",9),D(16,"Edad"),b(),re(17,"input",10),te(18,Die,2,0,"div",6),b(),C(19,"div",3)(20,"label",11),D(21,"DNI"),b(),re(22,"input",12),te(23,Rie,2,0,"div",6),b(),C(24,"div",3)(25,"label",13),D(26,"Email"),b(),re(27,"input",14),te(28,Mie,2,0,"div",6),b(),C(29,"div",3)(30,"label",15),D(31,"Contrase\xF1a"),b(),re(32,"input",16),te(33,Pie,2,0,"div",6),b(),C(34,"div",3)(35,"label",17),D(36,"Imagen de Perfil"),b(),C(37,"input",18),le("change",function(o){return r.onFileChange(o,"perfil1")}),b(),te(38,Nie,2,0,"div",19),b(),C(39,"div",20),te(40,kie,2,0,"div",21),b(),C(41,"button",22),D(42," Registrarse "),b(),te(43,Oie,4,0,"div",23)(44,Fie,2,1,"div",24),b()()),n&2){let i,o,s,a,c,l;O(3),q("formGroup",r.registerForm),O(5),q("ngIf",((i=r.registerForm.get("nombre"))==null?null:i.invalid)&&((i=r.registerForm.get("nombre"))==null?null:i.touched)),O(5),q("ngIf",((o=r.registerForm.get("apellido"))==null?null:o.invalid)&&((o=r.registerForm.get("apellido"))==null?null:o.touched)),O(5),q("ngIf",((s=r.registerForm.get("edad"))==null?null:s.invalid)&&((s=r.registerForm.get("edad"))==null?null:s.touched)),O(5),q("ngIf",((a=r.registerForm.get("dni"))==null?null:a.invalid)&&((a=r.registerForm.get("dni"))==null?null:a.touched)),O(5),q("ngIf",((c=r.registerForm.get("email"))==null?null:c.invalid)&&((c=r.registerForm.get("email"))==null?null:c.touched)),O(5),q("ngIf",((l=r.registerForm.get("password"))==null?null:l.invalid)&&((l=r.registerForm.get("password"))==null?null:l.touched)),O(5),q("ngIf",r.perfil1Loaded),O(2),q("ngIf",!r.perfil1Loaded),O(),q("disabled",!r.registerForm.valid||!r.perfil1Loaded),O(2),q("ngIf",r.loading),O(),q("ngIf",r.errorMessage)}},dependencies:[li,ai,$n,Pc,Hn,si,Jo,ci,Ni,$t,Dt],styles:[".container-form[_ngcontent-%COMP%]{background-color:#fff;padding:30px;margin-bottom:20px;border-radius:10px;box-shadow:0 4px 8px #0000001a}"]})};var No=class t{constructor(e){this.firestore=e}getPacientes(){let e=qt(this.firestore,"pacientes"),n=jr(e,E_("fechaRegistro","asc"));return el(n,{idField:"id"})}getEspecialistas(){let e=qt(this.firestore,"especialistas"),n=jr(e,E_("fechaRegistro","asc"));return el(n,{idField:"id"})}getAdmins(){let e=qt(this.firestore,"admins"),n=jr(e,E_("fechaRegistro","asc"));return el(n,{idField:"id"})}getEspecialistasPorEspecialidad(e){let n=qt(this.firestore,"especialistas"),r=jr(n,So("especialidades","array-contains",e));return el(r,{idField:"id"})}getTurnos(e){let n=qt(this.firestore,"turnos"),r=jr(n,So("paciente.email","==",e));return el(r,{idField:"id"})}getTurnosEspecialista(e){let n=qt(this.firestore,"turnos"),r=jr(n,So("especialista.email","==",e));return el(r,{idField:"id"})}updateEstadoTurno(e,n){let r=ep(this.firestore,"turnos",e);return tl(r,{estado:n})}cancelarTurno(e,n){let r=ep(this.firestore,"turnos",e);return tl(r,{estado:"cancelado",comentario:n})}static \u0275fac=function(n){return new(n||t)(Pe(Ht))};static \u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})};var Lie=(t,e)=>({"bg-success":t,"bg-danger":e}),Vie=(t,e)=>({"btn-danger":t,"btn-success":e});function Bie(t,e){if(t&1&&(C(0,"tr")(1,"td"),D(2),b(),C(3,"td"),D(4),b(),C(5,"td"),D(6),b(),C(7,"td"),D(8),b(),C(9,"td"),D(10),b(),C(11,"td"),D(12),b(),C(13,"td"),re(14,"img",28),b()()),t&2){let n=e.$implicit;O(2),nt(n.nombre),O(2),nt(n.apellido),O(2),nt(n.email),O(2),nt(n.dni),O(2),nt(n.edad),O(2),nt(n.obraSocial),O(2),q("src",n.perfil1,rr)}}function Uie(t,e){if(t&1){let n=vt();kf(0),C(1,"app-pacient-form",29),le("registrationSuccess",function(){lt(n);let i=pe();return ut(i.handleRegistrationSuccess())}),b(),Of()}if(t&2){let n=pe();O(),q("redirectToLogin",n.redirectToLogin)}}function jie(t,e){if(t&1){let n=vt();kf(0),C(1,"app-specialist-form",29),le("registrationSuccess",function(){lt(n);let i=pe();return ut(i.handleRegistrationSuccess())}),b(),Of()}if(t&2){let n=pe();O(),q("redirectToLogin",n.redirectToLogin)}}function $ie(t,e){if(t&1){let n=vt();kf(0),C(1,"app-admin-form",29),le("registrationSuccess",function(){lt(n);let i=pe();return ut(i.handleRegistrationSuccess())}),b(),Of()}if(t&2){let n=pe();O(),q("redirectToLogin",n.redirectToLogin)}}function Hie(t,e){if(t&1){let n=vt();C(0,"tr")(1,"td"),D(2),b(),C(3,"td"),D(4),b(),C(5,"td"),D(6),b(),C(7,"td"),D(8),b(),C(9,"td"),D(10),b(),C(11,"td")(12,"button",30),le("click",function(){let i=lt(n).$implicit,o=pe();return ut(o.openSpecialtiesModal(i))}),D(13,"Ver Especialidades"),b()(),C(14,"td"),re(15,"img",28),b(),C(16,"td")(17,"span",31),D(18),b()(),C(19,"td")(20,"button",32),le("click",function(){let i=lt(n).$implicit,o=pe();return ut(o.toggleUserAccess(i.id,i.profileValidatedByAdmin))}),D(21),b()()()}if(t&2){let n=e.$implicit;O(2),nt(n.nombre),O(2),nt(n.apellido),O(2),nt(n.email),O(2),nt(n.dni),O(2),nt(n.edad),O(5),q("src",n.perfil1,rr),O(2),q("ngClass",QE(10,Lie,n.profileValidatedByAdmin,!n.profileValidatedByAdmin)),O(),mt(" ",n.profileValidatedByAdmin?"Habilitado":"Deshabilitado"," "),O(2),q("ngClass",QE(13,Vie,n.profileValidatedByAdmin,!n.profileValidatedByAdmin)),O(),mt(" ",n.profileValidatedByAdmin?"Inhabilitar":"Habilitar"," ")}}function qie(t,e){if(t&1&&(C(0,"li"),D(1),b()),t&2){let n=e.$implicit;O(),nt(n)}}function zie(t,e){if(t&1&&(C(0,"div")(1,"h6"),D(2),b(),C(3,"ul"),te(4,qie,2,1,"li",8),b()()),t&2){let n=pe();O(2),Ff("",n.selectedSpecialist.nombre," ",n.selectedSpecialist.apellido,""),O(2),q("ngForOf",n.selectedSpecialist.especialidades)}}function Gie(t,e){if(t&1&&(C(0,"tr")(1,"td"),D(2),b(),C(3,"td"),D(4),b(),C(5,"td"),D(6),b(),C(7,"td"),D(8),b(),C(9,"td"),D(10),b(),C(11,"td"),re(12,"img",28),b()()),t&2){let n=e.$implicit;O(2),nt(n.nombre),O(2),nt(n.apellido),O(2),nt(n.email),O(2),nt(n.dni),O(2),nt(n.edad),O(2),q("src",n.perfil1,rr)}}var lw=class t{constructor(e,n,r){this.firestore=e;this.router=n;this.userService=r}arrPacientes=[];arrEspecialistas=[];arrAdmins=[];subPacientes;subEspecialistas;subAdmins;currentPagePacientes=1;itemsPerPagePacientes=5;currentPageEspecialistas=1;itemsPerPageEspecialistas=10;currentPageAdmins=1;itemsPerPageAdmins=5;selectedUserType=null;redirectToLogin=!1;ngOnInit(){this.currentPagePacientes=1,this.currentPageEspecialistas=1,this.currentPageAdmins=1,this.getUsers()}ngOnDestroy(){this.subPacientes.unsubscribe(),this.subEspecialistas.unsubscribe(),this.subAdmins.unsubscribe()}onPageChangePacientes(e){this.currentPagePacientes=e}onPageChangeEspecialistas(e){this.currentPageEspecialistas=e}onPageChangeAdmins(e){this.currentPageAdmins=e}getUsers(){this.getPacientes(),this.getEspecialistas(),this.getAdmins()}toggleUserAccess(e,n){return _(this,null,function*(){let r=ep(this.firestore,`especialistas/${e}`);try{yield tl(r,{profileValidatedByAdmin:!n})}catch(i){console.error("Error al actualizar el estado del usuario:",i)}})}addUser(){}getPacientes(){this.subPacientes=this.userService.getPacientes().subscribe(e=>{this.arrPacientes=e})}getEspecialistas(){this.subEspecialistas=this.userService.getEspecialistas().subscribe(e=>{this.arrEspecialistas=e})}getAdmins(){this.subAdmins=this.userService.getAdmins().subscribe(e=>{this.arrAdmins=e})}openUserTypeModal(){let e=document.getElementById("userTypeModal");new window.bootstrap.Modal(e).show()}openUserForm(e){this.selectedUserType=e,new window.bootstrap.Modal(document.getElementById("userFormModal")).show()}handleRegistrationSuccess(){let e=document.getElementById("userFormModal");e&&(window.bootstrap.Modal.getInstance(e).hide(),this.selectedUserType=null)}selectedSpecialist;openSpecialtiesModal(e){this.selectedSpecialist=e,new window.bootstrap.Modal(document.getElementById("specialtiesModal")).show()}static \u0275fac=function(n){return new(n||t)(Y(Ht),Y(or),Y(No))};static \u0275cmp=Ze({type:t,selectors:[["app-usuarios"]],standalone:!0,features:[Je],decls:114,vars:7,consts:[[1,"container","mt-4"],[1,"mb-4","text-center"],[1,"text-end","mb-3"],["data-bs-toggle","modal","data-bs-target","#userTypeModal",1,"btn","btn-primary"],[1,"mt-4"],[1,"table-responsive"],[1,"table","table-hover","table-bordered"],[1,"thead-light"],[4,"ngFor","ngForOf"],["id","userTypeModal","tabindex","-1","aria-labelledby","userTypeModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","userTypeModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","text-center"],[1,"btn","btn-primary","m-2",3,"click"],[1,"btn","btn-success","m-2",3,"click"],[1,"btn","btn-warning","m-2",3,"click"],["id","userFormModal","tabindex","-1","aria-labelledby","userFormModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],["id","userFormModalLabel",1,"modal-title"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","specialtiesModal","tabindex","-1","aria-labelledby","specialtiesModalLabel","aria-hidden","true",1,"modal","fade"],["id","specialtiesModalLabel",1,"modal-title"],["alt","Imagen de perfil",1,"img-thumbnail",3,"src"],[3,"registrationSuccess","redirectToLogin"],[1,"btn","btn-info",3,"click"],[1,"badge",3,"ngClass"],[1,"btn",3,"click","ngClass"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"h2",1),D(2,"Secci\xF3n de Usuarios"),b(),C(3,"div",2)(4,"button",3),D(5," Agregar Usuario "),b()(),C(6,"h3",4),D(7,"Pacientes"),b(),C(8,"div",5)(9,"table",6)(10,"thead",7)(11,"tr")(12,"th"),D(13,"Nombre"),b(),C(14,"th"),D(15,"Apellido"),b(),C(16,"th"),D(17,"Email"),b(),C(18,"th"),D(19,"DNI"),b(),C(20,"th"),D(21,"Edad"),b(),C(22,"th"),D(23,"Obra Social"),b(),C(24,"th"),D(25,"Imagen"),b()()(),C(26,"tbody"),te(27,Bie,15,7,"tr",8),b()()(),C(28,"div",9)(29,"div",10)(30,"div",11)(31,"div",12)(32,"h5",13),D(33,"Seleccionar Tipo de Usuario"),b(),re(34,"button",14),b(),C(35,"div",15)(36,"button",16),le("click",function(){return r.openUserForm("paciente")}),D(37,"Crear Paciente"),b(),C(38,"button",17),le("click",function(){return r.openUserForm("especialista")}),D(39,"Crear Especialista"),b(),C(40,"button",18),le("click",function(){return r.openUserForm("administrador")}),D(41,"Crear Administrador"),b()()()()(),C(42,"div",19)(43,"div",20)(44,"div",11)(45,"div",12)(46,"h5",21),D(47,"Agregar Usuario"),b(),re(48,"button",14),b(),C(49,"div",22),te(50,Uie,2,1,"ng-container",23)(51,jie,2,1,"ng-container",23)(52,$ie,2,1,"ng-container",23),b(),C(53,"div",24)(54,"button",25),D(55,"Cerrar"),b()()()()(),C(56,"h3",4),D(57,"Especialistas"),b(),C(58,"div",5)(59,"table",6)(60,"thead",7)(61,"tr")(62,"th"),D(63,"Nombre"),b(),C(64,"th"),D(65,"Apellido"),b(),C(66,"th"),D(67,"Email"),b(),C(68,"th"),D(69,"DNI"),b(),C(70,"th"),D(71,"Edad"),b(),C(72,"th"),D(73,"Especialidades"),b(),C(74,"th"),D(75,"Imagen"),b(),C(76,"th"),D(77,"Estado"),b(),C(78,"th"),D(79,"Acci\xF3n"),b()()(),C(80,"tbody"),te(81,Hie,22,16,"tr",8),b()()(),C(82,"div",26)(83,"div",20)(84,"div",11)(85,"div",12)(86,"h5",27),D(87,"Especialidades"),b(),re(88,"button",14),b(),C(89,"div",22),te(90,zie,5,3,"div",23),b(),C(91,"div",24)(92,"button",25),D(93,"Cerrar"),b()()()()(),C(94,"h3",4),D(95,"Administradores"),b(),C(96,"div",5)(97,"table",6)(98,"thead",7)(99,"tr")(100,"th"),D(101,"Nombre"),b(),C(102,"th"),D(103,"Apellido"),b(),C(104,"th"),D(105,"Email"),b(),C(106,"th"),D(107,"DNI"),b(),C(108,"th"),D(109,"Edad"),b(),C(110,"th"),D(111,"Imagen"),b()()(),C(112,"tbody"),te(113,Gie,13,6,"tr",8),b()()()()),n&2&&(O(27),q("ngForOf",r.arrPacientes),O(23),q("ngIf",r.selectedUserType==="paciente"),O(),q("ngIf",r.selectedUserType==="especialista"),O(),q("ngIf",r.selectedUserType==="administrador"),O(29),q("ngForOf",r.arrEspecialistas),O(9),q("ngIf",r.selectedSpecialist),O(23),q("ngForOf",r.arrAdmins))},dependencies:[$t,vu,jn,Dt,kd,Od,aw],styles:[".container[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:20px;box-shadow:0 2px 10px #0000001a}.table[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-radius:10px;overflow:hidden}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.img-thumbnail[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover}.badge[_ngcontent-%COMP%]{font-size:.9rem;padding:.5em .75em}th[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}thead[_ngcontent-%COMP%]{background-color:#e9ecef}.btn[_ngcontent-%COMP%]{transition:background-color .3s ease;border-radius:5px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333}.btn-success[_ngcontent-%COMP%]{background-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}@media (max-width: 768px){.img-thumbnail[_ngcontent-%COMP%]{width:40px;height:40px}}"]})};var uw=class t{constructor(e){this.firestore=e}setTurno(e){return Ia(qt(this.firestore,"turnos"),e)}static \u0275fac=function(n){return new(n||t)(Pe(Ht))};static \u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})};var fw=()=>({standalone:!0});function Kie(t,e){if(t&1&&(C(0,"option",9),D(1),b()),t&2){let n=e.$implicit;q("value",n),O(),mt(" ",n," ")}}function Qie(t,e){if(t&1&&(C(0,"option",9),D(1),b()),t&2){let n=e.$implicit;q("value",n.id),O(),mt(" ",n.nombre," ")}}function Yie(t,e){if(t&1){let n=vt();C(0,"div",2)(1,"label",10),D(2,"Especialista"),b(),C(3,"select",11),Pr("ngModelChange",function(i){lt(n);let o=pe();return ni(o.selectedEspecialista,i)||(o.selectedEspecialista=i),ut(i)}),le("change",function(){lt(n);let i=pe();return ut(i.onEspecialistaChange())}),C(4,"option",5),D(5,"Seleccione un especialista"),b(),te(6,Qie,2,2,"option",6),b()()}if(t&2){let n=pe();O(3),Mr("ngModel",n.selectedEspecialista),q("ngModelOptions",vc(3,fw)),O(3),q("ngForOf",n.arrEspecialistas)}}function Zie(t,e){if(t&1&&(C(0,"option",9),D(1),ea(2,"date"),b()),t&2){let n=e.$implicit;q("value",n.dia),O(),Ff(" ",n.dia," (",kP(2,3,n.fecha,"dd/MM/yyyy"),") ")}}function Jie(t,e){if(t&1){let n=vt();C(0,"div",2)(1,"label",12),D(2,"D\xEDa"),b(),C(3,"select",13),Pr("ngModelChange",function(i){lt(n);let o=pe();return ni(o.selectedDia,i)||(o.selectedDia=i),ut(i)}),C(4,"option",5),D(5,"Seleccione un d\xEDa"),b(),te(6,Zie,3,6,"option",6),b()()}if(t&2){let n=pe();O(3),Mr("ngModel",n.selectedDia),q("ngModelOptions",vc(3,fw)),O(3),q("ngForOf",n.diasDisponibles)}}function Xie(t,e){if(t&1&&(C(0,"option",9),D(1),b()),t&2){let n=e.$implicit;q("value",n),O(),mt(" ",n," ")}}function eoe(t,e){if(t&1){let n=vt();C(0,"div",2)(1,"label",14),D(2,"Hora"),b(),C(3,"select",15),Pr("ngModelChange",function(i){lt(n);let o=pe();return ni(o.selectedHora,i)||(o.selectedHora=i),ut(i)}),C(4,"option",5),D(5,"Seleccione una hora"),b(),te(6,Xie,2,2,"option",6),b()()}if(t&2){let n=pe();O(3),Mr("ngModel",n.selectedHora),q("ngModelOptions",vc(3,fw)),O(3),q("ngForOf",n.horariosDisponibles)}}var dw=class t{constructor(e,n){this.userService=e;this.turnoService=n}arrEspecialistas=[];especialidades=[];selectedEspecialidad="";selectedEspecialista="";selectedDia="";selectedHora="";diasDeLaSemana=["lunes","martes","miercoles","jueves","viernes"];disponibilidadDias={};horariosDisponibles=[];diasDisponibles=[];fechaLimite=new Date;fechaMaxima=new Date(this.fechaLimite.getTime()+15*24*60*60*1e3);ngOnInit(){this.loadEspecialidades()}loadEspecialidades(){this.userService.getEspecialistas().subscribe(e=>{let n=new Set;for(let r of e)r.especialidades&&r.especialidades.forEach(i=>{n.add(i)});this.especialidades=Array.from(n)})}onEspecialidadChange(){this.selectedEspecialidad?this.userService.getEspecialistasPorEspecialidad(this.selectedEspecialidad).subscribe(e=>{this.arrEspecialistas=e}):this.arrEspecialistas=[]}onEspecialistaChange(){if(this.selectedEspecialista){let e=this.arrEspecialistas.find(n=>n.id===this.selectedEspecialista);if(e?.disponibilidades){let n=e?.disponibilidades.find(r=>r.especialidad===this.selectedEspecialidad);n?(this.disponibilidadDias=n.diasDisponibles,this.diasDisponibles=this.getDiasDisponibles(this.disponibilidadDias),this.generateHorarios(n.horaInicio,n.horaFin)):this.resetDisponibilidad()}else this.resetDisponibilidad()}else this.resetDisponibilidad()}resetDisponibilidad(){this.disponibilidadDias={},this.diasDisponibles=[],this.horariosDisponibles=[]}getDiasDisponibles(e){let n=[],r=new Date,i=this.fechaMaxima;return this.diasDeLaSemana.forEach(o=>{if(e[o]){let s=this.obtenerFechaParaDia(o,r);for(;s<=i;)s>=r&&s<=i&&n.push({dia:o,fecha:new Date(s)}),s.setDate(s.getDate()+7)}}),n}obtenerFechaParaDia(e,n){let i=["domingo","lunes","martes","miercoles","jueves","viernes","sabado"].indexOf(e),o=new Date(n);return o.setDate(n.getDate()+(i-n.getDay()+7)%7),o.setHours(0,0,0,0),o}generateHorarios(e,n){let r=[],i=this.timeToMinutes(e),o=this.timeToMinutes(n),s=30;for(let a=i;a<=o;a+=s)r.push(this.minutesToTime(a));this.horariosDisponibles=r}timeToMinutes(e){let[n,r]=e.split(":").map(Number);return n*60+r}minutesToTime(e){let n=Math.floor(e/60),r=e%60;return`${this.padZero(n)}:${this.padZero(r)}`}padZero(e){return e<10?`0${e}`:`${e}`}enviarTurno(){if(this.selectedEspecialidad&&this.selectedEspecialista&&this.selectedDia&&this.selectedHora){let e=localStorage.getItem("user"),n="",r={};if(e){let a=JSON.parse(e);n=a.email,r.nombre=a.nombre,r.apellido=a.apellido,r.email=a.email}let i=this.arrEspecialistas.find(a=>a.id===this.selectedEspecialista),o={nombre:i.nombre,apellido:i.apellido,email:i.email,id:i.id},s={especialidad:this.selectedEspecialidad,especialista:o,dia:this.selectedDia,hora:this.selectedHora,paciente:r,estado:"pendiente"};console.log("Turno enviado:",s),this.turnoService.setTurno(s).then(()=>{console.log("Turno guardado correctamente")}).catch(a=>{console.error("Error al guardar el turno:",a)})}}static \u0275fac=function(n){return new(n||t)(Y(No),Y(uw))};static \u0275cmp=Ze({type:t,selectors:[["app-solicitar-turno"]],standalone:!0,features:[Je],decls:16,vars:8,consts:[[1,"form-container"],[1,"mb-3"],[1,"form-group","mb-3"],["for","especialidad"],["id","especialidad","name","especialidad",1,"form-control",3,"ngModelChange","change","ngModel","ngModelOptions"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","form-group mb-3",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[3,"value"],["for","especialista"],["id","especialista","name","especialista",1,"form-control",3,"ngModelChange","change","ngModel","ngModelOptions"],["for","dia"],["id","dia","name","dia",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["for","hora"],["id","hora","name","hora",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"form")(2,"h2",1),D(3,"Solicitar Turno"),b(),C(4,"div",2)(5,"label",3),D(6,"Especialidad"),b(),C(7,"select",4),Pr("ngModelChange",function(o){return ni(r.selectedEspecialidad,o)||(r.selectedEspecialidad=o),o}),le("change",function(){return r.onEspecialidadChange()}),C(8,"option",5),D(9,"Seleccione una especialidad"),b(),te(10,Kie,2,2,"option",6),b()(),te(11,Yie,7,4,"div",7)(12,Jie,7,4,"div",7)(13,eoe,7,4,"div",7),C(14,"button",8),le("click",function(){return r.enviarTurno()}),D(15," Enviar "),b()()()),n&2&&(O(7),Mr("ngModel",r.selectedEspecialidad),q("ngModelOptions",vc(7,fw)),O(3),q("ngForOf",r.especialidades),O(),q("ngIf",r.arrEspecialistas.length>0),O(),q("ngIf",r.diasDisponibles.length>0),O(),q("ngIf",r.horariosDisponibles.length>0),O(),q("disabled",!r.selectedEspecialidad||!r.selectedEspecialista||!r.selectedDia||!r.selectedHora))},dependencies:[Fu,ai,ku,Ou,aa,Hn,si,Mc,dI,Dt,jn,aN],styles:[".form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:50px;min-height:50vh}form[_ngcontent-%COMP%]{background-color:#fff;padding:30px;border-radius:8px;box-shadow:0 4px 10px #0000001a;width:100%;max-width:600px}h2[_ngcontent-%COMP%]{text-align:center;font-size:26px;margin-bottom:20px;color:#4b87d9}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#333}select.form-control[_ngcontent-%COMP%]{height:45px;font-size:16px;border-radius:8px;border:1px solid #ccc;background-color:#f9f9f9;padding:10px}select.form-control[_ngcontent-%COMP%]:focus{border-color:#4b87d9;box-shadow:0 0 5px #4b87d980;background-color:#fff}button[type=button][_ngcontent-%COMP%]{width:100%;height:45px;font-size:18px;background-color:#4b87d9;color:#fff;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s ease}button[type=button][_ngcontent-%COMP%]:hover{background-color:#3568b4}button[type=button][_ngcontent-%COMP%]:disabled{background-color:silver;cursor:not-allowed}@media (max-width: 576px){.form-container[_ngcontent-%COMP%], form[_ngcontent-%COMP%]{padding:15px}button[type=button][_ngcontent-%COMP%]{font-size:16px;height:40px}select.form-control[_ngcontent-%COMP%]{font-size:14px}}"]})};var toe=(t,e,n,r)=>({"text-success":t,"text-primary":e,"text-warning":n,"text-danger":r});function noe(t,e){t&1&&(C(0,"div",24),D(1," No tienes turnos agendados. "),b())}function roe(t,e){if(t&1){let n=vt();C(0,"div",29)(1,"button",30),le("click",function(){lt(n);let i=pe().$implicit,o=pe();return ut(o.cancelarTurno(i.id))}),re(2,"i",31),D(3," Cancelar Turno "),b()()}}function ioe(t,e){if(t&1){let n=vt();C(0,"div",32)(1,"button",33),le("click",function(){lt(n);let i=pe().$implicit,o=pe();return ut(o.verResena(i.id))}),re(2,"i",34),D(3," Ver Rese\xF1a "),b()()}}function ooe(t,e){if(t&1){let n=vt();C(0,"div",32)(1,"button",35),le("click",function(){lt(n);let i=pe().$implicit,o=pe();return ut(o.completarEncuesta(i.id))}),re(2,"i",36),D(3," Completar Encuesta "),b()()}}function soe(t,e){if(t&1){let n=vt();C(0,"div",32)(1,"button",37),le("click",function(){lt(n);let i=pe().$implicit,o=pe();return ut(o.calificarAtencion(i.id))}),re(2,"i",38),D(3," Calificar Atenci\xF3n "),b()()}}function aoe(t,e){if(t&1&&(C(0,"li",25)(1,"h5"),D(2),b(),C(3,"p")(4,"strong"),D(5,"Fecha:"),b(),D(6),C(7,"strong"),D(8,"Hora:"),b(),D(9),b(),C(10,"p")(11,"strong"),D(12,"Estado:"),b(),C(13,"span",26),D(14),ea(15,"uppercase"),b()(),te(16,roe,4,0,"div",27)(17,ioe,4,0,"div",28)(18,ooe,4,0,"div",28)(19,soe,4,0,"div",28),b()),t&2){let n=e.$implicit;O(2),Lf("",n.especialidad," - ",n.especialista.nombre," ",n.especialista.apellido,""),O(4),mt(" ",n.dia," | "),O(3),mt(" ",n.hora,""),O(4),q("ngClass",MP(13,toe,n.estado==="realizado",n.estado==="aceptado",n.estado==="pendiente",n.estado==="cancelado")),O(),mt(" ",mu(15,11,n.estado)," "),O(2),q("ngIf",n.estado!=="realizado"&&n.estado!=="cancelado"),O(),q("ngIf",n.resenia||n.comentario),O(),q("ngIf",n.estado==="realizado"&&n.comentario),O(),q("ngIf",n.estado==="realizado")}}var hw=class t{constructor(e){this.userService=e}modal;turnos=[];turnosFiltrados=[];filtroEspecialidad="";filtroEspecialista="";turnoSeleccionadoId="";comentarioCancelacion="";comentarioPacienteSeleccionado="";ngOnInit(){let e=localStorage.getItem("user");if(e){let n=JSON.parse(e);this.userService.getTurnos(n.email).subscribe(r=>{this.turnos=r,this.turnosFiltrados=r,console.log("Turnos",this.turnos)})}}filtrarTurnos(){this.turnosFiltrados=this.turnos.filter(e=>{let n=e.especialidad.toLowerCase().includes(this.filtroEspecialidad.toLowerCase()),r=e.especialista.nombre.toLowerCase().includes(this.filtroEspecialista.toLowerCase())||e.especialista.apellido.toLowerCase().includes(this.filtroEspecialista.toLowerCase());return n&&r})}cancelarTurno(e){this.turnoSeleccionadoId=e;let n=document.getElementById("cancelarTurnoModal");this.modal=new window.bootstrap.Modal(n),this.modal.show()}confirmarCancelacion(){console.log("Cancelar turno",this.turnoSeleccionadoId,"Comentario:",this.comentarioCancelacion),this.userService.cancelarTurno(this.turnoSeleccionadoId,this.comentarioCancelacion).then(()=>{console.log("Turno cancelado")}).catch(e=>{console.error("Error al cancelar turno",e)}),this.modal.hide(),this.comentarioCancelacion=""}completarEncuesta(e){console.log("Completar encuesta",e)}calificarAtencion(e){console.log("Calificar atenci\xF3n",e)}verResena(e){console.log("Ver rese\xF1a",e);let n=this.turnos.find(r=>r.id===e);if(n){this.comentarioPacienteSeleccionado=n.comentario,console.log("Rese\xF1a:",n.comentario);let r=document.getElementById("verComentarioModal");new window.bootstrap.Modal(r).show()}}static \u0275fac=function(n){return new(n||t)(Y(No))};static \u0275cmp=Ze({type:t,selectors:[["app-turnos-paciente"]],standalone:!0,features:[Je],decls:46,vars:6,consts:[[1,"container","mt-5"],[1,"row","mb-4"],[1,"col-12","col-md-6","mb-3","mb-md-0"],["for","especialidadFiltro",1,"form-label"],["id","especialidadFiltro","type","text","placeholder","Ej: Cardiolog\xEDa",1,"form-control","form-control-sm",3,"ngModelChange","input","ngModel"],["for","especialistaFiltro",1,"form-label"],["id","especialistaFiltro","type","text","placeholder","Ej: Dr. Juan P\xE9rez",1,"form-control","form-control-sm",3,"ngModelChange","input","ngModel"],["class","alert alert-warning",4,"ngIf"],[1,"list-group"],["class","list-group-item mb-3",4,"ngFor","ngForOf"],["id","cancelarTurnoModal","tabindex","-1","aria-labelledby","cancelarTurnoModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","cancelarTurnoModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["for","comentarioCancelacion"],["id","comentarioCancelacion","rows","3","placeholder","Escribe el motivo de la cancelaci\xF3n...",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],["id","verComentarioModal","tabindex","-1","aria-labelledby","verResenaModalLabel","aria-hidden","true",1,"modal","fade"],["id","verResenaModalLabel",1,"modal-title"],[1,"alert","alert-warning"],[1,"list-group-item","mb-3"],[3,"ngClass"],["class","btn-group mb-2",4,"ngIf"],["class","btn-group boton mb-2",4,"ngIf"],[1,"btn-group","mb-2"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-x-circle"],[1,"btn-group","boton","mb-2"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"bi","bi-eye"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"bi","bi-pencil-square"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"bi","bi-star"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"h3"),D(2,"Mis Turnos"),b(),C(3,"div",1)(4,"div",2)(5,"label",3),D(6,"Filtrar por Especialidad"),b(),C(7,"input",4),Pr("ngModelChange",function(o){return ni(r.filtroEspecialidad,o)||(r.filtroEspecialidad=o),o}),le("input",function(){return r.filtrarTurnos()}),b()(),C(8,"div",2)(9,"label",5),D(10,"Filtrar por Especialista"),b(),C(11,"input",6),Pr("ngModelChange",function(o){return ni(r.filtroEspecialista,o)||(r.filtroEspecialista=o),o}),le("input",function(){return r.filtrarTurnos()}),b()()(),te(12,noe,2,0,"div",7),C(13,"ul",8),te(14,aoe,20,18,"li",9),b()(),C(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"h5",14),D(20,"Cancelar Turno"),b(),re(21,"button",15),b(),C(22,"div",16)(23,"label",17),D(24,"Comentario de cancelaci\xF3n:"),b(),C(25,"textarea",18),Pr("ngModelChange",function(o){return ni(r.comentarioCancelacion,o)||(r.comentarioCancelacion=o),o}),b()(),C(26,"div",19)(27,"button",20),D(28,"Cerrar"),b(),C(29,"button",21),le("click",function(){return r.confirmarCancelacion()}),D(30,"Confirmar Cancelaci\xF3n"),b()()()()(),C(31,"div",22)(32,"div",11)(33,"div",12)(34,"div",13)(35,"h5",23),D(36,"Rese\xF1a del Turno"),b(),re(37,"button",15),b(),C(38,"div",16)(39,"p")(40,"strong"),D(41,"Comentario:"),b(),D(42),b()(),C(43,"div",19)(44,"button",20),D(45,"Cerrar"),b()()()()()),n&2&&(O(7),Mr("ngModel",r.filtroEspecialidad),O(4),Mr("ngModel",r.filtroEspecialista),O(),q("ngIf",r.turnosFiltrados.length===0),O(2),q("ngForOf",r.turnosFiltrados),O(11),Mr("ngModel",r.comentarioCancelacion),O(17),mt(" ",r.comentarioPacienteSeleccionado,""))},dependencies:[$t,vu,jn,Dt,_y,Fu,$n,Hn,Mc],styles:[".boton[_ngcontent-%COMP%]{margin-left:10px}"]})};var coe=(t,e,n,r,i)=>({"text-success":t,"text-warning":e,"text-danger":n,"text-primary":r,"text-secondary":i});function loe(t,e){t&1&&(C(0,"div",10),D(1," No tienes turnos asignados. "),b())}function uoe(t,e){if(t&1){let n=vt();C(0,"div",14)(1,"button",15),le("click",function(){lt(n);let i=pe().$implicit,o=pe();return ut(o.cancelarTurno(i.id))}),re(2,"i",16),D(3," Cancelar Turno "),b()()}}function doe(t,e){if(t&1){let n=vt();C(0,"div",14)(1,"button",17),le("click",function(){lt(n);let i=pe().$implicit,o=pe();return ut(o.rechazarTurno(i.id))}),re(2,"i",16),D(3," Rechazar Turno "),b()()}}function foe(t,e){if(t&1){let n=vt();C(0,"div",14)(1,"button",18),le("click",function(){lt(n);let i=pe().$implicit,o=pe();return ut(o.aceptarTurno(i.id))}),re(2,"i",19),D(3," Aceptar Turno "),b()()}}function hoe(t,e){if(t&1){let n=vt();C(0,"div",14)(1,"button",20),le("click",function(){lt(n);let i=pe().$implicit,o=pe();return ut(o.finalizarTurno(i.id))}),re(2,"i",21),D(3," Finalizar Turno "),b()()}}function poe(t,e){if(t&1){let n=vt();C(0,"div",14)(1,"button",22),le("click",function(){lt(n);let i=pe().$implicit,o=pe();return ut(o.verResena(i.id))}),re(2,"i",23),D(3," Ver Rese\xF1a "),b()()}}function moe(t,e){if(t&1&&(C(0,"li",11)(1,"h5"),D(2),b(),C(3,"p")(4,"strong"),D(5,"Fecha:"),b(),D(6),C(7,"strong"),D(8,"Hora:"),b(),D(9),b(),C(10,"p")(11,"strong"),D(12,"Estado:"),b(),C(13,"span",12),D(14),ea(15,"uppercase"),b()(),te(16,uoe,4,0,"div",13)(17,doe,4,0,"div",13)(18,foe,4,0,"div",13)(19,hoe,4,0,"div",13)(20,poe,4,0,"div",13),b()),t&2){let n=e.$implicit;O(2),Lf("",n.especialidad," - ",n.paciente.nombre," ",n.paciente.apellido,""),O(4),mt(" ",n.dia," | "),O(3),mt(" ",n.hora,""),O(4),q("ngClass",PP(14,coe,n.estado==="realizado",n.estado==="pendiente",n.estado==="cancelado",n.estado==="aceptado",n.estado==="rechazado")),O(),mt(" ",mu(15,12,n.estado)," "),O(2),q("ngIf",n.estado==="pendiente"),O(),q("ngIf",n.estado==="pendiente"),O(),q("ngIf",n.estado==="pendiente"),O(),q("ngIf",n.estado==="aceptado"),O(),q("ngIf",n.resenia)}}var pw=class t{constructor(e){this.userService=e}turnos=[];turnosFiltrados=[];filtroEspecialidad="";filtroPaciente="";ngOnInit(){let e=localStorage.getItem("user");if(e){let n=JSON.parse(e);this.userService.getTurnosEspecialista(n.email).subscribe(r=>{this.turnos=r,this.turnosFiltrados=[...r]})}}filtrarTurnos(){this.turnosFiltrados=this.turnos.filter(e=>(this.filtroEspecialidad?e.especialidad.toLowerCase().includes(this.filtroEspecialidad.toLowerCase()):!0)&&(this.filtroPaciente?`${e.paciente.nombre} ${e.paciente.apellido}`.toLowerCase().includes(this.filtroPaciente.toLowerCase()):!0))}cancelarTurno(e){console.log("Cancelar turno",e)}rechazarTurno(e){console.log("Rechazar turno",e)}aceptarTurno(e){console.log("Aceptar turno",e),this.userService.updateEstadoTurno(e,"aceptado").then(()=>{console.log("Turno aceptado")}).catch(n=>{console.error("Error al aceptar turno",n)})}finalizarTurno(e){console.log("Finalizar turno",e)}verResena(e){console.log("Ver rese\xF1a para el turno",e)}static \u0275fac=function(n){return new(n||t)(Y(No))};static \u0275cmp=Ze({type:t,selectors:[["app-turnos-especialista"]],standalone:!0,features:[Je],decls:15,vars:4,consts:[[1,"container","mt-5"],[1,"row","mb-4"],[1,"col-12","col-md-6","mb-3","mb-md-0"],["for","especialidadFiltro",1,"form-label"],["id","especialidadFiltro","type","text","placeholder","Ej: Cardiolog\xEDa",1,"form-control","form-control-sm",3,"ngModelChange","input","ngModel"],["for","pacienteFiltro",1,"form-label"],["id","pacienteFiltro","type","text","placeholder","Ej: Juan P\xE9rez",1,"form-control","form-control-sm",3,"ngModelChange","input","ngModel"],["class","alert alert-warning",4,"ngIf"],[1,"list-group"],["class","list-group-item mb-3",4,"ngFor","ngForOf"],[1,"alert","alert-warning"],[1,"list-group-item","mb-3"],[3,"ngClass"],["class","btn-group",4,"ngIf"],[1,"btn-group"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-x-circle"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"bi","bi-check-circle"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"bi","bi-pencil-square"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"bi","bi-eye"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"h3"),D(2,"Mis Turnos - Especialista"),b(),C(3,"div",1)(4,"div",2)(5,"label",3),D(6,"Filtrar por Especialidad"),b(),C(7,"input",4),Pr("ngModelChange",function(o){return ni(r.filtroEspecialidad,o)||(r.filtroEspecialidad=o),o}),le("input",function(){return r.filtrarTurnos()}),b()(),C(8,"div",2)(9,"label",5),D(10,"Filtrar por Paciente"),b(),C(11,"input",6),Pr("ngModelChange",function(o){return ni(r.filtroPaciente,o)||(r.filtroPaciente=o),o}),le("input",function(){return r.filtrarTurnos()}),b()()(),te(12,loe,2,0,"div",7),C(13,"ul",8),te(14,moe,21,20,"li",9),b()()),n&2&&(O(7),Mr("ngModel",r.filtroEspecialidad),O(4),Mr("ngModel",r.filtroPaciente),O(),q("ngIf",r.turnos.length===0),O(2),q("ngForOf",r.turnosFiltrados))},dependencies:[Fu,$n,Hn,Mc,$t,vu,jn,Dt,_y],styles:[".btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:10px}.list-group-item[_ngcontent-%COMP%]{margin-bottom:15px;border-radius:8px}.list-group-item[_ngcontent-%COMP%]{background-color:#f9f9f9;border:1px solid #ddd}@media (max-width: 767px){.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin-bottom:5px}}"]})};function goe(t,e){t&1&&re(0,"app-turnos-paciente")}function yoe(t,e){t&1&&re(0,"app-turnos-especialista")}var mw=class t{isPaciente=!1;constructor(){}ngOnInit(){let e=localStorage.getItem("user");if(e){let n=JSON.parse(e);this.isPaciente=!!n.obraSocial}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ze({type:t,selectors:[["app-mis-turnos"]],standalone:!0,features:[Je],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(n,r){n&1&&te(0,goe,1,0,"app-turnos-paciente",0)(1,yoe,1,0,"app-turnos-especialista",0),n&2&&(q("ngIf",r.isPaciente),O(),q("ngIf",!r.isPaciente))},dependencies:[hw,$t,Dt,pw]})};var N$=[{path:"home",title:"Home",component:Vy},{path:"",redirectTo:"home",pathMatch:"full"},{path:"register",title:"Register",component:rw},{path:"login",title:"Login",component:iw},{path:"perfil",title:"Perfil",component:sw},{path:"usuarios",title:"Usuarios",component:lw},{path:"solicitar-turno",title:"Solicitar Turno",component:dw},{path:"mis-turnos",title:"Mis Turnos",component:mw}];var k$={projectId:"clinica-online-9aa96",appId:"1:439052174571:web:1456e09cacc106cf1eaaae",storageBucket:"clinica-online-9aa96.appspot.com",apiKey:"AIzaSyDrTHnOp6JR1tvhpz6Hqs-9BhY1HCwesRY",authDomain:"clinica-online-9aa96.firebaseapp.com",messagingSenderId:"439052174571"};var O$={providers:[$P({eventCoalescing:!0}),ek(N$),cO(()=>lO(k$)),oF(()=>sF()),cL(()=>lL())]};function voe(t,e){t&1&&(C(0,"li",6)(1,"a",9),D(2,"Iniciar Sesi\xF3n"),b()())}function _oe(t,e){t&1&&(C(0,"li",6)(1,"a",10),D(2,"Registrarse"),b()())}function woe(t,e){t&1&&(C(0,"li",6)(1,"a",11),D(2,"Solicitar turno"),b()())}function boe(t,e){t&1&&(C(0,"li",6)(1,"a",12),D(2,"Perfil"),b()())}function Eoe(t,e){t&1&&(C(0,"li",6)(1,"a",13),D(2,"Usuarios"),b()())}function Coe(t,e){t&1&&(C(0,"li",6)(1,"a",14),D(2,"Mis turnos"),b()())}function Ioe(t,e){if(t&1){let n=vt();C(0,"li",6)(1,"button",15),le("click",function(){lt(n);let i=pe();return ut(i.logout())}),D(2,"Cerrar Sesi\xF3n"),b()()}}var gw=class t{constructor(e,n){this.authService=e;this.router=n;this.authService.user$.subscribe(r=>{if(this.userInLocalStorage=r,this.userInLocalStorage){let i=this.authService.getUser();i&&(i.isAdmin?this.isAdmin=!0:this.isAdmin=!1,i.especialidades&&(this.isSpecialist=!0))}})}userInLocalStorage=!1;isAdmin=!1;isSpecialist=!1;logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||t)(Y(Fd),Y(or))};static \u0275cmp=Ze({type:t,selectors:[["app-navbar"]],standalone:!0,features:[Je],decls:16,vars:7,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item","me-3"],["aria-current","page","routerLink","home",1,"nav-link","active","hover-effect"],["class","nav-item me-3",4,"ngIf"],["routerLink","login",1,"nav-link","hover-effect"],["routerLink","register",1,"nav-link","hover-effect"],["routerLink","solicitar-turno",1,"nav-link","hover-effect"],["routerLink","perfil",1,"nav-link","hover-effect"],["routerLink","usuarios",1,"nav-link","hover-effect"],["routerLink","mis-turnos",1,"nav-link","hover-effect"],[1,"btn","btn-danger",3,"click"]],template:function(n,r){n&1&&(C(0,"nav",0)(1,"div",1)(2,"button",2),re(3,"span",3),b(),C(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),D(8,"Inicio"),b()(),te(9,voe,3,0,"li",8)(10,_oe,3,0,"li",8)(11,woe,3,0,"li",8)(12,boe,3,0,"li",8)(13,Eoe,3,0,"li",8)(14,Coe,3,0,"li",8)(15,Ioe,3,0,"li",8),b()()()()),n&2&&(O(9),q("ngIf",!r.userInLocalStorage),O(),q("ngIf",!r.userInLocalStorage),O(),q("ngIf",r.userInLocalStorage),O(),q("ngIf",r.userInLocalStorage),O(),q("ngIf",r.userInLocalStorage&&r.isAdmin),O(),q("ngIf",r.userInLocalStorage&&!r.isAdmin),O(),q("ngIf",r.userInLocalStorage))},dependencies:[XN,Dt],styles:[".hover-effect[_ngcontent-%COMP%]{transition:box-shadow .3s ease,background-color .3s ease}.hover-effect[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0003;background-color:#007bff1a;border-radius:10px}"]})};var yw=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ze({type:t,selectors:[["app-footer"]],standalone:!0,features:[Je],decls:5,vars:0,consts:[[1,"nav","justify-content-center","flex-wrap"],[1,"nav-item"],["href","#",1,"nav-link"]],template:function(n,r){n&1&&(C(0,"footer")(1,"ul",0)(2,"li",1)(3,"a",2),D(4,"Repositorio de Github"),b()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;text-align:center;position:relative;bottom:0;width:100%}.nav[_ngcontent-%COMP%]{flex-wrap:wrap}.nav-link[_ngcontent-%COMP%]{margin:5px}"]})};var vw=class t{title="clinica-online";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ze({type:t,selectors:[["app-root"]],standalone:!0,features:[Je],decls:4,vars:0,consts:[[1,"app-container"]],template:function(n,r){n&1&&(re(0,"app-navbar"),C(1,"div",0),re(2,"router-outlet"),b(),re(3,"app-footer"))},dependencies:[KC,gw,yw],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}.app-container[_ngcontent-%COMP%]{min-height:calc(100vh - 152px);display:flex;flex-direction:column;background:url("./media/fondo-clinica-RSVOCLWJ.jpg") no-repeat center center;background-size:cover}app-footer[_ngcontent-%COMP%]{flex-shrink:0}']})};gN(vw,O$).catch(t=>console.error(t));
